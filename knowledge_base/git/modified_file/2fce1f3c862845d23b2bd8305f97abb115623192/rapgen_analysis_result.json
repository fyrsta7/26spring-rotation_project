{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/2fce1f3c862845d23b2bd8305f97abb115623192",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/2fce1f3c862845d23b2bd8305f97abb115623192/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/2fce1f3c862845d23b2bd8305f97abb115623192/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/2fce1f3c862845d23b2bd8305f97abb115623192/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 701,
          "old_api": "sha1write",
          "new_api": "htonl",
          "old_text": "sha1write(f, array, 256 * sizeof(int))",
          "new_text": "htonl(next - idx)",
          "old_line_content": "\tsha1write(f, array, 256 * sizeof(int));",
          "new_line_content": "\t\tarray[i] = htonl(next - idx);",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "sha1write",
          "new_api": "sha1create",
          "old_text": "sha1write(f, (*c)->sha1, sizeof((*c)->sha1))",
          "new_text": "sha1create(\"%s\", idx_name)",
          "old_line_content": "\t\tsha1write(f, (*c)->sha1, sizeof((*c)->sha1));",
          "new_line_content": "\tf = sha1create(\"%s\", idx_name);",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": "sha1close",
          "new_api": "htonl",
          "old_text": "sha1close(f, NULL, 1)",
          "new_text": "htonl((*c)->offset)",
          "old_line_content": "\tsha1close(f, NULL, 1);",
          "new_line_content": "\t\tunsigned int offset = htonl((*c)->offset);",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": "free",
          "new_api": "sha1write",
          "old_text": "free(idx)",
          "new_text": "sha1write(f, &offset, 4)",
          "old_line_content": "\tfree(idx);",
          "new_line_content": "\t\tsha1write(f, &offset, 4);",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": "die",
          "new_api": "write_index",
          "old_text": "die(\"core git rejected index %s\", idx_name)",
          "new_text": "write_index(idx_name)",
          "old_line_content": "\t\t\tdie(\"core git rejected index %s\", idx_name);",
          "new_line_content": "\t\twrite_index(idx_name);",
          "content_same": false
        },
        {
          "line": 789,
          "old_api": "hashcpy",
          "new_api": "SHA1_Init",
          "old_text": "hashcpy(sha1out, sha1)",
          "new_text": "SHA1_Init(&c)",
          "old_line_content": "\t\thashcpy(sha1out, sha1);",
          "new_line_content": "\tSHA1_Init(&c);",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "insert_object",
          "new_api": "SHA1_Update",
          "old_text": "insert_object(sha1)",
          "new_text": "SHA1_Update(&c, dat, datlen)",
          "old_line_content": "\te = insert_object(sha1);",
          "new_line_content": "\tSHA1_Update(&c, dat, datlen);",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "deflateBound",
          "new_api": "encode_header",
          "old_text": "deflateBound(&s, s.avail_in)",
          "new_text": "encode_header(type, datlen, hdr)",
          "old_line_content": "\ts.avail_out = deflateBound(&s, s.avail_in);",
          "new_line_content": "\t\thdrlen = encode_header(type, datlen, hdr);",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "xmalloc",
          "new_api": "write_or_die",
          "old_text": "xmalloc(s.avail_out)",
          "new_text": "write_or_die(pack_fd, hdr, hdrlen)",
          "old_line_content": "\ts.next_out = out = xmalloc(s.avail_out);",
          "new_line_content": "\t\twrite_or_die(pack_fd, hdr, hdrlen);",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": "write_or_die",
          "new_api": "xmalloc",
          "old_text": "write_or_die(pack_fd, out, s.total_out)",
          "new_text": "xmalloc(s.avail_out)",
          "old_line_content": "\twrite_or_die(pack_fd, out, s.total_out);",
          "new_line_content": "\ts.next_out = out = xmalloc(s.avail_out);",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": "free",
          "new_api": "deflateEnd",
          "old_text": "free(out)",
          "new_text": "deflateEnd(&s)",
          "old_line_content": "\tfree(out);",
          "new_line_content": "\tdeflateEnd(&s);",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "free",
          "new_api": "write_or_die",
          "old_text": "free(delta)",
          "new_text": "write_or_die(pack_fd, out, s.total_out)",
          "old_line_content": "\t\tfree(delta);",
          "new_line_content": "\twrite_or_die(pack_fd, out, s.total_out);",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": "gfi_unpack_entry",
          "new_api": "find_object",
          "old_text": "gfi_unpack_entry(myoe, &size)",
          "new_text": "find_object(sha1)",
          "old_line_content": "\t\tbuf = gfi_unpack_entry(myoe, &size);",
          "new_line_content": "\tmyoe = find_object(sha1);",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": "read_sha1_file",
          "new_api": "sha1_to_hex",
          "old_text": "read_sha1_file(sha1, type, &size)",
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\t\tbuf = read_sha1_file(sha1, type, &size);",
          "new_line_content": "\t\t\tdie(\"Not a tree: %s\", sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": "sha1_to_hex",
          "new_api": "gfi_unpack_entry",
          "old_text": "sha1_to_hex(sha1)",
          "new_text": "gfi_unpack_entry(myoe, &size)",
          "old_line_content": "\t\t\tdie(\"Can't load tree %s\", sha1_to_hex(sha1));",
          "new_line_content": "\t\tbuf = gfi_unpack_entry(myoe, &size);",
          "content_same": false
        },
        {
          "line": 916,
          "old_api": "new_tree_entry",
          "new_api": "sha1_to_hex",
          "old_text": "new_tree_entry()",
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\t\tstruct tree_entry *e = new_tree_entry();",
          "new_line_content": "\t\t\tdie(\"Can't load tree %s\", sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": "hashcpy",
          "new_api": "sha1_to_hex",
          "old_text": "hashcpy(e->versions[1].sha1, (unsigned char*)c)",
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\t\thashcpy(e->versions[1].sha1, (unsigned char*)c);",
          "new_line_content": "\t\t\tdie(\"Corrupt mode in %s\", sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": "store_tree",
          "new_api": "is_null_sha1",
          "old_text": "store_tree(t->entries[i])",
          "new_text": "is_null_sha1(root->versions[1].sha1)",
          "old_line_content": "\t\t\tstore_tree(t->entries[i]);",
          "new_line_content": "\tif (!is_null_sha1(root->versions[1].sha1))",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": "release_tree_content_recursive",
          "new_api": "hashcmp",
          "old_text": "release_tree_content_recursive(e->tree)",
          "new_text": "hashcmp(e->versions[1].sha1, sha1)",
          "old_line_content": "\t\t\t\t\trelease_tree_content_recursive(e->tree);",
          "new_line_content": "\t\t\t\t\t\t&& !hashcmp(e->versions[1].sha1, sha1))",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "hashclr",
          "new_api": "hashcpy",
          "old_text": "hashclr(root->versions[1].sha1)",
          "new_text": "hashcpy(e->versions[1].sha1, sha1)",
          "old_line_content": "\t\t\t\thashclr(root->versions[1].sha1);",
          "new_line_content": "\t\t\t\thashcpy(e->versions[1].sha1, sha1);",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": "load_tree",
          "new_api": "S_ISDIR",
          "old_text": "load_tree(e)",
          "new_text": "S_ISDIR(e->versions[1].mode)",
          "old_line_content": "\t\t\t\tload_tree(e);",
          "new_line_content": "\t\t\tif (!S_ISDIR(e->versions[1].mode)) {",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": "tree_content_set",
          "new_api": "new_tree_content",
          "old_text": "tree_content_set(e, slash1 + 1, sha1, mode)",
          "new_text": "new_tree_content(8)",
          "old_line_content": "\t\t\tif (tree_content_set(e, slash1 + 1, sha1, mode)) {",
          "new_line_content": "\t\t\t\te->tree = new_tree_content(8);",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": "new_tree_content",
          "new_api": "to_atom",
          "old_text": "new_tree_content(8)",
          "new_text": "to_atom(p, n)",
          "old_line_content": "\t\te->tree = new_tree_content(8);",
          "new_line_content": "\te->name = to_atom(p, n);",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": "tree_content_set",
          "new_api": "hashclr",
          "old_text": "tree_content_set(e, slash1 + 1, sha1, mode)",
          "new_text": "hashclr(e->versions[0].sha1)",
          "old_line_content": "\t\ttree_content_set(e, slash1 + 1, sha1, mode);",
          "new_line_content": "\thashclr(e->versions[0].sha1);",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": "S_ISDIR",
          "new_api": "strlen",
          "old_text": "S_ISDIR(e->versions[1].mode)",
          "new_text": "strlen(p)",
          "old_line_content": "\t\t\tif (!slash1 || !S_ISDIR(e->versions[1].mode))",
          "new_line_content": "\t\tn = strlen(p);",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": "tree_content_remove",
          "new_api": "strncmp",
          "old_text": "tree_content_remove(e, slash1 + 1)",
          "new_text": "strncmp(p, e->name->str_dat, n)",
          "old_line_content": "\t\t\tif (tree_content_remove(e, slash1 + 1)) {",
          "new_line_content": "\t\tif (e->name->str_len == n && !strncmp(p, e->name->str_dat, n)) {",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "hashclr",
          "new_api": "release_tree_content_recursive",
          "old_text": "hashclr(root->versions[1].sha1)",
          "new_text": "release_tree_content_recursive(e->tree)",
          "old_line_content": "\thashclr(root->versions[1].sha1);",
          "new_line_content": "\t\trelease_tree_content_recursive(e->tree);",
          "content_same": false
        },
        {
          "line": 1218,
          "old_api": "strncmp",
          "new_api": "read_line",
          "old_text": "strncmp(\"mark :\", command_buf.buf, 6)",
          "new_text": "read_line(&command_buf, stdin, '\\n')",
          "old_line_content": "\tif (!strncmp(\"mark :\", command_buf.buf, 6)) {",
          "new_line_content": "\tread_line(&command_buf, stdin, '\\n');",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "feof",
          "new_api": "strtoul",
          "old_text": "feof(stdin)",
          "new_text": "strtoul(command_buf.buf + 5, NULL, 10)",
          "old_line_content": "\t\tif (!s && feof(stdin))",
          "new_line_content": "\tlength = strtoul(command_buf.buf + 5, NULL, 10);",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": "die",
          "new_api": "xmalloc",
          "old_text": "die(\"EOF in data (%lu bytes remaining)\", length - n)",
          "new_text": "xmalloc(length)",
          "old_line_content": "\t\t\tdie(\"EOF in data (%lu bytes remaining)\", length - n);",
          "new_line_content": "\tbuffer = xmalloc(length);",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": "fgetc",
          "new_api": "feof",
          "old_text": "fgetc(stdin)",
          "new_text": "feof(stdin)",
          "old_line_content": "\tif (fgetc(stdin) != '\\n')",
          "new_line_content": "\t\tif (!s && feof(stdin))",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "free",
          "new_api": "read_next_command",
          "old_text": "free(d)",
          "new_text": "read_next_command()",
          "old_line_content": "\t\tfree(d);",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": "strtoul",
          "new_api": "die",
          "old_text": "strtoul(p + 1, &x, 10)",
          "new_text": "die(\"Corrupt mode: %s\", command_buf.buf)",
          "old_line_content": "\t\toe = find_mark(strtoul(p + 1, &x, 10));",
          "new_line_content": "\t\tdie(\"Corrupt mode: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": "die",
          "new_api": "strtoul",
          "old_text": "die(\"Invalid SHA1: %s\", command_buf.buf)",
          "new_text": "strtoul(p + 1, &x, 10)",
          "old_line_content": "\t\t\tdie(\"Invalid SHA1: %s\", command_buf.buf);",
          "new_line_content": "\t\toe = find_mark(strtoul(p + 1, &x, 10));",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": "find_object",
          "new_api": "hashcpy",
          "old_text": "find_object(sha1)",
          "new_text": "hashcpy(sha1, oe->sha1)",
          "old_line_content": "\t\toe = find_object(sha1);",
          "new_line_content": "\t\thashcpy(sha1, oe->sha1);",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": "strcmp",
          "new_api": "die",
          "old_text": "strcmp(blob_type, type)",
          "new_text": "die(\"Not a blob (actually a %s): %s\",\n\t\t\t\tcommand_buf.buf, type_names[oe->type])",
          "old_line_content": "\t\tif (strcmp(blob_type, type))",
          "new_line_content": "\t\t\tdie(\"Not a blob (actually a %s): %s\",",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "tree_content_set",
          "new_api": "strcmp",
          "old_text": "tree_content_set(&b->branch_tree, p, sha1, S_IFREG | mode)",
          "new_text": "strcmp(blob_type, type)",
          "old_line_content": "\ttree_content_set(&b->branch_tree, p, sha1, S_IFREG | mode);",
          "new_line_content": "\t\tif (strcmp(blob_type, type))",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "free",
          "new_api": "die",
          "old_text": "free(p_uq)",
          "new_text": "die(\"Garbage after path in: %s\", command_buf.buf)",
          "old_line_content": "\t\tfree(p_uq);",
          "new_line_content": "\t\t\tdie(\"Garbage after path in: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "hashcpy",
          "new_api": "lookup_branch",
          "old_text": "hashcpy(b->sha1, s->sha1)",
          "new_text": "lookup_branch(from)",
          "old_line_content": "\t\thashcpy(b->sha1, s->sha1);",
          "new_line_content": "\ts = lookup_branch(from);",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": "hashcpy",
          "new_api": "die",
          "old_text": "hashcpy(b->branch_tree.versions[1].sha1, t)",
          "new_text": "die(\"Can't create a branch from itself: %s\", b->name)",
          "old_line_content": "\t\thashcpy(b->branch_tree.versions[1].sha1, t);",
          "new_line_content": "\t\tdie(\"Can't create a branch from itself: %s\", b->name);",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": "find_mark",
          "new_api": "hashcpy",
          "old_text": "find_mark(idnum)",
          "new_text": "hashcpy(b->sha1, s->sha1)",
          "old_line_content": "\t\tstruct object_entry *oe = find_mark(idnum);",
          "new_line_content": "\t\thashcpy(b->sha1, s->sha1);",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "die",
          "new_api": "strtoul",
          "old_text": "die(\"Mark :%lu not a commit\", idnum)",
          "new_text": "strtoul(from + 1, NULL, 10)",
          "old_line_content": "\t\t\tdie(\"Mark :%lu not a commit\", idnum);",
          "new_line_content": "\t\tunsigned long idnum = strtoul(from + 1, NULL, 10);",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "hashcpy",
          "new_api": "find_mark",
          "old_text": "hashcpy(b->sha1, oe->sha1)",
          "new_text": "find_mark(idnum)",
          "old_line_content": "\t\thashcpy(b->sha1, oe->sha1);",
          "new_line_content": "\t\tstruct object_entry *oe = find_mark(idnum);",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": "memcmp",
          "new_api": "die",
          "old_text": "memcmp(\"tree \", buf, 5)",
          "new_text": "die(\"Mark :%lu not a commit\", idnum)",
          "old_line_content": "\t\tif (memcmp(\"tree \", buf, 5)",
          "new_line_content": "\t\t\tdie(\"Mark :%lu not a commit\", idnum);",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "get_sha1_hex",
          "new_api": "hashcpy",
          "old_text": "get_sha1_hex(buf + 5, b->branch_tree.versions[1].sha1)",
          "new_text": "hashcpy(b->sha1, oe->sha1)",
          "old_line_content": "\t\t\t|| get_sha1_hex(buf + 5, b->branch_tree.versions[1].sha1))",
          "new_line_content": "\t\thashcpy(b->sha1, oe->sha1);",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": "sha1_to_hex",
          "new_api": "gfi_unpack_entry",
          "old_text": "sha1_to_hex(b->sha1)",
          "new_text": "gfi_unpack_entry(oe, &size)",
          "old_line_content": "\t\t\tdie(\"The commit %s is corrupt\", sha1_to_hex(b->sha1));",
          "new_line_content": "\t\tbuf = gfi_unpack_entry(oe, &size);",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": "hashcpy",
          "new_api": "die",
          "old_text": "hashcpy(b->branch_tree.versions[0].sha1,\n\t\t\tb->branch_tree.versions[1].sha1)",
          "new_text": "die(\"Not a valid commit: %s\", from)",
          "old_line_content": "\t\thashcpy(b->branch_tree.versions[0].sha1,",
          "new_line_content": "\t\t\tdie(\"Not a valid commit: %s\", from);",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": "get_sha1",
          "new_api": "get_sha1_hex",
          "old_text": "get_sha1(from, b->sha1)",
          "new_text": "get_sha1_hex(buf + 5, b->branch_tree.versions[1].sha1)",
          "old_line_content": "\t} else if (!get_sha1(from, b->sha1)) {",
          "new_line_content": "\t\t\t|| get_sha1_hex(buf + 5, b->branch_tree.versions[1].sha1))",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "is_null_sha1",
          "new_api": "sha1_to_hex",
          "old_text": "is_null_sha1(b->sha1)",
          "new_text": "sha1_to_hex(b->sha1)",
          "old_line_content": "\t\tif (is_null_sha1(b->sha1)) {",
          "new_line_content": "\t\t\tdie(\"The commit %s is corrupt\", sha1_to_hex(b->sha1));",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": "hashclr",
          "new_api": "free",
          "old_text": "hashclr(b->branch_tree.versions[0].sha1)",
          "new_text": "free(buf)",
          "old_line_content": "\t\t\thashclr(b->branch_tree.versions[0].sha1);",
          "new_line_content": "\t\tfree(buf);",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "hashclr",
          "new_api": "hashcpy",
          "old_text": "hashclr(b->branch_tree.versions[1].sha1)",
          "new_text": "hashcpy(b->branch_tree.versions[0].sha1,\n\t\t\tb->branch_tree.versions[1].sha1)",
          "old_line_content": "\t\t\thashclr(b->branch_tree.versions[1].sha1);",
          "new_line_content": "\t\thashcpy(b->branch_tree.versions[0].sha1,",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": "read_object_with_reference",
          "new_api": "hashclr",
          "old_text": "read_object_with_reference(b->sha1,\n\t\t\t\ttype_names[OBJ_COMMIT], &size, b->sha1)",
          "new_text": "hashclr(b->branch_tree.versions[1].sha1)",
          "old_line_content": "\t\t\tbuf = read_object_with_reference(b->sha1,",
          "new_line_content": "\t\t\thashclr(b->branch_tree.versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": "get_sha1_hex",
          "new_api": "read_object_with_reference",
          "old_text": "get_sha1_hex(buf + 5, b->branch_tree.versions[1].sha1)",
          "new_text": "read_object_with_reference(b->sha1,\n\t\t\t\ttype_names[OBJ_COMMIT], &size, b->sha1)",
          "old_line_content": "\t\t\t\t|| get_sha1_hex(buf + 5, b->branch_tree.versions[1].sha1))",
          "new_line_content": "\t\t\tbuf = read_object_with_reference(b->sha1,",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "hashcpy",
          "new_api": "die",
          "old_text": "hashcpy(b->branch_tree.versions[0].sha1,\n\t\t\t\tb->branch_tree.versions[1].sha1)",
          "new_text": "die(\"Not a valid commit: %s\", from)",
          "old_line_content": "\t\t\thashcpy(b->branch_tree.versions[0].sha1,",
          "new_line_content": "\t\t\t\tdie(\"Not a valid commit: %s\", from);",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": "die",
          "new_api": "free",
          "old_text": "die(\"Invalid ref name or SHA1 expression: %s\", from)",
          "new_text": "free(buf)",
          "old_line_content": "\t\tdie(\"Invalid ref name or SHA1 expression: %s\", from);",
          "new_line_content": "\t\t\tfree(buf);",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": "die",
          "new_api": "strncmp",
          "old_text": "die(\"Garbage after string in: %s\", command_buf.buf)",
          "new_text": "strncmp(\"merge \", command_buf.buf, 6)",
          "old_line_content": "\t\t\t\tdie(\"Garbage after string in: %s\", command_buf.buf);",
          "new_line_content": "\twhile (!strncmp(\"merge \", command_buf.buf, 6)) {",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": "lookup_branch",
          "new_api": "die",
          "old_text": "lookup_branch(from)",
          "new_text": "die(\"Garbage after string in: %s\", command_buf.buf)",
          "old_line_content": "\t\ts = lookup_branch(from);",
          "new_line_content": "\t\t\t\tdie(\"Garbage after string in: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": "strtoul",
          "new_api": "xmalloc",
          "old_text": "strtoul(from + 1, NULL, 10)",
          "new_text": "xmalloc(sizeof(*n))",
          "old_line_content": "\t\t\tunsigned long idnum = strtoul(from + 1, NULL, 10);",
          "new_line_content": "\t\tn = xmalloc(sizeof(*n));",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": "find_mark",
          "new_api": "lookup_branch",
          "old_text": "find_mark(idnum)",
          "new_text": "lookup_branch(from)",
          "old_line_content": "\t\t\tstruct object_entry *oe = find_mark(idnum);",
          "new_line_content": "\t\ts = lookup_branch(from);",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": "die",
          "new_api": "hashcpy",
          "old_text": "die(\"Mark :%lu not a commit\", idnum)",
          "new_text": "hashcpy(n->sha1, s->sha1)",
          "old_line_content": "\t\t\t\tdie(\"Mark :%lu not a commit\", idnum);",
          "new_line_content": "\t\t\thashcpy(n->sha1, s->sha1);",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": "get_sha1",
          "new_api": "strtoul",
          "old_text": "get_sha1(from, n->sha1)",
          "new_text": "strtoul(from + 1, NULL, 10)",
          "old_line_content": "\t\t} else if (get_sha1(from, n->sha1))",
          "new_line_content": "\t\t\tunsigned long idnum = strtoul(from + 1, NULL, 10);",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": "die",
          "new_api": "find_mark",
          "old_text": "die(\"Invalid ref name or SHA1 expression: %s\", from)",
          "new_text": "find_mark(idnum)",
          "old_line_content": "\t\t\tdie(\"Invalid ref name or SHA1 expression: %s\", from);",
          "new_line_content": "\t\t\tstruct object_entry *oe = find_mark(idnum);",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "new_branch",
          "new_api": "die",
          "old_text": "new_branch(sp)",
          "new_text": "die(\"Garbage after ref in: %s\", command_buf.buf)",
          "old_line_content": "\t\tb = new_branch(sp);",
          "new_line_content": "\t\t\tdie(\"Garbage after ref in: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": "cmd_mark",
          "new_api": "new_branch",
          "old_text": "cmd_mark()",
          "new_text": "new_branch(sp)",
          "old_line_content": "\tcmd_mark();",
          "new_line_content": "\t\tb = new_branch(sp);",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": "strdup",
          "new_api": "free",
          "old_text": "strdup(command_buf.buf)",
          "new_text": "free(str_uq)",
          "old_line_content": "\t\tauthor = strdup(command_buf.buf);",
          "new_line_content": "\t\tfree(str_uq);",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": "strncmp",
          "new_api": "cmd_mark",
          "old_text": "strncmp(\"committer \", command_buf.buf, 10)",
          "new_text": "cmd_mark()",
          "old_line_content": "\tif (!strncmp(\"committer \", command_buf.buf, 10)) {",
          "new_line_content": "\tcmd_mark();",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "strdup",
          "new_api": "strncmp",
          "old_text": "strdup(command_buf.buf)",
          "new_text": "strncmp(\"author \", command_buf.buf, 7)",
          "old_line_content": "\t\tcommitter = strdup(command_buf.buf);",
          "new_line_content": "\tif (!strncmp(\"author \", command_buf.buf, 7)) {",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": "read_next_command",
          "new_api": "strdup",
          "old_text": "read_next_command()",
          "new_text": "strdup(command_buf.buf)",
          "old_line_content": "\t\tread_next_command();",
          "new_line_content": "\t\tauthor = strdup(command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1536,
          "old_api": "die",
          "new_api": "strncmp",
          "old_text": "die(\"Expected committer but didn't get one\")",
          "new_text": "strncmp(\"committer \", command_buf.buf, 10)",
          "old_line_content": "\t\tdie(\"Expected committer but didn't get one\");",
          "new_line_content": "\tif (!strncmp(\"committer \", command_buf.buf, 10)) {",
          "content_same": false
        },
        {
          "line": 1537,
          "old_api": "cmd_data",
          "new_api": "strdup",
          "old_text": "cmd_data(&msglen)",
          "new_text": "strdup(command_buf.buf)",
          "old_line_content": "\tmsg = cmd_data(&msglen);",
          "new_line_content": "\t\tcommitter = strdup(command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": "unload_one_branch",
          "new_api": "cmd_from",
          "old_text": "unload_one_branch()",
          "new_text": "cmd_from(b)",
          "old_line_content": "\t\tunload_one_branch();",
          "new_line_content": "\tcmd_from(b);",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": "load_branch",
          "new_api": "cmd_merge",
          "old_text": "load_branch(b)",
          "new_text": "cmd_merge(&merge_count)",
          "old_line_content": "\t\tload_branch(b);",
          "new_line_content": "\tmerge_list = cmd_merge(&merge_count);",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": "die",
          "new_api": "strncmp",
          "old_text": "die(\"Unsupported file_change: %s\", command_buf.buf)",
          "new_text": "strncmp(\"M \", command_buf.buf, 2)",
          "old_line_content": "\t\t\tdie(\"Unsupported file_change: %s\", command_buf.buf);",
          "new_line_content": "\t\telse if (!strncmp(\"M \", command_buf.buf, 2))",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "read_next_command",
          "new_api": "file_change_m",
          "old_text": "read_next_command()",
          "new_text": "file_change_m(b)",
          "old_line_content": "\t\tread_next_command();",
          "new_line_content": "\t\t\tfile_change_m(b);",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": "store_tree",
          "new_api": "die",
          "old_text": "store_tree(&b->branch_tree)",
          "new_text": "die(\"Unsupported file_change: %s\", command_buf.buf)",
          "old_line_content": "\tstore_tree(&b->branch_tree);",
          "new_line_content": "\t\t\tdie(\"Unsupported file_change: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": "hashcpy",
          "new_api": "read_next_command",
          "old_text": "hashcpy(b->branch_tree.versions[0].sha1,\n\t\tb->branch_tree.versions[1].sha1)",
          "new_text": "read_next_command()",
          "old_line_content": "\thashcpy(b->branch_tree.versions[0].sha1,",
          "new_line_content": "\t\tread_next_command();",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": "strlen",
          "new_api": "hashcpy",
          "old_text": "strlen(committer)",
          "new_text": "hashcpy(b->branch_tree.versions[0].sha1,\n\t\tb->branch_tree.versions[1].sha1)",
          "old_line_content": "\t\t\t? strlen(author) + strlen(committer)",
          "new_line_content": "\thashcpy(b->branch_tree.versions[0].sha1,",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": "is_null_sha1",
          "new_api": "strlen",
          "old_text": "is_null_sha1(b->sha1)",
          "new_text": "strlen(committer)",
          "old_line_content": "\tif (!is_null_sha1(b->sha1))",
          "new_line_content": "\t\t\t? strlen(author) + strlen(committer)",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": "sha1_to_hex",
          "new_api": "strlen",
          "old_text": "sha1_to_hex(b->sha1)",
          "new_text": "strlen(committer)",
          "old_line_content": "\t\tsp += sprintf(sp, \"parent %s\\n\", sha1_to_hex(b->sha1));",
          "new_line_content": "\t\t\t: 2 * strlen(committer)));",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": "free",
          "new_api": "is_null_sha1",
          "old_text": "free(merge_list)",
          "new_text": "is_null_sha1(b->sha1)",
          "old_line_content": "\t\tfree(merge_list);",
          "new_line_content": "\tif (!is_null_sha1(b->sha1))",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": "sprintf",
          "new_api": "sha1_to_hex",
          "old_text": "sprintf(sp, \"%s\\n\", author)",
          "new_text": "sha1_to_hex(merge_list->sha1)",
          "old_line_content": "\t\tsp += sprintf(sp, \"%s\\n\", author);",
          "new_line_content": "\t\tsp += sprintf(sp, \"parent %s\\n\", sha1_to_hex(merge_list->sha1));",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": "free",
          "new_api": "sprintf",
          "old_text": "free(author)",
          "new_text": "sprintf(sp, \"author %s\\n\", committer + 10)",
          "old_line_content": "\t\tfree(author);",
          "new_line_content": "\t\tsp += sprintf(sp, \"author %s\\n\", committer + 10);",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": "free",
          "new_api": "sprintf",
          "old_text": "free(committer)",
          "new_text": "sprintf(sp, \"%s\\n\\n\", committer)",
          "old_line_content": "\tfree(committer);",
          "new_line_content": "\tsp += sprintf(sp, \"%s\\n\\n\", committer);",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": "free",
          "new_api": "memcpy",
          "old_text": "free(msg)",
          "new_text": "memcpy(sp, msg, msglen)",
          "old_line_content": "\tfree(msg);",
          "new_line_content": "\tmemcpy(sp, msg, msglen);",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": "fputc",
          "new_api": "quote_c_style",
          "old_text": "fputc('\"', branch_log)",
          "new_text": "quote_c_style(b->name, NULL, NULL, 0)",
          "old_line_content": "\t\t\tfputc('\"', branch_log);",
          "new_line_content": "\t\tint need_dq = quote_c_style(b->name, NULL, NULL, 0);",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "sha1_to_hex",
          "new_api": "fputc",
          "old_text": "sha1_to_hex(b->sha1)",
          "new_text": "fputc('\"', branch_log)",
          "old_line_content": "\t\tfprintf(branch_log,\" :%lu %s\\n\",next_mark,sha1_to_hex(b->sha1));",
          "new_line_content": "\t\t\tfputc('\"', branch_log);",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": "pool_strdup",
          "new_api": "die",
          "old_text": "pool_strdup(sp)",
          "new_text": "die(\"Garbage after tag name in: %s\", command_buf.buf)",
          "old_line_content": "\tt->name = pool_strdup(sp);",
          "new_line_content": "\t\t\tdie(\"Garbage after tag name in: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": "die",
          "new_api": "free",
          "old_text": "die(\"Expected from command, got %s\", command_buf.buf)",
          "new_text": "free(str_uq)",
          "old_line_content": "\t\tdie(\"Expected from command, got %s\", command_buf.buf);",
          "new_line_content": "\t\tfree(str_uq);",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": "find_mark",
          "new_api": "lookup_branch",
          "old_text": "find_mark(from_mark)",
          "new_text": "lookup_branch(from)",
          "old_line_content": "\t\tstruct object_entry *oe = find_mark(from_mark);",
          "new_line_content": "\ts = lookup_branch(from);",
          "content_same": false
        },
        {
          "line": 1664,
          "old_api": "die",
          "new_api": "hashcpy",
          "old_text": "die(\"Mark :%lu not a commit\", from_mark)",
          "new_text": "hashcpy(sha1, s->sha1)",
          "old_line_content": "\t\t\tdie(\"Mark :%lu not a commit\", from_mark);",
          "new_line_content": "\t\thashcpy(sha1, s->sha1);",
          "content_same": false
        },
        {
          "line": 1666,
          "old_api": "get_sha1",
          "new_api": "strtoul",
          "old_text": "get_sha1(from, sha1)",
          "new_text": "strtoul(from + 1, NULL, 10)",
          "old_line_content": "\t} else if (!get_sha1(from, sha1)) {",
          "new_line_content": "\t\tfrom_mark = strtoul(from + 1, NULL, 10);",
          "content_same": false
        },
        {
          "line": 1670,
          "old_api": "read_object_with_reference",
          "new_api": "hashcpy",
          "old_text": "read_object_with_reference(sha1,\n\t\t\ttype_names[OBJ_COMMIT], &size, sha1)",
          "new_text": "hashcpy(sha1, oe->sha1)",
          "old_line_content": "\t\tbuf = read_object_with_reference(sha1,",
          "new_line_content": "\t\thashcpy(sha1, oe->sha1);",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": "die",
          "new_api": "free",
          "old_text": "die(\"Expected tagger command, got %s\", command_buf.buf)",
          "new_text": "free(str_uq)",
          "old_line_content": "\t\tdie(\"Expected tagger command, got %s\", command_buf.buf);",
          "new_line_content": "\t\tfree(str_uq);",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": "strdup",
          "new_api": "read_next_command",
          "old_text": "strdup(command_buf.buf)",
          "new_text": "read_next_command()",
          "old_line_content": "\ttagger = strdup(command_buf.buf);",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": "read_next_command",
          "new_api": "strncmp",
          "old_text": "read_next_command()",
          "new_text": "strncmp(\"tagger \", command_buf.buf, 7)",
          "old_line_content": "\tread_next_command();",
          "new_line_content": "\tif (strncmp(\"tagger \", command_buf.buf, 7))",
          "content_same": false
        },
        {
          "line": 1689,
          "old_api": "cmd_data",
          "new_api": "die",
          "old_text": "cmd_data(&msglen)",
          "new_text": "die(\"Expected tagger command, got %s\", command_buf.buf)",
          "old_line_content": "\tmsg = cmd_data(&msglen);",
          "new_line_content": "\t\tdie(\"Expected tagger command, got %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": "sha1_to_hex",
          "new_api": "cmd_data",
          "old_text": "sha1_to_hex(sha1)",
          "new_text": "cmd_data(&msglen)",
          "old_line_content": "\tsp += sprintf(sp, \"object %s\\n\", sha1_to_hex(sha1));",
          "new_line_content": "\tmsg = cmd_data(&msglen);",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": "sprintf",
          "new_api": "strlen",
          "old_text": "sprintf(sp, \"%s\\n\\n\", tagger)",
          "new_text": "strlen(tagger)",
          "old_line_content": "\tsp += sprintf(sp, \"%s\\n\\n\", tagger);",
          "new_line_content": "\tsize_dbuf(&new_data, 67+strlen(t->name)+strlen(tagger)+msglen);",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": "free",
          "new_api": "sprintf",
          "old_text": "free(tagger)",
          "new_text": "sprintf(sp, \"type %s\\n\", type_names[OBJ_COMMIT])",
          "old_line_content": "\tfree(tagger);",
          "new_line_content": "\tsp += sprintf(sp, \"type %s\\n\", type_names[OBJ_COMMIT]);",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": "free",
          "new_api": "sprintf",
          "old_text": "free(msg)",
          "new_text": "sprintf(sp, \"tag %s\\n\", t->name)",
          "old_line_content": "\tfree(msg);",
          "new_line_content": "\tsp += sprintf(sp, \"tag %s\\n\", t->name);",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": "store_object",
          "new_api": "memcpy",
          "old_text": "store_object(OBJ_TAG, new_data.buffer, sp - (char*)new_data.buffer,\n\t\tNULL, t->sha1, 0)",
          "new_text": "memcpy(sp, msg, msglen)",
          "old_line_content": "\tstore_object(OBJ_TAG, new_data.buffer, sp - (char*)new_data.buffer,",
          "new_line_content": "\tmemcpy(sp, msg, msglen);",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": "fprintf",
          "new_api": "store_object",
          "old_text": "fprintf(branch_log, \"tag \")",
          "new_text": "store_object(OBJ_TAG, new_data.buffer, sp - (char*)new_data.buffer,\n\t\tNULL, t->sha1, 0)",
          "old_line_content": "\t\tfprintf(branch_log, \"tag \");",
          "new_line_content": "\tstore_object(OBJ_TAG, new_data.buffer, sp - (char*)new_data.buffer,",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": "fputc",
          "new_api": "quote_c_style",
          "old_text": "fputc('\"', branch_log)",
          "new_text": "quote_c_style(t->name, NULL, NULL, 0)",
          "old_line_content": "\t\t\tfputc('\"', branch_log);",
          "new_line_content": "\t\tint need_dq = quote_c_style(t->name, NULL, NULL, 0);",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": "sha1_to_hex",
          "new_api": "fputc",
          "old_text": "sha1_to_hex(t->sha1)",
          "new_text": "fputc('\"', branch_log)",
          "old_line_content": "\t\tfprintf(branch_log,\" :%lu %s\\n\",from_mark,sha1_to_hex(t->sha1));",
          "new_line_content": "\t\t\tfputc('\"', branch_log);",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": "new_branch",
          "new_api": "release_tree_content_recursive",
          "old_text": "new_branch(sp)",
          "new_text": "release_tree_content_recursive(b->branch_tree.tree)",
          "old_line_content": "\t\tb = new_branch(sp);",
          "new_line_content": "\t\t\trelease_tree_content_recursive(b->branch_tree.tree);",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": "strcmp",
          "new_api": "git_config",
          "old_text": "strcmp(a, \"--\")",
          "new_text": "git_config(git_default_config)",
          "old_line_content": "\t\tif (*a != '-' || !strcmp(a, \"--\"))",
          "new_line_content": "\tgit_config(git_default_config);",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": "strtoul",
          "new_api": "strcmp",
          "old_text": "strtoul(a + 8, NULL, 0)",
          "new_text": "strcmp(a, \"--\")",
          "old_line_content": "\t\t\tmax_depth = strtoul(a + 8, NULL, 0);",
          "new_line_content": "\t\tif (*a != '-' || !strcmp(a, \"--\"))",
          "content_same": false
        },
        {
          "line": 1781,
          "old_api": "strtoul",
          "new_api": "strncmp",
          "old_text": "strtoul(a + 18, NULL, 0)",
          "new_text": "strncmp(a, \"--objects=\", 10)",
          "old_line_content": "\t\t\tmax_active_branches = strtoul(a + 18, NULL, 0);",
          "new_line_content": "\t\telse if (!strncmp(a, \"--objects=\", 10))",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": "strncmp",
          "new_api": "strtoul",
          "old_text": "strncmp(a, \"--export-marks=\", 15)",
          "new_text": "strtoul(a + 10, NULL, 0)",
          "old_line_content": "\t\telse if (!strncmp(a, \"--export-marks=\", 15))",
          "new_line_content": "\t\t\test_obj_cnt = strtoul(a + 10, NULL, 0);",
          "content_same": false
        },
        {
          "line": 1784,
          "old_api": "strncmp",
          "new_api": "strtoul",
          "old_text": "strncmp(a, \"--branch-log=\", 13)",
          "new_text": "strtoul(a + 8, NULL, 0)",
          "old_line_content": "\t\telse if (!strncmp(a, \"--branch-log=\", 13)) {",
          "new_line_content": "\t\t\tmax_depth = strtoul(a + 8, NULL, 0);",
          "content_same": false
        },
        {
          "line": 1785,
          "old_api": "fopen",
          "new_api": "strncmp",
          "old_text": "fopen(a + 13, \"w\")",
          "new_text": "strncmp(a, \"--active-branches=\", 18)",
          "old_line_content": "\t\t\tbranch_log = fopen(a + 13, \"w\");",
          "new_line_content": "\t\telse if (!strncmp(a, \"--active-branches=\", 18))",
          "content_same": false
        },
        {
          "line": 1787,
          "old_api": "strerror",
          "new_api": "strncmp",
          "old_text": "strerror(errno)",
          "new_text": "strncmp(a, \"--export-marks=\", 15)",
          "old_line_content": "\t\t\t\tdie(\"Can't create %s: %s\", a + 13, strerror(errno));",
          "new_line_content": "\t\telse if (!strncmp(a, \"--export-marks=\", 15))",
          "content_same": false
        },
        {
          "line": 1790,
          "old_api": "die",
          "new_api": "fopen",
          "old_text": "die(\"unknown option %s\", a)",
          "new_text": "fopen(a + 13, \"w\")",
          "old_line_content": "\t\t\tdie(\"unknown option %s\", a);",
          "new_line_content": "\t\t\tbranch_log = fopen(a + 13, \"w\");",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": "xcalloc",
          "new_api": "alloc_objects",
          "old_text": "xcalloc(avail_tree_table_sz, sizeof(struct avail_tree_content*))",
          "new_text": "alloc_objects(est_obj_cnt)",
          "old_line_content": "\tavail_tree_table = xcalloc(avail_tree_table_sz, sizeof(struct avail_tree_content*));",
          "new_line_content": "\talloc_objects(est_obj_cnt);",
          "content_same": false
        },
        {
          "line": 1802,
          "old_api": "pool_calloc",
          "new_api": "strbuf_init",
          "old_text": "pool_calloc(1, sizeof(struct mark_set))",
          "new_text": "strbuf_init(&command_buf)",
          "old_line_content": "\tmarks = pool_calloc(1, sizeof(struct mark_set));",
          "new_line_content": "\tstrbuf_init(&command_buf);",
          "content_same": false
        },
        {
          "line": 1804,
          "old_api": "start_packfile",
          "new_api": "xcalloc",
          "old_text": "start_packfile()",
          "new_text": "xcalloc(atom_table_sz, sizeof(struct atom_str*))",
          "old_line_content": "\tstart_packfile();",
          "new_line_content": "\tatom_table = xcalloc(atom_table_sz, sizeof(struct atom_str*));",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": "read_next_command",
          "new_api": "xcalloc",
          "old_text": "read_next_command()",
          "new_text": "xcalloc(avail_tree_table_sz, sizeof(struct avail_tree_content*))",
          "old_line_content": "\t\tread_next_command();",
          "new_line_content": "\tavail_tree_table = xcalloc(avail_tree_table_sz, sizeof(struct avail_tree_content*));",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": "strcmp",
          "new_api": "start_packfile",
          "old_text": "strcmp(\"blob\", command_buf.buf)",
          "new_text": "start_packfile()",
          "old_line_content": "\t\telse if (!strcmp(\"blob\", command_buf.buf))",
          "new_line_content": "\tstart_packfile();",
          "content_same": false
        },
        {
          "line": 1811,
          "old_api": "strncmp",
          "new_api": "read_next_command",
          "old_text": "strncmp(\"commit \", command_buf.buf, 7)",
          "new_text": "read_next_command()",
          "old_line_content": "\t\telse if (!strncmp(\"commit \", command_buf.buf, 7))",
          "new_line_content": "\t\tread_next_command();",
          "content_same": false
        },
        {
          "line": 1814,
          "old_api": "cmd_new_tag",
          "new_api": "strcmp",
          "old_text": "cmd_new_tag()",
          "new_text": "strcmp(\"blob\", command_buf.buf)",
          "old_line_content": "\t\t\tcmd_new_tag();",
          "new_line_content": "\t\telse if (!strcmp(\"blob\", command_buf.buf))",
          "content_same": false
        },
        {
          "line": 1815,
          "old_api": "strncmp",
          "new_api": "cmd_new_blob",
          "old_text": "strncmp(\"reset \", command_buf.buf, 6)",
          "new_text": "cmd_new_blob()",
          "old_line_content": "\t\telse if (!strncmp(\"reset \", command_buf.buf, 6))",
          "new_line_content": "\t\t\tcmd_new_blob();",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": "cmd_reset_branch",
          "new_api": "strncmp",
          "old_text": "cmd_reset_branch()",
          "new_text": "strncmp(\"commit \", command_buf.buf, 7)",
          "old_line_content": "\t\t\tcmd_reset_branch();",
          "new_line_content": "\t\telse if (!strncmp(\"commit \", command_buf.buf, 7))",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": "strcmp",
          "new_api": "cmd_new_commit",
          "old_text": "strcmp(\"checkpoint\", command_buf.buf)",
          "new_text": "cmd_new_commit()",
          "old_line_content": "\t\telse if (!strcmp(\"checkpoint\", command_buf.buf))",
          "new_line_content": "\t\t\tcmd_new_commit();",
          "content_same": false
        },
        {
          "line": 1818,
          "old_api": "cmd_checkpoint",
          "new_api": "strncmp",
          "old_text": "cmd_checkpoint()",
          "new_text": "strncmp(\"tag \", command_buf.buf, 4)",
          "old_line_content": "\t\t\tcmd_checkpoint();",
          "new_line_content": "\t\telse if (!strncmp(\"tag \", command_buf.buf, 4))",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": "die",
          "new_api": "strncmp",
          "old_text": "die(\"Unsupported command: %s\", command_buf.buf)",
          "new_text": "strncmp(\"reset \", command_buf.buf, 6)",
          "old_line_content": "\t\t\tdie(\"Unsupported command: %s\", command_buf.buf);",
          "new_line_content": "\t\telse if (!strncmp(\"reset \", command_buf.buf, 6))",
          "content_same": false
        },
        {
          "line": 1822,
          "old_api": "end_packfile",
          "new_api": "strcmp",
          "old_text": "end_packfile()",
          "new_text": "strcmp(\"checkpoint\", command_buf.buf)",
          "old_line_content": "\tend_packfile();",
          "new_line_content": "\t\telse if (!strcmp(\"checkpoint\", command_buf.buf))",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": "dump_tags",
          "new_api": "die",
          "old_text": "dump_tags()",
          "new_text": "die(\"Unsupported command: %s\", command_buf.buf)",
          "old_line_content": "\tdump_tags();",
          "new_line_content": "\t\t\tdie(\"Unsupported command: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": "ARRAY_SIZE",
          "new_api": "dump_tags",
          "old_text": "ARRAY_SIZE(duplicate_count_by_type)",
          "new_text": "dump_tags()",
          "old_line_content": "\tfor (i = 0; i < ARRAY_SIZE(duplicate_count_by_type); i++)",
          "new_line_content": "\tdump_tags();",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": "fprintf",
          "new_api": "fclose",
          "old_text": "fprintf(stderr, \"%s statistics:\\n\", argv[0])",
          "new_text": "fclose(branch_log)",
          "old_line_content": "\tfprintf(stderr, \"%s statistics:\\n\", argv[0]);",
          "new_line_content": "\t\tfclose(branch_log);",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": "fprintf",
          "new_api": "ARRAY_SIZE",
          "old_text": "fprintf(stderr, \"Alloc'd objects: %10lu (%10lu overflow  )\\n\", alloc_count, alloc_count - est_obj_cnt)",
          "new_text": "ARRAY_SIZE(duplicate_count_by_type)",
          "old_line_content": "\tfprintf(stderr, \"Alloc'd objects: %10lu (%10lu overflow  )\\n\", alloc_count, alloc_count - est_obj_cnt);",
          "new_line_content": "\tfor (i = 0; i < ARRAY_SIZE(duplicate_count_by_type); i++)",
          "content_same": false
        },
        {
          "line": 1848,
          "old_api": "pack_report",
          "new_api": "fprintf",
          "old_text": "pack_report()",
          "new_text": "fprintf(stderr, \"      atoms:     %10u\\n\", atom_cnt)",
          "old_line_content": "\tpack_report();",
          "new_line_content": "\tfprintf(stderr, \"      atoms:     %10u\\n\", atom_cnt);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1024,
          "old_api": null,
          "new_api": "mktree",
          "old_text": null,
          "new_text": "mktree(t, 1, &new_len, &new_tree)",
          "old_line_content": "\tfor (i = 0, j = 0, del = 0; i < t->entry_count; i++) {",
          "new_line_content": "\tmktree(t, 1, &new_len, &new_tree);",
          "content_same": false
        },
        {
          "line": 1025,
          "old_api": null,
          "new_api": "store_object",
          "old_text": null,
          "new_text": "store_object(OBJ_TREE, new_tree.buffer, new_len,\n\t\t&lo, root->versions[1].sha1, 0)",
          "old_line_content": "\t\tstruct tree_entry *e = t->entries[i];",
          "new_line_content": "\tstore_object(OBJ_TREE, new_tree.buffer, new_len,",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Expected committer but didn't get one\")",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"Expected committer but didn't get one\");",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": null,
          "new_api": "cmd_data",
          "old_text": null,
          "new_text": "cmd_data(&msglen)",
          "old_line_content": "\t/* ensure the branch is active/loaded */",
          "new_line_content": "\tmsg = cmd_data(&msglen);",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "\tif (!b->branch_tree.tree || !max_active_branches) {",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(e->versions[0].sha1, e->versions[1].sha1)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\thashcpy(e->versions[0].sha1, e->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": null,
          "new_api": "release_tree_entry",
          "old_text": null,
          "new_text": "release_tree_entry(e)",
          "old_line_content": "}",
          "new_line_content": "\t\t\trelease_tree_entry(e);",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": null,
          "new_api": "unload_one_branch",
          "old_text": null,
          "new_text": "unload_one_branch()",
          "old_line_content": "\tfor (;;) {",
          "new_line_content": "\t\tunload_one_branch();",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": null,
          "new_api": "load_branch",
          "old_text": null,
          "new_text": "load_branch(b)",
          "old_line_content": "\t\tif (1 == command_buf.len)",
          "new_line_content": "\t\tload_branch(b);",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(\"D \", command_buf.buf, 2)",
          "old_line_content": "\t}",
          "new_line_content": "\t\telse if (!strncmp(\"D \", command_buf.buf, 2))",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": null,
          "new_api": "file_change_d",
          "old_text": null,
          "new_text": "file_change_d(b)",
          "old_line_content": "",
          "new_line_content": "\t\t\tfile_change_d(b);",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p, '/')",
          "old_line_content": "",
          "new_line_content": "\tslash1 = strchr(p, '/');",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": null,
          "new_api": "store_tree",
          "old_text": null,
          "new_text": "store_tree(&b->branch_tree)",
          "old_line_content": "\t\t+ (author",
          "new_line_content": "\tstore_tree(&b->branch_tree);",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(p)",
          "old_line_content": "\t\t\tif (!slash1) {",
          "new_line_content": "\t\tn = strlen(p);",
          "content_same": false
        },
        {
          "line": 1570,
          "old_api": null,
          "new_api": "size_dbuf",
          "old_text": null,
          "new_text": "size_dbuf(&new_data, 97 + msglen\n\t\t+ merge_count * 49\n\t\t+ (author\n\t\t\t? strlen(author) + strlen(committer)\n\t\t\t: 2 * strlen(committer)))",
          "old_line_content": "\tsp = new_data.buffer;",
          "new_line_content": "\tsize_dbuf(&new_data, 97 + msglen",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(p, e->name->str_dat, n)",
          "old_line_content": "\t\t\t\te->versions[1].mode = mode;",
          "new_line_content": "\t\tif (e->name->str_len == n && !strncmp(p, e->name->str_dat, n)) {",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": null,
          "new_api": "sprintf",
          "old_text": null,
          "new_text": "sprintf(sp, \"tree %s\\n\",\n\t\tsha1_to_hex(b->branch_tree.versions[1].sha1))",
          "old_line_content": "\t\tstruct hash_list *next = merge_list->next;",
          "new_line_content": "\tsp += sprintf(sp, \"tree %s\\n\",",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(b->sha1)",
          "old_line_content": "\t\tmerge_list = next;",
          "new_line_content": "\t\tsp += sprintf(sp, \"parent %s\\n\", sha1_to_hex(b->sha1));",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": null,
          "new_api": "release_tree_content_recursive",
          "old_text": null,
          "new_text": "release_tree_content_recursive(e->tree)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\trelease_tree_content_recursive(e->tree);",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(merge_list)",
          "old_line_content": "\telse",
          "new_line_content": "\t\tfree(merge_list);",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(root->versions[1].sha1)",
          "old_line_content": "\t\t\t\te->versions[1].mode = S_IFDIR;",
          "new_line_content": "\t\t\t\thashclr(root->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": null,
          "new_api": "sprintf",
          "old_text": null,
          "new_text": "sprintf(sp, \"%s\\n\", author)",
          "old_line_content": "\tsp += msglen;",
          "new_line_content": "\t\tsp += sprintf(sp, \"%s\\n\", author);",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": null,
          "new_api": "load_tree",
          "old_text": null,
          "new_text": "load_tree(e)",
          "old_line_content": "\t\t\treturn 0;",
          "new_line_content": "\t\t\t\tload_tree(e);",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": null,
          "new_api": "tree_content_set",
          "old_text": null,
          "new_text": "tree_content_set(e, slash1 + 1, sha1, mode)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tif (tree_content_set(e, slash1 + 1, sha1, mode)) {",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(root->versions[1].sha1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\thashclr(root->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(author)",
          "old_line_content": "\t\tnew_data.buffer, sp - (char*)new_data.buffer,",
          "new_line_content": "\t\tfree(author);",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(committer)",
          "old_line_content": "\t\tNULL, b->sha1, next_mark);",
          "new_line_content": "\tfree(committer);",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(msg)",
          "old_line_content": "\tb->last_commit = object_count_by_type[OBJ_COMMIT];",
          "new_line_content": "\tfree(msg);",
          "content_same": false
        },
        {
          "line": 1598,
          "old_api": null,
          "new_api": "store_object",
          "old_text": null,
          "new_text": "store_object(OBJ_COMMIT,\n\t\tnew_data.buffer, sp - (char*)new_data.buffer,\n\t\tNULL, b->sha1, next_mark)",
          "old_line_content": "\tif (branch_log) {",
          "new_line_content": "\tstore_object(OBJ_COMMIT,",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": null,
          "new_api": "grow_tree_content",
          "old_text": null,
          "new_text": "grow_tree_content(t, 8)",
          "old_line_content": "\tt->entries[t->entry_count++] = e;",
          "new_line_content": "\t\troot->tree = t = grow_tree_content(t, 8);",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": null,
          "new_api": "new_tree_entry",
          "old_text": null,
          "new_text": "new_tree_entry()",
          "old_line_content": "\tif (slash1) {",
          "new_line_content": "\te = new_tree_entry();",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(branch_log, \"commit \")",
          "old_line_content": "\t\t} else",
          "new_line_content": "\t\tfprintf(branch_log, \"commit \");",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": null,
          "new_api": "quote_c_style",
          "old_text": null,
          "new_text": "quote_c_style(b->name, NULL, branch_log, 0)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tquote_c_style(b->name, NULL, branch_log, 0);",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": null,
          "new_api": "fputc",
          "old_text": null,
          "new_text": "fputc('\"', branch_log)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tfputc('\"', branch_log);",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": null,
          "new_api": "new_tree_content",
          "old_text": null,
          "new_text": "new_tree_content(8)",
          "old_line_content": "\t\te->versions[1].mode = mode;",
          "new_line_content": "\t\te->tree = new_tree_content(8);",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(branch_log, \"%s\", b->name)",
          "old_line_content": "static void cmd_new_tag()",
          "new_line_content": "\t\t\tfprintf(branch_log, \"%s\", b->name);",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": null,
          "new_api": "tree_content_set",
          "old_text": null,
          "new_text": "tree_content_set(e, slash1 + 1, sha1, mode)",
          "old_line_content": "\t}",
          "new_line_content": "\t\ttree_content_set(e, slash1 + 1, sha1, mode);",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(b->sha1)",
          "old_line_content": "{",
          "new_line_content": "\t\tfprintf(branch_log,\" :%lu %s\\n\",next_mark,sha1_to_hex(b->sha1));",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(e->versions[1].sha1, sha1)",
          "old_line_content": "",
          "new_line_content": "\t\thashcpy(e->versions[1].sha1, sha1);",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(root->versions[1].sha1)",
          "old_line_content": "{",
          "new_line_content": "\thashclr(root->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p, '/')",
          "old_line_content": "",
          "new_line_content": "\tslash1 = strchr(p, '/');",
          "content_same": false
        },
        {
          "line": 1631,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(command_buf.buf, ' ')",
          "old_line_content": "\t\tsp = str_uq;",
          "new_line_content": "\tsp = strchr(command_buf.buf, ' ') + 1;",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": null,
          "new_api": "unquote_c_style",
          "old_text": null,
          "new_text": "unquote_c_style(sp, &endp)",
          "old_line_content": "\t}",
          "new_line_content": "\tstr_uq = unquote_c_style(sp, &endp);",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(e->versions[1].mode)",
          "old_line_content": "\t\t\t\tfor (n = 0; n < e->tree->entry_count; n++) {",
          "new_line_content": "\t\t\tif (!slash1 || !S_ISDIR(e->versions[1].mode))",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": null,
          "new_api": "pool_alloc",
          "old_text": null,
          "new_text": "pool_alloc(sizeof(struct tag))",
          "old_line_content": "\telse",
          "new_line_content": "\tt = pool_alloc(sizeof(struct tag));",
          "content_same": false
        },
        {
          "line": 1640,
          "old_api": null,
          "new_api": "pool_strdup",
          "old_text": null,
          "new_text": "pool_strdup(sp)",
          "old_line_content": "\tlast_tag = t;",
          "new_line_content": "\tt->name = pool_strdup(sp);",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": null,
          "new_api": "load_tree",
          "old_text": null,
          "new_text": "load_tree(e)",
          "old_line_content": "\t\t\t\t\t\treturn 1;",
          "new_line_content": "\t\t\t\tload_tree(e);",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": null,
          "new_api": "tree_content_remove",
          "old_text": null,
          "new_text": "tree_content_remove(e, slash1 + 1)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\tif (tree_content_remove(e, slash1 + 1)) {",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(root->versions[1].sha1)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\t\thashclr(root->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(\"from \", command_buf.buf, 5)",
          "old_line_content": "\tif (str_uq) {",
          "new_line_content": "\tif (strncmp(\"from \", command_buf.buf, 5))",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Expected from command, got %s\", command_buf.buf)",
          "old_line_content": "\t\tif (*endp)",
          "new_line_content": "\t\tdie(\"Expected from command, got %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(command_buf.buf, ' ')",
          "old_line_content": "\t\tfrom = str_uq;",
          "new_line_content": "\tfrom = strchr(command_buf.buf, ' ') + 1;",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": null,
          "new_api": "unquote_c_style",
          "old_text": null,
          "new_text": "unquote_c_style(from, &endp)",
          "old_line_content": "\t}",
          "new_line_content": "\tstr_uq = unquote_c_style(from, &endp);",
          "content_same": false
        },
        {
          "line": 1658,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Garbage after string in: %s\", command_buf.buf)",
          "old_line_content": "\tif (s) {",
          "new_line_content": "\t\t\tdie(\"Garbage after string in: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(e->versions[1].sha1)",
          "old_line_content": "static void dump_branches()",
          "new_line_content": "\thashclr(e->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(root->versions[1].sha1)",
          "old_line_content": "{",
          "new_line_content": "\thashclr(root->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": null,
          "new_api": "find_mark",
          "old_text": null,
          "new_text": "find_mark(from_mark)",
          "old_line_content": "\t\tunsigned long size;",
          "new_line_content": "\t\tstruct object_entry *oe = find_mark(from_mark);",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Mark :%lu not a commit\", from_mark)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"Mark :%lu not a commit\", from_mark);",
          "content_same": false
        },
        {
          "line": 1671,
          "old_api": null,
          "new_api": "get_sha1",
          "old_text": null,
          "new_text": "get_sha1(from, sha1)",
          "old_line_content": "\t\t\ttype_names[OBJ_COMMIT], &size, sha1);",
          "new_line_content": "\t} else if (!get_sha1(from, sha1)) {",
          "content_same": false
        },
        {
          "line": 1675,
          "old_api": null,
          "new_api": "read_object_with_reference",
          "old_text": null,
          "new_text": "read_object_with_reference(sha1,\n\t\t\ttype_names[OBJ_COMMIT], &size, sha1)",
          "old_line_content": "\t} else",
          "new_line_content": "\t\tbuf = read_object_with_reference(sha1,",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": null,
          "new_api": "lock_any_ref_for_update",
          "old_text": null,
          "new_text": "lock_any_ref_for_update(b->name, NULL)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tlock = lock_any_ref_for_update(b->name, NULL);",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": null,
          "new_api": "write_ref_sha1",
          "old_text": null,
          "new_text": "write_ref_sha1(lock, b->sha1, msg)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (!lock || write_ref_sha1(lock, b->sha1, msg) < 0)",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Can't write %s\", b->name)",
          "old_line_content": "static void dump_tags()",
          "new_line_content": "\t\t\t\tdie(\"Can't write %s\", b->name);",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Not a valid commit: %s\", from)",
          "old_line_content": "\tif (str_uq)",
          "new_line_content": "\t\t\tdie(\"Not a valid commit: %s\", from);",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Invalid ref name or SHA1 expression: %s\", from)",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"Invalid ref name or SHA1 expression: %s\", from);",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(command_buf.buf)",
          "old_line_content": "",
          "new_line_content": "\ttagger = strdup(command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": null,
          "new_api": "sprintf",
          "old_text": null,
          "new_text": "sprintf(path, \"refs/tags/%s\", t->name)",
          "old_line_content": "}",
          "new_line_content": "\t\tsprintf(path, \"refs/tags/%s\", t->name);",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": null,
          "new_api": "lock_any_ref_for_update",
          "old_text": null,
          "new_text": "lock_any_ref_for_update(path, NULL)",
          "old_line_content": "",
          "new_line_content": "\t\tlock = lock_any_ref_for_update(path, NULL);",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": null,
          "new_api": "write_ref_sha1",
          "old_text": null,
          "new_text": "write_ref_sha1(lock, t->sha1, msg)",
          "old_line_content": "static void dump_marks_helper(FILE *f,",
          "new_line_content": "\t\tif (!lock || write_ref_sha1(lock, t->sha1, msg) < 0)",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Can't write %s\", path)",
          "old_line_content": "\tunsigned long base,",
          "new_line_content": "\t\t\tdie(\"Can't write %s\", path);",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "\tsp = new_data.buffer;",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\tsp += msglen;",
          "new_line_content": "\tsp += sprintf(sp, \"object %s\\n\", sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": null,
          "new_api": "sprintf",
          "old_text": null,
          "new_text": "sprintf(sp, \"%s\\n\\n\", tagger)",
          "old_line_content": "",
          "new_line_content": "\tsp += sprintf(sp, \"%s\\n\\n\", tagger);",
          "content_same": false
        },
        {
          "line": 1705,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(tagger)",
          "old_line_content": "",
          "new_line_content": "\tfree(tagger);",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": null,
          "new_api": "dump_marks_helper",
          "old_text": null,
          "new_text": "dump_marks_helper(f, (base + k) << m->shift,\n\t\t\t\t\tm->data.sets[k])",
          "old_line_content": "\t\t\tif (m->data.marked[k])",
          "new_line_content": "\t\t\t\tdump_marks_helper(f, (base + k) << m->shift,",
          "content_same": false
        },
        {
          "line": 1706,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(msg)",
          "old_line_content": "\tif (branch_log) {",
          "new_line_content": "\tfree(msg);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(f, \":%lu %s\\n\", base + k,\n\t\t\t\t\tsha1_to_hex(m->data.marked[k]->sha1))",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tfprintf(f, \":%lu %s\\n\", base + k,",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"internal consistency error creating the index\")",
          "old_line_content": "\tfor (i = 0; i < 256; i++) {",
          "new_line_content": "\t\tdie(\"internal consistency error creating the index\");",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": null,
          "new_api": "qsort",
          "old_text": null,
          "new_text": "qsort(idx, object_count, sizeof(struct object_entry*), oecmp)",
          "old_line_content": "\t\tstruct object_entry **next = c;;",
          "new_line_content": "\tqsort(idx, object_count, sizeof(struct object_entry*), oecmp);",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(m->data.marked[k]->sha1)",
          "old_line_content": "static void dump_marks()",
          "new_line_content": "\t\t\t\t\tsha1_to_hex(m->data.marked[k]->sha1));",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(branch_log, \"tag \")",
          "old_line_content": "\t\t} else",
          "new_line_content": "\t\tfprintf(branch_log, \"tag \");",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": null,
          "new_api": "quote_c_style",
          "old_text": null,
          "new_text": "quote_c_style(t->name, NULL, branch_log, 0)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tquote_c_style(t->name, NULL, branch_log, 0);",
          "content_same": false
        },
        {
          "line": 1717,
          "old_api": null,
          "new_api": "fputc",
          "old_text": null,
          "new_text": "fputc('\"', branch_log)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tfputc('\"', branch_log);",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(branch_log, \"%s\", t->name)",
          "old_line_content": "static void cmd_reset_branch()",
          "new_line_content": "\t\t\tfprintf(branch_log, \"%s\", t->name);",
          "content_same": false
        },
        {
          "line": 1720,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(t->sha1)",
          "old_line_content": "{",
          "new_line_content": "\t\tfprintf(branch_log,\" :%lu %s\\n\",from_mark,sha1_to_hex(t->sha1));",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": null,
          "new_api": "fopen",
          "old_text": null,
          "new_text": "fopen(mark_file, \"w\")",
          "old_line_content": "",
          "new_line_content": "\t\tFILE *f = fopen(mark_file, \"w\");",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": null,
          "new_api": "dump_marks_helper",
          "old_text": null,
          "new_text": "dump_marks_helper(f, 0, marks)",
          "old_line_content": "static void read_next_command()",
          "new_line_content": "\t\tdump_marks_helper(f, 0, marks);",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(f)",
          "old_line_content": "{",
          "new_line_content": "\t\tfclose(f);",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": null,
          "new_api": "sha1write",
          "old_text": null,
          "new_text": "sha1write(f, array, 256 * sizeof(int))",
          "old_line_content": "\t}",
          "new_line_content": "\tsha1write(f, array, 256 * sizeof(int));",
          "content_same": false
        },
        {
          "line": 1732,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(command_buf.buf, ' ')",
          "old_line_content": "\t\tsp = str_uq;",
          "new_line_content": "\tsp = strchr(command_buf.buf, ' ') + 1;",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": null,
          "new_api": "unquote_c_style",
          "old_text": null,
          "new_text": "unquote_c_style(sp, &endp)",
          "old_line_content": "\t}",
          "new_line_content": "\tstr_uq = unquote_c_style(sp, &endp);",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": null,
          "new_api": "sha1write",
          "old_text": null,
          "new_text": "sha1write(f, (*c)->sha1, sizeof((*c)->sha1))",
          "old_line_content": "}",
          "new_line_content": "\t\tsha1write(f, (*c)->sha1, sizeof((*c)->sha1));",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(\"mark :\", command_buf.buf, 6)",
          "old_line_content": "\t\tnext_mark = 0;",
          "new_line_content": "\tif (!strncmp(\"mark :\", command_buf.buf, 6)) {",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": null,
          "new_api": "sha1write",
          "old_text": null,
          "new_text": "sha1write(f, pack_sha1, sizeof(pack_sha1))",
          "old_line_content": "static void end_packfile()",
          "new_line_content": "\tsha1write(f, pack_sha1, sizeof(pack_sha1));",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": null,
          "new_api": "sha1close",
          "old_text": null,
          "new_text": "sha1close(f, NULL, 1)",
          "old_line_content": "{",
          "new_line_content": "\tsha1close(f, NULL, 1);",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(idx)",
          "old_line_content": "\tstruct packed_git *old_p = pack_data, *new_p;",
          "new_line_content": "\tfree(idx);",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(command_buf.buf + 6, NULL, 10)",
          "old_line_content": "}",
          "new_line_content": "\t\tnext_mark = strtoul(command_buf.buf + 6, NULL, 10);",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "",
          "new_line_content": "\t\tread_next_command();",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Garbage after ref in: %s\", command_buf.buf)",
          "old_line_content": "\t\tb->last_commit = 0;",
          "new_line_content": "\t\t\tdie(\"Garbage after ref in: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": null,
          "new_api": "lookup_branch",
          "old_text": null,
          "new_text": "lookup_branch(sp)",
          "old_line_content": "\t\t\tb->branch_tree.tree = NULL;",
          "new_line_content": "\tb = lookup_branch(sp);",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": null,
          "new_api": "fixup_header_footer",
          "old_text": null,
          "new_text": "fixup_header_footer()",
          "old_line_content": "\t\tif (!new_p)",
          "new_line_content": "\t\tfixup_header_footer();",
          "content_same": false
        },
        {
          "line": 1748,
          "old_api": null,
          "new_api": "new_branch",
          "old_text": null,
          "new_text": "new_branch(sp)",
          "old_line_content": "}",
          "new_line_content": "\t\tb = new_branch(sp);",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(\"data \", command_buf.buf, 5)",
          "old_line_content": "",
          "new_line_content": "\tif (strncmp(\"data \", command_buf.buf, 5))",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(idx_name)",
          "old_line_content": "\t\tall_packs[pack_id++] = new_p;",
          "new_line_content": "\t\tnew_p = add_packed_git(idx_name, strlen(idx_name), 1);",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Expected 'data n' command, found: %s\", command_buf.buf)",
          "old_line_content": "\twhile (n < length) {",
          "new_line_content": "\t\tdie(\"Expected 'data n' command, found: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"core git rejected index %s\", idx_name)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tdie(\"core git rejected index %s\", idx_name);",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(str_uq)",
          "old_line_content": "static void cmd_checkpoint()",
          "new_line_content": "\t\tfree(str_uq);",
          "content_same": false
        },
        {
          "line": 1751,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "{",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": null,
          "new_api": "cmd_from",
          "old_text": null,
          "new_text": "cmd_from(b)",
          "old_line_content": "\tif (object_count) {",
          "new_line_content": "\tcmd_from(b);",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": null,
          "new_api": "install_packed_git",
          "old_text": null,
          "new_text": "install_packed_git(new_p)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tinstall_packed_git(new_p);",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread((char*)buffer + n, 1, length - n, stdin)",
          "old_line_content": "",
          "new_line_content": "\t\tsize_t s = fread((char*)buffer + n, 1, length - n, stdin);",
          "content_same": false
        },
        {
          "line": 1758,
          "old_api": null,
          "new_api": "end_packfile",
          "old_text": null,
          "new_text": "end_packfile()",
          "old_line_content": "",
          "new_line_content": "\t\tend_packfile();",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(pack_fd)",
          "old_line_content": "",
          "new_line_content": "\t\tclose(pack_fd);",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": null,
          "new_api": "unlink",
          "old_text": null,
          "new_text": "unlink(old_p->pack_name)",
          "old_line_content": "\t/* We can't carry a delta across packfiles. */",
          "new_line_content": "\t\tunlink(old_p->pack_name);",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": null,
          "new_api": "start_packfile",
          "old_text": null,
          "new_text": "start_packfile()",
          "old_line_content": "static const char fast_import_usage[] =",
          "new_line_content": "\t\tstart_packfile();",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(old_p)",
          "old_line_content": "\tlast_blob.data = NULL;",
          "new_line_content": "\tfree(old_p);",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(idx_name)",
          "old_line_content": "\tlast_blob.len = 0;",
          "new_line_content": "\tfree(idx_name);",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": null,
          "new_api": "fgetc",
          "old_text": null,
          "new_text": "fgetc(stdin)",
          "old_line_content": "}",
          "new_line_content": "\tif (fgetc(stdin) != '\\n')",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"An lf did not trail the binary data as expected.\")",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"An lf did not trail the binary data as expected.\");",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(last_blob.data)",
          "old_line_content": "}",
          "new_line_content": "\tfree(last_blob.data);",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": null,
          "new_api": "setup_ident",
          "old_text": null,
          "new_text": "setup_ident()",
          "old_line_content": "",
          "new_line_content": "\tsetup_ident();",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": null,
          "new_api": "cmd_mark",
          "old_text": null,
          "new_text": "cmd_mark()",
          "old_line_content": "}",
          "new_line_content": "\tcmd_mark();",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": null,
          "new_api": "cmd_data",
          "old_text": null,
          "new_text": "cmd_data(&l)",
          "old_line_content": "",
          "new_line_content": "\td = cmd_data(&l);",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": null,
          "new_api": "store_object",
          "old_text": null,
          "new_text": "store_object(OBJ_BLOB, d, l, &last_blob, NULL, next_mark)",
          "old_line_content": "{",
          "new_line_content": "\tif (store_object(OBJ_BLOB, d, l, &last_blob, NULL, next_mark))",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(d)",
          "old_line_content": "\twhile (cur_active_branches",
          "new_line_content": "\t\tfree(d);",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"bad type %d\", type)",
          "old_line_content": "\t\t*hdr++ = c | 0x80;",
          "new_line_content": "\t\tdie(\"bad type %d\", type);",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(a, \"--depth=\", 8)",
          "old_line_content": "\t\t\tmark_file = a + 15;",
          "new_line_content": "\t\telse if (!strncmp(a, \"--depth=\", 8))",
          "content_same": false
        },
        {
          "line": 1786,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(a + 18, NULL, 0)",
          "old_line_content": "\t\t\tif (!branch_log)",
          "new_line_content": "\t\t\tmax_active_branches = strtoul(a + 18, NULL, 0);",
          "content_same": false
        },
        {
          "line": 1789,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(a, \"--branch-log=\", 13)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\telse if (!strncmp(a, \"--branch-log=\", 13)) {",
          "content_same": false
        },
        {
          "line": 1792,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "\tif ((i+1) != argc)",
          "new_line_content": "\t\t\t\tdie(\"Can't create %s: %s\", a + 13, strerror(errno));",
          "content_same": false
        },
        {
          "line": 1795,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unknown option %s\", a)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"unknown option %s\", a);",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": null,
          "new_api": "usage",
          "old_text": null,
          "new_text": "usage(fast_import_usage)",
          "old_line_content": "",
          "new_line_content": "\t\tusage(fast_import_usage);",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(branch_table_sz, sizeof(struct branch*))",
          "old_line_content": "\tfor (;;) {",
          "new_line_content": "\tbranch_table = xcalloc(branch_table_sz, sizeof(struct branch*));",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": null,
          "new_api": "release_tree_content_recursive",
          "old_text": null,
          "new_text": "release_tree_content_recursive(e->branch_tree.tree)",
          "old_line_content": "}",
          "new_line_content": "\t\t\trelease_tree_content_recursive(e->branch_tree.tree);",
          "content_same": false
        },
        {
          "line": 1807,
          "old_api": null,
          "new_api": "pool_calloc",
          "old_text": null,
          "new_text": "pool_calloc(1, sizeof(struct mark_set))",
          "old_line_content": "\t\tif (command_buf.eof)",
          "new_line_content": "\tmarks = pool_calloc(1, sizeof(struct mark_set));",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": null,
          "new_api": "sprintf",
          "old_text": null,
          "new_text": "sprintf((char*)hdr,\"%s %lu\",type_names[type],datlen)",
          "old_line_content": "\tif (sha1out)",
          "new_line_content": "\thdrlen = sprintf((char*)hdr,\"%s %lu\",type_names[type],datlen) + 1;",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": null,
          "new_api": "SHA1_Update",
          "old_text": null,
          "new_text": "SHA1_Update(&c, hdr, hdrlen)",
          "old_line_content": "",
          "new_line_content": "\tSHA1_Update(&c, hdr, hdrlen);",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": null,
          "new_api": "load_tree",
          "old_text": null,
          "new_text": "load_tree(&b->branch_tree)",
          "old_line_content": "}",
          "new_line_content": "\tload_tree(&b->branch_tree);",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": null,
          "new_api": "SHA1_Final",
          "old_text": null,
          "new_text": "SHA1_Final(sha1, &c)",
          "old_line_content": "\tif (mark)",
          "new_line_content": "\tSHA1_Final(sha1, &c);",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(sha1out, sha1)",
          "old_line_content": "\tif (e->offset) {",
          "new_line_content": "\t\thashcpy(sha1out, sha1);",
          "content_same": false
        },
        {
          "line": 1819,
          "old_api": null,
          "new_api": "cmd_new_tag",
          "old_text": null,
          "new_text": "cmd_new_tag()",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\t\tcmd_new_tag();",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": null,
          "new_api": "insert_object",
          "old_text": null,
          "new_text": "insert_object(sha1)",
          "old_line_content": "\t\treturn 1;",
          "new_line_content": "\te = insert_object(sha1);",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": null,
          "new_api": "cmd_reset_branch",
          "old_text": null,
          "new_text": "cmd_reset_branch()",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tcmd_reset_branch();",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": null,
          "new_api": "insert_mark",
          "old_text": null,
          "new_text": "insert_mark(mark, e)",
          "old_line_content": "\te->type = type;",
          "new_line_content": "\t\tinsert_mark(mark, e);",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": null,
          "new_api": "cmd_checkpoint",
          "old_text": null,
          "new_text": "cmd_checkpoint()",
          "old_line_content": "",
          "new_line_content": "\t\t\tcmd_checkpoint();",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": null,
          "new_api": "end_packfile",
          "old_text": null,
          "new_text": "end_packfile()",
          "old_line_content": "\tif (branch_log)",
          "new_line_content": "\tend_packfile();",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": null,
          "new_api": "dump_branches",
          "old_text": null,
          "new_text": "dump_branches()",
          "old_line_content": "",
          "new_line_content": "\tdump_branches();",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": null,
          "new_api": "dump_marks",
          "old_text": null,
          "new_text": "dump_marks()",
          "old_line_content": "\t\tduplicate_count += duplicate_count_by_type[i];",
          "new_line_content": "\tdump_marks();",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": null,
          "new_api": "get_mode",
          "old_text": null,
          "new_text": "get_mode(p, &mode)",
          "old_line_content": "\tcase S_IFREG | 0755:",
          "new_line_content": "\tp = get_mode(p, &mode);",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": null,
          "new_api": "diff_delta",
          "old_text": null,
          "new_text": "diff_delta(last->data, last->len,\n\t\t\tdat, datlen,\n\t\t\t&deltalen, 0)",
          "old_line_content": "",
          "new_line_content": "\t\tdelta = diff_delta(last->data, last->len,",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Corrupt mode: %s\", command_buf.buf)",
          "old_line_content": "\tcase 0644:",
          "new_line_content": "\t\tdie(\"Corrupt mode: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&s, 0, sizeof(s))",
          "old_line_content": "\t\tunsigned pos = sizeof(hdr) - 1;",
          "new_line_content": "\tmemset(&s, 0, sizeof(s));",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": null,
          "new_api": "deflateInit",
          "old_text": null,
          "new_text": "deflateInit(&s, zlib_compression_level)",
          "old_line_content": "",
          "new_line_content": "\tdeflateInit(&s, zlib_compression_level);",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": null,
          "new_api": "encode_header",
          "old_text": null,
          "new_text": "encode_header(OBJ_OFS_DELTA, deltalen, hdr)",
          "old_line_content": "\t\twhile (ofs >>= 7)",
          "new_line_content": "\t\thdrlen = encode_header(OBJ_OFS_DELTA, deltalen, hdr);",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": null,
          "new_api": "write_or_die",
          "old_text": null,
          "new_text": "write_or_die(pack_fd, hdr, hdrlen)",
          "old_line_content": "\t\t\thdr[--pos] = 128 | (--ofs & 127);",
          "new_line_content": "\t\twrite_or_die(pack_fd, hdr, hdrlen);",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": null,
          "new_api": "get_sha1_hex",
          "old_text": null,
          "new_text": "get_sha1_hex(p, sha1)",
          "old_line_content": "\tif (*p++ != ' ')",
          "new_line_content": "\t\tif (get_sha1_hex(p, sha1))",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"     objects:    %10lu KiB\\n\", (alloc_count*sizeof(struct object_entry))/1024)",
          "old_line_content": "",
          "new_line_content": "\tfprintf(stderr, \"     objects:    %10lu KiB\\n\", (alloc_count*sizeof(struct object_entry))/1024);",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": null,
          "new_api": "find_object",
          "old_text": null,
          "new_text": "find_object(sha1)",
          "old_line_content": "",
          "new_line_content": "\t\toe = find_object(sha1);",
          "content_same": false
        },
        {
          "line": 1852,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"---------------------------------------------------------------------\\n\")",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\tfprintf(stderr, \"---------------------------------------------------------------------\\n\");",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": null,
          "new_api": "pack_report",
          "old_text": null,
          "new_text": "pack_report()",
          "old_line_content": "}",
          "new_line_content": "\tpack_report();",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": null,
          "new_api": "write_or_die",
          "old_text": null,
          "new_text": "write_or_die(pack_fd, hdr + pos, sizeof(hdr) - pos)",
          "old_line_content": "\t\ts.next_in = dat;",
          "new_line_content": "\t\twrite_or_die(pack_fd, hdr + pos, sizeof(hdr) - pos);",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"---------------------------------------------------------------------\\n\")",
          "old_line_content": "",
          "new_line_content": "\tfprintf(stderr, \"---------------------------------------------------------------------\\n\");",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"\\n\")",
          "old_line_content": "",
          "new_line_content": "\tfprintf(stderr, \"\\n\");",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": null,
          "new_api": "unquote_c_style",
          "old_text": null,
          "new_text": "unquote_c_style(p, &endp)",
          "old_line_content": "\t}",
          "new_line_content": "\tp_uq = unquote_c_style(p, &endp);",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Garbage after path in: %s\", command_buf.buf)",
          "old_line_content": "\t\tif (oe->type != OBJ_BLOB)",
          "new_line_content": "\t\t\tdie(\"Garbage after path in: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "deflateBound",
          "old_text": null,
          "new_text": "deflateBound(&s, s.avail_in)",
          "old_line_content": "",
          "new_line_content": "\ts.avail_out = deflateBound(&s, s.avail_in);",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": null,
          "new_api": "deflate",
          "old_text": null,
          "new_text": "deflate(&s, Z_FINISH)",
          "old_line_content": "\tpack_size += s.total_out;",
          "new_line_content": "\twhile (deflate(&s, Z_FINISH) == Z_OK)",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": null,
          "new_api": "sha1_object_info",
          "old_text": null,
          "new_text": "sha1_object_info(sha1, type, NULL)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (sha1_object_info(sha1, type, NULL))",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Blob not found: %s\", command_buf.buf)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"Blob not found: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Not a blob (actually a %s): %s\",\n\t\t\t\tcommand_buf.buf, type)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"Not a blob (actually a %s): %s\",",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": null,
          "new_api": "tree_content_set",
          "old_text": null,
          "new_text": "tree_content_set(&b->branch_tree, p, sha1, S_IFREG | mode)",
          "old_line_content": "",
          "new_line_content": "\ttree_content_set(&b->branch_tree, p, sha1, S_IFREG | mode);",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(delta)",
          "old_line_content": "\t\tlast->offset = e->offset;",
          "new_line_content": "\t\tfree(delta);",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(p_uq)",
          "old_line_content": "\tconst char *p = command_buf.buf + 2;",
          "new_line_content": "\t\tfree(p_uq);",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(last->data)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\t\tfree(last->data);",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": null,
          "new_api": "unquote_c_style",
          "old_text": null,
          "new_text": "unquote_c_style(p, &endp)",
          "old_line_content": "\t}",
          "new_line_content": "\tp_uq = unquote_c_style(p, &endp);",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": null,
          "new_api": "tree_content_remove",
          "old_text": null,
          "new_text": "tree_content_remove(&b->branch_tree, p)",
          "old_line_content": "static void cmd_from(struct branch *b)",
          "new_line_content": "\ttree_content_remove(&b->branch_tree, p);",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": null,
          "new_api": "unpack_entry",
          "old_text": null,
          "new_text": "unpack_entry(p, oe->offset, type, sizep)",
          "old_line_content": "\tunsigned char c;",
          "new_line_content": "\treturn unpack_entry(p, oe->offset, type, sizep);",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(p_uq)",
          "old_line_content": "\tconst char *from, *endp;",
          "new_line_content": "\t\tfree(p_uq);",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(\"from \", command_buf.buf, 5)",
          "old_line_content": "",
          "new_line_content": "\tif (strncmp(\"from \", command_buf.buf, 5))",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Can't reinitailize branch %s\", b->name)",
          "old_line_content": "\t\tif (*endp)",
          "new_line_content": "\t\tdie(\"Can't reinitailize branch %s\", b->name);",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(command_buf.buf, ' ')",
          "old_line_content": "\t\tfrom = str_uq;",
          "new_line_content": "\tfrom = strchr(command_buf.buf, ' ') + 1;",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": null,
          "new_api": "unquote_c_style",
          "old_text": null,
          "new_text": "unquote_c_style(from, &endp)",
          "old_line_content": "\t}",
          "new_line_content": "\tstr_uq = unquote_c_style(from, &endp);",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Garbage after string in: %s\", command_buf.buf)",
          "old_line_content": "\tif (b == s)",
          "new_line_content": "\t\t\tdie(\"Garbage after string in: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": null,
          "new_api": "new_tree_content",
          "old_text": null,
          "new_text": "new_tree_content(8)",
          "old_line_content": "\tif (myoe) {",
          "new_line_content": "\troot->tree = t = new_tree_content(8);",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": null,
          "new_api": "is_null_sha1",
          "old_text": null,
          "new_text": "is_null_sha1(sha1)",
          "old_line_content": "\t\tif (myoe->type != OBJ_TREE)",
          "new_line_content": "\tif (is_null_sha1(sha1))",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(b->branch_tree.versions[0].sha1, t)",
          "old_line_content": "\t\tunsigned long size;",
          "new_line_content": "\t\thashcpy(b->branch_tree.versions[0].sha1, t);",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(b->branch_tree.versions[1].sha1, t)",
          "old_line_content": "\t\tchar *buf;",
          "new_line_content": "\t\thashcpy(b->branch_tree.versions[1].sha1, t);",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": null,
          "new_api": "read_sha1_file",
          "old_text": null,
          "new_text": "read_sha1_file(sha1, type, &size)",
          "old_line_content": "\tc = buf;",
          "new_line_content": "\t\tbuf = read_sha1_file(sha1, type, &size);",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(type, tree_type)",
          "old_line_content": "\twhile (c != (buf + size)) {",
          "new_line_content": "\t\tif (!buf || strcmp(type, tree_type))",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(\"tree \", buf, 5)",
          "old_line_content": "\t\t\tb->branch_tree.versions[1].sha1);",
          "new_line_content": "\t\tif (memcmp(\"tree \", buf, 5)",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": null,
          "new_api": "new_tree_entry",
          "old_text": null,
          "new_text": "new_tree_entry()",
          "old_line_content": "",
          "new_line_content": "\t\tstruct tree_entry *e = new_tree_entry();",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": null,
          "new_api": "grow_tree_content",
          "old_text": null,
          "new_text": "grow_tree_content(t, 8)",
          "old_line_content": "\t\tif (!c)",
          "new_line_content": "\t\t\troot->tree = t = grow_tree_content(t, 8);",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": null,
          "new_api": "get_sha1",
          "old_text": null,
          "new_text": "get_sha1(from, b->sha1)",
          "old_line_content": "\t\t\tunsigned long size;",
          "new_line_content": "\t} else if (!get_sha1(from, b->sha1)) {",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": null,
          "new_api": "is_null_sha1",
          "old_text": null,
          "new_text": "is_null_sha1(b->sha1)",
          "old_line_content": "\t\t\tchar *buf;",
          "new_line_content": "\t\tif (is_null_sha1(b->sha1)) {",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(b->branch_tree.versions[0].sha1)",
          "old_line_content": "",
          "new_line_content": "\t\t\thashclr(b->branch_tree.versions[0].sha1);",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": null,
          "new_api": "get_mode",
          "old_text": null,
          "new_text": "get_mode(c, &e->versions[1].mode)",
          "old_line_content": "\t\tc += e->name->str_len + 1;",
          "new_line_content": "\t\tc = get_mode(c, &e->versions[1].mode);",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(c)",
          "old_line_content": "\t}",
          "new_line_content": "\t\te->name = to_atom(c, strlen(c));",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(e->versions[0].sha1, (unsigned char*)c)",
          "old_line_content": "}",
          "new_line_content": "\t\thashcpy(e->versions[0].sha1, (unsigned char*)c);",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(e->versions[1].sha1, (unsigned char*)c)",
          "old_line_content": "",
          "new_line_content": "\t\thashcpy(e->versions[1].sha1, (unsigned char*)c);",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(\"tree \", buf, 5)",
          "old_line_content": "\t\t\t\tb->branch_tree.versions[1].sha1);",
          "new_line_content": "\t\t\tif (memcmp(\"tree \", buf, 5)",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": null,
          "new_api": "get_sha1_hex",
          "old_text": null,
          "new_text": "get_sha1_hex(buf + 5, b->branch_tree.versions[1].sha1)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t|| get_sha1_hex(buf + 5, b->branch_tree.versions[1].sha1))",
          "content_same": false
        },
        {
          "line": 938,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(buf)",
          "old_line_content": "\tstruct tree_entry *a = *((struct tree_entry**)_a);",
          "new_line_content": "\tfree(buf);",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(b->sha1)",
          "old_line_content": "\t} else",
          "new_line_content": "\t\t\t\tdie(\"The commit %s is corrupt\", sha1_to_hex(b->sha1));",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(b->branch_tree.versions[0].sha1,\n\t\t\t\tb->branch_tree.versions[1].sha1)",
          "old_line_content": "",
          "new_line_content": "\t\t\thashcpy(b->branch_tree.versions[0].sha1,",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Invalid ref name or SHA1 expression: %s\", from)",
          "old_line_content": "static struct hash_list* cmd_merge(unsigned int *count)",
          "new_line_content": "\t\tdie(\"Invalid ref name or SHA1 expression: %s\", from);",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": null,
          "new_api": "base_name_compare",
          "old_text": null,
          "new_text": "base_name_compare(\n\t\ta->name->str_dat, a->name->str_len, a->versions[0].mode,\n\t\tb->name->str_dat, b->name->str_len, b->versions[0].mode)",
          "old_line_content": "static int tecmp1 (const void *_a, const void *_b)",
          "new_line_content": "\treturn base_name_compare(",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "\tstruct hash_list *list = NULL, *n, *e;",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": null,
          "new_api": "base_name_compare",
          "old_text": null,
          "new_text": "base_name_compare(\n\t\ta->name->str_dat, a->name->str_len, a->versions[1].mode,\n\t\tb->name->str_dat, b->name->str_len, b->versions[1].mode)",
          "old_line_content": "static void mktree(struct tree_content *t,",
          "new_line_content": "\treturn base_name_compare(",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(command_buf.buf, ' ')",
          "old_line_content": "\t\t\tfrom = str_uq;",
          "new_line_content": "\t\tfrom = strchr(command_buf.buf, ' ') + 1;",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": null,
          "new_api": "unquote_c_style",
          "old_text": null,
          "new_text": "unquote_c_style(from, &endp)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tstr_uq = unquote_c_style(from, &endp);",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": null,
          "new_api": "qsort",
          "old_text": null,
          "new_text": "qsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp0)",
          "old_line_content": "\t\tif (t->entries[i]->versions[v].mode)",
          "new_line_content": "\t\tqsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp0);",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": null,
          "new_api": "qsort",
          "old_text": null,
          "new_text": "qsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tqsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp1);",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Mark :%lu not a commit\", idnum)",
          "old_line_content": "\t\tn->next = NULL;",
          "new_line_content": "\t\t\t\tdie(\"Mark :%lu not a commit\", idnum);",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(n->sha1, oe->sha1)",
          "old_line_content": "\t\tif (list)",
          "new_line_content": "\t\t\thashcpy(n->sha1, oe->sha1);",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": null,
          "new_api": "get_sha1",
          "old_text": null,
          "new_text": "get_sha1(from, n->sha1)",
          "old_line_content": "\t\t\te->next = n;",
          "new_line_content": "\t\t} else if (get_sha1(from, n->sha1))",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Invalid ref name or SHA1 expression: %s\", from)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\t\tdie(\"Invalid ref name or SHA1 expression: %s\", from);",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": null,
          "new_api": "size_dbuf",
          "old_text": null,
          "new_text": "size_dbuf(b, maxlen)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\tsize_dbuf(b, maxlen);",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": null,
          "new_api": "sprintf",
          "old_text": null,
          "new_text": "sprintf(c, \"%o\", e->versions[v].mode)",
          "old_line_content": "\t\tc += 20;",
          "new_line_content": "\t\tc += sprintf(c, \"%o\", e->versions[v].mode);",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(c, e->name->str_dat)",
          "old_line_content": "\t*szp = c - (char*)b->buffer;",
          "new_line_content": "\t\tstrcpy(c, e->name->str_dat);",
          "content_same": false
        },
        {
          "line": 1498,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "static void cmd_new_commit()",
          "new_line_content": "\t\tread_next_command();",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy((unsigned char*)c, e->versions[v].sha1)",
          "old_line_content": "",
          "new_line_content": "\t\thashcpy((unsigned char*)c, e->versions[v].sha1);",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(command_buf.buf, ' ')",
          "old_line_content": "\t\tsp = str_uq;",
          "new_line_content": "\tsp = strchr(command_buf.buf, ' ') + 1;",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": null,
          "new_api": "unquote_c_style",
          "old_text": null,
          "new_text": "unquote_c_style(sp, &endp)",
          "old_line_content": "\t}",
          "new_line_content": "\tstr_uq = unquote_c_style(sp, &endp);",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": null,
          "new_api": "store_tree",
          "old_text": null,
          "new_text": "store_tree(t->entries[i])",
          "old_line_content": "\t\t|| !le",
          "new_line_content": "\t\t\tstore_tree(t->entries[i]);",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": null,
          "new_api": "find_object",
          "old_text": null,
          "new_text": "find_object(root->versions[0].sha1)",
          "old_line_content": "\t\tlo.depth = 0;",
          "new_line_content": "\tle = find_object(root->versions[0].sha1);",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(root->versions[0].mode)",
          "old_line_content": "\t} else {",
          "new_line_content": "\tif (!S_ISDIR(root->versions[0].mode)",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": null,
          "new_api": "lookup_branch",
          "old_text": null,
          "new_text": "lookup_branch(sp)",
          "old_line_content": "",
          "new_line_content": "\tb = lookup_branch(sp);",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": null,
          "new_api": "mktree",
          "old_text": null,
          "new_text": "mktree(t, 0, &lo.len, &old_tree)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmktree(t, 0, &lo.len, &old_tree);",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "\t}",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tread_next_command();",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1539,
          "old_api": "cmd_from",
          "new_api": null,
          "old_text": "cmd_from(b)",
          "new_text": null,
          "old_line_content": "\tcmd_from(b);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(e->versions[0].sha1, e->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\t\t\thashcpy(e->versions[0].sha1, e->versions[1].sha1);",
          "new_line_content": "\tt->delta_depth = lo.depth;",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": "cmd_merge",
          "new_api": null,
          "old_text": "cmd_merge(&merge_count)",
          "new_text": null,
          "old_line_content": "\tmerge_list = cmd_merge(&merge_count);",
          "new_line_content": "\tif (!committer)",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": "release_tree_entry",
          "new_api": null,
          "old_text": "release_tree_entry(e)",
          "new_text": null,
          "old_line_content": "\t\t\trelease_tree_entry(e);",
          "new_line_content": "\t\tif (e->versions[1].mode) {",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(\"M \", command_buf.buf, 2)",
          "new_text": null,
          "old_line_content": "\t\telse if (!strncmp(\"M \", command_buf.buf, 2))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "file_change_m",
          "new_api": null,
          "old_text": "file_change_m(b)",
          "new_text": null,
          "old_line_content": "\t\t\tfile_change_m(b);",
          "new_line_content": "\t/* file_change* */",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(\"D \", command_buf.buf, 2)",
          "new_text": null,
          "old_line_content": "\t\telse if (!strncmp(\"D \", command_buf.buf, 2))",
          "new_line_content": "\tfor (;;) {",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": "file_change_d",
          "new_api": null,
          "old_text": "file_change_d(b)",
          "new_text": null,
          "old_line_content": "\t\t\tfile_change_d(b);",
          "new_line_content": "\t\tif (1 == command_buf.len)",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(p, '/')",
          "new_text": null,
          "old_line_content": "\tslash1 = strchr(p, '/');",
          "new_line_content": "\tstruct tree_content *t = root->tree;",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(p)",
          "new_text": null,
          "old_line_content": "\t\tn = strlen(p);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "size_dbuf",
          "new_api": null,
          "old_text": "size_dbuf(&new_data, 97 + msglen\n\t\t+ merge_count * 49\n\t\t+ (author\n\t\t\t? strlen(author) + strlen(committer)\n\t\t\t: 2 * strlen(committer)))",
          "new_text": null,
          "old_line_content": "\tsize_dbuf(&new_data, 97 + msglen",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(p, e->name->str_dat, n)",
          "new_text": null,
          "old_line_content": "\t\tif (e->name->str_len == n && !strncmp(p, e->name->str_dat, n)) {",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(committer)",
          "new_text": null,
          "old_line_content": "\t\t\t: 2 * strlen(committer)));",
          "new_line_content": "\t\tb->branch_tree.versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(sp, \"tree %s\\n\",\n\t\tsha1_to_hex(b->branch_tree.versions[1].sha1))",
          "new_text": null,
          "old_line_content": "\tsp += sprintf(sp, \"tree %s\\n\",",
          "new_line_content": "\t\t+ merge_count * 49",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "hashcmp",
          "new_api": null,
          "old_text": "hashcmp(e->versions[1].sha1, sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t&& !hashcmp(e->versions[1].sha1, sha1))",
          "new_line_content": "\tfor (i = 0; i < t->entry_count; i++) {",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(b->branch_tree.versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\t\tsha1_to_hex(b->branch_tree.versions[1].sha1));",
          "new_line_content": "\t\t+ (author",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(e->versions[1].sha1, sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\thashcpy(e->versions[1].sha1, sha1);",
          "new_line_content": "\t\t\tif (!slash1) {",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": "S_ISDIR",
          "new_api": null,
          "old_text": "S_ISDIR(e->versions[1].mode)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!S_ISDIR(e->versions[1].mode)) {",
          "new_line_content": "\t\t\t\t\te->tree = NULL;",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": "new_tree_content",
          "new_api": null,
          "old_text": "new_tree_content(8)",
          "new_text": null,
          "old_line_content": "\t\t\t\te->tree = new_tree_content(8);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(sp, \"author %s\\n\", committer + 10)",
          "new_text": null,
          "old_line_content": "\t\tsp += sprintf(sp, \"author %s\\n\", committer + 10);",
          "new_line_content": "\t\tmerge_list = next;",
          "content_same": false
        },
        {
          "line": 1585,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(sp, \"%s\\n\\n\", committer)",
          "new_text": null,
          "old_line_content": "\tsp += sprintf(sp, \"%s\\n\\n\", committer);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(sp, msg, msglen)",
          "new_text": null,
          "old_line_content": "\tmemcpy(sp, msg, msglen);",
          "new_line_content": "\tif (author)",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(root->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\thashclr(root->versions[1].sha1);",
          "new_line_content": "\t\t\t\te->versions[1].mode = S_IFDIR;",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": "store_object",
          "new_api": null,
          "old_text": "store_object(OBJ_COMMIT,\n\t\tnew_data.buffer, sp - (char*)new_data.buffer,\n\t\tNULL, b->sha1, next_mark)",
          "new_text": null,
          "old_line_content": "\tstore_object(OBJ_COMMIT,",
          "new_line_content": "\tif (author)",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "grow_tree_content",
          "new_api": null,
          "old_text": "grow_tree_content(t, 8)",
          "new_text": null,
          "old_line_content": "\t\troot->tree = t = grow_tree_content(t, 8);",
          "new_line_content": "\t\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": "new_tree_entry",
          "new_api": null,
          "old_text": "new_tree_entry()",
          "new_text": null,
          "old_line_content": "\te = new_tree_entry();",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": "to_atom",
          "new_api": null,
          "old_text": "to_atom(p, n)",
          "new_text": null,
          "old_line_content": "\te->name = to_atom(p, n);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": "quote_c_style",
          "new_api": null,
          "old_text": "quote_c_style(b->name, NULL, NULL, 0)",
          "new_text": null,
          "old_line_content": "\t\tint need_dq = quote_c_style(b->name, NULL, NULL, 0);",
          "new_line_content": "\t\tnew_data.buffer, sp - (char*)new_data.buffer,",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(e->versions[0].sha1)",
          "new_text": null,
          "old_line_content": "\thashclr(e->versions[0].sha1);",
          "new_line_content": "\tif (t->entry_count == t->entry_capacity)",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(branch_log, \"commit \")",
          "new_text": null,
          "old_line_content": "\t\tfprintf(branch_log, \"commit \");",
          "new_line_content": "\t\tNULL, b->sha1, next_mark);",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": "fputc",
          "new_api": null,
          "old_text": "fputc('\"', branch_log)",
          "new_text": null,
          "old_line_content": "\t\t\tfputc('\"', branch_log);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": "quote_c_style",
          "new_api": null,
          "old_text": "quote_c_style(b->name, NULL, branch_log, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tquote_c_style(b->name, NULL, branch_log, 0);",
          "new_line_content": "\tif (branch_log) {",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(branch_log, \"%s\", b->name)",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(branch_log, \"%s\", b->name);",
          "new_line_content": "\t\tif (need_dq) {",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(e->versions[1].sha1, sha1)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(e->versions[1].sha1, sha1);",
          "new_line_content": "\t\te->versions[1].mode = S_IFDIR;",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(root->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\thashclr(root->versions[1].sha1);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(p, '/')",
          "new_text": null,
          "old_line_content": "\tslash1 = strchr(p, '/');",
          "new_line_content": "\tstruct tree_content *t = root->tree;",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(command_buf.buf, ' ')",
          "new_text": null,
          "old_line_content": "\tsp = strchr(command_buf.buf, ' ') + 1;",
          "new_line_content": "\tstruct tag *t;",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": "unquote_c_style",
          "new_api": null,
          "old_text": "unquote_c_style(sp, &endp)",
          "new_text": null,
          "old_line_content": "\tstr_uq = unquote_c_style(sp, &endp);",
          "new_line_content": "\tunsigned long from_mark = 0;",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(p)",
          "new_text": null,
          "old_line_content": "\t\tn = strlen(p);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1630,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Garbage after tag name in: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Garbage after tag name in: %s\", command_buf.buf);",
          "new_line_content": "\t/* Obtain the new tag name from the rest of our command */",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(p, e->name->str_dat, n)",
          "new_text": null,
          "old_line_content": "\t\tif (e->name->str_len == n && !strncmp(p, e->name->str_dat, n)) {",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": "pool_alloc",
          "new_api": null,
          "old_text": "pool_alloc(sizeof(struct tag))",
          "new_text": null,
          "old_line_content": "\tt = pool_alloc(sizeof(struct tag));",
          "new_line_content": "\tif (str_uq) {",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": "load_tree",
          "new_api": null,
          "old_text": "load_tree(e)",
          "new_text": null,
          "old_line_content": "\t\t\t\tload_tree(e);",
          "new_line_content": "\t\te = t->entries[i];",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(root->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\thashclr(root->versions[1].sha1);",
          "new_line_content": "\t\t\tif (!e->tree)",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(str_uq)",
          "new_text": null,
          "old_line_content": "\t\tfree(str_uq);",
          "new_line_content": "\t\tlast_tag->next_tag = t;",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\tread_next_command();",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(\"from \", command_buf.buf, 5)",
          "new_text": null,
          "old_line_content": "\tif (strncmp(\"from \", command_buf.buf, 5))",
          "new_line_content": "\tif (str_uq)",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(command_buf.buf, ' ')",
          "new_text": null,
          "old_line_content": "\tfrom = strchr(command_buf.buf, ' ') + 1;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1650,
          "old_api": "unquote_c_style",
          "new_api": null,
          "old_text": "unquote_c_style(from, &endp)",
          "new_text": null,
          "old_line_content": "\tstr_uq = unquote_c_style(from, &endp);",
          "new_line_content": "\t/* from ... */",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "release_tree_content_recursive",
          "new_api": null,
          "old_text": "release_tree_content_recursive(e->tree)",
          "new_text": null,
          "old_line_content": "\t\trelease_tree_content_recursive(e->tree);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Garbage after string in: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Garbage after string in: %s\", command_buf.buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(e->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\thashclr(e->versions[1].sha1);",
          "new_line_content": "\tif (e->tree) {",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": "lookup_branch",
          "new_api": null,
          "old_text": "lookup_branch(from)",
          "new_text": null,
          "old_line_content": "\ts = lookup_branch(from);",
          "new_line_content": "\t\tif (*endp)",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(sha1, s->sha1)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(sha1, s->sha1);",
          "new_line_content": "\t\tfrom = str_uq;",
          "content_same": false
        },
        {
          "line": 1661,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(from + 1, NULL, 10)",
          "new_text": null,
          "old_line_content": "\t\tfrom_mark = strtoul(from + 1, NULL, 10);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1665,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(sha1, oe->sha1)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(sha1, oe->sha1);",
          "new_line_content": "\t} else if (*from == ':') {",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "lock_any_ref_for_update",
          "new_api": null,
          "old_text": "lock_any_ref_for_update(b->name, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\tlock = lock_any_ref_for_update(b->name, NULL);",
          "new_line_content": "\tstruct branch *b;",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": "write_ref_sha1",
          "new_api": null,
          "old_text": "write_ref_sha1(lock, b->sha1, msg)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!lock || write_ref_sha1(lock, b->sha1, msg) < 0)",
          "new_line_content": "\tstruct ref_lock *lock;",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Can't write %s\", b->name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"Can't write %s\", b->name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Not a valid commit: %s\", from)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Not a valid commit: %s\", from);",
          "new_line_content": "\t\tchar *buf;",
          "content_same": false
        },
        {
          "line": 1674,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buf)",
          "new_text": null,
          "old_line_content": "\t\tfree(buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Invalid ref name or SHA1 expression: %s\", from)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Invalid ref name or SHA1 expression: %s\", from);",
          "new_line_content": "\t\t\ttype_names[OBJ_COMMIT], &size, sha1);",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\tread_next_command();",
          "new_line_content": "\t} else",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(\"tagger \", command_buf.buf, 7)",
          "new_text": null,
          "old_line_content": "\tif (strncmp(\"tagger \", command_buf.buf, 7))",
          "new_line_content": "\tif (str_uq)",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(path, \"refs/tags/%s\", t->name)",
          "new_text": null,
          "old_line_content": "\t\tsprintf(path, \"refs/tags/%s\", t->name);",
          "new_line_content": "\tstruct tag *t;",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "lock_any_ref_for_update",
          "new_api": null,
          "old_text": "lock_any_ref_for_update(path, NULL)",
          "new_text": null,
          "old_line_content": "\t\tlock = lock_any_ref_for_update(path, NULL);",
          "new_line_content": "\tstruct ref_lock *lock;",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": "write_ref_sha1",
          "new_api": null,
          "old_text": "write_ref_sha1(lock, t->sha1, msg)",
          "new_text": null,
          "old_line_content": "\t\tif (!lock || write_ref_sha1(lock, t->sha1, msg) < 0)",
          "new_line_content": "\tchar path[PATH_MAX];",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Can't write %s\", path)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Can't write %s\", path);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(tagger)",
          "new_text": null,
          "old_line_content": "\tsize_dbuf(&new_data, 67+strlen(t->name)+strlen(tagger)+msglen);",
          "new_line_content": "\t/* tag payload/message */",
          "content_same": false
        },
        {
          "line": 1695,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(sp, \"type %s\\n\", type_names[OBJ_COMMIT])",
          "new_text": null,
          "old_line_content": "\tsp += sprintf(sp, \"type %s\\n\", type_names[OBJ_COMMIT]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1696,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(sp, \"tag %s\\n\", t->name)",
          "new_text": null,
          "old_line_content": "\tsp += sprintf(sp, \"tag %s\\n\", t->name);",
          "new_line_content": "\t/* build the tag object */",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(sp, msg, msglen)",
          "new_text": null,
          "old_line_content": "\tmemcpy(sp, msg, msglen);",
          "new_line_content": "\tsp = new_data.buffer;",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": "dump_marks_helper",
          "new_api": null,
          "old_text": "dump_marks_helper(f, (base + k) << m->shift,\n\t\t\t\t\tm->data.sets[k])",
          "new_text": null,
          "old_line_content": "\t\t\t\tdump_marks_helper(f, (base + k) << m->shift,",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(f, \":%lu %s\\n\", base + k,\n\t\t\t\t\tsha1_to_hex(m->data.marked[k]->sha1))",
          "new_text": null,
          "old_line_content": "\t\t\t\tfprintf(f, \":%lu %s\\n\", base + k,",
          "new_line_content": "\t\t\t\t\tm->data.sets[k]);",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(m->data.marked[k]->sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tsha1_to_hex(m->data.marked[k]->sha1));",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": "qsort",
          "new_api": null,
          "old_text": "qsort(idx, object_count, sizeof(struct object_entry*), oecmp)",
          "new_text": null,
          "old_line_content": "\tqsort(idx, object_count, sizeof(struct object_entry*), oecmp);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": "quote_c_style",
          "new_api": null,
          "old_text": "quote_c_style(t->name, NULL, NULL, 0)",
          "new_text": null,
          "old_line_content": "\t\tint need_dq = quote_c_style(t->name, NULL, NULL, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": "fputc",
          "new_api": null,
          "old_text": "fputc('\"', branch_log)",
          "new_text": null,
          "old_line_content": "\t\t\tfputc('\"', branch_log);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1711,
          "old_api": "quote_c_style",
          "new_api": null,
          "old_text": "quote_c_style(t->name, NULL, branch_log, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tquote_c_style(t->name, NULL, branch_log, 0);",
          "new_line_content": "\tif (branch_log) {",
          "content_same": false
        },
        {
          "line": 1714,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(branch_log, \"%s\", t->name)",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(branch_log, \"%s\", t->name);",
          "new_line_content": "\t\tif (need_dq) {",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "fopen",
          "new_api": null,
          "old_text": "fopen(mark_file, \"w\")",
          "new_text": null,
          "old_line_content": "\t\tFILE *f = fopen(mark_file, \"w\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "dump_marks_helper",
          "new_api": null,
          "old_text": "dump_marks_helper(f, 0, marks)",
          "new_text": null,
          "old_line_content": "\t\tdump_marks_helper(f, 0, marks);",
          "new_line_content": "static void dump_marks()",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(f)",
          "new_text": null,
          "old_line_content": "\t\tfclose(f);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(next - idx)",
          "new_text": null,
          "old_line_content": "\t\tarray[i] = htonl(next - idx);",
          "new_line_content": "\t\twhile (next < last) {",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "sha1create",
          "new_api": null,
          "old_text": "sha1create(\"%s\", idx_name)",
          "new_text": null,
          "old_line_content": "\tf = sha1create(\"%s\", idx_name);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "read_line",
          "new_api": null,
          "old_text": "read_line(&command_buf, stdin, '\\n')",
          "new_text": null,
          "old_line_content": "\tread_line(&command_buf, stdin, '\\n');",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl((*c)->offset)",
          "new_text": null,
          "old_line_content": "\t\tunsigned int offset = htonl((*c)->offset);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "sha1write",
          "new_api": null,
          "old_text": "sha1write(f, &offset, 4)",
          "new_text": null,
          "old_line_content": "\t\tsha1write(f, &offset, 4);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1727,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(command_buf.buf, ' ')",
          "new_text": null,
          "old_line_content": "\tsp = strchr(command_buf.buf, ' ') + 1;",
          "new_line_content": "\tchar *str_uq;",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": "unquote_c_style",
          "new_api": null,
          "old_text": "unquote_c_style(sp, &endp)",
          "new_text": null,
          "old_line_content": "\tstr_uq = unquote_c_style(sp, &endp);",
          "new_line_content": "\tconst char *endp;",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": "sha1write",
          "new_api": null,
          "old_text": "sha1write(f, pack_sha1, sizeof(pack_sha1))",
          "new_text": null,
          "old_line_content": "\tsha1write(f, pack_sha1, sizeof(pack_sha1));",
          "new_line_content": "\tfor (c = idx; c != last; c++) {",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(command_buf.buf + 6, NULL, 10)",
          "new_text": null,
          "old_line_content": "\t\tnext_mark = strtoul(command_buf.buf + 6, NULL, 10);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\t\tread_next_command();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1731,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Garbage after ref in: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Garbage after ref in: %s\", command_buf.buf);",
          "new_line_content": "\t/* Obtain the branch name from the rest of our command */",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": "lookup_branch",
          "new_api": null,
          "old_text": "lookup_branch(sp)",
          "new_text": null,
          "old_line_content": "\tb = lookup_branch(sp);",
          "new_line_content": "\tif (str_uq) {",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "release_tree_content_recursive",
          "new_api": null,
          "old_text": "release_tree_content_recursive(b->branch_tree.tree)",
          "new_text": null,
          "old_line_content": "\t\t\trelease_tree_content_recursive(b->branch_tree.tree);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": "fixup_header_footer",
          "new_api": null,
          "old_text": "fixup_header_footer()",
          "new_text": null,
          "old_line_content": "\t\tfixup_header_footer();",
          "new_line_content": "static void end_packfile()",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": "write_index",
          "new_api": null,
          "old_text": "write_index(idx_name)",
          "new_text": null,
          "old_line_content": "\t\twrite_index(idx_name);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(\"data \", command_buf.buf, 5)",
          "new_text": null,
          "old_line_content": "\tif (strncmp(\"data \", command_buf.buf, 5))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(idx_name)",
          "new_text": null,
          "old_line_content": "\t\tnew_p = add_packed_git(idx_name, strlen(idx_name), 1);",
          "new_line_content": "\tif (object_count) {",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Expected 'data n' command, found: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Expected 'data n' command, found: %s\", command_buf.buf);",
          "new_line_content": "\tsize_t n = 0;",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(command_buf.buf + 5, NULL, 10)",
          "new_text": null,
          "old_line_content": "\tlength = strtoul(command_buf.buf + 5, NULL, 10);",
          "new_line_content": "\tsize_t length;",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(length)",
          "new_text": null,
          "old_line_content": "\tbuffer = xmalloc(length);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(str_uq)",
          "new_text": null,
          "old_line_content": "\t\tfree(str_uq);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\tread_next_command();",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "install_packed_git",
          "new_api": null,
          "old_text": "install_packed_git(new_p)",
          "new_text": null,
          "old_line_content": "\t\tinstall_packed_git(new_p);",
          "new_line_content": "\t\tif (!new_p)",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread((char*)buffer + n, 1, length - n, stdin)",
          "new_text": null,
          "old_line_content": "\t\tsize_t s = fread((char*)buffer + n, 1, length - n, stdin);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": "cmd_from",
          "new_api": null,
          "old_text": "cmd_from(b)",
          "new_text": null,
          "old_line_content": "\tcmd_from(b);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(pack_fd)",
          "new_text": null,
          "old_line_content": "\t\tclose(pack_fd);",
          "new_line_content": "\t\tnew_p->pack_fd = old_p->pack_fd;",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": "unlink",
          "new_api": null,
          "old_text": "unlink(old_p->pack_name)",
          "new_text": null,
          "old_line_content": "\t\tunlink(old_p->pack_name);",
          "new_line_content": "\t\tall_packs[pack_id++] = new_p;",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": "end_packfile",
          "new_api": null,
          "old_text": "end_packfile()",
          "new_text": null,
          "old_line_content": "\t\tend_packfile();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(old_p)",
          "new_text": null,
          "old_line_content": "\tfree(old_p);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(idx_name)",
          "new_text": null,
          "old_line_content": "\tfree(idx_name);",
          "new_line_content": "\telse {",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": "start_packfile",
          "new_api": null,
          "old_text": "start_packfile()",
          "new_text": null,
          "old_line_content": "\t\tstart_packfile();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1756,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\tread_next_command();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(last_blob.data)",
          "new_text": null,
          "old_line_content": "\tfree(last_blob.data);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": "setup_ident",
          "new_api": null,
          "old_text": "setup_ident()",
          "new_text": null,
          "old_line_content": "\tsetup_ident();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\tread_next_command();",
          "new_line_content": "static void cmd_new_blob()",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "cmd_mark",
          "new_api": null,
          "old_text": "cmd_mark()",
          "new_text": null,
          "old_line_content": "\tcmd_mark();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": "cmd_data",
          "new_api": null,
          "old_text": "cmd_data(&l)",
          "new_text": null,
          "old_line_content": "\td = cmd_data(&l);",
          "new_line_content": "\tsize_t l;",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": "git_config",
          "new_api": null,
          "old_text": "git_config(git_default_config)",
          "new_text": null,
          "old_line_content": "\tgit_config(git_default_config);",
          "new_line_content": "\tint i;",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": "store_object",
          "new_api": null,
          "old_text": "store_object(OBJ_BLOB, d, l, &last_blob, NULL, next_mark)",
          "new_text": null,
          "old_line_content": "\tif (store_object(OBJ_BLOB, d, l, &last_blob, NULL, next_mark))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1776,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(a, \"--objects=\", 10)",
          "new_text": null,
          "old_line_content": "\t\telse if (!strncmp(a, \"--objects=\", 10))",
          "new_line_content": "\tfor (i = 1; i < argc; i++) {",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"bad type %d\", type)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"bad type %d\", type);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(a + 10, NULL, 0)",
          "new_text": null,
          "old_line_content": "\t\t\test_obj_cnt = strtoul(a + 10, NULL, 0);",
          "new_line_content": "\t\tconst char *a = argv[i];",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(a, \"--depth=\", 8)",
          "new_text": null,
          "old_line_content": "\t\telse if (!strncmp(a, \"--depth=\", 8))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1780,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(a, \"--active-branches=\", 18)",
          "new_text": null,
          "old_line_content": "\t\telse if (!strncmp(a, \"--active-branches=\", 18))",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1793,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(fast_import_usage)",
          "new_text": null,
          "old_line_content": "\t\tusage(fast_import_usage);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1796,
          "old_api": "alloc_objects",
          "new_api": null,
          "old_text": "alloc_objects(est_obj_cnt)",
          "new_text": null,
          "old_line_content": "\talloc_objects(est_obj_cnt);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1797,
          "old_api": "strbuf_init",
          "new_api": null,
          "old_text": "strbuf_init(&command_buf)",
          "new_text": null,
          "old_line_content": "\tstrbuf_init(&command_buf);",
          "new_line_content": "\tif ((i+1) != argc)",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(atom_table_sz, sizeof(struct atom_str*))",
          "new_text": null,
          "old_line_content": "\tatom_table = xcalloc(atom_table_sz, sizeof(struct atom_str*));",
          "new_line_content": "\tbase_name = argv[i];",
          "content_same": false
        },
        {
          "line": 1800,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(branch_table_sz, sizeof(struct branch*))",
          "new_text": null,
          "old_line_content": "\tbranch_table = xcalloc(branch_table_sz, sizeof(struct branch*));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "release_tree_content_recursive",
          "new_api": null,
          "old_text": "release_tree_content_recursive(e->branch_tree.tree)",
          "new_text": null,
          "old_line_content": "\t\t\trelease_tree_content_recursive(e->branch_tree.tree);",
          "new_line_content": "\t\t\te = active_branches;",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf((char*)hdr,\"%s %lu\",type_names[type],datlen)",
          "new_text": null,
          "old_line_content": "\thdrlen = sprintf((char*)hdr,\"%s %lu\",type_names[type],datlen) + 1;",
          "new_line_content": "\tunsigned char sha1[20];",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": "SHA1_Init",
          "new_api": null,
          "old_text": "SHA1_Init(&c)",
          "new_text": null,
          "old_line_content": "\tSHA1_Init(&c);",
          "new_line_content": "\tunsigned long hdrlen, deltalen;",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": "SHA1_Update",
          "new_api": null,
          "old_text": "SHA1_Update(&c, hdr, hdrlen)",
          "new_text": null,
          "old_line_content": "\tSHA1_Update(&c, hdr, hdrlen);",
          "new_line_content": "\tSHA_CTX c;",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": "SHA1_Update",
          "new_api": null,
          "old_text": "SHA1_Update(&c, dat, datlen)",
          "new_text": null,
          "old_line_content": "\tSHA1_Update(&c, dat, datlen);",
          "new_line_content": "\tz_stream s;",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "SHA1_Final",
          "new_api": null,
          "old_text": "SHA1_Final(sha1, &c)",
          "new_text": null,
          "old_line_content": "\tSHA1_Final(sha1, &c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": "load_tree",
          "new_api": null,
          "old_text": "load_tree(&b->branch_tree)",
          "new_text": null,
          "old_line_content": "\tload_tree(&b->branch_tree);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": "cmd_new_blob",
          "new_api": null,
          "old_text": "cmd_new_blob()",
          "new_text": null,
          "old_line_content": "\t\t\tcmd_new_blob();",
          "new_line_content": "\tfor (;;) {",
          "content_same": false
        },
        {
          "line": 1812,
          "old_api": "cmd_new_commit",
          "new_api": null,
          "old_text": "cmd_new_commit()",
          "new_text": null,
          "old_line_content": "\t\t\tcmd_new_commit();",
          "new_line_content": "\t\tif (command_buf.eof)",
          "content_same": false
        },
        {
          "line": 1813,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(\"tag \", command_buf.buf, 4)",
          "new_text": null,
          "old_line_content": "\t\telse if (!strncmp(\"tag \", command_buf.buf, 4))",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": "insert_mark",
          "new_api": null,
          "old_text": "insert_mark(mark, e)",
          "new_text": null,
          "old_line_content": "\t\tinsert_mark(mark, e);",
          "new_line_content": "\tif (sha1out)",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": "dump_branches",
          "new_api": null,
          "old_text": "dump_branches()",
          "new_text": null,
          "old_line_content": "\tdump_branches();",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 1826,
          "old_api": "dump_marks",
          "new_api": null,
          "old_text": "dump_marks()",
          "new_text": null,
          "old_line_content": "\tdump_marks();",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": "get_mode",
          "new_api": null,
          "old_text": "get_mode(p, &mode)",
          "new_text": null,
          "old_line_content": "\tp = get_mode(p, &mode);",
          "new_line_content": "\tstruct object_entry *oe;",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": "diff_delta",
          "new_api": null,
          "old_text": "diff_delta(last->data, last->len,\n\t\t\tdat, datlen,\n\t\t\t&deltalen, 0)",
          "new_text": null,
          "old_line_content": "\t\tdelta = diff_delta(last->data, last->len,",
          "new_line_content": "\te->offset = pack_size;",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Corrupt mode: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Corrupt mode: %s\", command_buf.buf);",
          "new_line_content": "\tunsigned int mode;",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(branch_log)",
          "new_text": null,
          "old_line_content": "\t\tfclose(branch_log);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&s, 0, sizeof(s))",
          "new_text": null,
          "old_line_content": "\tmemset(&s, 0, sizeof(s));",
          "new_line_content": "\t\t\tdat, datlen,",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": "deflateInit",
          "new_api": null,
          "old_text": "deflateInit(&s, zlib_compression_level)",
          "new_text": null,
          "old_line_content": "\tdeflateInit(&s, zlib_compression_level);",
          "new_line_content": "\t\t\t&deltalen, 0);",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"---------------------------------------------------------------------\\n\")",
          "new_text": null,
          "old_line_content": "\tfprintf(stderr, \"---------------------------------------------------------------------\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Total objects:   %10lu (%10lu duplicates                  )\\n\", object_count, duplicate_count)",
          "new_text": null,
          "old_line_content": "\tfprintf(stderr, \"Total objects:   %10lu (%10lu duplicates                  )\\n\", object_count, duplicate_count);",
          "new_line_content": "\t\tduplicate_count += duplicate_count_by_type[i];",
          "content_same": false
        },
        {
          "line": 1837,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"      blobs  :   %10lu (%10lu duplicates %10lu deltas)\\n\", object_count_by_type[OBJ_BLOB], duplicate_count_by_type[OBJ_BLOB], delta_count_by_type[OBJ_BLOB])",
          "new_text": null,
          "old_line_content": "\tfprintf(stderr, \"      blobs  :   %10lu (%10lu duplicates %10lu deltas)\\n\", object_count_by_type[OBJ_BLOB], duplicate_count_by_type[OBJ_BLOB], delta_count_by_type[OBJ_BLOB]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Corrupt mode: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Corrupt mode: %s\", command_buf.buf);",
          "new_line_content": "\tcase 0644:",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(sha1, oe->sha1)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(sha1, oe->sha1);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": "encode_header",
          "new_api": null,
          "old_text": "encode_header(OBJ_OFS_DELTA, deltalen, hdr)",
          "new_text": null,
          "old_line_content": "\t\thdrlen = encode_header(OBJ_OFS_DELTA, deltalen, hdr);",
          "new_line_content": "\t\tdelta_count_by_type[type]++;",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "write_or_die",
          "new_api": null,
          "old_text": "write_or_die(pack_fd, hdr, hdrlen)",
          "new_text": null,
          "old_line_content": "\t\twrite_or_die(pack_fd, hdr, hdrlen);",
          "new_line_content": "\t\tlast->depth++;",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": "get_sha1_hex",
          "new_api": null,
          "old_text": "get_sha1_hex(p, sha1)",
          "new_text": null,
          "old_line_content": "\t\tif (get_sha1_hex(p, sha1))",
          "new_line_content": "\t\tchar *x;",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "write_or_die",
          "new_api": null,
          "old_text": "write_or_die(pack_fd, hdr + pos, sizeof(hdr) - pos)",
          "new_text": null,
          "old_line_content": "\t\twrite_or_die(pack_fd, hdr + pos, sizeof(hdr) - pos);",
          "new_line_content": "\t\tpack_size += hdrlen;",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "unquote_c_style",
          "new_api": null,
          "old_text": "unquote_c_style(p, &endp)",
          "new_text": null,
          "old_line_content": "\tp_uq = unquote_c_style(p, &endp);",
          "new_line_content": "\t\tp += 40;",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": "encode_header",
          "new_api": null,
          "old_text": "encode_header(type, datlen, hdr)",
          "new_text": null,
          "old_line_content": "\t\thdrlen = encode_header(type, datlen, hdr);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": "write_or_die",
          "new_api": null,
          "old_text": "write_or_die(pack_fd, hdr, hdrlen)",
          "new_text": null,
          "old_line_content": "\t\twrite_or_die(pack_fd, hdr, hdrlen);",
          "new_line_content": "\t\tif (last)",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Not a blob (actually a %s): %s\",\n\t\t\t\tcommand_buf.buf, type_names[oe->type])",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Not a blob (actually a %s): %s\",",
          "new_line_content": "\t\tp = p_uq;",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": "deflate",
          "new_api": null,
          "old_text": "deflate(&s, Z_FINISH)",
          "new_text": null,
          "old_line_content": "\twhile (deflate(&s, Z_FINISH) == Z_OK)",
          "new_line_content": "\t\tpack_size += hdrlen;",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": "sha1_object_info",
          "new_api": null,
          "old_text": "sha1_object_info(sha1, type, NULL)",
          "new_text": null,
          "old_line_content": "\t\tif (sha1_object_info(sha1, type, NULL))",
          "new_line_content": "\tif (oe) {",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "deflateEnd",
          "new_api": null,
          "old_text": "deflateEnd(&s)",
          "new_text": null,
          "old_line_content": "\tdeflateEnd(&s);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Blob not found: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Blob not found: %s\", command_buf.buf);",
          "new_line_content": "\t\tif (oe->type != OBJ_BLOB)",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Not a blob (actually a %s): %s\",\n\t\t\t\tcommand_buf.buf, type)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Not a blob (actually a %s): %s\",",
          "new_line_content": "\t\t\t\tcommand_buf.buf, type_names[oe->type]);",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(p_uq)",
          "new_text": null,
          "old_line_content": "\t\tfree(p_uq);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "unquote_c_style",
          "new_api": null,
          "old_text": "unquote_c_style(p, &endp)",
          "new_text": null,
          "old_line_content": "\tp_uq = unquote_c_style(p, &endp);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Garbage after path in: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Garbage after path in: %s\", command_buf.buf);",
          "new_line_content": "\tconst char *endp;",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": "tree_content_remove",
          "new_api": null,
          "old_text": "tree_content_remove(&b->branch_tree, p)",
          "new_text": null,
          "old_line_content": "\ttree_content_remove(&b->branch_tree, p);",
          "new_line_content": "\tif (p_uq) {",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": "unpack_entry",
          "new_api": null,
          "old_text": "unpack_entry(p, oe->offset, type, sizep)",
          "new_text": null,
          "old_line_content": "\treturn unpack_entry(p, oe->offset, type, sizep);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(\"from \", command_buf.buf, 5)",
          "new_text": null,
          "old_line_content": "\tif (strncmp(\"from \", command_buf.buf, 5))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Can't reinitailize branch %s\", b->name)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Can't reinitailize branch %s\", b->name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(command_buf.buf, ' ')",
          "new_text": null,
          "old_line_content": "\tfrom = strchr(command_buf.buf, ' ') + 1;",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": "unquote_c_style",
          "new_api": null,
          "old_text": "unquote_c_style(from, &endp)",
          "new_text": null,
          "old_line_content": "\tstr_uq = unquote_c_style(from, &endp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Garbage after string in: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Garbage after string in: %s\", command_buf.buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": "lookup_branch",
          "new_api": null,
          "old_text": "lookup_branch(from)",
          "new_text": null,
          "old_line_content": "\ts = lookup_branch(from);",
          "new_line_content": "\t\tif (*endp)",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Can't create a branch from itself: %s\", b->name)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Can't create a branch from itself: %s\", b->name);",
          "new_line_content": "\t\tfrom = str_uq;",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "new_tree_content",
          "new_api": null,
          "old_text": "new_tree_content(8)",
          "new_text": null,
          "old_line_content": "\troot->tree = t = new_tree_content(8);",
          "new_line_content": "\tstruct tree_content *t;",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": "is_null_sha1",
          "new_api": null,
          "old_text": "is_null_sha1(sha1)",
          "new_text": null,
          "old_line_content": "\tif (is_null_sha1(sha1))",
          "new_line_content": "\tunsigned long size;",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(b->branch_tree.versions[0].sha1, t)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(b->branch_tree.versions[0].sha1, t);",
          "new_line_content": "\tif (b == s)",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": "find_object",
          "new_api": null,
          "old_text": "find_object(sha1)",
          "new_text": null,
          "old_line_content": "\tmyoe = find_object(sha1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(from + 1, NULL, 10)",
          "new_text": null,
          "old_line_content": "\t\tunsigned long idnum = strtoul(from + 1, NULL, 10);",
          "new_line_content": "\t\tunsigned char *t = s->branch_tree.versions[1].sha1;",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Not a tree: %s\", sha1_to_hex(sha1));",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(type, tree_type)",
          "new_text": null,
          "old_line_content": "\t\tif (!buf || strcmp(type, tree_type))",
          "new_line_content": "\t\tt->delta_depth = 0;",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": "gfi_unpack_entry",
          "new_api": null,
          "old_text": "gfi_unpack_entry(oe, &size)",
          "new_text": null,
          "old_line_content": "\t\tbuf = gfi_unpack_entry(oe, &size);",
          "new_line_content": "\t\tunsigned long size;",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Not a valid commit: %s\", from)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Not a valid commit: %s\", from);",
          "new_line_content": "\t\tif (oe->type != OBJ_COMMIT)",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buf)",
          "new_text": null,
          "old_line_content": "\t\tfree(buf);",
          "new_line_content": "\t\tif (!buf || size < 46)",
          "content_same": false
        },
        {
          "line": 919,
          "old_api": "grow_tree_content",
          "new_api": null,
          "old_text": "grow_tree_content(t, 8)",
          "new_text": null,
          "old_line_content": "\t\t\troot->tree = t = grow_tree_content(t, 8);",
          "new_line_content": "\tc = buf;",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": "get_mode",
          "new_api": null,
          "old_text": "get_mode(c, &e->versions[1].mode)",
          "new_text": null,
          "old_line_content": "\t\tc = get_mode(c, &e->versions[1].mode);",
          "new_line_content": "\t\tif (t->entry_count == t->entry_capacity)",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Corrupt mode in %s\", sha1_to_hex(sha1));",
          "new_line_content": "\t\tt->entries[t->entry_count++] = e;",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(c)",
          "new_text": null,
          "old_line_content": "\t\te->name = to_atom(c, strlen(c));",
          "new_line_content": "\t\te->tree = NULL;",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(e->versions[0].sha1, (unsigned char*)c)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(e->versions[0].sha1, (unsigned char*)c);",
          "new_line_content": "\t\tif (!c)",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Not a valid commit: %s\", from)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"Not a valid commit: %s\", from);",
          "new_line_content": "\t\t\tchar *buf;",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(\"tree \", buf, 5)",
          "new_text": null,
          "old_line_content": "\t\t\tif (memcmp(\"tree \", buf, 5)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buf)",
          "new_text": null,
          "old_line_content": "\tfree(buf);",
          "new_line_content": "\t\tc += e->name->str_len + 1;",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(b->sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"The commit %s is corrupt\", sha1_to_hex(b->sha1));",
          "new_line_content": "\t\t\t\ttype_names[OBJ_COMMIT], &size, b->sha1);",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buf)",
          "new_text": null,
          "old_line_content": "\t\t\tfree(buf);",
          "new_line_content": "\t\t\tif (!buf || size < 46)",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": "base_name_compare",
          "new_api": null,
          "old_text": "base_name_compare(\n\t\ta->name->str_dat, a->name->str_len, a->versions[0].mode,\n\t\tb->name->str_dat, b->name->str_len, b->versions[0].mode)",
          "new_text": null,
          "old_line_content": "\treturn base_name_compare(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\tread_next_command();",
          "new_line_content": "\t\t\t\tb->branch_tree.versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "base_name_compare",
          "new_api": null,
          "old_text": "base_name_compare(\n\t\ta->name->str_dat, a->name->str_len, a->versions[1].mode,\n\t\tb->name->str_dat, b->name->str_len, b->versions[1].mode)",
          "new_text": null,
          "old_line_content": "\treturn base_name_compare(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(\"merge \", command_buf.buf, 6)",
          "new_text": null,
          "old_line_content": "\twhile (!strncmp(\"merge \", command_buf.buf, 6)) {",
          "new_line_content": "\tconst char *from, *endp;",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(command_buf.buf, ' ')",
          "new_text": null,
          "old_line_content": "\t\tfrom = strchr(command_buf.buf, ' ') + 1;",
          "new_line_content": "\tchar *str_uq;",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": "unquote_c_style",
          "new_api": null,
          "old_text": "unquote_c_style(from, &endp)",
          "new_text": null,
          "old_line_content": "\t\tstr_uq = unquote_c_style(from, &endp);",
          "new_line_content": "\tstruct branch *s;",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(sizeof(*n))",
          "new_text": null,
          "old_line_content": "\t\tn = xmalloc(sizeof(*n));",
          "new_line_content": "\t\t\tif (*endp)",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": "qsort",
          "new_api": null,
          "old_text": "qsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp0)",
          "new_text": null,
          "old_line_content": "\t\tqsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp0);",
          "new_line_content": "\tsize_t maxlen = 0;",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(n->sha1, s->sha1)",
          "new_text": null,
          "old_line_content": "\t\t\thashcpy(n->sha1, s->sha1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": "qsort",
          "new_api": null,
          "old_text": "qsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp1)",
          "new_text": null,
          "old_line_content": "\t\tqsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp1);",
          "new_line_content": "\tchar *c;",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(n->sha1, oe->sha1)",
          "new_text": null,
          "old_line_content": "\t\t\thashcpy(n->sha1, oe->sha1);",
          "new_line_content": "\t\telse if (*from == ':') {",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": "size_dbuf",
          "new_api": null,
          "old_text": "size_dbuf(b, maxlen)",
          "new_text": null,
          "old_line_content": "\tsize_dbuf(b, maxlen);",
          "new_line_content": "\tfor (i = 0; i < t->entry_count; i++) {",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(c, \"%o\", e->versions[v].mode)",
          "new_text": null,
          "old_line_content": "\t\tc += sprintf(c, \"%o\", e->versions[v].mode);",
          "new_line_content": "\tc = b->buffer;",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": "strcpy",
          "new_api": null,
          "old_text": "strcpy(c, e->name->str_dat)",
          "new_text": null,
          "old_line_content": "\t\tstrcpy(c, e->name->str_dat);",
          "new_line_content": "\t\tstruct tree_entry *e = t->entries[i];",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\t\tread_next_command();",
          "new_line_content": "\t\t\te->next = n;",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy((unsigned char*)c, e->versions[v].sha1)",
          "new_text": null,
          "old_line_content": "\t\thashcpy((unsigned char*)c, e->versions[v].sha1);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": "is_null_sha1",
          "new_api": null,
          "old_text": "is_null_sha1(root->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\tif (!is_null_sha1(root->versions[1].sha1))",
          "new_line_content": "\tunsigned int i, j, del;",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(command_buf.buf, ' ')",
          "new_text": null,
          "old_line_content": "\tsp = strchr(command_buf.buf, ' ') + 1;",
          "new_line_content": "\tchar *committer = NULL;",
          "content_same": false
        },
        {
          "line": 1513,
          "old_api": "unquote_c_style",
          "new_api": null,
          "old_text": "unquote_c_style(sp, &endp)",
          "new_text": null,
          "old_line_content": "\tstr_uq = unquote_c_style(sp, &endp);",
          "new_line_content": "\tstruct hash_list *merge_list = NULL;",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Garbage after ref in: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Garbage after ref in: %s\", command_buf.buf);",
          "new_line_content": "\t/* Obtain the branch name from the rest of our command */",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": "find_object",
          "new_api": null,
          "old_text": "find_object(root->versions[0].sha1)",
          "new_text": null,
          "old_line_content": "\tle = find_object(root->versions[0].sha1);",
          "new_line_content": "\tfor (i = 0; i < t->entry_count; i++) {",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": "S_ISDIR",
          "new_api": null,
          "old_text": "S_ISDIR(root->versions[0].mode)",
          "new_text": null,
          "old_line_content": "\tif (!S_ISDIR(root->versions[0].mode)",
          "new_line_content": "\t\tif (t->entries[i]->tree)",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "lookup_branch",
          "new_api": null,
          "old_text": "lookup_branch(sp)",
          "new_text": null,
          "old_line_content": "\tb = lookup_branch(sp);",
          "new_line_content": "\tif (str_uq) {",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(str_uq)",
          "new_text": null,
          "old_line_content": "\t\tfree(str_uq);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": "mktree",
          "new_api": null,
          "old_text": "mktree(t, 0, &lo.len, &old_tree)",
          "new_text": null,
          "old_line_content": "\t\tmktree(t, 0, &lo.len, &old_tree);",
          "new_line_content": "\t\t|| !le",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\tread_next_command();",
          "new_line_content": "\tif (!b)",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(\"author \", command_buf.buf, 7)",
          "new_text": null,
          "old_line_content": "\tif (!strncmp(\"author \", command_buf.buf, 7)) {",
          "new_line_content": "\tif (str_uq)",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\t\tread_next_command();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "mktree",
          "new_api": null,
          "old_text": "mktree(t, 1, &new_len, &new_tree)",
          "new_text": null,
          "old_line_content": "\tmktree(t, 1, &new_len, &new_tree);",
          "new_line_content": "\t\tlo.offset = le->offset;",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "store_object",
          "new_api": null,
          "old_text": "store_object(OBJ_TREE, new_tree.buffer, new_len,\n\t\t&lo, root->versions[1].sha1, 0)",
          "new_text": null,
          "old_line_content": "\tstore_object(OBJ_TREE, new_tree.buffer, new_len,",
          "new_line_content": "\t\tlo.depth = t->delta_depth;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 131,
      "total_additions": 232,
      "total_deletions": 231,
      "total_api_changes": 594
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 8,
        "api_related_lines": 594,
        "non_api_lines": 6,
        "non_api_line_numbers": [
          681,
          682,
          683,
          684,
          686,
          688
        ]
      }
    },
    "api_calls_before": 475,
    "api_calls_after": 476,
    "diff_info": {
      "added_lines": 8,
      "removed_lines": 3,
      "total_diff_lines": 24
    }
  }
}