{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/737904622116cb9b01aa18a0b98e55be16c92a0c",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/737904622116cb9b01aa18a0b98e55be16c92a0c/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/737904622116cb9b01aa18a0b98e55be16c92a0c/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/737904622116cb9b01aa18a0b98e55be16c92a0c/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 418,
          "old_api": "commit_list_insert_by_date",
          "new_api": "repo_parse_commit",
          "old_text": "commit_list_insert_by_date(p, &list)",
          "new_text": "repo_parse_commit(the_repository, p)",
          "old_line_content": "\t\t\t\tcommit_list_insert_by_date(p, &list);",
          "new_line_content": "\t\t\trepo_parse_commit(the_repository, p);",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "strbuf_addstr",
          "new_api": "strbuf_add_unique_abbrev",
          "old_text": "strbuf_addstr(dst, suffix)",
          "new_text": "strbuf_add_unique_abbrev(dst, cmit_oid, abbrev)",
          "old_line_content": "\t\t\t\tstrbuf_addstr(dst, suffix);",
          "new_line_content": "\t\t\tstrbuf_add_unique_abbrev(dst, cmit_oid, abbrev);",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": "oid_to_hex",
          "new_api": "_",
          "old_text": "oid_to_hex(cmit_oid)",
          "new_text": "_(\"No annotated tags can describe '%s'.\\n\"\n\t\t\t    \"However, there were unannotated tags: try --tags.\")",
          "old_line_content": "\t\t\t    oid_to_hex(cmit_oid));",
          "new_line_content": "\t\t\tdie(_(\"No annotated tags can describe '%s'.\\n\"",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": "_",
          "new_api": "oid_to_hex",
          "old_text": "_(\"No tags can describe '%s'.\\n\"\n\t\t\t    \"Try --always, or create some tags.\")",
          "new_text": "oid_to_hex(cmit_oid)",
          "old_line_content": "\t\t\tdie(_(\"No tags can describe '%s'.\\n\"",
          "new_line_content": "\t\t\t    oid_to_hex(cmit_oid));",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": "oid_to_hex",
          "new_api": "_",
          "old_text": "oid_to_hex(cmit_oid)",
          "new_text": "_(\"No tags can describe '%s'.\\n\"\n\t\t\t    \"Try --always, or create some tags.\")",
          "old_line_content": "\t\t\t    oid_to_hex(cmit_oid));",
          "new_line_content": "\t\t\tdie(_(\"No tags can describe '%s'.\\n\"",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "fprintf",
          "new_api": "_",
          "old_text": "fprintf(stderr,\n\t\t\t\t_(\"more than %i tags found; listed %i most recent\\n\"\n\t\t\t\t\"gave up search at %s\\n\"),\n\t\t\t\tmax_candidates, max_candidates,\n\t\t\t\toid_to_hex(&gave_up_on->object.oid))",
          "new_text": "_(\"traversed %lu commits\\n\")",
          "old_line_content": "\t\t\tfprintf(stderr,",
          "new_line_content": "\t\tfprintf(stderr, _(\"traversed %lu commits\\n\"), seen_commits);",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": "reset_revision_walk",
          "new_api": "oideq",
          "old_text": "reset_revision_walk()",
          "new_text": "oideq(&pcd->looking_for, &obj->oid)",
          "old_line_content": "\t\treset_revision_walk();",
          "new_line_content": "\tif (oideq(&pcd->looking_for, &obj->oid) && !pcd->dst->len) {",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": "describe_commit",
          "new_api": "reset_revision_walk",
          "old_text": "describe_commit(&pcd->current_commit, pcd->dst)",
          "new_text": "reset_revision_walk()",
          "old_line_content": "\t\tdescribe_commit(&pcd->current_commit, pcd->dst);",
          "new_line_content": "\t\treset_revision_walk();",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": "strbuf_addf",
          "new_api": "describe_commit",
          "old_text": "strbuf_addf(pcd->dst, \":%s\", path)",
          "new_text": "describe_commit(&pcd->current_commit, pcd->dst)",
          "old_line_content": "\t\tstrbuf_addf(pcd->dst, \":%s\", path);",
          "new_line_content": "\t\tdescribe_commit(&pcd->current_commit, pcd->dst);",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": "free_commit_list",
          "new_api": "strbuf_addf",
          "old_text": "free_commit_list(pcd->revs->commits)",
          "new_text": "strbuf_addf(pcd->dst, \":%s\", path)",
          "old_line_content": "\t\tfree_commit_list(pcd->revs->commits);",
          "new_line_content": "\t\tstrbuf_addf(pcd->dst, \":%s\", path);",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": "setup_revisions",
          "new_api": "repo_init_revisions",
          "old_text": "setup_revisions(args.nr, args.v, &revs, NULL)",
          "new_text": "repo_init_revisions(the_repository, &revs, NULL)",
          "old_line_content": "\tif (setup_revisions(args.nr, args.v, &revs, NULL) > 1)",
          "new_line_content": "\trepo_init_revisions(the_repository, &revs, NULL);",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": "BUG",
          "new_api": "setup_revisions",
          "old_text": "BUG(\"setup_revisions could not handle all args?\")",
          "new_text": "setup_revisions(args.nr, args.v, &revs, NULL)",
          "old_line_content": "\t\tBUG(\"setup_revisions could not handle all args?\");",
          "new_line_content": "\tif (setup_revisions(args.nr, args.v, &revs, NULL) > 1)",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": "die",
          "new_api": "prepare_revision_walk",
          "old_text": "die(\"revision walk setup failed\")",
          "new_text": "prepare_revision_walk(&revs)",
          "old_line_content": "\t\tdie(\"revision walk setup failed\");",
          "new_line_content": "\tif (prepare_revision_walk(&revs))",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": "reset_revision_walk",
          "new_api": "traverse_commit_list",
          "old_text": "reset_revision_walk()",
          "new_text": "traverse_commit_list(&revs, process_commit, process_object, &pcd)",
          "old_line_content": "\treset_revision_walk();",
          "new_line_content": "\ttraverse_commit_list(&revs, process_commit, process_object, &pcd);",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": "release_revisions",
          "new_api": "reset_revision_walk",
          "old_text": "release_revisions(&revs)",
          "new_text": "reset_revision_walk()",
          "old_line_content": "\trelease_revisions(&revs);",
          "new_line_content": "\treset_revision_walk();",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": "strvec_clear",
          "new_api": "release_revisions",
          "old_text": "strvec_clear(&args)",
          "new_text": "release_revisions(&revs)",
          "old_line_content": "\tstrvec_clear(&args);",
          "new_line_content": "\trelease_revisions(&revs);",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": "_",
          "new_api": "repo_get_oid",
          "old_text": "_(\"Not a valid object name %s\")",
          "new_text": "repo_get_oid(the_repository, arg, &oid)",
          "old_line_content": "\t\tdie(_(\"Not a valid object name %s\"), arg);",
          "new_line_content": "\tif (repo_get_oid(the_repository, arg, &oid))",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "lookup_commit_reference_gently",
          "new_api": "_",
          "old_text": "lookup_commit_reference_gently(the_repository, &oid, 1)",
          "new_text": "_(\"Not a valid object name %s\")",
          "old_line_content": "\tcmit = lookup_commit_reference_gently(the_repository, &oid, 1);",
          "new_line_content": "\t\tdie(_(\"Not a valid object name %s\"), arg);",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": "oid_object_info",
          "new_api": "describe_commit",
          "old_text": "oid_object_info(the_repository, &oid, NULL)",
          "new_text": "describe_commit(&oid, &sb)",
          "old_line_content": "\telse if (oid_object_info(the_repository, &oid, NULL) == OBJ_BLOB)",
          "new_line_content": "\t\tdescribe_commit(&oid, &sb);",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": "describe_blob",
          "new_api": "oid_object_info",
          "old_text": "describe_blob(oid, &sb)",
          "new_text": "oid_object_info(the_repository, &oid, NULL)",
          "old_line_content": "\t\tdescribe_blob(oid, &sb);",
          "new_line_content": "\telse if (oid_object_info(the_repository, &oid, NULL) == OBJ_BLOB)",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": "OPT__ABBREV",
          "new_api": "N_",
          "old_text": "OPT__ABBREV(&abbrev)",
          "new_text": "N_(\"only follow first parent\")",
          "old_line_content": "\t\tOPT__ABBREV(&abbrev),",
          "new_line_content": "\t\tOPT_BOOL(0, \"first-parent\", &first_parent, N_(\"only follow first parent\")),",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "OPT_CALLBACK_F",
          "new_api": "OPT__ABBREV",
          "old_text": "OPT_CALLBACK_F(0, \"exact-match\", &max_candidates, NULL,\n\t\t\t       N_(\"only output exact matches\"),\n\t\t\t       PARSE_OPT_NOARG, option_parse_exact_match)",
          "new_text": "OPT__ABBREV(&abbrev)",
          "old_line_content": "\t\tOPT_CALLBACK_F(0, \"exact-match\", &max_candidates, NULL,",
          "new_line_content": "\t\tOPT__ABBREV(&abbrev),",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": "N_",
          "new_api": "OPT_CALLBACK_F",
          "old_text": "N_(\"only output exact matches\")",
          "new_text": "OPT_CALLBACK_F(0, \"exact-match\", &max_candidates, NULL,\n\t\t\t       N_(\"only output exact matches\"),\n\t\t\t       PARSE_OPT_NOARG, option_parse_exact_match)",
          "old_line_content": "\t\t\t       N_(\"only output exact matches\"),",
          "new_line_content": "\t\tOPT_CALLBACK_F(0, \"exact-match\", &max_candidates, NULL,",
          "content_same": false
        },
        {
          "line": 593,
          "old_api": "N_",
          "new_api": "OPT_INTEGER",
          "old_text": "N_(\"consider <n> most recent tags (default: 10)\")",
          "new_text": "OPT_INTEGER(0, \"candidates\", &max_candidates,\n\t\t\t    N_(\"consider <n> most recent tags (default: 10)\"))",
          "old_line_content": "\t\t\t    N_(\"consider <n> most recent tags (default: 10)\")),",
          "new_line_content": "\t\tOPT_INTEGER(0, \"candidates\", &max_candidates,",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": "OPT_BOOL",
          "new_api": "N_",
          "old_text": "OPT_BOOL(0, \"always\",        &always,\n\t\t\tN_(\"show abbreviated commit object as fallback\"))",
          "new_text": "N_(\"do not consider tags matching <pattern>\")",
          "old_line_content": "\t\tOPT_BOOL(0, \"always\",        &always,",
          "new_line_content": "\t\t\t   N_(\"do not consider tags matching <pattern>\")),",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": "N_",
          "new_api": "OPT_BOOL",
          "old_text": "N_(\"show abbreviated commit object as fallback\")",
          "new_text": "OPT_BOOL(0, \"always\",        &always,\n\t\t\tN_(\"show abbreviated commit object as fallback\"))",
          "old_line_content": "\t\t\tN_(\"show abbreviated commit object as fallback\")),",
          "new_line_content": "\t\tOPT_BOOL(0, \"always\",        &always,",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": "parse_options",
          "new_api": "git_config",
          "old_text": "parse_options(argc, argv, prefix, options, describe_usage, 0)",
          "new_text": "git_config(git_default_config, NULL)",
          "old_line_content": "\targc = parse_options(argc, argv, prefix, options, describe_usage, 0);",
          "new_line_content": "\tgit_config(git_default_config, NULL);",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": "strvec_pushl",
          "new_api": "strvec_init",
          "old_text": "strvec_pushl(&args, \"name-rev\",\n\t\t\t     \"--peel-tag\", \"--name-only\", \"--no-undefined\",\n\t\t\t     NULL)",
          "new_text": "strvec_init(&args)",
          "old_line_content": "\t\tstrvec_pushl(&args, \"name-rev\",",
          "new_line_content": "\t\tstrvec_init(&args);",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "for_each_string_list_item",
          "new_api": "strvec_push",
          "old_text": "for_each_string_list_item(item, &patterns)",
          "new_text": "strvec_push(&args, \"--tags\")",
          "old_line_content": "\t\t\tfor_each_string_list_item(item, &patterns)",
          "new_line_content": "\t\t\tstrvec_push(&args, \"--tags\");",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": "strvec_pushf",
          "new_api": "for_each_string_list_item",
          "old_text": "strvec_pushf(&args, \"--refs=refs/tags/%s\", item->string)",
          "new_text": "for_each_string_list_item(item, &patterns)",
          "old_line_content": "\t\t\t\tstrvec_pushf(&args, \"--refs=refs/tags/%s\", item->string);",
          "new_line_content": "\t\t\tfor_each_string_list_item(item, &patterns)",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": "for_each_string_list_item",
          "new_api": "strvec_pushf",
          "old_text": "for_each_string_list_item(item, &exclude_patterns)",
          "new_text": "strvec_pushf(&args, \"--refs=refs/tags/%s\", item->string)",
          "old_line_content": "\t\t\tfor_each_string_list_item(item, &exclude_patterns)",
          "new_line_content": "\t\t\t\tstrvec_pushf(&args, \"--refs=refs/tags/%s\", item->string);",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "strvec_pushf",
          "new_api": "for_each_string_list_item",
          "old_text": "strvec_pushf(&args, \"--exclude=refs/tags/%s\", item->string)",
          "new_text": "for_each_string_list_item(item, &exclude_patterns)",
          "old_line_content": "\t\t\t\tstrvec_pushf(&args, \"--exclude=refs/tags/%s\", item->string);",
          "new_line_content": "\t\t\tfor_each_string_list_item(item, &exclude_patterns)",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "free",
          "new_api": "strvec_clear",
          "old_text": "free(argv_copy)",
          "new_text": "strvec_clear(&args)",
          "old_line_content": "\t\tfree(argv_copy);",
          "new_line_content": "\t\tstrvec_clear(&args);",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "get_main_ref_store",
          "new_api": "hashmap_init",
          "old_text": "get_main_ref_store(the_repository)",
          "new_text": "hashmap_init(&names, commit_name_neq, NULL, 0)",
          "old_line_content": "\trefs_for_each_rawref(get_main_ref_store(the_repository), get_name,",
          "new_line_content": "\thashmap_init(&names, commit_name_neq, NULL, 0);",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": "_",
          "new_api": "hashmap_get_size",
          "old_text": "_(\"No names found, cannot describe anything.\")",
          "new_text": "hashmap_get_size(&names)",
          "old_line_content": "\t\tdie(_(\"No names found, cannot describe anything.\"));",
          "new_line_content": "\tif (!hashmap_get_size(&names) && !always)",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": "strvec_pushv",
          "new_api": "child_process_init",
          "old_text": "strvec_pushv(&cp.args, diff_index_args)",
          "new_text": "child_process_init(&cp)",
          "old_line_content": "\t\t\tstrvec_pushv(&cp.args, diff_index_args);",
          "new_line_content": "\t\t\tchild_process_init(&cp);",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": "prepare_repo_settings",
          "new_api": "setup_work_tree",
          "old_text": "prepare_repo_settings(the_repository)",
          "new_text": "setup_work_tree()",
          "old_line_content": "\t\t\tprepare_repo_settings(the_repository);",
          "new_line_content": "\t\t\tsetup_work_tree();",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": "refresh_index",
          "new_api": "repo_read_index",
          "old_text": "refresh_index(the_repository->index, REFRESH_QUIET|REFRESH_UNMERGED,\n\t\t\t\t      NULL, NULL, NULL)",
          "new_text": "repo_read_index(the_repository)",
          "old_line_content": "\t\t\trefresh_index(the_repository->index, REFRESH_QUIET|REFRESH_UNMERGED,",
          "new_line_content": "\t\t\trepo_read_index(the_repository);",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": "run_diff_index",
          "new_api": "BUG",
          "old_text": "run_diff_index(&revs, 0)",
          "new_text": "BUG(\"malformed internal diff-index command line\")",
          "old_line_content": "\t\t\trun_diff_index(&revs, 0);",
          "new_line_content": "\t\t\t\tBUG(\"malformed internal diff-index command line\");",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 642,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&args, \"--exclude=refs/tags/%s\", item->string)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tstrvec_pushf(&args, \"--exclude=refs/tags/%s\", item->string);",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": null,
          "new_api": "strvec_pushv",
          "old_text": null,
          "new_text": "strvec_pushv(&args, argv)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\t\tstrvec_pushv(&args, argv);",
          "content_same": false
        },
        {
          "line": 518,
          "old_api": null,
          "new_api": "null_oid",
          "old_text": null,
          "new_text": "null_oid()",
          "old_line_content": "",
          "new_line_content": "\tstruct process_commit_data pcd = { *null_oid(), oid, dst, &revs};",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&args, \"HEAD\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tstrvec_push(&args, \"HEAD\");",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": null,
          "new_api": "strvec_pushl",
          "old_text": null,
          "new_text": "strvec_pushl(&args, \"internal: The first arg is not parsed\",\n\t\t     \"--objects\", \"--in-commit-order\", \"--reverse\", \"HEAD\",\n\t\t     NULL)",
          "old_line_content": "\t\t     \"--objects\", \"--in-commit-order\", \"--reverse\", \"HEAD\",",
          "new_line_content": "\tstrvec_pushl(&args, \"internal: The first arg is not parsed\",",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": null,
          "new_api": "ALLOC_ARRAY",
          "old_text": null,
          "new_text": "ALLOC_ARRAY(argv_copy, args.nr + 1)",
          "old_line_content": "\t\tfor (size_t i = 0; i < args.nr; i++)",
          "new_line_content": "\t\tALLOC_ARRAY(argv_copy, args.nr + 1);",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": null,
          "new_api": "BUG",
          "old_text": null,
          "new_text": "BUG(\"setup_revisions could not handle all args?\")",
          "old_line_content": "",
          "new_line_content": "\t\tBUG(\"setup_revisions could not handle all args?\");",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"revision walk setup failed\")",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"revision walk setup failed\");",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": null,
          "new_api": "cmd_name_rev",
          "old_text": null,
          "new_text": "cmd_name_rev(args.nr, argv_copy, prefix, the_repository)",
          "old_line_content": "",
          "new_line_content": "\t\tret = cmd_name_rev(args.nr, argv_copy, prefix, the_repository);",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(argv_copy)",
          "old_line_content": "\t\treturn ret;",
          "new_line_content": "\t\tfree(argv_copy);",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": null,
          "new_api": "strvec_clear",
          "old_text": null,
          "new_text": "strvec_clear(&args)",
          "old_line_content": "}",
          "new_line_content": "\tstrvec_clear(&args);",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": null,
          "new_api": "get_main_ref_store",
          "old_text": null,
          "new_text": "get_main_ref_store(the_repository)",
          "old_line_content": "\t\t\t     NULL);",
          "new_line_content": "\trefs_for_each_rawref(get_main_ref_store(the_repository), get_name,",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"finished search at %s\\n\")",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\tfprintf(stderr, _(\"finished search at %s\\n\"),",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&c->object.oid)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\t\toid_to_hex(&c->object.oid));",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"No names found, cannot describe anything.\")",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"No names found, cannot describe anything.\"));",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"describe %s\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\tfprintf(stderr, _(\"describe %s\\n\"), arg);",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": null,
          "new_api": "strvec_pushv",
          "old_text": null,
          "new_text": "strvec_pushv(&cp.args, update_index_args)",
          "old_line_content": "\t\t\tcp.git_cmd = 1;",
          "new_line_content": "\t\t\tstrvec_pushv(&cp.args, update_index_args);",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": null,
          "new_api": "lookup_commit_reference_gently",
          "old_text": null,
          "new_text": "lookup_commit_reference_gently(the_repository, &oid, 1)",
          "old_line_content": "",
          "new_line_content": "\tcmit = lookup_commit_reference_gently(the_repository, &oid, 1);",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": null,
          "new_api": "commit_list_insert_by_date",
          "old_text": null,
          "new_text": "commit_list_insert_by_date(p, &list)",
          "old_line_content": "\t\t\tparents = parents->next;",
          "new_line_content": "\t\t\t\tcommit_list_insert_by_date(p, &list);",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": null,
          "new_api": "run_command",
          "old_text": null,
          "new_text": "run_command(&cp)",
          "old_line_content": "",
          "new_line_content": "\t\t\trun_command(&cp);",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": null,
          "new_api": "describe_blob",
          "old_text": null,
          "new_text": "describe_blob(oid, &sb)",
          "old_line_content": "\telse",
          "new_line_content": "\t\tdescribe_blob(oid, &sb);",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": null,
          "new_api": "strvec_pushv",
          "old_text": null,
          "new_text": "strvec_pushv(&cp.args, diff_index_args)",
          "old_line_content": "\t\t\tcp.git_cmd = 1;",
          "new_line_content": "\t\t\tstrvec_pushv(&cp.args, diff_index_args);",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"%s is neither a commit nor blob\")",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"%s is neither a commit nor blob\"), arg);",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": null,
          "new_api": "puts",
          "old_text": null,
          "new_text": "puts(sb.buf)",
          "old_line_content": "",
          "new_line_content": "\tputs(sb.buf);",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": null,
          "new_api": "clear_commit_marks",
          "old_text": null,
          "new_text": "clear_commit_marks(cmit, -1)",
          "old_line_content": "",
          "new_line_content": "\t\tclear_commit_marks(cmit, -1);",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&sb)",
          "old_line_content": "}",
          "new_line_content": "\tstrbuf_release(&sb);",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": null,
          "new_api": "run_command",
          "old_text": null,
          "new_text": "run_command(&cp)",
          "old_line_content": "\t\t\tcase 0:",
          "new_line_content": "\t\t\tswitch (run_command(&cp)) {",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(dst, suffix)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tstrbuf_addstr(dst, suffix);",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": null,
          "new_api": "BUG_ON_OPT_ARG",
          "old_text": null,
          "new_text": "BUG_ON_OPT_ARG(arg)",
          "old_line_content": "",
          "new_line_content": "\tBUG_ON_OPT_ARG(arg);",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(cmit_oid)",
          "old_line_content": "",
          "new_line_content": "\t\t\t    oid_to_hex(cmit_oid));",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": null,
          "new_api": "QSORT",
          "old_text": null,
          "new_text": "QSORT(all_matches, match_cnt, compare_pt)",
          "old_line_content": "\tif (gave_up_on) {",
          "new_line_content": "\tQSORT(all_matches, match_cnt, compare_pt);",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": null,
          "new_api": "commit_list_insert_by_date",
          "old_text": null,
          "new_text": "commit_list_insert_by_date(gave_up_on, &list)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tcommit_list_insert_by_date(gave_up_on, &list);",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": null,
          "new_api": "prepare_repo_settings",
          "old_text": null,
          "new_text": "prepare_repo_settings(the_repository)",
          "old_line_content": "\t\t\tthe_repository->settings.command_requires_full_index = 0;",
          "new_line_content": "\t\t\tprepare_repo_settings(the_repository);",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": null,
          "new_api": "finish_depth_computation",
          "old_text": null,
          "new_text": "finish_depth_computation(&list, &all_matches[0])",
          "old_line_content": "",
          "new_line_content": "\tseen_commits += finish_depth_computation(&list, &all_matches[0]);",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": null,
          "new_api": "refresh_index",
          "old_text": null,
          "new_text": "refresh_index(the_repository->index, REFRESH_QUIET|REFRESH_UNMERGED,\n\t\t\t\t      NULL, NULL, NULL)",
          "old_line_content": "\t\t\t\t      NULL, NULL, NULL);",
          "new_line_content": "\t\t\trefresh_index(the_repository->index, REFRESH_QUIET|REFRESH_UNMERGED,",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": null,
          "new_api": "free_commit_list",
          "old_text": null,
          "new_text": "free_commit_list(list)",
          "old_line_content": "\tif (debug) {",
          "new_line_content": "\tfree_commit_list(list);",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": null,
          "new_api": "repo_hold_locked_index",
          "old_text": null,
          "new_text": "repo_hold_locked_index(the_repository,\n\t\t\t\t\t\t    &index_lock, 0)",
          "old_line_content": "\t\t\t\t\t\t    &index_lock, 0);",
          "new_line_content": "\t\t\tfd = repo_hold_locked_index(the_repository,",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": null,
          "new_api": "repo_update_index_if_able",
          "old_text": null,
          "new_text": "repo_update_index_if_able(the_repository, &index_lock)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\trepo_update_index_if_able(the_repository, &index_lock);",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(prio_names)",
          "old_line_content": "\t\t\t\tif (label_width < w)",
          "new_line_content": "\t\t\tfor (i = 0; i < ARRAY_SIZE(prio_names); i++) {",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "repo_init_revisions",
          "old_text": null,
          "new_text": "repo_init_revisions(the_repository, &revs, prefix)",
          "old_line_content": "",
          "new_line_content": "\t\t\trepo_init_revisions(the_repository, &revs, prefix);",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(prio_names[i])",
          "old_line_content": "\t\t\t\t\tlabel_width = w;",
          "new_line_content": "\t\t\t\tw = strlen(_(prio_names[i]));",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": null,
          "new_api": "N_",
          "old_text": null,
          "new_text": "N_(\"only output exact matches\")",
          "old_line_content": "\t\t\t       PARSE_OPT_NOARG, option_parse_exact_match),",
          "new_line_content": "\t\t\t       N_(\"only output exact matches\"),",
          "content_same": false
        },
        {
          "line": 719,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(diff_index_args)",
          "old_line_content": "\t\t\t\t\t    diff_index_args, &revs, NULL) != 1)",
          "new_line_content": "\t\t\tif (setup_revisions(ARRAY_SIZE(diff_index_args) - 1,",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": null,
          "new_api": "run_diff_index",
          "old_text": null,
          "new_text": "run_diff_index(&revs, 0)",
          "old_line_content": "",
          "new_line_content": "\t\t\trun_diff_index(&revs, 0);",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": null,
          "new_api": "diff_result_code",
          "old_text": null,
          "new_text": "diff_result_code(&revs)",
          "old_line_content": "\t\t\t\tsuffix = NULL;",
          "new_line_content": "\t\t\tif (!diff_result_code(&revs))",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \" %-*s %8d %s\\n\",\n\t\t\t\tlabel_width, _(prio_names[t->name->prio]),\n\t\t\t\tt->depth, t->name->path)",
          "old_line_content": "\t\t\t\tt->depth, t->name->path);",
          "new_line_content": "\t\t\tfprintf(stderr, \" %-*s %8d %s\\n\",",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(prio_names[t->name->prio])",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tlabel_width, _(prio_names[t->name->prio]),",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": null,
          "new_api": "release_revisions",
          "old_text": null,
          "new_text": "release_revisions(&revs)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\trelease_revisions(&revs);",
          "content_same": false
        },
        {
          "line": 602,
          "old_api": null,
          "new_api": "N_",
          "old_text": null,
          "new_text": "N_(\"append <mark> on dirty working tree (default: \\\"-dirty\\\")\")",
          "old_line_content": "\t\t\tPARSE_OPT_OPTARG, NULL, (intptr_t) \"-dirty\"},",
          "new_line_content": "\t\t\tN_(\"append <mark> on dirty working tree (default: \\\"-dirty\\\")\"),",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": null,
          "new_api": "describe",
          "old_text": null,
          "new_text": "describe(\"HEAD\", 1)",
          "old_line_content": "\t} else if (dirty) {",
          "new_line_content": "\t\tdescribe(\"HEAD\", 1);",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"option '%s' and commit-ishes cannot be used together\")",
          "old_line_content": "\t} else if (broken) {",
          "new_line_content": "\t\tdie(_(\"option '%s' and commit-ishes cannot be used together\"), \"--dirty\");",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": null,
          "new_api": "N_",
          "old_text": null,
          "new_text": "N_(\"append <mark> on broken working tree (default: \\\"-broken\\\")\")",
          "old_line_content": "\t\t\tPARSE_OPT_OPTARG, NULL, (intptr_t) \"-broken\"},",
          "new_line_content": "\t\t\tN_(\"append <mark> on broken working tree (default: \\\"-broken\\\")\"),",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"option '%s' and commit-ishes cannot be used together\")",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tdie(_(\"option '%s' and commit-ishes cannot be used together\"), \"--broken\");",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": null,
          "new_api": "OPT_END",
          "old_text": null,
          "new_text": "OPT_END()",
          "old_line_content": "\t};",
          "new_line_content": "\t\tOPT_END(),",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\n\t\t\t\t_(\"found %i tags; gave up search at %s\\n\"),\n\t\t\t\tmax_candidates,\n\t\t\t\toid_to_hex(&gave_up_on->object.oid))",
          "old_line_content": "\t\t\t\t\"gave up search at %s\\n\"),",
          "new_line_content": "\t\t\tfprintf(stderr,",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": null,
          "new_api": "describe",
          "old_text": null,
          "new_text": "describe(*argv++, argc == 0)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tdescribe(*argv++, argc == 0);",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"found %i tags; gave up search at %s\\n\")",
          "old_line_content": "\t\t\t\tmax_candidates, max_candidates,",
          "new_line_content": "\t\t\t\t_(\"found %i tags; gave up search at %s\\n\"),",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": null,
          "new_api": "parse_options",
          "old_text": null,
          "new_text": "parse_options(argc, argv, prefix, options, describe_usage, 0)",
          "old_line_content": "\tif (abbrev < 0)",
          "new_line_content": "\targc = parse_options(argc, argv, prefix, options, describe_usage, 0);",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&gave_up_on->object.oid)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\toid_to_hex(&gave_up_on->object.oid));",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": null,
          "new_api": "append_name",
          "old_text": null,
          "new_text": "append_name(all_matches[0].name, dst)",
          "old_line_content": "\tif (all_matches[0].name->misnamed || abbrev)",
          "new_line_content": "\tappend_name(all_matches[0].name, dst);",
          "content_same": false
        },
        {
          "line": 483,
          "old_api": null,
          "new_api": "append_suffix",
          "old_text": null,
          "new_text": "append_suffix(all_matches[0].depth, &cmit->object.oid, dst)",
          "old_line_content": "\tif (suffix)",
          "new_line_content": "\t\tappend_suffix(all_matches[0].depth, &cmit->object.oid, dst);",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(dst, suffix)",
          "old_line_content": "}",
          "new_line_content": "\t\tstrbuf_addstr(dst, suffix);",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"options '%s' and '%s' cannot be used together\")",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"options '%s' and '%s' cannot be used together\"), \"--long\", \"--abbrev=0\");",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": null,
          "new_api": "commit_names_peek",
          "old_text": null,
          "new_text": "commit_names_peek(&commit_names, c)",
          "old_line_content": "\t\t\t\tstruct possible_tag *t = &all_matches[match_cnt++];",
          "new_line_content": "\t\tslot = commit_names_peek(&commit_names, c);",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": null,
          "new_api": "strvec_pushl",
          "old_text": null,
          "new_text": "strvec_pushl(&args, \"name-rev\",\n\t\t\t     \"--peel-tag\", \"--name-only\", \"--no-undefined\",\n\t\t\t     NULL)",
          "old_line_content": "\t\t\t     \"--peel-tag\", \"--name-only\", \"--no-undefined\",",
          "new_line_content": "\t\tstrvec_pushl(&args, \"name-rev\",",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&args, \"--always\")",
          "old_line_content": "\t\tif (!all) {",
          "new_line_content": "\t\t\tstrvec_push(&args, \"--always\");",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": null,
          "new_api": "free_commit_list",
          "old_text": null,
          "new_text": "free_commit_list(pcd->revs->commits)",
          "old_line_content": "\t\tpcd->revs->commits = NULL;",
          "new_line_content": "\t\tfree_commit_list(pcd->revs->commits);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 644,
          "old_api": "strvec_pushv",
          "new_api": null,
          "old_text": "strvec_pushv(&args, argv)",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_pushv(&args, argv);",
          "new_line_content": "\t\tif (argc)",
          "content_same": false
        },
        {
          "line": 517,
          "old_api": "null_oid",
          "new_api": null,
          "old_text": "null_oid()",
          "new_text": null,
          "old_line_content": "\tstruct process_commit_data pcd = { *null_oid(), oid, dst, &revs};",
          "new_line_content": "\tstruct strvec args = STRVEC_INIT;",
          "content_same": false
        },
        {
          "line": 646,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&args, \"HEAD\")",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_push(&args, \"HEAD\");",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": "strvec_pushl",
          "new_api": null,
          "old_text": "strvec_pushl(&args, \"internal: The first arg is not parsed\",\n\t\t     \"--objects\", \"--in-commit-order\", \"--reverse\", \"HEAD\",\n\t\t     NULL)",
          "new_text": null,
          "old_line_content": "\tstrvec_pushl(&args, \"internal: The first arg is not parsed\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": "repo_init_revisions",
          "new_api": null,
          "old_text": "repo_init_revisions(the_repository, &revs, NULL)",
          "new_text": null,
          "old_line_content": "\trepo_init_revisions(the_repository, &revs, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "ALLOC_ARRAY",
          "new_api": null,
          "old_text": "ALLOC_ARRAY(argv_copy, args.nr + 1)",
          "new_text": null,
          "old_line_content": "\t\tALLOC_ARRAY(argv_copy, args.nr + 1);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": "prepare_revision_walk",
          "new_api": null,
          "old_text": "prepare_revision_walk(&revs)",
          "new_text": null,
          "old_line_content": "\tif (prepare_revision_walk(&revs))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "cmd_name_rev",
          "new_api": null,
          "old_text": "cmd_name_rev(args.nr, argv_copy, prefix, the_repository)",
          "new_text": null,
          "old_line_content": "\t\tret = cmd_name_rev(args.nr, argv_copy, prefix, the_repository);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": "traverse_commit_list",
          "new_api": null,
          "old_text": "traverse_commit_list(&revs, process_commit, process_object, &pcd)",
          "new_text": null,
          "old_line_content": "\ttraverse_commit_list(&revs, process_commit, process_object, &pcd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": "strvec_clear",
          "new_api": null,
          "old_text": "strvec_clear(&args)",
          "new_text": null,
          "old_line_content": "\t\tstrvec_clear(&args);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": "hashmap_init",
          "new_api": null,
          "old_text": "hashmap_init(&names, commit_name_neq, NULL, 0)",
          "new_text": null,
          "old_line_content": "\thashmap_init(&names, commit_name_neq, NULL, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"finished search at %s\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tfprintf(stderr, _(\"finished search at %s\\n\"),",
          "new_line_content": "\t\t\tif ((c->object.flags & best_within) == best_within) {",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&c->object.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\toid_to_hex(&c->object.oid));",
          "new_line_content": "\t\t\t\tif (debug)",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": "hashmap_get_size",
          "new_api": null,
          "old_text": "hashmap_get_size(&names)",
          "new_text": null,
          "old_line_content": "\tif (!hashmap_get_size(&names) && !always)",
          "new_line_content": "\t\t\t     NULL);",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"describe %s\\n\")",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, _(\"describe %s\\n\"), arg);",
          "new_line_content": "\tif (debug)",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": "repo_parse_commit",
          "new_api": null,
          "old_text": "repo_parse_commit(the_repository, p)",
          "new_text": null,
          "old_line_content": "\t\t\trepo_parse_commit(the_repository, p);",
          "new_line_content": "\t\twhile (parents) {",
          "content_same": false
        },
        {
          "line": 545,
          "old_api": "repo_get_oid",
          "new_api": null,
          "old_text": "repo_get_oid(the_repository, arg, &oid)",
          "new_text": null,
          "old_line_content": "\tif (repo_get_oid(the_repository, arg, &oid))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "strvec_pushv",
          "new_api": null,
          "old_text": "strvec_pushv(&cp.args, update_index_args)",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_pushv(&cp.args, update_index_args);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": "describe_commit",
          "new_api": null,
          "old_text": "describe_commit(&oid, &sb)",
          "new_text": null,
          "old_line_content": "\t\tdescribe_commit(&oid, &sb);",
          "new_line_content": "\tif (cmit)",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": "run_command",
          "new_api": null,
          "old_text": "run_command(&cp)",
          "new_text": null,
          "old_line_content": "\t\t\trun_command(&cp);",
          "new_line_content": "\t\t\tcp.no_stdout = 1;",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": "child_process_init",
          "new_api": null,
          "old_text": "child_process_init(&cp)",
          "new_text": null,
          "old_line_content": "\t\t\tchild_process_init(&cp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"%s is neither a commit nor blob\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"%s is neither a commit nor blob\"), arg);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": "puts",
          "new_api": null,
          "old_text": "puts(sb.buf)",
          "new_text": null,
          "old_line_content": "\tputs(sb.buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": "strbuf_add_unique_abbrev",
          "new_api": null,
          "old_text": "strbuf_add_unique_abbrev(dst, cmit_oid, abbrev)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_add_unique_abbrev(dst, cmit_oid, abbrev);",
          "new_line_content": "\t\tstruct object_id *cmit_oid = &cmit->object.oid;",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": "clear_commit_marks",
          "new_api": null,
          "old_text": "clear_commit_marks(cmit, -1)",
          "new_text": null,
          "old_line_content": "\t\tclear_commit_marks(cmit, -1);",
          "new_line_content": "\tif (!last_one)",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&sb)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&sb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": "run_command",
          "new_api": null,
          "old_text": "run_command(&cp)",
          "new_text": null,
          "old_line_content": "\t\t\tswitch (run_command(&cp)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"No annotated tags can describe '%s'.\\n\"\n\t\t\t    \"However, there were unannotated tags: try --tags.\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(_(\"No annotated tags can describe '%s'.\\n\"",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": "BUG_ON_OPT_ARG",
          "new_api": null,
          "old_text": "BUG_ON_OPT_ARG(arg)",
          "new_text": null,
          "old_line_content": "\tBUG_ON_OPT_ARG(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": "QSORT",
          "new_api": null,
          "old_text": "QSORT(all_matches, match_cnt, compare_pt)",
          "new_text": null,
          "old_line_content": "\tQSORT(all_matches, match_cnt, compare_pt);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": "commit_list_insert_by_date",
          "new_api": null,
          "old_text": "commit_list_insert_by_date(gave_up_on, &list)",
          "new_text": null,
          "old_line_content": "\t\tcommit_list_insert_by_date(gave_up_on, &list);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "setup_work_tree",
          "new_api": null,
          "old_text": "setup_work_tree()",
          "new_text": null,
          "old_line_content": "\t\t\tsetup_work_tree();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": "finish_depth_computation",
          "new_api": null,
          "old_text": "finish_depth_computation(&list, &all_matches[0])",
          "new_text": null,
          "old_line_content": "\tseen_commits += finish_depth_computation(&list, &all_matches[0]);",
          "new_line_content": "\t\tseen_commits--;",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": "repo_read_index",
          "new_api": null,
          "old_text": "repo_read_index(the_repository)",
          "new_text": null,
          "old_line_content": "\t\t\trepo_read_index(the_repository);",
          "new_line_content": "\t\t\tthe_repository->settings.command_requires_full_index = 0;",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": "free_commit_list",
          "new_api": null,
          "old_text": "free_commit_list(list)",
          "new_text": null,
          "old_line_content": "\tfree_commit_list(list);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": "N_",
          "new_api": null,
          "old_text": "N_(\"find the tag that comes after the commit\")",
          "new_text": null,
          "old_line_content": "\t\tOPT_BOOL(0, \"contains\",   &contains, N_(\"find the tag that comes after the commit\")),",
          "new_line_content": "\tstruct option options[] = {",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": "repo_hold_locked_index",
          "new_api": null,
          "old_text": "repo_hold_locked_index(the_repository,\n\t\t\t\t\t\t    &index_lock, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tfd = repo_hold_locked_index(the_repository,",
          "new_line_content": "\t\t\t\t      NULL, NULL, NULL);",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": "repo_update_index_if_able",
          "new_api": null,
          "old_text": "repo_update_index_if_able(the_repository, &index_lock)",
          "new_text": null,
          "old_line_content": "\t\t\t\trepo_update_index_if_able(the_repository, &index_lock);",
          "new_line_content": "\t\t\tif (0 <= fd)",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(prio_names)",
          "new_text": null,
          "old_line_content": "\t\t\tfor (i = 0; i < ARRAY_SIZE(prio_names); i++) {",
          "new_line_content": "\t\tif (label_width < 0) {",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": "repo_init_revisions",
          "new_api": null,
          "old_text": "repo_init_revisions(the_repository, &revs, prefix)",
          "new_text": null,
          "old_line_content": "\t\t\trepo_init_revisions(the_repository, &revs, prefix);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(prio_names[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\tw = strlen(_(prio_names[i]));",
          "new_line_content": "\t\t\tint i, w;",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(diff_index_args)",
          "new_text": null,
          "old_line_content": "\t\t\tif (setup_revisions(ARRAY_SIZE(diff_index_args) - 1,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 592,
          "old_api": "OPT_INTEGER",
          "new_api": null,
          "old_text": "OPT_INTEGER(0, \"candidates\", &max_candidates,\n\t\t\t    N_(\"consider <n> most recent tags (default: 10)\"))",
          "new_text": null,
          "old_line_content": "\t\tOPT_INTEGER(0, \"candidates\", &max_candidates,",
          "new_line_content": "\t\t\t       PARSE_OPT_NOARG, option_parse_exact_match),",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": "BUG",
          "new_api": null,
          "old_text": "BUG(\"malformed internal diff-index command line\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tBUG(\"malformed internal diff-index command line\");",
          "new_line_content": "\t\t\t\t\t    diff_index_args, &revs, NULL) != 1)",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \" %-*s %8d %s\\n\",\n\t\t\t\tlabel_width, _(prio_names[t->name->prio]),\n\t\t\t\tt->depth, t->name->path)",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, \" %-*s %8d %s\\n\",",
          "new_line_content": "\t\tfor (cur_match = 0; cur_match < match_cnt; cur_match++) {",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": "diff_result_code",
          "new_api": null,
          "old_text": "diff_result_code(&revs)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!diff_result_code(&revs))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(prio_names[t->name->prio])",
          "new_text": null,
          "old_line_content": "\t\t\t\tlabel_width, _(prio_names[t->name->prio]),",
          "new_line_content": "\t\t\tstruct possible_tag *t = &all_matches[cur_match];",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"traversed %lu commits\\n\")",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, _(\"traversed %lu commits\\n\"), seen_commits);",
          "new_line_content": "\t\t\t\tt->depth, t->name->path);",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "release_revisions",
          "new_api": null,
          "old_text": "release_revisions(&revs)",
          "new_text": null,
          "old_line_content": "\t\t\trelease_revisions(&revs);",
          "new_line_content": "\t\t\t\tsuffix = dirty;",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": "describe",
          "new_api": null,
          "old_text": "describe(\"HEAD\", 1)",
          "new_text": null,
          "old_line_content": "\t\tdescribe(\"HEAD\", 1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"more than %i tags found; listed %i most recent\\n\"\n\t\t\t\t\"gave up search at %s\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t_(\"more than %i tags found; listed %i most recent\\n\"",
          "new_line_content": "\t\tif (gave_up_on) {",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": "N_",
          "new_api": null,
          "old_text": "N_(\"mark\")",
          "new_text": null,
          "old_line_content": "\t\t{OPTION_STRING, 0, \"broken\",  &broken, N_(\"mark\"),",
          "new_line_content": "\t\t\tPARSE_OPT_OPTARG, NULL, (intptr_t) \"-dirty\"},",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"option '%s' and commit-ishes cannot be used together\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"option '%s' and commit-ishes cannot be used together\"), \"--dirty\");",
          "new_line_content": "\t} else if (dirty) {",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"option '%s' and commit-ishes cannot be used together\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"option '%s' and commit-ishes cannot be used together\"), \"--broken\");",
          "new_line_content": "\t} else if (broken) {",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": "OPT_END",
          "new_api": null,
          "old_text": "OPT_END()",
          "new_text": null,
          "old_line_content": "\t\tOPT_END(),",
          "new_line_content": "\t\t\tPARSE_OPT_OPTARG, NULL, (intptr_t) \"-broken\"},",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&gave_up_on->object.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\toid_to_hex(&gave_up_on->object.oid));",
          "new_line_content": "\t\t\t\tmax_candidates,",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": "describe",
          "new_api": null,
          "old_text": "describe(*argv++, argc == 0)",
          "new_text": null,
          "old_line_content": "\t\t\tdescribe(*argv++, argc == 0);",
          "new_line_content": "\t\twhile (argc-- > 0)",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": "git_config",
          "new_api": null,
          "old_text": "git_config(git_default_config, NULL)",
          "new_text": null,
          "old_line_content": "\tgit_config(git_default_config, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": "append_name",
          "new_api": null,
          "old_text": "append_name(all_matches[0].name, dst)",
          "new_text": null,
          "old_line_content": "\tappend_name(all_matches[0].name, dst);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": "append_suffix",
          "new_api": null,
          "old_text": "append_suffix(all_matches[0].depth, &cmit->object.oid, dst)",
          "new_text": null,
          "old_line_content": "\t\tappend_suffix(all_matches[0].depth, &cmit->object.oid, dst);",
          "new_line_content": "\tif (all_matches[0].name->misnamed || abbrev)",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(dst, suffix)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addstr(dst, suffix);",
          "new_line_content": "\tif (suffix)",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"options '%s' and '%s' cannot be used together\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"options '%s' and '%s' cannot be used together\"), \"--long\", \"--abbrev=0\");",
          "new_line_content": "\tif (longformat && abbrev == 0)",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": "commit_names_peek",
          "new_api": null,
          "old_text": "commit_names_peek(&commit_names, c)",
          "new_text": null,
          "old_line_content": "\t\tslot = commit_names_peek(&commit_names, c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "strvec_init",
          "new_api": null,
          "old_text": "strvec_init(&args)",
          "new_text": null,
          "old_line_content": "\t\tstrvec_init(&args);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": "oideq",
          "new_api": null,
          "old_text": "oideq(&pcd->looking_for, &obj->oid)",
          "new_text": null,
          "old_line_content": "\tif (oideq(&pcd->looking_for, &obj->oid) && !pcd->dst->len) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&args, \"--always\")",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_push(&args, \"--always\");",
          "new_line_content": "\t\tif (always)",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&args, \"--tags\")",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_push(&args, \"--tags\");",
          "new_line_content": "\t\tif (!all) {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 39,
      "total_additions": 67,
      "total_deletions": 67,
      "total_api_changes": 173
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 14,
        "api_related_lines": 173,
        "non_api_lines": 9,
        "non_api_line_numbers": [
          384,
          385,
          386,
          387,
          370,
          371,
          372,
          373,
          374
        ]
      }
    },
    "api_calls_before": 208,
    "api_calls_after": 208,
    "diff_info": {
      "added_lines": 8,
      "removed_lines": 7,
      "total_diff_lines": 41
    }
  }
}