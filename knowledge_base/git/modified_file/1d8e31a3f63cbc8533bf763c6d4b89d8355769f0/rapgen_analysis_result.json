{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/1d8e31a3f63cbc8533bf763c6d4b89d8355769f0",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/1d8e31a3f63cbc8533bf763c6d4b89d8355769f0/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/1d8e31a3f63cbc8533bf763c6d4b89d8355769f0/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/1d8e31a3f63cbc8533bf763c6d4b89d8355769f0/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 3276,
          "old_api": "indegree_slab_at",
          "new_api": "compute_indegrees_to_depth",
          "old_text": "indegree_slab_at(&info->indegree, parent)",
          "new_text": "compute_indegrees_to_depth(revs, info->min_generation)",
          "old_line_content": "\t\tpi = indegree_slab_at(&info->indegree, parent);",
          "new_line_content": "\t\t\tcompute_indegrees_to_depth(revs, info->min_generation);",
          "content_same": false
        },
        {
          "line": 3327,
          "old_api": "sort_in_topological_order",
          "new_api": "limit_list",
          "old_text": "sort_in_topological_order(&revs->commits, revs->sort_order)",
          "new_text": "limit_list(revs)",
          "old_line_content": "\t\t\tsort_in_topological_order(&revs->commits, revs->sort_order);",
          "new_line_content": "\t\tif (limit_list(revs) < 0)",
          "content_same": false
        },
        {
          "line": 3436,
          "old_api": "strbuf_addf",
          "new_api": "map_user",
          "old_text": "strbuf_addf(&namemail, \"%.*s <%.*s>\",\n\t\t\t    (int)namelen, name, (int)maillen, mail)",
          "new_text": "map_user(mailmap, &mail, &maillen, &name, &namelen)",
          "old_line_content": "\t\tstrbuf_addf(&namemail, \"%.*s <%.*s>\",",
          "new_line_content": "\tif (map_user(mailmap, &mail, &maillen, &name, &namelen)) {",
          "content_same": false
        },
        {
          "line": 3439,
          "old_api": "strbuf_splice",
          "new_api": "strbuf_addf",
          "old_text": "strbuf_splice(buf, ident.name_begin - buf->buf,\n\t\t\t      ident.mail_end - ident.name_begin + 1,\n\t\t\t      namemail.buf, namemail.len)",
          "new_text": "strbuf_addf(&namemail, \"%.*s <%.*s>\",\n\t\t\t    (int)namelen, name, (int)maillen, mail)",
          "old_line_content": "\t\tstrbuf_splice(buf, ident.name_begin - buf->buf,",
          "new_line_content": "\t\tstrbuf_addf(&namemail, \"%.*s <%.*s>\",",
          "content_same": false
        },
        {
          "line": 3487,
          "old_api": "commit_rewrite_person",
          "new_api": "strbuf_addstr",
          "old_text": "commit_rewrite_person(&buf, \"\\ncommitter \", opt->mailmap)",
          "new_text": "strbuf_addstr(&buf, message)",
          "old_line_content": "\t\tcommit_rewrite_person(&buf, \"\\ncommitter \", opt->mailmap);",
          "new_line_content": "\t\t\tstrbuf_addstr(&buf, message);",
          "content_same": false
        },
        {
          "line": 3509,
          "old_api": "strlen",
          "new_api": "grep_buffer",
          "old_text": "strlen(message)",
          "new_text": "grep_buffer(&opt->grep_filter, buf.buf, buf.len)",
          "old_line_content": "\t\t\t\t     (char *)message, strlen(message));",
          "new_line_content": "\t\tretval = grep_buffer(&opt->grep_filter, buf.buf, buf.len);",
          "content_same": false
        },
        {
          "line": 3511,
          "old_api": "unuse_commit_buffer",
          "new_api": "grep_buffer",
          "old_text": "unuse_commit_buffer(commit, message)",
          "new_text": "grep_buffer(&opt->grep_filter,\n\t\t\t\t     (char *)message, strlen(message))",
          "old_line_content": "\tunuse_commit_buffer(commit, message);",
          "new_line_content": "\t\tretval = grep_buffer(&opt->grep_filter,",
          "content_same": false
        },
        {
          "line": 3544,
          "old_api": "commit_list_count",
          "new_api": "comparison_date",
          "old_text": "commit_list_count(commit->parents)",
          "new_text": "comparison_date(revs, commit)",
          "old_line_content": "\t\tint n = commit_list_count(commit->parents);",
          "new_line_content": "\t    comparison_date(revs, commit) > revs->min_age)",
          "content_same": false
        },
        {
          "line": 3593,
          "old_api": "saved_parents_at",
          "new_api": "init_saved_parents",
          "old_text": "saved_parents_at(revs->saved_parents_slab, commit)",
          "new_text": "init_saved_parents(revs->saved_parents_slab)",
          "old_line_content": "\tpp = saved_parents_at(revs->saved_parents_slab, commit);",
          "new_line_content": "\t\tinit_saved_parents(revs->saved_parents_slab);",
          "content_same": false
        },
        {
          "line": 3636,
          "old_api": "want_ancestry",
          "new_api": "get_commit_action",
          "old_text": "want_ancestry(revs)",
          "new_text": "get_commit_action(revs, commit)",
          "old_line_content": "\t    revs->prune && revs->dense && want_ancestry(revs)) {",
          "new_line_content": "\tenum commit_action action = get_commit_action(revs, commit);",
          "content_same": false
        },
        {
          "line": 3704,
          "old_api": "process_parents",
          "new_api": "try_to_simplify_commit",
          "old_text": "process_parents(revs, commit, &revs->commits, NULL)",
          "new_text": "try_to_simplify_commit(revs, commit)",
          "old_line_content": "\t\t\telse if (process_parents(revs, commit, &revs->commits, NULL) < 0) {",
          "new_line_content": "\t\t\t\ttry_to_simplify_commit(revs, commit);",
          "content_same": false
        },
        {
          "line": 3706,
          "old_api": "die",
          "new_api": "expand_topo_walk",
          "old_text": "die(\"Failed to traverse parents of commit %s\",\n\t\t\t\t\t\toid_to_hex(&commit->object.oid))",
          "new_text": "expand_topo_walk(revs, commit)",
          "old_line_content": "\t\t\t\t\tdie(\"Failed to traverse parents of commit %s\",",
          "new_line_content": "\t\t\t\texpand_topo_walk(revs, commit);",
          "content_same": false
        },
        {
          "line": 3707,
          "old_api": "oid_to_hex",
          "new_api": "process_parents",
          "old_text": "oid_to_hex(&commit->object.oid)",
          "new_text": "process_parents(revs, commit, &revs->commits, NULL)",
          "old_line_content": "\t\t\t\t\t\toid_to_hex(&commit->object.oid));",
          "new_line_content": "\t\t\telse if (process_parents(revs, commit, &revs->commits, NULL) < 0) {",
          "content_same": false
        },
        {
          "line": 3719,
          "old_api": "track_linear",
          "new_api": "oid_to_hex",
          "old_text": "track_linear(revs, commit)",
          "new_text": "oid_to_hex(&commit->object.oid)",
          "old_line_content": "\t\t\t\ttrack_linear(revs, commit);",
          "new_line_content": "\t\t\t    oid_to_hex(&commit->object.oid));",
          "content_same": false
        },
        {
          "line": 3930,
          "old_api": "fputs",
          "new_api": "get_revision_mark",
          "old_text": "fputs(mark, stdout)",
          "new_text": "get_revision_mark(revs, commit)",
          "old_line_content": "\tfputs(mark, stdout);",
          "new_line_content": "\tchar *mark = get_revision_mark(revs, commit);",
          "content_same": false
        },
        {
          "line": 3931,
          "old_api": "putchar",
          "new_api": "strlen",
          "old_text": "putchar(' ')",
          "new_text": "strlen(mark)",
          "old_line_content": "\tputchar(' ');",
          "new_line_content": "\tif (!strlen(mark))",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 3592,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(sizeof(struct saved_parents))",
          "old_line_content": "",
          "new_line_content": "\t\trevs->saved_parents_slab = xmalloc(sizeof(struct saved_parents));",
          "content_same": false
        },
        {
          "line": 3596,
          "old_api": null,
          "new_api": "saved_parents_at",
          "old_text": null,
          "new_text": "saved_parents_at(revs->saved_parents_slab, commit)",
          "old_line_content": "\t * When walking with reflogs, we may visit the same commit",
          "new_line_content": "\tpp = saved_parents_at(revs->saved_parents_slab, commit);",
          "content_same": false
        },
        {
          "line": 3610,
          "old_api": null,
          "new_api": "copy_commit_list",
          "old_text": null,
          "new_text": "copy_commit_list(commit->parents)",
          "old_line_content": "}",
          "new_line_content": "\t\t*pp = copy_commit_list(commit->parents);",
          "content_same": false
        },
        {
          "line": 3618,
          "old_api": null,
          "new_api": "clear_saved_parents",
          "old_text": null,
          "new_text": "clear_saved_parents(revs->saved_parents_slab)",
          "old_line_content": "struct commit_list *get_saved_parents(struct rev_info *revs, const struct commit *commit)",
          "new_line_content": "\t\tclear_saved_parents(revs->saved_parents_slab);",
          "content_same": false
        },
        {
          "line": 3628,
          "old_api": null,
          "new_api": "saved_parents_at",
          "old_text": null,
          "new_text": "saved_parents_at(revs->saved_parents_slab, commit)",
          "old_line_content": "\treturn parents;",
          "new_line_content": "\tparents = *saved_parents_at(revs->saved_parents_slab, commit);",
          "content_same": false
        },
        {
          "line": 3639,
          "old_api": null,
          "new_api": "want_ancestry",
          "old_text": null,
          "new_text": "want_ancestry(revs)",
          "old_line_content": "\t\t * will show spurious changes from the commits that",
          "new_line_content": "\t    revs->prune && revs->dense && want_ancestry(revs)) {",
          "content_same": false
        },
        {
          "line": 3647,
          "old_api": null,
          "new_api": "save_parents",
          "old_text": null,
          "new_text": "save_parents(revs, commit)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tsave_parents(revs, commit);",
          "content_same": false
        },
        {
          "line": 3648,
          "old_api": null,
          "new_api": "rewrite_parents",
          "old_text": null,
          "new_text": "rewrite_parents(revs, commit, rewrite_one)",
          "old_line_content": "\treturn action;",
          "new_line_content": "\t\tif (rewrite_parents(revs, commit, rewrite_one) < 0)",
          "content_same": false
        },
        {
          "line": 3663,
          "old_api": null,
          "new_api": "oideq",
          "old_text": null,
          "new_text": "oideq(&p->item->object.oid, &commit->object.oid)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t    oideq(&p->item->object.oid, &commit->object.oid))",
          "content_same": false
        },
        {
          "line": 3671,
          "old_api": null,
          "new_api": "free_commit_list",
          "old_text": null,
          "new_text": "free_commit_list(revs->previous_parents)",
          "old_line_content": "",
          "new_line_content": "\tfree_commit_list(revs->previous_parents);",
          "content_same": false
        },
        {
          "line": 3672,
          "old_api": null,
          "new_api": "copy_commit_list",
          "old_text": null,
          "new_text": "copy_commit_list(commit->parents)",
          "old_line_content": "static struct commit *get_revision_1(struct rev_info *revs)",
          "new_line_content": "\trevs->previous_parents = copy_commit_list(commit->parents);",
          "content_same": false
        },
        {
          "line": 3681,
          "old_api": null,
          "new_api": "next_reflog_entry",
          "old_text": null,
          "new_text": "next_reflog_entry(revs->reflog_info)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\t\tcommit = next_reflog_entry(revs->reflog_info);",
          "content_same": false
        },
        {
          "line": 3683,
          "old_api": null,
          "new_api": "next_topo_commit",
          "old_text": null,
          "new_text": "next_topo_commit(revs)",
          "old_line_content": "",
          "new_line_content": "\t\t\tcommit = next_topo_commit(revs);",
          "content_same": false
        },
        {
          "line": 3685,
          "old_api": null,
          "new_api": "pop_commit",
          "old_text": null,
          "new_text": "pop_commit(&revs->commits)",
          "old_line_content": "\t\t\treturn NULL;",
          "new_line_content": "\t\t\tcommit = pop_commit(&revs->commits);",
          "content_same": false
        },
        {
          "line": 3700,
          "old_api": null,
          "new_api": "comparison_date",
          "old_text": null,
          "new_text": "comparison_date(revs, commit)",
          "old_line_content": "\t\t\tif (revs->reflog_info)",
          "new_line_content": "\t\t\t    comparison_date(revs, commit) < revs->max_age)",
          "content_same": false
        },
        {
          "line": 3709,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Failed to traverse parents of commit %s\",\n\t\t\t\t\t\toid_to_hex(&commit->object.oid))",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t\tdie(\"Failed to traverse parents of commit %s\",",
          "content_same": false
        },
        {
          "line": 3710,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&commit->object.oid)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\toid_to_hex(&commit->object.oid));",
          "content_same": false
        },
        {
          "line": 3714,
          "old_api": null,
          "new_api": "simplify_commit",
          "old_text": null,
          "new_text": "simplify_commit(revs, commit)",
          "old_line_content": "\t\tcase commit_error:",
          "new_line_content": "\t\tswitch (simplify_commit(revs, commit)) {",
          "content_same": false
        },
        {
          "line": 3718,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Failed to simplify parents of commit %s\",\n\t\t\t    oid_to_hex(&commit->object.oid))",
          "old_line_content": "\t\t\tif (revs->track_linear)",
          "new_line_content": "\t\t\tdie(\"Failed to simplify parents of commit %s\",",
          "content_same": false
        },
        {
          "line": 3722,
          "old_api": null,
          "new_api": "track_linear",
          "old_text": null,
          "new_text": "track_linear(revs, commit)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\ttrack_linear(revs, commit);",
          "content_same": false
        },
        {
          "line": 3744,
          "old_api": null,
          "new_api": "object_array_filter",
          "old_text": null,
          "new_text": "object_array_filter(array, entry_unshown, NULL)",
          "old_line_content": "static void create_boundary_commit_list(struct rev_info *revs)",
          "new_line_content": "\t\tobject_array_filter(array, entry_unshown, NULL);",
          "content_same": false
        },
        {
          "line": 3761,
          "old_api": null,
          "new_api": "free_commit_list",
          "old_text": null,
          "new_text": "free_commit_list(revs->commits)",
          "old_line_content": "",
          "new_line_content": "\t\tfree_commit_list(revs->commits);",
          "content_same": false
        },
        {
          "line": 3778,
          "old_api": null,
          "new_api": "commit_list_insert",
          "old_text": null,
          "new_text": "commit_list_insert(c, &revs->commits)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\tcommit_list_insert(c, &revs->commits);",
          "content_same": false
        },
        {
          "line": 3271,
          "old_api": null,
          "new_api": "parse_commit_gently",
          "old_text": null,
          "new_text": "parse_commit_gently(parent, 1)",
          "old_line_content": "\t\tif (parent->generation < info->min_generation) {",
          "new_line_content": "\t\tif (parse_commit_gently(parent, 1) < 0)",
          "content_same": false
        },
        {
          "line": 3785,
          "old_api": null,
          "new_api": "sort_in_topological_order",
          "old_text": null,
          "new_text": "sort_in_topological_order(&revs->commits, revs->sort_order)",
          "old_line_content": "static struct commit *get_revision_internal(struct rev_info *revs)",
          "new_line_content": "\tsort_in_topological_order(&revs->commits, revs->sort_order);",
          "content_same": false
        },
        {
          "line": 3279,
          "old_api": null,
          "new_api": "indegree_slab_at",
          "old_text": null,
          "new_text": "indegree_slab_at(&info->indegree, parent)",
          "old_line_content": "\t\tif (*pi == 1)",
          "new_line_content": "\t\tpi = indegree_slab_at(&info->indegree, parent);",
          "content_same": false
        },
        {
          "line": 3283,
          "old_api": null,
          "new_api": "prio_queue_put",
          "old_text": null,
          "new_text": "prio_queue_put(&info->topo_queue, parent)",
          "old_line_content": "\t\t\treturn;",
          "new_line_content": "\t\t\tprio_queue_put(&info->topo_queue, parent);",
          "content_same": false
        },
        {
          "line": 3800,
          "old_api": null,
          "new_api": "pop_commit",
          "old_text": null,
          "new_text": "pop_commit(&revs->commits)",
          "old_line_content": "\t\treturn c;",
          "new_line_content": "\t\tc = pop_commit(&revs->commits);",
          "content_same": false
        },
        {
          "line": 3296,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(&old_pending, &revs->pending, sizeof(old_pending))",
          "old_line_content": "\trevs->pending.objects = NULL;",
          "new_line_content": "\tmemcpy(&old_pending, &revs->pending, sizeof(old_pending));",
          "content_same": false
        },
        {
          "line": 3302,
          "old_api": null,
          "new_api": "handle_commit",
          "old_text": null,
          "new_text": "handle_commit(revs, e)",
          "old_line_content": "\t\t\t\tcommit->object.flags |= SEEN;",
          "new_line_content": "\t\tstruct commit *commit = handle_commit(revs, e);",
          "content_same": false
        },
        {
          "line": 3817,
          "old_api": null,
          "new_api": "get_revision_1",
          "old_text": null,
          "new_text": "get_revision_1(revs)",
          "old_line_content": "\t\t\t\trevs->skip_count--;",
          "new_line_content": "\t\tc = get_revision_1(revs);",
          "content_same": false
        },
        {
          "line": 3306,
          "old_api": null,
          "new_api": "commit_list_append",
          "old_text": null,
          "new_text": "commit_list_append(commit, next)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\tnext = commit_list_append(commit, next);",
          "content_same": false
        },
        {
          "line": 3821,
          "old_api": null,
          "new_api": "get_revision_1",
          "old_text": null,
          "new_text": "get_revision_1(revs)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tc = get_revision_1(revs);",
          "content_same": false
        },
        {
          "line": 3310,
          "old_api": null,
          "new_api": "object_array_clear",
          "old_text": null,
          "new_text": "object_array_clear(&old_pending)",
          "old_line_content": "\tif (revs->simplify_merges ||",
          "new_line_content": "\tobject_array_clear(&old_pending);",
          "content_same": false
        },
        {
          "line": 3314,
          "old_api": null,
          "new_api": "limiting_can_increase_treesame",
          "old_text": null,
          "new_text": "limiting_can_increase_treesame(revs)",
          "old_line_content": "\tif (revs->exclude_promisor_objects) {",
          "new_line_content": "\t    (revs->limited && limiting_can_increase_treesame(revs)))",
          "content_same": false
        },
        {
          "line": 3318,
          "old_api": null,
          "new_api": "for_each_packed_object",
          "old_text": null,
          "new_text": "for_each_packed_object(mark_uninteresting, revs,\n\t\t\t\t       FOR_EACH_OBJECT_PROMISOR_ONLY)",
          "old_line_content": "",
          "new_line_content": "\t\tfor_each_packed_object(mark_uninteresting, revs,",
          "content_same": false
        },
        {
          "line": 3323,
          "old_api": null,
          "new_api": "commit_list_sort_by_date",
          "old_text": null,
          "new_text": "commit_list_sort_by_date(&revs->commits)",
          "old_line_content": "\tif (revs->limited) {",
          "new_line_content": "\t\tcommit_list_sort_by_date(&revs->commits);",
          "content_same": false
        },
        {
          "line": 3330,
          "old_api": null,
          "new_api": "sort_in_topological_order",
          "old_text": null,
          "new_text": "sort_in_topological_order(&revs->commits, revs->sort_order)",
          "old_line_content": "\tif (revs->line_level_traverse)",
          "new_line_content": "\t\t\tsort_in_topological_order(&revs->commits, revs->sort_order);",
          "content_same": false
        },
        {
          "line": 3332,
          "old_api": null,
          "new_api": "init_topo_walk",
          "old_text": null,
          "new_text": "init_topo_walk(revs)",
          "old_line_content": "\tif (revs->simplify_merges)",
          "new_line_content": "\t\tinit_topo_walk(revs);",
          "content_same": false
        },
        {
          "line": 3334,
          "old_api": null,
          "new_api": "line_log_filter",
          "old_text": null,
          "new_text": "line_log_filter(revs)",
          "old_line_content": "\tif (revs->children.name)",
          "new_line_content": "\t\tline_log_filter(revs);",
          "content_same": false
        },
        {
          "line": 3336,
          "old_api": null,
          "new_api": "simplify_merges",
          "old_text": null,
          "new_text": "simplify_merges(revs)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\tsimplify_merges(revs);",
          "content_same": false
        },
        {
          "line": 3849,
          "old_api": null,
          "new_api": "create_boundary_commit_list",
          "old_text": null,
          "new_text": "create_boundary_commit_list(revs)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tcreate_boundary_commit_list(revs);",
          "content_same": false
        },
        {
          "line": 3338,
          "old_api": null,
          "new_api": "set_children",
          "old_text": null,
          "new_text": "set_children(revs)",
          "old_line_content": "",
          "new_line_content": "\t\tset_children(revs);",
          "content_same": false
        },
        {
          "line": 3851,
          "old_api": null,
          "new_api": "get_revision_internal",
          "old_text": null,
          "new_text": "get_revision_internal(revs)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\treturn get_revision_internal(revs);",
          "content_same": false
        },
        {
          "line": 3349,
          "old_api": null,
          "new_api": "process_parents",
          "old_text": null,
          "new_text": "process_parents(revs, p, NULL, queue)",
          "old_line_content": "\t\t\treturn rewrite_one_ok;",
          "new_line_content": "\t\t\tif (process_parents(revs, p, NULL, queue) < 0)",
          "content_same": false
        },
        {
          "line": 3867,
          "old_api": null,
          "new_api": "gc_boundary",
          "old_text": null,
          "new_text": "gc_boundary(&revs->boundary_commits)",
          "old_line_content": "",
          "new_line_content": "\t\tgc_boundary(&revs->boundary_commits);",
          "content_same": false
        },
        {
          "line": 3868,
          "old_api": null,
          "new_api": "add_object_array",
          "old_text": null,
          "new_text": "add_object_array(p, NULL, &revs->boundary_commits)",
          "old_line_content": "\treturn c;",
          "new_line_content": "\t\tadd_object_array(p, NULL, &revs->boundary_commits);",
          "content_same": false
        },
        {
          "line": 3357,
          "old_api": null,
          "new_api": "one_relevant_parent",
          "old_text": null,
          "new_text": "one_relevant_parent(revs, p->parents)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif ((p = one_relevant_parent(revs, p->parents)) == NULL)",
          "content_same": false
        },
        {
          "line": 3366,
          "old_api": null,
          "new_api": "prio_queue_peek",
          "old_text": null,
          "new_text": "prio_queue_peek(q)",
          "old_line_content": "\t\tif (p && p->item->date >= item->date)",
          "new_line_content": "\t\tstruct commit *item = prio_queue_peek(q);",
          "content_same": false
        },
        {
          "line": 3881,
          "old_api": null,
          "new_api": "get_revision_internal",
          "old_text": null,
          "new_text": "get_revision_internal(revs)",
          "old_line_content": "\t\trevs->reverse = 0;",
          "new_line_content": "\t\twhile ((c = get_revision_internal(revs)))",
          "content_same": false
        },
        {
          "line": 3882,
          "old_api": null,
          "new_api": "commit_list_insert",
          "old_text": null,
          "new_text": "commit_list_insert(c, &reversed)",
          "old_line_content": "\t\trevs->reverse_output_stage = 1;",
          "new_line_content": "\t\t\tcommit_list_insert(c, &reversed);",
          "content_same": false
        },
        {
          "line": 3372,
          "old_api": null,
          "new_api": "commit_list_insert",
          "old_text": null,
          "new_text": "commit_list_insert(item, list)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tp = commit_list_insert(item, list);",
          "content_same": false
        },
        {
          "line": 3374,
          "old_api": null,
          "new_api": "prio_queue_get",
          "old_text": null,
          "new_text": "prio_queue_get(q)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tprio_queue_get(q); /* pop item */",
          "content_same": false
        },
        {
          "line": 3889,
          "old_api": null,
          "new_api": "pop_commit",
          "old_text": null,
          "new_text": "pop_commit(&revs->commits)",
          "old_line_content": "\t\treturn c;",
          "new_line_content": "\t\tc = pop_commit(&revs->commits);",
          "content_same": false
        },
        {
          "line": 3382,
          "old_api": null,
          "new_api": "rewrite_one_1",
          "old_text": null,
          "new_text": "rewrite_one_1(revs, pp, &queue)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\tenum rewrite_result ret = rewrite_one_1(revs, pp, &queue);",
          "content_same": false
        },
        {
          "line": 3383,
          "old_api": null,
          "new_api": "merge_queue_into_list",
          "old_text": null,
          "new_text": "merge_queue_into_list(&queue, &revs->commits)",
          "old_line_content": "}",
          "new_line_content": "\tmerge_queue_into_list(&queue, &revs->commits);",
          "content_same": false
        },
        {
          "line": 3384,
          "old_api": null,
          "new_api": "clear_prio_queue",
          "old_text": null,
          "new_text": "clear_prio_queue(&queue)",
          "old_line_content": "",
          "new_line_content": "\tclear_prio_queue(&queue);",
          "content_same": false
        },
        {
          "line": 3895,
          "old_api": null,
          "new_api": "get_revision_internal",
          "old_text": null,
          "new_text": "get_revision_internal(revs)",
          "old_line_content": "\tif (!c) {",
          "new_line_content": "\tc = get_revision_internal(revs);",
          "content_same": false
        },
        {
          "line": 3897,
          "old_api": null,
          "new_api": "graph_update",
          "old_text": null,
          "new_text": "graph_update(revs->graph, c)",
          "old_line_content": "\t\tif (revs->previous_parents) {",
          "new_line_content": "\t\tgraph_update(revs->graph, c);",
          "content_same": false
        },
        {
          "line": 3899,
          "old_api": null,
          "new_api": "free_saved_parents",
          "old_text": null,
          "new_text": "free_saved_parents(revs)",
          "old_line_content": "\t\t\trevs->previous_parents = NULL;",
          "new_line_content": "\t\tfree_saved_parents(revs);",
          "content_same": false
        },
        {
          "line": 3901,
          "old_api": null,
          "new_api": "free_commit_list",
          "old_text": null,
          "new_text": "free_commit_list(revs->previous_parents)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tfree_commit_list(revs->previous_parents);",
          "content_same": false
        },
        {
          "line": 3394,
          "old_api": null,
          "new_api": "rewrite_parent",
          "old_text": null,
          "new_text": "rewrite_parent(revs, &parent->item)",
          "old_line_content": "\t\tcase rewrite_one_noparents:",
          "new_line_content": "\t\tswitch (rewrite_parent(revs, &parent->item)) {",
          "content_same": false
        },
        {
          "line": 3405,
          "old_api": null,
          "new_api": "remove_duplicate_parents",
          "old_text": null,
          "new_text": "remove_duplicate_parents(revs, commit)",
          "old_line_content": "",
          "new_line_content": "\tremove_duplicate_parents(revs, commit);",
          "content_same": false
        },
        {
          "line": 3417,
          "old_api": null,
          "new_api": "strstr",
          "old_text": null,
          "new_text": "strstr(buf->buf, what)",
          "old_line_content": "",
          "new_line_content": "\tperson = strstr(buf->buf, what);",
          "content_same": false
        },
        {
          "line": 3421,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(what)",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\tperson += strlen(what);",
          "content_same": false
        },
        {
          "line": 3422,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(person, '\\n')",
          "old_line_content": "",
          "new_line_content": "\tendp = strchr(person, '\\n');",
          "content_same": false
        },
        {
          "line": 3933,
          "old_api": null,
          "new_api": "fputs",
          "old_text": null,
          "new_text": "fputs(mark, stdout)",
          "old_line_content": "",
          "new_line_content": "\tfputs(mark, stdout);",
          "content_same": false
        },
        {
          "line": 3934,
          "old_api": null,
          "new_api": "putchar",
          "old_text": null,
          "new_text": "putchar(' ')",
          "old_line_content": "",
          "new_line_content": "\tputchar(' ');",
          "content_same": false
        },
        {
          "line": 3428,
          "old_api": null,
          "new_api": "split_ident_line",
          "old_text": null,
          "new_text": "split_ident_line(&ident, person, len)",
          "old_line_content": "\tmail = ident.mail_begin;",
          "new_line_content": "\tif (split_ident_line(&ident, person, len))",
          "content_same": false
        },
        {
          "line": 3442,
          "old_api": null,
          "new_api": "strbuf_splice",
          "old_text": null,
          "new_text": "strbuf_splice(buf, ident.name_begin - buf->buf,\n\t\t\t      ident.mail_end - ident.name_begin + 1,\n\t\t\t      namemail.buf, namemail.len)",
          "old_line_content": "",
          "new_line_content": "\t\tstrbuf_splice(buf, ident.name_begin - buf->buf,",
          "content_same": false
        },
        {
          "line": 3446,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&namemail)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstrbuf_release(&namemail);",
          "content_same": false
        },
        {
          "line": 3466,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&buf, \"reflog \")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstrbuf_addstr(&buf, \"reflog \");",
          "content_same": false
        },
        {
          "line": 3467,
          "old_api": null,
          "new_api": "get_reflog_message",
          "old_text": null,
          "new_text": "get_reflog_message(&buf, opt->reflog_info)",
          "old_line_content": "",
          "new_line_content": "\t\tget_reflog_message(&buf, opt->reflog_info);",
          "content_same": false
        },
        {
          "line": 3468,
          "old_api": null,
          "new_api": "strbuf_addch",
          "old_text": null,
          "new_text": "strbuf_addch(&buf, '\\n')",
          "old_line_content": "\t/*",
          "new_line_content": "\t\tstrbuf_addch(&buf, '\\n');",
          "content_same": false
        },
        {
          "line": 3478,
          "old_api": null,
          "new_api": "get_log_output_encoding",
          "old_text": null,
          "new_text": "get_log_output_encoding()",
          "old_line_content": "\t/* Copy the commit to temporary if we are using \"fake\" headers */",
          "new_line_content": "\tencoding = get_log_output_encoding();",
          "content_same": false
        },
        {
          "line": 3479,
          "old_api": null,
          "new_api": "logmsg_reencode",
          "old_text": null,
          "new_text": "logmsg_reencode(commit, NULL, encoding)",
          "old_line_content": "\tif (buf.len)",
          "new_line_content": "\tmessage = logmsg_reencode(commit, NULL, encoding);",
          "content_same": false
        },
        {
          "line": 3483,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&buf, message)",
          "old_line_content": "\t\tif (!buf.len)",
          "new_line_content": "\t\tstrbuf_addstr(&buf, message);",
          "content_same": false
        },
        {
          "line": 3489,
          "old_api": null,
          "new_api": "commit_rewrite_person",
          "old_text": null,
          "new_text": "commit_rewrite_person(&buf, \"\\nauthor \", opt->mailmap)",
          "old_line_content": "",
          "new_line_content": "\t\tcommit_rewrite_person(&buf, \"\\nauthor \", opt->mailmap);",
          "content_same": false
        },
        {
          "line": 3490,
          "old_api": null,
          "new_api": "commit_rewrite_person",
          "old_text": null,
          "new_text": "commit_rewrite_person(&buf, \"\\ncommitter \", opt->mailmap)",
          "old_line_content": "\t/* Append \"fake\" message parts as needed */",
          "new_line_content": "\t\tcommit_rewrite_person(&buf, \"\\ncommitter \", opt->mailmap);",
          "content_same": false
        },
        {
          "line": 3496,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&buf, message)",
          "old_line_content": "",
          "new_line_content": "\t\t\tstrbuf_addstr(&buf, message);",
          "content_same": false
        },
        {
          "line": 3497,
          "old_api": null,
          "new_api": "format_display_notes",
          "old_text": null,
          "new_text": "format_display_notes(&commit->object.oid, &buf, encoding, 1)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\tformat_display_notes(&commit->object.oid, &buf, encoding, 1);",
          "content_same": false
        },
        {
          "line": 3512,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(message)",
          "old_line_content": "\treturn opt->invert_grep ? !retval : retval;",
          "new_line_content": "\t\t\t\t     (char *)message, strlen(message));",
          "content_same": false
        },
        {
          "line": 3513,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&buf)",
          "old_line_content": "}",
          "new_line_content": "\tstrbuf_release(&buf);",
          "content_same": false
        },
        {
          "line": 3514,
          "old_api": null,
          "new_api": "unuse_commit_buffer",
          "old_text": null,
          "new_text": "unuse_commit_buffer(commit, message)",
          "old_line_content": "",
          "new_line_content": "\tunuse_commit_buffer(commit, message);",
          "content_same": false
        },
        {
          "line": 3531,
          "old_api": null,
          "new_api": "get_reflog_timestamp",
          "old_text": null,
          "new_text": "get_reflog_timestamp(revs->reflog_info)",
          "old_line_content": "",
          "new_line_content": "\t\tget_reflog_timestamp(revs->reflog_info) :",
          "content_same": false
        },
        {
          "line": 3539,
          "old_api": null,
          "new_api": "has_object_pack",
          "old_text": null,
          "new_text": "has_object_pack(&commit->object.oid)",
          "old_line_content": "\t\treturn commit_ignore;",
          "new_line_content": "\tif (revs->unpacked && has_object_pack(&commit->object.oid))",
          "content_same": false
        },
        {
          "line": 3547,
          "old_api": null,
          "new_api": "commit_list_count",
          "old_text": null,
          "new_text": "commit_list_count(commit->parents)",
          "old_line_content": "\t\t\treturn commit_ignore;",
          "new_line_content": "\t\tint n = commit_list_count(commit->parents);",
          "content_same": false
        },
        {
          "line": 3552,
          "old_api": null,
          "new_api": "commit_match",
          "old_text": null,
          "new_text": "commit_match(commit, revs)",
          "old_line_content": "\t\t/* Commit without changes? */",
          "new_line_content": "\tif (!commit_match(commit, revs))",
          "content_same": false
        },
        {
          "line": 3560,
          "old_api": null,
          "new_api": "want_ancestry",
          "old_text": null,
          "new_text": "want_ancestry(revs)",
          "old_line_content": "\t\t\t * If we want ancestry, then need to keep any merges",
          "new_line_content": "\t\t\tif (!want_ancestry(revs))",
          "content_same": false
        },
        {
          "line": 3570,
          "old_api": null,
          "new_api": "relevant_commit",
          "old_text": null,
          "new_text": "relevant_commit(p->item)",
          "old_line_content": "\t\t\treturn commit_ignore;",
          "new_line_content": "\t\t\t\tif (relevant_commit(p->item))",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 3589,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(sizeof(struct saved_parents))",
          "new_text": null,
          "old_line_content": "\t\trevs->saved_parents_slab = xmalloc(sizeof(struct saved_parents));",
          "new_line_content": "\tstruct commit_list **pp;",
          "content_same": false
        },
        {
          "line": 3590,
          "old_api": "init_saved_parents",
          "new_api": null,
          "old_text": "init_saved_parents(revs->saved_parents_slab)",
          "new_text": null,
          "old_line_content": "\t\tinit_saved_parents(revs->saved_parents_slab);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3607,
          "old_api": "copy_commit_list",
          "new_api": null,
          "old_text": "copy_commit_list(commit->parents)",
          "new_text": null,
          "old_line_content": "\t\t*pp = copy_commit_list(commit->parents);",
          "new_line_content": "\tif (*pp)",
          "content_same": false
        },
        {
          "line": 3615,
          "old_api": "clear_saved_parents",
          "new_api": null,
          "old_text": "clear_saved_parents(revs->saved_parents_slab)",
          "new_text": null,
          "old_line_content": "\t\tclear_saved_parents(revs->saved_parents_slab);",
          "new_line_content": "static void free_saved_parents(struct rev_info *revs)",
          "content_same": false
        },
        {
          "line": 3625,
          "old_api": "saved_parents_at",
          "new_api": null,
          "old_text": "saved_parents_at(revs->saved_parents_slab, commit)",
          "new_text": null,
          "old_line_content": "\tparents = *saved_parents_at(revs->saved_parents_slab, commit);",
          "new_line_content": "\tif (!revs->saved_parents_slab)",
          "content_same": false
        },
        {
          "line": 3633,
          "old_api": "get_commit_action",
          "new_api": null,
          "old_text": "get_commit_action(revs, commit)",
          "new_text": null,
          "old_line_content": "\tenum commit_action action = get_commit_action(revs, commit);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3644,
          "old_api": "save_parents",
          "new_api": null,
          "old_text": "save_parents(revs, commit)",
          "new_text": null,
          "old_line_content": "\t\t\tsave_parents(revs, commit);",
          "new_line_content": "\t\t * when --full-diff is in effect.",
          "content_same": false
        },
        {
          "line": 3645,
          "old_api": "rewrite_parents",
          "new_api": null,
          "old_text": "rewrite_parents(revs, commit, rewrite_one)",
          "new_text": null,
          "old_line_content": "\t\tif (rewrite_parents(revs, commit, rewrite_one) < 0)",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 3660,
          "old_api": "oideq",
          "new_api": null,
          "old_text": "oideq(&p->item->object.oid, &commit->object.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t    oideq(&p->item->object.oid, &commit->object.oid))",
          "new_line_content": "\t\tstruct commit_list *p;",
          "content_same": false
        },
        {
          "line": 3668,
          "old_api": "free_commit_list",
          "new_api": null,
          "old_text": "free_commit_list(revs->previous_parents)",
          "new_text": null,
          "old_line_content": "\tfree_commit_list(revs->previous_parents);",
          "new_line_content": "\t\tif (revs->linear)",
          "content_same": false
        },
        {
          "line": 3669,
          "old_api": "copy_commit_list",
          "new_api": null,
          "old_text": "copy_commit_list(commit->parents)",
          "new_text": null,
          "old_line_content": "\trevs->previous_parents = copy_commit_list(commit->parents);",
          "new_line_content": "\t\t\tcommit->object.flags |= TRACK_LINEAR;",
          "content_same": false
        },
        {
          "line": 3678,
          "old_api": "next_reflog_entry",
          "new_api": null,
          "old_text": "next_reflog_entry(revs->reflog_info)",
          "new_text": null,
          "old_line_content": "\t\t\tcommit = next_reflog_entry(revs->reflog_info);",
          "new_line_content": "\t\tstruct commit *commit;",
          "content_same": false
        },
        {
          "line": 3680,
          "old_api": "next_topo_commit",
          "new_api": null,
          "old_text": "next_topo_commit(revs)",
          "new_text": null,
          "old_line_content": "\t\t\tcommit = next_topo_commit(revs);",
          "new_line_content": "\t\tif (revs->reflog_info)",
          "content_same": false
        },
        {
          "line": 3682,
          "old_api": "pop_commit",
          "new_api": null,
          "old_text": "pop_commit(&revs->commits)",
          "new_text": null,
          "old_line_content": "\t\t\tcommit = pop_commit(&revs->commits);",
          "new_line_content": "\t\telse if (revs->topo_walk_info)",
          "content_same": false
        },
        {
          "line": 3697,
          "old_api": "comparison_date",
          "new_api": null,
          "old_text": "comparison_date(revs, commit)",
          "new_text": null,
          "old_line_content": "\t\t\t    comparison_date(revs, commit) < revs->max_age)",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 3701,
          "old_api": "try_to_simplify_commit",
          "new_api": null,
          "old_text": "try_to_simplify_commit(revs, commit)",
          "new_text": null,
          "old_line_content": "\t\t\t\ttry_to_simplify_commit(revs, commit);",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 3703,
          "old_api": "expand_topo_walk",
          "new_api": null,
          "old_text": "expand_topo_walk(revs, commit)",
          "new_text": null,
          "old_line_content": "\t\t\t\texpand_topo_walk(revs, commit);",
          "new_line_content": "\t\t\tif (revs->reflog_info)",
          "content_same": false
        },
        {
          "line": 3711,
          "old_api": "simplify_commit",
          "new_api": null,
          "old_text": "simplify_commit(revs, commit)",
          "new_text": null,
          "old_line_content": "\t\tswitch (simplify_commit(revs, commit)) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 3715,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Failed to simplify parents of commit %s\",\n\t\t\t    oid_to_hex(&commit->object.oid))",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Failed to simplify parents of commit %s\",",
          "new_line_content": "\t\tcase commit_ignore:",
          "content_same": false
        },
        {
          "line": 3716,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&commit->object.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t    oid_to_hex(&commit->object.oid));",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 3741,
          "old_api": "object_array_filter",
          "new_api": null,
          "old_text": "object_array_filter(array, entry_unshown, NULL)",
          "new_text": null,
          "old_line_content": "\t\tobject_array_filter(array, entry_unshown, NULL);",
          "new_line_content": "static void gc_boundary(struct object_array *array)",
          "content_same": false
        },
        {
          "line": 3758,
          "old_api": "free_commit_list",
          "new_api": null,
          "old_text": "free_commit_list(revs->commits)",
          "new_text": null,
          "old_line_content": "\t\tfree_commit_list(revs->commits);",
          "new_line_content": "\t * done.)",
          "content_same": false
        },
        {
          "line": 3775,
          "old_api": "commit_list_insert",
          "new_api": null,
          "old_text": "commit_list_insert(c, &revs->commits)",
          "new_text": null,
          "old_line_content": "\t\tcommit_list_insert(c, &revs->commits);",
          "new_line_content": "\t\tif (c->object.flags & (SHOWN | BOUNDARY))",
          "content_same": false
        },
        {
          "line": 3268,
          "old_api": "parse_commit_gently",
          "new_api": null,
          "old_text": "parse_commit_gently(parent, 1)",
          "new_text": null,
          "old_line_content": "\t\tif (parse_commit_gently(parent, 1) < 0)",
          "new_line_content": "\t\tif (parent->object.flags & UNINTERESTING)",
          "content_same": false
        },
        {
          "line": 3782,
          "old_api": "sort_in_topological_order",
          "new_api": null,
          "old_text": "sort_in_topological_order(&revs->commits, revs->sort_order)",
          "new_text": null,
          "old_line_content": "\tsort_in_topological_order(&revs->commits, revs->sort_order);",
          "new_line_content": "\t * If revs->topo_order is set, sort the boundary commits",
          "content_same": false
        },
        {
          "line": 3273,
          "old_api": "compute_indegrees_to_depth",
          "new_api": null,
          "old_text": "compute_indegrees_to_depth(revs, info->min_generation)",
          "new_text": null,
          "old_line_content": "\t\t\tcompute_indegrees_to_depth(revs, info->min_generation);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3280,
          "old_api": "prio_queue_put",
          "new_api": null,
          "old_text": "prio_queue_put(&info->topo_queue, parent)",
          "new_text": null,
          "old_line_content": "\t\t\tprio_queue_put(&info->topo_queue, parent);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3797,
          "old_api": "pop_commit",
          "new_api": null,
          "old_text": "pop_commit(&revs->commits)",
          "new_text": null,
          "old_line_content": "\t\tc = pop_commit(&revs->commits);",
          "new_line_content": "\t\t * create_boundary_commit_list() has populated",
          "content_same": false
        },
        {
          "line": 3293,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(&old_pending, &revs->pending, sizeof(old_pending))",
          "new_text": null,
          "old_line_content": "\tmemcpy(&old_pending, &revs->pending, sizeof(old_pending));",
          "new_line_content": "\tstruct object_array old_pending;",
          "content_same": false
        },
        {
          "line": 3299,
          "old_api": "handle_commit",
          "new_api": null,
          "old_text": "handle_commit(revs, e)",
          "new_text": null,
          "old_line_content": "\t\tstruct commit *commit = handle_commit(revs, e);",
          "new_line_content": "\trevs->pending.objects = NULL;",
          "content_same": false
        },
        {
          "line": 3814,
          "old_api": "get_revision_1",
          "new_api": null,
          "old_text": "get_revision_1(revs)",
          "new_text": null,
          "old_line_content": "\t\tc = get_revision_1(revs);",
          "new_line_content": "\t * (-1), or it is still counting, in which case we decrement.",
          "content_same": false
        },
        {
          "line": 3303,
          "old_api": "commit_list_append",
          "new_api": null,
          "old_text": "commit_list_append(commit, next)",
          "new_text": null,
          "old_line_content": "\t\t\t\tnext = commit_list_append(commit, next);",
          "new_line_content": "\t\tif (commit) {",
          "content_same": false
        },
        {
          "line": 3818,
          "old_api": "get_revision_1",
          "new_api": null,
          "old_text": "get_revision_1(revs)",
          "new_text": null,
          "old_line_content": "\t\t\t\tc = get_revision_1(revs);",
          "new_line_content": "\t\tif (c) {",
          "content_same": false
        },
        {
          "line": 3307,
          "old_api": "object_array_clear",
          "new_api": null,
          "old_text": "object_array_clear(&old_pending)",
          "new_text": null,
          "old_line_content": "\tobject_array_clear(&old_pending);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 3311,
          "old_api": "limiting_can_increase_treesame",
          "new_api": null,
          "old_text": "limiting_can_increase_treesame(revs)",
          "new_text": null,
          "old_line_content": "\t    (revs->limited && limiting_can_increase_treesame(revs)))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3315,
          "old_api": "for_each_packed_object",
          "new_api": null,
          "old_text": "for_each_packed_object(mark_uninteresting, revs,\n\t\t\t\t       FOR_EACH_OBJECT_PROMISOR_ONLY)",
          "new_text": null,
          "old_line_content": "\t\tfor_each_packed_object(mark_uninteresting, revs,",
          "new_line_content": "\t\trevs->treesame.name = \"treesame\";",
          "content_same": false
        },
        {
          "line": 3320,
          "old_api": "commit_list_sort_by_date",
          "new_api": null,
          "old_text": "commit_list_sort_by_date(&revs->commits)",
          "new_text": null,
          "old_line_content": "\t\tcommit_list_sort_by_date(&revs->commits);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3324,
          "old_api": "limit_list",
          "new_api": null,
          "old_text": "limit_list(revs)",
          "new_text": null,
          "old_line_content": "\t\tif (limit_list(revs) < 0)",
          "new_line_content": "\tif (revs->no_walk)",
          "content_same": false
        },
        {
          "line": 3329,
          "old_api": "init_topo_walk",
          "new_api": null,
          "old_text": "init_topo_walk(revs)",
          "new_text": null,
          "old_line_content": "\t\tinit_topo_walk(revs);",
          "new_line_content": "\t\tif (revs->topo_order)",
          "content_same": false
        },
        {
          "line": 3331,
          "old_api": "line_log_filter",
          "new_api": null,
          "old_text": "line_log_filter(revs)",
          "new_text": null,
          "old_line_content": "\t\tline_log_filter(revs);",
          "new_line_content": "\t} else if (revs->topo_order)",
          "content_same": false
        },
        {
          "line": 3333,
          "old_api": "simplify_merges",
          "new_api": null,
          "old_text": "simplify_merges(revs)",
          "new_text": null,
          "old_line_content": "\t\tsimplify_merges(revs);",
          "new_line_content": "\tif (revs->line_level_traverse)",
          "content_same": false
        },
        {
          "line": 3846,
          "old_api": "create_boundary_commit_list",
          "new_api": null,
          "old_text": "create_boundary_commit_list(revs)",
          "new_text": null,
          "old_line_content": "\t\tcreate_boundary_commit_list(revs);",
          "new_line_content": "\t\t * Update revs->commits to contain the list of",
          "content_same": false
        },
        {
          "line": 3335,
          "old_api": "set_children",
          "new_api": null,
          "old_text": "set_children(revs)",
          "new_text": null,
          "old_line_content": "\t\tset_children(revs);",
          "new_line_content": "\tif (revs->simplify_merges)",
          "content_same": false
        },
        {
          "line": 3848,
          "old_api": "get_revision_internal",
          "new_api": null,
          "old_text": "get_revision_internal(revs)",
          "new_text": null,
          "old_line_content": "\t\treturn get_revision_internal(revs);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 3346,
          "old_api": "process_parents",
          "new_api": null,
          "old_text": "process_parents(revs, p, NULL, queue)",
          "new_text": null,
          "old_line_content": "\t\t\tif (process_parents(revs, p, NULL, queue) < 0)",
          "new_line_content": "\tfor (;;) {",
          "content_same": false
        },
        {
          "line": 3864,
          "old_api": "gc_boundary",
          "new_api": null,
          "old_text": "gc_boundary(&revs->boundary_commits)",
          "new_text": null,
          "old_line_content": "\t\tgc_boundary(&revs->boundary_commits);",
          "new_line_content": "\t\tif (p->flags & (CHILD_SHOWN | SHOWN))",
          "content_same": false
        },
        {
          "line": 3865,
          "old_api": "add_object_array",
          "new_api": null,
          "old_text": "add_object_array(p, NULL, &revs->boundary_commits)",
          "new_text": null,
          "old_line_content": "\t\tadd_object_array(p, NULL, &revs->boundary_commits);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 3354,
          "old_api": "one_relevant_parent",
          "new_api": null,
          "old_text": "one_relevant_parent(revs, p->parents)",
          "new_text": null,
          "old_line_content": "\t\tif ((p = one_relevant_parent(revs, p->parents)) == NULL)",
          "new_line_content": "\t\t\treturn rewrite_one_ok;",
          "content_same": false
        },
        {
          "line": 3363,
          "old_api": "prio_queue_peek",
          "new_api": null,
          "old_text": "prio_queue_peek(q)",
          "new_text": null,
          "old_line_content": "\t\tstruct commit *item = prio_queue_peek(q);",
          "new_line_content": "static void merge_queue_into_list(struct prio_queue *q, struct commit_list **list)",
          "content_same": false
        },
        {
          "line": 3878,
          "old_api": "get_revision_internal",
          "new_api": null,
          "old_text": "get_revision_internal(revs)",
          "new_text": null,
          "old_line_content": "\t\twhile ((c = get_revision_internal(revs)))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3879,
          "old_api": "commit_list_insert",
          "new_api": null,
          "old_text": "commit_list_insert(c, &reversed)",
          "new_text": null,
          "old_line_content": "\t\t\tcommit_list_insert(c, &reversed);",
          "new_line_content": "\tif (revs->reverse) {",
          "content_same": false
        },
        {
          "line": 3369,
          "old_api": "commit_list_insert",
          "new_api": null,
          "old_text": "commit_list_insert(item, list)",
          "new_text": null,
          "old_line_content": "\t\t\tp = commit_list_insert(item, list);",
          "new_line_content": "\t\tif (p && p->item->date >= item->date)",
          "content_same": false
        },
        {
          "line": 3371,
          "old_api": "prio_queue_get",
          "new_api": null,
          "old_text": "prio_queue_get(q)",
          "new_text": null,
          "old_line_content": "\t\t\tprio_queue_get(q); /* pop item */",
          "new_line_content": "\t\telse {",
          "content_same": false
        },
        {
          "line": 3886,
          "old_api": "pop_commit",
          "new_api": null,
          "old_text": "pop_commit(&revs->commits)",
          "new_text": null,
          "old_line_content": "\t\tc = pop_commit(&revs->commits);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3379,
          "old_api": "rewrite_one_1",
          "new_api": null,
          "old_text": "rewrite_one_1(revs, pp, &queue)",
          "new_text": null,
          "old_line_content": "\tenum rewrite_result ret = rewrite_one_1(revs, pp, &queue);",
          "new_line_content": "static enum rewrite_result rewrite_one(struct rev_info *revs, struct commit **pp)",
          "content_same": false
        },
        {
          "line": 3380,
          "old_api": "merge_queue_into_list",
          "new_api": null,
          "old_text": "merge_queue_into_list(&queue, &revs->commits)",
          "new_text": null,
          "old_line_content": "\tmerge_queue_into_list(&queue, &revs->commits);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3381,
          "old_api": "clear_prio_queue",
          "new_api": null,
          "old_text": "clear_prio_queue(&queue)",
          "new_text": null,
          "old_line_content": "\tclear_prio_queue(&queue);",
          "new_line_content": "\tstruct prio_queue queue = { compare_commits_by_commit_date };",
          "content_same": false
        },
        {
          "line": 3892,
          "old_api": "get_revision_internal",
          "new_api": null,
          "old_text": "get_revision_internal(revs)",
          "new_text": null,
          "old_line_content": "\tc = get_revision_internal(revs);",
          "new_line_content": "\t\treturn c;",
          "content_same": false
        },
        {
          "line": 3894,
          "old_api": "graph_update",
          "new_api": null,
          "old_text": "graph_update(revs->graph, c)",
          "new_text": null,
          "old_line_content": "\t\tgraph_update(revs->graph, c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3896,
          "old_api": "free_saved_parents",
          "new_api": null,
          "old_text": "free_saved_parents(revs)",
          "new_text": null,
          "old_line_content": "\t\tfree_saved_parents(revs);",
          "new_line_content": "\tif (c && revs->graph)",
          "content_same": false
        },
        {
          "line": 3898,
          "old_api": "free_commit_list",
          "new_api": null,
          "old_text": "free_commit_list(revs->previous_parents)",
          "new_text": null,
          "old_line_content": "\t\t\tfree_commit_list(revs->previous_parents);",
          "new_line_content": "\tif (!c) {",
          "content_same": false
        },
        {
          "line": 3391,
          "old_api": "rewrite_parent",
          "new_api": null,
          "old_text": "rewrite_parent(revs, &parent->item)",
          "new_text": null,
          "old_line_content": "\t\tswitch (rewrite_parent(revs, &parent->item)) {",
          "new_line_content": "\tstruct commit_list **pp = &commit->parents;",
          "content_same": false
        },
        {
          "line": 3402,
          "old_api": "remove_duplicate_parents",
          "new_api": null,
          "old_text": "remove_duplicate_parents(revs, commit)",
          "new_text": null,
          "old_line_content": "\tremove_duplicate_parents(revs, commit);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3414,
          "old_api": "strstr",
          "new_api": null,
          "old_text": "strstr(buf->buf, what)",
          "new_text": null,
          "old_line_content": "\tperson = strstr(buf->buf, what);",
          "new_line_content": "\tconst char *mail;",
          "content_same": false
        },
        {
          "line": 3927,
          "old_api": "get_revision_mark",
          "new_api": null,
          "old_text": "get_revision_mark(revs, commit)",
          "new_text": null,
          "old_line_content": "\tchar *mark = get_revision_mark(revs, commit);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3928,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(mark)",
          "new_text": null,
          "old_line_content": "\tif (!strlen(mark))",
          "new_line_content": "void put_revision_mark(const struct rev_info *revs, const struct commit *commit)",
          "content_same": false
        },
        {
          "line": 3418,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(what)",
          "new_text": null,
          "old_line_content": "\tperson += strlen(what);",
          "new_line_content": "\tif (!person)",
          "content_same": false
        },
        {
          "line": 3419,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(person, '\\n')",
          "new_text": null,
          "old_line_content": "\tendp = strchr(person, '\\n');",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 3425,
          "old_api": "split_ident_line",
          "new_api": null,
          "old_text": "split_ident_line(&ident, person, len)",
          "new_text": null,
          "old_line_content": "\tif (split_ident_line(&ident, person, len))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3433,
          "old_api": "map_user",
          "new_api": null,
          "old_text": "map_user(mailmap, &mail, &maillen, &name, &namelen)",
          "new_text": null,
          "old_line_content": "\tif (map_user(mailmap, &mail, &maillen, &name, &namelen)) {",
          "new_line_content": "\tname = ident.name_begin;",
          "content_same": false
        },
        {
          "line": 3443,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&namemail)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_release(&namemail);",
          "new_line_content": "\t\t\t      ident.mail_end - ident.name_begin + 1,",
          "content_same": false
        },
        {
          "line": 3463,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&buf, \"reflog \")",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addstr(&buf, \"reflog \");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3464,
          "old_api": "get_reflog_message",
          "new_api": null,
          "old_text": "get_reflog_message(&buf, opt->reflog_info)",
          "new_text": null,
          "old_line_content": "\t\tget_reflog_message(&buf, opt->reflog_info);",
          "new_line_content": "\t/* Prepend \"fake\" headers as needed */",
          "content_same": false
        },
        {
          "line": 3465,
          "old_api": "strbuf_addch",
          "new_api": null,
          "old_text": "strbuf_addch(&buf, '\\n')",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addch(&buf, '\\n');",
          "new_line_content": "\tif (opt->grep_filter.use_reflog_filter) {",
          "content_same": false
        },
        {
          "line": 3475,
          "old_api": "get_log_output_encoding",
          "new_api": null,
          "old_text": "get_log_output_encoding()",
          "new_text": null,
          "old_line_content": "\tencoding = get_log_output_encoding();",
          "new_line_content": "\t * so we will not end up with a buffer that has two different encodings",
          "content_same": false
        },
        {
          "line": 3476,
          "old_api": "logmsg_reencode",
          "new_api": null,
          "old_text": "logmsg_reencode(commit, NULL, encoding)",
          "new_text": null,
          "old_line_content": "\tmessage = logmsg_reencode(commit, NULL, encoding);",
          "new_line_content": "\t * in it.",
          "content_same": false
        },
        {
          "line": 3480,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&buf, message)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addstr(&buf, message);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3484,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&buf, message)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_addstr(&buf, message);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3486,
          "old_api": "commit_rewrite_person",
          "new_api": null,
          "old_text": "commit_rewrite_person(&buf, \"\\nauthor \", opt->mailmap)",
          "new_text": null,
          "old_line_content": "\t\tcommit_rewrite_person(&buf, \"\\nauthor \", opt->mailmap);",
          "new_line_content": "\t\tif (!buf.len)",
          "content_same": false
        },
        {
          "line": 3493,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&buf, message)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_addstr(&buf, message);",
          "new_line_content": "\t/* Append \"fake\" message parts as needed */",
          "content_same": false
        },
        {
          "line": 3494,
          "old_api": "format_display_notes",
          "new_api": null,
          "old_text": "format_display_notes(&commit->object.oid, &buf, encoding, 1)",
          "new_text": null,
          "old_line_content": "\t\tformat_display_notes(&commit->object.oid, &buf, encoding, 1);",
          "new_line_content": "\tif (opt->show_notes) {",
          "content_same": false
        },
        {
          "line": 3506,
          "old_api": "grep_buffer",
          "new_api": null,
          "old_text": "grep_buffer(&opt->grep_filter, buf.buf, buf.len)",
          "new_text": null,
          "old_line_content": "\t\tretval = grep_buffer(&opt->grep_filter, buf.buf, buf.len);",
          "new_line_content": "\t * changes before returning.",
          "content_same": false
        },
        {
          "line": 3508,
          "old_api": "grep_buffer",
          "new_api": null,
          "old_text": "grep_buffer(&opt->grep_filter,\n\t\t\t\t     (char *)message, strlen(message))",
          "new_text": null,
          "old_line_content": "\t\tretval = grep_buffer(&opt->grep_filter,",
          "new_line_content": "\tif (buf.len)",
          "content_same": false
        },
        {
          "line": 3510,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&buf)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&buf);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 3528,
          "old_api": "get_reflog_timestamp",
          "new_api": null,
          "old_text": "get_reflog_timestamp(revs->reflog_info)",
          "new_text": null,
          "old_line_content": "\t\tget_reflog_timestamp(revs->reflog_info) :",
          "new_line_content": "\t\t\t\t   struct commit *commit)",
          "content_same": false
        },
        {
          "line": 3536,
          "old_api": "has_object_pack",
          "new_api": null,
          "old_text": "has_object_pack(&commit->object.oid)",
          "new_text": null,
          "old_line_content": "\tif (revs->unpacked && has_object_pack(&commit->object.oid))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3541,
          "old_api": "comparison_date",
          "new_api": null,
          "old_text": "comparison_date(revs, commit)",
          "new_text": null,
          "old_line_content": "\t    comparison_date(revs, commit) > revs->min_age)",
          "new_line_content": "\tif (commit->object.flags & UNINTERESTING)",
          "content_same": false
        },
        {
          "line": 3549,
          "old_api": "commit_match",
          "new_api": null,
          "old_text": "commit_match(commit, revs)",
          "new_text": null,
          "old_line_content": "\tif (!commit_match(commit, revs))",
          "new_line_content": "\t\t    ((revs->max_parents >= 0) && (n > revs->max_parents)))",
          "content_same": false
        },
        {
          "line": 3557,
          "old_api": "want_ancestry",
          "new_api": null,
          "old_text": "want_ancestry(revs)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!want_ancestry(revs))",
          "new_line_content": "\t\t\tint n;",
          "content_same": false
        },
        {
          "line": 3567,
          "old_api": "relevant_commit",
          "new_api": null,
          "old_text": "relevant_commit(p->item)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (relevant_commit(p->item))",
          "new_line_content": "\t\t\t * to treat bottom commit(s) as part of the topology.",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 16,
      "total_additions": 90,
      "total_deletions": 90,
      "total_api_changes": 196
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 196,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          3269,
          3270
        ]
      }
    },
    "api_calls_before": 761,
    "api_calls_after": 761,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 0,
      "total_diff_lines": 15
    }
  }
}