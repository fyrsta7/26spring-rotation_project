{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/3e5e6c6e94f09973d3a72049aad09fd2131a3648",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/3e5e6c6e94f09973d3a72049aad09fd2131a3648/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/3e5e6c6e94f09973d3a72049aad09fd2131a3648/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/3e5e6c6e94f09973d3a72049aad09fd2131a3648/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 201,
          "old_api": "skip_prefix",
          "new_api": "packet_reader_read",
          "old_text": "skip_prefix(reader->line, \"ACK \", &arg)",
          "new_text": "packet_reader_read(reader)",
          "old_line_content": "\tif (skip_prefix(reader->line, \"ACK \", &arg)) {",
          "new_line_content": "\tif (packet_reader_read(reader) != PACKET_READ_NORMAL)",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": "strstr",
          "new_api": "skip_prefix",
          "old_text": "strstr(p, \"continue\")",
          "new_text": "skip_prefix(reader->line, \"ACK \", &arg)",
          "old_line_content": "\t\t\tif (strstr(p, \"continue\"))",
          "new_line_content": "\tif (skip_prefix(reader->line, \"ACK \", &arg)) {",
          "content_same": false
        },
        {
          "line": 209,
          "old_api": "strstr",
          "new_api": "parse_oid_hex",
          "old_text": "strstr(p, \"common\")",
          "new_text": "parse_oid_hex(arg, result_oid, &p)",
          "old_line_content": "\t\t\tif (strstr(p, \"common\"))",
          "new_line_content": "\t\tif (!parse_oid_hex(arg, result_oid, &p)) {",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": "mark_tips",
          "new_api": "_",
          "old_text": "mark_tips(negotiator, args->negotiation_tips)",
          "new_text": "_(\"--stateless-rpc requires multi_ack_detailed\")",
          "old_line_content": "\tmark_tips(negotiator, args->negotiation_tips);",
          "new_line_content": "\t\tdie(_(\"--stateless-rpc requires multi_ack_detailed\"));",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": "strbuf_addstr",
          "new_api": "oid_to_hex",
          "old_text": "strbuf_addstr(&c, \" side-band-64k\")",
          "new_text": "oid_to_hex(remote)",
          "old_line_content": "\t\t\tif (use_sideband == 2)  strbuf_addstr(&c, \" side-band-64k\");",
          "new_line_content": "\t\tremote_hex = oid_to_hex(remote);",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": "strbuf_addf",
          "new_api": "strbuf_addstr",
          "old_text": "strbuf_addf(&c, \" agent=%s\",\n\t\t\t\t\t\t\t    git_user_agent_sanitized())",
          "new_text": "strbuf_addstr(&c, \" thin-pack\")",
          "old_line_content": "\t\t\tif (agent_supported)    strbuf_addf(&c, \" agent=%s\",",
          "new_line_content": "\t\t\tif (args->use_thin_pack) strbuf_addstr(&c, \" thin-pack\");",
          "content_same": false
        },
        {
          "line": 334,
          "old_api": "git_user_agent_sanitized",
          "new_api": "strbuf_addstr",
          "old_text": "git_user_agent_sanitized()",
          "new_text": "strbuf_addstr(&c, \" no-progress\")",
          "old_line_content": "\t\t\t\t\t\t\t    git_user_agent_sanitized());",
          "new_line_content": "\t\t\tif (args->no_progress)   strbuf_addstr(&c, \" no-progress\");",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "trace2_session_id",
          "new_api": "strbuf_addstr",
          "old_text": "trace2_session_id()",
          "new_text": "strbuf_addstr(&c, \" ofs-delta\")",
          "old_line_content": "\t\t\t\tstrbuf_addf(&c, \" session-id=%s\", trace2_session_id());",
          "new_line_content": "\t\t\tif (prefer_ofs_delta)   strbuf_addstr(&c, \" ofs-delta\");",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": "packet_buf_write",
          "new_api": "strbuf_addf",
          "old_text": "packet_buf_write(&req_buf, \"want %s%s\\n\", remote_hex, c.buf)",
          "new_text": "strbuf_addf(&c, \" agent=%s\",\n\t\t\t\t\t\t\t    git_user_agent_sanitized())",
          "old_line_content": "\t\t\tpacket_buf_write(&req_buf, \"want %s%s\\n\", remote_hex, c.buf);",
          "new_line_content": "\t\t\tif (agent_supported)    strbuf_addf(&c, \" agent=%s\",",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": "strbuf_release",
          "new_api": "git_user_agent_sanitized",
          "old_text": "strbuf_release(&c)",
          "new_text": "git_user_agent_sanitized()",
          "old_line_content": "\t\t\tstrbuf_release(&c);",
          "new_line_content": "\t\t\t\t\t\t\t    git_user_agent_sanitized());",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": "packet_buf_write",
          "new_api": "trace2_session_id",
          "old_text": "packet_buf_write(&req_buf, \"want %s\\n\", remote_hex)",
          "new_text": "trace2_session_id()",
          "old_line_content": "\t\t\tpacket_buf_write(&req_buf, \"want %s\\n\", remote_hex);",
          "new_line_content": "\t\t\t\tstrbuf_addf(&c, \" session-id=%s\", trace2_session_id());",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": "packet_flush",
          "new_api": "packet_buf_write",
          "old_text": "packet_flush(fd[1])",
          "new_text": "packet_buf_write(&req_buf, \"want %s\\n\", remote_hex)",
          "old_line_content": "\t\tpacket_flush(fd[1]);",
          "new_line_content": "\t\t\tpacket_buf_write(&req_buf, \"want %s\\n\", remote_hex);",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": "write_shallow_commits",
          "new_api": "strbuf_release",
          "old_text": "write_shallow_commits(&req_buf, 1, NULL)",
          "new_text": "strbuf_release(&req_buf)",
          "old_line_content": "\t\twrite_shallow_commits(&req_buf, 1, NULL);",
          "new_line_content": "\t\tstrbuf_release(&req_buf);",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "packet_buf_write",
          "new_api": "is_repository_shallow",
          "old_text": "packet_buf_write(&req_buf, \"deepen-since %\"PRItime, max_age)",
          "new_text": "is_repository_shallow(the_repository)",
          "old_line_content": "\t\tpacket_buf_write(&req_buf, \"deepen-since %\"PRItime, max_age);",
          "new_line_content": "\tif (is_repository_shallow(the_repository))",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": "lookup_object",
          "new_api": "register_shallow",
          "old_text": "lookup_object(the_repository, &oid)",
          "new_text": "register_shallow(the_repository, &oid)",
          "old_line_content": "\t\t\t\tif (!lookup_object(the_repository, &oid))",
          "new_line_content": "\t\t\t\tregister_shallow(the_repository, &oid);",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": "parse_object",
          "new_api": "skip_prefix",
          "old_text": "parse_object(the_repository, &oid)",
          "new_text": "skip_prefix(reader.line, \"unshallow \", &arg)",
          "old_line_content": "\t\t\t\tif (!parse_object(the_repository, &oid))",
          "new_line_content": "\t\t\tif (skip_prefix(reader.line, \"unshallow \", &arg)) {",
          "content_same": false
        },
        {
          "line": 394,
          "old_api": "_",
          "new_api": "get_oid_hex",
          "old_text": "_(\"error in object: %s\")",
          "new_text": "get_oid_hex(arg, &oid)",
          "old_line_content": "\t\t\t\t\tdie(_(\"error in object: %s\"), reader.line);",
          "new_line_content": "\t\t\t\tif (get_oid_hex(arg, &oid))",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "unregister_shallow",
          "new_api": "_",
          "old_text": "unregister_shallow(&oid)",
          "new_text": "_(\"invalid unshallow line: %s\")",
          "old_line_content": "\t\t\t\tif (unregister_shallow(&oid))",
          "new_line_content": "\t\t\t\t\tdie(_(\"invalid unshallow line: %s\"), reader.line);",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": "_",
          "new_api": "lookup_object",
          "old_text": "_(\"no shallow found: %s\")",
          "new_text": "lookup_object(the_repository, &oid)",
          "old_line_content": "\t\t\t\t\tdie(_(\"no shallow found: %s\"), reader.line);",
          "new_line_content": "\t\t\t\tif (!lookup_object(the_repository, &oid))",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": "_",
          "new_api": "parse_object",
          "old_text": "_(\"expected shallow/unshallow, got %s\")",
          "new_text": "parse_object(the_repository, &oid)",
          "old_line_content": "\t\t\tdie(_(\"expected shallow/unshallow, got %s\"), reader.line);",
          "new_line_content": "\t\t\t\tif (!parse_object(the_repository, &oid))",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": "send_request",
          "new_api": "_",
          "old_text": "send_request(args, fd[1], &req_buf)",
          "new_text": "_(\"no shallow found: %s\")",
          "old_line_content": "\t\tsend_request(args, fd[1], &req_buf);",
          "new_line_content": "\t\t\t\t\tdie(_(\"no shallow found: %s\"), reader.line);",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "strbuf_setlen",
          "new_api": "send_request",
          "old_text": "strbuf_setlen(&req_buf, 0)",
          "new_text": "send_request(args, fd[1], &req_buf)",
          "old_line_content": "\t\tstrbuf_setlen(&req_buf, 0);",
          "new_line_content": "\t\tsend_request(args, fd[1], &req_buf);",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "packet_buf_flush",
          "new_api": "oid_to_hex",
          "old_text": "packet_buf_flush(&req_buf)",
          "new_text": "oid_to_hex(oid)",
          "old_line_content": "\t\t\tpacket_buf_flush(&req_buf);",
          "new_line_content": "\t\tpacket_buf_write(&req_buf, \"have %s\\n\", oid_to_hex(oid));",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": "send_request",
          "new_api": "oid_to_hex",
          "old_text": "send_request(args, fd[1], &req_buf)",
          "new_text": "oid_to_hex(oid)",
          "old_line_content": "\t\t\tsend_request(args, fd[1], &req_buf);",
          "new_line_content": "\t\tprint_verbose(args, \"have %s\", oid_to_hex(oid));",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "ack",
          "new_api": "lookup_commit",
          "old_text": "negotiator->ack(negotiator, commit)",
          "new_text": "lookup_commit(the_repository,\n\t\t\t\t\t\t\t      result_oid)",
          "old_line_content": "\t\t\t\t\twas_common = negotiator->ack(negotiator, commit);",
          "new_line_content": "\t\t\t\t\t\tlookup_commit(the_repository,",
          "content_same": false
        },
        {
          "line": 594,
          "old_api": "free_one_ref",
          "new_api": "starts_with",
          "old_text": "free_one_ref(ref)",
          "new_text": "starts_with(ref->name, \"refs/\")",
          "old_line_content": "\t\t\tfree_one_ref(ref);",
          "new_line_content": "\t\tif (starts_with(ref->name, \"refs/\") &&",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": "trace2_region_enter",
          "new_api": "trace2_region_leave",
          "old_text": "trace2_region_enter(\"fetch-pack\", \"mark_complete_local_refs\", NULL)",
          "new_text": "trace2_region_leave(\"fetch-pack\", \"parse_remote_refs_and_find_cutoff\", NULL)",
          "old_line_content": "\ttrace2_region_enter(\"fetch-pack\", \"mark_complete_local_refs\", NULL);",
          "new_line_content": "\ttrace2_region_leave(\"fetch-pack\", \"parse_remote_refs_and_find_cutoff\", NULL);",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": "mark_recent_complete_commits",
          "new_api": "trace2_region_enter",
          "old_text": "mark_recent_complete_commits(args, cutoff)",
          "new_text": "trace2_region_enter(\"fetch-pack\", \"mark_complete_local_refs\", NULL)",
          "old_line_content": "\t\t\tmark_recent_complete_commits(args, cutoff);",
          "new_line_content": "\ttrace2_region_enter(\"fetch-pack\", \"mark_complete_local_refs\", NULL);",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": "trace2_region_leave",
          "new_api": "for_each_rawref",
          "old_text": "trace2_region_leave(\"fetch-pack\", \"mark_complete_local_refs\", NULL)",
          "new_text": "for_each_rawref(mark_complete_oid, NULL)",
          "old_line_content": "\ttrace2_region_leave(\"fetch-pack\", \"mark_complete_local_refs\", NULL);",
          "new_line_content": "\t\tfor_each_rawref(mark_complete_oid, NULL);",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": "trace2_region_enter",
          "new_api": "trace2_region_leave",
          "old_text": "trace2_region_enter(\"fetch-pack\", \"mark_common_remote_refs\", NULL)",
          "new_text": "trace2_region_leave(\"fetch-pack\", \"mark_complete_local_refs\", NULL)",
          "old_line_content": "\ttrace2_region_enter(\"fetch-pack\", \"mark_common_remote_refs\", NULL);",
          "new_line_content": "\ttrace2_region_leave(\"fetch-pack\", \"mark_complete_local_refs\", NULL);",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": "write_promisor_file",
          "new_api": "strbuf_strip_suffix",
          "old_text": "write_promisor_file(promisor_name.buf, sought, nr_sought)",
          "new_text": "strbuf_strip_suffix(&promisor_name, \".keep\")",
          "old_line_content": "\twrite_promisor_file(promisor_name.buf, sought, nr_sought);",
          "new_line_content": "\tsuffix_stripped = strbuf_strip_suffix(&promisor_name, \".keep\");",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": "strbuf_release",
          "new_api": "BUG",
          "old_text": "strbuf_release(&promisor_name)",
          "new_text": "BUG(\"name of pack lockfile should end with .keep (was '%s')\",\n\t\t    keep_name)",
          "old_line_content": "\tstrbuf_release(&promisor_name);",
          "new_line_content": "\t\tBUG(\"name of pack lockfile should end with .keep (was '%s')\",",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": "xsnprintf",
          "new_api": "strvec_push",
          "old_text": "xsnprintf(hostname, sizeof(hostname), \"localhost\")",
          "new_text": "strvec_push(&cmd.args, \"-v\")",
          "old_line_content": "\t\t\t\txsnprintf(hostname, sizeof(hostname), \"localhost\");",
          "new_line_content": "\t\t\tstrvec_push(&cmd.args, \"-v\");",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": "strvec_push",
          "new_api": "xsnprintf",
          "old_text": "strvec_push(&cmd.args, \"--check-self-contained-and-connected\")",
          "new_text": "xsnprintf(hostname, sizeof(hostname), \"localhost\")",
          "old_line_content": "\t\t\tstrvec_push(&cmd.args, \"--check-self-contained-and-connected\");",
          "new_line_content": "\t\t\t\txsnprintf(hostname, sizeof(hostname), \"localhost\");",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": "ntohl",
          "new_api": "strvec_push",
          "old_text": "ntohl(header.hdr_version)",
          "new_text": "strvec_push(&cmd.args, \"-q\")",
          "old_line_content": "\t\t\t     ntohl(header.hdr_version),",
          "new_line_content": "\t\t\tstrvec_push(&cmd.args, \"-q\");",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": "_",
          "new_api": "strvec_push",
          "old_text": "_(\"fetch-pack: unable to fork off %s\")",
          "new_text": "strvec_push(index_pack_args, cmd.args.v[i])",
          "old_line_content": "\t\tdie(_(\"fetch-pack: unable to fork off %s\"), cmd_name);",
          "new_line_content": "\t\t\tstrvec_push(index_pack_args, cmd.args.v[i]);",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": "parse_gitmodules_oids",
          "new_api": "index_pack_lockfile",
          "old_text": "parse_gitmodules_oids(cmd.out, gitmodules_oids)",
          "new_text": "index_pack_lockfile(cmd.out, &is_well_formed)",
          "old_line_content": "\t\tparse_gitmodules_oids(cmd.out, gitmodules_oids);",
          "new_line_content": "\t\tchar *pack_lockfile = index_pack_lockfile(cmd.out, &is_well_formed);",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "_",
          "new_api": "finish_command",
          "old_text": "_(\"%s failed\")",
          "new_text": "finish_command(&cmd)",
          "old_line_content": "\t\tdie(_(\"%s failed\"), cmd_name);",
          "new_line_content": "\tret = finish_command(&cmd);",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "_",
          "new_api": "sort_ref_list",
          "old_text": "_(\"Server version is %.*s\")",
          "new_text": "sort_ref_list(&ref, ref_compare_name)",
          "old_line_content": "\t\t\tprint_verbose(args, _(\"Server version is %.*s\"),",
          "new_line_content": "\tsort_ref_list(&ref, ref_compare_name);",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": "_",
          "new_api": "server_supports",
          "old_text": "_(\"Server does not support shallow clients\")",
          "new_text": "server_supports(\"session-id\")",
          "old_line_content": "\t\tdie(_(\"Server does not support shallow clients\"));",
          "new_line_content": "\tif (!server_supports(\"session-id\"))",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": "server_supports",
          "new_api": "_",
          "old_text": "server_supports(\"no-done\")",
          "new_text": "_(\"Server does not support shallow clients\")",
          "old_line_content": "\t\tif (server_supports(\"no-done\")) {",
          "new_line_content": "\t\tdie(_(\"Server does not support shallow clients\"));",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": "_",
          "new_api": "server_supports",
          "old_text": "_(\"Server supports %s\")",
          "new_text": "server_supports(\"deepen-since\")",
          "old_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"deepen-not\");",
          "new_line_content": "\tif (server_supports(\"deepen-since\")) {",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": "server_supports",
          "new_api": "_",
          "old_text": "server_supports(\"deepen-relative\")",
          "new_text": "_(\"Server does not support --shallow-since\")",
          "old_line_content": "\tif (server_supports(\"deepen-relative\"))",
          "new_line_content": "\t\tdie(_(\"Server does not support --shallow-since\"));",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": "_",
          "new_api": "server_supports",
          "old_text": "_(\"Server supports %s\")",
          "new_text": "server_supports(\"deepen-not\")",
          "old_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"deepen-relative\");",
          "new_line_content": "\tif (server_supports(\"deepen-not\")) {",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": "mark_complete_and_common_ref",
          "new_api": "_",
          "old_text": "mark_complete_and_common_ref(negotiator, args, &ref)",
          "new_text": "_(\"Server supports %s\")",
          "old_line_content": "\tmark_complete_and_common_ref(negotiator, args, &ref);",
          "new_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"deepen-relative\");",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": "everything_local",
          "new_api": "_",
          "old_text": "everything_local(args, &ref)",
          "new_text": "_(\"Server does not support --deepen\")",
          "old_line_content": "\tif (everything_local(args, &ref)) {",
          "new_line_content": "\t\tdie(_(\"Server does not support --deepen\"));",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "packet_flush",
          "new_api": "server_supports_hash",
          "old_text": "packet_flush(fd[1])",
          "new_text": "server_supports_hash(the_hash_algo->name, NULL)",
          "old_line_content": "\t\tpacket_flush(fd[1]);",
          "new_line_content": "\tif (!server_supports_hash(the_hash_algo->name, NULL))",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": "find_common",
          "new_api": "mark_complete_and_common_ref",
          "old_text": "find_common(negotiator, args, fd, &oid, ref)",
          "new_text": "mark_complete_and_common_ref(negotiator, args, &ref)",
          "old_line_content": "\tif (find_common(negotiator, args, fd, &oid, ref) < 0)",
          "new_line_content": "\tmark_complete_and_common_ref(negotiator, args, &ref);",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": "_",
          "new_api": "packet_flush",
          "old_text": "_(\"source repository is shallow, reject to clone.\")",
          "new_text": "packet_flush(fd[1])",
          "old_line_content": "\t\t\tdie(_(\"source repository is shallow, reject to clone.\"));",
          "new_line_content": "\t\tpacket_flush(fd[1]);",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "fsck_finish",
          "new_api": "setup_temporary_shallow",
          "old_text": "fsck_finish(&fsck_options)",
          "new_text": "setup_temporary_shallow(si->shallow)",
          "old_line_content": "\tif (fsck_finish(&fsck_options))",
          "new_line_content": "\t\talternate_shallow_file = setup_temporary_shallow(si->shallow);",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "release",
          "new_api": "_",
          "old_text": "negotiator->release(negotiator)",
          "new_text": "_(\"git fetch-pack: fetch failed.\")",
          "old_line_content": "\t\tnegotiator->release(negotiator);",
          "new_line_content": "\t\tdie(_(\"git fetch-pack: fetch failed.\"));",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "packet_buf_write",
          "new_api": "is_repository_shallow",
          "old_text": "packet_buf_write(req_buf, \"deepen-since %\"PRItime, max_age)",
          "new_text": "is_repository_shallow(the_repository)",
          "old_line_content": "\t\tpacket_buf_write(req_buf, \"deepen-since %\"PRItime, max_age);",
          "new_line_content": "\tif (is_repository_shallow(the_repository))",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": "oid_to_hex",
          "new_api": "lookup_object",
          "old_text": "oid_to_hex(remote)",
          "new_text": "lookup_object(the_repository, remote)",
          "old_line_content": "\t\t\tpacket_buf_write(req_buf, \"want %s\\n\", oid_to_hex(remote));",
          "new_line_content": "\t\tif (((o = lookup_object(the_repository, remote)) != NULL) &&",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": "next_flush",
          "new_api": "oid_to_hex",
          "old_text": "next_flush(1, *haves_to_send)",
          "new_text": "oid_to_hex(oid)",
          "old_line_content": "\t*haves_to_send = next_flush(1, *haves_to_send);",
          "new_line_content": "\t\tpacket_buf_write(req_buf, \"have %s\\n\", oid_to_hex(oid));",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": "server_supports_v2",
          "new_api": "packet_buf_write",
          "old_text": "server_supports_v2(\"server-option\", 1)",
          "new_text": "packet_buf_write(req_buf, \"command=fetch\")",
          "old_line_content": "\t    server_supports_v2(\"server-option\", 1)) {",
          "new_line_content": "\t\tpacket_buf_write(req_buf, \"command=fetch\");",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": "packet_buf_write",
          "new_api": "server_supports_v2",
          "old_text": "packet_buf_write(req_buf, \"server-option=%s\",\n\t\t\t\t\t server_options->items[i].string)",
          "new_text": "server_supports_v2(\"session-id\", 0)",
          "old_line_content": "\t\t\tpacket_buf_write(req_buf, \"server-option=%s\",",
          "new_line_content": "\tif (advertise_sid && server_supports_v2(\"session-id\", 0))",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": "hash_algo_by_ptr",
          "new_api": "packet_buf_write",
          "old_text": "hash_algo_by_ptr(the_hash_algo)",
          "new_text": "packet_buf_write(req_buf, \"server-option=%s\",\n\t\t\t\t\t server_options->items[i].string)",
          "old_line_content": "\t\tif (hash_algo_by_ptr(the_hash_algo) != hash_algo)",
          "new_line_content": "\t\t\tpacket_buf_write(req_buf, \"server-option=%s\",",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": "hash_algo_by_ptr",
          "new_api": "server_feature_v2",
          "old_text": "hash_algo_by_ptr(the_hash_algo)",
          "new_text": "server_feature_v2(\"object-format\", &hash_name)",
          "old_line_content": "\t} else if (hash_algo_by_ptr(the_hash_algo) != GIT_HASH_SHA1) {",
          "new_line_content": "\tif (server_feature_v2(\"object-format\", &hash_name)) {",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "_",
          "new_api": "hash_algo_by_name",
          "old_text": "_(\"the server does not support algorithm '%s'\")",
          "new_text": "hash_algo_by_name(hash_name)",
          "old_line_content": "\t\tdie(_(\"the server does not support algorithm '%s'\"),",
          "new_line_content": "\t\tint hash_algo = hash_algo_by_name(hash_name);",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": "add_shallow_requests",
          "new_api": "packet_buf_write",
          "old_text": "add_shallow_requests(&req_buf, args)",
          "new_text": "packet_buf_write(&req_buf, \"ofs-delta\")",
          "old_line_content": "\t\tadd_shallow_requests(&req_buf, args);",
          "new_line_content": "\t\tpacket_buf_write(&req_buf, \"ofs-delta\");",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": "_",
          "new_api": "packet_buf_write",
          "old_text": "_(\"Server does not support shallow requests\")",
          "new_text": "packet_buf_write(&req_buf, \"sideband-all\")",
          "old_line_content": "\t\tdie(_(\"Server does not support shallow requests\"));",
          "new_line_content": "\t\tpacket_buf_write(&req_buf, \"sideband-all\");",
          "content_same": false
        },
        {
          "line": 1285,
          "old_api": "expand_list_objects_filter_spec",
          "new_api": "_",
          "old_text": "expand_list_objects_filter_spec(&args->filter_options)",
          "new_text": "_(\"Server does not support shallow requests\")",
          "old_line_content": "\t\t\texpand_list_objects_filter_spec(&args->filter_options);",
          "new_line_content": "\t\tdie(_(\"Server does not support shallow requests\"));",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": "server_supports_feature",
          "new_api": "_",
          "old_text": "server_supports_feature(\"fetch\", \"packfile-uris\", 0)",
          "new_text": "_(\"Server supports filter\")",
          "old_line_content": "\tif (server_supports_feature(\"fetch\", \"packfile-uris\", 0)) {",
          "new_line_content": "\t\tprint_verbose(args, _(\"Server supports filter\"));",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": "strbuf_release",
          "new_api": "strbuf_addstr",
          "old_text": "strbuf_release(&to_send)",
          "new_text": "strbuf_addstr(&to_send, s)",
          "old_line_content": "\t\t\tstrbuf_release(&to_send);",
          "new_line_content": "\t\t\t\tstrbuf_addstr(&to_send, s);",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": "packet_buf_write",
          "new_api": "add_common",
          "old_text": "packet_buf_write(&req_buf, \"done\\n\")",
          "new_text": "add_common(&req_buf, common)",
          "old_line_content": "\t\tpacket_buf_write(&req_buf, \"done\\n\");",
          "new_line_content": "\tadd_common(&req_buf, common);",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": "write_in_full",
          "new_api": "packet_buf_write",
          "old_text": "write_in_full(fd_out, req_buf.buf, req_buf.len)",
          "new_text": "packet_buf_write(&req_buf, \"done\\n\")",
          "old_line_content": "\tif (write_in_full(fd_out, req_buf.buf, req_buf.len) < 0)",
          "new_line_content": "\t\tpacket_buf_write(&req_buf, \"done\\n\");",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": "packet_reader_read",
          "new_api": "strcmp",
          "old_text": "packet_reader_read(reader)",
          "new_text": "strcmp(reader->line, section)",
          "old_line_content": "\t\tpacket_reader_read(reader);",
          "new_line_content": "\tret = !strcmp(reader->line, section);",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "skip_prefix",
          "new_api": "packet_reader_read",
          "old_text": "skip_prefix(reader->line, \"ACK \", &arg)",
          "new_text": "packet_reader_read(reader)",
          "old_line_content": "\t\tif (skip_prefix(reader->line, \"ACK \", &arg)) {",
          "new_line_content": "\twhile (packet_reader_read(reader) == PACKET_READ_NORMAL) {",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "lookup_commit",
          "new_api": "strcmp",
          "old_text": "lookup_commit(the_repository, common_oid)",
          "new_text": "strcmp(reader->line, \"NAK\")",
          "old_line_content": "\t\t\t\tcommit = lookup_commit(the_repository, common_oid);",
          "new_line_content": "\t\tif (!strcmp(reader->line, \"NAK\"))",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": "get_oid_hex",
          "new_api": "process_section_header",
          "old_text": "get_oid_hex(arg, &oid)",
          "new_text": "process_section_header(reader, \"shallow-info\", 0)",
          "old_line_content": "\t\t\tif (get_oid_hex(arg, &oid))",
          "new_line_content": "\tprocess_section_header(reader, \"shallow-info\", 0);",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "_",
          "new_api": "packet_reader_read",
          "old_text": "_(\"invalid shallow line: %s\")",
          "new_text": "packet_reader_read(reader)",
          "old_line_content": "\t\t\t\tdie(_(\"invalid shallow line: %s\"), reader->line);",
          "new_line_content": "\twhile (packet_reader_read(reader) == PACKET_READ_NORMAL) {",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "lookup_object",
          "new_api": "oid_array_append",
          "old_text": "lookup_object(the_repository, &oid)",
          "new_text": "oid_array_append(shallows, &oid)",
          "old_line_content": "\t\t\tif (!lookup_object(the_repository, &oid))",
          "new_line_content": "\t\t\toid_array_append(shallows, &oid);",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": "parse_object",
          "new_api": "skip_prefix",
          "old_text": "parse_object(the_repository, &oid)",
          "new_text": "skip_prefix(reader->line, \"unshallow \", &arg)",
          "old_line_content": "\t\t\tif (!parse_object(the_repository, &oid))",
          "new_line_content": "\t\tif (skip_prefix(reader->line, \"unshallow \", &arg)) {",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "_",
          "new_api": "get_oid_hex",
          "old_text": "_(\"error in object: %s\")",
          "new_text": "get_oid_hex(arg, &oid)",
          "old_line_content": "\t\t\t\tdie(_(\"error in object: %s\"), reader->line);",
          "new_line_content": "\t\t\tif (get_oid_hex(arg, &oid))",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": "unregister_shallow",
          "new_api": "_",
          "old_text": "unregister_shallow(&oid)",
          "new_text": "_(\"invalid unshallow line: %s\")",
          "old_line_content": "\t\t\tif (unregister_shallow(&oid))",
          "new_line_content": "\t\t\t\tdie(_(\"invalid unshallow line: %s\"), reader->line);",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "_",
          "new_api": "lookup_object",
          "old_text": "_(\"no shallow found: %s\")",
          "new_text": "lookup_object(the_repository, &oid)",
          "old_line_content": "\t\t\t\tdie(_(\"no shallow found: %s\"), reader->line);",
          "new_line_content": "\t\t\tif (!lookup_object(the_repository, &oid))",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": "process_section_header",
          "new_api": "strcmp",
          "old_text": "process_section_header(reader, \"wanted-refs\", 0)",
          "new_text": "strcmp(name, (*(struct ref **)ref)->name)",
          "old_line_content": "\tprocess_section_header(reader, \"wanted-refs\", 0);",
          "new_line_content": "\treturn strcmp(name, (*(struct ref **)ref)->name);",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": "parse_oid_hex",
          "new_api": "process_section_header",
          "old_text": "parse_oid_hex(reader->line, &oid, &end)",
          "new_text": "process_section_header(reader, \"wanted-refs\", 0)",
          "old_line_content": "\t\tif (parse_oid_hex(reader->line, &oid, &end) || *end++ != ' ')",
          "new_line_content": "\tprocess_section_header(reader, \"wanted-refs\", 0);",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": "_",
          "new_api": "packet_reader_read",
          "old_text": "_(\"expected wanted-ref, got '%s'\")",
          "new_text": "packet_reader_read(reader)",
          "old_line_content": "\t\t\tdie(_(\"expected wanted-ref, got '%s'\"), reader->line);",
          "new_line_content": "\twhile (packet_reader_read(reader) == PACKET_READ_NORMAL) {",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": "_",
          "new_api": "parse_oid_hex",
          "old_text": "_(\"unexpected wanted-ref: '%s'\")",
          "new_text": "parse_oid_hex(reader->line, &oid, &end)",
          "old_line_content": "\t\t\tdie(_(\"unexpected wanted-ref: '%s'\"), reader->line);",
          "new_line_content": "\t\tif (parse_oid_hex(reader->line, &oid, &end) || *end++ != ' ')",
          "content_same": false
        },
        {
          "line": 1500,
          "old_api": "oidcpy",
          "new_api": "_",
          "old_text": "oidcpy(&(*found)->old_oid, &oid)",
          "new_text": "_(\"expected wanted-ref, got '%s'\")",
          "old_line_content": "\t\toidcpy(&(*found)->old_oid, &oid);",
          "new_line_content": "\t\t\tdie(_(\"expected wanted-ref, got '%s'\"), reader->line);",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": "process_section_header",
          "new_api": "_",
          "old_text": "process_section_header(reader, \"packfile-uris\", 0)",
          "new_text": "_(\"error processing wanted refs: %d\")",
          "old_line_content": "\tprocess_section_header(reader, \"packfile-uris\", 0);",
          "new_line_content": "\t\tdie(_(\"error processing wanted refs: %d\"), reader->status);",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": "string_list_append",
          "new_api": "process_section_header",
          "old_text": "string_list_append(uris, reader->line)",
          "new_text": "process_section_header(reader, \"packfile-uris\", 0)",
          "old_line_content": "\t\tstring_list_append(uris, reader->line);",
          "new_line_content": "\tprocess_section_header(reader, \"packfile-uris\", 0);",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": "server_supports_feature",
          "new_api": "fetch_negotiator_init",
          "old_text": "server_supports_feature(\"fetch\", \"sideband-all\", 0)",
          "new_text": "fetch_negotiator_init(r, negotiator)",
          "old_line_content": "\t    server_supports_feature(\"fetch\", \"sideband-all\", 0)) {",
          "new_line_content": "\tfetch_negotiator_init(r, negotiator);",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": "mark_tips",
          "new_api": "filter_refs",
          "old_text": "mark_tips(negotiator, args->negotiation_tips)",
          "new_text": "filter_refs(args, &ref, sought, nr_sought)",
          "old_line_content": "\t\t\tmark_tips(negotiator, args->negotiation_tips);",
          "new_line_content": "\t\t\tfilter_refs(args, &ref, sought, nr_sought);",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": "for_each_cached_alternate",
          "new_api": "everything_local",
          "old_text": "for_each_cached_alternate(negotiator,\n\t\t\t\t\t\t  insert_one_alternate_object)",
          "new_text": "everything_local(args, &ref)",
          "old_line_content": "\t\t\tfor_each_cached_alternate(negotiator,",
          "new_line_content": "\t\t\tif (everything_local(args, &ref))",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": "trace2_region_enter",
          "new_api": "for_each_cached_alternate",
          "old_text": "trace2_region_enter(\"fetch-pack\",\n\t\t\t\t\t\t    \"negotiation_v2\",\n\t\t\t\t\t\t    the_repository)",
          "new_text": "for_each_cached_alternate(negotiator,\n\t\t\t\t\t\t  insert_one_alternate_object)",
          "old_line_content": "\t\t\t\ttrace2_region_enter(\"fetch-pack\",",
          "new_line_content": "\t\t\tfor_each_cached_alternate(negotiator,",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": "process_section_header",
          "new_api": "receive_shallow_info",
          "old_text": "process_section_header(&reader, \"packfile-uris\", 1)",
          "new_text": "receive_shallow_info(args, &reader, shallows, si)",
          "old_line_content": "\t\t\tif (process_section_header(&reader, \"packfile-uris\", 1))",
          "new_line_content": "\t\t\t\treceive_shallow_info(args, &reader, shallows, si);",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": "get_pack",
          "new_api": "receive_wanted_refs",
          "old_text": "get_pack(args, fd, pack_lockfiles,\n\t\t\t\t     packfile_uris.nr ? &index_pack_args : NULL,\n\t\t\t\t     sought, nr_sought, &fsck_options.gitmodules_found)",
          "new_text": "receive_wanted_refs(&reader, sought, nr_sought)",
          "old_line_content": "\t\t\tif (get_pack(args, fd, pack_lockfiles,",
          "new_line_content": "\t\t\t\treceive_wanted_refs(&reader, sought, nr_sought);",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "_",
          "new_api": "process_section_header",
          "old_text": "_(\"git fetch-pack: fetch failed.\")",
          "new_text": "process_section_header(&reader, \"packfile-uris\", 1)",
          "old_line_content": "\t\t\t\tdie(_(\"git fetch-pack: fetch failed.\"));",
          "new_line_content": "\t\t\tif (process_section_header(&reader, \"packfile-uris\", 1))",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": "do_check_stateless_delimiter",
          "new_api": "receive_packfile_uris",
          "old_text": "do_check_stateless_delimiter(args->stateless_rpc, &reader)",
          "new_text": "receive_packfile_uris(&reader, &packfile_uris)",
          "old_line_content": "\t\t\tdo_check_stateless_delimiter(args->stateless_rpc, &reader);",
          "new_line_content": "\t\t\t\treceive_packfile_uris(&reader, &packfile_uris);",
          "content_same": false
        },
        {
          "line": 1675,
          "old_api": "strvec_push",
          "new_api": "strvec_pushf",
          "old_text": "strvec_push(&cmd.args, uri)",
          "new_text": "strvec_pushf(&cmd.args, \"--packfile=%.*s\",\n\t\t\t     (int) the_hash_algo->hexsz,\n\t\t\t     packfile_uris.items[i].string)",
          "old_line_content": "\t\tstrvec_push(&cmd.args, uri);",
          "new_line_content": "\t\tstrvec_pushf(&cmd.args, \"--packfile=%.*s\",",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": "start_command",
          "new_api": "strvec_pushf",
          "old_text": "start_command(&cmd)",
          "new_text": "strvec_pushf(&cmd.args, \"--index-pack-arg=%s\",\n\t\t\t\t     index_pack_args.v[j])",
          "old_line_content": "\t\tif (start_command(&cmd))",
          "new_line_content": "\t\t\tstrvec_pushf(&cmd.args, \"--index-pack-arg=%s\",",
          "content_same": false
        },
        {
          "line": 1686,
          "old_api": "read_in_full",
          "new_api": "die",
          "old_text": "read_in_full(cmd.out, packname,\n\t\t\t\t the_hash_algo->hexsz + 1)",
          "new_text": "die(\"fetch-pack: unable to spawn http-fetch\")",
          "old_line_content": "\t\tif (read_in_full(cmd.out, packname,",
          "new_line_content": "\t\t\tdie(\"fetch-pack: unable to spawn http-fetch\");",
          "content_same": false
        },
        {
          "line": 1689,
          "old_api": "die",
          "new_api": "memcmp",
          "old_text": "die(\"fetch-pack: expected hash then LF at end of http-fetch output\")",
          "new_text": "memcmp(packname, \"keep\\t\", 5)",
          "old_line_content": "\t\t\tdie(\"fetch-pack: expected hash then LF at end of http-fetch output\");",
          "new_line_content": "\t\t    memcmp(packname, \"keep\\t\", 5))",
          "content_same": false
        },
        {
          "line": 1695,
          "old_api": "close",
          "new_api": "die",
          "old_text": "close(cmd.out)",
          "new_text": "die(\"fetch-pack: expected hash then LF at end of http-fetch output\")",
          "old_line_content": "\t\tclose(cmd.out);",
          "new_line_content": "\t\t\tdie(\"fetch-pack: expected hash then LF at end of http-fetch output\");",
          "content_same": false
        },
        {
          "line": 1706,
          "old_api": "string_list_append_nodup",
          "new_api": "memcmp",
          "old_text": "string_list_append_nodup(pack_lockfiles,\n\t\t\t\t\t xstrfmt(\"%s/pack/pack-%s.keep\",\n\t\t\t\t\t\t get_object_directory(),\n\t\t\t\t\t\t packname))",
          "new_text": "memcmp(packfile_uris.items[i].string, packname,\n\t\t\t   the_hash_algo->hexsz)",
          "old_line_content": "\t\tstring_list_append_nodup(pack_lockfiles,",
          "new_line_content": "\t\tif (memcmp(packfile_uris.items[i].string, packname,",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": "get_object_directory",
          "new_api": "die",
          "old_text": "get_object_directory()",
          "new_text": "die(\"fetch-pack: pack downloaded from %s does not match expected hash %.*s\",\n\t\t\t    uri, (int) the_hash_algo->hexsz,\n\t\t\t    packfile_uris.items[i].string)",
          "old_line_content": "\t\t\t\t\t\t get_object_directory(),",
          "new_line_content": "\t\t\tdie(\"fetch-pack: pack downloaded from %s does not match expected hash %.*s\",",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": "strvec_clear",
          "new_api": "string_list_append_nodup",
          "old_text": "strvec_clear(&index_pack_args)",
          "new_text": "string_list_append_nodup(pack_lockfiles,\n\t\t\t\t\t xstrfmt(\"%s/pack/pack-%s.keep\",\n\t\t\t\t\t\t get_object_directory(),\n\t\t\t\t\t\t packname))",
          "old_line_content": "\tstrvec_clear(&index_pack_args);",
          "new_line_content": "\t\tstring_list_append_nodup(pack_lockfiles,",
          "content_same": false
        },
        {
          "line": 1714,
          "old_api": "fsck_finish",
          "new_api": "get_object_directory",
          "old_text": "fsck_finish(&fsck_options)",
          "new_text": "get_object_directory()",
          "old_line_content": "\tif (fsck_finish(&fsck_options))",
          "new_line_content": "\t\t\t\t\t\t get_object_directory(),",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": "release",
          "new_api": "strvec_clear",
          "old_text": "negotiator->release(negotiator)",
          "new_text": "strvec_clear(&index_pack_args)",
          "old_line_content": "\t\tnegotiator->release(negotiator);",
          "new_line_content": "\tstrvec_clear(&index_pack_args);",
          "content_same": false
        },
        {
          "line": 1720,
          "old_api": "oidset_clear",
          "new_api": "fsck_finish",
          "old_text": "oidset_clear(&common)",
          "new_text": "fsck_finish(&fsck_options)",
          "old_line_content": "\toidset_clear(&common);",
          "new_line_content": "\tif (fsck_finish(&fsck_options))",
          "content_same": false
        },
        {
          "line": 1726,
          "old_api": "strcmp",
          "new_api": "oidset_clear",
          "old_text": "strcmp(var, \"fetch.fsck.skiplist\")",
          "new_text": "oidset_clear(&common)",
          "old_line_content": "\tif (strcmp(var, \"fetch.fsck.skiplist\") == 0) {",
          "new_line_content": "\toidset_clear(&common);",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "skip_prefix",
          "new_api": "strbuf_addf",
          "old_text": "skip_prefix(var, \"fetch.fsck.\", &var)",
          "new_text": "strbuf_addf(&fsck_msg_types, \"%cskiplist=%s\",\n\t\t\tfsck_msg_types.len ? ',' : '=', path)",
          "old_line_content": "\tif (skip_prefix(var, \"fetch.fsck.\", &var)) {",
          "new_line_content": "\t\tstrbuf_addf(&fsck_msg_types, \"%cskiplist=%s\",",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": "strbuf_addf",
          "new_api": "free",
          "old_text": "strbuf_addf(&fsck_msg_types, \"%c%s=%s\",\n\t\t\t\tfsck_msg_types.len ? ',' : '=', var, value)",
          "new_text": "free((char *)path)",
          "old_line_content": "\t\t\tstrbuf_addf(&fsck_msg_types, \"%c%s=%s\",",
          "new_line_content": "\t\tfree((char *)path);",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": "git_config_get_int",
          "new_api": "git_default_config",
          "old_text": "git_config_get_int(\"transfer.unpacklimit\", &transfer_unpack_limit)",
          "new_text": "git_default_config(var, value, cb)",
          "old_line_content": "\tgit_config_get_int(\"transfer.unpacklimit\", &transfer_unpack_limit);",
          "new_line_content": "\treturn git_default_config(var, value, cb);",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": "git_config_get_string",
          "new_api": "git_config_get_bool",
          "old_text": "git_config_get_string(\"fetch.uriprotocols\", &str)",
          "new_text": "git_config_get_bool(\"fetch.fsckobjects\", &fetch_fsck_objects)",
          "old_line_content": "\t\tif (!git_config_get_string(\"fetch.uriprotocols\", &str) && str) {",
          "new_line_content": "\tgit_config_get_bool(\"fetch.fsckobjects\", &fetch_fsck_objects);",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": "string_list_split",
          "new_api": "git_config_get_bool",
          "old_text": "string_list_split(&uri_protocols, str, ',', -1)",
          "new_text": "git_config_get_bool(\"transfer.fsckobjects\", &transfer_fsck_objects)",
          "old_line_content": "\t\t\tstring_list_split(&uri_protocols, str, ',', -1);",
          "new_line_content": "\tgit_config_get_bool(\"transfer.fsckobjects\", &transfer_fsck_objects);",
          "content_same": false
        },
        {
          "line": 1762,
          "old_api": "free",
          "new_api": "git_config_get_bool",
          "old_text": "free(str)",
          "new_text": "git_config_get_bool(\"transfer.advertisesid\", &advertise_sid)",
          "old_line_content": "\t\t\tfree(str);",
          "new_line_content": "\tgit_config_get_bool(\"transfer.advertisesid\", &advertise_sid);",
          "content_same": false
        },
        {
          "line": 1766,
          "old_api": "git_config",
          "new_api": "git_config_get_string",
          "old_text": "git_config(fetch_pack_config_cb, NULL)",
          "new_text": "git_config_get_string(\"fetch.uriprotocols\", &str)",
          "old_line_content": "\tgit_config(fetch_pack_config_cb, NULL);",
          "new_line_content": "\t\tif (!git_config_get_string(\"fetch.uriprotocols\", &str) && str) {",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": "commit_shallow_file",
          "new_api": "has_object_file",
          "old_text": "commit_shallow_file(the_repository, &shallow_lock)",
          "new_text": "has_object_file(&oid[i])",
          "old_line_content": "\t\t\tcommit_shallow_file(the_repository, &shallow_lock);",
          "new_line_content": "\t\t\tif (has_object_file(&oid[i]))",
          "content_same": false
        },
        {
          "line": 1843,
          "old_api": "oid_array_clear",
          "new_api": "setup_alternate_shallow",
          "old_text": "oid_array_clear(&extra)",
          "new_text": "setup_alternate_shallow(&shallow_lock,\n\t\t\t\t\t\t&alternate_shallow_file,\n\t\t\t\t\t\t&extra)",
          "old_line_content": "\t\toid_array_clear(&extra);",
          "new_line_content": "\t\t\tsetup_alternate_shallow(&shallow_lock,",
          "content_same": false
        },
        {
          "line": 1872,
          "old_api": "oid_array_append",
          "new_api": "assign_shallow_commits_to_refs",
          "old_text": "oid_array_append(&extra, &oid[si->ours[i]])",
          "new_text": "assign_shallow_commits_to_refs(si, NULL, NULL)",
          "old_line_content": "\t\t\toid_array_append(&extra, &oid[si->ours[i]]);",
          "new_line_content": "\t\tassign_shallow_commits_to_refs(si, NULL, NULL);",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": "oid_array_append",
          "new_api": "oid_array_clear",
          "old_text": "oid_array_append(&extra, &oid[si->theirs[i]])",
          "new_text": "oid_array_clear(&ref)",
          "old_line_content": "\t\t\toid_array_append(&extra, &oid[si->theirs[i]]);",
          "new_line_content": "\t\t\toid_array_clear(&ref);",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": "commit_shallow_file",
          "new_api": "oid_array_append",
          "old_text": "commit_shallow_file(the_repository, &shallow_lock)",
          "new_text": "oid_array_append(&extra, &oid[si->ours[i]])",
          "old_line_content": "\t\tcommit_shallow_file(the_repository, &shallow_lock);",
          "new_line_content": "\t\t\toid_array_append(&extra, &oid[si->ours[i]]);",
          "content_same": false
        },
        {
          "line": 1880,
          "old_api": "oid_array_clear",
          "new_api": "oid_array_append",
          "old_text": "oid_array_clear(&ref)",
          "new_text": "oid_array_append(&extra, &oid[si->theirs[i]])",
          "old_line_content": "\t\toid_array_clear(&ref);",
          "new_line_content": "\t\t\toid_array_append(&extra, &oid[si->theirs[i]]);",
          "content_same": false
        },
        {
          "line": 1896,
          "old_api": "free",
          "new_api": "assign_shallow_commits_to_refs",
          "old_text": "free(status)",
          "new_text": "assign_shallow_commits_to_refs(si, NULL, status)",
          "old_line_content": "\tfree(status);",
          "new_line_content": "\tassign_shallow_commits_to_refs(si, NULL, status);",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": "_",
          "new_api": "fetch_pack_setup",
          "old_text": "_(\"no matching remote head\")",
          "new_text": "fetch_pack_setup()",
          "old_line_content": "\t\tdie(_(\"no matching remote head\"));",
          "new_line_content": "\tfetch_pack_setup();",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": "memset",
          "new_api": "packet_flush",
          "old_text": "memset(&si, 0, sizeof(si))",
          "new_text": "packet_flush(fd[1])",
          "old_line_content": "\t\tmemset(&si, 0, sizeof(si));",
          "new_line_content": "\t\tpacket_flush(fd[1]);",
          "content_same": false
        },
        {
          "line": 1936,
          "old_api": "do_fetch_pack_v2",
          "new_api": "_",
          "old_text": "do_fetch_pack_v2(args, fd, ref, sought, nr_sought,\n\t\t\t\t\t   &shallows_scratch, &si,\n\t\t\t\t\t   pack_lockfiles)",
          "new_text": "_(\"no matching remote head\")",
          "old_line_content": "\t\tref_cpy = do_fetch_pack_v2(args, fd, ref, sought, nr_sought,",
          "new_line_content": "\t\tdie(_(\"no matching remote head\"));",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": "prepare_shallow_info",
          "new_api": "BUG",
          "old_text": "prepare_shallow_info(&si, shallow)",
          "new_text": "BUG(\"Protocol V2 does not provide shallows at this point in the fetch\")",
          "old_line_content": "\t\tprepare_shallow_info(&si, shallow);",
          "new_line_content": "\t\t\tBUG(\"Protocol V2 does not provide shallows at this point in the fetch\");",
          "content_same": false
        },
        {
          "line": 1941,
          "old_api": "do_fetch_pack",
          "new_api": "memset",
          "old_text": "do_fetch_pack(args, fd, ref, sought, nr_sought,\n\t\t\t\t\t&si, pack_lockfiles)",
          "new_text": "memset(&si, 0, sizeof(si))",
          "old_line_content": "\t\tref_cpy = do_fetch_pack(args, fd, ref, sought, nr_sought,",
          "new_line_content": "\t\tmemset(&si, 0, sizeof(si));",
          "content_same": false
        },
        {
          "line": 1962,
          "old_api": "update_shallow",
          "new_api": "rollback_shallow_file",
          "old_text": "update_shallow(args, sought, nr_sought, &si)",
          "new_text": "rollback_shallow_file(the_repository, &shallow_lock)",
          "old_line_content": "\tupdate_shallow(args, sought, nr_sought, &si);",
          "new_line_content": "\t\t\trollback_shallow_file(the_repository, &shallow_lock);",
          "content_same": false
        },
        {
          "line": 2012,
          "old_api": "oid_array_for_each",
          "new_api": "mark_tips",
          "old_text": "oid_array_for_each((struct oid_array *) negotiation_tips,\n\t\t\t   add_to_object_array,\n\t\t\t   &nt_object_array)",
          "new_text": "mark_tips(&negotiator, negotiation_tips)",
          "old_line_content": "\toid_array_for_each((struct oid_array *) negotiation_tips,",
          "new_line_content": "\tmark_tips(&negotiator, negotiation_tips);",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "packet_buf_flush",
          "new_api": "add_haves",
          "old_text": "packet_buf_flush(&req_buf)",
          "new_text": "add_haves(&negotiator, &req_buf, &haves_to_send)",
          "old_line_content": "\t\tpacket_buf_flush(&req_buf);",
          "new_line_content": "\t\thaves_added = add_haves(&negotiator, &req_buf, &haves_to_send);",
          "content_same": false
        },
        {
          "line": 2038,
          "old_api": "process_ack",
          "new_api": "packet_buf_flush",
          "old_text": "process_ack(&negotiator, &reader, &common_oid,\n\t\t\t\t   &received_ready)",
          "new_text": "packet_buf_flush(&req_buf)",
          "old_line_content": "\t\twhile (process_ack(&negotiator, &reader, &common_oid,",
          "new_line_content": "\t\tpacket_buf_flush(&req_buf);",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": "lookup_commit",
          "new_api": "_",
          "old_text": "lookup_commit(the_repository,\n\t\t\t\t\t\t\t      &common_oid)",
          "new_text": "_(\"unable to write request to remote\")",
          "old_line_content": "\t\t\tstruct commit *commit = lookup_commit(the_repository,",
          "new_line_content": "\t\t\tdie_errno(_(\"unable to write request to remote\"));",
          "content_same": false
        },
        {
          "line": 2053,
          "old_api": "oidset_insert",
          "new_api": "commit_graph_generation",
          "old_text": "oidset_insert(acked_commits, &common_oid)",
          "new_text": "commit_graph_generation(commit)",
          "old_line_content": "\t\t\toidset_insert(acked_commits, &common_oid);",
          "new_line_content": "\t\t\t\tgeneration = commit_graph_generation(commit);",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": "can_all_from_reach_with_flag",
          "new_api": "oidset_insert",
          "old_text": "can_all_from_reach_with_flag(&nt_object_array, COMMON,\n\t\t\t\t\t\t REACH_SCRATCH, 0,\n\t\t\t\t\t\t min_generation)",
          "new_text": "oidset_insert(acked_commits, &common_oid)",
          "old_line_content": "\t\tif (can_all_from_reach_with_flag(&nt_object_array, COMMON,",
          "new_line_content": "\t\t\toidset_insert(acked_commits, &common_oid);",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": "clear_common_flag",
          "new_api": "do_check_stateless_delimiter",
          "old_text": "clear_common_flag(acked_commits)",
          "new_text": "do_check_stateless_delimiter(stateless_rpc, &reader)",
          "old_line_content": "\tclear_common_flag(acked_commits);",
          "new_line_content": "\t\t\tdo_check_stateless_delimiter(stateless_rpc, &reader);",
          "content_same": false
        },
        {
          "line": 2065,
          "old_api": "strbuf_release",
          "new_api": "can_all_from_reach_with_flag",
          "old_text": "strbuf_release(&req_buf)",
          "new_text": "can_all_from_reach_with_flag(&nt_object_array, COMMON,\n\t\t\t\t\t\t REACH_SCRATCH, 0,\n\t\t\t\t\t\t min_generation)",
          "old_line_content": "\tstrbuf_release(&req_buf);",
          "new_line_content": "\t\tif (can_all_from_reach_with_flag(&nt_object_array, COMMON,",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2051,
          "old_api": null,
          "new_api": "parse_commit_or_die",
          "old_text": null,
          "new_text": "parse_commit_or_die(commit)",
          "old_line_content": "\t\t\tin_vain = 0;",
          "new_line_content": "\t\t\t\tparse_commit_or_die(commit);",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"unexpected 'ready' from remote\")",
          "old_line_content": "\t\t\tlast_iteration = 1;",
          "new_line_content": "\t\t\tdie(_(\"unexpected 'ready' from remote\"));",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": null,
          "new_api": "clear_common_flag",
          "old_text": null,
          "new_text": "clear_common_flag(acked_commits)",
          "old_line_content": "\tint i, ret = 0;",
          "new_line_content": "\tclear_common_flag(acked_commits);",
          "content_same": false
        },
        {
          "line": 2071,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&req_buf)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&req_buf);",
          "content_same": false
        },
        {
          "line": 2085,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"no such remote ref %s\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\terror(_(\"no such remote ref %s\"), sought[i]->name);",
          "content_same": false
        },
        {
          "line": 2088,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server does not allow request for unadvertised object %s\")",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\t\t\terror(_(\"Server does not allow request for unadvertised object %s\"),",
          "content_same": false
        },
        {
          "line": 142,
          "old_api": null,
          "new_api": "lookup_commit",
          "old_text": null,
          "new_text": "lookup_commit(the_repository, oid)",
          "old_line_content": "\treturn NULL;",
          "new_line_content": "\t\tstruct commit *commit = lookup_commit(the_repository, oid);",
          "content_same": false
        },
        {
          "line": 143,
          "old_api": null,
          "new_api": "repo_parse_commit",
          "old_text": null,
          "new_text": "repo_parse_commit(the_repository, commit)",
          "old_line_content": "}",
          "new_line_content": "\t\tif (!commit || repo_parse_commit(the_repository, commit))",
          "content_same": false
        },
        {
          "line": 154,
          "old_api": null,
          "new_api": "deref_without_lazy_fetch",
          "old_text": null,
          "new_text": "deref_without_lazy_fetch(oid, 0)",
          "old_line_content": "",
          "new_line_content": "\tstruct commit *c = deref_without_lazy_fetch(oid, 0);",
          "content_same": false
        },
        {
          "line": 157,
          "old_api": null,
          "new_api": "add_tip",
          "old_text": null,
          "new_text": "negotiator->add_tip(negotiator, c)",
          "old_line_content": "{",
          "new_line_content": "\t\tnegotiator->add_tip(negotiator, c);",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": null,
          "new_api": "rev_list_insert_ref",
          "old_text": null,
          "new_text": "rev_list_insert_ref(cb_data, oid)",
          "old_line_content": "\tACK_continue,",
          "new_line_content": "\treturn rev_list_insert_ref(cb_data, oid);",
          "content_same": false
        },
        {
          "line": 183,
          "old_api": null,
          "new_api": "packet_reader_read",
          "old_text": null,
          "new_text": "packet_reader_read(reader)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\twhile (packet_reader_read(reader) == PACKET_READ_NORMAL) {",
          "content_same": false
        },
        {
          "line": 184,
          "old_api": null,
          "new_api": "starts_with",
          "old_text": null,
          "new_text": "starts_with(reader->line, \"shallow \")",
          "old_line_content": "\t\tif (reader->status != PACKET_READ_FLUSH)",
          "new_line_content": "\t\t\tif (starts_with(reader->line, \"shallow \"))",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": null,
          "new_api": "starts_with",
          "old_text": null,
          "new_text": "starts_with(reader->line, \"unshallow \")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tif (starts_with(reader->line, \"unshallow \"))",
          "content_same": false
        },
        {
          "line": 188,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"git fetch-pack: expected shallow list\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(_(\"git fetch-pack: expected shallow list\"));",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"git fetch-pack: expected a flush packet after shallow list\")",
          "old_line_content": "{",
          "new_line_content": "\t\t\tdie(_(\"git fetch-pack: expected a flush packet after shallow list\"));",
          "content_same": false
        },
        {
          "line": 202,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"git fetch-pack: expected ACK/NAK, got a flush packet\")",
          "old_line_content": "\t\tconst char *p;",
          "new_line_content": "\t\tdie(_(\"git fetch-pack: expected ACK/NAK, got a flush packet\"));",
          "content_same": false
        },
        {
          "line": 205,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(reader->line, \"NAK\")",
          "old_line_content": "\t\t\tif (len < 1)",
          "new_line_content": "\tif (!strcmp(reader->line, \"NAK\"))",
          "content_same": false
        },
        {
          "line": 213,
          "old_api": null,
          "new_api": "strstr",
          "old_text": null,
          "new_text": "strstr(p, \"continue\")",
          "old_line_content": "\t\t\treturn ACK;",
          "new_line_content": "\t\t\tif (strstr(p, \"continue\"))",
          "content_same": false
        },
        {
          "line": 215,
          "old_api": null,
          "new_api": "strstr",
          "old_text": null,
          "new_text": "strstr(p, \"common\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tif (strstr(p, \"common\"))",
          "content_same": false
        },
        {
          "line": 217,
          "old_api": null,
          "new_api": "strstr",
          "old_text": null,
          "new_text": "strstr(p, \"ready\")",
          "old_line_content": "}",
          "new_line_content": "\t\t\tif (strstr(p, \"ready\"))",
          "content_same": false
        },
        {
          "line": 222,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"git fetch-pack: expected ACK/NAK, got '%s'\")",
          "old_line_content": "\tif (args->stateless_rpc) {",
          "new_line_content": "\tdie(_(\"git fetch-pack: expected ACK/NAK, got '%s'\"), reader->line);",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": null,
          "new_api": "send_sideband",
          "old_text": null,
          "new_text": "send_sideband(fd, -1, buf->buf, buf->len, LARGE_PACKET_MAX)",
          "old_line_content": "}",
          "new_line_content": "\t\tsend_sideband(fd, -1, buf->buf, buf->len, LARGE_PACKET_MAX);",
          "content_same": false
        },
        {
          "line": 230,
          "old_api": null,
          "new_api": "packet_flush",
          "old_text": null,
          "new_text": "packet_flush(fd)",
          "old_line_content": "",
          "new_line_content": "\t\tpacket_flush(fd);",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": null,
          "new_api": "write_in_full",
          "old_text": null,
          "new_text": "write_in_full(fd, buf->buf, buf->len)",
          "old_line_content": "\t\t\t\t\tstruct object *obj)",
          "new_line_content": "\t\tif (write_in_full(fd, buf->buf, buf->len) < 0)",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"unable to write to remote\")",
          "old_line_content": "{",
          "new_line_content": "\t\t\tdie_errno(_(\"unable to write to remote\"));",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": null,
          "new_api": "rev_list_insert_ref",
          "old_text": null,
          "new_text": "rev_list_insert_ref(negotiator, &obj->oid)",
          "old_line_content": "",
          "new_line_content": "\trev_list_insert_ref(negotiator, &obj->oid);",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": null,
          "new_api": "for_each_rawref",
          "old_text": null,
          "new_text": "for_each_rawref(rev_list_insert_ref_oid, negotiator)",
          "old_line_content": "\treturn;",
          "new_line_content": "\t\tfor_each_rawref(rev_list_insert_ref_oid, negotiator);",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": null,
          "new_api": "rev_list_insert_ref",
          "old_text": null,
          "new_text": "rev_list_insert_ref(negotiator, &negotiation_tips->oid[i])",
          "old_line_content": "\t\t       int fd[2], struct object_id *result_oid,",
          "new_line_content": "\t\trev_list_insert_ref(negotiator, &negotiation_tips->oid[i]);",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": null,
          "new_api": "packet_reader_init",
          "old_text": null,
          "new_text": "packet_reader_init(&reader, fd[0], NULL, 0,\n\t\t\t   PACKET_READ_CHOMP_NEWLINE |\n\t\t\t   PACKET_READ_DIE_ON_ERR_PACKET)",
          "old_line_content": "",
          "new_line_content": "\tpacket_reader_init(&reader, fd[0], NULL, 0,",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": null,
          "new_api": "mark_tips",
          "old_text": null,
          "new_text": "mark_tips(negotiator, args->negotiation_tips)",
          "old_line_content": "\t\tconst char *remote_hex;",
          "new_line_content": "\tmark_tips(negotiator, args->negotiation_tips);",
          "content_same": false
        },
        {
          "line": 301,
          "old_api": null,
          "new_api": "for_each_cached_alternate",
          "old_text": null,
          "new_text": "for_each_cached_alternate(negotiator, insert_one_alternate_object)",
          "old_line_content": "\t\tstruct object *o;",
          "new_line_content": "\tfor_each_cached_alternate(negotiator, insert_one_alternate_object);",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": null,
          "new_api": "lookup_object",
          "old_text": null,
          "new_text": "lookup_object(the_repository, remote)",
          "old_line_content": "\t\tif (!fetching) {",
          "new_line_content": "\t\tif (((o = lookup_object(the_repository, remote)) != NULL) &&",
          "content_same": false
        },
        {
          "line": 335,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&c, \" include-tag\")",
          "old_line_content": "\t\t\tif (advertise_sid)",
          "new_line_content": "\t\t\tif (args->include_tag)   strbuf_addstr(&c, \" include-tag\");",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&c, \" deepen-since\")",
          "old_line_content": "\t\t\tif (args->filter_options.choice)",
          "new_line_content": "\t\t\tif (deepen_since_ok)    strbuf_addstr(&c, \" deepen-since\");",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&c, \" filter\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\tstrbuf_addstr(&c, \" filter\");",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&req_buf, \"want %s%s\\n\", remote_hex, c.buf)",
          "old_line_content": "",
          "new_line_content": "\t\t\tpacket_buf_write(&req_buf, \"want %s%s\\n\", remote_hex, c.buf);",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&c)",
          "old_line_content": "\tif (!fetching) {",
          "new_line_content": "\t\t\tstrbuf_release(&c);",
          "content_same": false
        },
        {
          "line": 354,
          "old_api": null,
          "new_api": "packet_flush",
          "old_text": null,
          "new_text": "packet_flush(fd[1])",
          "old_line_content": "\tif (args->depth > 0)",
          "new_line_content": "\t\tpacket_flush(fd[1]);",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": null,
          "new_api": "write_shallow_commits",
          "old_text": null,
          "new_text": "write_shallow_commits(&req_buf, 1, NULL)",
          "old_line_content": "\t}",
          "new_line_content": "\t\twrite_shallow_commits(&req_buf, 1, NULL);",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&req_buf, \"deepen %d\", args->depth)",
          "old_line_content": "\t\tint i;",
          "new_line_content": "\t\tpacket_buf_write(&req_buf, \"deepen %d\", args->depth);",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": null,
          "new_api": "approxidate",
          "old_text": null,
          "new_text": "approxidate(args->deepen_since)",
          "old_line_content": "\t\t\tstruct string_list_item *s = args->deepen_not->items + i;",
          "new_line_content": "\t\ttimestamp_t max_age = approxidate(args->deepen_since);",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": null,
          "new_api": "expand_list_objects_filter_spec",
          "old_text": null,
          "new_text": "expand_list_objects_filter_spec(&args->filter_options)",
          "old_line_content": "\tif (args->deepen) {",
          "new_line_content": "\t\t\texpand_list_objects_filter_spec(&args->filter_options);",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&req_buf, \"filter %s\", spec)",
          "old_line_content": "\t\tconst char *arg;",
          "new_line_content": "\t\tpacket_buf_write(&req_buf, \"filter %s\", spec);",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": null,
          "new_api": "packet_buf_flush",
          "old_text": null,
          "new_text": "packet_buf_flush(&req_buf)",
          "old_line_content": "",
          "new_line_content": "\tpacket_buf_flush(&req_buf);",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": null,
          "new_api": "send_request",
          "old_text": null,
          "new_text": "send_request(args, fd[1], &req_buf)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\tsend_request(args, fd[1], &req_buf);",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": null,
          "new_api": "packet_reader_read",
          "old_text": null,
          "new_text": "packet_reader_read(&reader)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\twhile (packet_reader_read(&reader) == PACKET_READ_NORMAL) {",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"object not found: %s\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\t\t\tdie(_(\"object not found: %s\"), reader.line);",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"error in object: %s\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t\tdie(_(\"error in object: %s\"), reader.line);",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": null,
          "new_api": "unregister_shallow",
          "old_text": null,
          "new_text": "unregister_shallow(&oid)",
          "old_line_content": "\t} else if (!args->stateless_rpc)",
          "new_line_content": "\t\t\t\tif (unregister_shallow(&oid))",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"expected shallow/unshallow, got %s\")",
          "old_line_content": "\t\t/* If we aren't using the stateless-rpc interface",
          "new_line_content": "\t\t\tdie(_(\"expected shallow/unshallow, got %s\"), reader.line);",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": null,
          "new_api": "strbuf_setlen",
          "old_text": null,
          "new_text": "strbuf_setlen(&req_buf, 0)",
          "old_line_content": "\tretval = -1;",
          "new_line_content": "\t\tstrbuf_setlen(&req_buf, 0);",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": null,
          "new_api": "trace2_region_enter",
          "old_text": null,
          "new_text": "trace2_region_enter(\"fetch-pack\", \"negotiation_v0_v1\", the_repository)",
          "old_line_content": "\t\tin_vain++;",
          "new_line_content": "\ttrace2_region_enter(\"fetch-pack\", \"negotiation_v0_v1\", the_repository);",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "negotiator->next(negotiator)",
          "old_line_content": "",
          "new_line_content": "\twhile ((oid = negotiator->next(negotiator))) {",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "packet_buf_flush",
          "old_text": null,
          "new_text": "packet_buf_flush(&req_buf)",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tpacket_buf_flush(&req_buf);",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": null,
          "new_api": "send_request",
          "old_text": null,
          "new_text": "send_request(args, fd[1], &req_buf)",
          "old_line_content": "\t\t\t * We keep one window \"ahead\" of the other side, and",
          "new_line_content": "\t\t\tsend_request(args, fd[1], &req_buf);",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": null,
          "new_api": "strbuf_setlen",
          "old_text": null,
          "new_text": "strbuf_setlen(&req_buf, state_len)",
          "old_line_content": "\t\t\t * will wait for an ACK only on the next one",
          "new_line_content": "\t\t\tstrbuf_setlen(&req_buf, state_len);",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": null,
          "new_api": "next_flush",
          "old_text": null,
          "new_text": "next_flush(args->stateless_rpc, count)",
          "old_line_content": "\t\t\tif (!args->stateless_rpc && count == INITIAL_FLUSH)",
          "new_line_content": "\t\t\tflush_at = next_flush(args->stateless_rpc, count);",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": null,
          "new_api": "consume_shallow_list",
          "old_text": null,
          "new_text": "consume_shallow_list(args, &reader)",
          "old_line_content": "\t\t\t\tswitch (ack) {",
          "new_line_content": "\t\t\tconsume_shallow_list(args, &reader);",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": null,
          "new_api": "get_ack",
          "old_text": null,
          "new_text": "get_ack(&reader, result_oid)",
          "old_line_content": "\t\t\t\t\tflushes = 0;",
          "new_line_content": "\t\t\t\tack = get_ack(&reader, result_oid);",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"got %s %d %s\")",
          "old_line_content": "\t\t\t\t\tretval = 0;",
          "new_line_content": "\t\t\t\t\tprint_verbose(args, _(\"got %s %d %s\"), \"ack\",",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(result_oid)",
          "old_line_content": "\t\t\t\t\tgoto done;",
          "new_line_content": "\t\t\t\t\t\t      ack, oid_to_hex(result_oid));",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(result_oid)",
          "old_line_content": "\t\t\t\t\t\t * on the next RPC request so the peer knows",
          "new_line_content": "\t\t\t\t\t\tdie(_(\"invalid commit %s\"), oid_to_hex(result_oid));",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": null,
          "new_api": "ack",
          "old_text": null,
          "new_text": "negotiator->ack(negotiator, commit)",
          "old_line_content": "\t\t\t\t\t\t * it is in common with us.",
          "new_line_content": "\t\t\t\t\twas_common = negotiator->ack(negotiator, commit);",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(result_oid)",
          "old_line_content": "\t\t\t\t\t\t * seen.",
          "new_line_content": "\t\t\t\t\t\tconst char *hex = oid_to_hex(result_oid);",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&req_buf, \"have %s\\n\", hex)",
          "old_line_content": "\t\t\t\t\t\t */",
          "new_line_content": "\t\t\t\t\t\tpacket_buf_write(&req_buf, \"have %s\\n\", hex);",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"giving up\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\tprint_verbose(args, _(\"giving up\"));",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": null,
          "new_api": "trace2_region_leave",
          "old_text": null,
          "new_text": "trace2_region_leave(\"fetch-pack\", \"negotiation_v0_v1\", the_repository)",
          "old_line_content": "\tif (retval != 0) {",
          "new_line_content": "\ttrace2_region_leave(\"fetch-pack\", \"negotiation_v0_v1\", the_repository);",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&req_buf, \"done\\n\")",
          "old_line_content": "\t\tflushes++;",
          "new_line_content": "\t\tpacket_buf_write(&req_buf, \"done\\n\");",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": null,
          "new_api": "send_request",
          "old_text": null,
          "new_text": "send_request(args, fd[1], &req_buf)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tsend_request(args, fd[1], &req_buf);",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"done\")",
          "old_line_content": "",
          "new_line_content": "\tprint_verbose(args, _(\"done\"));",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&req_buf)",
          "old_line_content": "\t\tif (ack) {",
          "new_line_content": "\tstrbuf_release(&req_buf);",
          "content_same": false
        },
        {
          "line": 514,
          "old_api": null,
          "new_api": "consume_shallow_list",
          "old_text": null,
          "new_text": "consume_shallow_list(args, &reader)",
          "old_line_content": "\t\t\tif (ack == ACK)",
          "new_line_content": "\t\tconsume_shallow_list(args, &reader);",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": null,
          "new_api": "get_ack",
          "old_text": null,
          "new_text": "get_ack(&reader, result_oid)",
          "old_line_content": "\t\t\tmulti_ack = 1;",
          "new_line_content": "\t\tint ack = get_ack(&reader, result_oid);",
          "content_same": false
        },
        {
          "line": 518,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"got %s (%d) %s\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tprint_verbose(args, _(\"got %s (%d) %s\"), \"ack\",",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(result_oid)",
          "old_line_content": "\t\tflushes--;",
          "new_line_content": "\t\t\t\t      ack, oid_to_hex(result_oid));",
          "content_same": false
        },
        {
          "line": 535,
          "old_api": null,
          "new_api": "deref_without_lazy_fetch",
          "old_text": null,
          "new_text": "deref_without_lazy_fetch(oid, 1)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\tstruct commit *commit = deref_without_lazy_fetch(oid, 1);",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": null,
          "new_api": "commit_list_insert",
          "old_text": null,
          "new_text": "commit_list_insert(commit, &complete)",
          "old_line_content": "\t\t\t     int flag, void *cb_data)",
          "new_line_content": "\t\tcommit_list_insert(commit, &complete);",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": null,
          "new_api": "mark_complete",
          "old_text": null,
          "new_text": "mark_complete(oid)",
          "old_line_content": "\twhile (complete && cutoff <= complete->item->date) {",
          "new_line_content": "\treturn mark_complete(oid);",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Marking %s as complete\")",
          "old_line_content": "static void add_refs_to_oidset(struct oidset *oids, struct ref *refs)",
          "new_line_content": "\t\tprint_verbose(args, _(\"Marking %s as complete\"),",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&complete->item->object.oid)",
          "old_line_content": "{",
          "new_line_content": "\t\t\t      oid_to_hex(&complete->item->object.oid));",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": null,
          "new_api": "pop_most_recent_commit",
          "old_text": null,
          "new_text": "pop_most_recent_commit(&complete, COMPLETE)",
          "old_line_content": "\tfor (; refs; refs = refs->next)",
          "new_line_content": "\t\tpop_most_recent_commit(&complete, COMPLETE);",
          "content_same": false
        },
        {
          "line": 563,
          "old_api": null,
          "new_api": "oidset_insert",
          "old_text": null,
          "new_text": "oidset_insert(oids, &refs->old_oid)",
          "old_line_content": "\tconst char *p;",
          "new_line_content": "\t\toidset_insert(oids, &refs->old_oid);",
          "content_same": false
        },
        {
          "line": 571,
          "old_api": null,
          "new_api": "parse_oid_hex",
          "old_text": null,
          "new_text": "parse_oid_hex(ref->name, &oid, &p)",
          "old_line_content": "\t\t\tstruct ref **refs,",
          "new_line_content": "\t\t!parse_oid_hex(ref->name, &oid, &p) &&",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": null,
          "new_api": "oideq",
          "old_text": null,
          "new_text": "oideq(&oid, &ref->old_oid)",
          "old_line_content": "{",
          "new_line_content": "\t\toideq(&oid, &ref->old_oid);",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": null,
          "new_api": "check_refname_format",
          "old_text": null,
          "new_text": "check_refname_format(ref->name, 0)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t    check_refname_format(ref->name, 0)) {",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": null,
          "new_api": "free_one_ref",
          "old_text": null,
          "new_text": "free_one_ref(ref)",
          "old_line_content": "\t\t\t\t\tbreak; /* definitely do not have it */",
          "new_line_content": "\t\t\tfree_one_ref(ref);",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(ref->name, sought[i]->name)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tint cmp = strcmp(ref->name, sought[i]->name);",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": null,
          "new_api": "starts_with",
          "old_text": null,
          "new_text": "starts_with(ref->name, \"refs/tags/\")",
          "old_line_content": "\t\t\tref->next = NULL;",
          "new_line_content": "\t\t\t    (!args->deepen || !starts_with(ref->name, \"refs/tags/\")))",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": null,
          "new_api": "is_unmatched_ref",
          "old_text": null,
          "new_text": "is_unmatched_ref(ref)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tif (!is_unmatched_ref(ref))",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": null,
          "new_api": "add_refs_to_oidset",
          "old_text": null,
          "new_text": "add_refs_to_oidset(&tip_oids, unmatched)",
          "old_line_content": "\t/* Append unmatched requests to the list */",
          "new_line_content": "\t\t\tadd_refs_to_oidset(&tip_oids, unmatched);",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "add_refs_to_oidset",
          "old_text": null,
          "new_text": "add_refs_to_oidset(&tip_oids, newlist)",
          "old_line_content": "\tfor (i = 0; i < nr_sought; i++) {",
          "new_line_content": "\t\t\tadd_refs_to_oidset(&tip_oids, newlist);",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": null,
          "new_api": "is_unmatched_ref",
          "old_text": null,
          "new_text": "is_unmatched_ref(ref)",
          "old_line_content": "\t\t\tnewtail = &(*newtail)->next;",
          "new_line_content": "\t\tif (!is_unmatched_ref(ref))",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": null,
          "new_api": "oidset_contains",
          "old_text": null,
          "new_text": "oidset_contains(&tip_oids, &ref->old_oid)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (!strict || oidset_contains(&tip_oids, &ref->old_oid)) {",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": null,
          "new_api": "copy_ref",
          "old_text": null,
          "new_text": "copy_ref(ref)",
          "old_line_content": "",
          "new_line_content": "\t\t\t*newtail = copy_ref(ref);",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "oidset_clear",
          "old_text": null,
          "new_text": "oidset_clear(&tip_oids)",
          "old_line_content": "static void mark_alternate_complete(struct fetch_negotiator *unused,",
          "new_line_content": "\toidset_clear(&tip_oids);",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": null,
          "new_api": "free_refs",
          "old_text": null,
          "new_text": "free_refs(unmatched)",
          "old_line_content": "\t\t\t\t    struct object *obj)",
          "new_line_content": "\tfree_refs(unmatched);",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": null,
          "new_api": "mark_complete",
          "old_text": null,
          "new_text": "mark_complete(&obj->oid)",
          "old_line_content": "};",
          "new_line_content": "\tmark_complete(&obj->oid);",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": null,
          "new_api": "trace2_region_enter",
          "old_text": null,
          "new_text": "trace2_region_enter(\"fetch-pack\", \"parse_remote_refs_and_find_cutoff\", NULL)",
          "old_line_content": "\t\t\t\t\t\t\tOBJECT_INFO_SKIP_FETCH_OBJECT))",
          "new_line_content": "\ttrace2_region_enter(\"fetch-pack\", \"parse_remote_refs_and_find_cutoff\", NULL);",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": null,
          "new_api": "has_object_file_with_flags",
          "old_text": null,
          "new_text": "has_object_file_with_flags(&ref->old_oid,\n\t\t\t\t\t\tOBJECT_INFO_QUICK |\n\t\t\t\t\t\t\tOBJECT_INFO_SKIP_FETCH_OBJECT)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tif (!has_object_file_with_flags(&ref->old_oid,",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": null,
          "new_api": "parse_object",
          "old_text": null,
          "new_text": "parse_object(the_repository, &ref->old_oid)",
          "old_line_content": "\t\t * in sync with the other side at some time after",
          "new_line_content": "\t\to = parse_object(the_repository, &ref->old_oid);",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": null,
          "new_api": "for_each_cached_alternate",
          "old_text": null,
          "new_text": "for_each_cached_alternate(NULL, mark_alternate_complete)",
          "old_line_content": "",
          "new_line_content": "\t\tfor_each_cached_alternate(NULL, mark_alternate_complete);",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": null,
          "new_api": "commit_list_sort_by_date",
          "old_text": null,
          "new_text": "commit_list_sort_by_date(&complete)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\tcommit_list_sort_by_date(&complete);",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": null,
          "new_api": "mark_recent_complete_commits",
          "old_text": null,
          "new_text": "mark_recent_complete_commits(args, cutoff)",
          "old_line_content": "\t * Don't mark them common yet; the server has to be told so first.",
          "new_line_content": "\t\t\tmark_recent_complete_commits(args, cutoff);",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "trace2_region_enter",
          "old_text": null,
          "new_text": "trace2_region_enter(\"fetch-pack\", \"mark_common_remote_refs\", NULL)",
          "old_line_content": "",
          "new_line_content": "\ttrace2_region_enter(\"fetch-pack\", \"mark_common_remote_refs\", NULL);",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": null,
          "new_api": "deref_without_lazy_fetch",
          "old_text": null,
          "new_text": "deref_without_lazy_fetch(&ref->old_oid, 0)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstruct commit *c = deref_without_lazy_fetch(&ref->old_oid, 0);",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": null,
          "new_api": "known_common",
          "old_text": null,
          "new_text": "negotiator->known_common(negotiator, c)",
          "old_line_content": "",
          "new_line_content": "\t\tnegotiator->known_common(negotiator, c);",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": null,
          "new_api": "trace2_region_leave",
          "old_text": null,
          "new_text": "trace2_region_leave(\"fetch-pack\", \"mark_common_remote_refs\", NULL)",
          "old_line_content": " * Returns 1 if every object pointed to by the given remote refs is available",
          "new_line_content": "\ttrace2_region_leave(\"fetch-pack\", \"mark_common_remote_refs\", NULL);",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": null,
          "new_api": "lookup_object",
          "old_text": null,
          "new_text": "lookup_object(the_repository, remote)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\to = lookup_object(the_repository, remote);",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(remote)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tprint_verbose(args, \"want %s (%s)\", oid_to_hex(remote),",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(remote)",
          "old_line_content": "",
          "new_line_content": "\t\tprint_verbose(args, _(\"already have %s (%s)\"), oid_to_hex(remote),",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": null,
          "new_api": "recv_sideband",
          "old_text": null,
          "new_text": "recv_sideband(\"fetch-pack\", xd[0], out)",
          "old_line_content": "\t\t\t\t struct ref **sought, int nr_sought)",
          "new_line_content": "\tret = recv_sideband(\"fetch-pack\", xd[0], out);",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(out)",
          "old_line_content": "{",
          "new_line_content": "\tclose(out);",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&promisor_name, keep_name)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_addstr(&promisor_name, keep_name);",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&promisor_name, \".promisor\")",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_addstr(&promisor_name, \".promisor\");",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": null,
          "new_api": "write_promisor_file",
          "old_text": null,
          "new_text": "write_promisor_file(promisor_name.buf, sought, nr_sought)",
          "old_line_content": "{",
          "new_line_content": "\twrite_promisor_file(promisor_name.buf, sought, nr_sought);",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&promisor_name)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&promisor_name);",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": null,
          "new_api": "read_in_full",
          "old_text": null,
          "new_text": "read_in_full(fd, hex_hash, len)",
          "old_line_content": "\t\tif (read_len != len)",
          "new_line_content": "\t\tint read_len = read_in_full(fd, hex_hash, len);",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"invalid length read %d\", read_len)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"invalid length read %d\", read_len);",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": null,
          "new_api": "parse_oid_hex",
          "old_text": null,
          "new_text": "parse_oid_hex(hex_hash, &oid, &end)",
          "old_line_content": "/*",
          "new_line_content": "\t\tif (parse_oid_hex(hex_hash, &oid, &end) || *end != '\\n')",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"invalid hash\")",
          "old_line_content": " * If packfile URIs were provided, pass a non-NULL pointer to index_pack_args.",
          "new_line_content": "\t\t\tdie(\"invalid hash\");",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": null,
          "new_api": "oidset_insert",
          "old_text": null,
          "new_text": "oidset_insert(gitmodules_oids, &oid)",
          "old_line_content": " * The strings to pass as the --index-pack-arg arguments to http-fetch will be",
          "new_line_content": "\t\toidset_insert(gitmodules_oids, &oid);",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&demux, 0, sizeof(demux))",
          "old_line_content": "\t\tdemux.proc = sideband_demux;",
          "new_line_content": "\tmemset(&demux, 0, sizeof(demux));",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": null,
          "new_api": "start_async",
          "old_text": null,
          "new_text": "start_async(&demux)",
          "old_line_content": "\tif (!args->keep_pack && unpack_limit && !index_pack_args) {",
          "new_line_content": "\t\tif (start_async(&demux))",
          "content_same": false
        },
        {
          "line": 855,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"fetch-pack: unable to fork off sideband demultiplexer\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(_(\"fetch-pack: unable to fork off sideband demultiplexer\"));",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": null,
          "new_api": "read_pack_header",
          "old_text": null,
          "new_text": "read_pack_header(demux.out, &header)",
          "old_line_content": "\t\t\tdo_keep = 1;",
          "new_line_content": "\t\tif (read_pack_header(demux.out, &header))",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"protocol error: bad pack header\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tdie(_(\"protocol error: bad pack header\"));",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(header.hdr_entries)",
          "old_line_content": "\tif (alternate_shallow_file) {",
          "new_line_content": "\t\tif (ntohl(header.hdr_entries) < unpack_limit)",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&cmd.args, \"--shallow-file\")",
          "old_line_content": "\t    : transfer_fsck_objects >= 0",
          "new_line_content": "\t\tstrvec_push(&cmd.args, \"--shallow-file\");",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&cmd.args, alternate_shallow_file)",
          "old_line_content": "\t    ? transfer_fsck_objects",
          "new_line_content": "\t\tstrvec_push(&cmd.args, alternate_shallow_file);",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&cmd.args, cmd_name)",
          "old_line_content": "\t\tif ((do_keep || index_pack_args) && (args->lock_pack || unpack_limit)) {",
          "new_line_content": "\t\tstrvec_push(&cmd.args, cmd_name);",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&cmd.args, \"--stdin\")",
          "old_line_content": "\t\t\tchar hostname[HOST_NAME_MAX + 1];",
          "new_line_content": "\t\tstrvec_push(&cmd.args, \"--stdin\");",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&cmd.args, \"--fix-thin\")",
          "old_line_content": "\t\t\t\t     \"--keep=fetch-pack %\"PRIuMAX \" on %s\",",
          "new_line_content": "\t\t\tstrvec_push(&cmd.args, \"--fix-thin\");",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": null,
          "new_api": "xgethostname",
          "old_text": null,
          "new_text": "xgethostname(hostname, sizeof(hostname))",
          "old_line_content": "\t\tif (!index_pack_args && args->check_self_contained_and_connected)",
          "new_line_content": "\t\t\tif (xgethostname(hostname, sizeof(hostname)))",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&cmd.args,\n\t\t\t\t     \"--keep=fetch-pack %\"PRIuMAX \" on %s\",\n\t\t\t\t     (uintmax_t)getpid(), hostname)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\t\tstrvec_pushf(&cmd.args,",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": null,
          "new_api": "getpid",
          "old_text": null,
          "new_text": "getpid()",
          "old_line_content": "\t\t\t * We cannot perform any connectivity checks because",
          "new_line_content": "\t\t\t\t     (uintmax_t)getpid(), hostname);",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&cmd.args, \"--check-self-contained-and-connected\")",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\tstrvec_push(&cmd.args, \"--check-self-contained-and-connected\");",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&cmd.args, cmd_name)",
          "old_line_content": "\tif (pass_header)",
          "new_line_content": "\t\tstrvec_push(&cmd.args, cmd_name);",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&cmd.args, \"--pack_header=%\"PRIu32\",%\"PRIu32,\n\t\t\t     ntohl(header.hdr_version),\n\t\t\t\t ntohl(header.hdr_entries))",
          "old_line_content": "\t\t\t * We cannot use --strict in index-pack because it",
          "new_line_content": "\t\tstrvec_pushf(&cmd.args, \"--pack_header=%\"PRIu32\",%\"PRIu32,",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(header.hdr_version)",
          "old_line_content": "\t\t\t * checks both broken objects and links, but we only",
          "new_line_content": "\t\t\t     ntohl(header.hdr_version),",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(header.hdr_entries)",
          "old_line_content": "\t\t\t * want to check for broken objects.",
          "new_line_content": "\t\t\t\t ntohl(header.hdr_entries));",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&cmd.args, \"--fsck-objects\")",
          "old_line_content": "\tif (index_pack_args) {",
          "new_line_content": "\t\t\tstrvec_push(&cmd.args, \"--fsck-objects\");",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&cmd.args, \"--strict%s\",\n\t\t\t\t     fsck_msg_types.buf)",
          "old_line_content": "",
          "new_line_content": "\t\t\tstrvec_pushf(&cmd.args, \"--strict%s\",",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": null,
          "new_api": "start_command",
          "old_text": null,
          "new_text": "start_command(&cmd)",
          "old_line_content": "\t\tif (!is_well_formed)",
          "new_line_content": "\tif (start_command(&cmd))",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"fetch-pack: invalid index-pack output\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(_(\"fetch-pack: invalid index-pack output\"));",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": null,
          "new_api": "string_list_append_nodup",
          "old_text": null,
          "new_text": "string_list_append_nodup(pack_lockfiles, pack_lockfile)",
          "old_line_content": "\t\t/* Closed by start_command() */",
          "new_line_content": "\t\t\tstring_list_append_nodup(pack_lockfiles, pack_lockfile);",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": null,
          "new_api": "parse_gitmodules_oids",
          "old_text": null,
          "new_text": "parse_gitmodules_oids(cmd.out, gitmodules_oids)",
          "old_line_content": "\t\txd[0] = -1;",
          "new_line_content": "\t\tparse_gitmodules_oids(cmd.out, gitmodules_oids);",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(cmd.out)",
          "old_line_content": "",
          "new_line_content": "\t\tclose(cmd.out);",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"%s failed\")",
          "old_line_content": "\t * obtained .keep filename if necessary",
          "new_line_content": "\t\tdie(_(\"%s failed\"), cmd_name);",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": null,
          "new_api": "finish_async",
          "old_text": null,
          "new_text": "finish_async(&demux)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (use_sideband && finish_async(&demux))",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"error in sideband demultiplexer\")",
          "old_line_content": "\tif (do_keep && pack_lockfiles && pack_lockfiles->nr && args->from_promisor)",
          "new_line_content": "\t\tdie(_(\"error in sideband demultiplexer\"));",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": null,
          "new_api": "create_promisor_file",
          "old_text": null,
          "new_text": "create_promisor_file(pack_lockfiles->items[0].string, sought, nr_sought)",
          "old_line_content": "{",
          "new_line_content": "\t\tcreate_promisor_file(pack_lockfiles->items[0].string, sought, nr_sought);",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(a->name, b->name)",
          "old_line_content": "\t\t\t\t struct ref **sought, int nr_sought,",
          "new_line_content": "\treturn strcmp(a->name, b->name);",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": null,
          "new_api": "copy_ref_list",
          "old_text": null,
          "new_text": "copy_ref_list(orig_ref)",
          "old_line_content": "",
          "new_line_content": "\tstruct ref *ref = copy_ref_list(orig_ref);",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": null,
          "new_api": "fetch_negotiator_init",
          "old_text": null,
          "new_text": "fetch_negotiator_init(r, negotiator)",
          "old_line_content": "\t\tagent_supported = 1;",
          "new_line_content": "\tfetch_negotiator_init(r, negotiator);",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": null,
          "new_api": "QSORT",
          "old_text": null,
          "new_text": "QSORT(sought, nr_sought, cmp_ref_by_name)",
          "old_line_content": "\t\t\t\t      agent_len, agent_feature);",
          "new_line_content": "\tQSORT(sought, nr_sought, cmp_ref_by_name);",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": null,
          "new_api": "server_feature_value",
          "old_text": null,
          "new_text": "server_feature_value(\"agent\", &agent_len)",
          "old_line_content": "",
          "new_line_content": "\tif ((agent_feature = server_feature_value(\"agent\", &agent_len))) {",
          "content_same": false
        },
        {
          "line": 1025,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server version is %.*s\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tprint_verbose(args, _(\"Server version is %.*s\"),",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": null,
          "new_api": "is_repository_shallow",
          "old_text": null,
          "new_text": "is_repository_shallow(r)",
          "old_line_content": "\t\tmulti_ack = 2;",
          "new_line_content": "\telse if (args->depth > 0 || is_repository_shallow(r))",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": null,
          "new_api": "server_supports",
          "old_text": null,
          "new_text": "server_supports(\"multi_ack_detailed\")",
          "old_line_content": "\t\t\t\tno_done = 1;",
          "new_line_content": "\tif (server_supports(\"multi_ack_detailed\")) {",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server supports %s\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"multi_ack_detailed\");",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": null,
          "new_api": "server_supports",
          "old_text": null,
          "new_text": "server_supports(\"multi_ack\")",
          "old_line_content": "\t\tuse_sideband = 2;",
          "new_line_content": "\telse if (server_supports(\"multi_ack\")) {",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server supports %s\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"multi_ack\");",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": null,
          "new_api": "server_supports",
          "old_text": null,
          "new_text": "server_supports(\"side-band-64k\")",
          "old_line_content": "\t\tuse_sideband = 1;",
          "new_line_content": "\tif (server_supports(\"side-band-64k\")) {",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server supports %s\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"side-band-64k\");",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": null,
          "new_api": "server_supports",
          "old_text": null,
          "new_text": "server_supports(\"side-band\")",
          "old_line_content": "\t\tallow_unadvertised_object_request |= ALLOW_TIP_SHA1;",
          "new_line_content": "\telse if (server_supports(\"side-band\")) {",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server supports %s\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"side-band\");",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": null,
          "new_api": "server_supports",
          "old_text": null,
          "new_text": "server_supports(\"allow-tip-sha1-in-want\")",
          "old_line_content": "\t\tallow_unadvertised_object_request |= ALLOW_REACHABLE_SHA1;",
          "new_line_content": "\tif (server_supports(\"allow-tip-sha1-in-want\")) {",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server supports %s\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"allow-tip-sha1-in-want\");",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "server_supports",
          "old_text": null,
          "new_text": "server_supports(\"allow-reachable-sha1-in-want\")",
          "old_line_content": "\telse",
          "new_line_content": "\tif (server_supports(\"allow-reachable-sha1-in-want\")) {",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server supports %s\")",
          "old_line_content": "\t\targs->use_thin_pack = 0;",
          "new_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"allow-reachable-sha1-in-want\");",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": null,
          "new_api": "server_supports",
          "old_text": null,
          "new_text": "server_supports(\"thin-pack\")",
          "old_line_content": "\telse",
          "new_line_content": "\tif (server_supports(\"thin-pack\"))",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server supports %s\")",
          "old_line_content": "\t\targs->no_progress = 0;",
          "new_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"thin-pack\");",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": null,
          "new_api": "server_supports",
          "old_text": null,
          "new_text": "server_supports(\"no-progress\")",
          "old_line_content": "\telse",
          "new_line_content": "\tif (server_supports(\"no-progress\"))",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server supports %s\")",
          "old_line_content": "\t\targs->include_tag = 0;",
          "new_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"no-progress\");",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": null,
          "new_api": "server_supports",
          "old_text": null,
          "new_text": "server_supports(\"include-tag\")",
          "old_line_content": "\telse",
          "new_line_content": "\tif (server_supports(\"include-tag\"))",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server supports %s\")",
          "old_line_content": "\t\tprefer_ofs_delta = 0;",
          "new_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"include-tag\");",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": null,
          "new_api": "server_supports",
          "old_text": null,
          "new_text": "server_supports(\"ofs-delta\")",
          "old_line_content": "\t\tserver_supports_filtering = 1;",
          "new_line_content": "\tif (server_supports(\"ofs-delta\"))",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": null,
          "new_api": "server_supports",
          "old_text": null,
          "new_text": "server_supports(\"filter\")",
          "old_line_content": "",
          "new_line_content": "\tif (server_supports(\"filter\")) {",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"filtering not recognized by server, ignoring\")",
          "old_line_content": "\t} else if (args->deepen_since)",
          "new_line_content": "\t\twarning(\"filtering not recognized by server, ignoring\");",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server supports %s\")",
          "old_line_content": "\t\tdeepen_not_ok = 1;",
          "new_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"deepen-since\");",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server supports %s\")",
          "old_line_content": "\telse if (args->deepen_relative)",
          "new_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"deepen-not\");",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "server_supports",
          "old_text": null,
          "new_text": "server_supports(\"deepen-relative\")",
          "old_line_content": "",
          "new_line_content": "\tif (server_supports(\"deepen-relative\"))",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Server does not support this repository's object format\")",
          "old_line_content": "\t\tgoto all_done;",
          "new_line_content": "\t\tdie(_(\"Server does not support this repository's object format\"));",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": null,
          "new_api": "filter_refs",
          "old_text": null,
          "new_text": "filter_refs(args, &ref, sought, nr_sought)",
          "old_line_content": "\t\tif (!args->keep_pack)",
          "new_line_content": "\tfilter_refs(args, &ref, sought, nr_sought);",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": null,
          "new_api": "everything_local",
          "old_text": null,
          "new_text": "everything_local(args, &ref)",
          "old_line_content": "\t\t\t/* When cloning, it is not unusual to have",
          "new_line_content": "\tif (everything_local(args, &ref)) {",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": null,
          "new_api": "packet_flush",
          "old_text": null,
          "new_text": "packet_flush(fd[1])",
          "old_line_content": "\t\t\t * no common commit.",
          "new_line_content": "\t\tpacket_flush(fd[1]);",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": null,
          "new_api": "find_common",
          "old_text": null,
          "new_text": "find_common(negotiator, args, fd, &oid, ref)",
          "old_line_content": "",
          "new_line_content": "\tif (find_common(negotiator, args, fd, &oid, ref) < 0)",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"no common commits\")",
          "old_line_content": "\t\t\t\t\tNULL);",
          "new_line_content": "\t\t\twarning(_(\"no common commits\"));",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": null,
          "new_api": "setup_alternate_shallow",
          "old_text": null,
          "new_text": "setup_alternate_shallow(&shallow_lock, &alternate_shallow_file,\n\t\t\t\t\tNULL)",
          "old_line_content": "\t} else",
          "new_line_content": "\t\tsetup_alternate_shallow(&shallow_lock, &alternate_shallow_file,",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": null,
          "new_api": "get_pack",
          "old_text": null,
          "new_text": "get_pack(args, fd, pack_lockfiles, NULL, sought, nr_sought,\n\t\t     &fsck_options.gitmodules_found)",
          "old_line_content": " all_done:",
          "new_line_content": "\tif (get_pack(args, fd, pack_lockfiles, NULL, sought, nr_sought,",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": null,
          "new_api": "fsck_finish",
          "old_text": null,
          "new_text": "fsck_finish(&fsck_options)",
          "old_line_content": "\treturn ref;",
          "new_line_content": "\tif (fsck_finish(&fsck_options))",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"fsck failed\")",
          "old_line_content": "}",
          "new_line_content": "\t\tdie(\"fsck failed\");",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": null,
          "new_api": "release",
          "old_text": null,
          "new_text": "negotiator->release(negotiator)",
          "old_line_content": "{",
          "new_line_content": "\t\tnegotiator->release(negotiator);",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": null,
          "new_api": "write_shallow_commits",
          "old_text": null,
          "new_text": "write_shallow_commits(req_buf, 1, NULL)",
          "old_line_content": "\t}",
          "new_line_content": "\t\twrite_shallow_commits(req_buf, 1, NULL);",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(req_buf, \"deepen %d\", args->depth)",
          "old_line_content": "\t\tint i;",
          "new_line_content": "\t\tpacket_buf_write(req_buf, \"deepen %d\", args->depth);",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": null,
          "new_api": "approxidate",
          "old_text": null,
          "new_text": "approxidate(args->deepen_since)",
          "old_line_content": "\t\t\tstruct string_list_item *s = args->deepen_not->items + i;",
          "new_line_content": "\t\ttimestamp_t max_age = approxidate(args->deepen_since);",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(req_buf, \"deepen-not %s\", s->string)",
          "old_line_content": "",
          "new_line_content": "\t\t\tpacket_buf_write(req_buf, \"deepen-not %s\", s->string);",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(req_buf, \"deepen-relative\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\tpacket_buf_write(req_buf, \"deepen-relative\\n\");",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "server_supports_feature",
          "old_text": null,
          "new_text": "server_supports_feature(\"fetch\", \"ref-in-want\", 0)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\tint use_ref_in_want = server_supports_feature(\"fetch\", \"ref-in-want\", 0);",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(remote)",
          "old_line_content": "static void add_common(struct strbuf *req_buf, struct oidset *common)",
          "new_line_content": "\t\t\tpacket_buf_write(req_buf, \"want %s\\n\", oid_to_hex(remote));",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(req_buf, \"want-ref %s\\n\", wants->name)",
          "old_line_content": "\tstruct oidset_iter iter;",
          "new_line_content": "\t\t\tpacket_buf_write(req_buf, \"want-ref %s\\n\", wants->name);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "oidset_iter_init",
          "old_text": null,
          "new_text": "oidset_iter_init(common, &iter)",
          "old_line_content": "",
          "new_line_content": "\toidset_iter_init(common, &iter);",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": null,
          "new_api": "oidset_iter_next",
          "old_text": null,
          "new_text": "oidset_iter_next(&iter)",
          "old_line_content": "\t\t     struct strbuf *req_buf,",
          "new_line_content": "\twhile ((oid = oidset_iter_next(&iter))) {",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(oid)",
          "old_line_content": "\t\t     int *haves_to_send)",
          "new_line_content": "\t\tpacket_buf_write(req_buf, \"have %s\\n\", oid_to_hex(oid));",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "negotiator->next(negotiator)",
          "old_line_content": "\t/* Increase haves to send on next round */",
          "new_line_content": "\twhile ((oid = negotiator->next(negotiator))) {",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": null,
          "new_api": "next_flush",
          "old_text": null,
          "new_text": "next_flush(1, *haves_to_send)",
          "old_line_content": "\t\t\t\t\t\t const struct string_list *server_options)",
          "new_line_content": "\t*haves_to_send = next_flush(1, *haves_to_send);",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": null,
          "new_api": "server_supports_v2",
          "old_text": null,
          "new_text": "server_supports_v2(\"fetch\", 1)",
          "old_line_content": "\tif (server_options && server_options->nr &&",
          "new_line_content": "\tif (server_supports_v2(\"fetch\", 1))",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": null,
          "new_api": "server_supports_v2",
          "old_text": null,
          "new_text": "server_supports_v2(\"agent\", 0)",
          "old_line_content": "\t\tint i;",
          "new_line_content": "\tif (server_supports_v2(\"agent\", 0))",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": null,
          "new_api": "git_user_agent_sanitized",
          "old_text": null,
          "new_text": "git_user_agent_sanitized()",
          "old_line_content": "\t\tfor (i = 0; i < server_options->nr; i++)",
          "new_line_content": "\t\tpacket_buf_write(req_buf, \"agent=%s\", git_user_agent_sanitized());",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": null,
          "new_api": "trace2_session_id",
          "old_text": null,
          "new_text": "trace2_session_id()",
          "old_line_content": "\t\t\t\t\t server_options->items[i].string);",
          "new_line_content": "\t\tpacket_buf_write(req_buf, \"session-id=%s\", trace2_session_id());",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": null,
          "new_api": "server_supports_v2",
          "old_text": null,
          "new_text": "server_supports_v2(\"server-option\", 1)",
          "old_line_content": "",
          "new_line_content": "\t    server_supports_v2(\"server-option\", 1)) {",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": null,
          "new_api": "hash_algo_by_ptr",
          "old_text": null,
          "new_text": "hash_algo_by_ptr(the_hash_algo)",
          "old_line_content": "\t\t    the_hash_algo->name);",
          "new_line_content": "\t\tif (hash_algo_by_ptr(the_hash_algo) != hash_algo)",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"mismatched algorithms: client %s; server %s\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tdie(_(\"mismatched algorithms: client %s; server %s\"),",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(req_buf, \"object-format=%s\", the_hash_algo->name)",
          "old_line_content": "}",
          "new_line_content": "\t\tpacket_buf_write(req_buf, \"object-format=%s\", the_hash_algo->name);",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": null,
          "new_api": "hash_algo_by_ptr",
          "old_text": null,
          "new_text": "hash_algo_by_ptr(the_hash_algo)",
          "old_line_content": "",
          "new_line_content": "\t} else if (hash_algo_by_ptr(the_hash_algo) != GIT_HASH_SHA1) {",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"the server does not support algorithm '%s'\")",
          "old_line_content": "static int send_fetch_request(struct fetch_negotiator *negotiator, int fd_out,",
          "new_line_content": "\t\tdie(_(\"the server does not support algorithm '%s'\"),",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": null,
          "new_api": "packet_buf_delim",
          "old_text": null,
          "new_text": "packet_buf_delim(req_buf)",
          "old_line_content": "\t\t\t      int *haves_to_send, int *in_vain,",
          "new_line_content": "\tpacket_buf_delim(req_buf);",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": null,
          "new_api": "write_fetch_command_and_capabilities",
          "old_text": null,
          "new_text": "write_fetch_command_and_capabilities(&req_buf, args->server_options)",
          "old_line_content": "\tif (args->include_tag)",
          "new_line_content": "\twrite_fetch_command_and_capabilities(&req_buf, args->server_options);",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&req_buf, \"include-tag\")",
          "old_line_content": "\t/* Add shallow-info and deepen request */",
          "new_line_content": "\t\tpacket_buf_write(&req_buf, \"include-tag\");",
          "content_same": false
        },
        {
          "line": 1283,
          "old_api": null,
          "new_api": "add_shallow_requests",
          "old_text": null,
          "new_text": "add_shallow_requests(&req_buf, args)",
          "old_line_content": "\t    args->filter_options.choice) {",
          "new_line_content": "\t\tadd_shallow_requests(&req_buf, args);",
          "content_same": false
        },
        {
          "line": 1284,
          "old_api": null,
          "new_api": "is_repository_shallow",
          "old_text": null,
          "new_text": "is_repository_shallow(the_repository)",
          "old_line_content": "\t\tconst char *spec =",
          "new_line_content": "\telse if (is_repository_shallow(the_repository) || args->deepen)",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": null,
          "new_api": "server_supports_feature",
          "old_text": null,
          "new_text": "server_supports_feature(\"fetch\", \"filter\", 0)",
          "old_line_content": "\t} else if (args->filter_options.choice) {",
          "new_line_content": "\tif (server_supports_feature(\"fetch\", \"filter\", 0) &&",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": null,
          "new_api": "expand_list_objects_filter_spec",
          "old_text": null,
          "new_text": "expand_list_objects_filter_spec(&args->filter_options)",
          "old_line_content": "",
          "new_line_content": "\t\t\texpand_list_objects_filter_spec(&args->filter_options);",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&req_buf, \"filter %s\", spec)",
          "old_line_content": "\t\tint i;",
          "new_line_content": "\t\tpacket_buf_write(&req_buf, \"filter %s\", spec);",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"filtering not recognized by server, ignoring\")",
          "old_line_content": "",
          "new_line_content": "\t\twarning(\"filtering not recognized by server, ignoring\");",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": null,
          "new_api": "server_supports_feature",
          "old_text": null,
          "new_text": "server_supports_feature(\"fetch\", \"packfile-uris\", 0)",
          "old_line_content": "",
          "new_line_content": "\tif (server_supports_feature(\"fetch\", \"packfile-uris\", 0)) {",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(s, \"http\")",
          "old_line_content": "\t\tif (to_send.len) {",
          "new_line_content": "\t\t\tif (!strcmp(s, \"https\") || !strcmp(s, \"http\")) {",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": null,
          "new_api": "strbuf_addch",
          "old_text": null,
          "new_text": "strbuf_addch(&to_send, ',')",
          "old_line_content": "\t\t\t\t\t to_send.buf);",
          "new_line_content": "\t\t\t\t\tstrbuf_addch(&to_send, ',');",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&req_buf, \"packfile-uris %s\",\n\t\t\t\t\t to_send.buf)",
          "old_line_content": "\t/* add wants */",
          "new_line_content": "\t\t\tpacket_buf_write(&req_buf, \"packfile-uris %s\",",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&to_send)",
          "old_line_content": "",
          "new_line_content": "\t\t\tstrbuf_release(&to_send);",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": null,
          "new_api": "add_wants",
          "old_text": null,
          "new_text": "add_wants(wants, &req_buf)",
          "old_line_content": "\t*in_vain += haves_added;",
          "new_line_content": "\tadd_wants(wants, &req_buf);",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": null,
          "new_api": "add_haves",
          "old_text": null,
          "new_text": "add_haves(negotiator, &req_buf, haves_to_send)",
          "old_line_content": "\t}",
          "new_line_content": "\thaves_added = add_haves(negotiator, &req_buf, haves_to_send);",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": null,
          "new_api": "packet_buf_flush",
          "old_text": null,
          "new_text": "packet_buf_flush(&req_buf)",
          "old_line_content": "}",
          "new_line_content": "\tpacket_buf_flush(&req_buf);",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": null,
          "new_api": "write_in_full",
          "old_text": null,
          "new_text": "write_in_full(fd_out, req_buf.buf, req_buf.len)",
          "old_line_content": "",
          "new_line_content": "\tif (write_in_full(fd_out, req_buf.buf, req_buf.len) < 0)",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"unable to write request to remote\")",
          "old_line_content": "/*",
          "new_line_content": "\t\tdie_errno(_(\"unable to write request to remote\"));",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&req_buf)",
          "old_line_content": " * `section`.  If the value of `peek` is 1, the header line will be peeked (and",
          "new_line_content": "\tstrbuf_release(&req_buf);",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "packet_reader_peek",
          "old_text": null,
          "new_text": "packet_reader_peek(reader)",
          "old_line_content": "\t\tif (!ret)",
          "new_line_content": "\tif (packet_reader_peek(reader) != PACKET_READ_NORMAL)",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"expected '%s', received '%s'\")",
          "old_line_content": "}",
          "new_line_content": "\t\t\tdie(_(\"expected '%s', received '%s'\"),",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": null,
          "new_api": "packet_reader_read",
          "old_text": null,
          "new_text": "packet_reader_read(reader)",
          "old_line_content": "static int process_ack(struct fetch_negotiator *negotiator,",
          "new_line_content": "\t\tpacket_reader_read(reader);",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": null,
          "new_api": "skip_prefix",
          "old_text": null,
          "new_text": "skip_prefix(reader->line, \"ACK \", &arg)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\tif (skip_prefix(reader->line, \"ACK \", &arg)) {",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": null,
          "new_api": "get_oid_hex",
          "old_text": null,
          "new_text": "get_oid_hex(arg, common_oid)",
          "old_line_content": "\t\t\treturn 1;",
          "new_line_content": "\t\t\tif (!get_oid_hex(arg, common_oid)) {",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": null,
          "new_api": "lookup_commit",
          "old_text": null,
          "new_text": "lookup_commit(the_repository, common_oid)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tcommit = lookup_commit(the_repository, common_oid);",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": null,
          "new_api": "ack",
          "old_text": null,
          "new_text": "negotiator->ack(negotiator, commit)",
          "old_line_content": "\t\t\t*received_ready = 1;",
          "new_line_content": "\t\t\t\t\tnegotiator->ack(negotiator, commit);",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(reader->line, \"ready\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (!strcmp(reader->line, \"ready\")) {",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"unexpected acknowledgment line: '%s'\")",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"unexpected acknowledgment line: '%s'\"), reader->line);",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"error processing acks: %d\")",
          "old_line_content": "\t * sent. Therefore, a DELIM is expected if \"ready\" is sent, and a FLUSH",
          "new_line_content": "\t\tdie(_(\"error processing acks: %d\"), reader->status);",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"expected packfile to be sent after 'ready'\")",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"expected packfile to be sent after 'ready'\"));",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"expected no other sections to be sent after no 'ready'\")",
          "old_line_content": "\t\t\t\t struct packet_reader *reader,",
          "new_line_content": "\t\tdie(_(\"expected no other sections to be sent after no 'ready'\"));",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"object not found: %s\")",
          "old_line_content": "\t\t\tunshallow_received = 1;",
          "new_line_content": "\t\t\t\tdie(_(\"object not found: %s\"), reader->line);",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": null,
          "new_api": "parse_object",
          "old_text": null,
          "new_text": "parse_object(the_repository, &oid)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tif (!parse_object(the_repository, &oid))",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": null,
          "new_api": "unregister_shallow",
          "old_text": null,
          "new_text": "unregister_shallow(&oid)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tif (unregister_shallow(&oid))",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"no shallow found: %s\")",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tdie(_(\"no shallow found: %s\"), reader->line);",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"expected shallow/unshallow, got %s\")",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"expected shallow/unshallow, got %s\"), reader->line);",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"error processing shallow info: %d\")",
          "old_line_content": "\t\t * same.",
          "new_line_content": "\t\tdie(_(\"error processing shallow info: %d\"), reader->status);",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": null,
          "new_api": "register_shallow",
          "old_text": null,
          "new_text": "register_shallow(the_repository, &shallows->oid[i])",
          "old_line_content": "\t\t * Treat these as shallow lines caused by the remote being",
          "new_line_content": "\t\t\tregister_shallow(the_repository, &shallows->oid[i]);",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": null,
          "new_api": "setup_alternate_shallow",
          "old_text": null,
          "new_text": "setup_alternate_shallow(&shallow_lock, &alternate_shallow_file,\n\t\t\t\t\tNULL)",
          "old_line_content": "\t\t * shallow. In v0, remote refs that reach these objects are",
          "new_line_content": "\t\tsetup_alternate_shallow(&shallow_lock, &alternate_shallow_file,",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": null,
          "new_api": "prepare_shallow_info",
          "old_text": null,
          "new_text": "prepare_shallow_info(si, shallows)",
          "old_line_content": "\t\t} else",
          "new_line_content": "\t\tprepare_shallow_info(si, shallows);",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"source repository is shallow, reject to clone.\")",
          "old_line_content": "\t\talternate_shallow_file = NULL;",
          "new_line_content": "\t\t\t\tdie(_(\"source repository is shallow, reject to clone.\"));",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": null,
          "new_api": "setup_temporary_shallow",
          "old_text": null,
          "new_text": "setup_temporary_shallow(si->shallow)",
          "old_line_content": "}",
          "new_line_content": "\t\t\t\tsetup_temporary_shallow(si->shallow);",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": null,
          "new_api": "bsearch",
          "old_text": null,
          "new_text": "bsearch(end, sought, nr_sought, sizeof(*sought),\n\t\t\t\tcmp_name_ref)",
          "old_line_content": "",
          "new_line_content": "\t\tfound = bsearch(end, sought, nr_sought, sizeof(*sought),",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"unexpected wanted-ref: '%s'\")",
          "old_line_content": "}",
          "new_line_content": "\t\t\tdie(_(\"unexpected wanted-ref: '%s'\"), reader->line);",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": null,
          "new_api": "oidcpy",
          "old_text": null,
          "new_text": "oidcpy(&(*found)->old_oid, &oid)",
          "old_line_content": "",
          "new_line_content": "\t\toidcpy(&(*found)->old_oid, &oid);",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": null,
          "new_api": "packet_reader_read",
          "old_text": null,
          "new_text": "packet_reader_read(reader)",
          "old_line_content": "\t}",
          "new_line_content": "\twhile (packet_reader_read(reader) == PACKET_READ_NORMAL) {",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"expected '<hash> <uri>', got: %s\\n\", reader->line)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tdie(\"expected '<hash> <uri>', got: %s\\n\", reader->line);",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": null,
          "new_api": "string_list_append",
          "old_text": null,
          "new_text": "string_list_append(uris, reader->line)",
          "old_line_content": "enum fetch_state {",
          "new_line_content": "\t\tstring_list_append(uris, reader->line);",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"expected DELIM\")",
          "old_line_content": "\tFETCH_PROCESS_ACKS,",
          "new_line_content": "\t\tdie(\"expected DELIM\");",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": null,
          "new_api": "check_stateless_delimiter",
          "old_text": null,
          "new_text": "check_stateless_delimiter(stateless_rpc, reader,\n\t\t\t\t  _(\"git fetch-pack: expected response end packet\"))",
          "old_line_content": "\t\t\t\t    const struct ref *orig_ref,",
          "new_line_content": "\tcheck_stateless_delimiter(stateless_rpc, reader,",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"git fetch-pack: expected response end packet\")",
          "old_line_content": "\t\t\t\t    struct ref **sought, int nr_sought,",
          "new_line_content": "\t\t\t\t  _(\"git fetch-pack: expected response end packet\"));",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": null,
          "new_api": "copy_ref_list",
          "old_text": null,
          "new_text": "copy_ref_list(orig_ref)",
          "old_line_content": "\tstruct fetch_negotiator negotiator_alloc;",
          "new_line_content": "\tstruct ref *ref = copy_ref_list(orig_ref);",
          "content_same": false
        },
        {
          "line": 1570,
          "old_api": null,
          "new_api": "packet_reader_init",
          "old_text": null,
          "new_text": "packet_reader_init(&reader, fd[0], NULL, 0,\n\t\t\t   PACKET_READ_CHOMP_NEWLINE |\n\t\t\t   PACKET_READ_DIE_ON_ERR_PACKET)",
          "old_line_content": "\t\treader.me = \"fetch-pack\";",
          "new_line_content": "\tpacket_reader_init(&reader, fd[0], NULL, 0,",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": null,
          "new_api": "git_env_bool",
          "old_text": null,
          "new_text": "git_env_bool(\"GIT_TEST_SIDEBAND_ALL\", 1)",
          "old_line_content": "\twhile (state != FETCH_DONE) {",
          "new_line_content": "\tif (git_env_bool(\"GIT_TEST_SIDEBAND_ALL\", 1) &&",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": null,
          "new_api": "server_supports_feature",
          "old_text": null,
          "new_text": "server_supports_feature(\"fetch\", \"sideband-all\", 0)",
          "old_line_content": "\t\tswitch (state) {",
          "new_line_content": "\t    server_supports_feature(\"fetch\", \"sideband-all\", 0)) {",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": null,
          "new_api": "sort_ref_list",
          "old_text": null,
          "new_text": "sort_ref_list(&ref, ref_compare_name)",
          "old_line_content": "\t\t\tif (args->depth > 0 || args->deepen_since || args->deepen_not)",
          "new_line_content": "\t\t\tsort_ref_list(&ref, ref_compare_name);",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": null,
          "new_api": "QSORT",
          "old_text": null,
          "new_text": "QSORT(sought, nr_sought, cmp_ref_by_name)",
          "old_line_content": "\t\t\t\targs->deepen = 1;",
          "new_line_content": "\t\t\tQSORT(sought, nr_sought, cmp_ref_by_name);",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": null,
          "new_api": "mark_complete_and_common_ref",
          "old_text": null,
          "new_text": "mark_complete_and_common_ref(negotiator, args, &ref)",
          "old_line_content": "",
          "new_line_content": "\t\t\tmark_complete_and_common_ref(negotiator, args, &ref);",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": null,
          "new_api": "mark_tips",
          "old_text": null,
          "new_text": "mark_tips(negotiator, args->negotiation_tips)",
          "old_line_content": "\t\t\t\tnegotiation_started = 1;",
          "new_line_content": "\t\t\tmark_tips(negotiator, args->negotiation_tips);",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": null,
          "new_api": "trace2_region_enter",
          "old_text": null,
          "new_text": "trace2_region_enter(\"fetch-pack\",\n\t\t\t\t\t\t    \"negotiation_v2\",\n\t\t\t\t\t\t    the_repository)",
          "old_line_content": "\t\t\t\t\t       &haves_to_send, &in_vain,",
          "new_line_content": "\t\t\t\ttrace2_region_enter(\"fetch-pack\",",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": null,
          "new_api": "send_fetch_request",
          "old_text": null,
          "new_text": "send_fetch_request(negotiator, fd[1], args, ref,\n\t\t\t\t\t       &common,\n\t\t\t\t\t       &haves_to_send, &in_vain,\n\t\t\t\t\t       reader.use_sideband,\n\t\t\t\t\t       seen_ack)",
          "old_line_content": "\t\t\telse",
          "new_line_content": "\t\t\tif (send_fetch_request(negotiator, fd[1], args, ref,",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": null,
          "new_api": "process_section_header",
          "old_text": null,
          "new_text": "process_section_header(&reader, \"acknowledgments\", 0)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tprocess_section_header(&reader, \"acknowledgments\", 0);",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": null,
          "new_api": "process_ack",
          "old_text": null,
          "new_text": "process_ack(negotiator, &reader, &common_oid,\n\t\t\t\t\t   &received_ready)",
          "old_line_content": "\t\t\tif (received_ready) {",
          "new_line_content": "\t\t\twhile (process_ack(negotiator, &reader, &common_oid,",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": null,
          "new_api": "oidset_insert",
          "old_text": null,
          "new_text": "oidset_insert(&common, &common_oid)",
          "old_line_content": "\t\t\t\t */",
          "new_line_content": "\t\t\t\toidset_insert(&common, &common_oid);",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": null,
          "new_api": "do_check_stateless_delimiter",
          "old_text": null,
          "new_text": "do_check_stateless_delimiter(args->stateless_rpc, &reader)",
          "old_line_content": "\t\t\t\t\t    \"negotiation_v2\",",
          "new_line_content": "\t\t\t\tdo_check_stateless_delimiter(args->stateless_rpc, &reader);",
          "content_same": false
        },
        {
          "line": 1640,
          "old_api": null,
          "new_api": "trace2_region_leave",
          "old_text": null,
          "new_text": "trace2_region_leave(\"fetch-pack\",\n\t\t\t\t\t    \"negotiation_v2\",\n\t\t\t\t\t    the_repository)",
          "old_line_content": "",
          "new_line_content": "\t\t\ttrace2_region_leave(\"fetch-pack\",",
          "content_same": false
        },
        {
          "line": 1644,
          "old_api": null,
          "new_api": "process_section_header",
          "old_text": null,
          "new_text": "process_section_header(&reader, \"shallow-info\", 1)",
          "old_line_content": "\t\t\t/* get the pack(s) */",
          "new_line_content": "\t\t\tif (process_section_header(&reader, \"shallow-info\", 1))",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": null,
          "new_api": "process_section_header",
          "old_text": null,
          "new_text": "process_section_header(&reader, \"packfile\", 0)",
          "old_line_content": "",
          "new_line_content": "\t\t\tprocess_section_header(&reader, \"packfile\", 0);",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": null,
          "new_api": "get_pack",
          "old_text": null,
          "new_text": "get_pack(args, fd, pack_lockfiles,\n\t\t\t\t     packfile_uris.nr ? &index_pack_args : NULL,\n\t\t\t\t     sought, nr_sought, &fsck_options.gitmodules_found)",
          "old_line_content": "\t\t\tstate = FETCH_DONE;",
          "new_line_content": "\t\t\tif (get_pack(args, fd, pack_lockfiles,",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"git fetch-pack: fetch failed.\")",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\t\tdie(_(\"git fetch-pack: fetch failed.\"));",
          "content_same": false
        },
        {
          "line": 1658,
          "old_api": null,
          "new_api": "do_check_stateless_delimiter",
          "old_text": null,
          "new_text": "do_check_stateless_delimiter(args->stateless_rpc, &reader)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tdo_check_stateless_delimiter(args->stateless_rpc, &reader);",
          "content_same": false
        },
        {
          "line": 1674,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&cmd.args, \"http-fetch\")",
          "old_line_content": "\t\t\t\t     index_pack_args.v[j]);",
          "new_line_content": "\t\tstrvec_push(&cmd.args, \"http-fetch\");",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&cmd.args, uri)",
          "old_line_content": "",
          "new_line_content": "\t\tstrvec_push(&cmd.args, uri);",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": null,
          "new_api": "start_command",
          "old_text": null,
          "new_text": "start_command(&cmd)",
          "old_line_content": "",
          "new_line_content": "\t\tif (start_command(&cmd))",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": null,
          "new_api": "read_in_full",
          "old_text": null,
          "new_text": "read_in_full(cmd.out, packname, 5)",
          "old_line_content": "\t\t    packname[the_hash_algo->hexsz] != '\\n')",
          "new_line_content": "\t\tif (read_in_full(cmd.out, packname, 5) < 0 ||",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"fetch-pack: expected keep then TAB at start of http-fetch output\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"fetch-pack: expected keep then TAB at start of http-fetch output\");",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": null,
          "new_api": "read_in_full",
          "old_text": null,
          "new_text": "read_in_full(cmd.out, packname,\n\t\t\t\t the_hash_algo->hexsz + 1)",
          "old_line_content": "",
          "new_line_content": "\t\tif (read_in_full(cmd.out, packname,",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": null,
          "new_api": "parse_gitmodules_oids",
          "old_text": null,
          "new_text": "parse_gitmodules_oids(cmd.out, &fsck_options.gitmodules_found)",
          "old_line_content": "",
          "new_line_content": "\t\tparse_gitmodules_oids(cmd.out, &fsck_options.gitmodules_found);",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(cmd.out)",
          "old_line_content": "\t\t\t   the_hash_algo->hexsz))",
          "new_line_content": "\t\tclose(cmd.out);",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": null,
          "new_api": "finish_command",
          "old_text": null,
          "new_text": "finish_command(&cmd)",
          "old_line_content": "\t\t\t    uri, (int) the_hash_algo->hexsz,",
          "new_line_content": "\t\tif (finish_command(&cmd))",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"fetch-pack: unable to finish http-fetch\")",
          "old_line_content": "\t\t\t    packfile_uris.items[i].string);",
          "new_line_content": "\t\t\tdie(\"fetch-pack: unable to finish http-fetch\");",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": null,
          "new_api": "xstrfmt",
          "old_text": null,
          "new_text": "xstrfmt(\"%s/pack/pack-%s.keep\",\n\t\t\t\t\t\t get_object_directory(),\n\t\t\t\t\t\t packname)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t xstrfmt(\"%s/pack/pack-%s.keep\",",
          "content_same": false
        },
        {
          "line": 1717,
          "old_api": null,
          "new_api": "string_list_clear",
          "old_text": null,
          "new_text": "string_list_clear(&packfile_uris, 0)",
          "old_line_content": "\tif (negotiator)",
          "new_line_content": "\tstring_list_clear(&packfile_uris, 0);",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"fsck failed\")",
          "old_line_content": "\treturn ref;",
          "new_line_content": "\t\tdie(\"fsck failed\");",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": null,
          "new_api": "release",
          "old_text": null,
          "new_text": "negotiator->release(negotiator)",
          "old_line_content": "static int fetch_pack_config_cb(const char *var, const char *value, void *cb)",
          "new_line_content": "\t\tnegotiator->release(negotiator);",
          "content_same": false
        },
        {
          "line": 1732,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(var, \"fetch.fsck.skiplist\")",
          "old_line_content": "\t\t\tfsck_msg_types.len ? ',' : '=', path);",
          "new_line_content": "\tif (strcmp(var, \"fetch.fsck.skiplist\") == 0) {",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": null,
          "new_api": "git_config_pathname",
          "old_text": null,
          "new_text": "git_config_pathname(&path, var, value)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (git_config_pathname(&path, var, value))",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": null,
          "new_api": "skip_prefix",
          "old_text": null,
          "new_text": "skip_prefix(var, \"fetch.fsck.\", &var)",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\tif (skip_prefix(var, \"fetch.fsck.\", &var)) {",
          "content_same": false
        },
        {
          "line": 1744,
          "old_api": null,
          "new_api": "is_valid_msg_type",
          "old_text": null,
          "new_text": "is_valid_msg_type(var, value)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (is_valid_msg_type(var, value))",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(&fsck_msg_types, \"%c%s=%s\",\n\t\t\t\tfsck_msg_types.len ? ',' : '=', var, value)",
          "old_line_content": "",
          "new_line_content": "\t\t\tstrbuf_addf(&fsck_msg_types, \"%c%s=%s\",",
          "content_same": false
        },
        {
          "line": 1748,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"Skipping unknown msg id '%s'\", var)",
          "old_line_content": "",
          "new_line_content": "\t\t\twarning(\"Skipping unknown msg id '%s'\", var);",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": null,
          "new_api": "git_config_get_int",
          "old_text": null,
          "new_text": "git_config_get_int(\"fetch.unpacklimit\", &fetch_unpack_limit)",
          "old_line_content": "\tif (!uri_protocols.nr) {",
          "new_line_content": "\tgit_config_get_int(\"fetch.unpacklimit\", &fetch_unpack_limit);",
          "content_same": false
        },
        {
          "line": 1758,
          "old_api": null,
          "new_api": "git_config_get_int",
          "old_text": null,
          "new_text": "git_config_get_int(\"transfer.unpacklimit\", &transfer_unpack_limit)",
          "old_line_content": "\t\tchar *str;",
          "new_line_content": "\tgit_config_get_int(\"transfer.unpacklimit\", &transfer_unpack_limit);",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": null,
          "new_api": "git_config_get_bool",
          "old_text": null,
          "new_text": "git_config_get_bool(\"repack.usedeltabaseoffset\", &prefer_ofs_delta)",
          "old_line_content": "",
          "new_line_content": "\tgit_config_get_bool(\"repack.usedeltabaseoffset\", &prefer_ofs_delta);",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": null,
          "new_api": "string_list_split",
          "old_text": null,
          "new_text": "string_list_split(&uri_protocols, str, ',', -1)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tstring_list_split(&uri_protocols, str, ',', -1);",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(str)",
          "old_line_content": "",
          "new_line_content": "\t\t\tfree(str);",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": null,
          "new_api": "git_config",
          "old_text": null,
          "new_text": "git_config(fetch_pack_config_cb, NULL)",
          "old_line_content": "\tif (did_setup)",
          "new_line_content": "\tgit_config(fetch_pack_config_cb, NULL);",
          "content_same": false
        },
        {
          "line": 1780,
          "old_api": null,
          "new_api": "fetch_pack_config",
          "old_text": null,
          "new_text": "fetch_pack_config()",
          "old_line_content": "}",
          "new_line_content": "\tfetch_pack_config();",
          "content_same": false
        },
        {
          "line": 1795,
          "old_api": null,
          "new_api": "string_list_insert",
          "old_text": null,
          "new_text": "string_list_insert(&names, ref[src]->name)",
          "old_line_content": "\t\tdst++;",
          "new_line_content": "\t\titem = string_list_insert(&names, ref[src]->name);",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": null,
          "new_api": "string_list_clear",
          "old_text": null,
          "new_text": "string_list_clear(&names, 0)",
          "old_line_content": "\t\t\t   struct shallow_info *si)",
          "new_line_content": "\tstring_list_clear(&names, 0);",
          "content_same": false
        },
        {
          "line": 1819,
          "old_api": null,
          "new_api": "git_path_shallow",
          "old_text": null,
          "new_text": "git_path_shallow(the_repository)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tunlink_or_warn(git_path_shallow(the_repository));",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": null,
          "new_api": "rollback_shallow_file",
          "old_text": null,
          "new_text": "rollback_shallow_file(the_repository, &shallow_lock)",
          "old_line_content": "",
          "new_line_content": "\t\t\trollback_shallow_file(the_repository, &shallow_lock);",
          "content_same": false
        },
        {
          "line": 1822,
          "old_api": null,
          "new_api": "commit_shallow_file",
          "old_text": null,
          "new_text": "commit_shallow_file(the_repository, &shallow_lock)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\t\t\tcommit_shallow_file(the_repository, &shallow_lock);",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": null,
          "new_api": "oid_array_append",
          "old_text": null,
          "new_text": "oid_array_append(&extra, &oid[i])",
          "old_line_content": "\t\t\talternate_shallow_file = NULL;",
          "new_line_content": "\t\t\t\toid_array_append(&extra, &oid[i]);",
          "content_same": false
        },
        {
          "line": 1846,
          "old_api": null,
          "new_api": "commit_shallow_file",
          "old_text": null,
          "new_text": "commit_shallow_file(the_repository, &shallow_lock)",
          "old_line_content": "",
          "new_line_content": "\t\t\tcommit_shallow_file(the_repository, &shallow_lock);",
          "content_same": false
        },
        {
          "line": 1849,
          "old_api": null,
          "new_api": "oid_array_clear",
          "old_text": null,
          "new_text": "oid_array_clear(&extra)",
          "old_line_content": "",
          "new_line_content": "\t\toid_array_clear(&extra);",
          "content_same": false
        },
        {
          "line": 1856,
          "old_api": null,
          "new_api": "remove_nonexistent_theirs_shallow",
          "old_text": null,
          "new_text": "remove_nonexistent_theirs_shallow(si)",
          "old_line_content": "",
          "new_line_content": "\tremove_nonexistent_theirs_shallow(si);",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": null,
          "new_api": "oid_array_append",
          "old_text": null,
          "new_text": "oid_array_append(&ref, &sought[i]->old_oid)",
          "old_line_content": "\t\t * so all refs can be accepted. Make sure we only add",
          "new_line_content": "\t\toid_array_append(&ref, &sought[i]->old_oid);",
          "content_same": false
        },
        {
          "line": 1881,
          "old_api": null,
          "new_api": "setup_alternate_shallow",
          "old_text": null,
          "new_text": "setup_alternate_shallow(&shallow_lock,\n\t\t\t\t\t&alternate_shallow_file,\n\t\t\t\t\t&extra)",
          "old_line_content": "\t\talternate_shallow_file = NULL;",
          "new_line_content": "\t\tsetup_alternate_shallow(&shallow_lock,",
          "content_same": false
        },
        {
          "line": 1884,
          "old_api": null,
          "new_api": "commit_shallow_file",
          "old_text": null,
          "new_text": "commit_shallow_file(the_repository, &shallow_lock)",
          "old_line_content": "",
          "new_line_content": "\t\tcommit_shallow_file(the_repository, &shallow_lock);",
          "content_same": false
        },
        {
          "line": 1885,
          "old_api": null,
          "new_api": "oid_array_clear",
          "old_text": null,
          "new_text": "oid_array_clear(&extra)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\toid_array_clear(&extra);",
          "content_same": false
        },
        {
          "line": 1886,
          "old_api": null,
          "new_api": "oid_array_clear",
          "old_text": null,
          "new_text": "oid_array_clear(&ref)",
          "old_line_content": "\t * remote is also shallow, check what ref is safe to update",
          "new_line_content": "\t\toid_array_clear(&ref);",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": null,
          "new_api": "CALLOC_ARRAY",
          "old_text": null,
          "new_text": "CALLOC_ARRAY(status, nr_sought)",
          "old_line_content": "\t}",
          "new_line_content": "\tCALLOC_ARRAY(status, nr_sought);",
          "content_same": false
        },
        {
          "line": 1902,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(status)",
          "old_line_content": "\tstruct ref **rm = cb_data;",
          "new_line_content": "\tfree(status);",
          "content_same": false
        },
        {
          "line": 1903,
          "old_api": null,
          "new_api": "oid_array_clear",
          "old_text": null,
          "new_text": "oid_array_clear(&ref)",
          "old_line_content": "\tstruct ref *ref = *rm;",
          "new_line_content": "\toid_array_clear(&ref);",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": null,
          "new_api": "oidcpy",
          "old_text": null,
          "new_text": "oidcpy(oid, &ref->old_oid)",
          "old_line_content": "\t\t       const struct ref *ref,",
          "new_line_content": "\toidcpy(oid, &ref->old_oid);",
          "content_same": false
        },
        {
          "line": 1932,
          "old_api": null,
          "new_api": "remove_duplicates_in_refs",
          "old_text": null,
          "new_text": "remove_duplicates_in_refs(sought, nr_sought)",
          "old_line_content": "\tif (version == protocol_v2) {",
          "new_line_content": "\t\tnr_sought = remove_duplicates_in_refs(sought, nr_sought);",
          "content_same": false
        },
        {
          "line": 1942,
          "old_api": null,
          "new_api": "do_fetch_pack_v2",
          "old_text": null,
          "new_text": "do_fetch_pack_v2(args, fd, ref, sought, nr_sought,\n\t\t\t\t\t   &shallows_scratch, &si,\n\t\t\t\t\t   pack_lockfiles)",
          "old_line_content": "\t\t\t\t\t&si, pack_lockfiles);",
          "new_line_content": "\t\tref_cpy = do_fetch_pack_v2(args, fd, ref, sought, nr_sought,",
          "content_same": false
        },
        {
          "line": 1946,
          "old_api": null,
          "new_api": "prepare_shallow_info",
          "old_text": null,
          "new_text": "prepare_shallow_info(&si, shallow)",
          "old_line_content": "\tif (!args->cloning && args->deepen) {",
          "new_line_content": "\t\tprepare_shallow_info(&si, shallow);",
          "content_same": false
        },
        {
          "line": 1947,
          "old_api": null,
          "new_api": "do_fetch_pack",
          "old_text": null,
          "new_text": "do_fetch_pack(args, fd, ref, sought, nr_sought,\n\t\t\t\t\t&si, pack_lockfiles)",
          "old_line_content": "\t\tstruct check_connected_options opt = CHECK_CONNECTED_INIT;",
          "new_line_content": "\t\tref_cpy = do_fetch_pack(args, fd, ref, sought, nr_sought,",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": null,
          "new_api": "reprepare_packed_git",
          "old_text": null,
          "new_text": "reprepare_packed_git(the_repository)",
          "old_line_content": "\t\tif (args->deepen)",
          "new_line_content": "\treprepare_packed_git(the_repository);",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": null,
          "new_api": "check_connected",
          "old_text": null,
          "new_text": "check_connected(iterate_ref_map, &iterator, &opt)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (check_connected(iterate_ref_map, &iterator, &opt)) {",
          "content_same": false
        },
        {
          "line": 1959,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"remote did not send all necessary objects\")",
          "old_line_content": "\t\targs->connectivity_checked = 1;",
          "new_line_content": "\t\t\terror(_(\"remote did not send all necessary objects\"));",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": null,
          "new_api": "free_refs",
          "old_text": null,
          "new_text": "free_refs(ref_cpy)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tfree_refs(ref_cpy);",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": null,
          "new_api": "update_shallow",
          "old_text": null,
          "new_text": "update_shallow(args, sought, nr_sought, &si)",
          "old_line_content": "",
          "new_line_content": "\tupdate_shallow(args, sought, nr_sought, &si);",
          "content_same": false
        },
        {
          "line": 1970,
          "old_api": null,
          "new_api": "clear_shallow_info",
          "old_text": null,
          "new_text": "clear_shallow_info(&si)",
          "old_line_content": "{",
          "new_line_content": "\tclear_shallow_info(&si);",
          "content_same": false
        },
        {
          "line": 1971,
          "old_api": null,
          "new_api": "oid_array_clear",
          "old_text": null,
          "new_text": "oid_array_clear(&shallows_scratch)",
          "old_line_content": "\tstruct object_array *a = data;",
          "new_line_content": "\toid_array_clear(&shallows_scratch);",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": null,
          "new_api": "lookup_object",
          "old_text": null,
          "new_text": "lookup_object(the_repository, oid)",
          "old_line_content": "\tstruct oidset_iter iter;",
          "new_line_content": "\tadd_object_array(lookup_object(the_repository, oid), \"\", a);",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": null,
          "new_api": "oidset_iter_init",
          "old_text": null,
          "new_text": "oidset_iter_init(s, &iter)",
          "old_line_content": "}",
          "new_line_content": "\toidset_iter_init(s, &iter);",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": null,
          "new_api": "oidset_iter_next",
          "old_text": null,
          "new_text": "oidset_iter_next(&iter)",
          "old_line_content": "void negotiate_using_fetch(const struct oid_array *negotiation_tips,",
          "new_line_content": "\twhile ((oid = oidset_iter_next(&iter))) {",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": null,
          "new_api": "lookup_object",
          "old_text": null,
          "new_text": "lookup_object(the_repository, oid)",
          "old_line_content": "\t\t\t   const struct string_list *server_options,",
          "new_line_content": "\t\tstruct object *obj = lookup_object(the_repository, oid);",
          "content_same": false
        },
        {
          "line": 2011,
          "old_api": null,
          "new_api": "fetch_negotiator_init",
          "old_text": null,
          "new_text": "fetch_negotiator_init(the_repository, &negotiator)",
          "old_line_content": "",
          "new_line_content": "\tfetch_negotiator_init(the_repository, &negotiator);",
          "content_same": false
        },
        {
          "line": 2014,
          "old_api": null,
          "new_api": "packet_reader_init",
          "old_text": null,
          "new_text": "packet_reader_init(&reader, fd[0], NULL, 0,\n\t\t\t   PACKET_READ_CHOMP_NEWLINE |\n\t\t\t   PACKET_READ_DIE_ON_ERR_PACKET)",
          "old_line_content": "\t\t\t   &nt_object_array);",
          "new_line_content": "\tpacket_reader_init(&reader, fd[0], NULL, 0,",
          "content_same": false
        },
        {
          "line": 2018,
          "old_api": null,
          "new_api": "oid_array_for_each",
          "old_text": null,
          "new_text": "oid_array_for_each((struct oid_array *) negotiation_tips,\n\t\t\t   add_to_object_array,\n\t\t\t   &nt_object_array)",
          "old_line_content": "\t\tstruct object_id common_oid;",
          "new_line_content": "\toid_array_for_each((struct oid_array *) negotiation_tips,",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": null,
          "new_api": "strbuf_reset",
          "old_text": null,
          "new_text": "strbuf_reset(&req_buf)",
          "old_line_content": "\t\tin_vain += haves_added;",
          "new_line_content": "\t\tstrbuf_reset(&req_buf);",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": null,
          "new_api": "write_fetch_command_and_capabilities",
          "old_text": null,
          "new_text": "write_fetch_command_and_capabilities(&req_buf, server_options)",
          "old_line_content": "\t\tif (!haves_added || (seen_ack && in_vain >= MAX_IN_VAIN))",
          "new_line_content": "\t\twrite_fetch_command_and_capabilities(&req_buf, server_options);",
          "content_same": false
        },
        {
          "line": 2030,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&req_buf, \"wait-for-done\")",
          "old_line_content": "",
          "new_line_content": "\t\tpacket_buf_write(&req_buf, \"wait-for-done\");",
          "content_same": false
        },
        {
          "line": 2039,
          "old_api": null,
          "new_api": "write_in_full",
          "old_text": null,
          "new_text": "write_in_full(fd[1], req_buf.buf, req_buf.len)",
          "old_line_content": "\t\t\t\t   &received_ready)) {",
          "new_line_content": "\t\tif (write_in_full(fd[1], req_buf.buf, req_buf.len) < 0)",
          "content_same": false
        },
        {
          "line": 2043,
          "old_api": null,
          "new_api": "process_section_header",
          "old_text": null,
          "new_text": "process_section_header(&reader, \"acknowledgments\", 0)",
          "old_line_content": "\t\t\t\ttimestamp_t generation;",
          "new_line_content": "\t\tprocess_section_header(&reader, \"acknowledgments\", 0);",
          "content_same": false
        },
        {
          "line": 2044,
          "old_api": null,
          "new_api": "process_ack",
          "old_text": null,
          "new_text": "process_ack(&negotiator, &reader, &common_oid,\n\t\t\t\t   &received_ready)",
          "old_line_content": "",
          "new_line_content": "\t\twhile (process_ack(&negotiator, &reader, &common_oid,",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": null,
          "new_api": "lookup_commit",
          "old_text": null,
          "new_text": "lookup_commit(the_repository,\n\t\t\t\t\t\t\t      &common_oid)",
          "old_line_content": "\t\t\t\tcommit->object.flags |= COMMON;",
          "new_line_content": "\t\t\tstruct commit *commit = lookup_commit(the_repository,",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2056,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"unexpected 'ready' from remote\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(_(\"unexpected 'ready' from remote\"));",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": "do_check_stateless_delimiter",
          "new_api": null,
          "old_text": "do_check_stateless_delimiter(stateless_rpc, &reader)",
          "new_text": null,
          "old_line_content": "\t\t\tdo_check_stateless_delimiter(stateless_rpc, &reader);",
          "new_line_content": "\t\t\tseen_ack = 1;",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"no such remote ref %s\")",
          "new_text": null,
          "old_line_content": "\t\t\terror(_(\"no such remote ref %s\"), sought[i]->name);",
          "new_line_content": "\t\tif (!sought[i])",
          "content_same": false
        },
        {
          "line": 2082,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server does not allow request for unadvertised object %s\")",
          "new_text": null,
          "old_line_content": "\t\t\terror(_(\"Server does not allow request for unadvertised object %s\"),",
          "new_line_content": "\t\tcase REF_MATCHED:",
          "content_same": false
        },
        {
          "line": 141,
          "old_api": "parse_object",
          "new_api": null,
          "old_text": "parse_object(the_repository, oid)",
          "new_text": null,
          "old_line_content": "\t\treturn (struct commit *) parse_object(the_repository, oid);",
          "new_line_content": "\tif (type == OBJ_COMMIT) {",
          "content_same": false
        },
        {
          "line": 148,
          "old_api": "deref_without_lazy_fetch",
          "new_api": null,
          "old_text": "deref_without_lazy_fetch(oid, 0)",
          "new_text": null,
          "old_line_content": "\tstruct commit *c = deref_without_lazy_fetch(oid, 0);",
          "new_line_content": "\treturn NULL;",
          "content_same": false
        },
        {
          "line": 151,
          "old_api": "add_tip",
          "new_api": null,
          "old_text": "negotiator->add_tip(negotiator, c)",
          "new_text": null,
          "old_line_content": "\t\tnegotiator->add_tip(negotiator, c);",
          "new_line_content": "static int rev_list_insert_ref(struct fetch_negotiator *negotiator,",
          "content_same": false
        },
        {
          "line": 158,
          "old_api": "rev_list_insert_ref",
          "new_api": null,
          "old_text": "rev_list_insert_ref(cb_data, oid)",
          "new_text": null,
          "old_line_content": "\treturn rev_list_insert_ref(cb_data, oid);",
          "new_line_content": "\treturn 0;",
          "content_same": false
        },
        {
          "line": 177,
          "old_api": "packet_reader_read",
          "new_api": null,
          "old_text": "packet_reader_read(reader)",
          "new_text": null,
          "old_line_content": "\t\twhile (packet_reader_read(reader) == PACKET_READ_NORMAL) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 178,
          "old_api": "starts_with",
          "new_api": null,
          "old_text": "starts_with(reader->line, \"shallow \")",
          "new_text": null,
          "old_line_content": "\t\t\tif (starts_with(reader->line, \"shallow \"))",
          "new_line_content": "\tif (args->stateless_rpc && args->deepen) {",
          "content_same": false
        },
        {
          "line": 180,
          "old_api": "starts_with",
          "new_api": null,
          "old_text": "starts_with(reader->line, \"unshallow \")",
          "new_text": null,
          "old_line_content": "\t\t\tif (starts_with(reader->line, \"unshallow \"))",
          "new_line_content": "\t\t * shallow and unshallow commands every time there",
          "content_same": false
        },
        {
          "line": 182,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"git fetch-pack: expected shallow list\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(_(\"git fetch-pack: expected shallow list\"));",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 185,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"git fetch-pack: expected a flush packet after shallow list\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(_(\"git fetch-pack: expected a flush packet after shallow list\"));",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 195,
          "old_api": "packet_reader_read",
          "new_api": null,
          "old_text": "packet_reader_read(reader)",
          "new_text": null,
          "old_line_content": "\tif (packet_reader_read(reader) != PACKET_READ_NORMAL)",
          "new_line_content": "static enum ack_type get_ack(struct packet_reader *reader,",
          "content_same": false
        },
        {
          "line": 196,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"git fetch-pack: expected ACK/NAK, got a flush packet\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"git fetch-pack: expected ACK/NAK, got a flush packet\"));",
          "new_line_content": "\t\t\t     struct object_id *result_oid)",
          "content_same": false
        },
        {
          "line": 199,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(reader->line, \"NAK\")",
          "new_text": null,
          "old_line_content": "\tif (!strcmp(reader->line, \"NAK\"))",
          "new_line_content": "\tconst char *arg;",
          "content_same": false
        },
        {
          "line": 203,
          "old_api": "parse_oid_hex",
          "new_api": null,
          "old_text": "parse_oid_hex(arg, result_oid, &p)",
          "new_text": null,
          "old_line_content": "\t\tif (!parse_oid_hex(arg, result_oid, &p)) {",
          "new_line_content": "\tlen = reader->pktlen;",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": "strstr",
          "new_api": null,
          "old_text": "strstr(p, \"ready\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (strstr(p, \"ready\"))",
          "new_line_content": "\t\t\tif (len < 1)",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"git fetch-pack: expected ACK/NAK, got '%s'\")",
          "new_text": null,
          "old_line_content": "\tdie(_(\"git fetch-pack: expected ACK/NAK, got '%s'\"), reader->line);",
          "new_line_content": "\t\t\t\treturn ACK_common;",
          "content_same": false
        },
        {
          "line": 223,
          "old_api": "send_sideband",
          "new_api": null,
          "old_text": "send_sideband(fd, -1, buf->buf, buf->len, LARGE_PACKET_MAX)",
          "new_text": null,
          "old_line_content": "\t\tsend_sideband(fd, -1, buf->buf, buf->len, LARGE_PACKET_MAX);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": "packet_flush",
          "new_api": null,
          "old_text": "packet_flush(fd)",
          "new_text": null,
          "old_line_content": "\t\tpacket_flush(fd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 226,
          "old_api": "write_in_full",
          "new_api": null,
          "old_text": "write_in_full(fd, buf->buf, buf->len)",
          "new_text": null,
          "old_line_content": "\t\tif (write_in_full(fd, buf->buf, buf->len) < 0)",
          "new_line_content": "\t\t\t int fd, struct strbuf *buf)",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"unable to write to remote\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie_errno(_(\"unable to write to remote\"));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "rev_list_insert_ref",
          "new_api": null,
          "old_text": "rev_list_insert_ref(negotiator, &obj->oid)",
          "new_text": null,
          "old_line_content": "\trev_list_insert_ref(negotiator, &obj->oid);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": "for_each_rawref",
          "new_api": null,
          "old_text": "for_each_rawref(rev_list_insert_ref_oid, negotiator)",
          "new_text": null,
          "old_line_content": "\t\tfor_each_rawref(rev_list_insert_ref_oid, negotiator);",
          "new_line_content": "static void mark_tips(struct fetch_negotiator *negotiator,",
          "content_same": false
        },
        {
          "line": 268,
          "old_api": "rev_list_insert_ref",
          "new_api": null,
          "old_text": "rev_list_insert_ref(negotiator, &negotiation_tips->oid[i])",
          "new_text": null,
          "old_line_content": "\t\trev_list_insert_ref(negotiator, &negotiation_tips->oid[i]);",
          "new_line_content": "\tif (!negotiation_tips) {",
          "content_same": false
        },
        {
          "line": 288,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"--stateless-rpc requires multi_ack_detailed\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"--stateless-rpc requires multi_ack_detailed\"));",
          "new_line_content": "\tint got_ready = 0;",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": "packet_reader_init",
          "new_api": null,
          "old_text": "packet_reader_init(&reader, fd[0], NULL, 0,\n\t\t\t   PACKET_READ_CHOMP_NEWLINE |\n\t\t\t   PACKET_READ_DIE_ON_ERR_PACKET)",
          "new_text": null,
          "old_line_content": "\tpacket_reader_init(&reader, fd[0], NULL, 0,",
          "new_line_content": "\tsize_t state_len = 0;",
          "content_same": false
        },
        {
          "line": 295,
          "old_api": "for_each_cached_alternate",
          "new_api": null,
          "old_text": "for_each_cached_alternate(negotiator, insert_one_alternate_object)",
          "new_text": null,
          "old_line_content": "\tfor_each_cached_alternate(negotiator, insert_one_alternate_object);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": "lookup_object",
          "new_api": null,
          "old_text": "lookup_object(the_repository, remote)",
          "new_text": null,
          "old_line_content": "\t\tif (((o = lookup_object(the_repository, remote)) != NULL) &&",
          "new_line_content": "\t\t * about.",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(remote)",
          "new_text": null,
          "old_line_content": "\t\tremote_hex = oid_to_hex(remote);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&c, \" multi_ack_detailed\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (multi_ack == 2)     strbuf_addstr(&c, \" multi_ack_detailed\");",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 322,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&c, \" multi_ack\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (multi_ack == 1)     strbuf_addstr(&c, \" multi_ack\");",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&c, \" no-done\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (no_done)            strbuf_addstr(&c, \" no-done\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&c, \" side-band\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (use_sideband == 1)  strbuf_addstr(&c, \" side-band\");",
          "new_line_content": "\t\tif (!fetching) {",
          "content_same": false
        },
        {
          "line": 326,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&c, \" deepen-relative\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (args->deepen_relative) strbuf_addstr(&c, \" deepen-relative\");",
          "new_line_content": "\t\t\tstruct strbuf c = STRBUF_INIT;",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&req_buf)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_release(&req_buf);",
          "new_line_content": "\t\t} else",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": "is_repository_shallow",
          "new_api": null,
          "old_text": "is_repository_shallow(the_repository)",
          "new_text": null,
          "old_line_content": "\tif (is_repository_shallow(the_repository))",
          "new_line_content": "\tif (!fetching) {",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&req_buf, \"deepen %d\", args->depth)",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(&req_buf, \"deepen %d\", args->depth);",
          "new_line_content": "\t\treturn 1;",
          "content_same": false
        },
        {
          "line": 357,
          "old_api": "approxidate",
          "new_api": null,
          "old_text": "approxidate(args->deepen_since)",
          "new_text": null,
          "old_line_content": "\t\ttimestamp_t max_age = approxidate(args->deepen_since);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": "expand_list_objects_filter_spec",
          "new_api": null,
          "old_text": "expand_list_objects_filter_spec(&args->filter_options)",
          "new_text": null,
          "old_line_content": "\t\t\texpand_list_objects_filter_spec(&args->filter_options);",
          "new_line_content": "\t\t\tstruct string_list_item *s = args->deepen_not->items + i;",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": "packet_buf_flush",
          "new_api": null,
          "old_text": "packet_buf_flush(&req_buf)",
          "new_text": null,
          "old_line_content": "\tpacket_buf_flush(&req_buf);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": "send_request",
          "new_api": null,
          "old_text": "send_request(args, fd[1], &req_buf)",
          "new_text": null,
          "old_line_content": "\t\tsend_request(args, fd[1], &req_buf);",
          "new_line_content": "\tstate_len = req_buf.len;",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": "packet_reader_read",
          "new_api": null,
          "old_text": "packet_reader_read(&reader)",
          "new_text": null,
          "old_line_content": "\t\twhile (packet_reader_read(&reader) == PACKET_READ_NORMAL) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": "skip_prefix",
          "new_api": null,
          "old_text": "skip_prefix(reader.line, \"shallow \", &arg)",
          "new_text": null,
          "old_line_content": "\t\t\tif (skip_prefix(reader.line, \"shallow \", &arg)) {",
          "new_line_content": "\tif (args->deepen) {",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": "get_oid_hex",
          "new_api": null,
          "old_text": "get_oid_hex(arg, &oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (get_oid_hex(arg, &oid))",
          "new_line_content": "\t\tconst char *arg;",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"invalid shallow line: %s\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdie(_(\"invalid shallow line: %s\"), reader.line);",
          "new_line_content": "\t\tstruct object_id oid;",
          "content_same": false
        },
        {
          "line": 384,
          "old_api": "register_shallow",
          "new_api": null,
          "old_text": "register_shallow(the_repository, &oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\tregister_shallow(the_repository, &oid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"object not found: %s\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdie(_(\"object not found: %s\"), reader.line);",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": "trace2_region_enter",
          "new_api": null,
          "old_text": "trace2_region_enter(\"fetch-pack\", \"negotiation_v0_v1\", the_repository)",
          "new_text": null,
          "old_line_content": "\ttrace2_region_enter(\"fetch-pack\", \"negotiation_v0_v1\", the_repository);",
          "new_line_content": "\t\t * we don't need to retain the headers.",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": "next",
          "new_api": null,
          "old_text": "negotiator->next(negotiator)",
          "new_text": null,
          "old_line_content": "\twhile ((oid = negotiator->next(negotiator))) {",
          "new_line_content": "\t\tstate_len = 0;",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(oid)",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(&req_buf, \"have %s\\n\", oid_to_hex(oid));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(oid)",
          "new_text": null,
          "old_line_content": "\t\tprint_verbose(args, \"have %s\", oid_to_hex(oid));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": "strbuf_setlen",
          "new_api": null,
          "old_text": "strbuf_setlen(&req_buf, state_len)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_setlen(&req_buf, state_len);",
          "new_line_content": "\t\tin_vain++;",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": "next_flush",
          "new_api": null,
          "old_text": "next_flush(args->stateless_rpc, count)",
          "new_text": null,
          "old_line_content": "\t\t\tflush_at = next_flush(args->stateless_rpc, count);",
          "new_line_content": "\t\t\tint ack;",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": "consume_shallow_list",
          "new_api": null,
          "old_text": "consume_shallow_list(args, &reader)",
          "new_text": null,
          "old_line_content": "\t\t\tconsume_shallow_list(args, &reader);",
          "new_line_content": "\t\t\t * We keep one window \"ahead\" of the other side, and",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": "get_ack",
          "new_api": null,
          "old_text": "get_ack(&reader, result_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\tack = get_ack(&reader, result_oid);",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"got %s %d %s\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tprint_verbose(args, _(\"got %s %d %s\"), \"ack\",",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(result_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t      ack, oid_to_hex(result_oid));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": "lookup_commit",
          "new_api": null,
          "old_text": "lookup_commit(the_repository,\n\t\t\t\t\t\t\t      result_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tlookup_commit(the_repository,",
          "new_line_content": "\t\t\t\t\tretval = 0;",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(result_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tdie(_(\"invalid commit %s\"), oid_to_hex(result_oid));",
          "new_line_content": "\t\t\t\t\tstruct commit *commit =",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(result_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tconst char *hex = oid_to_hex(result_oid);",
          "new_line_content": "\t\t\t\t\t && ack == ACK_common",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&req_buf, \"have %s\\n\", hex)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tpacket_buf_write(&req_buf, \"have %s\\n\", hex);",
          "new_line_content": "\t\t\t\t\t && !was_common) {",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"giving up\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tprint_verbose(args, _(\"giving up\"));",
          "new_line_content": "\t\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": "trace2_region_leave",
          "new_api": null,
          "old_text": "trace2_region_leave(\"fetch-pack\", \"negotiation_v0_v1\", the_repository)",
          "new_text": null,
          "old_line_content": "\ttrace2_region_leave(\"fetch-pack\", \"negotiation_v0_v1\", the_repository);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&req_buf, \"done\\n\")",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(&req_buf, \"done\\n\");",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": "send_request",
          "new_api": null,
          "old_text": "send_request(args, fd[1], &req_buf)",
          "new_text": null,
          "old_line_content": "\t\tsend_request(args, fd[1], &req_buf);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"done\")",
          "new_text": null,
          "old_line_content": "\tprint_verbose(args, _(\"done\"));",
          "new_line_content": "done:",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&req_buf)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&req_buf);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": "consume_shallow_list",
          "new_api": null,
          "old_text": "consume_shallow_list(args, &reader)",
          "new_text": null,
          "old_line_content": "\t\tconsume_shallow_list(args, &reader);",
          "new_line_content": "\t\tmulti_ack = 0;",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": "get_ack",
          "new_api": null,
          "old_text": "get_ack(&reader, result_oid)",
          "new_text": null,
          "old_line_content": "\t\tint ack = get_ack(&reader, result_oid);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 512,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"got %s (%d) %s\")",
          "new_text": null,
          "old_line_content": "\t\t\tprint_verbose(args, _(\"got %s (%d) %s\"), \"ack\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 513,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(result_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t      ack, oid_to_hex(result_oid));",
          "new_line_content": "\tif (!got_ready || !no_done)",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "deref_without_lazy_fetch",
          "new_api": null,
          "old_text": "deref_without_lazy_fetch(oid, 1)",
          "new_text": null,
          "old_line_content": "\tstruct commit *commit = deref_without_lazy_fetch(oid, 1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": "commit_list_insert",
          "new_api": null,
          "old_text": "commit_list_insert(commit, &complete)",
          "new_text": null,
          "old_line_content": "\t\tcommit_list_insert(commit, &complete);",
          "new_line_content": "static int mark_complete(const struct object_id *oid)",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": "mark_complete",
          "new_api": null,
          "old_text": "mark_complete(oid)",
          "new_text": null,
          "old_line_content": "\treturn mark_complete(oid);",
          "new_line_content": "\treturn 0;",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Marking %s as complete\")",
          "new_text": null,
          "old_line_content": "\t\tprint_verbose(args, _(\"Marking %s as complete\"),",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&complete->item->object.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t      oid_to_hex(&complete->item->object.oid));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": "pop_most_recent_commit",
          "new_api": null,
          "old_text": "pop_most_recent_commit(&complete, COMPLETE)",
          "new_text": null,
          "old_line_content": "\t\tpop_most_recent_commit(&complete, COMPLETE);",
          "new_line_content": "static void mark_recent_complete_commits(struct fetch_pack_args *args,",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": "oidset_insert",
          "new_api": null,
          "old_text": "oidset_insert(oids, &refs->old_oid)",
          "new_text": null,
          "old_line_content": "\t\toidset_insert(oids, &refs->old_oid);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 565,
          "old_api": "parse_oid_hex",
          "new_api": null,
          "old_text": "parse_oid_hex(ref->name, &oid, &p)",
          "new_text": null,
          "old_line_content": "\t\t!parse_oid_hex(ref->name, &oid, &p) &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": "oideq",
          "new_api": null,
          "old_text": "oideq(&oid, &ref->old_oid)",
          "new_text": null,
          "old_line_content": "\t\toideq(&oid, &ref->old_oid);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": "starts_with",
          "new_api": null,
          "old_text": "starts_with(ref->name, \"refs/\")",
          "new_text": null,
          "old_line_content": "\t\tif (starts_with(ref->name, \"refs/\") &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "check_refname_format",
          "new_api": null,
          "old_text": "check_refname_format(ref->name, 0)",
          "new_text": null,
          "old_line_content": "\t\t    check_refname_format(ref->name, 0)) {",
          "new_line_content": "\ti = 0;",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(ref->name, sought[i]->name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tint cmp = strcmp(ref->name, sought[i]->name);",
          "new_line_content": "\t\t\t * unmatched list",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": "starts_with",
          "new_api": null,
          "old_text": "starts_with(ref->name, \"refs/tags/\")",
          "new_text": null,
          "old_line_content": "\t\t\t    (!args->deepen || !starts_with(ref->name, \"refs/tags/\")))",
          "new_line_content": "\t\t\t\t\tsought[i]->match_status = REF_MATCHED;",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "is_unmatched_ref",
          "new_api": null,
          "old_text": "is_unmatched_ref(ref)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!is_unmatched_ref(ref))",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": "add_refs_to_oidset",
          "new_api": null,
          "old_text": "add_refs_to_oidset(&tip_oids, unmatched)",
          "new_text": null,
          "old_line_content": "\t\t\tadd_refs_to_oidset(&tip_oids, unmatched);",
          "new_line_content": "\tif (strict) {",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "add_refs_to_oidset",
          "new_api": null,
          "old_text": "add_refs_to_oidset(&tip_oids, newlist)",
          "new_text": null,
          "old_line_content": "\t\t\tadd_refs_to_oidset(&tip_oids, newlist);",
          "new_line_content": "\t\tfor (i = 0; i < nr_sought; i++) {",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "is_unmatched_ref",
          "new_api": null,
          "old_text": "is_unmatched_ref(ref)",
          "new_text": null,
          "old_line_content": "\t\tif (!is_unmatched_ref(ref))",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "oidset_contains",
          "new_api": null,
          "old_text": "oidset_contains(&tip_oids, &ref->old_oid)",
          "new_text": null,
          "old_line_content": "\t\tif (!strict || oidset_contains(&tip_oids, &ref->old_oid)) {",
          "new_line_content": "\t/* Append unmatched requests to the list */",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": "copy_ref",
          "new_api": null,
          "old_text": "copy_ref(ref)",
          "new_text": null,
          "old_line_content": "\t\t\t*newtail = copy_ref(ref);",
          "new_line_content": "\t\tref = sought[i];",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": "oidset_clear",
          "new_api": null,
          "old_text": "oidset_clear(&tip_oids)",
          "new_text": null,
          "old_line_content": "\toidset_clear(&tip_oids);",
          "new_line_content": "\t\t\tnewtail = &(*newtail)->next;",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": "free_refs",
          "new_api": null,
          "old_text": "free_refs(unmatched)",
          "new_text": null,
          "old_line_content": "\tfree_refs(unmatched);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": "mark_complete",
          "new_api": null,
          "old_text": "mark_complete(&obj->oid)",
          "new_text": null,
          "old_line_content": "\tmark_complete(&obj->oid);",
          "new_line_content": "\t*refs = newlist;",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": "trace2_region_enter",
          "new_api": null,
          "old_text": "trace2_region_enter(\"fetch-pack\", \"parse_remote_refs_and_find_cutoff\", NULL)",
          "new_text": null,
          "old_line_content": "\ttrace2_region_enter(\"fetch-pack\", \"parse_remote_refs_and_find_cutoff\", NULL);",
          "new_line_content": "\tstruct ref *ref;",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": "has_object_file_with_flags",
          "new_api": null,
          "old_text": "has_object_file_with_flags(&ref->old_oid,\n\t\t\t\t\t\tOBJECT_INFO_QUICK |\n\t\t\t\t\t\t\tOBJECT_INFO_SKIP_FETCH_OBJECT)",
          "new_text": null,
          "old_line_content": "\t\tif (!has_object_file_with_flags(&ref->old_oid,",
          "new_line_content": "\tsave_commit_buffer = 0;",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "parse_object",
          "new_api": null,
          "old_text": "parse_object(the_repository, &ref->old_oid)",
          "new_text": null,
          "old_line_content": "\t\to = parse_object(the_repository, &ref->old_oid);",
          "new_line_content": "\t\tstruct object *o;",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": "trace2_region_leave",
          "new_api": null,
          "old_text": "trace2_region_leave(\"fetch-pack\", \"parse_remote_refs_and_find_cutoff\", NULL)",
          "new_text": null,
          "old_line_content": "\ttrace2_region_leave(\"fetch-pack\", \"parse_remote_refs_and_find_cutoff\", NULL);",
          "new_line_content": "\t\tif (o->type == OBJ_COMMIT) {",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": "for_each_rawref",
          "new_api": null,
          "old_text": "for_each_rawref(mark_complete_oid, NULL)",
          "new_text": null,
          "old_line_content": "\t\tfor_each_rawref(mark_complete_oid, NULL);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": "for_each_cached_alternate",
          "new_api": null,
          "old_text": "for_each_cached_alternate(NULL, mark_alternate_complete)",
          "new_text": null,
          "old_line_content": "\t\tfor_each_cached_alternate(NULL, mark_alternate_complete);",
          "new_line_content": "\t * This block marks all local refs as COMPLETE, and then recursively marks all",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": "commit_list_sort_by_date",
          "new_api": null,
          "old_text": "commit_list_sort_by_date(&complete)",
          "new_text": null,
          "old_line_content": "\t\tcommit_list_sort_by_date(&complete);",
          "new_line_content": "\t * parents of those refs as COMPLETE.",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": "deref_without_lazy_fetch",
          "new_api": null,
          "old_text": "deref_without_lazy_fetch(&ref->old_oid, 0)",
          "new_text": null,
          "old_line_content": "\t\tstruct commit *c = deref_without_lazy_fetch(&ref->old_oid, 0);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": "known_common",
          "new_api": null,
          "old_text": "negotiator->known_common(negotiator, c)",
          "new_text": null,
          "old_line_content": "\t\tnegotiator->known_common(negotiator, c);",
          "new_line_content": "\tfor (ref = *refs; ref; ref = ref->next) {",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": "trace2_region_leave",
          "new_api": null,
          "old_text": "trace2_region_leave(\"fetch-pack\", \"mark_common_remote_refs\", NULL)",
          "new_text": null,
          "old_line_content": "\ttrace2_region_leave(\"fetch-pack\", \"mark_common_remote_refs\", NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": "lookup_object",
          "new_api": null,
          "old_text": "lookup_object(the_repository, remote)",
          "new_text": null,
          "old_line_content": "\t\to = lookup_object(the_repository, remote);",
          "new_line_content": "\tint retval;",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(remote)",
          "new_text": null,
          "old_line_content": "\t\t\tprint_verbose(args, \"want %s (%s)\", oid_to_hex(remote),",
          "new_line_content": "\t\tconst struct object_id *remote = &ref->old_oid;",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(remote)",
          "new_text": null,
          "old_line_content": "\t\tprint_verbose(args, _(\"already have %s (%s)\"), oid_to_hex(remote),",
          "new_line_content": "\t\tif (!o || !(o->flags & COMPLETE)) {",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "recv_sideband",
          "new_api": null,
          "old_text": "recv_sideband(\"fetch-pack\", xd[0], out)",
          "new_text": null,
          "old_line_content": "\tret = recv_sideband(\"fetch-pack\", xd[0], out);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(out)",
          "new_text": null,
          "old_line_content": "\tclose(out);",
          "new_line_content": "static int sideband_demux(int in, int out, void *data)",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&promisor_name, keep_name)",
          "new_text": null,
          "old_line_content": "\tstrbuf_addstr(&promisor_name, keep_name);",
          "new_line_content": "static void create_promisor_file(const char *keep_name,",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "strbuf_strip_suffix",
          "new_api": null,
          "old_text": "strbuf_strip_suffix(&promisor_name, \".keep\")",
          "new_text": null,
          "old_line_content": "\tsuffix_stripped = strbuf_strip_suffix(&promisor_name, \".keep\");",
          "new_line_content": "\t\t\t\t struct ref **sought, int nr_sought)",
          "content_same": false
        },
        {
          "line": 789,
          "old_api": "BUG",
          "new_api": null,
          "old_text": "BUG(\"name of pack lockfile should end with .keep (was '%s')\",\n\t\t    keep_name)",
          "new_text": null,
          "old_line_content": "\t\tBUG(\"name of pack lockfile should end with .keep (was '%s')\",",
          "new_line_content": "\tstruct strbuf promisor_name = STRBUF_INIT;",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&promisor_name, \".promisor\")",
          "new_text": null,
          "old_line_content": "\tstrbuf_addstr(&promisor_name, \".promisor\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": "read_in_full",
          "new_api": null,
          "old_text": "read_in_full(fd, hex_hash, len)",
          "new_text": null,
          "old_line_content": "\t\tint read_len = read_in_full(fd, hex_hash, len);",
          "new_line_content": "static void parse_gitmodules_oids(int fd, struct oidset *gitmodules_oids)",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"invalid length read %d\", read_len)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"invalid length read %d\", read_len);",
          "new_line_content": "\t\tstruct object_id oid;",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": "parse_oid_hex",
          "new_api": null,
          "old_text": "parse_oid_hex(hex_hash, &oid, &end)",
          "new_text": null,
          "old_line_content": "\t\tif (parse_oid_hex(hex_hash, &oid, &end) || *end != '\\n')",
          "new_line_content": "\t\tconst char *end;",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"invalid hash\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"invalid hash\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "oidset_insert",
          "new_api": null,
          "old_text": "oidset_insert(gitmodules_oids, &oid)",
          "new_text": null,
          "old_line_content": "\t\toidset_insert(gitmodules_oids, &oid);",
          "new_line_content": "\t\tif (!read_len)",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&demux, 0, sizeof(demux))",
          "new_text": null,
          "old_line_content": "\tmemset(&demux, 0, sizeof(demux));",
          "new_line_content": "\tstruct pack_header header;",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": "start_async",
          "new_api": null,
          "old_text": "start_async(&demux)",
          "new_text": null,
          "old_line_content": "\t\tif (start_async(&demux))",
          "new_line_content": "\t\t * through demux->out.",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"fetch-pack: unable to fork off sideband demultiplexer\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(_(\"fetch-pack: unable to fork off sideband demultiplexer\"));",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": "read_pack_header",
          "new_api": null,
          "old_text": "read_pack_header(demux.out, &header)",
          "new_text": null,
          "old_line_content": "\t\tif (read_pack_header(demux.out, &header))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"protocol error: bad pack header\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(_(\"protocol error: bad pack header\"));",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": "ntohl",
          "new_api": null,
          "old_text": "ntohl(header.hdr_entries)",
          "new_text": null,
          "old_line_content": "\t\tif (ntohl(header.hdr_entries) < unpack_limit)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&cmd.args, \"--shallow-file\")",
          "new_text": null,
          "old_line_content": "\t\tstrvec_push(&cmd.args, \"--shallow-file\");",
          "new_line_content": "\t\t\tdo_keep = 0;",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&cmd.args, alternate_shallow_file)",
          "new_text": null,
          "old_line_content": "\t\tstrvec_push(&cmd.args, alternate_shallow_file);",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&cmd.args, cmd_name)",
          "new_text": null,
          "old_line_content": "\t\tstrvec_push(&cmd.args, cmd_name);",
          "new_line_content": "\t\tfsck_objects = 1;",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&cmd.args, \"--stdin\")",
          "new_text": null,
          "old_line_content": "\t\tstrvec_push(&cmd.args, \"--stdin\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&cmd.args, \"-v\")",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_push(&cmd.args, \"-v\");",
          "new_line_content": "\t\tif (pack_lockfiles || fsck_objects)",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&cmd.args, \"--fix-thin\")",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_push(&cmd.args, \"--fix-thin\");",
          "new_line_content": "\t\tcmd_name = \"index-pack\";",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": "xgethostname",
          "new_api": null,
          "old_text": "xgethostname(hostname, sizeof(hostname))",
          "new_text": null,
          "old_line_content": "\t\t\tif (xgethostname(hostname, sizeof(hostname)))",
          "new_line_content": "\t\tif (!args->quiet && !args->no_progress)",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(&cmd.args,\n\t\t\t\t     \"--keep=fetch-pack %\"PRIuMAX \" on %s\",\n\t\t\t\t     (uintmax_t)getpid(), hostname)",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_pushf(&cmd.args,",
          "new_line_content": "\t\tif (args->use_thin_pack)",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": "getpid",
          "new_api": null,
          "old_text": "getpid()",
          "new_text": null,
          "old_line_content": "\t\t\t\t     (uintmax_t)getpid(), hostname);",
          "new_line_content": "\t\tif ((do_keep || index_pack_args) && (args->lock_pack || unpack_limit)) {",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&cmd.args, \"--promisor\")",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_push(&cmd.args, \"--promisor\");",
          "new_line_content": "\t\t\t * we still need index-pack to know that this is a",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&cmd.args, cmd_name)",
          "new_text": null,
          "old_line_content": "\t\tstrvec_push(&cmd.args, cmd_name);",
          "new_line_content": "\t\t\t * it is missing).",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(&cmd.args, \"--pack_header=%\"PRIu32\",%\"PRIu32,\n\t\t\t     ntohl(header.hdr_version),\n\t\t\t\t ntohl(header.hdr_entries))",
          "new_text": null,
          "old_line_content": "\t\tstrvec_pushf(&cmd.args, \"--pack_header=%\"PRIu32\",%\"PRIu32,",
          "new_line_content": "\t\tif (args->quiet || args->no_progress)",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": "ntohl",
          "new_api": null,
          "old_text": "ntohl(header.hdr_entries)",
          "new_text": null,
          "old_line_content": "\t\t\t\t ntohl(header.hdr_entries));",
          "new_line_content": "\t\targs->check_self_contained_and_connected = 0;",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&cmd.args, \"--fsck-objects\")",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_push(&cmd.args, \"--fsck-objects\");",
          "new_line_content": "\t\tif (args->from_promisor || index_pack_args)",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(&cmd.args, \"--strict%s\",\n\t\t\t\t     fsck_msg_types.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_pushf(&cmd.args, \"--strict%s\",",
          "new_line_content": "\t\t\t * We cannot use --strict in index-pack because it",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(index_pack_args, cmd.args.v[i])",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_push(index_pack_args, cmd.args.v[i]);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": "start_command",
          "new_api": null,
          "old_text": "start_command(&cmd)",
          "new_text": null,
          "old_line_content": "\tif (start_command(&cmd))",
          "new_line_content": "\t\tfor (i = 0; i < cmd.args.nr; i++)",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "index_pack_lockfile",
          "new_api": null,
          "old_text": "index_pack_lockfile(cmd.out, &is_well_formed)",
          "new_text": null,
          "old_line_content": "\t\tchar *pack_lockfile = index_pack_lockfile(cmd.out, &is_well_formed);",
          "new_line_content": "\tcmd.in = demux.out;",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": "string_list_append_nodup",
          "new_api": null,
          "old_text": "string_list_append_nodup(pack_lockfiles, pack_lockfile)",
          "new_text": null,
          "old_line_content": "\t\t\tstring_list_append_nodup(pack_lockfiles, pack_lockfile);",
          "new_line_content": "\t\tint is_well_formed;",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(cmd.out)",
          "new_text": null,
          "old_line_content": "\t\tclose(cmd.out);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "finish_command",
          "new_api": null,
          "old_text": "finish_command(&cmd)",
          "new_text": null,
          "old_line_content": "\tret = finish_command(&cmd);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": "finish_async",
          "new_api": null,
          "old_text": "finish_async(&demux)",
          "new_text": null,
          "old_line_content": "\tif (use_sideband && finish_async(&demux))",
          "new_line_content": "\tif (!ret || (args->check_self_contained_and_connected && ret == 1))",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"error in sideband demultiplexer\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"error in sideband demultiplexer\"));",
          "new_line_content": "\t\targs->self_contained_and_connected =",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": "create_promisor_file",
          "new_api": null,
          "old_text": "create_promisor_file(pack_lockfiles->items[0].string, sought, nr_sought)",
          "new_text": null,
          "old_line_content": "\t\tcreate_promisor_file(pack_lockfiles->items[0].string, sought, nr_sought);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(a->name, b->name)",
          "new_text": null,
          "old_line_content": "\treturn strcmp(a->name, b->name);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": "copy_ref_list",
          "new_api": null,
          "old_text": "copy_ref_list(orig_ref)",
          "new_text": null,
          "old_line_content": "\tstruct ref *ref = copy_ref_list(orig_ref);",
          "new_line_content": "\t\t\t\t const struct ref *orig_ref,",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": "fetch_negotiator_init",
          "new_api": null,
          "old_text": "fetch_negotiator_init(r, negotiator)",
          "new_text": null,
          "old_line_content": "\tfetch_negotiator_init(r, negotiator);",
          "new_line_content": "\tconst char *agent_feature;",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": "sort_ref_list",
          "new_api": null,
          "old_text": "sort_ref_list(&ref, ref_compare_name)",
          "new_text": null,
          "old_line_content": "\tsort_ref_list(&ref, ref_compare_name);",
          "new_line_content": "\tstruct fetch_negotiator negotiator_alloc;",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": "QSORT",
          "new_api": null,
          "old_text": "QSORT(sought, nr_sought, cmp_ref_by_name)",
          "new_text": null,
          "old_line_content": "\tQSORT(sought, nr_sought, cmp_ref_by_name);",
          "new_line_content": "\tstruct fetch_negotiator *negotiator;",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "server_feature_value",
          "new_api": null,
          "old_text": "server_feature_value(\"agent\", &agent_len)",
          "new_text": null,
          "old_line_content": "\tif ((agent_feature = server_feature_value(\"agent\", &agent_len))) {",
          "new_line_content": "\tnegotiator = &negotiator_alloc;",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"session-id\")",
          "new_text": null,
          "old_line_content": "\tif (!server_supports(\"session-id\"))",
          "new_line_content": "\t\tagent_supported = 1;",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"shallow\")",
          "new_text": null,
          "old_line_content": "\tif (server_supports(\"shallow\"))",
          "new_line_content": "\t\t\t\t      agent_len, agent_feature);",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server supports %s\")",
          "new_text": null,
          "old_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"shallow\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": "is_repository_shallow",
          "new_api": null,
          "old_text": "is_repository_shallow(r)",
          "new_text": null,
          "old_line_content": "\telse if (args->depth > 0 || is_repository_shallow(r))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server supports %s\")",
          "new_text": null,
          "old_line_content": "\t\t\tprint_verbose(args, _(\"Server supports %s\"), \"no-done\");",
          "new_line_content": "\tif (args->depth > 0 || args->deepen_since || args->deepen_not)",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"side-band-64k\")",
          "new_text": null,
          "old_line_content": "\tif (server_supports(\"side-band-64k\")) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server supports %s\")",
          "new_text": null,
          "old_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"side-band-64k\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"side-band\")",
          "new_text": null,
          "old_line_content": "\telse if (server_supports(\"side-band\")) {",
          "new_line_content": "\t\tmulti_ack = 1;",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server supports %s\")",
          "new_text": null,
          "old_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"side-band\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"allow-tip-sha1-in-want\")",
          "new_text": null,
          "old_line_content": "\tif (server_supports(\"allow-tip-sha1-in-want\")) {",
          "new_line_content": "\t\tuse_sideband = 2;",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server supports %s\")",
          "new_text": null,
          "old_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"allow-tip-sha1-in-want\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"allow-reachable-sha1-in-want\")",
          "new_text": null,
          "old_line_content": "\tif (server_supports(\"allow-reachable-sha1-in-want\")) {",
          "new_line_content": "\t\tuse_sideband = 1;",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server supports %s\")",
          "new_text": null,
          "old_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"allow-reachable-sha1-in-want\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"thin-pack\")",
          "new_text": null,
          "old_line_content": "\tif (server_supports(\"thin-pack\"))",
          "new_line_content": "\t\tallow_unadvertised_object_request |= ALLOW_TIP_SHA1;",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server supports %s\")",
          "new_text": null,
          "old_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"thin-pack\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"no-progress\")",
          "new_text": null,
          "old_line_content": "\tif (server_supports(\"no-progress\"))",
          "new_line_content": "\t\tallow_unadvertised_object_request |= ALLOW_REACHABLE_SHA1;",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server supports %s\")",
          "new_text": null,
          "old_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"no-progress\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"include-tag\")",
          "new_text": null,
          "old_line_content": "\tif (server_supports(\"include-tag\"))",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server supports %s\")",
          "new_text": null,
          "old_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"include-tag\");",
          "new_line_content": "\t\targs->use_thin_pack = 0;",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"ofs-delta\")",
          "new_text": null,
          "old_line_content": "\tif (server_supports(\"ofs-delta\"))",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server supports %s\")",
          "new_text": null,
          "old_line_content": "\t\tprint_verbose(args, _(\"Server supports %s\"), \"ofs-delta\");",
          "new_line_content": "\t\targs->no_progress = 0;",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"filter\")",
          "new_text": null,
          "old_line_content": "\tif (server_supports(\"filter\")) {",
          "new_line_content": "\t\targs->include_tag = 0;",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": "warning",
          "new_api": null,
          "old_text": "warning(\"filtering not recognized by server, ignoring\")",
          "new_text": null,
          "old_line_content": "\t\twarning(\"filtering not recognized by server, ignoring\");",
          "new_line_content": "\t\tprefer_ofs_delta = 0;",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"deepen-since\")",
          "new_text": null,
          "old_line_content": "\tif (server_supports(\"deepen-since\")) {",
          "new_line_content": "\t\tserver_supports_filtering = 1;",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server does not support --shallow-since\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"Server does not support --shallow-since\"));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"deepen-not\")",
          "new_text": null,
          "old_line_content": "\tif (server_supports(\"deepen-not\")) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server does not support --shallow-exclude\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"Server does not support --shallow-exclude\"));",
          "new_line_content": "\t} else if (args->deepen_since)",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server does not support --deepen\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"Server does not support --deepen\"));",
          "new_line_content": "\t\tdeepen_not_ok = 1;",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "server_supports_hash",
          "new_api": null,
          "old_text": "server_supports_hash(the_hash_algo->name, NULL)",
          "new_text": null,
          "old_line_content": "\tif (!server_supports_hash(the_hash_algo->name, NULL))",
          "new_line_content": "\t} else if (args->deepen_not)",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "filter_refs",
          "new_api": null,
          "old_text": "filter_refs(args, &ref, sought, nr_sought)",
          "new_text": null,
          "old_line_content": "\tfilter_refs(args, &ref, sought, nr_sought);",
          "new_line_content": "\telse if (args->deepen_relative)",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"no common commits\")",
          "new_text": null,
          "old_line_content": "\t\t\twarning(_(\"no common commits\"));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": "packet_flush",
          "new_api": null,
          "old_text": "packet_flush(fd[1])",
          "new_text": null,
          "old_line_content": "\t\tpacket_flush(fd[1]);",
          "new_line_content": "\t\t\t/* When cloning, it is not unusual to have",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": "setup_alternate_shallow",
          "new_api": null,
          "old_text": "setup_alternate_shallow(&shallow_lock, &alternate_shallow_file,\n\t\t\t\t\tNULL)",
          "new_text": null,
          "old_line_content": "\t\tsetup_alternate_shallow(&shallow_lock, &alternate_shallow_file,",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "setup_temporary_shallow",
          "new_api": null,
          "old_text": "setup_temporary_shallow(si->shallow)",
          "new_text": null,
          "old_line_content": "\t\talternate_shallow_file = setup_temporary_shallow(si->shallow);",
          "new_line_content": "\tif (args->deepen)",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "get_pack",
          "new_api": null,
          "old_text": "get_pack(args, fd, pack_lockfiles, NULL, sought, nr_sought,\n\t\t     &fsck_options.gitmodules_found)",
          "new_text": null,
          "old_line_content": "\tif (get_pack(args, fd, pack_lockfiles, NULL, sought, nr_sought,",
          "new_line_content": "\telse if (si->nr_ours || si->nr_theirs) {",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"fsck failed\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"fsck failed\");",
          "new_line_content": "\t} else",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "is_repository_shallow",
          "new_api": null,
          "old_text": "is_repository_shallow(the_repository)",
          "new_text": null,
          "old_line_content": "\tif (is_repository_shallow(the_repository))",
          "new_line_content": "\treturn ref;",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "write_shallow_commits",
          "new_api": null,
          "old_text": "write_shallow_commits(req_buf, 1, NULL)",
          "new_text": null,
          "old_line_content": "\t\twrite_shallow_commits(req_buf, 1, NULL);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(req_buf, \"deepen %d\", args->depth)",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(req_buf, \"deepen %d\", args->depth);",
          "new_line_content": "static void add_shallow_requests(struct strbuf *req_buf,",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "approxidate",
          "new_api": null,
          "old_text": "approxidate(args->deepen_since)",
          "new_text": null,
          "old_line_content": "\t\ttimestamp_t max_age = approxidate(args->deepen_since);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(req_buf, \"deepen-relative\\n\")",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(req_buf, \"deepen-relative\\n\");",
          "new_line_content": "\t\tfor (i = 0; i < args->deepen_not->nr; i++) {",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": "server_supports_feature",
          "new_api": null,
          "old_text": "server_supports_feature(\"fetch\", \"ref-in-want\", 0)",
          "new_text": null,
          "old_line_content": "\tint use_ref_in_want = server_supports_feature(\"fetch\", \"ref-in-want\", 0);",
          "new_line_content": "\tif (args->deepen_relative)",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "lookup_object",
          "new_api": null,
          "old_text": "lookup_object(the_repository, remote)",
          "new_text": null,
          "old_line_content": "\t\tif (((o = lookup_object(the_repository, remote)) != NULL) &&",
          "new_line_content": "\t\t * about.",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(req_buf, \"want-ref %s\\n\", wants->name)",
          "new_text": null,
          "old_line_content": "\t\t\tpacket_buf_write(req_buf, \"want-ref %s\\n\", wants->name);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": "oidset_iter_init",
          "new_api": null,
          "old_text": "oidset_iter_init(common, &iter)",
          "new_text": null,
          "old_line_content": "\toidset_iter_init(common, &iter);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": "oidset_iter_next",
          "new_api": null,
          "old_text": "oidset_iter_next(&iter)",
          "new_text": null,
          "old_line_content": "\twhile ((oid = oidset_iter_next(&iter))) {",
          "new_line_content": "static void add_common(struct strbuf *req_buf, struct oidset *common)",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(oid)",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(req_buf, \"have %s\\n\", oid_to_hex(oid));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": "next",
          "new_api": null,
          "old_text": "negotiator->next(negotiator)",
          "new_text": null,
          "old_line_content": "\twhile ((oid = negotiator->next(negotiator))) {",
          "new_line_content": "\t\t     struct strbuf *req_buf,",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(oid)",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(req_buf, \"have %s\\n\", oid_to_hex(oid));",
          "new_line_content": "\t\t     int *haves_to_send)",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": "server_supports_v2",
          "new_api": null,
          "old_text": "server_supports_v2(\"fetch\", 1)",
          "new_text": null,
          "old_line_content": "\tif (server_supports_v2(\"fetch\", 1))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(req_buf, \"command=fetch\")",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(req_buf, \"command=fetch\");",
          "new_line_content": "static void write_fetch_command_and_capabilities(struct strbuf *req_buf,",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "server_supports_v2",
          "new_api": null,
          "old_text": "server_supports_v2(\"agent\", 0)",
          "new_text": null,
          "old_line_content": "\tif (server_supports_v2(\"agent\", 0))",
          "new_line_content": "\t\t\t\t\t\t const struct string_list *server_options)",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": "git_user_agent_sanitized",
          "new_api": null,
          "old_text": "git_user_agent_sanitized()",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(req_buf, \"agent=%s\", git_user_agent_sanitized());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": "server_supports_v2",
          "new_api": null,
          "old_text": "server_supports_v2(\"session-id\", 0)",
          "new_text": null,
          "old_line_content": "\tif (advertise_sid && server_supports_v2(\"session-id\", 0))",
          "new_line_content": "\tconst char *hash_name;",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "trace2_session_id",
          "new_api": null,
          "old_text": "trace2_session_id()",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(req_buf, \"session-id=%s\", trace2_session_id());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": "server_feature_v2",
          "new_api": null,
          "old_text": "server_feature_v2(\"object-format\", &hash_name)",
          "new_text": null,
          "old_line_content": "\tif (server_feature_v2(\"object-format\", &hash_name)) {",
          "new_line_content": "\t\tint i;",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "hash_algo_by_name",
          "new_api": null,
          "old_text": "hash_algo_by_name(hash_name)",
          "new_text": null,
          "old_line_content": "\t\tint hash_algo = hash_algo_by_name(hash_name);",
          "new_line_content": "\t\tfor (i = 0; i < server_options->nr; i++)",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"mismatched algorithms: client %s; server %s\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(_(\"mismatched algorithms: client %s; server %s\"),",
          "new_line_content": "\t\t\t\t\t server_options->items[i].string);",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(req_buf, \"object-format=%s\", the_hash_algo->name)",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(req_buf, \"object-format=%s\", the_hash_algo->name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "packet_buf_delim",
          "new_api": null,
          "old_text": "packet_buf_delim(req_buf)",
          "new_text": null,
          "old_line_content": "\tpacket_buf_delim(req_buf);",
          "new_line_content": "\t\t\t    the_hash_algo->name, hash_name);",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "write_fetch_command_and_capabilities",
          "new_api": null,
          "old_text": "write_fetch_command_and_capabilities(&req_buf, args->server_options)",
          "new_text": null,
          "old_line_content": "\twrite_fetch_command_and_capabilities(&req_buf, args->server_options);",
          "new_line_content": "\t\t\t      int sideband_all, int seen_ack)",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&req_buf, \"thin-pack\")",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(&req_buf, \"thin-pack\");",
          "new_line_content": "\tint done_sent = 0;",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&req_buf, \"no-progress\")",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(&req_buf, \"no-progress\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&req_buf, \"include-tag\")",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(&req_buf, \"include-tag\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1276,
          "old_api": "server_supports_feature",
          "new_api": null,
          "old_text": "server_supports_feature(\"fetch\", \"shallow\", 0)",
          "new_text": null,
          "old_line_content": "\tif (server_supports_feature(\"fetch\", \"shallow\", 0))",
          "new_line_content": "\tif (prefer_ofs_delta)",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": "is_repository_shallow",
          "new_api": null,
          "old_text": "is_repository_shallow(the_repository)",
          "new_text": null,
          "old_line_content": "\telse if (is_repository_shallow(the_repository) || args->deepen)",
          "new_line_content": "\tif (sideband_all)",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Server supports filter\")",
          "new_text": null,
          "old_line_content": "\t\tprint_verbose(args, _(\"Server supports filter\"));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&req_buf, \"filter %s\", spec)",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(&req_buf, \"filter %s\", spec);",
          "new_line_content": "\t/* Add filter */",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "warning",
          "new_api": null,
          "old_text": "warning(\"filtering not recognized by server, ignoring\")",
          "new_text": null,
          "old_line_content": "\t\twarning(\"filtering not recognized by server, ignoring\");",
          "new_line_content": "\t    args->filter_options.choice) {",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(s, \"http\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(s, \"https\") || !strcmp(s, \"http\")) {",
          "new_line_content": "\t\tint i;",
          "content_same": false
        },
        {
          "line": 1301,
          "old_api": "strbuf_addch",
          "new_api": null,
          "old_text": "strbuf_addch(&to_send, ',')",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tstrbuf_addch(&to_send, ',');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&to_send, s)",
          "new_text": null,
          "old_line_content": "\t\t\t\tstrbuf_addstr(&to_send, s);",
          "new_line_content": "\t\tfor (i = 0; i < uri_protocols.nr; i++) {",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&req_buf, \"packfile-uris %s\",\n\t\t\t\t\t to_send.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tpacket_buf_write(&req_buf, \"packfile-uris %s\",",
          "new_line_content": "\t\t\t\tif (to_send.len)",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": "add_wants",
          "new_api": null,
          "old_text": "add_wants(wants, &req_buf)",
          "new_text": null,
          "old_line_content": "\tadd_wants(wants, &req_buf);",
          "new_line_content": "\t\t\t\t\t to_send.buf);",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "add_common",
          "new_api": null,
          "old_text": "add_common(&req_buf, common)",
          "new_text": null,
          "old_line_content": "\tadd_common(&req_buf, common);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "add_haves",
          "new_api": null,
          "old_text": "add_haves(negotiator, &req_buf, haves_to_send)",
          "new_text": null,
          "old_line_content": "\thaves_added = add_haves(negotiator, &req_buf, haves_to_send);",
          "new_line_content": "\t/* add wants */",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": "packet_buf_flush",
          "new_api": null,
          "old_text": "packet_buf_flush(&req_buf)",
          "new_text": null,
          "old_line_content": "\tpacket_buf_flush(&req_buf);",
          "new_line_content": "\t\t/* Send Done */",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"unable to write request to remote\")",
          "new_text": null,
          "old_line_content": "\t\tdie_errno(_(\"unable to write request to remote\"));",
          "new_line_content": "\t\tdone_sent = 1;",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&req_buf)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&req_buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": "packet_reader_peek",
          "new_api": null,
          "old_text": "packet_reader_peek(reader)",
          "new_text": null,
          "old_line_content": "\tif (packet_reader_peek(reader) != PACKET_READ_NORMAL)",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"error reading section header '%s'\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"error reading section header '%s'\"), section);",
          "new_line_content": "static int process_section_header(struct packet_reader *reader,",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(reader->line, section)",
          "new_text": null,
          "old_line_content": "\tret = !strcmp(reader->line, section);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": "packet_reader_read",
          "new_api": null,
          "old_text": "packet_reader_read(reader)",
          "new_text": null,
          "old_line_content": "\twhile (packet_reader_read(reader) == PACKET_READ_NORMAL) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(reader->line, \"NAK\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(reader->line, \"NAK\"))",
          "new_line_content": "\t\t       struct object_id *common_oid,",
          "content_same": false
        },
        {
          "line": 1373,
          "old_api": "get_oid_hex",
          "new_api": null,
          "old_text": "get_oid_hex(arg, common_oid)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!get_oid_hex(arg, common_oid)) {",
          "new_line_content": "\t\tconst char *arg;",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": "ack",
          "new_api": null,
          "old_text": "negotiator->ack(negotiator, commit)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tnegotiator->ack(negotiator, commit);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(reader->line, \"ready\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(reader->line, \"ready\")) {",
          "new_line_content": "\t\t\t\tif (negotiator)",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"unexpected acknowledgment line: '%s'\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"unexpected acknowledgment line: '%s'\"), reader->line);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"error processing acks: %d\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"error processing acks: %d\"), reader->status);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"expected packfile to be sent after 'ready'\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"expected packfile to be sent after 'ready'\"));",
          "new_line_content": "\t * only if \"ready\" was sent in this section. The other sections",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"expected no other sections to be sent after no 'ready'\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"expected no other sections to be sent after no 'ready'\"));",
          "new_line_content": "\t * sent. Therefore, a DELIM is expected if \"ready\" is sent, and a FLUSH",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": "process_section_header",
          "new_api": null,
          "old_text": "process_section_header(reader, \"shallow-info\", 0)",
          "new_text": null,
          "old_line_content": "\tprocess_section_header(reader, \"shallow-info\", 0);",
          "new_line_content": "\t\t\t\t struct packet_reader *reader,",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": "packet_reader_read",
          "new_api": null,
          "old_text": "packet_reader_read(reader)",
          "new_text": null,
          "old_line_content": "\twhile (packet_reader_read(reader) == PACKET_READ_NORMAL) {",
          "new_line_content": "\t\t\t\t struct oid_array *shallows,",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "skip_prefix",
          "new_api": null,
          "old_text": "skip_prefix(reader->line, \"shallow \", &arg)",
          "new_text": null,
          "old_line_content": "\t\tif (skip_prefix(reader->line, \"shallow \", &arg)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": "oid_array_append",
          "new_api": null,
          "old_text": "oid_array_append(shallows, &oid)",
          "new_text": null,
          "old_line_content": "\t\t\toid_array_append(shallows, &oid);",
          "new_line_content": "\t\tconst char *arg;",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"object not found: %s\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(_(\"object not found: %s\"), reader->line);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"error processing shallow info: %d\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"error processing shallow info: %d\"), reader->status);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": "register_shallow",
          "new_api": null,
          "old_text": "register_shallow(the_repository, &shallows->oid[i])",
          "new_text": null,
          "old_line_content": "\t\t\tregister_shallow(the_repository, &shallows->oid[i]);",
          "new_line_content": "\t\t * In v0, these lines cannot cause refs to be rejected; do the",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "setup_alternate_shallow",
          "new_api": null,
          "old_text": "setup_alternate_shallow(&shallow_lock, &alternate_shallow_file,\n\t\t\t\t\tNULL)",
          "new_text": null,
          "old_line_content": "\t\tsetup_alternate_shallow(&shallow_lock, &alternate_shallow_file,",
          "new_line_content": "\t\t * same.",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": "prepare_shallow_info",
          "new_api": null,
          "old_text": "prepare_shallow_info(si, shallows)",
          "new_text": null,
          "old_line_content": "\t\tprepare_shallow_info(si, shallows);",
          "new_line_content": "\t} else if (shallows->nr) {",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"source repository is shallow, reject to clone.\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(_(\"source repository is shallow, reject to clone.\"));",
          "new_line_content": "\t\t * shallow. In v0, remote refs that reach these objects are",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": "setup_temporary_shallow",
          "new_api": null,
          "old_text": "setup_temporary_shallow(si->shallow)",
          "new_text": null,
          "old_line_content": "\t\t\t\tsetup_temporary_shallow(si->shallow);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(name, (*(struct ref **)ref)->name)",
          "new_text": null,
          "old_line_content": "\treturn strcmp(name, (*(struct ref **)ref)->name);",
          "new_line_content": "\t\talternate_shallow_file = NULL;",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": "packet_reader_read",
          "new_api": null,
          "old_text": "packet_reader_read(reader)",
          "new_text": null,
          "old_line_content": "\twhile (packet_reader_read(reader) == PACKET_READ_NORMAL) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "bsearch",
          "new_api": null,
          "old_text": "bsearch(end, sought, nr_sought, sizeof(*sought),\n\t\t\t\tcmp_name_ref)",
          "new_text": null,
          "old_line_content": "\t\tfound = bsearch(end, sought, nr_sought, sizeof(*sought),",
          "new_line_content": "\t\tconst char *end;",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"error processing wanted refs: %d\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"error processing wanted refs: %d\"), reader->status);",
          "new_line_content": "\t\tif (!found)",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": "packet_reader_read",
          "new_api": null,
          "old_text": "packet_reader_read(reader)",
          "new_text": null,
          "old_line_content": "\twhile (packet_reader_read(reader) == PACKET_READ_NORMAL) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"expected '<hash> <uri>', got: %s\\n\", reader->line)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"expected '<hash> <uri>', got: %s\\n\", reader->line);",
          "new_line_content": "\t\t\t\t  struct string_list *uris)",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"expected DELIM\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"expected DELIM\");",
          "new_line_content": "\t\t    reader->line[the_hash_algo->hexsz] != ' ')",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": "check_stateless_delimiter",
          "new_api": null,
          "old_text": "check_stateless_delimiter(stateless_rpc, reader,\n\t\t\t\t  _(\"git fetch-pack: expected response end packet\"))",
          "new_text": null,
          "old_line_content": "\tcheck_stateless_delimiter(stateless_rpc, reader,",
          "new_line_content": "\tFETCH_DONE,",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"git fetch-pack: expected response end packet\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t  _(\"git fetch-pack: expected response end packet\"));",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": "copy_ref_list",
          "new_api": null,
          "old_text": "copy_ref_list(orig_ref)",
          "new_text": null,
          "old_line_content": "\tstruct ref *ref = copy_ref_list(orig_ref);",
          "new_line_content": "\t\t\t\t    struct ref **sought, int nr_sought,",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": "fetch_negotiator_init",
          "new_api": null,
          "old_text": "fetch_negotiator_init(r, negotiator)",
          "new_text": null,
          "old_line_content": "\tfetch_negotiator_init(r, negotiator);",
          "new_line_content": "\tint received_ready = 0;",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": "packet_reader_init",
          "new_api": null,
          "old_text": "packet_reader_init(&reader, fd[0], NULL, 0,\n\t\t\t   PACKET_READ_CHOMP_NEWLINE |\n\t\t\t   PACKET_READ_DIE_ON_ERR_PACKET)",
          "new_text": null,
          "old_line_content": "\tpacket_reader_init(&reader, fd[0], NULL, 0,",
          "new_line_content": "\tint i;",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": "git_env_bool",
          "new_api": null,
          "old_text": "git_env_bool(\"GIT_TEST_SIDEBAND_ALL\", 1)",
          "new_text": null,
          "old_line_content": "\tif (git_env_bool(\"GIT_TEST_SIDEBAND_ALL\", 1) &&",
          "new_line_content": "\tnegotiator = &negotiator_alloc;",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": "sort_ref_list",
          "new_api": null,
          "old_text": "sort_ref_list(&ref, ref_compare_name)",
          "new_text": null,
          "old_line_content": "\t\t\tsort_ref_list(&ref, ref_compare_name);",
          "new_line_content": "\t\treader.me = \"fetch-pack\";",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": "QSORT",
          "new_api": null,
          "old_text": "QSORT(sought, nr_sought, cmp_ref_by_name)",
          "new_text": null,
          "old_line_content": "\t\t\tQSORT(sought, nr_sought, cmp_ref_by_name);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": "mark_complete_and_common_ref",
          "new_api": null,
          "old_text": "mark_complete_and_common_ref(negotiator, args, &ref)",
          "new_text": null,
          "old_line_content": "\t\t\tmark_complete_and_common_ref(negotiator, args, &ref);",
          "new_line_content": "\t\t\tallow_unadvertised_object_request |= ALLOW_REACHABLE_SHA1;",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": "filter_refs",
          "new_api": null,
          "old_text": "filter_refs(args, &ref, sought, nr_sought)",
          "new_text": null,
          "old_line_content": "\t\t\tfilter_refs(args, &ref, sought, nr_sought);",
          "new_line_content": "\t\t\tuse_sideband = 2;",
          "content_same": false
        },
        {
          "line": 1588,
          "old_api": "everything_local",
          "new_api": null,
          "old_text": "everything_local(args, &ref)",
          "new_text": null,
          "old_line_content": "\t\t\tif (everything_local(args, &ref))",
          "new_line_content": "\t\t\tif (args->depth > 0 || args->deepen_since || args->deepen_not)",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": "send_fetch_request",
          "new_api": null,
          "old_text": "send_fetch_request(negotiator, fd[1], args, ref,\n\t\t\t\t\t       &common,\n\t\t\t\t\t       &haves_to_send, &in_vain,\n\t\t\t\t\t       reader.use_sideband,\n\t\t\t\t\t       seen_ack)",
          "new_text": null,
          "old_line_content": "\t\t\tif (send_fetch_request(negotiator, fd[1], args, ref,",
          "new_line_content": "\t\t\tif (!negotiation_started) {",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": "process_section_header",
          "new_api": null,
          "old_text": "process_section_header(&reader, \"acknowledgments\", 0)",
          "new_text": null,
          "old_line_content": "\t\t\tprocess_section_header(&reader, \"acknowledgments\", 0);",
          "new_line_content": "\t\t\t\tstate = FETCH_GET_PACK;",
          "content_same": false
        },
        {
          "line": 1616,
          "old_api": "process_ack",
          "new_api": null,
          "old_text": "process_ack(negotiator, &reader, &common_oid,\n\t\t\t\t\t   &received_ready)",
          "new_text": null,
          "old_line_content": "\t\t\twhile (process_ack(negotiator, &reader, &common_oid,",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": "oidset_insert",
          "new_api": null,
          "old_text": "oidset_insert(&common, &common_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\toidset_insert(&common, &common_oid);",
          "new_line_content": "\t\t\t/* Process ACKs/NAKs */",
          "content_same": false
        },
        {
          "line": 1629,
          "old_api": "do_check_stateless_delimiter",
          "new_api": null,
          "old_text": "do_check_stateless_delimiter(args->stateless_rpc, &reader)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdo_check_stateless_delimiter(args->stateless_rpc, &reader);",
          "new_line_content": "\t\t\t\t/*",
          "content_same": false
        },
        {
          "line": 1634,
          "old_api": "trace2_region_leave",
          "new_api": null,
          "old_text": "trace2_region_leave(\"fetch-pack\",\n\t\t\t\t\t    \"negotiation_v2\",\n\t\t\t\t\t    the_repository)",
          "new_text": null,
          "old_line_content": "\t\t\ttrace2_region_leave(\"fetch-pack\",",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": "process_section_header",
          "new_api": null,
          "old_text": "process_section_header(&reader, \"shallow-info\", 1)",
          "new_text": null,
          "old_line_content": "\t\t\tif (process_section_header(&reader, \"shallow-info\", 1))",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": "receive_shallow_info",
          "new_api": null,
          "old_text": "receive_shallow_info(args, &reader, shallows, si)",
          "new_text": null,
          "old_line_content": "\t\t\t\treceive_shallow_info(args, &reader, shallows, si);",
          "new_line_content": "\t\tcase FETCH_GET_PACK:",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": "process_section_header",
          "new_api": null,
          "old_text": "process_section_header(&reader, \"wanted-refs\", 1)",
          "new_text": null,
          "old_line_content": "\t\t\tif (process_section_header(&reader, \"wanted-refs\", 1))",
          "new_line_content": "\t\t\t\t\t    \"negotiation_v2\",",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": "receive_wanted_refs",
          "new_api": null,
          "old_text": "receive_wanted_refs(&reader, sought, nr_sought)",
          "new_text": null,
          "old_line_content": "\t\t\t\treceive_wanted_refs(&reader, sought, nr_sought);",
          "new_line_content": "\t\t\t\t\t    the_repository);",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": "receive_packfile_uris",
          "new_api": null,
          "old_text": "receive_packfile_uris(&reader, &packfile_uris)",
          "new_text": null,
          "old_line_content": "\t\t\t\treceive_packfile_uris(&reader, &packfile_uris);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1668,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&cmd.args, \"http-fetch\")",
          "new_text": null,
          "old_line_content": "\t\tstrvec_push(&cmd.args, \"http-fetch\");",
          "new_line_content": "\t\tint j;",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(&cmd.args, \"--packfile=%.*s\",\n\t\t\t     (int) the_hash_algo->hexsz,\n\t\t\t     packfile_uris.items[i].string)",
          "new_text": null,
          "old_line_content": "\t\tstrvec_pushf(&cmd.args, \"--packfile=%.*s\",",
          "new_line_content": "\t\tstruct child_process cmd = CHILD_PROCESS_INIT;",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(&cmd.args, \"--index-pack-arg=%s\",\n\t\t\t\t     index_pack_args.v[j])",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_pushf(&cmd.args, \"--index-pack-arg=%s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"fetch-pack: unable to spawn http-fetch\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"fetch-pack: unable to spawn http-fetch\");",
          "new_line_content": "\t\t\t\t     index_pack_args.v[j]);",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": "read_in_full",
          "new_api": null,
          "old_text": "read_in_full(cmd.out, packname, 5)",
          "new_text": null,
          "old_line_content": "\t\tif (read_in_full(cmd.out, packname, 5) < 0 ||",
          "new_line_content": "\t\tcmd.git_cmd = 1;",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(packname, \"keep\\t\", 5)",
          "new_text": null,
          "old_line_content": "\t\t    memcmp(packname, \"keep\\t\", 5))",
          "new_line_content": "\t\tcmd.no_stdin = 1;",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"fetch-pack: expected keep then TAB at start of http-fetch output\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"fetch-pack: expected keep then TAB at start of http-fetch output\");",
          "new_line_content": "\t\tcmd.out = -1;",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": "parse_gitmodules_oids",
          "new_api": null,
          "old_text": "parse_gitmodules_oids(cmd.out, &fsck_options.gitmodules_found)",
          "new_text": null,
          "old_line_content": "\t\tparse_gitmodules_oids(cmd.out, &fsck_options.gitmodules_found);",
          "new_line_content": "\t\t\t\t the_hash_algo->hexsz + 1) < 0 ||",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": "finish_command",
          "new_api": null,
          "old_text": "finish_command(&cmd)",
          "new_text": null,
          "old_line_content": "\t\tif (finish_command(&cmd))",
          "new_line_content": "\t\tpackname[the_hash_algo->hexsz] = '\\0';",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"fetch-pack: unable to finish http-fetch\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"fetch-pack: unable to finish http-fetch\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(packfile_uris.items[i].string, packname,\n\t\t\t   the_hash_algo->hexsz)",
          "new_text": null,
          "old_line_content": "\t\tif (memcmp(packfile_uris.items[i].string, packname,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"fetch-pack: pack downloaded from %s does not match expected hash %.*s\",\n\t\t\t    uri, (int) the_hash_algo->hexsz,\n\t\t\t    packfile_uris.items[i].string)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"fetch-pack: pack downloaded from %s does not match expected hash %.*s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": "xstrfmt",
          "new_api": null,
          "old_text": "xstrfmt(\"%s/pack/pack-%s.keep\",\n\t\t\t\t\t\t get_object_directory(),\n\t\t\t\t\t\t packname)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t xstrfmt(\"%s/pack/pack-%s.keep\",",
          "new_line_content": "\t\t\t   the_hash_algo->hexsz))",
          "content_same": false
        },
        {
          "line": 1711,
          "old_api": "string_list_clear",
          "new_api": null,
          "old_text": "string_list_clear(&packfile_uris, 0)",
          "new_text": null,
          "old_line_content": "\tstring_list_clear(&packfile_uris, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"fsck failed\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"fsck failed\");",
          "new_line_content": "\t\t\t\t\t\t packname));",
          "content_same": false
        },
        {
          "line": 1729,
          "old_api": "git_config_pathname",
          "new_api": null,
          "old_text": "git_config_pathname(&path, var, value)",
          "new_text": null,
          "old_line_content": "\t\tif (git_config_pathname(&path, var, value))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1731,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(&fsck_msg_types, \"%cskiplist=%s\",\n\t\t\tfsck_msg_types.len ? ',' : '=', path)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addf(&fsck_msg_types, \"%cskiplist=%s\",",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": "free",
          "new_api": null,
          "old_text": "free((char *)path)",
          "new_text": null,
          "old_line_content": "\t\tfree((char *)path);",
          "new_line_content": "\t\tconst char *path;",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "is_valid_msg_type",
          "new_api": null,
          "old_text": "is_valid_msg_type(var, value)",
          "new_text": null,
          "old_line_content": "\t\tif (is_valid_msg_type(var, value))",
          "new_line_content": "\t\t\tfsck_msg_types.len ? ',' : '=', path);",
          "content_same": false
        },
        {
          "line": 1742,
          "old_api": "warning",
          "new_api": null,
          "old_text": "warning(\"Skipping unknown msg id '%s'\", var)",
          "new_text": null,
          "old_line_content": "\t\t\twarning(\"Skipping unknown msg id '%s'\", var);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": "git_default_config",
          "new_api": null,
          "old_text": "git_default_config(var, value, cb)",
          "new_text": null,
          "old_line_content": "\treturn git_default_config(var, value, cb);",
          "new_line_content": "\t\t\t\tfsck_msg_types.len ? ',' : '=', var, value);",
          "content_same": false
        },
        {
          "line": 1751,
          "old_api": "git_config_get_int",
          "new_api": null,
          "old_text": "git_config_get_int(\"fetch.unpacklimit\", &fetch_unpack_limit)",
          "new_text": null,
          "old_line_content": "\tgit_config_get_int(\"fetch.unpacklimit\", &fetch_unpack_limit);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": "git_config_get_bool",
          "new_api": null,
          "old_text": "git_config_get_bool(\"repack.usedeltabaseoffset\", &prefer_ofs_delta)",
          "new_text": null,
          "old_line_content": "\tgit_config_get_bool(\"repack.usedeltabaseoffset\", &prefer_ofs_delta);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": "git_config_get_bool",
          "new_api": null,
          "old_text": "git_config_get_bool(\"fetch.fsckobjects\", &fetch_fsck_objects)",
          "new_text": null,
          "old_line_content": "\tgit_config_get_bool(\"fetch.fsckobjects\", &fetch_fsck_objects);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1755,
          "old_api": "git_config_get_bool",
          "new_api": null,
          "old_text": "git_config_get_bool(\"transfer.fsckobjects\", &transfer_fsck_objects)",
          "new_text": null,
          "old_line_content": "\tgit_config_get_bool(\"transfer.fsckobjects\", &transfer_fsck_objects);",
          "new_line_content": "static void fetch_pack_config(void)",
          "content_same": false
        },
        {
          "line": 1756,
          "old_api": "git_config_get_bool",
          "new_api": null,
          "old_text": "git_config_get_bool(\"transfer.advertisesid\", &advertise_sid)",
          "new_text": null,
          "old_line_content": "\tgit_config_get_bool(\"transfer.advertisesid\", &advertise_sid);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": "fetch_pack_config",
          "new_api": null,
          "old_text": "fetch_pack_config()",
          "new_text": null,
          "old_line_content": "\tfetch_pack_config();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1789,
          "old_api": "string_list_insert",
          "new_api": null,
          "old_text": "string_list_insert(&names, ref[src]->name)",
          "new_text": null,
          "old_line_content": "\t\titem = string_list_insert(&names, ref[src]->name);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": "string_list_clear",
          "new_api": null,
          "old_text": "string_list_clear(&names, 0)",
          "new_text": null,
          "old_line_content": "\tstring_list_clear(&names, 0);",
          "new_line_content": "\t\tif (src != dst)",
          "content_same": false
        },
        {
          "line": 1813,
          "old_api": "git_path_shallow",
          "new_api": null,
          "old_text": "git_path_shallow(the_repository)",
          "new_text": null,
          "old_line_content": "\t\t\tunlink_or_warn(git_path_shallow(the_repository));",
          "new_line_content": "\tstruct oid_array ref = OID_ARRAY_INIT;",
          "content_same": false
        },
        {
          "line": 1814,
          "old_api": "rollback_shallow_file",
          "new_api": null,
          "old_text": "rollback_shallow_file(the_repository, &shallow_lock)",
          "new_text": null,
          "old_line_content": "\t\t\trollback_shallow_file(the_repository, &shallow_lock);",
          "new_line_content": "\tint *status;",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": "commit_shallow_file",
          "new_api": null,
          "old_text": "commit_shallow_file(the_repository, &shallow_lock)",
          "new_text": null,
          "old_line_content": "\t\t\tcommit_shallow_file(the_repository, &shallow_lock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": "has_object_file",
          "new_api": null,
          "old_text": "has_object_file(&oid[i])",
          "new_text": null,
          "old_line_content": "\t\t\tif (has_object_file(&oid[i]))",
          "new_line_content": "\t\t * shallow points that exist in the pack (iow in repo",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": "oid_array_append",
          "new_api": null,
          "old_text": "oid_array_append(&extra, &oid[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\toid_array_append(&extra, &oid[i]);",
          "new_line_content": "\t\t * after get_pack() and reprepare_packed_git())",
          "content_same": false
        },
        {
          "line": 1837,
          "old_api": "setup_alternate_shallow",
          "new_api": null,
          "old_text": "setup_alternate_shallow(&shallow_lock,\n\t\t\t\t\t\t&alternate_shallow_file,\n\t\t\t\t\t\t&extra)",
          "new_text": null,
          "old_line_content": "\t\t\tsetup_alternate_shallow(&shallow_lock,",
          "new_line_content": "\t\tstruct oid_array extra = OID_ARRAY_INIT;",
          "content_same": false
        },
        {
          "line": 1850,
          "old_api": "remove_nonexistent_theirs_shallow",
          "new_api": null,
          "old_text": "remove_nonexistent_theirs_shallow(si)",
          "new_text": null,
          "old_line_content": "\tremove_nonexistent_theirs_shallow(si);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": "oid_array_append",
          "new_api": null,
          "old_text": "oid_array_append(&ref, &sought[i]->old_oid)",
          "new_text": null,
          "old_line_content": "\t\toid_array_append(&ref, &sought[i]->old_oid);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": "assign_shallow_commits_to_refs",
          "new_api": null,
          "old_text": "assign_shallow_commits_to_refs(si, NULL, NULL)",
          "new_text": null,
          "old_line_content": "\t\tassign_shallow_commits_to_refs(si, NULL, NULL);",
          "new_line_content": "\t\t * so all refs can be accepted. Make sure we only add",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": "oid_array_clear",
          "new_api": null,
          "old_text": "oid_array_clear(&ref)",
          "new_text": null,
          "old_line_content": "\t\t\toid_array_clear(&ref);",
          "new_line_content": "\t\t * refs.",
          "content_same": false
        },
        {
          "line": 1875,
          "old_api": "setup_alternate_shallow",
          "new_api": null,
          "old_text": "setup_alternate_shallow(&shallow_lock,\n\t\t\t\t\t&alternate_shallow_file,\n\t\t\t\t\t&extra)",
          "new_text": null,
          "old_line_content": "\t\tsetup_alternate_shallow(&shallow_lock,",
          "new_line_content": "\t\t\treturn;",
          "content_same": false
        },
        {
          "line": 1879,
          "old_api": "oid_array_clear",
          "new_api": null,
          "old_text": "oid_array_clear(&extra)",
          "new_text": null,
          "old_line_content": "\t\toid_array_clear(&extra);",
          "new_line_content": "\t\tfor (i = 0; i < si->nr_theirs; i++)",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": "CALLOC_ARRAY",
          "new_api": null,
          "old_text": "CALLOC_ARRAY(status, nr_sought)",
          "new_text": null,
          "old_line_content": "\tCALLOC_ARRAY(status, nr_sought);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1890,
          "old_api": "assign_shallow_commits_to_refs",
          "new_api": null,
          "old_text": "assign_shallow_commits_to_refs(si, NULL, status)",
          "new_text": null,
          "old_line_content": "\tassign_shallow_commits_to_refs(si, NULL, status);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1897,
          "old_api": "oid_array_clear",
          "new_api": null,
          "old_text": "oid_array_clear(&ref)",
          "new_text": null,
          "old_line_content": "\toid_array_clear(&ref);",
          "new_line_content": "\tif (si->nr_ours || si->nr_theirs) {",
          "content_same": false
        },
        {
          "line": 1908,
          "old_api": "oidcpy",
          "new_api": null,
          "old_text": "oidcpy(oid, &ref->old_oid)",
          "new_text": null,
          "old_line_content": "\toidcpy(oid, &ref->old_oid);",
          "new_line_content": "\tstruct ref **rm = cb_data;",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": "fetch_pack_setup",
          "new_api": null,
          "old_text": "fetch_pack_setup()",
          "new_text": null,
          "old_line_content": "\tfetch_pack_setup();",
          "new_line_content": "\t\t       enum protocol_version version)",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": "remove_duplicates_in_refs",
          "new_api": null,
          "old_text": "remove_duplicates_in_refs(sought, nr_sought)",
          "new_text": null,
          "old_line_content": "\t\tnr_sought = remove_duplicates_in_refs(sought, nr_sought);",
          "new_line_content": "\tstruct ref *ref_cpy;",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": "packet_flush",
          "new_api": null,
          "old_text": "packet_flush(fd[1])",
          "new_text": null,
          "old_line_content": "\t\tpacket_flush(fd[1]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1934,
          "old_api": "BUG",
          "new_api": null,
          "old_text": "BUG(\"Protocol V2 does not provide shallows at this point in the fetch\")",
          "new_text": null,
          "old_line_content": "\t\t\tBUG(\"Protocol V2 does not provide shallows at this point in the fetch\");",
          "new_line_content": "\tif (version != protocol_v2 && !ref) {",
          "content_same": false
        },
        {
          "line": 1944,
          "old_api": "reprepare_packed_git",
          "new_api": null,
          "old_text": "reprepare_packed_git(the_repository)",
          "new_text": null,
          "old_line_content": "\treprepare_packed_git(the_repository);",
          "new_line_content": "\t\t\t\t\t   pack_lockfiles);",
          "content_same": false
        },
        {
          "line": 1952,
          "old_api": "check_connected",
          "new_api": null,
          "old_text": "check_connected(iterate_ref_map, &iterator, &opt)",
          "new_text": null,
          "old_line_content": "\t\tif (check_connected(iterate_ref_map, &iterator, &opt)) {",
          "new_line_content": "\tif (!args->cloning && args->deepen) {",
          "content_same": false
        },
        {
          "line": 1953,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"remote did not send all necessary objects\")",
          "new_text": null,
          "old_line_content": "\t\t\terror(_(\"remote did not send all necessary objects\"));",
          "new_line_content": "\t\tstruct check_connected_options opt = CHECK_CONNECTED_INIT;",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": "free_refs",
          "new_api": null,
          "old_text": "free_refs(ref_cpy)",
          "new_text": null,
          "old_line_content": "\t\t\tfree_refs(ref_cpy);",
          "new_line_content": "\t\tstruct ref *iterator = ref_cpy;",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "rollback_shallow_file",
          "new_api": null,
          "old_text": "rollback_shallow_file(the_repository, &shallow_lock)",
          "new_text": null,
          "old_line_content": "\t\t\trollback_shallow_file(the_repository, &shallow_lock);",
          "new_line_content": "\t\tif (args->deepen)",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": "clear_shallow_info",
          "new_api": null,
          "old_text": "clear_shallow_info(&si)",
          "new_text": null,
          "old_line_content": "\tclear_shallow_info(&si);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1965,
          "old_api": "oid_array_clear",
          "new_api": null,
          "old_text": "oid_array_clear(&shallows_scratch)",
          "new_text": null,
          "old_line_content": "\toid_array_clear(&shallows_scratch);",
          "new_line_content": "\t\targs->connectivity_checked = 1;",
          "content_same": false
        },
        {
          "line": 1973,
          "old_api": "lookup_object",
          "new_api": null,
          "old_text": "lookup_object(the_repository, oid)",
          "new_text": null,
          "old_line_content": "\tadd_object_array(lookup_object(the_repository, oid), \"\", a);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1981,
          "old_api": "oidset_iter_init",
          "new_api": null,
          "old_text": "oidset_iter_init(s, &iter)",
          "new_text": null,
          "old_line_content": "\toidset_iter_init(s, &iter);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1983,
          "old_api": "oidset_iter_next",
          "new_api": null,
          "old_text": "oidset_iter_next(&iter)",
          "new_text": null,
          "old_line_content": "\twhile ((oid = oidset_iter_next(&iter))) {",
          "new_line_content": "static void clear_common_flag(struct oidset *s)",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": "lookup_object",
          "new_api": null,
          "old_text": "lookup_object(the_repository, oid)",
          "new_text": null,
          "old_line_content": "\t\tstruct object *obj = lookup_object(the_repository, oid);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2005,
          "old_api": "fetch_negotiator_init",
          "new_api": null,
          "old_text": "fetch_negotiator_init(the_repository, &negotiator)",
          "new_text": null,
          "old_line_content": "\tfetch_negotiator_init(the_repository, &negotiator);",
          "new_line_content": "\tint haves_to_send = INITIAL_FLUSH;",
          "content_same": false
        },
        {
          "line": 2006,
          "old_api": "mark_tips",
          "new_api": null,
          "old_text": "mark_tips(&negotiator, negotiation_tips)",
          "new_text": null,
          "old_line_content": "\tmark_tips(&negotiator, negotiation_tips);",
          "new_line_content": "\tint in_vain = 0;",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": "packet_reader_init",
          "new_api": null,
          "old_text": "packet_reader_init(&reader, fd[0], NULL, 0,\n\t\t\t   PACKET_READ_CHOMP_NEWLINE |\n\t\t\t   PACKET_READ_DIE_ON_ERR_PACKET)",
          "new_text": null,
          "old_line_content": "\tpacket_reader_init(&reader, fd[0], NULL, 0,",
          "new_line_content": "\tint last_iteration = 0;",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(&req_buf)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_reset(&req_buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2022,
          "old_api": "write_fetch_command_and_capabilities",
          "new_api": null,
          "old_text": "write_fetch_command_and_capabilities(&req_buf, server_options)",
          "new_text": null,
          "old_line_content": "\t\twrite_fetch_command_and_capabilities(&req_buf, server_options);",
          "new_line_content": "\twhile (!last_iteration) {",
          "content_same": false
        },
        {
          "line": 2024,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&req_buf, \"wait-for-done\")",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(&req_buf, \"wait-for-done\");",
          "new_line_content": "\t\tstruct object_id common_oid;",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": "add_haves",
          "new_api": null,
          "old_text": "add_haves(&negotiator, &req_buf, &haves_to_send)",
          "new_text": null,
          "old_line_content": "\t\thaves_added = add_haves(&negotiator, &req_buf, &haves_to_send);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": "write_in_full",
          "new_api": null,
          "old_text": "write_in_full(fd[1], req_buf.buf, req_buf.len)",
          "new_text": null,
          "old_line_content": "\t\tif (write_in_full(fd[1], req_buf.buf, req_buf.len) < 0)",
          "new_line_content": "\t\tin_vain += haves_added;",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"unable to write request to remote\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie_errno(_(\"unable to write request to remote\"));",
          "new_line_content": "\t\tif (!haves_added || (seen_ack && in_vain >= MAX_IN_VAIN))",
          "content_same": false
        },
        {
          "line": 2037,
          "old_api": "process_section_header",
          "new_api": null,
          "old_text": "process_section_header(&reader, \"acknowledgments\", 0)",
          "new_text": null,
          "old_line_content": "\t\tprocess_section_header(&reader, \"acknowledgments\", 0);",
          "new_line_content": "\t\t/* Send request */",
          "content_same": false
        },
        {
          "line": 2045,
          "old_api": "parse_commit_or_die",
          "new_api": null,
          "old_text": "parse_commit_or_die(commit)",
          "new_text": null,
          "old_line_content": "\t\t\t\tparse_commit_or_die(commit);",
          "new_line_content": "\t\t\t\t   &received_ready)) {",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": "commit_graph_generation",
          "new_api": null,
          "old_text": "commit_graph_generation(commit)",
          "new_text": null,
          "old_line_content": "\t\t\t\tgeneration = commit_graph_generation(commit);",
          "new_line_content": "\t\t\t\t\t\t\t      &common_oid);",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 131,
      "total_additions": 359,
      "total_deletions": 358,
      "total_api_changes": 848
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 8,
        "api_related_lines": 848,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          140,
          144,
          145,
          146,
          147
        ]
      }
    },
    "api_calls_before": 626,
    "api_calls_after": 627,
    "diff_info": {
      "added_lines": 8,
      "removed_lines": 2,
      "total_diff_lines": 22
    }
  }
}