{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/26b89464219d3cfb0af7dc2274751eff641dea8d",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/26b89464219d3cfb0af7dc2274751eff641dea8d/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/26b89464219d3cfb0af7dc2274751eff641dea8d/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/26b89464219d3cfb0af7dc2274751eff641dea8d/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 2965,
          "old_api": "file_exists",
          "new_api": "BUG",
          "old_text": "file_exists(path)",
          "new_text": "BUG(\"do not know how to check file existence in arbitrary repo\")",
          "old_line_content": "\treturn file_exists(path);",
          "new_line_content": "\t\tBUG(\"do not know how to check file existence in arbitrary repo\");",
          "content_same": false
        },
        {
          "line": 2988,
          "old_api": "cmp_icase",
          "new_api": "assert",
          "old_text": "cmp_icase(*dir, *subdir)",
          "new_text": "assert(dir && subdir && *dir && *subdir)",
          "old_line_content": "\twhile (*dir && *subdir && !cmp_icase(*dir, *subdir)) {",
          "new_line_content": "\tassert(dir && subdir && *dir && *subdir);",
          "content_same": false
        },
        {
          "line": 3019,
          "old_api": "free",
          "new_api": "xgetcwd",
          "old_text": "free(cwd)",
          "new_text": "xgetcwd()",
          "old_line_content": "\tfree(cwd);",
          "new_line_content": "\tcwd = xgetcwd();",
          "content_same": false
        },
        {
          "line": 3070,
          "old_api": "is_dir_sep",
          "new_api": "isspace",
          "old_text": "is_dir_sep(end[-5])",
          "new_text": "isspace(end[-1])",
          "old_line_content": "\tif (end - start > 5 && is_dir_sep(end[-5]) &&",
          "new_line_content": "\twhile (start < end && (is_dir_sep(end[-1]) || isspace(end[-1])))",
          "content_same": false
        },
        {
          "line": 3073,
          "old_api": "is_dir_sep",
          "new_api": "strncmp",
          "old_text": "is_dir_sep(end[-1])",
          "new_text": "strncmp(end - 4, \".git\", 4)",
          "old_line_content": "\t\twhile (start < end && is_dir_sep(end[-1]))",
          "new_line_content": "\t    !strncmp(end - 4, \".git\", 4)) {",
          "content_same": false
        },
        {
          "line": 3088,
          "old_api": "isdigit",
          "new_api": "memchr",
          "old_text": "isdigit(ptr[-1])",
          "new_text": "memchr(start, ':', end - start)",
          "old_line_content": "\t\twhile (start < ptr && isdigit(ptr[-1]) && ptr[-1] != ':')",
          "new_line_content": "\t    && memchr(start, ':', end - start) != NULL) {",
          "content_same": false
        },
        {
          "line": 3118,
          "old_api": "xstrndup",
          "new_api": "xstrfmt",
          "old_text": "xstrndup(start, len)",
          "new_text": "xstrfmt(\"%.*s.git\", (int)len, start)",
          "old_line_content": "\t\tdir = xstrndup(start, len);",
          "new_line_content": "\t\tdir = xstrfmt(\"%.*s.git\", (int)len, start);",
          "content_same": false
        },
        {
          "line": 3149,
          "old_api": "is_dir_sep",
          "new_api": "strlen",
          "old_text": "is_dir_sep(end[-1])",
          "new_text": "strlen(dir)",
          "old_line_content": "\twhile (dir < end - 1 && is_dir_sep(end[-1]))",
          "new_line_content": "\tchar *end = dir + strlen(dir);",
          "content_same": false
        },
        {
          "line": 3194,
          "old_api": "lstat",
          "new_api": "strbuf_setlen",
          "old_text": "lstat(path->buf, &st)",
          "new_text": "strbuf_setlen(path, len)",
          "old_line_content": "\t\tif (lstat(path->buf, &st)) {",
          "new_line_content": "\t\tstrbuf_setlen(path, len);",
          "content_same": false
        },
        {
          "line": 3216,
          "old_api": "strbuf_setlen",
          "new_api": "closedir",
          "old_text": "strbuf_setlen(path, original_len)",
          "new_text": "closedir(dir)",
          "old_line_content": "\tstrbuf_setlen(path, original_len);",
          "new_line_content": "\tclosedir(dir);",
          "content_same": false
        },
        {
          "line": 3248,
          "old_api": "add_patterns_from_file_1",
          "new_api": "xdg_config_home",
          "old_text": "add_patterns_from_file_1(dir, excludes_file,\n\t\t\t\t\t dir->untracked ? &dir->ss_excludes_file : NULL)",
          "new_text": "xdg_config_home(\"ignore\")",
          "old_line_content": "\t\tadd_patterns_from_file_1(dir, excludes_file,",
          "new_line_content": "\t\texcludes_file = xdg_config_home(\"ignore\");",
          "content_same": false
        },
        {
          "line": 3255,
          "old_api": "add_patterns_from_file_1",
          "new_api": "git_path_info_exclude",
          "old_text": "add_patterns_from_file_1(dir, path,\n\t\t\t\t\t\t dir->untracked ? &dir->ss_info_exclude : NULL)",
          "new_text": "git_path_info_exclude()",
          "old_line_content": "\t\t\tadd_patterns_from_file_1(dir, path,",
          "new_line_content": "\t\tconst char *path = git_path_info_exclude();",
          "content_same": false
        },
        {
          "line": 3273,
          "old_api": "free",
          "new_api": "add_patterns_from_file_to_list",
          "old_text": "free(sparse_filename)",
          "new_text": "add_patterns_from_file_to_list(sparse_filename, \"\", 0, pl, NULL, 0)",
          "old_line_content": "\tfree(sparse_filename);",
          "new_line_content": "\tres = add_patterns_from_file_to_list(sparse_filename, \"\", 0, pl, NULL, 0);",
          "content_same": false
        },
        {
          "line": 3286,
          "old_api": "xstrdup",
          "new_api": "strrchr",
          "old_text": "xstrdup(name)",
          "new_text": "strrchr(name, '/')",
          "old_line_content": "\t\tchar *dirs = xstrdup(name);",
          "new_line_content": "\tslash = strrchr(name, '/');",
          "content_same": false
        },
        {
          "line": 3293,
          "old_api": "strrchr",
          "new_api": "strcmp",
          "old_text": "strrchr(dirs, '/')",
          "new_text": "strcmp(startup_info->original_cwd, dirs)",
          "old_line_content": "\t\t} while (rmdir(dirs) == 0 && (slash = strrchr(dirs, '/')));",
          "new_line_content": "\t\t\t    !strcmp(startup_info->original_cwd, dirs))",
          "content_same": false
        },
        {
          "line": 3319,
          "old_api": "free",
          "new_api": "clear_pattern_list",
          "old_text": "free(group->pl)",
          "new_text": "clear_pattern_list(pl)",
          "old_line_content": "\t\tfree(group->pl);",
          "new_line_content": "\t\t\tclear_pattern_list(pl);",
          "content_same": false
        },
        {
          "line": 3337,
          "old_api": "memcpy",
          "new_api": "strbuf_release",
          "old_text": "memcpy(dir, &new, sizeof(*dir))",
          "new_text": "strbuf_release(&dir->basebuf)",
          "old_line_content": "\tmemcpy(dir, &new, sizeof(*dir));",
          "new_line_content": "\tstrbuf_release(&dir->basebuf);",
          "content_same": false
        },
        {
          "line": 3394,
          "old_api": "strbuf_add",
          "new_api": "ewah_set",
          "old_text": "strbuf_add(&wd->sb_stat, &stat_data, sizeof(stat_data))",
          "new_text": "ewah_set(wd->valid, i)",
          "old_line_content": "\t\tstrbuf_add(&wd->sb_stat, &stat_data, sizeof(stat_data));",
          "new_line_content": "\t\tewah_set(wd->valid, i);",
          "content_same": false
        },
        {
          "line": 3396,
          "old_api": "is_null_oid",
          "new_api": "strbuf_add",
          "old_text": "is_null_oid(&untracked->exclude_oid)",
          "new_text": "strbuf_add(&wd->sb_stat, &stat_data, sizeof(stat_data))",
          "old_line_content": "\tif (!is_null_oid(&untracked->exclude_oid)) {",
          "new_line_content": "\t\tstrbuf_add(&wd->sb_stat, &stat_data, sizeof(stat_data));",
          "content_same": false
        },
        {
          "line": 3398,
          "old_api": "strbuf_add",
          "new_api": "is_null_oid",
          "old_text": "strbuf_add(&wd->sb_sha1, untracked->exclude_oid.hash,\n\t\t\t   the_hash_algo->rawsz)",
          "new_text": "is_null_oid(&untracked->exclude_oid)",
          "old_line_content": "\t\tstrbuf_add(&wd->sb_sha1, untracked->exclude_oid.hash,",
          "new_line_content": "\tif (!is_null_oid(&untracked->exclude_oid)) {",
          "content_same": false
        },
        {
          "line": 3412,
          "old_api": "strlen",
          "new_api": "strbuf_add",
          "old_text": "strlen(untracked->name)",
          "new_text": "strbuf_add(out, intbuf, intlen)",
          "old_line_content": "\tstrbuf_add(out, untracked->name, strlen(untracked->name) + 1);",
          "new_line_content": "\tstrbuf_add(out, intbuf, intlen);",
          "content_same": false
        },
        {
          "line": 3433,
          "old_api": "stat_data_to_disk",
          "new_api": "CALLOC_ARRAY",
          "old_text": "stat_data_to_disk(&ouc->excludes_file_stat, &untracked->ss_excludes_file.stat)",
          "new_text": "CALLOC_ARRAY(ouc, 1)",
          "old_line_content": "\tstat_data_to_disk(&ouc->excludes_file_stat, &untracked->ss_excludes_file.stat);",
          "new_line_content": "\tCALLOC_ARRAY(ouc, 1);",
          "content_same": false
        },
        {
          "line": 3434,
          "old_api": "htonl",
          "new_api": "stat_data_to_disk",
          "old_text": "htonl(untracked->dir_flags)",
          "new_text": "stat_data_to_disk(&ouc->info_exclude_stat, &untracked->ss_info_exclude.stat)",
          "old_line_content": "\touc->dir_flags = htonl(untracked->dir_flags);",
          "new_line_content": "\tstat_data_to_disk(&ouc->info_exclude_stat, &untracked->ss_info_exclude.stat);",
          "content_same": false
        },
        {
          "line": 3436,
          "old_api": "encode_varint",
          "new_api": "htonl",
          "old_text": "encode_varint(untracked->ident.len, varbuf)",
          "new_text": "htonl(untracked->dir_flags)",
          "old_line_content": "\tvarint_len = encode_varint(untracked->ident.len, varbuf);",
          "new_line_content": "\touc->dir_flags = htonl(untracked->dir_flags);",
          "content_same": false
        },
        {
          "line": 3438,
          "old_api": "strbuf_addbuf",
          "new_api": "encode_varint",
          "old_text": "strbuf_addbuf(out, &untracked->ident)",
          "new_text": "encode_varint(untracked->ident.len, varbuf)",
          "old_line_content": "\tstrbuf_addbuf(out, &untracked->ident);",
          "new_line_content": "\tvarint_len = encode_varint(untracked->ident.len, varbuf);",
          "content_same": false
        },
        {
          "line": 3440,
          "old_api": "strbuf_add",
          "new_api": "strbuf_addbuf",
          "old_text": "strbuf_add(out, ouc, sizeof(*ouc))",
          "new_text": "strbuf_addbuf(out, &untracked->ident)",
          "old_line_content": "\tstrbuf_add(out, ouc, sizeof(*ouc));",
          "new_line_content": "\tstrbuf_addbuf(out, &untracked->ident);",
          "content_same": false
        },
        {
          "line": 3443,
          "old_api": "strlen",
          "new_api": "strbuf_add",
          "old_text": "strlen(untracked->exclude_per_dir)",
          "new_text": "strbuf_add(out, untracked->ss_info_exclude.oid.hash, hashsz)",
          "old_line_content": "\tstrbuf_add(out, untracked->exclude_per_dir, strlen(untracked->exclude_per_dir) + 1);",
          "new_line_content": "\tstrbuf_add(out, untracked->ss_info_exclude.oid.hash, hashsz);",
          "content_same": false
        },
        {
          "line": 3444,
          "old_api": "FREE_AND_NULL",
          "new_api": "strbuf_add",
          "old_text": "FREE_AND_NULL(ouc)",
          "new_text": "strbuf_add(out, untracked->ss_excludes_file.oid.hash, hashsz)",
          "old_line_content": "\tFREE_AND_NULL(ouc);",
          "new_line_content": "\tstrbuf_add(out, untracked->ss_excludes_file.oid.hash, hashsz);",
          "content_same": false
        },
        {
          "line": 3456,
          "old_api": "strbuf_init",
          "new_api": "ewah_new",
          "old_text": "strbuf_init(&wd.out, 1024)",
          "new_text": "ewah_new()",
          "old_line_content": "\tstrbuf_init(&wd.out, 1024);",
          "new_line_content": "\twd.valid      = ewah_new();",
          "content_same": false
        },
        {
          "line": 3457,
          "old_api": "strbuf_init",
          "new_api": "ewah_new",
          "old_text": "strbuf_init(&wd.sb_stat, 1024)",
          "new_text": "ewah_new()",
          "old_line_content": "\tstrbuf_init(&wd.sb_stat, 1024);",
          "new_line_content": "\twd.sha1_valid = ewah_new();",
          "content_same": false
        },
        {
          "line": 3459,
          "old_api": "write_one_dir",
          "new_api": "strbuf_init",
          "old_text": "write_one_dir(untracked->root, &wd)",
          "new_text": "strbuf_init(&wd.sb_stat, 1024)",
          "old_line_content": "\twrite_one_dir(untracked->root, &wd);",
          "new_line_content": "\tstrbuf_init(&wd.sb_stat, 1024);",
          "content_same": false
        },
        {
          "line": 3461,
          "old_api": "encode_varint",
          "new_api": "write_one_dir",
          "old_text": "encode_varint(wd.index, varbuf)",
          "new_text": "write_one_dir(untracked->root, &wd)",
          "old_line_content": "\tvarint_len = encode_varint(wd.index, varbuf);",
          "new_line_content": "\twrite_one_dir(untracked->root, &wd);",
          "content_same": false
        },
        {
          "line": 3463,
          "old_api": "strbuf_addbuf",
          "new_api": "encode_varint",
          "old_text": "strbuf_addbuf(out, &wd.out)",
          "new_text": "encode_varint(wd.index, varbuf)",
          "old_line_content": "\tstrbuf_addbuf(out, &wd.out);",
          "new_line_content": "\tvarint_len = encode_varint(wd.index, varbuf);",
          "content_same": false
        },
        {
          "line": 3464,
          "old_api": "ewah_serialize_strbuf",
          "new_api": "strbuf_add",
          "old_text": "ewah_serialize_strbuf(wd.valid, out)",
          "new_text": "strbuf_add(out, varbuf, varint_len)",
          "old_line_content": "\tewah_serialize_strbuf(wd.valid, out);",
          "new_line_content": "\tstrbuf_add(out, varbuf, varint_len);",
          "content_same": false
        },
        {
          "line": 3465,
          "old_api": "ewah_serialize_strbuf",
          "new_api": "strbuf_addbuf",
          "old_text": "ewah_serialize_strbuf(wd.check_only, out)",
          "new_text": "strbuf_addbuf(out, &wd.out)",
          "old_line_content": "\tewah_serialize_strbuf(wd.check_only, out);",
          "new_line_content": "\tstrbuf_addbuf(out, &wd.out);",
          "content_same": false
        },
        {
          "line": 3467,
          "old_api": "strbuf_addbuf",
          "new_api": "ewah_serialize_strbuf",
          "old_text": "strbuf_addbuf(out, &wd.sb_stat)",
          "new_text": "ewah_serialize_strbuf(wd.check_only, out)",
          "old_line_content": "\tstrbuf_addbuf(out, &wd.sb_stat);",
          "new_line_content": "\tewah_serialize_strbuf(wd.check_only, out);",
          "content_same": false
        },
        {
          "line": 3468,
          "old_api": "strbuf_addbuf",
          "new_api": "ewah_serialize_strbuf",
          "old_text": "strbuf_addbuf(out, &wd.sb_sha1)",
          "new_text": "ewah_serialize_strbuf(wd.sha1_valid, out)",
          "old_line_content": "\tstrbuf_addbuf(out, &wd.sb_sha1);",
          "new_line_content": "\tewah_serialize_strbuf(wd.sha1_valid, out);",
          "content_same": false
        },
        {
          "line": 3469,
          "old_api": "strbuf_addch",
          "new_api": "strbuf_addbuf",
          "old_text": "strbuf_addch(out, '\\0')",
          "new_text": "strbuf_addbuf(out, &wd.sb_stat)",
          "old_line_content": "\tstrbuf_addch(out, '\\0'); /* safe guard for string lists */",
          "new_line_content": "\tstrbuf_addbuf(out, &wd.sb_stat);",
          "content_same": false
        },
        {
          "line": 3471,
          "old_api": "ewah_free",
          "new_api": "strbuf_addch",
          "old_text": "ewah_free(wd.valid)",
          "new_text": "strbuf_addch(out, '\\0')",
          "old_line_content": "\tewah_free(wd.valid);",
          "new_line_content": "\tstrbuf_addch(out, '\\0'); /* safe guard for string lists */",
          "content_same": false
        },
        {
          "line": 3474,
          "old_api": "strbuf_release",
          "new_api": "ewah_free",
          "old_text": "strbuf_release(&wd.out)",
          "new_text": "ewah_free(wd.check_only)",
          "old_line_content": "\tstrbuf_release(&wd.out);",
          "new_line_content": "\tewah_free(wd.check_only);",
          "content_same": false
        },
        {
          "line": 3475,
          "old_api": "strbuf_release",
          "new_api": "ewah_free",
          "old_text": "strbuf_release(&wd.sb_stat)",
          "new_text": "ewah_free(wd.sha1_valid)",
          "old_line_content": "\tstrbuf_release(&wd.sb_stat);",
          "new_line_content": "\tewah_free(wd.sha1_valid);",
          "content_same": false
        },
        {
          "line": 3487,
          "old_api": "free",
          "new_api": "free_untracked",
          "old_text": "free(ucd->untracked[i])",
          "new_text": "free_untracked(ucd->dirs[i])",
          "old_line_content": "\t\tfree(ucd->untracked[i]);",
          "new_line_content": "\t\tfree_untracked(ucd->dirs[i]);",
          "content_same": false
        },
        {
          "line": 3514,
          "old_api": "ntohl",
          "new_api": "memcpy",
          "old_text": "ntohl(to->sd_ctime.nsec)",
          "new_text": "memcpy(to, data, sizeof(*to))",
          "old_line_content": "\tto->sd_ctime.nsec = ntohl(to->sd_ctime.nsec);",
          "new_line_content": "\tmemcpy(to, data, sizeof(*to));",
          "content_same": false
        },
        {
          "line": 3535,
          "old_api": "decode_varint",
          "new_api": "memset",
          "old_text": "decode_varint(&data)",
          "new_text": "memset(&ud, 0, sizeof(ud))",
          "old_line_content": "\tvalue = decode_varint(&data);",
          "new_line_content": "\tmemset(&ud, 0, sizeof(ud));",
          "content_same": false
        },
        {
          "line": 3544,
          "old_api": "decode_varint",
          "new_api": "ALLOC_ARRAY",
          "old_text": "decode_varint(&data)",
          "new_text": "ALLOC_ARRAY(ud.untracked, ud.untracked_nr)",
          "old_line_content": "\tud.dirs_alloc = ud.dirs_nr = decode_varint(&data);",
          "new_line_content": "\t\tALLOC_ARRAY(ud.untracked, ud.untracked_nr);",
          "content_same": false
        },
        {
          "line": 3549,
          "old_api": "memchr",
          "new_api": "ALLOC_ARRAY",
          "old_text": "memchr(data, '\\0', end - data)",
          "new_text": "ALLOC_ARRAY(ud.dirs, ud.dirs_nr)",
          "old_line_content": "\teos = memchr(data, '\\0', end - data);",
          "new_line_content": "\tALLOC_ARRAY(ud.dirs, ud.dirs_nr);",
          "content_same": false
        },
        {
          "line": 3555,
          "old_api": "memcpy",
          "new_api": "st_add3",
          "old_text": "memcpy(untracked->name, data, eos - data + 1)",
          "new_text": "st_add3(sizeof(*untracked), eos - data, 1)",
          "old_line_content": "\tmemcpy(untracked->name, data, eos - data + 1);",
          "new_line_content": "\t*untracked_ = untracked = xmalloc(st_add3(sizeof(*untracked), eos - data, 1));",
          "content_same": false
        },
        {
          "line": 3644,
          "old_api": "strbuf_add",
          "new_api": "CALLOC_ARRAY",
          "old_text": "strbuf_add(&uc->ident, ident, ident_len)",
          "new_text": "CALLOC_ARRAY(uc, 1)",
          "old_line_content": "\tstrbuf_add(&uc->ident, ident, ident_len);",
          "new_line_content": "\tCALLOC_ARRAY(uc, 1);",
          "content_same": false
        },
        {
          "line": 3645,
          "old_api": "load_oid_stat",
          "new_api": "strbuf_init",
          "old_text": "load_oid_stat(&uc->ss_info_exclude,\n\t\t      next + ouc_offset(info_exclude_stat),\n\t\t      next + offset)",
          "new_text": "strbuf_init(&uc->ident, ident_len)",
          "old_line_content": "\tload_oid_stat(&uc->ss_info_exclude,",
          "new_line_content": "\tstrbuf_init(&uc->ident, ident_len);",
          "content_same": false
        },
        {
          "line": 3646,
          "old_api": "ouc_offset",
          "new_api": "strbuf_add",
          "old_text": "ouc_offset(info_exclude_stat)",
          "new_text": "strbuf_add(&uc->ident, ident, ident_len)",
          "old_line_content": "\t\t      next + ouc_offset(info_exclude_stat),",
          "new_line_content": "\tstrbuf_add(&uc->ident, ident, ident_len);",
          "content_same": false
        },
        {
          "line": 3648,
          "old_api": "load_oid_stat",
          "new_api": "ouc_offset",
          "old_text": "load_oid_stat(&uc->ss_excludes_file,\n\t\t      next + ouc_offset(excludes_file_stat),\n\t\t      next + offset + hashsz)",
          "new_text": "ouc_offset(info_exclude_stat)",
          "old_line_content": "\tload_oid_stat(&uc->ss_excludes_file,",
          "new_line_content": "\t\t      next + ouc_offset(info_exclude_stat),",
          "content_same": false
        },
        {
          "line": 3653,
          "old_api": "xstrdup",
          "new_api": "ouc_offset",
          "old_text": "xstrdup(exclude_per_dir)",
          "new_text": "ouc_offset(dir_flags)",
          "old_line_content": "\tuc->exclude_per_dir = xstrdup(exclude_per_dir);",
          "new_line_content": "\tuc->dir_flags = get_be32(next + ouc_offset(dir_flags));",
          "content_same": false
        },
        {
          "line": 3655,
          "old_api": "strlen",
          "new_api": "xstrdup",
          "old_text": "strlen(exclude_per_dir)",
          "new_text": "xstrdup(exclude_per_dir)",
          "old_line_content": "\tnext += exclude_per_dir_offset + strlen(exclude_per_dir) + 1;",
          "new_line_content": "\tuc->exclude_per_dir = xstrdup(exclude_per_dir);",
          "content_same": false
        },
        {
          "line": 3671,
          "old_api": "read_one_dir",
          "new_api": "ALLOC_ARRAY",
          "old_text": "read_one_dir(&uc->root, &rd)",
          "new_text": "ALLOC_ARRAY(rd.ucd, len)",
          "old_line_content": "\tif (read_one_dir(&uc->root, &rd) || rd.index != len)",
          "new_line_content": "\tALLOC_ARRAY(rd.ucd, len);",
          "content_same": false
        },
        {
          "line": 3698,
          "old_api": "ewah_free",
          "new_api": "free",
          "old_text": "ewah_free(rd.check_only)",
          "new_text": "free(rd.ucd)",
          "old_line_content": "\tewah_free(rd.check_only);",
          "new_line_content": "\tfree(rd.ucd);",
          "content_same": false
        },
        {
          "line": 3751,
          "old_api": "invalidate_one_component",
          "new_api": "lookup_untracked",
          "old_text": "invalidate_one_component(uc, d, rest + 1,\n\t\t\t\t\t\t len - (component_len + 1))",
          "new_text": "lookup_untracked(uc, dir, path, component_len)",
          "old_line_content": "\t\t\tinvalidate_one_component(uc, d, rest + 1,",
          "new_line_content": "\t\t\tlookup_untracked(uc, dir, path, component_len);",
          "content_same": false
        },
        {
          "line": 3769,
          "old_api": "invalidate_one_component",
          "new_api": "verify_path",
          "old_text": "invalidate_one_component(istate->untracked, istate->untracked->root,\n\t\t\t\t path, strlen(path))",
          "new_text": "verify_path(path, 0)",
          "old_line_content": "\tinvalidate_one_component(istate->untracked, istate->untracked->root,",
          "new_line_content": "\tif (!safe_path && !verify_path(path, 0))",
          "content_same": false
        },
        {
          "line": 3825,
          "old_api": "strbuf_addf",
          "new_api": "strbuf_reset",
          "old_text": "strbuf_addf(&sub_wt, \"%s/%s\", sub_worktree, sub->path)",
          "new_text": "strbuf_reset(&sub_wt)",
          "old_line_content": "\t\tstrbuf_addf(&sub_wt, \"%s/%s\", sub_worktree, sub->path);",
          "new_line_content": "\t\tstrbuf_reset(&sub_wt);",
          "content_same": false
        },
        {
          "line": 3826,
          "old_api": "submodule_name_to_gitdir",
          "new_api": "strbuf_reset",
          "old_text": "submodule_name_to_gitdir(&sub_gd, &subrepo, sub->name)",
          "new_text": "strbuf_reset(&sub_gd)",
          "old_line_content": "\t\tsubmodule_name_to_gitdir(&sub_gd, &subrepo, sub->name);",
          "new_line_content": "\t\tstrbuf_reset(&sub_gd);",
          "content_same": false
        },
        {
          "line": 3828,
          "old_api": "connect_work_tree_and_git_dir",
          "new_api": "submodule_name_to_gitdir",
          "old_text": "connect_work_tree_and_git_dir(sub_wt.buf, sub_gd.buf, 1)",
          "new_text": "submodule_name_to_gitdir(&sub_gd, &subrepo, sub->name)",
          "old_line_content": "\t\tconnect_work_tree_and_git_dir(sub_wt.buf, sub_gd.buf, 1);",
          "new_line_content": "\t\tsubmodule_name_to_gitdir(&sub_gd, &subrepo, sub->name);",
          "content_same": false
        },
        {
          "line": 3830,
          "old_api": "strbuf_release",
          "new_api": "connect_work_tree_and_git_dir",
          "old_text": "strbuf_release(&sub_wt)",
          "new_text": "connect_work_tree_and_git_dir(sub_wt.buf, sub_gd.buf, 1)",
          "old_line_content": "\tstrbuf_release(&sub_wt);",
          "new_line_content": "\t\tconnect_work_tree_and_git_dir(sub_wt.buf, sub_gd.buf, 1);",
          "content_same": false
        },
        {
          "line": 3832,
          "old_api": "repo_clear",
          "new_api": "strbuf_release",
          "old_text": "repo_clear(&subrepo)",
          "new_text": "strbuf_release(&sub_wt)",
          "old_line_content": "\trepo_clear(&subrepo);",
          "new_line_content": "\tstrbuf_release(&sub_wt);",
          "content_same": false
        },
        {
          "line": 3847,
          "old_api": "_",
          "new_api": "strbuf_addf",
          "old_text": "_(\"could not create directories for %s\")",
          "new_text": "strbuf_addf(&gitfile_sb, \"%s/.git\", work_tree_)",
          "old_line_content": "\t\tdie(_(\"could not create directories for %s\"), gitfile_sb.buf);",
          "new_line_content": "\tstrbuf_addf(&gitfile_sb, \"%s/.git\", work_tree_);",
          "content_same": false
        },
        {
          "line": 3852,
          "old_api": "_",
          "new_api": "strbuf_addf",
          "old_text": "_(\"could not create directories for %s\")",
          "new_text": "strbuf_addf(&cfg_sb, \"%s/config\", git_dir_)",
          "old_line_content": "\t\tdie(_(\"could not create directories for %s\"), cfg_sb.buf);",
          "new_line_content": "\tstrbuf_addf(&cfg_sb, \"%s/config\", git_dir_);",
          "content_same": false
        },
        {
          "line": 3854,
          "old_api": "real_pathdup",
          "new_api": "_",
          "old_text": "real_pathdup(git_dir_, 1)",
          "new_text": "_(\"could not create directories for %s\")",
          "old_line_content": "\tgit_dir = real_pathdup(git_dir_, 1);",
          "new_line_content": "\t\tdie(_(\"could not create directories for %s\"), cfg_sb.buf);",
          "content_same": false
        },
        {
          "line": 3861,
          "old_api": "git_config_set_in_file",
          "new_api": "relative_path",
          "old_text": "git_config_set_in_file(cfg_sb.buf, \"core.worktree\",\n\t\t\t       relative_path(work_tree, git_dir, &rel_path))",
          "new_text": "relative_path(git_dir, work_tree, &rel_path)",
          "old_line_content": "\tgit_config_set_in_file(cfg_sb.buf, \"core.worktree\",",
          "new_line_content": "\t\t   relative_path(git_dir, work_tree, &rel_path));",
          "content_same": false
        },
        {
          "line": 3864,
          "old_api": "strbuf_release",
          "new_api": "relative_path",
          "old_text": "strbuf_release(&gitfile_sb)",
          "new_text": "relative_path(work_tree, git_dir, &rel_path)",
          "old_line_content": "\tstrbuf_release(&gitfile_sb);",
          "new_line_content": "\t\t\t       relative_path(work_tree, git_dir, &rel_path));",
          "content_same": false
        },
        {
          "line": 3871,
          "old_api": "free",
          "new_api": "connect_wt_gitdir_in_nested",
          "old_text": "free(work_tree)",
          "new_text": "connect_wt_gitdir_in_nested(work_tree, git_dir)",
          "old_line_content": "\tfree(work_tree);",
          "new_line_content": "\t\tconnect_wt_gitdir_in_nested(work_tree, git_dir);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 3072,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(end[-5])",
          "old_line_content": "\t\tend -= 5;",
          "new_line_content": "\tif (end - start > 5 && is_dir_sep(end[-5]) &&",
          "content_same": false
        },
        {
          "line": 3075,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(end[-1])",
          "old_line_content": "\t}",
          "new_line_content": "\t\twhile (start < end && is_dir_sep(end[-1]))",
          "content_same": false
        },
        {
          "line": 3593,
          "old_api": null,
          "new_api": "stat_data_from_disk",
          "old_text": null,
          "new_text": "stat_data_from_disk(&ud->stat_data, rd->data)",
          "old_line_content": "\tud->valid = 1;",
          "new_line_content": "\tstat_data_from_disk(&ud->stat_data, rd->data);",
          "content_same": false
        },
        {
          "line": 3087,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(start, '/', end - start)",
          "old_line_content": "\t\tptr = end;",
          "new_line_content": "\tif (memchr(start, '/', end - start) == NULL",
          "content_same": false
        },
        {
          "line": 3090,
          "old_api": null,
          "new_api": "isdigit",
          "old_text": null,
          "new_text": "isdigit(ptr[-1])",
          "old_line_content": "\t\tif (start < ptr && ptr[-1] == ':')",
          "new_line_content": "\t\twhile (start < ptr && isdigit(ptr[-1]) && ptr[-1] != ':')",
          "content_same": false
        },
        {
          "line": 3606,
          "old_api": null,
          "new_api": "oidread",
          "old_text": null,
          "new_text": "oidread(&ud->exclude_oid, rd->data)",
          "old_line_content": "}",
          "new_line_content": "\toidread(&ud->exclude_oid, rd->data);",
          "content_same": false
        },
        {
          "line": 3613,
          "old_api": null,
          "new_api": "stat_data_from_disk",
          "old_text": null,
          "new_text": "stat_data_from_disk(&oid_stat->stat, data)",
          "old_line_content": "\toid_stat->valid = 1;",
          "new_line_content": "\tstat_data_from_disk(&oid_stat->stat, data);",
          "content_same": false
        },
        {
          "line": 3614,
          "old_api": null,
          "new_api": "oidread",
          "old_text": null,
          "new_text": "oidread(&oid_stat->oid, sha1)",
          "old_line_content": "}",
          "new_line_content": "\toidread(&oid_stat->oid, sha1);",
          "content_same": false
        },
        {
          "line": 3103,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(ptr[-1])",
          "old_line_content": "\tstart = ptr;",
          "new_line_content": "\twhile (start < ptr && !is_dir_sep(ptr[-1]) && ptr[-1] != ':')",
          "content_same": false
        },
        {
          "line": 3111,
          "old_api": null,
          "new_api": "strip_suffix_mem",
          "old_text": null,
          "new_text": "strip_suffix_mem(start, &len, is_bundle ? \".bundle\" : \".git\")",
          "old_line_content": "\tif (!len || (len == 1 && *start == '/'))",
          "new_line_content": "\tstrip_suffix_mem(start, &len, is_bundle ? \".bundle\" : \".git\");",
          "content_same": false
        },
        {
          "line": 3114,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"No directory name could be guessed.\\n\"\n\t\t      \"Please specify a directory on the command line\")",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"No directory name could be guessed.\\n\"",
          "content_same": false
        },
        {
          "line": 3120,
          "old_api": null,
          "new_api": "xstrndup",
          "old_text": null,
          "new_text": "xstrndup(start, len)",
          "old_line_content": "\t * Replace sequences of 'control' characters and whitespace",
          "new_line_content": "\t\tdir = xstrndup(start, len);",
          "content_same": false
        },
        {
          "line": 3635,
          "old_api": null,
          "new_api": "decode_varint",
          "old_text": null,
          "new_text": "decode_varint(&next)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\tident_len = decode_varint(&next);",
          "content_same": false
        },
        {
          "line": 3132,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(ch)",
          "old_line_content": "\t\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (isspace(ch)) {",
          "content_same": false
        },
        {
          "line": 3647,
          "old_api": null,
          "new_api": "load_oid_stat",
          "old_text": null,
          "new_text": "load_oid_stat(&uc->ss_info_exclude,\n\t\t      next + ouc_offset(info_exclude_stat),\n\t\t      next + offset)",
          "old_line_content": "\t\t      next + offset);",
          "new_line_content": "\tload_oid_stat(&uc->ss_info_exclude,",
          "content_same": false
        },
        {
          "line": 3650,
          "old_api": null,
          "new_api": "load_oid_stat",
          "old_text": null,
          "new_text": "load_oid_stat(&uc->ss_excludes_file,\n\t\t      next + ouc_offset(excludes_file_stat),\n\t\t      next + offset + hashsz)",
          "old_line_content": "\t\t      next + offset + hashsz);",
          "new_line_content": "\tload_oid_stat(&uc->ss_excludes_file,",
          "content_same": false
        },
        {
          "line": 3657,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(exclude_per_dir)",
          "old_line_content": "\t\tgoto done2;",
          "new_line_content": "\tnext += exclude_per_dir_offset + strlen(exclude_per_dir) + 1;",
          "content_same": false
        },
        {
          "line": 3661,
          "old_api": null,
          "new_api": "decode_varint",
          "old_text": null,
          "new_text": "decode_varint(&next)",
          "old_line_content": "\t\tgoto done2;",
          "new_line_content": "\tlen = decode_varint(&next);",
          "content_same": false
        },
        {
          "line": 3151,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(end[-1])",
          "old_line_content": "\t*end = '\\0';",
          "new_line_content": "\twhile (dir < end - 1 && is_dir_sep(end[-1]))",
          "content_same": false
        },
        {
          "line": 3666,
          "old_api": null,
          "new_api": "ewah_new",
          "old_text": null,
          "new_text": "ewah_new()",
          "old_line_content": "\trd.data\t      = next;",
          "new_line_content": "\trd.check_only = ewah_new();",
          "content_same": false
        },
        {
          "line": 3667,
          "old_api": null,
          "new_api": "ewah_new",
          "old_text": null,
          "new_text": "ewah_new()",
          "old_line_content": "\trd.end\t      = end;",
          "new_line_content": "\trd.sha1_valid = ewah_new();",
          "content_same": false
        },
        {
          "line": 3673,
          "old_api": null,
          "new_api": "read_one_dir",
          "old_text": null,
          "new_text": "read_one_dir(&uc->root, &rd)",
          "old_line_content": "",
          "new_line_content": "\tif (read_one_dir(&uc->root, &rd) || rd.index != len)",
          "content_same": false
        },
        {
          "line": 3677,
          "old_api": null,
          "new_api": "ewah_read_mmap",
          "old_text": null,
          "new_text": "ewah_read_mmap(rd.valid, next, end - next)",
          "old_line_content": "\t\tgoto done;",
          "new_line_content": "\tlen = ewah_read_mmap(rd.valid, next, end - next);",
          "content_same": false
        },
        {
          "line": 3167,
          "old_api": null,
          "new_api": "resolve_gitlink_ref",
          "old_text": null,
          "new_text": "resolve_gitlink_ref(path->buf, \"HEAD\", &submodule_head)",
          "old_line_content": "\t\tif (kept_up)",
          "new_line_content": "\t    !resolve_gitlink_ref(path->buf, \"HEAD\", &submodule_head)) {",
          "content_same": false
        },
        {
          "line": 3682,
          "old_api": null,
          "new_api": "ewah_read_mmap",
          "old_text": null,
          "new_text": "ewah_read_mmap(rd.check_only, next, end - next)",
          "old_line_content": "\t\tgoto done;",
          "new_line_content": "\tlen = ewah_read_mmap(rd.check_only, next, end - next);",
          "content_same": false
        },
        {
          "line": 3175,
          "old_api": null,
          "new_api": "opendir",
          "old_text": null,
          "new_text": "opendir(path->buf)",
          "old_line_content": "\t\tif (errno == ENOENT)",
          "new_line_content": "\tdir = opendir(path->buf);",
          "content_same": false
        },
        {
          "line": 3687,
          "old_api": null,
          "new_api": "ewah_read_mmap",
          "old_text": null,
          "new_text": "ewah_read_mmap(rd.sha1_valid, next, end - next)",
          "old_line_content": "\t\tgoto done;",
          "new_line_content": "\tlen = ewah_read_mmap(rd.sha1_valid, next, end - next);",
          "content_same": false
        },
        {
          "line": 3693,
          "old_api": null,
          "new_api": "ewah_each_bit",
          "old_text": null,
          "new_text": "ewah_each_bit(rd.valid, read_stat, &rd)",
          "old_line_content": "\tnext = rd.data;",
          "new_line_content": "\tewah_each_bit(rd.valid, read_stat, &rd);",
          "content_same": false
        },
        {
          "line": 3694,
          "old_api": null,
          "new_api": "ewah_each_bit",
          "old_text": null,
          "new_text": "ewah_each_bit(rd.sha1_valid, read_oid, &rd)",
          "old_line_content": "",
          "new_line_content": "\tewah_each_bit(rd.sha1_valid, read_oid, &rd);",
          "content_same": false
        },
        {
          "line": 3184,
          "old_api": null,
          "new_api": "rmdir",
          "old_text": null,
          "new_text": "rmdir(path->buf)",
          "old_line_content": "\t\t\treturn -1;",
          "new_line_content": "\t\t\treturn rmdir(path->buf);",
          "content_same": false
        },
        {
          "line": 3188,
          "old_api": null,
          "new_api": "strbuf_complete",
          "old_text": null,
          "new_text": "strbuf_complete(path, '/')",
          "old_line_content": "\tlen = path->len;",
          "new_line_content": "\tstrbuf_complete(path, '/');",
          "content_same": false
        },
        {
          "line": 3700,
          "old_api": null,
          "new_api": "ewah_free",
          "old_text": null,
          "new_text": "ewah_free(rd.check_only)",
          "old_line_content": "done2:",
          "new_line_content": "\tewah_free(rd.check_only);",
          "content_same": false
        },
        {
          "line": 3701,
          "old_api": null,
          "new_api": "ewah_free",
          "old_text": null,
          "new_text": "ewah_free(rd.sha1_valid)",
          "old_line_content": "\tif (next != end) {",
          "new_line_content": "\tewah_free(rd.sha1_valid);",
          "content_same": false
        },
        {
          "line": 3191,
          "old_api": null,
          "new_api": "readdir_skip_dot_and_dotdot",
          "old_text": null,
          "new_text": "readdir_skip_dot_and_dotdot(dir)",
          "old_line_content": "",
          "new_line_content": "\twhile ((e = readdir_skip_dot_and_dotdot(dir)) != NULL) {",
          "content_same": false
        },
        {
          "line": 3704,
          "old_api": null,
          "new_api": "free_untracked_cache",
          "old_text": null,
          "new_text": "free_untracked_cache(uc)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tfree_untracked_cache(uc);",
          "content_same": false
        },
        {
          "line": 3195,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(path, e->d_name)",
          "old_line_content": "\t\t\tif (errno == ENOENT)",
          "new_line_content": "\t\tstrbuf_addstr(path, e->d_name);",
          "content_same": false
        },
        {
          "line": 3196,
          "old_api": null,
          "new_api": "lstat",
          "old_text": null,
          "new_text": "lstat(path->buf, &st)",
          "old_line_content": "\t\t\t\t/*",
          "new_line_content": "\t\tif (lstat(path->buf, &st)) {",
          "content_same": false
        },
        {
          "line": 3204,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(st.st_mode)",
          "old_line_content": "\t\t\t\tcontinue; /* happy */",
          "new_line_content": "\t\t} else if (S_ISDIR(st.st_mode)) {",
          "content_same": false
        },
        {
          "line": 3205,
          "old_api": null,
          "new_api": "remove_dir_recurse",
          "old_text": null,
          "new_text": "remove_dir_recurse(path, flag, &kept_down)",
          "old_line_content": "\t\t} else if (!only_empty &&",
          "new_line_content": "\t\t\tif (!remove_dir_recurse(path, flag, &kept_down))",
          "content_same": false
        },
        {
          "line": 3208,
          "old_api": null,
          "new_api": "unlink",
          "old_text": null,
          "new_text": "unlink(path->buf)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t   (!unlink(path->buf) || errno == ENOENT)) {",
          "content_same": false
        },
        {
          "line": 3218,
          "old_api": null,
          "new_api": "strbuf_setlen",
          "old_text": null,
          "new_text": "strbuf_setlen(path, original_len)",
          "old_line_content": "\t\tif (!purge_original_cwd &&",
          "new_line_content": "\tstrbuf_setlen(path, original_len);",
          "content_same": false
        },
        {
          "line": 3222,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(startup_info->original_cwd, path->buf)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\t    !strcmp(startup_info->original_cwd, path->buf))",
          "content_same": false
        },
        {
          "line": 3225,
          "old_api": null,
          "new_api": "rmdir",
          "old_text": null,
          "new_text": "rmdir(path->buf)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\t\tret = (!rmdir(path->buf) || errno == ENOENT) ? 0 : -1;",
          "content_same": false
        },
        {
          "line": 3746,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(path, '/')",
          "old_line_content": "\tif (rest) {",
          "new_line_content": "\tconst char *rest = strchr(path, '/');",
          "content_same": false
        },
        {
          "line": 3237,
          "old_api": null,
          "new_api": "remove_dir_recurse",
          "old_text": null,
          "new_text": "remove_dir_recurse(path, flag, NULL)",
          "old_line_content": "",
          "new_line_content": "\treturn remove_dir_recurse(path, flag, NULL);",
          "content_same": false
        },
        {
          "line": 3753,
          "old_api": null,
          "new_api": "invalidate_one_component",
          "old_text": null,
          "new_text": "invalidate_one_component(uc, d, rest + 1,\n\t\t\t\t\t\t len - (component_len + 1))",
          "old_line_content": "\t\tif (ret)",
          "new_line_content": "\t\t\tinvalidate_one_component(uc, d, rest + 1,",
          "content_same": false
        },
        {
          "line": 3756,
          "old_api": null,
          "new_api": "invalidate_one_directory",
          "old_text": null,
          "new_text": "invalidate_one_directory(uc, dir)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tinvalidate_one_directory(uc, dir);",
          "content_same": false
        },
        {
          "line": 3760,
          "old_api": null,
          "new_api": "invalidate_one_directory",
          "old_text": null,
          "new_text": "invalidate_one_directory(uc, dir)",
          "old_line_content": "}",
          "new_line_content": "\tinvalidate_one_directory(uc, dir);",
          "content_same": false
        },
        {
          "line": 3249,
          "old_api": null,
          "new_api": "access_or_warn",
          "old_text": null,
          "new_text": "access_or_warn(excludes_file, R_OK, 0)",
          "old_line_content": "\t\t\t\t\t dir->untracked ? &dir->ss_excludes_file : NULL);",
          "new_line_content": "\tif (excludes_file && !access_or_warn(excludes_file, R_OK, 0))",
          "content_same": false
        },
        {
          "line": 3250,
          "old_api": null,
          "new_api": "add_patterns_from_file_1",
          "old_text": null,
          "new_text": "add_patterns_from_file_1(dir, excludes_file,\n\t\t\t\t\t dir->untracked ? &dir->ss_excludes_file : NULL)",
          "old_line_content": "",
          "new_line_content": "\t\tadd_patterns_from_file_1(dir, excludes_file,",
          "content_same": false
        },
        {
          "line": 3256,
          "old_api": null,
          "new_api": "access_or_warn",
          "old_text": null,
          "new_text": "access_or_warn(path, R_OK, 0)",
          "old_line_content": "\t\t\t\t\t\t dir->untracked ? &dir->ss_info_exclude : NULL);",
          "new_line_content": "\t\tif (!access_or_warn(path, R_OK, 0))",
          "content_same": false
        },
        {
          "line": 3257,
          "old_api": null,
          "new_api": "add_patterns_from_file_1",
          "old_text": null,
          "new_text": "add_patterns_from_file_1(dir, path,\n\t\t\t\t\t\t dir->untracked ? &dir->ss_info_exclude : NULL)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tadd_patterns_from_file_1(dir, path,",
          "content_same": false
        },
        {
          "line": 3771,
          "old_api": null,
          "new_api": "invalidate_one_component",
          "old_text": null,
          "new_text": "invalidate_one_component(istate->untracked, istate->untracked->root,\n\t\t\t\t path, strlen(path))",
          "old_line_content": "}",
          "new_line_content": "\tinvalidate_one_component(istate->untracked, istate->untracked->root,",
          "content_same": false
        },
        {
          "line": 3772,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(path)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t path, strlen(path));",
          "content_same": false
        },
        {
          "line": 3264,
          "old_api": null,
          "new_api": "git_pathdup",
          "old_text": null,
          "new_text": "git_pathdup(\"info/sparse-checkout\")",
          "old_line_content": "",
          "new_line_content": "\treturn git_pathdup(\"info/sparse-checkout\");",
          "content_same": false
        },
        {
          "line": 3778,
          "old_api": null,
          "new_api": "untracked_cache_invalidate_path",
          "old_text": null,
          "new_text": "untracked_cache_invalidate_path(istate, path, 1)",
          "old_line_content": "",
          "new_line_content": "\tuntracked_cache_invalidate_path(istate, path, 1);",
          "content_same": false
        },
        {
          "line": 3270,
          "old_api": null,
          "new_api": "get_sparse_checkout_filename",
          "old_text": null,
          "new_text": "get_sparse_checkout_filename()",
          "old_line_content": "\tpl->use_cone_patterns = core_sparse_checkout_cone;",
          "new_line_content": "\tchar *sparse_filename = get_sparse_checkout_filename();",
          "content_same": false
        },
        {
          "line": 3784,
          "old_api": null,
          "new_api": "untracked_cache_invalidate_path",
          "old_text": null,
          "new_text": "untracked_cache_invalidate_path(istate, path, 1)",
          "old_line_content": "",
          "new_line_content": "\tuntracked_cache_invalidate_path(istate, path, 1);",
          "content_same": false
        },
        {
          "line": 3275,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(sparse_filename)",
          "old_line_content": "}",
          "new_line_content": "\tfree(sparse_filename);",
          "content_same": false
        },
        {
          "line": 3283,
          "old_api": null,
          "new_api": "is_missing_file_error",
          "old_text": null,
          "new_text": "is_missing_file_error(errno)",
          "old_line_content": "",
          "new_line_content": "\tif (unlink(name) && !is_missing_file_error(errno))",
          "content_same": false
        },
        {
          "line": 3798,
          "old_api": null,
          "new_api": "repo_init",
          "old_text": null,
          "new_text": "repo_init(&subrepo, sub_gitdir, sub_worktree)",
          "old_line_content": "",
          "new_line_content": "\tif (repo_init(&subrepo, sub_gitdir, sub_worktree))",
          "content_same": false
        },
        {
          "line": 3288,
          "old_api": null,
          "new_api": "xstrdup",
          "old_text": null,
          "new_text": "xstrdup(name)",
          "old_line_content": "\t\tdo {",
          "new_line_content": "\t\tchar *dirs = xstrdup(name);",
          "content_same": false
        },
        {
          "line": 3801,
          "old_api": null,
          "new_api": "repo_read_index",
          "old_text": null,
          "new_text": "repo_read_index(&subrepo)",
          "old_line_content": "",
          "new_line_content": "\tif (repo_read_index(&subrepo) < 0)",
          "content_same": false
        },
        {
          "line": 3802,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"index file corrupt in repo %s\")",
          "old_line_content": "\t/* TODO: audit for interaction with sparse-index. */",
          "new_line_content": "\t\tdie(_(\"index file corrupt in repo %s\"), subrepo.gitdir);",
          "content_same": false
        },
        {
          "line": 3805,
          "old_api": null,
          "new_api": "ensure_full_index",
          "old_text": null,
          "new_text": "ensure_full_index(subrepo.index)",
          "old_line_content": "\t\tconst struct cache_entry *ce = subrepo.index->cache[i];",
          "new_line_content": "\tensure_full_index(subrepo.index);",
          "content_same": false
        },
        {
          "line": 3295,
          "old_api": null,
          "new_api": "strrchr",
          "old_text": null,
          "new_text": "strrchr(dirs, '/')",
          "old_line_content": "\t}",
          "new_line_content": "\t\t} while (rmdir(dirs) == 0 && (slash = strrchr(dirs, '/')));",
          "content_same": false
        },
        {
          "line": 3296,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(dirs)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\tfree(dirs);",
          "content_same": false
        },
        {
          "line": 3809,
          "old_api": null,
          "new_api": "S_ISGITLINK",
          "old_text": null,
          "new_text": "S_ISGITLINK(ce->ce_mode)",
          "old_line_content": "",
          "new_line_content": "\t\tif (!S_ISGITLINK(ce->ce_mode))",
          "content_same": false
        },
        {
          "line": 3813,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(ce->name, subrepo.index->cache[i + 1]->name)",
          "old_line_content": "\t\t\t * Skip entries with the same name in different stages",
          "new_line_content": "\t\t       !strcmp(ce->name, subrepo.index->cache[i + 1]->name))",
          "content_same": false
        },
        {
          "line": 3820,
          "old_api": null,
          "new_api": "null_oid",
          "old_text": null,
          "new_text": "null_oid()",
          "old_line_content": "\t\t\t/* .gitmodules broken or inactive sub */",
          "new_line_content": "\t\tsub = submodule_from_path(&subrepo, null_oid(), ce->name);",
          "content_same": false
        },
        {
          "line": 3821,
          "old_api": null,
          "new_api": "is_submodule_active",
          "old_text": null,
          "new_text": "is_submodule_active(&subrepo, ce->name)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tif (!sub || !is_submodule_active(&subrepo, ce->name))",
          "content_same": false
        },
        {
          "line": 3827,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(&sub_wt, \"%s/%s\", sub_worktree, sub->path)",
          "old_line_content": "",
          "new_line_content": "\t\tstrbuf_addf(&sub_wt, \"%s/%s\", sub_worktree, sub->path);",
          "content_same": false
        },
        {
          "line": 3318,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free((char *)pl->src)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tfree((char *)pl->src);",
          "content_same": false
        },
        {
          "line": 3321,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(group->pl)",
          "old_line_content": "",
          "new_line_content": "\t\tfree(group->pl);",
          "content_same": false
        },
        {
          "line": 3833,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&sub_gd)",
          "old_line_content": "}",
          "new_line_content": "\tstrbuf_release(&sub_gd);",
          "content_same": false
        },
        {
          "line": 3834,
          "old_api": null,
          "new_api": "repo_clear",
          "old_text": null,
          "new_text": "repo_clear(&subrepo)",
          "old_line_content": "",
          "new_line_content": "\trepo_clear(&subrepo);",
          "content_same": false
        },
        {
          "line": 3328,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(dir->ignored)",
          "old_line_content": "",
          "new_line_content": "\tfree(dir->ignored);",
          "content_same": false
        },
        {
          "line": 3329,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(dir->entries)",
          "old_line_content": "\tstk = dir->exclude_stack;",
          "new_line_content": "\tfree(dir->entries);",
          "content_same": false
        },
        {
          "line": 3334,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(stk)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tfree(stk);",
          "content_same": false
        },
        {
          "line": 3848,
          "old_api": null,
          "new_api": "safe_create_leading_directories_const",
          "old_text": null,
          "new_text": "safe_create_leading_directories_const(gitfile_sb.buf)",
          "old_line_content": "",
          "new_line_content": "\tif (safe_create_leading_directories_const(gitfile_sb.buf))",
          "content_same": false
        },
        {
          "line": 3849,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"could not create directories for %s\")",
          "old_line_content": "\t/* Prepare config file */",
          "new_line_content": "\t\tdie(_(\"could not create directories for %s\"), gitfile_sb.buf);",
          "content_same": false
        },
        {
          "line": 3339,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(dir, &new, sizeof(*dir))",
          "old_line_content": "",
          "new_line_content": "\tmemcpy(dir, &new, sizeof(*dir));",
          "content_same": false
        },
        {
          "line": 3853,
          "old_api": null,
          "new_api": "safe_create_leading_directories_const",
          "old_text": null,
          "new_text": "safe_create_leading_directories_const(cfg_sb.buf)",
          "old_line_content": "",
          "new_line_content": "\tif (safe_create_leading_directories_const(cfg_sb.buf))",
          "content_same": false
        },
        {
          "line": 3856,
          "old_api": null,
          "new_api": "real_pathdup",
          "old_text": null,
          "new_text": "real_pathdup(git_dir_, 1)",
          "old_line_content": "",
          "new_line_content": "\tgit_dir = real_pathdup(git_dir_, 1);",
          "content_same": false
        },
        {
          "line": 3857,
          "old_api": null,
          "new_api": "real_pathdup",
          "old_text": null,
          "new_text": "real_pathdup(work_tree_, 1)",
          "old_line_content": "\t/* Write .git file */",
          "new_line_content": "\twork_tree = real_pathdup(work_tree_, 1);",
          "content_same": false
        },
        {
          "line": 3860,
          "old_api": null,
          "new_api": "write_file",
          "old_text": null,
          "new_text": "write_file(gitfile_sb.buf, \"gitdir: %s\",\n\t\t   relative_path(git_dir, work_tree, &rel_path))",
          "old_line_content": "\t/* Update core.worktree setting */",
          "new_line_content": "\twrite_file(gitfile_sb.buf, \"gitdir: %s\",",
          "content_same": false
        },
        {
          "line": 3863,
          "old_api": null,
          "new_api": "git_config_set_in_file",
          "old_text": null,
          "new_text": "git_config_set_in_file(cfg_sb.buf, \"core.worktree\",\n\t\t\t       relative_path(work_tree, git_dir, &rel_path))",
          "old_line_content": "",
          "new_line_content": "\tgit_config_set_in_file(cfg_sb.buf, \"core.worktree\",",
          "content_same": false
        },
        {
          "line": 3867,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&cfg_sb)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&cfg_sb);",
          "content_same": false
        },
        {
          "line": 3868,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&rel_path)",
          "old_line_content": "\tif (recurse_into_nested)",
          "new_line_content": "\tstrbuf_release(&rel_path);",
          "content_same": false
        },
        {
          "line": 3873,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(work_tree)",
          "old_line_content": "}",
          "new_line_content": "\tfree(work_tree);",
          "content_same": false
        },
        {
          "line": 3874,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(git_dir)",
          "old_line_content": "",
          "new_line_content": "\tfree(git_dir);",
          "content_same": false
        },
        {
          "line": 3369,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(from->sd_gid)",
          "old_line_content": "}",
          "new_line_content": "\tto->sd_gid\t  = htonl(from->sd_gid);",
          "content_same": false
        },
        {
          "line": 3370,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(from->sd_size)",
          "old_line_content": "",
          "new_line_content": "\tto->sd_size\t  = htonl(from->sd_size);",
          "content_same": false
        },
        {
          "line": 3882,
          "old_api": null,
          "new_api": "rename",
          "old_text": null,
          "new_text": "rename(old_git_dir, new_git_dir)",
          "old_line_content": "\t\t\told_git_dir, new_git_dir);",
          "new_line_content": "\tif (rename(old_git_dir, new_git_dir) < 0)",
          "content_same": false
        },
        {
          "line": 3883,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"could not migrate git directory from '%s' to '%s'\")",
          "old_line_content": "",
          "new_line_content": "\t\tdie_errno(_(\"could not migrate git directory from '%s' to '%s'\"),",
          "content_same": false
        },
        {
          "line": 3886,
          "old_api": null,
          "new_api": "connect_work_tree_and_git_dir",
          "old_text": null,
          "new_text": "connect_work_tree_and_git_dir(path, new_git_dir, 0)",
          "old_line_content": "",
          "new_line_content": "\tconnect_work_tree_and_git_dir(path, new_git_dir, 0);",
          "content_same": false
        },
        {
          "line": 3395,
          "old_api": null,
          "new_api": "stat_data_to_disk",
          "old_text": null,
          "new_text": "stat_data_to_disk(&stat_data, &untracked->stat_data)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstat_data_to_disk(&stat_data, &untracked->stat_data);",
          "content_same": false
        },
        {
          "line": 3399,
          "old_api": null,
          "new_api": "ewah_set",
          "old_text": null,
          "new_text": "ewah_set(wd->sha1_valid, i)",
          "old_line_content": "\t\t\t   the_hash_algo->rawsz);",
          "new_line_content": "\t\tewah_set(wd->sha1_valid, i);",
          "content_same": false
        },
        {
          "line": 3400,
          "old_api": null,
          "new_api": "strbuf_add",
          "old_text": null,
          "new_text": "strbuf_add(&wd->sb_sha1, untracked->exclude_oid.hash,\n\t\t\t   the_hash_algo->rawsz)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstrbuf_add(&wd->sb_sha1, untracked->exclude_oid.hash,",
          "content_same": false
        },
        {
          "line": 3404,
          "old_api": null,
          "new_api": "encode_varint",
          "old_text": null,
          "new_text": "encode_varint(untracked->untracked_nr, intbuf)",
          "old_line_content": "",
          "new_line_content": "\tintlen = encode_varint(untracked->untracked_nr, intbuf);",
          "content_same": false
        },
        {
          "line": 3405,
          "old_api": null,
          "new_api": "strbuf_add",
          "old_text": null,
          "new_text": "strbuf_add(out, intbuf, intlen)",
          "old_line_content": "\t/* skip non-recurse directories */",
          "new_line_content": "\tstrbuf_add(out, intbuf, intlen);",
          "content_same": false
        },
        {
          "line": 3411,
          "old_api": null,
          "new_api": "encode_varint",
          "old_text": null,
          "new_text": "encode_varint(value, intbuf)",
          "old_line_content": "",
          "new_line_content": "\tintlen = encode_varint(value, intbuf);",
          "content_same": false
        },
        {
          "line": 3414,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(untracked->name)",
          "old_line_content": "\tfor (i = 0; i < untracked->untracked_nr; i++)",
          "new_line_content": "\tstrbuf_add(out, untracked->name, strlen(untracked->name) + 1);",
          "content_same": false
        },
        {
          "line": 3417,
          "old_api": null,
          "new_api": "strbuf_add",
          "old_text": null,
          "new_text": "strbuf_add(out, untracked->untracked[i],\n\t\t\t   strlen(untracked->untracked[i]) + 1)",
          "old_line_content": "",
          "new_line_content": "\t\tstrbuf_add(out, untracked->untracked[i],",
          "content_same": false
        },
        {
          "line": 3418,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(untracked->untracked[i])",
          "old_line_content": "\tfor (i = 0; i < untracked->dirs_nr; i++)",
          "new_line_content": "\t\t\t   strlen(untracked->untracked[i]) + 1);",
          "content_same": false
        },
        {
          "line": 3422,
          "old_api": null,
          "new_api": "write_one_dir",
          "old_text": null,
          "new_text": "write_one_dir(untracked->dirs[i], wd)",
          "old_line_content": "",
          "new_line_content": "\t\t\twrite_one_dir(untracked->dirs[i], wd);",
          "content_same": false
        },
        {
          "line": 3435,
          "old_api": null,
          "new_api": "stat_data_to_disk",
          "old_text": null,
          "new_text": "stat_data_to_disk(&ouc->excludes_file_stat, &untracked->ss_excludes_file.stat)",
          "old_line_content": "",
          "new_line_content": "\tstat_data_to_disk(&ouc->excludes_file_stat, &untracked->ss_excludes_file.stat);",
          "content_same": false
        },
        {
          "line": 3439,
          "old_api": null,
          "new_api": "strbuf_add",
          "old_text": null,
          "new_text": "strbuf_add(out, varbuf, varint_len)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_add(out, varbuf, varint_len);",
          "content_same": false
        },
        {
          "line": 3445,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(untracked->exclude_per_dir)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_add(out, untracked->exclude_per_dir, strlen(untracked->exclude_per_dir) + 1);",
          "content_same": false
        },
        {
          "line": 3446,
          "old_api": null,
          "new_api": "FREE_AND_NULL",
          "old_text": null,
          "new_text": "FREE_AND_NULL(ouc)",
          "old_line_content": "\tif (!untracked->root) {",
          "new_line_content": "\tFREE_AND_NULL(ouc);",
          "content_same": false
        },
        {
          "line": 3449,
          "old_api": null,
          "new_api": "encode_varint",
          "old_text": null,
          "new_text": "encode_varint(0, varbuf)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\t\tvarint_len = encode_varint(0, varbuf);",
          "content_same": false
        },
        {
          "line": 3450,
          "old_api": null,
          "new_api": "strbuf_add",
          "old_text": null,
          "new_text": "strbuf_add(out, varbuf, varint_len)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstrbuf_add(out, varbuf, varint_len);",
          "content_same": false
        },
        {
          "line": 3460,
          "old_api": null,
          "new_api": "strbuf_init",
          "old_text": null,
          "new_text": "strbuf_init(&wd.sb_sha1, 1024)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_init(&wd.sb_sha1, 1024);",
          "content_same": false
        },
        {
          "line": 2949,
          "old_api": null,
          "new_api": "FREE_AND_NULL",
          "old_text": null,
          "new_text": "FREE_AND_NULL(dir->untracked)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tFREE_AND_NULL(dir->untracked);",
          "content_same": false
        },
        {
          "line": 3470,
          "old_api": null,
          "new_api": "strbuf_addbuf",
          "old_text": null,
          "new_text": "strbuf_addbuf(out, &wd.sb_sha1)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_addbuf(out, &wd.sb_sha1);",
          "content_same": false
        },
        {
          "line": 2959,
          "old_api": null,
          "new_api": "lstat",
          "old_text": null,
          "new_text": "lstat(f, &sb)",
          "old_line_content": "",
          "new_line_content": "\treturn lstat(f, &sb) == 0;",
          "content_same": false
        },
        {
          "line": 3477,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&wd.sb_stat)",
          "old_line_content": "}",
          "new_line_content": "\tstrbuf_release(&wd.sb_stat);",
          "content_same": false
        },
        {
          "line": 3478,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&wd.sb_sha1)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&wd.sb_sha1);",
          "content_same": false
        },
        {
          "line": 2967,
          "old_api": null,
          "new_api": "file_exists",
          "old_text": null,
          "new_text": "file_exists(path)",
          "old_line_content": "",
          "new_line_content": "\treturn file_exists(path);",
          "content_same": false
        },
        {
          "line": 2975,
          "old_api": null,
          "new_api": "toupper",
          "old_text": null,
          "new_text": "toupper(b)",
          "old_line_content": "}",
          "new_line_content": "\t\treturn toupper(a) - toupper(b);",
          "content_same": false
        },
        {
          "line": 3491,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(ucd->dirs)",
          "old_line_content": "}",
          "new_line_content": "\tfree(ucd->dirs);",
          "content_same": false
        },
        {
          "line": 3492,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(ucd)",
          "old_line_content": "",
          "new_line_content": "\tfree(ucd);",
          "content_same": false
        },
        {
          "line": 3498,
          "old_api": null,
          "new_api": "free_untracked",
          "old_text": null,
          "new_text": "free_untracked(uc->root)",
          "old_line_content": "}",
          "new_line_content": "\t\tfree_untracked(uc->root);",
          "content_same": false
        },
        {
          "line": 3499,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(uc)",
          "old_line_content": "",
          "new_line_content": "\tfree(uc);",
          "content_same": false
        },
        {
          "line": 2990,
          "old_api": null,
          "new_api": "cmp_icase",
          "old_text": null,
          "new_text": "cmp_icase(*dir, *subdir)",
          "old_line_content": "\t\tsubdir++;",
          "new_line_content": "\twhile (*dir && *subdir && !cmp_icase(*dir, *subdir)) {",
          "content_same": false
        },
        {
          "line": 3004,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(dir[-1])",
          "old_line_content": "",
          "new_line_content": "\tif (is_dir_sep(dir[-1]))",
          "content_same": false
        },
        {
          "line": 3005,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(subdir[-1])",
          "old_line_content": "\t/* foo[/]bar vs foo[] */",
          "new_line_content": "\t\treturn is_dir_sep(subdir[-1]) ? offset : -1;",
          "content_same": false
        },
        {
          "line": 3008,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(*subdir)",
          "old_line_content": "",
          "new_line_content": "\treturn is_dir_sep(*subdir) ? offset + 1 : -1;",
          "content_same": false
        },
        {
          "line": 3522,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(to->sd_gid)",
          "old_line_content": "}",
          "new_line_content": "\tto->sd_gid\t  = ntohl(to->sd_gid);",
          "content_same": false
        },
        {
          "line": 3523,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(to->sd_size)",
          "old_line_content": "",
          "new_line_content": "\tto->sd_size\t  = ntohl(to->sd_size);",
          "content_same": false
        },
        {
          "line": 3020,
          "old_api": null,
          "new_api": "dir_inside_of",
          "old_text": null,
          "new_text": "dir_inside_of(cwd, dir)",
          "old_line_content": "\treturn rc;",
          "new_line_content": "\trc = (dir_inside_of(cwd, dir) >= 0);",
          "content_same": false
        },
        {
          "line": 3021,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(cwd)",
          "old_line_content": "}",
          "new_line_content": "\tfree(cwd);",
          "content_same": false
        },
        {
          "line": 3537,
          "old_api": null,
          "new_api": "decode_varint",
          "old_text": null,
          "new_text": "decode_varint(&data)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\tvalue = decode_varint(&data);",
          "content_same": false
        },
        {
          "line": 3027,
          "old_api": null,
          "new_api": "opendir",
          "old_text": null,
          "new_text": "opendir(path)",
          "old_line_content": "\tint ret = 1;",
          "new_line_content": "\tDIR *dir = opendir(path);",
          "content_same": false
        },
        {
          "line": 3034,
          "old_api": null,
          "new_api": "readdir_skip_dot_and_dotdot",
          "old_text": null,
          "new_text": "readdir_skip_dot_and_dotdot(dir)",
          "old_line_content": "\t\tret = 0;",
          "new_line_content": "\te = readdir_skip_dot_and_dotdot(dir);",
          "content_same": false
        },
        {
          "line": 3546,
          "old_api": null,
          "new_api": "decode_varint",
          "old_text": null,
          "new_text": "decode_varint(&data)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\tud.dirs_alloc = ud.dirs_nr = decode_varint(&data);",
          "content_same": false
        },
        {
          "line": 3038,
          "old_api": null,
          "new_api": "closedir",
          "old_text": null,
          "new_text": "closedir(dir)",
          "old_line_content": "}",
          "new_line_content": "\tclosedir(dir);",
          "content_same": false
        },
        {
          "line": 3551,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(data, '\\0', end - data)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\teos = memchr(data, '\\0', end - data);",
          "content_same": false
        },
        {
          "line": 3044,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(repo)",
          "old_line_content": "\tchar *dir;",
          "new_line_content": "\tconst char *end = repo + strlen(repo), *start, *ptr;",
          "content_same": false
        },
        {
          "line": 3556,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(untracked, &ud, sizeof(ud))",
          "old_line_content": "\tdata = eos + 1;",
          "new_line_content": "\tmemcpy(untracked, &ud, sizeof(ud));",
          "content_same": false
        },
        {
          "line": 3557,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(untracked->name, data, eos - data + 1)",
          "old_line_content": "",
          "new_line_content": "\tmemcpy(untracked->name, data, eos - data + 1);",
          "content_same": false
        },
        {
          "line": 3561,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(data, '\\0', end - data)",
          "old_line_content": "\t\t\treturn -1;",
          "new_line_content": "\t\teos = memchr(data, '\\0', end - data);",
          "content_same": false
        },
        {
          "line": 3051,
          "old_api": null,
          "new_api": "strstr",
          "old_text": null,
          "new_text": "strstr(repo, \"://\")",
          "old_line_content": "\t\tstart = repo;",
          "new_line_content": "\tstart = strstr(repo, \"://\");",
          "content_same": false
        },
        {
          "line": 3564,
          "old_api": null,
          "new_api": "xmemdupz",
          "old_text": null,
          "new_text": "xmemdupz(data, eos - data)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tuntracked->untracked[i] = xmemdupz(data, eos - data);",
          "content_same": false
        },
        {
          "line": 3572,
          "old_api": null,
          "new_api": "read_one_dir",
          "old_text": null,
          "new_text": "read_one_dir(untracked->dirs + i, rd)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (read_one_dir(untracked->dirs + i, rd) < 0)",
          "content_same": false
        },
        {
          "line": 3062,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(*ptr)",
          "old_line_content": "\t\t\tstart = ptr + 1;",
          "new_line_content": "\tfor (ptr = start; ptr < end && !is_dir_sep(*ptr); ptr++) {",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 3591,
          "old_api": "stat_data_from_disk",
          "new_api": null,
          "old_text": "stat_data_from_disk(&ud->stat_data, rd->data)",
          "new_text": null,
          "old_line_content": "\tstat_data_from_disk(&ud->stat_data, rd->data);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 3085,
          "old_api": "memchr",
          "new_api": null,
          "old_text": "memchr(start, '/', end - start)",
          "new_text": null,
          "old_line_content": "\tif (memchr(start, '/', end - start) == NULL",
          "new_line_content": "\t * compatibility.",
          "content_same": false
        },
        {
          "line": 3086,
          "old_api": "memchr",
          "new_api": null,
          "old_text": "memchr(start, ':', end - start)",
          "new_text": null,
          "old_line_content": "\t    && memchr(start, ':', end - start) != NULL) {",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 3604,
          "old_api": "oidread",
          "new_api": null,
          "old_text": "oidread(&ud->exclude_oid, rd->data)",
          "new_text": null,
          "old_line_content": "\toidread(&ud->exclude_oid, rd->data);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 3611,
          "old_api": "stat_data_from_disk",
          "new_api": null,
          "old_text": "stat_data_from_disk(&oid_stat->stat, data)",
          "new_text": null,
          "old_line_content": "\tstat_data_from_disk(&oid_stat->stat, data);",
          "new_line_content": "\t\t\t  const unsigned char *sha1)",
          "content_same": false
        },
        {
          "line": 3612,
          "old_api": "oidread",
          "new_api": null,
          "old_text": "oidread(&oid_stat->oid, sha1)",
          "new_text": null,
          "old_line_content": "\toidread(&oid_stat->oid, sha1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3101,
          "old_api": "is_dir_sep",
          "new_api": null,
          "old_text": "is_dir_sep(ptr[-1])",
          "new_text": null,
          "old_line_content": "\twhile (start < ptr && !is_dir_sep(ptr[-1]) && ptr[-1] != ':')",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 3109,
          "old_api": "strip_suffix_mem",
          "new_api": null,
          "old_text": "strip_suffix_mem(start, &len, is_bundle ? \".bundle\" : \".git\")",
          "new_text": null,
          "old_line_content": "\tstrip_suffix_mem(start, &len, is_bundle ? \".bundle\" : \".git\");",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 3112,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"No directory name could be guessed.\\n\"\n\t\t      \"Please specify a directory on the command line\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"No directory name could be guessed.\\n\"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3116,
          "old_api": "xstrfmt",
          "new_api": null,
          "old_text": "xstrfmt(\"%.*s.git\", (int)len, start)",
          "new_text": null,
          "old_line_content": "\t\tdir = xstrfmt(\"%.*s.git\", (int)len, start);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3633,
          "old_api": "decode_varint",
          "new_api": null,
          "old_text": "decode_varint(&next)",
          "new_text": null,
          "old_line_content": "\tident_len = decode_varint(&next);",
          "new_line_content": "\tend--;",
          "content_same": false
        },
        {
          "line": 3130,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(ch)",
          "new_text": null,
          "old_line_content": "\t\t\tif (isspace(ch)) {",
          "new_line_content": "\t\t\tif ((unsigned char)ch < '\\x20')",
          "content_same": false
        },
        {
          "line": 3642,
          "old_api": "CALLOC_ARRAY",
          "new_api": null,
          "old_text": "CALLOC_ARRAY(uc, 1)",
          "new_text": null,
          "old_line_content": "\tCALLOC_ARRAY(uc, 1);",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 3643,
          "old_api": "strbuf_init",
          "new_api": null,
          "old_text": "strbuf_init(&uc->ident, ident_len)",
          "new_text": null,
          "old_line_content": "\tstrbuf_init(&uc->ident, ident_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3649,
          "old_api": "ouc_offset",
          "new_api": null,
          "old_text": "ouc_offset(excludes_file_stat)",
          "new_text": null,
          "old_line_content": "\t\t      next + ouc_offset(excludes_file_stat),",
          "new_line_content": "\t\t      next + offset);",
          "content_same": false
        },
        {
          "line": 3147,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(dir)",
          "new_text": null,
          "old_line_content": "\tchar *end = dir + strlen(dir);",
          "new_line_content": "void strip_dir_trailing_slashes(char *dir)",
          "content_same": false
        },
        {
          "line": 3659,
          "old_api": "decode_varint",
          "new_api": null,
          "old_text": "decode_varint(&next)",
          "new_text": null,
          "old_line_content": "\tlen = decode_varint(&next);",
          "new_line_content": "\t\tgoto done2;",
          "content_same": false
        },
        {
          "line": 3663,
          "old_api": "ewah_new",
          "new_api": null,
          "old_text": "ewah_new()",
          "new_text": null,
          "old_line_content": "\trd.valid      = ewah_new();",
          "new_line_content": "\t\tgoto done2;",
          "content_same": false
        },
        {
          "line": 3664,
          "old_api": "ewah_new",
          "new_api": null,
          "old_text": "ewah_new()",
          "new_text": null,
          "old_line_content": "\trd.check_only = ewah_new();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3669,
          "old_api": "ALLOC_ARRAY",
          "new_api": null,
          "old_text": "ALLOC_ARRAY(rd.ucd, len)",
          "new_text": null,
          "old_line_content": "\tALLOC_ARRAY(rd.ucd, len);",
          "new_line_content": "\trd.end\t      = end;",
          "content_same": false
        },
        {
          "line": 3675,
          "old_api": "ewah_read_mmap",
          "new_api": null,
          "old_text": "ewah_read_mmap(rd.valid, next, end - next)",
          "new_text": null,
          "old_line_content": "\tlen = ewah_read_mmap(rd.valid, next, end - next);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3165,
          "old_api": "resolve_gitlink_ref",
          "new_api": null,
          "old_text": "resolve_gitlink_ref(path->buf, \"HEAD\", &submodule_head)",
          "new_text": null,
          "old_line_content": "\t    !resolve_gitlink_ref(path->buf, \"HEAD\", &submodule_head)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3680,
          "old_api": "ewah_read_mmap",
          "new_api": null,
          "old_text": "ewah_read_mmap(rd.check_only, next, end - next)",
          "new_text": null,
          "old_line_content": "\tlen = ewah_read_mmap(rd.check_only, next, end - next);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3173,
          "old_api": "opendir",
          "new_api": null,
          "old_text": "opendir(path->buf)",
          "new_text": null,
          "old_line_content": "\tdir = opendir(path->buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3685,
          "old_api": "ewah_read_mmap",
          "new_api": null,
          "old_text": "ewah_read_mmap(rd.sha1_valid, next, end - next)",
          "new_text": null,
          "old_line_content": "\tlen = ewah_read_mmap(rd.sha1_valid, next, end - next);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3689,
          "old_api": "ewah_each_bit",
          "new_api": null,
          "old_text": "ewah_each_bit(rd.check_only, set_check_only, &rd)",
          "new_text": null,
          "old_line_content": "\tewah_each_bit(rd.check_only, set_check_only, &rd);",
          "new_line_content": "\t\tgoto done;",
          "content_same": false
        },
        {
          "line": 3692,
          "old_api": "ewah_each_bit",
          "new_api": null,
          "old_text": "ewah_each_bit(rd.sha1_valid, read_oid, &rd)",
          "new_text": null,
          "old_line_content": "\tewah_each_bit(rd.sha1_valid, read_oid, &rd);",
          "new_line_content": "\trd.data = next + len;",
          "content_same": false
        },
        {
          "line": 3182,
          "old_api": "rmdir",
          "new_api": null,
          "old_text": "rmdir(path->buf)",
          "new_text": null,
          "old_line_content": "\t\t\treturn rmdir(path->buf);",
          "new_line_content": "\t\t\t * is unreadable:",
          "content_same": false
        },
        {
          "line": 3696,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(rd.ucd)",
          "new_text": null,
          "old_line_content": "\tfree(rd.ucd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3697,
          "old_api": "ewah_free",
          "new_api": null,
          "old_text": "ewah_free(rd.valid)",
          "new_text": null,
          "old_line_content": "\tewah_free(rd.valid);",
          "new_line_content": "done:",
          "content_same": false
        },
        {
          "line": 3186,
          "old_api": "strbuf_complete",
          "new_api": null,
          "old_text": "strbuf_complete(path, '/')",
          "new_text": null,
          "old_line_content": "\tstrbuf_complete(path, '/');",
          "new_line_content": "\t\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 3189,
          "old_api": "readdir_skip_dot_and_dotdot",
          "new_api": null,
          "old_text": "readdir_skip_dot_and_dotdot(dir)",
          "new_text": null,
          "old_line_content": "\twhile ((e = readdir_skip_dot_and_dotdot(dir)) != NULL) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3702,
          "old_api": "free_untracked_cache",
          "new_api": null,
          "old_text": "free_untracked_cache(uc)",
          "new_text": null,
          "old_line_content": "\t\tfree_untracked_cache(uc);",
          "new_line_content": "done2:",
          "content_same": false
        },
        {
          "line": 3192,
          "old_api": "strbuf_setlen",
          "new_api": null,
          "old_text": "strbuf_setlen(path, len)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_setlen(path, len);",
          "new_line_content": "\t\tstruct stat st;",
          "content_same": false
        },
        {
          "line": 3193,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(path, e->d_name)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addstr(path, e->d_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3202,
          "old_api": "S_ISDIR",
          "new_api": null,
          "old_text": "S_ISDIR(st.st_mode)",
          "new_text": null,
          "old_line_content": "\t\t} else if (S_ISDIR(st.st_mode)) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 3203,
          "old_api": "remove_dir_recurse",
          "new_api": null,
          "old_text": "remove_dir_recurse(path, flag, &kept_down)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!remove_dir_recurse(path, flag, &kept_down))",
          "new_line_content": "\t\t\t/* fall through */",
          "content_same": false
        },
        {
          "line": 3206,
          "old_api": "unlink",
          "new_api": null,
          "old_text": "unlink(path->buf)",
          "new_text": null,
          "old_line_content": "\t\t\t   (!unlink(path->buf) || errno == ENOENT)) {",
          "new_line_content": "\t\t\t\tcontinue; /* happy */",
          "content_same": false
        },
        {
          "line": 3214,
          "old_api": "closedir",
          "new_api": null,
          "old_text": "closedir(dir)",
          "new_text": null,
          "old_line_content": "\tclosedir(dir);",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 3220,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(startup_info->original_cwd, path->buf)",
          "new_text": null,
          "old_line_content": "\t\t    !strcmp(startup_info->original_cwd, path->buf))",
          "new_line_content": "\t\tif (!purge_original_cwd &&",
          "content_same": false
        },
        {
          "line": 3223,
          "old_api": "rmdir",
          "new_api": null,
          "old_text": "rmdir(path->buf)",
          "new_text": null,
          "old_line_content": "\t\t\tret = (!rmdir(path->buf) || errno == ENOENT) ? 0 : -1;",
          "new_line_content": "\t\t\tret = -1; /* Do not remove current working directory */",
          "content_same": false
        },
        {
          "line": 3744,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(path, '/')",
          "new_text": null,
          "old_line_content": "\tconst char *rest = strchr(path, '/');",
          "new_line_content": "\t\t\t\t    const char *path, int len)",
          "content_same": false
        },
        {
          "line": 3235,
          "old_api": "remove_dir_recurse",
          "new_api": null,
          "old_text": "remove_dir_recurse(path, flag, NULL)",
          "new_text": null,
          "old_line_content": "\treturn remove_dir_recurse(path, flag, NULL);",
          "new_line_content": "int remove_dir_recursively(struct strbuf *path, int flag)",
          "content_same": false
        },
        {
          "line": 3749,
          "old_api": "lookup_untracked",
          "new_api": null,
          "old_text": "lookup_untracked(uc, dir, path, component_len)",
          "new_text": null,
          "old_line_content": "\t\t\tlookup_untracked(uc, dir, path, component_len);",
          "new_line_content": "\t\tint component_len = rest - path;",
          "content_same": false
        },
        {
          "line": 3754,
          "old_api": "invalidate_one_directory",
          "new_api": null,
          "old_text": "invalidate_one_directory(uc, dir)",
          "new_text": null,
          "old_line_content": "\t\t\tinvalidate_one_directory(uc, dir);",
          "new_line_content": "\t\t\t\t\t\t len - (component_len + 1));",
          "content_same": false
        },
        {
          "line": 3246,
          "old_api": "xdg_config_home",
          "new_api": null,
          "old_text": "xdg_config_home(\"ignore\")",
          "new_text": null,
          "old_line_content": "\t\texcludes_file = xdg_config_home(\"ignore\");",
          "new_line_content": "\t/* core.excludesfile defaulting to $XDG_CONFIG_HOME/git/ignore */",
          "content_same": false
        },
        {
          "line": 3247,
          "old_api": "access_or_warn",
          "new_api": null,
          "old_text": "access_or_warn(excludes_file, R_OK, 0)",
          "new_text": null,
          "old_line_content": "\tif (excludes_file && !access_or_warn(excludes_file, R_OK, 0))",
          "new_line_content": "\tif (!excludes_file)",
          "content_same": false
        },
        {
          "line": 3758,
          "old_api": "invalidate_one_directory",
          "new_api": null,
          "old_text": "invalidate_one_directory(uc, dir)",
          "new_text": null,
          "old_line_content": "\tinvalidate_one_directory(uc, dir);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3253,
          "old_api": "git_path_info_exclude",
          "new_api": null,
          "old_text": "git_path_info_exclude()",
          "new_text": null,
          "old_line_content": "\t\tconst char *path = git_path_info_exclude();",
          "new_line_content": "\t/* per repository user preference */",
          "content_same": false
        },
        {
          "line": 3254,
          "old_api": "access_or_warn",
          "new_api": null,
          "old_text": "access_or_warn(path, R_OK, 0)",
          "new_text": null,
          "old_line_content": "\t\tif (!access_or_warn(path, R_OK, 0))",
          "new_line_content": "\tif (startup_info->have_repository) {",
          "content_same": false
        },
        {
          "line": 3767,
          "old_api": "verify_path",
          "new_api": null,
          "old_text": "verify_path(path, 0)",
          "new_text": null,
          "old_line_content": "\tif (!safe_path && !verify_path(path, 0))",
          "new_line_content": "\tif (!istate->untracked || !istate->untracked->root)",
          "content_same": false
        },
        {
          "line": 3770,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(path)",
          "new_text": null,
          "old_line_content": "\t\t\t\t path, strlen(path));",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 3262,
          "old_api": "git_pathdup",
          "new_api": null,
          "old_text": "git_pathdup(\"info/sparse-checkout\")",
          "new_text": null,
          "old_line_content": "\treturn git_pathdup(\"info/sparse-checkout\");",
          "new_line_content": "char *get_sparse_checkout_filename(void)",
          "content_same": false
        },
        {
          "line": 3776,
          "old_api": "untracked_cache_invalidate_path",
          "new_api": null,
          "old_text": "untracked_cache_invalidate_path(istate, path, 1)",
          "new_text": null,
          "old_line_content": "\tuntracked_cache_invalidate_path(istate, path, 1);",
          "new_line_content": "\t\t\t\t       const char *path)",
          "content_same": false
        },
        {
          "line": 3268,
          "old_api": "get_sparse_checkout_filename",
          "new_api": null,
          "old_text": "get_sparse_checkout_filename()",
          "new_text": null,
          "old_line_content": "\tchar *sparse_filename = get_sparse_checkout_filename();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3782,
          "old_api": "untracked_cache_invalidate_path",
          "new_api": null,
          "old_text": "untracked_cache_invalidate_path(istate, path, 1)",
          "new_text": null,
          "old_line_content": "\tuntracked_cache_invalidate_path(istate, path, 1);",
          "new_line_content": "\t\t\t\t  const char *path)",
          "content_same": false
        },
        {
          "line": 3271,
          "old_api": "add_patterns_from_file_to_list",
          "new_api": null,
          "old_text": "add_patterns_from_file_to_list(sparse_filename, \"\", 0, pl, NULL, 0)",
          "new_text": null,
          "old_line_content": "\tres = add_patterns_from_file_to_list(sparse_filename, \"\", 0, pl, NULL, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3281,
          "old_api": "is_missing_file_error",
          "new_api": null,
          "old_text": "is_missing_file_error(errno)",
          "new_text": null,
          "old_line_content": "\tif (unlink(name) && !is_missing_file_error(errno))",
          "new_line_content": "\tchar *slash;",
          "content_same": false
        },
        {
          "line": 3284,
          "old_api": "strrchr",
          "new_api": null,
          "old_text": "strrchr(name, '/')",
          "new_text": null,
          "old_line_content": "\tslash = strrchr(name, '/');",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 3796,
          "old_api": "repo_init",
          "new_api": null,
          "old_text": "repo_init(&subrepo, sub_gitdir, sub_worktree)",
          "new_text": null,
          "old_line_content": "\tif (repo_init(&subrepo, sub_gitdir, sub_worktree))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3799,
          "old_api": "repo_read_index",
          "new_api": null,
          "old_text": "repo_read_index(&subrepo)",
          "new_text": null,
          "old_line_content": "\tif (repo_read_index(&subrepo) < 0)",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 3800,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"index file corrupt in repo %s\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"index file corrupt in repo %s\"), subrepo.gitdir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3291,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(startup_info->original_cwd, dirs)",
          "new_text": null,
          "old_line_content": "\t\t\t    !strcmp(startup_info->original_cwd, dirs))",
          "new_line_content": "\t\t\t*slash = '\\0';",
          "content_same": false
        },
        {
          "line": 3803,
          "old_api": "ensure_full_index",
          "new_api": null,
          "old_text": "ensure_full_index(subrepo.index)",
          "new_text": null,
          "old_line_content": "\tensure_full_index(subrepo.index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3294,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(dirs)",
          "new_text": null,
          "old_line_content": "\t\tfree(dirs);",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 3807,
          "old_api": "S_ISGITLINK",
          "new_api": null,
          "old_text": "S_ISGITLINK(ce->ce_mode)",
          "new_text": null,
          "old_line_content": "\t\tif (!S_ISGITLINK(ce->ce_mode))",
          "new_line_content": "\t\tconst struct cache_entry *ce = subrepo.index->cache[i];",
          "content_same": false
        },
        {
          "line": 3811,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(ce->name, subrepo.index->cache[i + 1]->name)",
          "new_text": null,
          "old_line_content": "\t\t       !strcmp(ce->name, subrepo.index->cache[i + 1]->name))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3818,
          "old_api": "null_oid",
          "new_api": null,
          "old_text": "null_oid()",
          "new_text": null,
          "old_line_content": "\t\tsub = submodule_from_path(&subrepo, null_oid(), ce->name);",
          "new_line_content": "\t\t\ti++;",
          "content_same": false
        },
        {
          "line": 3819,
          "old_api": "is_submodule_active",
          "new_api": null,
          "old_text": "is_submodule_active(&subrepo, ce->name)",
          "new_text": null,
          "old_line_content": "\t\tif (!sub || !is_submodule_active(&subrepo, ce->name))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3823,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(&sub_wt)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_reset(&sub_wt);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 3824,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(&sub_gd)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_reset(&sub_gd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3316,
          "old_api": "free",
          "new_api": null,
          "old_text": "free((char *)pl->src)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfree((char *)pl->src);",
          "new_line_content": "\t\t\tpl = &group->pl[j];",
          "content_same": false
        },
        {
          "line": 3317,
          "old_api": "clear_pattern_list",
          "new_api": null,
          "old_text": "clear_pattern_list(pl)",
          "new_text": null,
          "old_line_content": "\t\t\tclear_pattern_list(pl);",
          "new_line_content": "\t\t\tif (i == EXC_DIRS)",
          "content_same": false
        },
        {
          "line": 3831,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&sub_gd)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&sub_gd);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3323,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(dir->ignored[i])",
          "new_text": null,
          "old_line_content": "\t\tfree(dir->ignored[i]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3326,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(dir->ignored)",
          "new_text": null,
          "old_line_content": "\tfree(dir->ignored);",
          "new_line_content": "\tfor (i = 0; i < dir->nr; i++)",
          "content_same": false
        },
        {
          "line": 3332,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(stk)",
          "new_text": null,
          "old_line_content": "\t\tfree(stk);",
          "new_line_content": "\twhile (stk) {",
          "content_same": false
        },
        {
          "line": 3845,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(&gitfile_sb, \"%s/.git\", work_tree_)",
          "new_text": null,
          "old_line_content": "\tstrbuf_addf(&gitfile_sb, \"%s/.git\", work_tree_);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3846,
          "old_api": "safe_create_leading_directories_const",
          "new_api": null,
          "old_text": "safe_create_leading_directories_const(gitfile_sb.buf)",
          "new_text": null,
          "old_line_content": "\tif (safe_create_leading_directories_const(gitfile_sb.buf))",
          "new_line_content": "\t/* Prepare .git file */",
          "content_same": false
        },
        {
          "line": 3335,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&dir->basebuf)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&dir->basebuf);",
          "new_line_content": "\t\tstk = prev;",
          "content_same": false
        },
        {
          "line": 3850,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(&cfg_sb, \"%s/config\", git_dir_)",
          "new_text": null,
          "old_line_content": "\tstrbuf_addf(&cfg_sb, \"%s/config\", git_dir_);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3851,
          "old_api": "safe_create_leading_directories_const",
          "new_api": null,
          "old_text": "safe_create_leading_directories_const(cfg_sb.buf)",
          "new_text": null,
          "old_line_content": "\tif (safe_create_leading_directories_const(cfg_sb.buf))",
          "new_line_content": "\t/* Prepare config file */",
          "content_same": false
        },
        {
          "line": 3855,
          "old_api": "real_pathdup",
          "new_api": null,
          "old_text": "real_pathdup(work_tree_, 1)",
          "new_text": null,
          "old_line_content": "\twork_tree = real_pathdup(work_tree_, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3858,
          "old_api": "write_file",
          "new_api": null,
          "old_text": "write_file(gitfile_sb.buf, \"gitdir: %s\",\n\t\t   relative_path(git_dir, work_tree, &rel_path))",
          "new_text": null,
          "old_line_content": "\twrite_file(gitfile_sb.buf, \"gitdir: %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3859,
          "old_api": "relative_path",
          "new_api": null,
          "old_text": "relative_path(git_dir, work_tree, &rel_path)",
          "new_text": null,
          "old_line_content": "\t\t   relative_path(git_dir, work_tree, &rel_path));",
          "new_line_content": "\t/* Write .git file */",
          "content_same": false
        },
        {
          "line": 3862,
          "old_api": "relative_path",
          "new_api": null,
          "old_text": "relative_path(work_tree, git_dir, &rel_path)",
          "new_text": null,
          "old_line_content": "\t\t\t       relative_path(work_tree, git_dir, &rel_path));",
          "new_line_content": "\t/* Update core.worktree setting */",
          "content_same": false
        },
        {
          "line": 3865,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&cfg_sb)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&cfg_sb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3869,
          "old_api": "connect_wt_gitdir_in_nested",
          "new_api": null,
          "old_text": "connect_wt_gitdir_in_nested(work_tree, git_dir)",
          "new_text": null,
          "old_line_content": "\t\tconnect_wt_gitdir_in_nested(work_tree, git_dir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3360,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(from->sd_ctime.sec)",
          "new_text": null,
          "old_line_content": "\tto->sd_ctime.sec  = htonl(from->sd_ctime.sec);",
          "new_line_content": "static void stat_data_to_disk(struct stat_data *to, const struct stat_data *from)",
          "content_same": false
        },
        {
          "line": 3361,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(from->sd_ctime.nsec)",
          "new_text": null,
          "old_line_content": "\tto->sd_ctime.nsec = htonl(from->sd_ctime.nsec);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3872,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(git_dir)",
          "new_text": null,
          "old_line_content": "\tfree(git_dir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3880,
          "old_api": "rename",
          "new_api": null,
          "old_text": "rename(old_git_dir, new_git_dir)",
          "new_text": null,
          "old_line_content": "\tif (rename(old_git_dir, new_git_dir) < 0)",
          "new_line_content": "void relocate_gitdir(const char *path, const char *old_git_dir, const char *new_git_dir)",
          "content_same": false
        },
        {
          "line": 3881,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"could not migrate git directory from '%s' to '%s'\")",
          "new_text": null,
          "old_line_content": "\t\tdie_errno(_(\"could not migrate git directory from '%s' to '%s'\"),",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3884,
          "old_api": "connect_work_tree_and_git_dir",
          "new_api": null,
          "old_text": "connect_work_tree_and_git_dir(path, new_git_dir, 0)",
          "new_text": null,
          "old_line_content": "\tconnect_work_tree_and_git_dir(path, new_git_dir, 0);",
          "new_line_content": "\t\t\told_git_dir, new_git_dir);",
          "content_same": false
        },
        {
          "line": 3390,
          "old_api": "ewah_set",
          "new_api": null,
          "old_text": "ewah_set(wd->check_only, i)",
          "new_text": null,
          "old_line_content": "\t\tewah_set(wd->check_only, i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3393,
          "old_api": "stat_data_to_disk",
          "new_api": null,
          "old_text": "stat_data_to_disk(&stat_data, &untracked->stat_data)",
          "new_text": null,
          "old_line_content": "\t\tstat_data_to_disk(&stat_data, &untracked->stat_data);",
          "new_line_content": "\tif (untracked->valid) {",
          "content_same": false
        },
        {
          "line": 3397,
          "old_api": "ewah_set",
          "new_api": null,
          "old_text": "ewah_set(wd->sha1_valid, i)",
          "new_text": null,
          "old_line_content": "\t\tewah_set(wd->sha1_valid, i);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3402,
          "old_api": "encode_varint",
          "new_api": null,
          "old_text": "encode_varint(untracked->untracked_nr, intbuf)",
          "new_text": null,
          "old_line_content": "\tintlen = encode_varint(untracked->untracked_nr, intbuf);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3403,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(out, intbuf, intlen)",
          "new_text": null,
          "old_line_content": "\tstrbuf_add(out, intbuf, intlen);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3409,
          "old_api": "encode_varint",
          "new_api": null,
          "old_text": "encode_varint(value, intbuf)",
          "new_text": null,
          "old_line_content": "\tintlen = encode_varint(value, intbuf);",
          "new_line_content": "\t\tif (untracked->dirs[i]->recurse)",
          "content_same": false
        },
        {
          "line": 3410,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(out, intbuf, intlen)",
          "new_text": null,
          "old_line_content": "\tstrbuf_add(out, intbuf, intlen);",
          "new_line_content": "\t\t\tvalue++;",
          "content_same": false
        },
        {
          "line": 3415,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(out, untracked->untracked[i],\n\t\t\t   strlen(untracked->untracked[i]) + 1)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_add(out, untracked->untracked[i],",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3416,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(untracked->untracked[i])",
          "new_text": null,
          "old_line_content": "\t\t\t   strlen(untracked->untracked[i]) + 1);",
          "new_line_content": "\tfor (i = 0; i < untracked->untracked_nr; i++)",
          "content_same": false
        },
        {
          "line": 3420,
          "old_api": "write_one_dir",
          "new_api": null,
          "old_text": "write_one_dir(untracked->dirs[i], wd)",
          "new_text": null,
          "old_line_content": "\t\t\twrite_one_dir(untracked->dirs[i], wd);",
          "new_line_content": "\tfor (i = 0; i < untracked->dirs_nr; i++)",
          "content_same": false
        },
        {
          "line": 3431,
          "old_api": "CALLOC_ARRAY",
          "new_api": null,
          "old_text": "CALLOC_ARRAY(ouc, 1)",
          "new_text": null,
          "old_line_content": "\tCALLOC_ARRAY(ouc, 1);",
          "new_line_content": "\tconst unsigned hashsz = the_hash_algo->rawsz;",
          "content_same": false
        },
        {
          "line": 3432,
          "old_api": "stat_data_to_disk",
          "new_api": null,
          "old_text": "stat_data_to_disk(&ouc->info_exclude_stat, &untracked->ss_info_exclude.stat)",
          "new_text": null,
          "old_line_content": "\tstat_data_to_disk(&ouc->info_exclude_stat, &untracked->ss_info_exclude.stat);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3437,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(out, varbuf, varint_len)",
          "new_text": null,
          "old_line_content": "\tstrbuf_add(out, varbuf, varint_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3441,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(out, untracked->ss_info_exclude.oid.hash, hashsz)",
          "new_text": null,
          "old_line_content": "\tstrbuf_add(out, untracked->ss_info_exclude.oid.hash, hashsz);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3447,
          "old_api": "encode_varint",
          "new_api": null,
          "old_text": "encode_varint(0, varbuf)",
          "new_text": null,
          "old_line_content": "\t\tvarint_len = encode_varint(0, varbuf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3448,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(out, varbuf, varint_len)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_add(out, varbuf, varint_len);",
          "new_line_content": "\tif (!untracked->root) {",
          "content_same": false
        },
        {
          "line": 3453,
          "old_api": "ewah_new",
          "new_api": null,
          "old_text": "ewah_new()",
          "new_text": null,
          "old_line_content": "\twd.check_only = ewah_new();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3454,
          "old_api": "ewah_new",
          "new_api": null,
          "old_text": "ewah_new()",
          "new_text": null,
          "old_line_content": "\twd.valid      = ewah_new();",
          "new_line_content": "\twd.index      = 0;",
          "content_same": false
        },
        {
          "line": 2947,
          "old_api": "FREE_AND_NULL",
          "new_api": null,
          "old_text": "FREE_AND_NULL(dir->untracked)",
          "new_text": null,
          "old_line_content": "\t\t\tFREE_AND_NULL(dir->untracked);",
          "new_line_content": "\t\t\tistate->cache_changed |= UNTRACKED_CHANGED;",
          "content_same": false
        },
        {
          "line": 3462,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(out, varbuf, varint_len)",
          "new_text": null,
          "old_line_content": "\tstrbuf_add(out, varbuf, varint_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2957,
          "old_api": "lstat",
          "new_api": null,
          "old_text": "lstat(f, &sb)",
          "new_text": null,
          "old_line_content": "\treturn lstat(f, &sb) == 0;",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3472,
          "old_api": "ewah_free",
          "new_api": null,
          "old_text": "ewah_free(wd.check_only)",
          "new_text": null,
          "old_line_content": "\tewah_free(wd.check_only);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2963,
          "old_api": "BUG",
          "new_api": null,
          "old_text": "BUG(\"do not know how to check file existence in arbitrary repo\")",
          "new_text": null,
          "old_line_content": "\t\tBUG(\"do not know how to check file existence in arbitrary repo\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2973,
          "old_api": "toupper",
          "new_api": null,
          "old_text": "toupper(b)",
          "new_text": null,
          "old_line_content": "\t\treturn toupper(a) - toupper(b);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 3485,
          "old_api": "free_untracked",
          "new_api": null,
          "old_text": "free_untracked(ucd->dirs[i])",
          "new_text": null,
          "old_line_content": "\t\tfree_untracked(ucd->dirs[i]);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 3488,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(ucd->untracked)",
          "new_text": null,
          "old_line_content": "\tfree(ucd->untracked);",
          "new_line_content": "\tfor (i = 0; i < ucd->untracked_nr; i++)",
          "content_same": false
        },
        {
          "line": 3496,
          "old_api": "free_untracked",
          "new_api": null,
          "old_text": "free_untracked(uc->root)",
          "new_text": null,
          "old_line_content": "\t\tfree_untracked(uc->root);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3497,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(uc)",
          "new_text": null,
          "old_line_content": "\tfree(uc);",
          "new_line_content": "\tif (uc)",
          "content_same": false
        },
        {
          "line": 2986,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(dir && subdir && *dir && *subdir)",
          "new_text": null,
          "old_line_content": "\tassert(dir && subdir && *dir && *subdir);",
          "new_line_content": "\tint offset = 0;",
          "content_same": false
        },
        {
          "line": 3512,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(to, data, sizeof(*to))",
          "new_text": null,
          "old_line_content": "\tmemcpy(to, data, sizeof(*to));",
          "new_line_content": "static void stat_data_from_disk(struct stat_data *to, const unsigned char *data)",
          "content_same": false
        },
        {
          "line": 3513,
          "old_api": "ntohl",
          "new_api": null,
          "old_text": "ntohl(to->sd_ctime.sec)",
          "new_text": null,
          "old_line_content": "\tto->sd_ctime.sec  = ntohl(to->sd_ctime.sec);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3002,
          "old_api": "is_dir_sep",
          "new_api": null,
          "old_text": "is_dir_sep(dir[-1])",
          "new_text": null,
          "old_line_content": "\tif (is_dir_sep(dir[-1]))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3003,
          "old_api": "is_dir_sep",
          "new_api": null,
          "old_text": "is_dir_sep(subdir[-1])",
          "new_text": null,
          "old_line_content": "\t\treturn is_dir_sep(subdir[-1]) ? offset : -1;",
          "new_line_content": "\t/* foo/[b]ar vs foo/[] */",
          "content_same": false
        },
        {
          "line": 3006,
          "old_api": "is_dir_sep",
          "new_api": null,
          "old_text": "is_dir_sep(*subdir)",
          "new_text": null,
          "old_line_content": "\treturn is_dir_sep(*subdir) ? offset + 1 : -1;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3017,
          "old_api": "xgetcwd",
          "new_api": null,
          "old_text": "xgetcwd()",
          "new_text": null,
          "old_line_content": "\tcwd = xgetcwd();",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 3018,
          "old_api": "dir_inside_of",
          "new_api": null,
          "old_text": "dir_inside_of(cwd, dir)",
          "new_text": null,
          "old_line_content": "\trc = (dir_inside_of(cwd, dir) >= 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3533,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&ud, 0, sizeof(ud))",
          "new_text": null,
          "old_line_content": "\tmemset(&ud, 0, sizeof(ud));",
          "new_line_content": "\tint i;",
          "content_same": false
        },
        {
          "line": 3025,
          "old_api": "opendir",
          "new_api": null,
          "old_text": "opendir(path)",
          "new_text": null,
          "old_line_content": "\tDIR *dir = opendir(path);",
          "new_line_content": "int is_empty_dir(const char *path)",
          "content_same": false
        },
        {
          "line": 3542,
          "old_api": "ALLOC_ARRAY",
          "new_api": null,
          "old_text": "ALLOC_ARRAY(ud.untracked, ud.untracked_nr)",
          "new_text": null,
          "old_line_content": "\t\tALLOC_ARRAY(ud.untracked, ud.untracked_nr);",
          "new_line_content": "\tud.untracked_nr\t   = value;",
          "content_same": false
        },
        {
          "line": 3032,
          "old_api": "readdir_skip_dot_and_dotdot",
          "new_api": null,
          "old_text": "readdir_skip_dot_and_dotdot(dir)",
          "new_text": null,
          "old_line_content": "\te = readdir_skip_dot_and_dotdot(dir);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 3547,
          "old_api": "ALLOC_ARRAY",
          "new_api": null,
          "old_text": "ALLOC_ARRAY(ud.dirs, ud.dirs_nr)",
          "new_text": null,
          "old_line_content": "\tALLOC_ARRAY(ud.dirs, ud.dirs_nr);",
          "new_line_content": "\tif (data > end)",
          "content_same": false
        },
        {
          "line": 3036,
          "old_api": "closedir",
          "new_api": null,
          "old_text": "closedir(dir)",
          "new_text": null,
          "old_line_content": "\tclosedir(dir);",
          "new_line_content": "\t\tret = 0;",
          "content_same": false
        },
        {
          "line": 3553,
          "old_api": "st_add3",
          "new_api": null,
          "old_text": "st_add3(sizeof(*untracked), eos - data, 1)",
          "new_text": null,
          "old_line_content": "\t*untracked_ = untracked = xmalloc(st_add3(sizeof(*untracked), eos - data, 1));",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 3042,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(repo)",
          "new_text": null,
          "old_line_content": "\tconst char *end = repo + strlen(repo), *start, *ptr;",
          "new_line_content": "char *git_url_basename(const char *repo, int is_bundle, int is_bare)",
          "content_same": false
        },
        {
          "line": 3554,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(untracked, &ud, sizeof(ud))",
          "new_text": null,
          "old_line_content": "\tmemcpy(untracked, &ud, sizeof(ud));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3559,
          "old_api": "memchr",
          "new_api": null,
          "old_text": "memchr(data, '\\0', end - data)",
          "new_text": null,
          "old_line_content": "\t\teos = memchr(data, '\\0', end - data);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3049,
          "old_api": "strstr",
          "new_api": null,
          "old_text": "strstr(repo, \"://\")",
          "new_text": null,
          "old_line_content": "\tstart = strstr(repo, \"://\");",
          "new_line_content": "\t * Skip scheme.",
          "content_same": false
        },
        {
          "line": 3562,
          "old_api": "xmemdupz",
          "new_api": null,
          "old_text": "xmemdupz(data, eos - data)",
          "new_text": null,
          "old_line_content": "\t\tuntracked->untracked[i] = xmemdupz(data, eos - data);",
          "new_line_content": "\t\tif (!eos || eos == end)",
          "content_same": false
        },
        {
          "line": 3570,
          "old_api": "read_one_dir",
          "new_api": null,
          "old_text": "read_one_dir(untracked->dirs + i, rd)",
          "new_text": null,
          "old_line_content": "\t\tif (read_one_dir(untracked->dirs + i, rd) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3060,
          "old_api": "is_dir_sep",
          "new_api": null,
          "old_text": "is_dir_sep(*ptr)",
          "new_text": null,
          "old_line_content": "\tfor (ptr = start; ptr < end && !is_dir_sep(*ptr); ptr++) {",
          "new_line_content": "\t * the host part.",
          "content_same": false
        },
        {
          "line": 3068,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(end[-1])",
          "new_text": null,
          "old_line_content": "\twhile (start < end && (is_dir_sep(end[-1]) || isspace(end[-1])))",
          "new_line_content": "\t * Strip trailing spaces, slashes and /.git",
          "content_same": false
        },
        {
          "line": 3071,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(end - 4, \".git\", 4)",
          "new_text": null,
          "old_line_content": "\t    !strncmp(end - 4, \".git\", 4)) {",
          "new_line_content": "\t\tend--;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 68,
      "total_additions": 146,
      "total_deletions": 146,
      "total_api_changes": 360
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 360,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          2939,
          2940,
          2941
        ]
      }
    },
    "api_calls_before": 651,
    "api_calls_after": 651,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 1,
      "total_diff_lines": 16
    }
  }
}