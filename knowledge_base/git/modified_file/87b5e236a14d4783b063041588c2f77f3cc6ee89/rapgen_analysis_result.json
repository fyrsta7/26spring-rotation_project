{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/87b5e236a14d4783b063041588c2f77f3cc6ee89",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/87b5e236a14d4783b063041588c2f77f3cc6ee89/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/87b5e236a14d4783b063041588c2f77f3cc6ee89/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/87b5e236a14d4783b063041588c2f77f3cc6ee89/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 3024,
          "old_api": "sha1_object_info_extended",
          "new_api": "packed_object_info",
          "old_text": "sha1_object_info_extended(real, oi, 0)",
          "new_text": "packed_object_info(e.p, e.offset, oi)",
          "old_line_content": "\t\treturn sha1_object_info_extended(real, oi, 0);",
          "new_line_content": "\trtype = packed_object_info(e.p, e.offset, oi);",
          "content_same": false
        },
        {
          "line": 3071,
          "old_api": "read_object",
          "new_api": "error",
          "old_text": "read_object(sha1, type, size)",
          "new_text": "error(\"failed to read object %s at offset %\"PRIuMAX\" from %s\",\n\t\t      sha1_to_hex(sha1), (uintmax_t)e.offset, e.p->pack_name)",
          "old_line_content": "\t\tdata = read_object(sha1, type, size);",
          "new_line_content": "\t\terror(\"failed to read object %s at offset %\"PRIuMAX\" from %s\",",
          "content_same": false
        },
        {
          "line": 3084,
          "old_api": "ALLOC_GROW",
          "new_api": "typename",
          "old_text": "ALLOC_GROW(cached_objects, cached_object_nr + 1, cached_object_alloc)",
          "new_text": "typename(type)",
          "old_line_content": "\tALLOC_GROW(cached_objects, cached_object_nr + 1, cached_object_alloc);",
          "new_line_content": "\thash_sha1_file(buf, len, typename(type), sha1);",
          "content_same": false
        },
        {
          "line": 3138,
          "old_api": "stat_sha1_file",
          "new_api": "die",
          "old_text": "stat_sha1_file(repl, &st, &path)",
          "new_text": "die(\"replacement %s not found for %s\",\n\t\t    sha1_to_hex(repl), sha1_to_hex(sha1))",
          "old_line_content": "\tif (!stat_sha1_file(repl, &st, &path))",
          "new_line_content": "\t\tdie(\"replacement %s not found for %s\",",
          "content_same": false
        },
        {
          "line": 3139,
          "old_api": "die",
          "new_api": "sha1_to_hex",
          "old_text": "die(\"loose object %s (stored in %s) is corrupt\",\n\t\t    sha1_to_hex(repl), path)",
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\t\tdie(\"loose object %s (stored in %s) is corrupt\",",
          "new_line_content": "\t\t    sha1_to_hex(repl), sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 3142,
          "old_api": "has_packed_and_bad",
          "new_api": "die",
          "old_text": "has_packed_and_bad(repl)",
          "new_text": "die(\"loose object %s (stored in %s) is corrupt\",\n\t\t    sha1_to_hex(repl), path)",
          "old_line_content": "\tif ((p = has_packed_and_bad(repl)) != NULL)",
          "new_line_content": "\t\tdie(\"loose object %s (stored in %s) is corrupt\",",
          "content_same": false
        },
        {
          "line": 3143,
          "old_api": "die",
          "new_api": "sha1_to_hex",
          "old_text": "die(\"packed object %s (stored in %s) is corrupt\",\n\t\t    sha1_to_hex(repl), p->pack_name)",
          "new_text": "sha1_to_hex(repl)",
          "old_line_content": "\t\tdie(\"packed object %s (stored in %s) is corrupt\",",
          "new_line_content": "\t\t    sha1_to_hex(repl), path);",
          "content_same": false
        },
        {
          "line": 3183,
          "old_api": "strlen",
          "new_api": "free",
          "old_text": "strlen(ref_type)",
          "new_text": "free(buffer)",
          "old_line_content": "\t\tref_length = strlen(ref_type);",
          "new_line_content": "\t\t\tfree(buffer);",
          "content_same": false
        },
        {
          "line": 3186,
          "old_api": "memcmp",
          "new_api": "strlen",
          "old_text": "memcmp(buffer, ref_type, ref_length)",
          "new_text": "strlen(ref_type)",
          "old_line_content": "\t\t    memcmp(buffer, ref_type, ref_length) ||",
          "new_line_content": "\t\tref_length = strlen(ref_type);",
          "content_same": false
        },
        {
          "line": 3207,
          "old_api": "git_SHA1_Init",
          "new_api": "xsnprintf",
          "old_text": "git_SHA1_Init(&c)",
          "new_text": "xsnprintf(hdr, *hdrlen, \"%s %lu\", type, len)",
          "old_line_content": "\tgit_SHA1_Init(&c);",
          "new_line_content": "\t*hdrlen = xsnprintf(hdr, *hdrlen, \"%s %lu\", type, len)+1;",
          "content_same": false
        },
        {
          "line": 3210,
          "old_api": "git_SHA1_Final",
          "new_api": "git_SHA1_Init",
          "old_text": "git_SHA1_Final(sha1, &c)",
          "new_text": "git_SHA1_Init(&c)",
          "old_line_content": "\tgit_SHA1_Final(sha1, &c);",
          "new_line_content": "\tgit_SHA1_Init(&c);",
          "content_same": false
        },
        {
          "line": 3245,
          "old_api": "error_errno",
          "new_api": "unlink_or_warn",
          "old_text": "error_errno(\"unable to write sha1 filename %s\", filename)",
          "new_text": "unlink_or_warn(tmpfile)",
          "old_line_content": "\t\t\treturn error_errno(\"unable to write sha1 filename %s\", filename);",
          "new_line_content": "\tunlink_or_warn(tmpfile);",
          "content_same": false
        },
        {
          "line": 3302,
          "old_api": "strbuf_add",
          "new_api": "directory_size",
          "old_text": "strbuf_add(tmp, filename, dirlen)",
          "new_text": "directory_size(filename)",
          "old_line_content": "\tstrbuf_add(tmp, filename, dirlen);",
          "new_line_content": "\tint fd, dirlen = directory_size(filename);",
          "content_same": false
        },
        {
          "line": 3304,
          "old_api": "git_mkstemp_mode",
          "new_api": "strbuf_reset",
          "old_text": "git_mkstemp_mode(tmp->buf, 0444)",
          "new_text": "strbuf_reset(tmp)",
          "old_line_content": "\tfd = git_mkstemp_mode(tmp->buf, 0444);",
          "new_line_content": "\tstrbuf_reset(tmp);",
          "content_same": false
        },
        {
          "line": 3316,
          "old_api": "adjust_shared_perm",
          "new_api": "strbuf_add",
          "old_text": "adjust_shared_perm(tmp->buf)",
          "new_text": "strbuf_add(tmp, filename, dirlen - 1)",
          "old_line_content": "\t\tif (adjust_shared_perm(tmp->buf))",
          "new_line_content": "\t\tstrbuf_add(tmp, filename, dirlen - 1);",
          "content_same": false
        },
        {
          "line": 3340,
          "old_api": "get_object_directory",
          "new_api": "create_tmpfile",
          "old_text": "get_object_directory()",
          "new_text": "create_tmpfile(&tmp_file, filename)",
          "old_line_content": "\t\t\treturn error(\"insufficient permission for adding an object to repository database %s\", get_object_directory());",
          "new_line_content": "\tfd = create_tmpfile(&tmp_file, filename);",
          "content_same": false
        },
        {
          "line": 3349,
          "old_api": "git_SHA1_Init",
          "new_api": "git_deflate_init",
          "old_text": "git_SHA1_Init(&c)",
          "new_text": "git_deflate_init(&stream, zlib_compression_level)",
          "old_line_content": "\tgit_SHA1_Init(&c);",
          "new_line_content": "\tgit_deflate_init(&stream, zlib_compression_level);",
          "content_same": false
        },
        {
          "line": 3366,
          "old_api": "die",
          "new_api": "git_deflate",
          "old_text": "die(\"unable to write sha1 file\")",
          "new_text": "git_deflate(&stream, Z_FINISH)",
          "old_line_content": "\t\t\tdie(\"unable to write sha1 file\");",
          "new_line_content": "\t\tret = git_deflate(&stream, Z_FINISH);",
          "content_same": false
        },
        {
          "line": 3376,
          "old_api": "git_SHA1_Final",
          "new_api": "git_deflate_end_gently",
          "old_text": "git_SHA1_Final(parano_sha1, &c)",
          "new_text": "git_deflate_end_gently(&stream)",
          "old_line_content": "\tgit_SHA1_Final(parano_sha1, &c);",
          "new_line_content": "\tret = git_deflate_end_gently(&stream);",
          "content_same": false
        },
        {
          "line": 3380,
          "old_api": "close_sha1_file",
          "new_api": "hashcmp",
          "old_text": "close_sha1_file(fd)",
          "new_text": "hashcmp(sha1, parano_sha1)",
          "old_line_content": "\tclose_sha1_file(fd);",
          "new_line_content": "\tif (hashcmp(sha1, parano_sha1) != 0)",
          "content_same": false
        },
        {
          "line": 3390,
          "old_api": "finalize_object_file",
          "new_api": "warning_errno",
          "old_text": "finalize_object_file(tmp_file.buf, filename)",
          "new_text": "warning_errno(\"failed utime() on %s\", tmp_file.buf)",
          "old_line_content": "\treturn finalize_object_file(tmp_file.buf, filename);",
          "new_line_content": "\t\t\twarning_errno(\"failed utime() on %s\", tmp_file.buf);",
          "content_same": false
        },
        {
          "line": 3422,
          "old_api": "write_loose_object",
          "new_api": "write_sha1_file_prepare",
          "old_text": "write_loose_object(sha1, hdr, hdrlen, buf, len, 0)",
          "new_text": "write_sha1_file_prepare(buf, len, type, sha1, hdr, &hdrlen)",
          "old_line_content": "\treturn write_loose_object(sha1, hdr, hdrlen, buf, len, 0);",
          "new_line_content": "\twrite_sha1_file_prepare(buf, len, type, sha1, hdr, &hdrlen);",
          "content_same": false
        },
        {
          "line": 3443,
          "old_api": "free",
          "new_api": "write_loose_object",
          "old_text": "free(header)",
          "new_text": "write_loose_object(sha1, header, hdrlen, buf, len, 0)",
          "old_line_content": "\tfree(header);",
          "new_line_content": "\tstatus = write_loose_object(sha1, header, hdrlen, buf, len, 0);",
          "content_same": false
        },
        {
          "line": 3461,
          "old_api": "typename",
          "new_api": "read_packed_sha1",
          "old_text": "typename(type)",
          "new_text": "read_packed_sha1(sha1, &type, &len)",
          "old_line_content": "\thdrlen = xsnprintf(hdr, sizeof(hdr), \"%s %lu\", typename(type), len) + 1;",
          "new_line_content": "\tbuf = read_packed_sha1(sha1, &type, &len);",
          "content_same": false
        },
        {
          "line": 3463,
          "old_api": "free",
          "new_api": "sha1_to_hex",
          "old_text": "free(buf)",
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\tfree(buf);",
          "new_line_content": "\t\treturn error(\"cannot read sha1_file for %s\", sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 3577,
          "old_api": "convert_to_git_filter_fd",
          "new_api": "assert",
          "old_text": "convert_to_git_filter_fd(&the_index, path, fd, &sbuf,\n\t\t\t\t write_object ? safe_crlf : SAFE_CRLF_FALSE)",
          "new_text": "assert(path)",
          "old_line_content": "\tconvert_to_git_filter_fd(&the_index, path, fd, &sbuf,",
          "new_line_content": "\tassert(path);",
          "content_same": false
        },
        {
          "line": 3600,
          "old_api": "strbuf_release",
          "new_api": "index_mem",
          "old_text": "strbuf_release(&sbuf)",
          "new_text": "index_mem(sha1, sbuf.buf, sbuf.len, type,\tpath, flags)",
          "old_line_content": "\tstrbuf_release(&sbuf);",
          "new_line_content": "\t\tret = index_mem(sha1, sbuf.buf, sbuf.len, type,\tpath, flags);",
          "content_same": false
        },
        {
          "line": 3616,
          "old_api": "read_in_full",
          "new_api": "index_mem",
          "old_text": "read_in_full(fd, buf, size)",
          "new_text": "index_mem(sha1, \"\", size, type, path, flags)",
          "old_line_content": "\t\tif (size == read_in_full(fd, buf, size))",
          "new_line_content": "\t\tret = index_mem(sha1, \"\", size, type, path, flags);",
          "content_same": false
        },
        {
          "line": 3619,
          "old_api": "error_errno",
          "new_api": "read_in_full",
          "old_text": "error_errno(\"short read\")",
          "new_text": "read_in_full(fd, buf, size)",
          "old_line_content": "\t\t\tret = error_errno(\"short read\");",
          "new_line_content": "\t\tif (size == read_in_full(fd, buf, size))",
          "content_same": false
        },
        {
          "line": 3620,
          "old_api": "free",
          "new_api": "index_mem",
          "old_text": "free(buf)",
          "new_text": "index_mem(sha1, buf, size, type, path, flags)",
          "old_line_content": "\t\tfree(buf);",
          "new_line_content": "\t\t\tret = index_mem(sha1, buf, size, type, path, flags);",
          "content_same": false
        },
        {
          "line": 3622,
          "old_api": "xmmap",
          "new_api": "error_errno",
          "old_text": "xmmap(NULL, size, PROT_READ, MAP_PRIVATE, fd, 0)",
          "new_text": "error_errno(\"short read\")",
          "old_line_content": "\t\tvoid *buf = xmmap(NULL, size, PROT_READ, MAP_PRIVATE, fd, 0);",
          "new_line_content": "\t\t\tret = error_errno(\"short read\");",
          "content_same": false
        },
        {
          "line": 3623,
          "old_api": "index_mem",
          "new_api": "free",
          "old_text": "index_mem(sha1, buf, size, type, path, flags)",
          "new_text": "free(buf)",
          "old_line_content": "\t\tret = index_mem(sha1, buf, size, type, path, flags);",
          "new_line_content": "\t\tfree(buf);",
          "content_same": false
        },
        {
          "line": 3663,
          "old_api": "index_pipe",
          "new_api": "would_convert_to_git_filter_fd",
          "old_text": "index_pipe(sha1, fd, type, path, flags)",
          "new_text": "would_convert_to_git_filter_fd(path)",
          "old_line_content": "\t\tret = index_pipe(sha1, fd, type, path, flags);",
          "new_line_content": "\tif (type == OBJ_BLOB && path && would_convert_to_git_filter_fd(path))",
          "content_same": false
        },
        {
          "line": 3665,
          "old_api": "would_convert_to_git",
          "new_api": "S_ISREG",
          "old_text": "would_convert_to_git(&the_index, path)",
          "new_text": "S_ISREG(st->st_mode)",
          "old_line_content": "\t\t (path && would_convert_to_git(&the_index, path)))",
          "new_line_content": "\telse if (!S_ISREG(st->st_mode))",
          "content_same": false
        },
        {
          "line": 3666,
          "old_api": "xsize_t",
          "new_api": "index_pipe",
          "old_text": "xsize_t(st->st_size)",
          "new_text": "index_pipe(sha1, fd, type, path, flags)",
          "old_line_content": "\t\tret = index_core(sha1, fd, xsize_t(st->st_size), type, path,",
          "new_line_content": "\t\tret = index_pipe(sha1, fd, type, path, flags);",
          "content_same": false
        },
        {
          "line": 3685,
          "old_api": "index_fd",
          "new_api": "open",
          "old_text": "index_fd(sha1, fd, st, OBJ_BLOB, path, flags)",
          "new_text": "open(path, O_RDONLY)",
          "old_line_content": "\t\tif (index_fd(sha1, fd, st, OBJ_BLOB, path, flags) < 0)",
          "new_line_content": "\t\tfd = open(path, O_RDONLY);",
          "content_same": false
        },
        {
          "line": 3693,
          "old_api": "hash_sha1_file",
          "new_api": "strbuf_readlink",
          "old_text": "hash_sha1_file(sb.buf, sb.len, blob_type, sha1)",
          "new_text": "strbuf_readlink(&sb, path, st->st_size)",
          "old_line_content": "\t\t\thash_sha1_file(sb.buf, sb.len, blob_type, sha1);",
          "new_line_content": "\t\tif (strbuf_readlink(&sb, path, st->st_size))",
          "content_same": false
        },
        {
          "line": 3694,
          "old_api": "write_sha1_file",
          "new_api": "error_errno",
          "old_text": "write_sha1_file(sb.buf, sb.len, blob_type, sha1)",
          "new_text": "error_errno(\"readlink(\\\"%s\\\")\", path)",
          "old_line_content": "\t\telse if (write_sha1_file(sb.buf, sb.len, blob_type, sha1))",
          "new_line_content": "\t\t\treturn error_errno(\"readlink(\\\"%s\\\")\", path);",
          "content_same": false
        },
        {
          "line": 3697,
          "old_api": "strbuf_release",
          "new_api": "write_sha1_file",
          "old_text": "strbuf_release(&sb)",
          "new_text": "write_sha1_file(sb.buf, sb.len, blob_type, sha1)",
          "old_line_content": "\t\tstrbuf_release(&sb);",
          "new_line_content": "\t\telse if (write_sha1_file(sb.buf, sb.len, blob_type, sha1))",
          "content_same": false
        },
        {
          "line": 3700,
          "old_api": "resolve_gitlink_ref",
          "new_api": "strbuf_release",
          "old_text": "resolve_gitlink_ref(path, \"HEAD\", sha1)",
          "new_text": "strbuf_release(&sb)",
          "old_line_content": "\t\treturn resolve_gitlink_ref(path, \"HEAD\", sha1);",
          "new_line_content": "\t\tstrbuf_release(&sb);",
          "content_same": false
        },
        {
          "line": 3716,
          "old_api": "pack_version_ok",
          "new_api": "htonl",
          "old_text": "pack_version_ok(header->hdr_version)",
          "new_text": "htonl(PACK_SIGNATURE)",
          "old_line_content": "\tif (!pack_version_ok(header->hdr_version))",
          "new_line_content": "\tif (header->hdr_signature != htonl(PACK_SIGNATURE))",
          "content_same": false
        },
        {
          "line": 3729,
          "old_api": "typename",
          "new_api": "sha1_to_hex",
          "old_text": "typename(expect)",
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\t\t    typename(expect));",
          "new_line_content": "\t\tdie(\"%s is not a valid object\", sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 3748,
          "old_api": "strbuf_complete",
          "new_api": "BUG",
          "old_text": "strbuf_complete(path, '/')",
          "new_text": "BUG(\"invalid loose object subdirectory: %x\", subdir_nr)",
          "old_line_content": "\tstrbuf_complete(path, '/');",
          "new_line_content": "\t\tBUG(\"invalid loose object subdirectory: %x\", subdir_nr);",
          "content_same": false
        },
        {
          "line": 3752,
          "old_api": "opendir",
          "new_api": "strbuf_addf",
          "old_text": "opendir(path->buf)",
          "new_text": "strbuf_addf(path, \"%02x\", subdir_nr)",
          "old_line_content": "\tdir = opendir(path->buf);",
          "new_line_content": "\tstrbuf_addf(path, \"%02x\", subdir_nr);",
          "content_same": false
        },
        {
          "line": 3755,
          "old_api": "error_errno",
          "new_api": "opendir",
          "old_text": "error_errno(\"unable to open %s\", path->buf)",
          "new_text": "opendir(path->buf)",
          "old_line_content": "\t\t\tr = error_errno(\"unable to open %s\", path->buf);",
          "new_line_content": "\tdir = opendir(path->buf);",
          "content_same": false
        },
        {
          "line": 3764,
          "old_api": "strbuf_setlen",
          "new_api": "is_dot_or_dotdot",
          "old_text": "strbuf_setlen(path, baselen)",
          "new_text": "is_dot_or_dotdot(de->d_name)",
          "old_line_content": "\t\tstrbuf_setlen(path, baselen);",
          "new_line_content": "\t\tif (is_dot_or_dotdot(de->d_name))",
          "content_same": false
        },
        {
          "line": 3767,
          "old_api": "strlen",
          "new_api": "strbuf_setlen",
          "old_text": "strlen(de->d_name)",
          "new_text": "strbuf_setlen(path, baselen)",
          "old_line_content": "\t\tif (strlen(de->d_name) == GIT_SHA1_HEXSZ - 2)  {",
          "new_line_content": "\t\tstrbuf_setlen(path, baselen);",
          "content_same": false
        },
        {
          "line": 3831,
          "old_api": "strbuf_release",
          "new_api": "strbuf_addstr",
          "old_text": "strbuf_release(&buf)",
          "new_text": "strbuf_addstr(&buf, path)",
          "old_line_content": "\tstrbuf_release(&buf);",
          "new_line_content": "\tstrbuf_addstr(&buf, path);",
          "content_same": false
        },
        {
          "line": 3852,
          "old_api": "strbuf_release",
          "new_api": "for_each_loose_file_in_objdir_buf",
          "old_text": "strbuf_release(&buf)",
          "new_text": "for_each_loose_file_in_objdir_buf(&buf,\n\t\t\t\t\t      data->cb, NULL, NULL,\n\t\t\t\t\t      data->data)",
          "old_line_content": "\tstrbuf_release(&buf);",
          "new_line_content": "\tr = for_each_loose_file_in_objdir_buf(&buf,",
          "content_same": false
        },
        {
          "line": 3886,
          "old_api": "cb",
          "new_api": "error",
          "old_text": "cb(&oid, p, i, data)",
          "new_text": "error(\"unable to get sha1 of object %u in %s\",\n\t\t\t\t     i, p->pack_name)",
          "old_line_content": "\t\tr = cb(&oid, p, i, data);",
          "new_line_content": "\t\t\treturn error(\"unable to get sha1 of object %u in %s\",",
          "content_same": false
        },
        {
          "line": 3949,
          "old_api": "git_inflate_end",
          "new_api": "git_SHA1_Update",
          "old_text": "git_inflate_end(stream)",
          "new_text": "git_SHA1_Update(&c, buf, stream->next_out - buf)",
          "old_line_content": "\tgit_inflate_end(stream);",
          "new_line_content": "\t\tgit_SHA1_Update(&c, buf, stream->next_out - buf);",
          "content_same": false
        },
        {
          "line": 3952,
          "old_api": "sha1_to_hex",
          "new_api": "git_inflate_end",
          "old_text": "sha1_to_hex(expected_sha1)",
          "new_text": "git_inflate_end(stream)",
          "old_line_content": "\t\terror(\"corrupt loose object '%s'\", sha1_to_hex(expected_sha1));",
          "new_line_content": "\tgit_inflate_end(stream);",
          "content_same": false
        },
        {
          "line": 3964,
          "old_api": "sha1_to_hex",
          "new_api": "git_SHA1_Final",
          "old_text": "sha1_to_hex(expected_sha1)",
          "new_text": "git_SHA1_Final(real_sha1, &c)",
          "old_line_content": "\t\t      sha1_to_hex(expected_sha1));",
          "new_line_content": "\tgit_SHA1_Final(real_sha1, &c);",
          "content_same": false
        },
        {
          "line": 3999,
          "old_api": "git_inflate_end",
          "new_api": "parse_sha1_header",
          "old_text": "git_inflate_end(&stream)",
          "new_text": "parse_sha1_header(hdr, size)",
          "old_line_content": "\t\tgit_inflate_end(&stream);",
          "new_line_content": "\t*type = parse_sha1_header(hdr, size);",
          "content_same": false
        },
        {
          "line": 4007,
          "old_api": "unpack_sha1_rest",
          "new_api": "check_stream_sha1",
          "old_text": "unpack_sha1_rest(&stream, hdr, *size, expected_sha1)",
          "new_text": "check_stream_sha1(&stream, hdr, *size, path, expected_sha1)",
          "old_line_content": "\t\t*contents = unpack_sha1_rest(&stream, hdr, *size, expected_sha1);",
          "new_line_content": "\t\tif (check_stream_sha1(&stream, hdr, *size, path, expected_sha1) < 0)",
          "content_same": false
        },
        {
          "line": 4010,
          "old_api": "git_inflate_end",
          "new_api": "unpack_sha1_rest",
          "old_text": "git_inflate_end(&stream)",
          "new_text": "unpack_sha1_rest(&stream, hdr, *size, expected_sha1)",
          "old_line_content": "\t\t\tgit_inflate_end(&stream);",
          "new_line_content": "\t\t*contents = unpack_sha1_rest(&stream, hdr, *size, expected_sha1);",
          "content_same": false
        },
        {
          "line": 4013,
          "old_api": "check_sha1_signature",
          "new_api": "git_inflate_end",
          "old_text": "check_sha1_signature(expected_sha1, *contents,\n\t\t\t\t\t *size, typename(*type))",
          "new_text": "git_inflate_end(&stream)",
          "old_line_content": "\t\tif (check_sha1_signature(expected_sha1, *contents,",
          "new_line_content": "\t\t\tgit_inflate_end(&stream);",
          "content_same": false
        },
        {
          "line": 4016,
          "old_api": "sha1_to_hex",
          "new_api": "check_sha1_signature",
          "old_text": "sha1_to_hex(expected_sha1)",
          "new_text": "check_sha1_signature(expected_sha1, *contents,\n\t\t\t\t\t *size, typename(*type))",
          "old_line_content": "\t\t\t      sha1_to_hex(expected_sha1));",
          "new_line_content": "\t\tif (check_sha1_signature(expected_sha1, *contents,",
          "content_same": false
        },
        {
          "line": 4017,
          "old_api": "free",
          "new_api": "typename",
          "old_text": "free(*contents)",
          "new_text": "typename(*type)",
          "old_line_content": "\t\t\tfree(*contents);",
          "new_line_content": "\t\t\t\t\t *size, typename(*type))) {",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 3072,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t      sha1_to_hex(sha1), (uintmax_t)e.offset, e.p->pack_name);",
          "content_same": false
        },
        {
          "line": 3073,
          "old_api": null,
          "new_api": "mark_bad_packed_object",
          "old_text": null,
          "new_text": "mark_bad_packed_object(e.p, sha1)",
          "old_line_content": "\treturn data;",
          "new_line_content": "\t\tmark_bad_packed_object(e.p, sha1);",
          "content_same": false
        },
        {
          "line": 3074,
          "old_api": null,
          "new_api": "read_object",
          "old_text": null,
          "new_text": "read_object(sha1, type, size)",
          "old_line_content": "}",
          "new_line_content": "\t\tdata = read_object(sha1, type, size);",
          "content_same": false
        },
        {
          "line": 3587,
          "old_api": null,
          "new_api": "typename",
          "old_text": null,
          "new_text": "typename(OBJ_BLOB)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\t\tret = hash_sha1_file(sbuf.buf, sbuf.len, typename(OBJ_BLOB),",
          "content_same": false
        },
        {
          "line": 3589,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&sbuf)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&sbuf);",
          "content_same": false
        },
        {
          "line": 3085,
          "old_api": null,
          "new_api": "find_cached_object",
          "old_text": null,
          "new_text": "find_cached_object(sha1)",
          "old_line_content": "\tco = &cached_objects[cached_object_nr++];",
          "new_line_content": "\tif (has_sha1_file(sha1) || find_cached_object(sha1))",
          "content_same": false
        },
        {
          "line": 3087,
          "old_api": null,
          "new_api": "ALLOC_GROW",
          "old_text": null,
          "new_text": "ALLOC_GROW(cached_objects, cached_object_nr + 1, cached_object_alloc)",
          "old_line_content": "\tco->type = type;",
          "new_line_content": "\tALLOC_GROW(cached_objects, cached_object_nr + 1, cached_object_alloc);",
          "content_same": false
        },
        {
          "line": 3599,
          "old_api": null,
          "new_api": "strbuf_read",
          "old_text": null,
          "new_text": "strbuf_read(&sbuf, fd, 4096)",
          "old_line_content": "\t\tret = -1;",
          "new_line_content": "\tif (strbuf_read(&sbuf, fd, 4096) >= 0)",
          "content_same": false
        },
        {
          "line": 3091,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(len)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\tco->buf = xmalloc(len);",
          "content_same": false
        },
        {
          "line": 3092,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(co->buf, buf, len)",
          "old_line_content": "}",
          "new_line_content": "\tmemcpy(co->buf, buf, len);",
          "content_same": false
        },
        {
          "line": 3093,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(co->sha1, sha1)",
          "old_line_content": "",
          "new_line_content": "\thashcpy(co->sha1, sha1);",
          "content_same": false
        },
        {
          "line": 3603,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&sbuf)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&sbuf);",
          "content_same": false
        },
        {
          "line": 3106,
          "old_api": null,
          "new_api": "sha1_object_info_extended",
          "old_text": null,
          "new_text": "sha1_object_info_extended(sha1, &oi, 0)",
          "old_line_content": "}",
          "new_line_content": "\tif (sha1_object_info_extended(sha1, &oi, 0) < 0)",
          "content_same": false
        },
        {
          "line": 3618,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(size)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\tchar *buf = xmalloc(size);",
          "content_same": false
        },
        {
          "line": 3625,
          "old_api": null,
          "new_api": "xmmap",
          "old_text": null,
          "new_text": "xmmap(NULL, size, PROT_READ, MAP_PRIVATE, fd, 0)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tvoid *buf = xmmap(NULL, size, PROT_READ, MAP_PRIVATE, fd, 0);",
          "content_same": false
        },
        {
          "line": 3626,
          "old_api": null,
          "new_api": "index_mem",
          "old_text": null,
          "new_text": "index_mem(sha1, buf, size, type, path, flags)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\t\tret = index_mem(sha1, buf, size, type, path, flags);",
          "content_same": false
        },
        {
          "line": 3627,
          "old_api": null,
          "new_api": "munmap",
          "old_text": null,
          "new_text": "munmap(buf, size)",
          "old_line_content": "}",
          "new_line_content": "\t\tmunmap(buf, size);",
          "content_same": false
        },
        {
          "line": 3125,
          "old_api": null,
          "new_api": "lookup_replace_object",
          "old_text": null,
          "new_text": "lookup_replace_object(sha1)",
          "old_line_content": "\terrno = 0;",
          "new_line_content": "\tconst unsigned char *repl = lookup_replace ? lookup_replace_object(sha1)",
          "content_same": false
        },
        {
          "line": 3129,
          "old_api": null,
          "new_api": "read_object",
          "old_text": null,
          "new_text": "read_object(repl, type, size)",
          "old_line_content": "",
          "new_line_content": "\tdata = read_object(repl, type, size);",
          "content_same": false
        },
        {
          "line": 3134,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\tif (repl != sha1)",
          "new_line_content": "\t\tdie_errno(\"failed to read object %s\", sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 3651,
          "old_api": null,
          "new_api": "index_bulk_checkin",
          "old_text": null,
          "new_text": "index_bulk_checkin(sha1, fd, size, type, path, flags)",
          "old_line_content": "int index_fd(unsigned char *sha1, int fd, struct stat *st,",
          "new_line_content": "\treturn index_bulk_checkin(sha1, fd, size, type, path, flags);",
          "content_same": false
        },
        {
          "line": 3141,
          "old_api": null,
          "new_api": "stat_sha1_file",
          "old_text": null,
          "new_text": "stat_sha1_file(repl, &st, &path)",
          "old_line_content": "",
          "new_line_content": "\tif (!stat_sha1_file(repl, &st, &path))",
          "content_same": false
        },
        {
          "line": 3145,
          "old_api": null,
          "new_api": "has_packed_and_bad",
          "old_text": null,
          "new_text": "has_packed_and_bad(repl)",
          "old_line_content": "",
          "new_line_content": "\tif ((p = has_packed_and_bad(repl)) != NULL)",
          "content_same": false
        },
        {
          "line": 3146,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"packed object %s (stored in %s) is corrupt\",\n\t\t    sha1_to_hex(repl), p->pack_name)",
          "old_line_content": "\treturn NULL;",
          "new_line_content": "\t\tdie(\"packed object %s (stored in %s) is corrupt\",",
          "content_same": false
        },
        {
          "line": 3147,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(repl)",
          "old_line_content": "}",
          "new_line_content": "\t\t    sha1_to_hex(repl), p->pack_name);",
          "content_same": false
        },
        {
          "line": 3664,
          "old_api": null,
          "new_api": "index_stream_convert_blob",
          "old_text": null,
          "new_text": "index_stream_convert_blob(sha1, fd, path, flags)",
          "old_line_content": "\telse if (st->st_size <= big_file_threshold || type != OBJ_BLOB ||",
          "new_line_content": "\t\tret = index_stream_convert_blob(sha1, fd, path, flags);",
          "content_same": false
        },
        {
          "line": 3668,
          "old_api": null,
          "new_api": "would_convert_to_git",
          "old_text": null,
          "new_text": "would_convert_to_git(&the_index, path)",
          "old_line_content": "\telse",
          "new_line_content": "\t\t (path && would_convert_to_git(&the_index, path)))",
          "content_same": false
        },
        {
          "line": 3672,
          "old_api": null,
          "new_api": "xsize_t",
          "old_text": null,
          "new_text": "xsize_t(st->st_size)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\t\tret = index_stream(sha1, fd, xsize_t(st->st_size), type, path,",
          "content_same": false
        },
        {
          "line": 3162,
          "old_api": null,
          "new_api": "type_from_string",
          "old_text": null,
          "new_text": "type_from_string(required_type_name)",
          "old_line_content": "\t\tint ref_length = -1;",
          "new_line_content": "\trequired_type = type_from_string(required_type_name);",
          "content_same": false
        },
        {
          "line": 3163,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(actual_sha1, sha1)",
          "old_line_content": "\t\tconst char *ref_type = NULL;",
          "new_line_content": "\thashcpy(actual_sha1, sha1);",
          "content_same": false
        },
        {
          "line": 3674,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(fd)",
          "old_line_content": "",
          "new_line_content": "\tclose(fd);",
          "content_same": false
        },
        {
          "line": 3168,
          "old_api": null,
          "new_api": "read_sha1_file",
          "old_text": null,
          "new_text": "read_sha1_file(actual_sha1, &type, &isize)",
          "old_line_content": "\t\tif (type == required_type) {",
          "new_line_content": "\t\tbuffer = read_sha1_file(actual_sha1, &type, &isize);",
          "content_same": false
        },
        {
          "line": 3174,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(actual_sha1_return, actual_sha1)",
          "old_line_content": "\t\t/* Handle references */",
          "new_line_content": "\t\t\t\thashcpy(actual_sha1_return, actual_sha1);",
          "content_same": false
        },
        {
          "line": 3687,
          "old_api": null,
          "new_api": "error_errno",
          "old_text": null,
          "new_text": "error_errno(\"open(\\\"%s\\\")\", path)",
          "old_line_content": "\t\t\t\t     path);",
          "new_line_content": "\t\t\treturn error_errno(\"open(\\\"%s\\\")\", path);",
          "content_same": false
        },
        {
          "line": 3688,
          "old_api": null,
          "new_api": "index_fd",
          "old_text": null,
          "new_text": "index_fd(sha1, fd, st, OBJ_BLOB, path, flags)",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "\t\tif (index_fd(sha1, fd, st, OBJ_BLOB, path, flags) < 0)",
          "content_same": false
        },
        {
          "line": 3689,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: failed to insert into database\",\n\t\t\t\t     path)",
          "old_line_content": "\tcase S_IFLNK:",
          "new_line_content": "\t\t\treturn error(\"%s: failed to insert into database\",",
          "content_same": false
        },
        {
          "line": 3696,
          "old_api": null,
          "new_api": "hash_sha1_file",
          "old_text": null,
          "new_text": "hash_sha1_file(sb.buf, sb.len, blob_type, sha1)",
          "old_line_content": "\t\t\t\t     path);",
          "new_line_content": "\t\t\thash_sha1_file(sb.buf, sb.len, blob_type, sha1);",
          "content_same": false
        },
        {
          "line": 3698,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: failed to insert into database\",\n\t\t\t\t     path)",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "\t\t\treturn error(\"%s: failed to insert into database\",",
          "content_same": false
        },
        {
          "line": 3189,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(buffer, ref_type, ref_length)",
          "old_line_content": "\t\t\treturn NULL;",
          "new_line_content": "\t\t    memcmp(buffer, ref_type, ref_length) ||",
          "content_same": false
        },
        {
          "line": 3190,
          "old_api": null,
          "new_api": "get_sha1_hex",
          "old_text": null,
          "new_text": "get_sha1_hex((char *) buffer + ref_length, actual_sha1)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t    get_sha1_hex((char *) buffer + ref_length, actual_sha1)) {",
          "content_same": false
        },
        {
          "line": 3703,
          "old_api": null,
          "new_api": "resolve_gitlink_ref",
          "old_text": null,
          "new_text": "resolve_gitlink_ref(path, \"HEAD\", sha1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\treturn resolve_gitlink_ref(path, \"HEAD\", sha1);",
          "content_same": false
        },
        {
          "line": 3705,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: unsupported file type\", path)",
          "old_line_content": "}",
          "new_line_content": "\t\treturn error(\"%s: unsupported file type\", path);",
          "content_same": false
        },
        {
          "line": 3194,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(buffer)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tfree(buffer);",
          "content_same": false
        },
        {
          "line": 3712,
          "old_api": null,
          "new_api": "read_in_full",
          "old_text": null,
          "new_text": "read_in_full(fd, header, sizeof(*header))",
          "old_line_content": "",
          "new_line_content": "\tif (read_in_full(fd, header, sizeof(*header)) != sizeof(*header))",
          "content_same": false
        },
        {
          "line": 3719,
          "old_api": null,
          "new_api": "pack_version_ok",
          "old_text": null,
          "new_text": "pack_version_ok(header->hdr_version)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\tif (!pack_version_ok(header->hdr_version))",
          "content_same": false
        },
        {
          "line": 3211,
          "old_api": null,
          "new_api": "git_SHA1_Update",
          "old_text": null,
          "new_text": "git_SHA1_Update(&c, hdr, *hdrlen)",
          "old_line_content": "}",
          "new_line_content": "\tgit_SHA1_Update(&c, hdr, *hdrlen);",
          "content_same": false
        },
        {
          "line": 3212,
          "old_api": null,
          "new_api": "git_SHA1_Update",
          "old_text": null,
          "new_text": "git_SHA1_Update(&c, buf, len)",
          "old_line_content": "",
          "new_line_content": "\tgit_SHA1_Update(&c, buf, len);",
          "content_same": false
        },
        {
          "line": 3213,
          "old_api": null,
          "new_api": "git_SHA1_Final",
          "old_text": null,
          "new_text": "git_SHA1_Final(sha1, &c)",
          "old_line_content": "/*",
          "new_line_content": "\tgit_SHA1_Final(sha1, &c);",
          "content_same": false
        },
        {
          "line": 3727,
          "old_api": null,
          "new_api": "sha1_object_info",
          "old_text": null,
          "new_text": "sha1_object_info(sha1, NULL)",
          "old_line_content": "\tif (type != expect)",
          "new_line_content": "\tenum object_type type = sha1_object_info(sha1, NULL);",
          "content_same": false
        },
        {
          "line": 3731,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"%s is not a valid '%s' object\", sha1_to_hex(sha1),",
          "content_same": false
        },
        {
          "line": 3732,
          "old_api": null,
          "new_api": "typename",
          "old_text": null,
          "new_text": "typename(expect)",
          "old_line_content": "int for_each_file_in_obj_subdir(unsigned int subdir_nr,",
          "new_line_content": "\t\t    typename(expect));",
          "content_same": false
        },
        {
          "line": 3225,
          "old_api": null,
          "new_api": "link",
          "old_text": null,
          "new_text": "link(tmpfile, filename)",
          "old_line_content": "\t/*",
          "new_line_content": "\telse if (link(tmpfile, filename))",
          "content_same": false
        },
        {
          "line": 3751,
          "old_api": null,
          "new_api": "strbuf_complete",
          "old_text": null,
          "new_text": "strbuf_complete(path, '/')",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_complete(path, '/');",
          "content_same": false
        },
        {
          "line": 3241,
          "old_api": null,
          "new_api": "rename",
          "old_text": null,
          "new_text": "rename(tmpfile, filename)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (!rename(tmpfile, filename))",
          "content_same": false
        },
        {
          "line": 3758,
          "old_api": null,
          "new_api": "error_errno",
          "old_text": null,
          "new_text": "error_errno(\"unable to open %s\", path->buf)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tr = error_errno(\"unable to open %s\", path->buf);",
          "content_same": false
        },
        {
          "line": 3759,
          "old_api": null,
          "new_api": "strbuf_setlen",
          "old_text": null,
          "new_text": "strbuf_setlen(path, origlen)",
          "old_line_content": "",
          "new_line_content": "\t\tstrbuf_setlen(path, origlen);",
          "content_same": false
        },
        {
          "line": 3248,
          "old_api": null,
          "new_api": "error_errno",
          "old_text": null,
          "new_text": "error_errno(\"unable to write sha1 filename %s\", filename)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\treturn error_errno(\"unable to write sha1 filename %s\", filename);",
          "content_same": false
        },
        {
          "line": 3763,
          "old_api": null,
          "new_api": "readdir",
          "old_text": null,
          "new_text": "readdir(dir)",
          "old_line_content": "",
          "new_line_content": "\twhile ((de = readdir(dir))) {",
          "content_same": false
        },
        {
          "line": 3254,
          "old_api": null,
          "new_api": "adjust_shared_perm",
          "old_text": null,
          "new_text": "adjust_shared_perm(filename)",
          "old_line_content": "}",
          "new_line_content": "\tif (adjust_shared_perm(filename))",
          "content_same": false
        },
        {
          "line": 3255,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"unable to set permission to '%s'\", filename)",
          "old_line_content": "",
          "new_line_content": "\t\treturn error(\"unable to set permission to '%s'\", filename);",
          "content_same": false
        },
        {
          "line": 3768,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(path, \"/%s\", de->d_name)",
          "old_line_content": "\t\t\tchar hex[GIT_MAX_HEXSZ+1];",
          "new_line_content": "\t\tstrbuf_addf(path, \"/%s\", de->d_name);",
          "content_same": false
        },
        {
          "line": 3770,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(de->d_name)",
          "old_line_content": "",
          "new_line_content": "\t\tif (strlen(de->d_name) == GIT_SHA1_HEXSZ - 2)  {",
          "content_same": false
        },
        {
          "line": 3261,
          "old_api": null,
          "new_api": "write_in_full",
          "old_text": null,
          "new_text": "write_in_full(fd, buf, len)",
          "old_line_content": "}",
          "new_line_content": "\tif (write_in_full(fd, buf, len) < 0)",
          "content_same": false
        },
        {
          "line": 3262,
          "old_api": null,
          "new_api": "error_errno",
          "old_text": null,
          "new_text": "error_errno(\"file write error\")",
          "old_line_content": "",
          "new_line_content": "\t\treturn error_errno(\"file write error\");",
          "content_same": false
        },
        {
          "line": 3774,
          "old_api": null,
          "new_api": "xsnprintf",
          "old_text": null,
          "new_text": "xsnprintf(hex, sizeof(hex), \"%02x%s\",\n\t\t\t\t  subdir_nr, de->d_name)",
          "old_line_content": "\t\t\t\tif (obj_cb) {",
          "new_line_content": "\t\t\txsnprintf(hex, sizeof(hex), \"%02x%s\",",
          "content_same": false
        },
        {
          "line": 3776,
          "old_api": null,
          "new_api": "get_oid_hex",
          "old_text": null,
          "new_text": "get_oid_hex(hex, &oid)",
          "old_line_content": "\t\t\t\t\tif (r)",
          "new_line_content": "\t\t\tif (!get_oid_hex(hex, &oid)) {",
          "content_same": false
        },
        {
          "line": 3778,
          "old_api": null,
          "new_api": "obj_cb",
          "old_text": null,
          "new_text": "obj_cb(&oid, path->buf, data)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tr = obj_cb(&oid, path->buf, data);",
          "content_same": false
        },
        {
          "line": 3271,
          "old_api": null,
          "new_api": "write_sha1_file_prepare",
          "old_text": null,
          "new_text": "write_sha1_file_prepare(buf, len, type, sha1, hdr, &hdrlen)",
          "old_line_content": "",
          "new_line_content": "\twrite_sha1_file_prepare(buf, len, type, sha1, hdr, &hdrlen);",
          "content_same": false
        },
        {
          "line": 3787,
          "old_api": null,
          "new_api": "cruft_cb",
          "old_text": null,
          "new_text": "cruft_cb(de->d_name, path->buf, data)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tr = cruft_cb(de->d_name, path->buf, data);",
          "content_same": false
        },
        {
          "line": 3279,
          "old_api": null,
          "new_api": "fsync_or_die",
          "old_text": null,
          "new_text": "fsync_or_die(fd, \"sha1 file\")",
          "old_line_content": "}",
          "new_line_content": "\t\tfsync_or_die(fd, \"sha1 file\");",
          "content_same": false
        },
        {
          "line": 3280,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(fd)",
          "old_line_content": "",
          "new_line_content": "\tif (close(fd) != 0)",
          "content_same": false
        },
        {
          "line": 3281,
          "old_api": null,
          "new_api": "die_errno",
          "old_text": null,
          "new_text": "die_errno(\"error when closing sha1 file\")",
          "old_line_content": "/* Size of directory component, including the ending '/' */",
          "new_line_content": "\t\tdie_errno(\"error when closing sha1 file\");",
          "content_same": false
        },
        {
          "line": 3792,
          "old_api": null,
          "new_api": "closedir",
          "old_text": null,
          "new_text": "closedir(dir)",
          "old_line_content": "\tif (!r && subdir_cb)",
          "new_line_content": "\tclosedir(dir);",
          "content_same": false
        },
        {
          "line": 3794,
          "old_api": null,
          "new_api": "strbuf_setlen",
          "old_text": null,
          "new_text": "strbuf_setlen(path, baselen)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_setlen(path, baselen);",
          "content_same": false
        },
        {
          "line": 3796,
          "old_api": null,
          "new_api": "subdir_cb",
          "old_text": null,
          "new_text": "subdir_cb(subdir_nr, path->buf, data)",
          "old_line_content": "",
          "new_line_content": "\t\tr = subdir_cb(subdir_nr, path->buf, data);",
          "content_same": false
        },
        {
          "line": 3798,
          "old_api": null,
          "new_api": "strbuf_setlen",
          "old_text": null,
          "new_text": "strbuf_setlen(path, origlen)",
          "old_line_content": "}",
          "new_line_content": "\tstrbuf_setlen(path, origlen);",
          "content_same": false
        },
        {
          "line": 3287,
          "old_api": null,
          "new_api": "strrchr",
          "old_text": null,
          "new_text": "strrchr(filename, '/')",
          "old_line_content": "\treturn s - filename + 1;",
          "new_line_content": "\tconst char *s = strrchr(filename, '/');",
          "content_same": false
        },
        {
          "line": 3813,
          "old_api": null,
          "new_api": "for_each_file_in_obj_subdir",
          "old_text": null,
          "new_text": "for_each_file_in_obj_subdir(i, path, obj_cb, cruft_cb,\n\t\t\t\t\t\tsubdir_cb, data)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\tr = for_each_file_in_obj_subdir(i, path, obj_cb, cruft_cb,",
          "content_same": false
        },
        {
          "line": 3305,
          "old_api": null,
          "new_api": "strbuf_add",
          "old_text": null,
          "new_text": "strbuf_add(tmp, filename, dirlen)",
          "old_line_content": "\tif (fd < 0 && dirlen && errno == ENOENT) {",
          "new_line_content": "\tstrbuf_add(tmp, filename, dirlen);",
          "content_same": false
        },
        {
          "line": 3306,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(tmp, \"tmp_obj_XXXXXX\")",
          "old_line_content": "\t\t/*",
          "new_line_content": "\tstrbuf_addstr(tmp, \"tmp_obj_XXXXXX\");",
          "content_same": false
        },
        {
          "line": 3307,
          "old_api": null,
          "new_api": "git_mkstemp_mode",
          "old_text": null,
          "new_text": "git_mkstemp_mode(tmp->buf, 0444)",
          "old_line_content": "\t\t * Make sure the directory exists; note that the contents",
          "new_line_content": "\tfd = git_mkstemp_mode(tmp->buf, 0444);",
          "content_same": false
        },
        {
          "line": 3315,
          "old_api": null,
          "new_api": "strbuf_reset",
          "old_text": null,
          "new_text": "strbuf_reset(tmp)",
          "old_line_content": "\t\t\treturn -1;",
          "new_line_content": "\t\tstrbuf_reset(tmp);",
          "content_same": false
        },
        {
          "line": 3317,
          "old_api": null,
          "new_api": "mkdir",
          "old_text": null,
          "new_text": "mkdir(tmp->buf, 0777)",
          "old_line_content": "\t\t\treturn -1;",
          "new_line_content": "\t\tif (mkdir(tmp->buf, 0777) && errno != EEXIST)",
          "content_same": false
        },
        {
          "line": 3319,
          "old_api": null,
          "new_api": "adjust_shared_perm",
          "old_text": null,
          "new_text": "adjust_shared_perm(tmp->buf)",
          "old_line_content": "\t\t/* Try again */",
          "new_line_content": "\t\tif (adjust_shared_perm(tmp->buf))",
          "content_same": false
        },
        {
          "line": 3832,
          "old_api": null,
          "new_api": "for_each_loose_file_in_objdir_buf",
          "old_text": null,
          "new_text": "for_each_loose_file_in_objdir_buf(&buf, obj_cb, cruft_cb,\n\t\t\t\t\t      subdir_cb, data)",
          "old_line_content": "",
          "new_line_content": "\tr = for_each_loose_file_in_objdir_buf(&buf, obj_cb, cruft_cb,",
          "content_same": false
        },
        {
          "line": 3834,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&buf)",
          "old_line_content": "}",
          "new_line_content": "\tstrbuf_release(&buf);",
          "content_same": false
        },
        {
          "line": 3323,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(tmp, \"/tmp_obj_XXXXXX\")",
          "old_line_content": "\treturn fd;",
          "new_line_content": "\t\tstrbuf_addstr(tmp, \"/tmp_obj_XXXXXX\");",
          "content_same": false
        },
        {
          "line": 3324,
          "old_api": null,
          "new_api": "git_mkstemp_mode",
          "old_text": null,
          "new_text": "git_mkstemp_mode(tmp->buf, 0444)",
          "old_line_content": "}",
          "new_line_content": "\t\tfd = git_mkstemp_mode(tmp->buf, 0444);",
          "content_same": false
        },
        {
          "line": 3338,
          "old_api": null,
          "new_api": "sha1_file_name",
          "old_text": null,
          "new_text": "sha1_file_name(sha1)",
          "old_line_content": "\tif (fd < 0) {",
          "new_line_content": "\tconst char *filename = sha1_file_name(sha1);",
          "content_same": false
        },
        {
          "line": 3851,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&buf, alt->path)",
          "old_line_content": "\t\t\t\t\t      data->data);",
          "new_line_content": "\tstrbuf_addstr(&buf, alt->path);",
          "content_same": false
        },
        {
          "line": 3343,
          "old_api": null,
          "new_api": "get_object_directory",
          "old_text": null,
          "new_text": "get_object_directory()",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\treturn error(\"insufficient permission for adding an object to repository database %s\", get_object_directory());",
          "content_same": false
        },
        {
          "line": 3855,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&buf)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&buf);",
          "content_same": false
        },
        {
          "line": 3345,
          "old_api": null,
          "new_api": "error_errno",
          "old_text": null,
          "new_text": "error_errno(\"unable to create temporary file\")",
          "old_line_content": "\t/* Set it up */",
          "new_line_content": "\t\t\treturn error_errno(\"unable to create temporary file\");",
          "content_same": false
        },
        {
          "line": 3352,
          "old_api": null,
          "new_api": "git_SHA1_Init",
          "old_text": null,
          "new_text": "git_SHA1_Init(&c)",
          "old_line_content": "\tstream.next_in = (unsigned char *)hdr;",
          "new_line_content": "\tgit_SHA1_Init(&c);",
          "content_same": false
        },
        {
          "line": 3864,
          "old_api": null,
          "new_api": "get_object_directory",
          "old_text": null,
          "new_text": "get_object_directory()",
          "old_line_content": "\t\treturn r;",
          "new_line_content": "\tr = for_each_loose_file_in_objdir(get_object_directory(),",
          "content_same": false
        },
        {
          "line": 3357,
          "old_api": null,
          "new_api": "git_deflate",
          "old_text": null,
          "new_text": "git_deflate(&stream, 0)",
          "old_line_content": "",
          "new_line_content": "\twhile (git_deflate(&stream, 0) == Z_OK)",
          "content_same": false
        },
        {
          "line": 3359,
          "old_api": null,
          "new_api": "git_SHA1_Update",
          "old_text": null,
          "new_text": "git_SHA1_Update(&c, hdr, hdrlen)",
          "old_line_content": "\tstream.next_in = (void *)buf;",
          "new_line_content": "\tgit_SHA1_Update(&c, hdr, hdrlen);",
          "content_same": false
        },
        {
          "line": 3874,
          "old_api": null,
          "new_api": "foreach_alt_odb",
          "old_text": null,
          "new_text": "foreach_alt_odb(loose_from_alt_odb, &alt)",
          "old_line_content": "static int for_each_object_in_pack(struct packed_git *p, each_packed_object_fn cb, void *data)",
          "new_line_content": "\treturn foreach_alt_odb(loose_from_alt_odb, &alt);",
          "content_same": false
        },
        {
          "line": 3367,
          "old_api": null,
          "new_api": "git_SHA1_Update",
          "old_text": null,
          "new_text": "git_SHA1_Update(&c, in0, stream.next_in - in0)",
          "old_line_content": "\t\tstream.next_out = compressed;",
          "new_line_content": "\t\tgit_SHA1_Update(&c, in0, stream.next_in - in0);",
          "content_same": false
        },
        {
          "line": 3368,
          "old_api": null,
          "new_api": "write_buffer",
          "old_text": null,
          "new_text": "write_buffer(fd, compressed, stream.next_out - compressed)",
          "old_line_content": "\t\tstream.avail_out = sizeof(compressed);",
          "new_line_content": "\t\tif (write_buffer(fd, compressed, stream.next_out - compressed) < 0)",
          "content_same": false
        },
        {
          "line": 3369,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unable to write sha1 file\")",
          "old_line_content": "\t} while (ret == Z_OK);",
          "new_line_content": "\t\t\tdie(\"unable to write sha1 file\");",
          "content_same": false
        },
        {
          "line": 3885,
          "old_api": null,
          "new_api": "nth_packed_object_oid",
          "old_text": null,
          "new_text": "nth_packed_object_oid(&oid, p, i)",
          "old_line_content": "",
          "new_line_content": "\t\tif (!nth_packed_object_oid(&oid, p, i))",
          "content_same": false
        },
        {
          "line": 3889,
          "old_api": null,
          "new_api": "cb",
          "old_text": null,
          "new_text": "cb(&oid, p, i, data)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tr = cb(&oid, p, i, data);",
          "content_same": false
        },
        {
          "line": 3379,
          "old_api": null,
          "new_api": "git_SHA1_Final",
          "old_text": null,
          "new_text": "git_SHA1_Final(parano_sha1, &c)",
          "old_line_content": "",
          "new_line_content": "\tgit_SHA1_Final(parano_sha1, &c);",
          "content_same": false
        },
        {
          "line": 3381,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"confused by unstable object source data for %s\", sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 3383,
          "old_api": null,
          "new_api": "close_sha1_file",
          "old_text": null,
          "new_text": "close_sha1_file(fd)",
          "old_line_content": "\t\tstruct utimbuf utb;",
          "new_line_content": "\tclose_sha1_file(fd);",
          "content_same": false
        },
        {
          "line": 3389,
          "old_api": null,
          "new_api": "utime",
          "old_text": null,
          "new_text": "utime(tmp_file.buf, &utb)",
          "old_line_content": "",
          "new_line_content": "\t\tif (utime(tmp_file.buf, &utb) < 0)",
          "content_same": false
        },
        {
          "line": 3902,
          "old_api": null,
          "new_api": "prepare_packed_git",
          "old_text": null,
          "new_text": "prepare_packed_git()",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\tprepare_packed_git();",
          "content_same": false
        },
        {
          "line": 3393,
          "old_api": null,
          "new_api": "finalize_object_file",
          "old_text": null,
          "new_text": "finalize_object_file(tmp_file.buf, filename)",
          "old_line_content": "static int freshen_loose_object(const unsigned char *sha1)",
          "new_line_content": "\treturn finalize_object_file(tmp_file.buf, filename);",
          "content_same": false
        },
        {
          "line": 3906,
          "old_api": null,
          "new_api": "open_pack_index",
          "old_text": null,
          "new_text": "open_pack_index(p)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (open_pack_index(p)) {",
          "content_same": false
        },
        {
          "line": 3398,
          "old_api": null,
          "new_api": "check_and_freshen",
          "old_text": null,
          "new_text": "check_and_freshen(sha1, 1)",
          "old_line_content": "static int freshen_packed_object(const unsigned char *sha1)",
          "new_line_content": "\treturn check_and_freshen(sha1, 1);",
          "content_same": false
        },
        {
          "line": 3910,
          "old_api": null,
          "new_api": "for_each_object_in_pack",
          "old_text": null,
          "new_text": "for_each_object_in_pack(p, cb, data)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tr = for_each_object_in_pack(p, cb, data);",
          "content_same": false
        },
        {
          "line": 3404,
          "old_api": null,
          "new_api": "find_pack_entry",
          "old_text": null,
          "new_text": "find_pack_entry(sha1, &e)",
          "old_line_content": "\t\treturn 1;",
          "new_line_content": "\tif (!find_pack_entry(sha1, &e))",
          "content_same": false
        },
        {
          "line": 3408,
          "old_api": null,
          "new_api": "freshen_file",
          "old_text": null,
          "new_text": "freshen_file(e.p->pack_name)",
          "old_line_content": "\treturn 1;",
          "new_line_content": "\tif (!freshen_file(e.p->pack_name))",
          "content_same": false
        },
        {
          "line": 3929,
          "old_api": null,
          "new_api": "git_SHA1_Init",
          "old_text": null,
          "new_text": "git_SHA1_Init(&c)",
          "old_line_content": "\t/*",
          "new_line_content": "\tgit_SHA1_Init(&c);",
          "content_same": false
        },
        {
          "line": 3930,
          "old_api": null,
          "new_api": "git_SHA1_Update",
          "old_text": null,
          "new_text": "git_SHA1_Update(&c, hdr, stream->total_out)",
          "old_line_content": "\t * We already read some bytes into hdr, but the ones up to the NUL",
          "new_line_content": "\tgit_SHA1_Update(&c, hdr, stream->total_out);",
          "content_same": false
        },
        {
          "line": 3423,
          "old_api": null,
          "new_api": "freshen_loose_object",
          "old_text": null,
          "new_text": "freshen_loose_object(sha1)",
          "old_line_content": "}",
          "new_line_content": "\tif (freshen_packed_object(sha1) || freshen_loose_object(sha1))",
          "content_same": false
        },
        {
          "line": 3936,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(hdr)",
          "old_line_content": "\t * This size comparison must be \"<=\" to read the final zlib packets;",
          "new_line_content": "\ttotal_read = stream->total_out - strlen(hdr) - 1;",
          "content_same": false
        },
        {
          "line": 3425,
          "old_api": null,
          "new_api": "write_loose_object",
          "old_text": null,
          "new_text": "write_loose_object(sha1, hdr, hdrlen, buf, len, 0)",
          "old_line_content": "int hash_sha1_file_literally(const void *buf, unsigned long len, const char *type,",
          "new_line_content": "\treturn write_loose_object(sha1, hdr, hdrlen, buf, len, 0);",
          "content_same": false
        },
        {
          "line": 3435,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(type)",
          "old_line_content": "",
          "new_line_content": "\thdrlen = strlen(type) + 32;",
          "content_same": false
        },
        {
          "line": 3436,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(hdrlen)",
          "old_line_content": "\tif (!(flags & HASH_WRITE_OBJECT))",
          "new_line_content": "\theader = xmalloc(hdrlen);",
          "content_same": false
        },
        {
          "line": 3437,
          "old_api": null,
          "new_api": "write_sha1_file_prepare",
          "old_text": null,
          "new_text": "write_sha1_file_prepare(buf, len, type, sha1, header, &hdrlen)",
          "old_line_content": "\t\tgoto cleanup;",
          "new_line_content": "\twrite_sha1_file_prepare(buf, len, type, sha1, header, &hdrlen);",
          "content_same": false
        },
        {
          "line": 3948,
          "old_api": null,
          "new_api": "git_inflate",
          "old_text": null,
          "new_text": "git_inflate(stream, Z_FINISH)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstatus = git_inflate(stream, Z_FINISH);",
          "content_same": false
        },
        {
          "line": 3441,
          "old_api": null,
          "new_api": "freshen_loose_object",
          "old_text": null,
          "new_text": "freshen_loose_object(sha1)",
          "old_line_content": "",
          "new_line_content": "\tif (freshen_packed_object(sha1) || freshen_loose_object(sha1))",
          "content_same": false
        },
        {
          "line": 3955,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(expected_sha1)",
          "old_line_content": "\tif (stream->avail_in) {",
          "new_line_content": "\t\terror(\"corrupt loose object '%s'\", sha1_to_hex(expected_sha1));",
          "content_same": false
        },
        {
          "line": 3446,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(header)",
          "old_line_content": "",
          "new_line_content": "\tfree(header);",
          "content_same": false
        },
        {
          "line": 3959,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"garbage at end of loose object '%s'\",\n\t\t      sha1_to_hex(expected_sha1))",
          "old_line_content": "\t}",
          "new_line_content": "\t\terror(\"garbage at end of loose object '%s'\",",
          "content_same": false
        },
        {
          "line": 3960,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(expected_sha1)",
          "old_line_content": "",
          "new_line_content": "\t\t      sha1_to_hex(expected_sha1));",
          "content_same": false
        },
        {
          "line": 3965,
          "old_api": null,
          "new_api": "hashcmp",
          "old_text": null,
          "new_text": "hashcmp(expected_sha1, real_sha1)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\tif (hashcmp(expected_sha1, real_sha1)) {",
          "content_same": false
        },
        {
          "line": 3966,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"sha1 mismatch for %s (expected %s)\", path,\n\t\t      sha1_to_hex(expected_sha1))",
          "old_line_content": "\t}",
          "new_line_content": "\t\terror(\"sha1 mismatch for %s (expected %s)\", path,",
          "content_same": false
        },
        {
          "line": 3967,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(expected_sha1)",
          "old_line_content": "",
          "new_line_content": "\t\t      sha1_to_hex(expected_sha1));",
          "content_same": false
        },
        {
          "line": 3459,
          "old_api": null,
          "new_api": "has_loose_object",
          "old_text": null,
          "new_text": "has_loose_object(sha1)",
          "old_line_content": "\tif (!buf)",
          "new_line_content": "\tif (has_loose_object(sha1))",
          "content_same": false
        },
        {
          "line": 3464,
          "old_api": null,
          "new_api": "typename",
          "old_text": null,
          "new_text": "typename(type)",
          "old_line_content": "",
          "new_line_content": "\thdrlen = xsnprintf(hdr, sizeof(hdr), \"%s %lu\", typename(type), len) + 1;",
          "content_same": false
        },
        {
          "line": 3465,
          "old_api": null,
          "new_api": "write_loose_object",
          "old_text": null,
          "new_text": "write_loose_object(sha1, hdr, hdrlen, buf, len, mtime)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\tret = write_loose_object(sha1, hdr, hdrlen, buf, len, mtime);",
          "content_same": false
        },
        {
          "line": 3466,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(buf)",
          "old_line_content": "}",
          "new_line_content": "\tfree(buf);",
          "content_same": false
        },
        {
          "line": 3474,
          "old_api": null,
          "new_api": "sha1_pack_index_name",
          "old_text": null,
          "new_text": "sha1_pack_index_name(sha1)",
          "old_line_content": "}",
          "new_line_content": "\tif (stat(sha1_pack_index_name(sha1), &st))",
          "content_same": false
        },
        {
          "line": 3988,
          "old_api": null,
          "new_api": "map_sha1_file_1",
          "old_text": null,
          "new_text": "map_sha1_file_1(path, NULL, &mapsize)",
          "old_line_content": "\t\tgoto out;",
          "new_line_content": "\tmap = map_sha1_file_1(path, NULL, &mapsize);",
          "content_same": false
        },
        {
          "line": 3990,
          "old_api": null,
          "new_api": "error_errno",
          "old_text": null,
          "new_text": "error_errno(\"unable to mmap %s\", path)",
          "old_line_content": "",
          "new_line_content": "\t\terror_errno(\"unable to mmap %s\", path);",
          "content_same": false
        },
        {
          "line": 3482,
          "old_api": null,
          "new_api": "find_pack_entry",
          "old_text": null,
          "new_text": "find_pack_entry(sha1, &e)",
          "old_line_content": "int has_sha1_file_with_flags(const unsigned char *sha1, int flags)",
          "new_line_content": "\treturn find_pack_entry(sha1, &e);",
          "content_same": false
        },
        {
          "line": 3994,
          "old_api": null,
          "new_api": "unpack_sha1_header",
          "old_text": null,
          "new_text": "unpack_sha1_header(&stream, map, mapsize, hdr, sizeof(hdr))",
          "old_line_content": "\t}",
          "new_line_content": "\tif (unpack_sha1_header(&stream, map, mapsize, hdr, sizeof(hdr)) < 0) {",
          "content_same": false
        },
        {
          "line": 3995,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"unable to unpack header of %s\", path)",
          "old_line_content": "",
          "new_line_content": "\t\terror(\"unable to unpack header of %s\", path);",
          "content_same": false
        },
        {
          "line": 2974,
          "old_api": null,
          "new_api": "is_null_sha1",
          "old_text": null,
          "new_text": "is_null_sha1(real)",
          "old_line_content": "\tif (!oi)",
          "new_line_content": "\tif (is_null_sha1(real))",
          "content_same": false
        },
        {
          "line": 3489,
          "old_api": null,
          "new_api": "sha1_object_info_extended",
          "old_text": null,
          "new_text": "sha1_object_info_extended(sha1, NULL,\n\t\t\t\t\t flags | OBJECT_INFO_SKIP_CACHED)",
          "old_line_content": "",
          "new_line_content": "\treturn sha1_object_info_extended(sha1, NULL,",
          "content_same": false
        },
        {
          "line": 4001,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"unable to parse header of %s\", path)",
          "old_line_content": "\t}",
          "new_line_content": "\t\terror(\"unable to parse header of %s\", path);",
          "content_same": false
        },
        {
          "line": 4002,
          "old_api": null,
          "new_api": "git_inflate_end",
          "old_text": null,
          "new_text": "git_inflate_end(&stream)",
          "old_line_content": "",
          "new_line_content": "\t\tgit_inflate_end(&stream);",
          "content_same": false
        },
        {
          "line": 2981,
          "old_api": null,
          "new_api": "find_cached_object",
          "old_text": null,
          "new_text": "find_cached_object(real)",
          "old_line_content": "\t\t\t\t*(oi->typep) = co->type;",
          "new_line_content": "\t\tstruct cached_object *co = find_cached_object(real);",
          "content_same": false
        },
        {
          "line": 3495,
          "old_api": null,
          "new_api": "has_sha1_file",
          "old_text": null,
          "new_text": "has_sha1_file(oid->hash)",
          "old_line_content": "int has_object_file_with_flags(const struct object_id *oid, int flags)",
          "new_line_content": "\treturn has_sha1_file(oid->hash);",
          "content_same": false
        },
        {
          "line": 3500,
          "old_api": null,
          "new_api": "has_sha1_file_with_flags",
          "old_text": null,
          "new_text": "has_sha1_file_with_flags(oid->hash, flags)",
          "old_line_content": "static void check_tree(const void *buf, size_t size)",
          "new_line_content": "\treturn has_sha1_file_with_flags(oid->hash, flags);",
          "content_same": false
        },
        {
          "line": 4012,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"unable to unpack contents of %s\", path)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\terror(\"unable to unpack contents of %s\", path);",
          "content_same": false
        },
        {
          "line": 2990,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(oi->delta_base_sha1)",
          "old_line_content": "\t\t\tif (oi->contentp)",
          "new_line_content": "\t\t\t\thashclr(oi->delta_base_sha1);",
          "content_same": false
        },
        {
          "line": 2992,
          "old_api": null,
          "new_api": "typename",
          "old_text": null,
          "new_text": "typename(co->type)",
          "old_line_content": "\t\t\toi->whence = OI_CACHED;",
          "new_line_content": "\t\t\t\tstrbuf_addstr(oi->typename, typename(co->type));",
          "content_same": false
        },
        {
          "line": 2994,
          "old_api": null,
          "new_api": "xmemdupz",
          "old_text": null,
          "new_text": "xmemdupz(co->buf, co->size)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t*oi->contentp = xmemdupz(co->buf, co->size);",
          "content_same": false
        },
        {
          "line": 4018,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"sha1 mismatch for %s (expected %s)\", path,\n\t\t\t      sha1_to_hex(expected_sha1))",
          "old_line_content": "\t\t\tgoto out;",
          "new_line_content": "\t\t\terror(\"sha1 mismatch for %s (expected %s)\", path,",
          "content_same": false
        },
        {
          "line": 3508,
          "old_api": null,
          "new_api": "init_tree_desc",
          "old_text": null,
          "new_text": "init_tree_desc(&desc, buf, size)",
          "old_line_content": "\t\t * tree_entry() will die() on malformed entries */",
          "new_line_content": "\tinit_tree_desc(&desc, buf, size);",
          "content_same": false
        },
        {
          "line": 3509,
          "old_api": null,
          "new_api": "tree_entry",
          "old_text": null,
          "new_text": "tree_entry(&desc, &entry)",
          "old_line_content": "\t\t;",
          "new_line_content": "\twhile (tree_entry(&desc, &entry))",
          "content_same": false
        },
        {
          "line": 4019,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(expected_sha1)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t      sha1_to_hex(expected_sha1));",
          "content_same": false
        },
        {
          "line": 4020,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(*contents)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tfree(*contents);",
          "content_same": false
        },
        {
          "line": 3000,
          "old_api": null,
          "new_api": "find_pack_entry",
          "old_text": null,
          "new_text": "find_pack_entry(real, &e)",
          "old_line_content": "\t\t\toi->whence = OI_LOOSE;",
          "new_line_content": "\tif (!find_pack_entry(real, &e)) {",
          "content_same": false
        },
        {
          "line": 3002,
          "old_api": null,
          "new_api": "sha1_loose_object_info",
          "old_text": null,
          "new_text": "sha1_loose_object_info(real, oi, flags)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (!sha1_loose_object_info(real, oi, flags)) {",
          "content_same": false
        },
        {
          "line": 4029,
          "old_api": null,
          "new_api": "munmap",
          "old_text": null,
          "new_text": "munmap(map, mapsize)",
          "old_line_content": "",
          "new_line_content": "\t\tmunmap(map, mapsize);",
          "content_same": false
        },
        {
          "line": 3518,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&c, 0, sizeof(c))",
          "old_line_content": "}",
          "new_line_content": "\tmemset(&c, 0, sizeof(c));",
          "content_same": false
        },
        {
          "line": 3519,
          "old_api": null,
          "new_api": "parse_commit_buffer",
          "old_text": null,
          "new_text": "parse_commit_buffer(&c, buf, size)",
          "old_line_content": "",
          "new_line_content": "\tif (parse_commit_buffer(&c, buf, size))",
          "content_same": false
        },
        {
          "line": 3520,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"corrupt commit\")",
          "old_line_content": "static void check_tag(const void *buf, size_t size)",
          "new_line_content": "\t\tdie(\"corrupt commit\");",
          "content_same": false
        },
        {
          "line": 3011,
          "old_api": null,
          "new_api": "reprepare_packed_git",
          "old_text": null,
          "new_text": "reprepare_packed_git()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\treprepare_packed_git();",
          "content_same": false
        },
        {
          "line": 3012,
          "old_api": null,
          "new_api": "find_pack_entry",
          "old_text": null,
          "new_text": "find_pack_entry(real, &e)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tif (!find_pack_entry(real, &e))",
          "content_same": false
        },
        {
          "line": 3526,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&t, 0, sizeof(t))",
          "old_line_content": "}",
          "new_line_content": "\tmemset(&t, 0, sizeof(t));",
          "content_same": false
        },
        {
          "line": 3527,
          "old_api": null,
          "new_api": "parse_tag_buffer",
          "old_text": null,
          "new_text": "parse_tag_buffer(&t, buf, size)",
          "old_line_content": "",
          "new_line_content": "\tif (parse_tag_buffer(&t, buf, size))",
          "content_same": false
        },
        {
          "line": 3528,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"corrupt tag\")",
          "old_line_content": "static int index_mem(unsigned char *sha1, void *buf, size_t size,",
          "new_line_content": "\t\tdie(\"corrupt tag\");",
          "content_same": false
        },
        {
          "line": 3026,
          "old_api": null,
          "new_api": "mark_bad_packed_object",
          "old_text": null,
          "new_text": "mark_bad_packed_object(e.p, real)",
          "old_line_content": "\t\toi->whence = OI_DBCACHED;",
          "new_line_content": "\t\tmark_bad_packed_object(e.p, real);",
          "content_same": false
        },
        {
          "line": 3027,
          "old_api": null,
          "new_api": "sha1_object_info_extended",
          "old_text": null,
          "new_text": "sha1_object_info_extended(real, oi, 0)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\treturn sha1_object_info_extended(real, oi, 0);",
          "content_same": false
        },
        {
          "line": 3028,
          "old_api": null,
          "new_api": "in_delta_base_cache",
          "old_text": null,
          "new_text": "in_delta_base_cache(e.p, e.offset)",
          "old_line_content": "\t\toi->whence = OI_PACKED;",
          "new_line_content": "\t} else if (in_delta_base_cache(e.p, e.offset)) {",
          "content_same": false
        },
        {
          "line": 3546,
          "old_api": null,
          "new_api": "convert_to_git",
          "old_text": null,
          "new_text": "convert_to_git(&the_index, path, buf, size, &nbuf,\n\t\t\t\t   write_object ? safe_crlf : SAFE_CRLF_FALSE)",
          "old_line_content": "\t\t\tre_allocated = 1;",
          "new_line_content": "\t\tif (convert_to_git(&the_index, path, buf, size, &nbuf,",
          "content_same": false
        },
        {
          "line": 3548,
          "old_api": null,
          "new_api": "strbuf_detach",
          "old_text": null,
          "new_text": "strbuf_detach(&nbuf, &size)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tbuf = strbuf_detach(&nbuf, &size);",
          "content_same": false
        },
        {
          "line": 3554,
          "old_api": null,
          "new_api": "check_tree",
          "old_text": null,
          "new_text": "check_tree(buf, size)",
          "old_line_content": "\t\tif (type == OBJ_TAG)",
          "new_line_content": "\t\t\tcheck_tree(buf, size);",
          "content_same": false
        },
        {
          "line": 3556,
          "old_api": null,
          "new_api": "check_commit",
          "old_text": null,
          "new_text": "check_commit(buf, size)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tcheck_commit(buf, size);",
          "content_same": false
        },
        {
          "line": 3558,
          "old_api": null,
          "new_api": "check_tag",
          "old_text": null,
          "new_text": "check_tag(buf, size)",
          "old_line_content": "\tif (write_object)",
          "new_line_content": "\t\t\tcheck_tag(buf, size);",
          "content_same": false
        },
        {
          "line": 3049,
          "old_api": null,
          "new_api": "sha1_object_info_extended",
          "old_text": null,
          "new_text": "sha1_object_info_extended(sha1, &oi,\n\t\t\t\t      OBJECT_INFO_LOOKUP_REPLACE)",
          "old_line_content": "\treturn type;",
          "new_line_content": "\tif (sha1_object_info_extended(sha1, &oi,",
          "content_same": false
        },
        {
          "line": 3562,
          "old_api": null,
          "new_api": "typename",
          "old_text": null,
          "new_text": "typename(type)",
          "old_line_content": "\tif (re_allocated)",
          "new_line_content": "\t\tret = write_sha1_file(buf, size, typename(type), sha1);",
          "content_same": false
        },
        {
          "line": 3564,
          "old_api": null,
          "new_api": "typename",
          "old_text": null,
          "new_text": "typename(type)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\t\tret = hash_sha1_file(buf, size, typename(type), sha1);",
          "content_same": false
        },
        {
          "line": 3566,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(buf)",
          "old_line_content": "",
          "new_line_content": "\t\tfree(buf);",
          "content_same": false
        },
        {
          "line": 3061,
          "old_api": null,
          "new_api": "find_pack_entry",
          "old_text": null,
          "new_text": "find_pack_entry(sha1, &e)",
          "old_line_content": "\tif (!data) {",
          "new_line_content": "\tif (!find_pack_entry(sha1, &e))",
          "content_same": false
        },
        {
          "line": 3063,
          "old_api": null,
          "new_api": "cache_or_unpack_entry",
          "old_text": null,
          "new_text": "cache_or_unpack_entry(e.p, e.offset, size, type)",
          "old_line_content": "\t\t * We're probably in deep shit, but let's try to fetch",
          "new_line_content": "\tdata = cache_or_unpack_entry(e.p, e.offset, size, type);",
          "content_same": false
        },
        {
          "line": 3578,
          "old_api": null,
          "new_api": "would_convert_to_git_filter_fd",
          "old_text": null,
          "new_text": "would_convert_to_git_filter_fd(path)",
          "old_line_content": "\t\t\t\t write_object ? safe_crlf : SAFE_CRLF_FALSE);",
          "new_line_content": "\tassert(would_convert_to_git_filter_fd(path));",
          "content_same": false
        },
        {
          "line": 3580,
          "old_api": null,
          "new_api": "convert_to_git_filter_fd",
          "old_text": null,
          "new_text": "convert_to_git_filter_fd(&the_index, path, fd, &sbuf,\n\t\t\t\t write_object ? safe_crlf : SAFE_CRLF_FALSE)",
          "old_line_content": "\tif (write_object)",
          "new_line_content": "\tconvert_to_git_filter_fd(&the_index, path, fd, &sbuf,",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 3586,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&sbuf)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&sbuf);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 3081,
          "old_api": "typename",
          "new_api": null,
          "old_text": "typename(type)",
          "new_text": null,
          "old_line_content": "\thash_sha1_file(buf, len, typename(type), sha1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3082,
          "old_api": "find_cached_object",
          "new_api": null,
          "old_text": "find_cached_object(sha1)",
          "new_text": null,
          "old_line_content": "\tif (has_sha1_file(sha1) || find_cached_object(sha1))",
          "new_line_content": "\tstruct cached_object *co;",
          "content_same": false
        },
        {
          "line": 3596,
          "old_api": "strbuf_read",
          "new_api": null,
          "old_text": "strbuf_read(&sbuf, fd, 4096)",
          "new_text": null,
          "old_line_content": "\tif (strbuf_read(&sbuf, fd, 4096) >= 0)",
          "new_line_content": "\tstruct strbuf sbuf = STRBUF_INIT;",
          "content_same": false
        },
        {
          "line": 3597,
          "old_api": "index_mem",
          "new_api": null,
          "old_text": "index_mem(sha1, sbuf.buf, sbuf.len, type,\tpath, flags)",
          "new_text": null,
          "old_line_content": "\t\tret = index_mem(sha1, sbuf.buf, sbuf.len, type,\tpath, flags);",
          "new_line_content": "\tint ret;",
          "content_same": false
        },
        {
          "line": 3088,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(len)",
          "new_text": null,
          "old_line_content": "\tco->buf = xmalloc(len);",
          "new_line_content": "\tco = &cached_objects[cached_object_nr++];",
          "content_same": false
        },
        {
          "line": 3089,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(co->buf, buf, len)",
          "new_text": null,
          "old_line_content": "\tmemcpy(co->buf, buf, len);",
          "new_line_content": "\tco->size = len;",
          "content_same": false
        },
        {
          "line": 3090,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(co->sha1, sha1)",
          "new_text": null,
          "old_line_content": "\thashcpy(co->sha1, sha1);",
          "new_line_content": "\tco->type = type;",
          "content_same": false
        },
        {
          "line": 3613,
          "old_api": "index_mem",
          "new_api": null,
          "old_text": "index_mem(sha1, \"\", size, type, path, flags)",
          "new_text": null,
          "old_line_content": "\t\tret = index_mem(sha1, \"\", size, type, path, flags);",
          "new_line_content": "\tint ret;",
          "content_same": false
        },
        {
          "line": 3103,
          "old_api": "sha1_object_info_extended",
          "new_api": null,
          "old_text": "sha1_object_info_extended(sha1, &oi, 0)",
          "new_text": null,
          "old_line_content": "\tif (sha1_object_info_extended(sha1, &oi, 0) < 0)",
          "new_line_content": "\toi.sizep = size;",
          "content_same": false
        },
        {
          "line": 3615,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(size)",
          "new_text": null,
          "old_line_content": "\t\tchar *buf = xmalloc(size);",
          "new_line_content": "\tif (!size) {",
          "content_same": false
        },
        {
          "line": 3617,
          "old_api": "index_mem",
          "new_api": null,
          "old_text": "index_mem(sha1, buf, size, type, path, flags)",
          "new_text": null,
          "old_line_content": "\t\t\tret = index_mem(sha1, buf, size, type, path, flags);",
          "new_line_content": "\t} else if (size <= SMALL_FILE_SIZE) {",
          "content_same": false
        },
        {
          "line": 3624,
          "old_api": "munmap",
          "new_api": null,
          "old_text": "munmap(buf, size)",
          "new_text": null,
          "old_line_content": "\t\tmunmap(buf, size);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 3122,
          "old_api": "lookup_replace_object",
          "new_api": null,
          "old_text": "lookup_replace_object(sha1)",
          "new_text": null,
          "old_line_content": "\tconst unsigned char *repl = lookup_replace ? lookup_replace_object(sha1)",
          "new_line_content": "\tconst struct packed_git *p;",
          "content_same": false
        },
        {
          "line": 3126,
          "old_api": "read_object",
          "new_api": null,
          "old_text": "read_object(repl, type, size)",
          "new_text": null,
          "old_line_content": "\tdata = read_object(repl, type, size);",
          "new_line_content": "\t\t\t\t\t\t   : sha1;",
          "content_same": false
        },
        {
          "line": 3131,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\tdie_errno(\"failed to read object %s\", sha1_to_hex(sha1));",
          "new_line_content": "\t\treturn data;",
          "content_same": false
        },
        {
          "line": 3135,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"replacement %s not found for %s\",\n\t\t    sha1_to_hex(repl), sha1_to_hex(sha1))",
          "new_text": null,
          "old_line_content": "\t\tdie(\"replacement %s not found for %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3136,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\t    sha1_to_hex(repl), sha1_to_hex(sha1));",
          "new_line_content": "\t/* die if we replaced an object with one that does not exist */",
          "content_same": false
        },
        {
          "line": 3648,
          "old_api": "index_bulk_checkin",
          "new_api": null,
          "old_text": "index_bulk_checkin(sha1, fd, size, type, path, flags)",
          "new_text": null,
          "old_line_content": "\treturn index_bulk_checkin(sha1, fd, size, type, path, flags);",
          "new_line_content": "\t\t\tenum object_type type, const char *path,",
          "content_same": false
        },
        {
          "line": 3140,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(repl)",
          "new_text": null,
          "old_line_content": "\t\t    sha1_to_hex(repl), path);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3144,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(repl)",
          "new_text": null,
          "old_line_content": "\t\t    sha1_to_hex(repl), p->pack_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3660,
          "old_api": "would_convert_to_git_filter_fd",
          "new_api": null,
          "old_text": "would_convert_to_git_filter_fd(path)",
          "new_text": null,
          "old_line_content": "\tif (type == OBJ_BLOB && path && would_convert_to_git_filter_fd(path))",
          "new_line_content": "\t * Call xsize_t() only when needed to avoid potentially unnecessary",
          "content_same": false
        },
        {
          "line": 3661,
          "old_api": "index_stream_convert_blob",
          "new_api": null,
          "old_text": "index_stream_convert_blob(sha1, fd, path, flags)",
          "new_text": null,
          "old_line_content": "\t\tret = index_stream_convert_blob(sha1, fd, path, flags);",
          "new_line_content": "\t * die() for large files.",
          "content_same": false
        },
        {
          "line": 3662,
          "old_api": "S_ISREG",
          "new_api": null,
          "old_text": "S_ISREG(st->st_mode)",
          "new_text": null,
          "old_line_content": "\telse if (!S_ISREG(st->st_mode))",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 3159,
          "old_api": "type_from_string",
          "new_api": null,
          "old_text": "type_from_string(required_type_name)",
          "new_text": null,
          "old_line_content": "\trequired_type = type_from_string(required_type_name);",
          "new_line_content": "\tunsigned long isize;",
          "content_same": false
        },
        {
          "line": 3160,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(actual_sha1, sha1)",
          "new_text": null,
          "old_line_content": "\thashcpy(actual_sha1, sha1);",
          "new_line_content": "\tunsigned char actual_sha1[20];",
          "content_same": false
        },
        {
          "line": 3671,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(fd)",
          "new_text": null,
          "old_line_content": "\tclose(fd);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 3165,
          "old_api": "read_sha1_file",
          "new_api": null,
          "old_text": "read_sha1_file(actual_sha1, &type, &isize)",
          "new_text": null,
          "old_line_content": "\t\tbuffer = read_sha1_file(actual_sha1, &type, &isize);",
          "new_line_content": "\t\tint ref_length = -1;",
          "content_same": false
        },
        {
          "line": 3581,
          "old_api": "typename",
          "new_api": null,
          "old_text": "typename(OBJ_BLOB)",
          "new_text": null,
          "old_line_content": "\t\tret = write_sha1_file(sbuf.buf, sbuf.len, typename(OBJ_BLOB),",
          "new_line_content": "\t\t\t\t write_object ? safe_crlf : SAFE_CRLF_FALSE);",
          "content_same": false
        },
        {
          "line": 3682,
          "old_api": "open",
          "new_api": null,
          "old_text": "open(path, O_RDONLY)",
          "new_text": null,
          "old_line_content": "\t\tfd = open(path, O_RDONLY);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3171,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(actual_sha1_return, actual_sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\thashcpy(actual_sha1_return, actual_sha1);",
          "new_line_content": "\t\tif (type == required_type) {",
          "content_same": false
        },
        {
          "line": 3684,
          "old_api": "error_errno",
          "new_api": null,
          "old_text": "error_errno(\"open(\\\"%s\\\")\", path)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error_errno(\"open(\\\"%s\\\")\", path);",
          "new_line_content": "\tcase S_IFREG:",
          "content_same": false
        },
        {
          "line": 3686,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: failed to insert into database\",\n\t\t\t\t     path)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"%s: failed to insert into database\",",
          "new_line_content": "\t\tif (fd < 0)",
          "content_same": false
        },
        {
          "line": 3690,
          "old_api": "strbuf_readlink",
          "new_api": null,
          "old_text": "strbuf_readlink(&sb, path, st->st_size)",
          "new_text": null,
          "old_line_content": "\t\tif (strbuf_readlink(&sb, path, st->st_size))",
          "new_line_content": "\t\t\t\t     path);",
          "content_same": false
        },
        {
          "line": 3691,
          "old_api": "error_errno",
          "new_api": null,
          "old_text": "error_errno(\"readlink(\\\"%s\\\")\", path)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error_errno(\"readlink(\\\"%s\\\")\", path);",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 3180,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buffer)",
          "new_text": null,
          "old_line_content": "\t\t\tfree(buffer);",
          "new_line_content": "\t\telse if (type == OBJ_TAG)",
          "content_same": false
        },
        {
          "line": 3695,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: failed to insert into database\",\n\t\t\t\t     path)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"%s: failed to insert into database\",",
          "new_line_content": "\t\tif (!(flags & HASH_WRITE_OBJECT))",
          "content_same": false
        },
        {
          "line": 3187,
          "old_api": "get_sha1_hex",
          "new_api": null,
          "old_text": "get_sha1_hex((char *) buffer + ref_length, actual_sha1)",
          "new_text": null,
          "old_line_content": "\t\t    get_sha1_hex((char *) buffer + ref_length, actual_sha1)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3188,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buffer)",
          "new_text": null,
          "old_line_content": "\t\t\tfree(buffer);",
          "new_line_content": "\t\tif (ref_length + 40 > isize ||",
          "content_same": false
        },
        {
          "line": 3702,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: unsupported file type\", path)",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"%s: unsupported file type\", path);",
          "new_line_content": "\tcase S_IFDIR:",
          "content_same": false
        },
        {
          "line": 3709,
          "old_api": "read_in_full",
          "new_api": null,
          "old_text": "read_in_full(fd, header, sizeof(*header))",
          "new_text": null,
          "old_line_content": "\tif (read_in_full(fd, header, sizeof(*header)) != sizeof(*header))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3713,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(PACK_SIGNATURE)",
          "new_text": null,
          "old_line_content": "\tif (header->hdr_signature != htonl(PACK_SIGNATURE))",
          "new_line_content": "\t\t/* \"eof before pack header was fully read\" */",
          "content_same": false
        },
        {
          "line": 3204,
          "old_api": "xsnprintf",
          "new_api": null,
          "old_text": "xsnprintf(hdr, *hdrlen, \"%s %lu\", type, len)",
          "new_text": null,
          "old_line_content": "\t*hdrlen = xsnprintf(hdr, *hdrlen, \"%s %lu\", type, len)+1;",
          "new_line_content": "\tgit_SHA_CTX c;",
          "content_same": false
        },
        {
          "line": 3208,
          "old_api": "git_SHA1_Update",
          "new_api": null,
          "old_text": "git_SHA1_Update(&c, hdr, *hdrlen)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Update(&c, hdr, *hdrlen);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3209,
          "old_api": "git_SHA1_Update",
          "new_api": null,
          "old_text": "git_SHA1_Update(&c, buf, len)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Update(&c, buf, len);",
          "new_line_content": "\t/* Sha1.. */",
          "content_same": false
        },
        {
          "line": 3724,
          "old_api": "sha1_object_info",
          "new_api": null,
          "old_text": "sha1_object_info(sha1, NULL)",
          "new_text": null,
          "old_line_content": "\tenum object_type type = sha1_object_info(sha1, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3726,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"%s is not a valid object\", sha1_to_hex(sha1));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3728,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"%s is not a valid '%s' object\", sha1_to_hex(sha1),",
          "new_line_content": "\tif (type < 0)",
          "content_same": false
        },
        {
          "line": 3222,
          "old_api": "link",
          "new_api": null,
          "old_text": "link(tmpfile, filename)",
          "new_text": null,
          "old_line_content": "\telse if (link(tmpfile, filename))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3745,
          "old_api": "BUG",
          "new_api": null,
          "old_text": "BUG(\"invalid loose object subdirectory: %x\", subdir_nr)",
          "new_text": null,
          "old_line_content": "\t\tBUG(\"invalid loose object subdirectory: %x\", subdir_nr);",
          "new_line_content": "\tint r = 0;",
          "content_same": false
        },
        {
          "line": 3749,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(path, \"%02x\", subdir_nr)",
          "new_text": null,
          "old_line_content": "\tstrbuf_addf(path, \"%02x\", subdir_nr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3238,
          "old_api": "rename",
          "new_api": null,
          "old_text": "rename(tmpfile, filename)",
          "new_text": null,
          "old_line_content": "\t\tif (!rename(tmpfile, filename))",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 3242,
          "old_api": "unlink_or_warn",
          "new_api": null,
          "old_text": "unlink_or_warn(tmpfile)",
          "new_text": null,
          "old_line_content": "\tunlink_or_warn(tmpfile);",
          "new_line_content": "\t\t\tgoto out;",
          "content_same": false
        },
        {
          "line": 3756,
          "old_api": "strbuf_setlen",
          "new_api": null,
          "old_text": "strbuf_setlen(path, origlen)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_setlen(path, origlen);",
          "new_line_content": "\tif (!dir) {",
          "content_same": false
        },
        {
          "line": 3760,
          "old_api": "readdir",
          "new_api": null,
          "old_text": "readdir(dir)",
          "new_text": null,
          "old_line_content": "\twhile ((de = readdir(dir))) {",
          "new_line_content": "\t\treturn r;",
          "content_same": false
        },
        {
          "line": 3761,
          "old_api": "is_dot_or_dotdot",
          "new_api": null,
          "old_text": "is_dot_or_dotdot(de->d_name)",
          "new_text": null,
          "old_line_content": "\t\tif (is_dot_or_dotdot(de->d_name))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3251,
          "old_api": "adjust_shared_perm",
          "new_api": null,
          "old_text": "adjust_shared_perm(filename)",
          "new_text": null,
          "old_line_content": "\tif (adjust_shared_perm(filename))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3252,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"unable to set permission to '%s'\", filename)",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"unable to set permission to '%s'\", filename);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3765,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(path, \"/%s\", de->d_name)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addf(path, \"/%s\", de->d_name);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 3258,
          "old_api": "write_in_full",
          "new_api": null,
          "old_text": "write_in_full(fd, buf, len)",
          "new_text": null,
          "old_line_content": "\tif (write_in_full(fd, buf, len) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3259,
          "old_api": "error_errno",
          "new_api": null,
          "old_text": "error_errno(\"file write error\")",
          "new_text": null,
          "old_line_content": "\t\treturn error_errno(\"file write error\");",
          "new_line_content": "static int write_buffer(int fd, const void *buf, size_t len)",
          "content_same": false
        },
        {
          "line": 3771,
          "old_api": "xsnprintf",
          "new_api": null,
          "old_text": "xsnprintf(hex, sizeof(hex), \"%02x%s\",\n\t\t\t\t  subdir_nr, de->d_name)",
          "new_text": null,
          "old_line_content": "\t\t\txsnprintf(hex, sizeof(hex), \"%02x%s\",",
          "new_line_content": "\t\t\tchar hex[GIT_MAX_HEXSZ+1];",
          "content_same": false
        },
        {
          "line": 3773,
          "old_api": "get_oid_hex",
          "new_api": null,
          "old_text": "get_oid_hex(hex, &oid)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!get_oid_hex(hex, &oid)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3775,
          "old_api": "obj_cb",
          "new_api": null,
          "old_text": "obj_cb(&oid, path->buf, data)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tr = obj_cb(&oid, path->buf, data);",
          "new_line_content": "\t\t\t\t  subdir_nr, de->d_name);",
          "content_same": false
        },
        {
          "line": 3268,
          "old_api": "write_sha1_file_prepare",
          "new_api": null,
          "old_text": "write_sha1_file_prepare(buf, len, type, sha1, hdr, &hdrlen)",
          "new_text": null,
          "old_line_content": "\twrite_sha1_file_prepare(buf, len, type, sha1, hdr, &hdrlen);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3784,
          "old_api": "cruft_cb",
          "new_api": null,
          "old_text": "cruft_cb(de->d_name, path->buf, data)",
          "new_text": null,
          "old_line_content": "\t\t\tr = cruft_cb(de->d_name, path->buf, data);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3276,
          "old_api": "fsync_or_die",
          "new_api": null,
          "old_text": "fsync_or_die(fd, \"sha1 file\")",
          "new_text": null,
          "old_line_content": "\t\tfsync_or_die(fd, \"sha1 file\");",
          "new_line_content": "static void close_sha1_file(int fd)",
          "content_same": false
        },
        {
          "line": 3277,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(fd)",
          "new_text": null,
          "old_line_content": "\tif (close(fd) != 0)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3278,
          "old_api": "die_errno",
          "new_api": null,
          "old_text": "die_errno(\"error when closing sha1 file\")",
          "new_text": null,
          "old_line_content": "\t\tdie_errno(\"error when closing sha1 file\");",
          "new_line_content": "\tif (fsync_object_files)",
          "content_same": false
        },
        {
          "line": 3789,
          "old_api": "closedir",
          "new_api": null,
          "old_text": "closedir(dir)",
          "new_text": null,
          "old_line_content": "\tclosedir(dir);",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 3791,
          "old_api": "strbuf_setlen",
          "new_api": null,
          "old_text": "strbuf_setlen(path, baselen)",
          "new_text": null,
          "old_line_content": "\tstrbuf_setlen(path, baselen);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3793,
          "old_api": "subdir_cb",
          "new_api": null,
          "old_text": "subdir_cb(subdir_nr, path->buf, data)",
          "new_text": null,
          "old_line_content": "\t\tr = subdir_cb(subdir_nr, path->buf, data);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3795,
          "old_api": "strbuf_setlen",
          "new_api": null,
          "old_text": "strbuf_setlen(path, origlen)",
          "new_text": null,
          "old_line_content": "\tstrbuf_setlen(path, origlen);",
          "new_line_content": "\tif (!r && subdir_cb)",
          "content_same": false
        },
        {
          "line": 3284,
          "old_api": "strrchr",
          "new_api": null,
          "old_text": "strrchr(filename, '/')",
          "new_text": null,
          "old_line_content": "\tconst char *s = strrchr(filename, '/');",
          "new_line_content": "/* Size of directory component, including the ending '/' */",
          "content_same": false
        },
        {
          "line": 3810,
          "old_api": "for_each_file_in_obj_subdir",
          "new_api": null,
          "old_text": "for_each_file_in_obj_subdir(i, path, obj_cb, cruft_cb,\n\t\t\t\t\t\tsubdir_cb, data)",
          "new_text": null,
          "old_line_content": "\t\tr = for_each_file_in_obj_subdir(i, path, obj_cb, cruft_cb,",
          "new_line_content": "\tint i;",
          "content_same": false
        },
        {
          "line": 3299,
          "old_api": "directory_size",
          "new_api": null,
          "old_text": "directory_size(filename)",
          "new_text": null,
          "old_line_content": "\tint fd, dirlen = directory_size(filename);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 3301,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(tmp)",
          "new_text": null,
          "old_line_content": "\tstrbuf_reset(tmp);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3303,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(tmp, \"tmp_obj_XXXXXX\")",
          "new_text": null,
          "old_line_content": "\tstrbuf_addstr(tmp, \"tmp_obj_XXXXXX\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3312,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(tmp)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_reset(tmp);",
          "new_line_content": "\t\t * error, so we have to rewrite the whole buffer from",
          "content_same": false
        },
        {
          "line": 3313,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(tmp, filename, dirlen - 1)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_add(tmp, filename, dirlen - 1);",
          "new_line_content": "\t\t * scratch.",
          "content_same": false
        },
        {
          "line": 3314,
          "old_api": "mkdir",
          "new_api": null,
          "old_text": "mkdir(tmp->buf, 0777)",
          "new_text": null,
          "old_line_content": "\t\tif (mkdir(tmp->buf, 0777) && errno != EEXIST)",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 3828,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&buf, path)",
          "new_text": null,
          "old_line_content": "\tstrbuf_addstr(&buf, path);",
          "new_line_content": "\tstruct strbuf buf = STRBUF_INIT;",
          "content_same": false
        },
        {
          "line": 3829,
          "old_api": "for_each_loose_file_in_objdir_buf",
          "new_api": null,
          "old_text": "for_each_loose_file_in_objdir_buf(&buf, obj_cb, cruft_cb,\n\t\t\t\t\t      subdir_cb, data)",
          "new_text": null,
          "old_line_content": "\tr = for_each_loose_file_in_objdir_buf(&buf, obj_cb, cruft_cb,",
          "new_line_content": "\tint r;",
          "content_same": false
        },
        {
          "line": 3320,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(tmp, \"/tmp_obj_XXXXXX\")",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addstr(tmp, \"/tmp_obj_XXXXXX\");",
          "new_line_content": "\t\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 3321,
          "old_api": "git_mkstemp_mode",
          "new_api": null,
          "old_text": "git_mkstemp_mode(tmp->buf, 0444)",
          "new_text": null,
          "old_line_content": "\t\tfd = git_mkstemp_mode(tmp->buf, 0444);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3335,
          "old_api": "sha1_file_name",
          "new_api": null,
          "old_text": "sha1_file_name(sha1)",
          "new_text": null,
          "old_line_content": "\tconst char *filename = sha1_file_name(sha1);",
          "new_line_content": "\tgit_SHA_CTX c;",
          "content_same": false
        },
        {
          "line": 3848,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&buf, alt->path)",
          "new_text": null,
          "old_line_content": "\tstrbuf_addstr(&buf, alt->path);",
          "new_line_content": "\tstruct strbuf buf = STRBUF_INIT;",
          "content_same": false
        },
        {
          "line": 3337,
          "old_api": "create_tmpfile",
          "new_api": null,
          "old_text": "create_tmpfile(&tmp_file, filename)",
          "new_text": null,
          "old_line_content": "\tfd = create_tmpfile(&tmp_file, filename);",
          "new_line_content": "\tstatic struct strbuf tmp_file = STRBUF_INIT;",
          "content_same": false
        },
        {
          "line": 3849,
          "old_api": "for_each_loose_file_in_objdir_buf",
          "new_api": null,
          "old_text": "for_each_loose_file_in_objdir_buf(&buf,\n\t\t\t\t\t      data->cb, NULL, NULL,\n\t\t\t\t\t      data->data)",
          "new_text": null,
          "old_line_content": "\tr = for_each_loose_file_in_objdir_buf(&buf,",
          "new_line_content": "\tint r;",
          "content_same": false
        },
        {
          "line": 3342,
          "old_api": "error_errno",
          "new_api": null,
          "old_text": "error_errno(\"unable to create temporary file\")",
          "new_text": null,
          "old_line_content": "\t\t\treturn error_errno(\"unable to create temporary file\");",
          "new_line_content": "\t\tif (errno == EACCES)",
          "content_same": false
        },
        {
          "line": 3346,
          "old_api": "git_deflate_init",
          "new_api": null,
          "old_text": "git_deflate_init(&stream, zlib_compression_level)",
          "new_text": null,
          "old_line_content": "\tgit_deflate_init(&stream, zlib_compression_level);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3861,
          "old_api": "get_object_directory",
          "new_api": null,
          "old_text": "get_object_directory()",
          "new_text": null,
          "old_line_content": "\tr = for_each_loose_file_in_objdir(get_object_directory(),",
          "new_line_content": "\tstruct loose_alt_odb_data alt;",
          "content_same": false
        },
        {
          "line": 3354,
          "old_api": "git_deflate",
          "new_api": null,
          "old_text": "git_deflate(&stream, 0)",
          "new_text": null,
          "old_line_content": "\twhile (git_deflate(&stream, 0) == Z_OK)",
          "new_line_content": "\t/* First header.. */",
          "content_same": false
        },
        {
          "line": 3356,
          "old_api": "git_SHA1_Update",
          "new_api": null,
          "old_text": "git_SHA1_Update(&c, hdr, hdrlen)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Update(&c, hdr, hdrlen);",
          "new_line_content": "\tstream.avail_in = hdrlen;",
          "content_same": false
        },
        {
          "line": 3871,
          "old_api": "foreach_alt_odb",
          "new_api": null,
          "old_text": "foreach_alt_odb(loose_from_alt_odb, &alt)",
          "new_text": null,
          "old_line_content": "\treturn foreach_alt_odb(loose_from_alt_odb, &alt);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3363,
          "old_api": "git_deflate",
          "new_api": null,
          "old_text": "git_deflate(&stream, Z_FINISH)",
          "new_text": null,
          "old_line_content": "\t\tret = git_deflate(&stream, Z_FINISH);",
          "new_line_content": "\tstream.avail_in = len;",
          "content_same": false
        },
        {
          "line": 3364,
          "old_api": "git_SHA1_Update",
          "new_api": null,
          "old_text": "git_SHA1_Update(&c, in0, stream.next_in - in0)",
          "new_text": null,
          "old_line_content": "\t\tgit_SHA1_Update(&c, in0, stream.next_in - in0);",
          "new_line_content": "\tdo {",
          "content_same": false
        },
        {
          "line": 3365,
          "old_api": "write_buffer",
          "new_api": null,
          "old_text": "write_buffer(fd, compressed, stream.next_out - compressed)",
          "new_text": null,
          "old_line_content": "\t\tif (write_buffer(fd, compressed, stream.next_out - compressed) < 0)",
          "new_line_content": "\t\tunsigned char *in0 = stream.next_in;",
          "content_same": false
        },
        {
          "line": 3882,
          "old_api": "nth_packed_object_oid",
          "new_api": null,
          "old_text": "nth_packed_object_oid(&oid, p, i)",
          "new_text": null,
          "old_line_content": "\t\tif (!nth_packed_object_oid(&oid, p, i))",
          "new_line_content": "\tfor (i = 0; i < p->num_objects; i++) {",
          "content_same": false
        },
        {
          "line": 3883,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"unable to get sha1 of object %u in %s\",\n\t\t\t\t     i, p->pack_name)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"unable to get sha1 of object %u in %s\",",
          "new_line_content": "\t\tstruct object_id oid;",
          "content_same": false
        },
        {
          "line": 3372,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"unable to deflate new object %s (%d)\", sha1_to_hex(sha1), ret);",
          "new_line_content": "\t} while (ret == Z_OK);",
          "content_same": false
        },
        {
          "line": 3373,
          "old_api": "git_deflate_end_gently",
          "new_api": null,
          "old_text": "git_deflate_end_gently(&stream)",
          "new_text": null,
          "old_line_content": "\tret = git_deflate_end_gently(&stream);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3377,
          "old_api": "hashcmp",
          "new_api": null,
          "old_text": "hashcmp(sha1, parano_sha1)",
          "new_text": null,
          "old_line_content": "\tif (hashcmp(sha1, parano_sha1) != 0)",
          "new_line_content": "\tif (ret != Z_OK)",
          "content_same": false
        },
        {
          "line": 3386,
          "old_api": "utime",
          "new_api": null,
          "old_text": "utime(tmp_file.buf, &utb)",
          "new_text": null,
          "old_line_content": "\t\tif (utime(tmp_file.buf, &utb) < 0)",
          "new_line_content": "\t\tstruct utimbuf utb;",
          "content_same": false
        },
        {
          "line": 3387,
          "old_api": "warning_errno",
          "new_api": null,
          "old_text": "warning_errno(\"failed utime() on %s\", tmp_file.buf)",
          "new_text": null,
          "old_line_content": "\t\t\twarning_errno(\"failed utime() on %s\", tmp_file.buf);",
          "new_line_content": "\t\tutb.actime = mtime;",
          "content_same": false
        },
        {
          "line": 3899,
          "old_api": "prepare_packed_git",
          "new_api": null,
          "old_text": "prepare_packed_git()",
          "new_text": null,
          "old_line_content": "\tprepare_packed_git();",
          "new_line_content": "\tint r = 0;",
          "content_same": false
        },
        {
          "line": 3903,
          "old_api": "open_pack_index",
          "new_api": null,
          "old_text": "open_pack_index(p)",
          "new_text": null,
          "old_line_content": "\t\tif (open_pack_index(p)) {",
          "new_line_content": "\tfor (p = packed_git; p; p = p->next) {",
          "content_same": false
        },
        {
          "line": 3395,
          "old_api": "check_and_freshen",
          "new_api": null,
          "old_text": "check_and_freshen(sha1, 1)",
          "new_text": null,
          "old_line_content": "\treturn check_and_freshen(sha1, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3907,
          "old_api": "for_each_object_in_pack",
          "new_api": null,
          "old_text": "for_each_object_in_pack(p, cb, data)",
          "new_text": null,
          "old_line_content": "\t\tr = for_each_object_in_pack(p, cb, data);",
          "new_line_content": "\t\t\tpack_errors = 1;",
          "content_same": false
        },
        {
          "line": 3401,
          "old_api": "find_pack_entry",
          "new_api": null,
          "old_text": "find_pack_entry(sha1, &e)",
          "new_text": null,
          "old_line_content": "\tif (!find_pack_entry(sha1, &e))",
          "new_line_content": "static int freshen_packed_object(const unsigned char *sha1)",
          "content_same": false
        },
        {
          "line": 3405,
          "old_api": "freshen_file",
          "new_api": null,
          "old_text": "freshen_file(e.p->pack_name)",
          "new_text": null,
          "old_line_content": "\tif (!freshen_file(e.p->pack_name))",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 3926,
          "old_api": "git_SHA1_Init",
          "new_api": null,
          "old_text": "git_SHA1_Init(&c)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Init(&c);",
          "new_line_content": "\tunsigned long total_read;",
          "content_same": false
        },
        {
          "line": 3927,
          "old_api": "git_SHA1_Update",
          "new_api": null,
          "old_text": "git_SHA1_Update(&c, hdr, stream->total_out)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Update(&c, hdr, stream->total_out);",
          "new_line_content": "\tint status = Z_OK;",
          "content_same": false
        },
        {
          "line": 3419,
          "old_api": "write_sha1_file_prepare",
          "new_api": null,
          "old_text": "write_sha1_file_prepare(buf, len, type, sha1, hdr, &hdrlen)",
          "new_text": null,
          "old_line_content": "\twrite_sha1_file_prepare(buf, len, type, sha1, hdr, &hdrlen);",
          "new_line_content": "\t/* Normally if we have it in the pack then we do not bother writing",
          "content_same": false
        },
        {
          "line": 3420,
          "old_api": "freshen_loose_object",
          "new_api": null,
          "old_text": "freshen_loose_object(sha1)",
          "new_text": null,
          "old_line_content": "\tif (freshen_packed_object(sha1) || freshen_loose_object(sha1))",
          "new_line_content": "\t * it out into .git/objects/??/?{38} file.",
          "content_same": false
        },
        {
          "line": 3933,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(hdr)",
          "new_text": null,
          "old_line_content": "\ttotal_read = stream->total_out - strlen(hdr) - 1;",
          "new_line_content": "\t * We already read some bytes into hdr, but the ones up to the NUL",
          "content_same": false
        },
        {
          "line": 3432,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(type)",
          "new_text": null,
          "old_line_content": "\thdrlen = strlen(type) + 32;",
          "new_line_content": "\tint hdrlen, status = 0;",
          "content_same": false
        },
        {
          "line": 3433,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(hdrlen)",
          "new_text": null,
          "old_line_content": "\theader = xmalloc(hdrlen);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3434,
          "old_api": "write_sha1_file_prepare",
          "new_api": null,
          "old_text": "write_sha1_file_prepare(buf, len, type, sha1, header, &hdrlen)",
          "new_text": null,
          "old_line_content": "\twrite_sha1_file_prepare(buf, len, type, sha1, header, &hdrlen);",
          "new_line_content": "\t/* type string, SP, %lu of the length plus NUL must fit this */",
          "content_same": false
        },
        {
          "line": 3945,
          "old_api": "git_inflate",
          "new_api": null,
          "old_text": "git_inflate(stream, Z_FINISH)",
          "new_text": null,
          "old_line_content": "\t\tstatus = git_inflate(stream, Z_FINISH);",
          "new_line_content": "\t\tstream->avail_out = sizeof(buf);",
          "content_same": false
        },
        {
          "line": 3946,
          "old_api": "git_SHA1_Update",
          "new_api": null,
          "old_text": "git_SHA1_Update(&c, buf, stream->next_out - buf)",
          "new_text": null,
          "old_line_content": "\t\tgit_SHA1_Update(&c, buf, stream->next_out - buf);",
          "new_line_content": "\t\tif (size - total_read < stream->avail_out)",
          "content_same": false
        },
        {
          "line": 3438,
          "old_api": "freshen_loose_object",
          "new_api": null,
          "old_text": "freshen_loose_object(sha1)",
          "new_text": null,
          "old_line_content": "\tif (freshen_packed_object(sha1) || freshen_loose_object(sha1))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3440,
          "old_api": "write_loose_object",
          "new_api": null,
          "old_text": "write_loose_object(sha1, header, hdrlen, buf, len, 0)",
          "new_text": null,
          "old_line_content": "\tstatus = write_loose_object(sha1, header, hdrlen, buf, len, 0);",
          "new_line_content": "\t\tgoto cleanup;",
          "content_same": false
        },
        {
          "line": 3956,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"garbage at end of loose object '%s'\",\n\t\t      sha1_to_hex(expected_sha1))",
          "new_text": null,
          "old_line_content": "\t\terror(\"garbage at end of loose object '%s'\",",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 3957,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(expected_sha1)",
          "new_text": null,
          "old_line_content": "\t\t      sha1_to_hex(expected_sha1));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3961,
          "old_api": "git_SHA1_Final",
          "new_api": null,
          "old_text": "git_SHA1_Final(real_sha1, &c)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Final(real_sha1, &c);",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 3962,
          "old_api": "hashcmp",
          "new_api": null,
          "old_text": "hashcmp(expected_sha1, real_sha1)",
          "new_text": null,
          "old_line_content": "\tif (hashcmp(expected_sha1, real_sha1)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3963,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"sha1 mismatch for %s (expected %s)\", path,\n\t\t      sha1_to_hex(expected_sha1))",
          "new_text": null,
          "old_line_content": "\t\terror(\"sha1 mismatch for %s (expected %s)\", path,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3456,
          "old_api": "has_loose_object",
          "new_api": null,
          "old_text": "has_loose_object(sha1)",
          "new_text": null,
          "old_line_content": "\tif (has_loose_object(sha1))",
          "new_line_content": "\tint hdrlen;",
          "content_same": false
        },
        {
          "line": 3458,
          "old_api": "read_packed_sha1",
          "new_api": null,
          "old_text": "read_packed_sha1(sha1, &type, &len)",
          "new_text": null,
          "old_line_content": "\tbuf = read_packed_sha1(sha1, &type, &len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3460,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"cannot read sha1_file for %s\", sha1_to_hex(sha1));",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 3462,
          "old_api": "write_loose_object",
          "new_api": null,
          "old_text": "write_loose_object(sha1, hdr, hdrlen, buf, len, mtime)",
          "new_text": null,
          "old_line_content": "\tret = write_loose_object(sha1, hdr, hdrlen, buf, len, mtime);",
          "new_line_content": "\tif (!buf)",
          "content_same": false
        },
        {
          "line": 3471,
          "old_api": "sha1_pack_index_name",
          "new_api": null,
          "old_text": "sha1_pack_index_name(sha1)",
          "new_text": null,
          "old_line_content": "\tif (stat(sha1_pack_index_name(sha1), &st))",
          "new_line_content": "int has_pack_index(const unsigned char *sha1)",
          "content_same": false
        },
        {
          "line": 3985,
          "old_api": "map_sha1_file_1",
          "new_api": null,
          "old_text": "map_sha1_file_1(path, NULL, &mapsize)",
          "new_text": null,
          "old_line_content": "\tmap = map_sha1_file_1(path, NULL, &mapsize);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3987,
          "old_api": "error_errno",
          "new_api": null,
          "old_text": "error_errno(\"unable to mmap %s\", path)",
          "new_text": null,
          "old_line_content": "\t\terror_errno(\"unable to mmap %s\", path);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3479,
          "old_api": "find_pack_entry",
          "new_api": null,
          "old_text": "find_pack_entry(sha1, &e)",
          "new_text": null,
          "old_line_content": "\treturn find_pack_entry(sha1, &e);",
          "new_line_content": "int has_sha1_pack(const unsigned char *sha1)",
          "content_same": false
        },
        {
          "line": 3991,
          "old_api": "unpack_sha1_header",
          "new_api": null,
          "old_text": "unpack_sha1_header(&stream, map, mapsize, hdr, sizeof(hdr))",
          "new_text": null,
          "old_line_content": "\tif (unpack_sha1_header(&stream, map, mapsize, hdr, sizeof(hdr)) < 0) {",
          "new_line_content": "\t\tgoto out;",
          "content_same": false
        },
        {
          "line": 3992,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"unable to unpack header of %s\", path)",
          "new_text": null,
          "old_line_content": "\t\terror(\"unable to unpack header of %s\", path);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3996,
          "old_api": "parse_sha1_header",
          "new_api": null,
          "old_text": "parse_sha1_header(hdr, size)",
          "new_text": null,
          "old_line_content": "\t*type = parse_sha1_header(hdr, size);",
          "new_line_content": "\t\tgoto out;",
          "content_same": false
        },
        {
          "line": 3486,
          "old_api": "sha1_object_info_extended",
          "new_api": null,
          "old_text": "sha1_object_info_extended(sha1, NULL,\n\t\t\t\t\t flags | OBJECT_INFO_SKIP_CACHED)",
          "new_text": null,
          "old_line_content": "\treturn sha1_object_info_extended(sha1, NULL,",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3998,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"unable to parse header of %s\", path)",
          "new_text": null,
          "old_line_content": "\t\terror(\"unable to parse header of %s\", path);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2978,
          "old_api": "find_cached_object",
          "new_api": null,
          "old_text": "find_cached_object(real)",
          "new_text": null,
          "old_line_content": "\t\tstruct cached_object *co = find_cached_object(real);",
          "new_line_content": "\t\toi = &blank_oi;",
          "content_same": false
        },
        {
          "line": 3492,
          "old_api": "has_sha1_file",
          "new_api": null,
          "old_text": "has_sha1_file(oid->hash)",
          "new_text": null,
          "old_line_content": "\treturn has_sha1_file(oid->hash);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4004,
          "old_api": "check_stream_sha1",
          "new_api": null,
          "old_text": "check_stream_sha1(&stream, hdr, *size, path, expected_sha1)",
          "new_text": null,
          "old_line_content": "\t\tif (check_stream_sha1(&stream, hdr, *size, path, expected_sha1) < 0)",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3497,
          "old_api": "has_sha1_file_with_flags",
          "new_api": null,
          "old_text": "has_sha1_file_with_flags(oid->hash, flags)",
          "new_text": null,
          "old_line_content": "\treturn has_sha1_file_with_flags(oid->hash, flags);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4009,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"unable to unpack contents of %s\", path)",
          "new_text": null,
          "old_line_content": "\t\t\terror(\"unable to unpack contents of %s\", path);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 2987,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(oi->delta_base_sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\thashclr(oi->delta_base_sha1);",
          "new_line_content": "\t\t\tif (oi->disk_sizep)",
          "content_same": false
        },
        {
          "line": 2989,
          "old_api": "typename",
          "new_api": null,
          "old_text": "typename(co->type)",
          "new_text": null,
          "old_line_content": "\t\t\t\tstrbuf_addstr(oi->typename, typename(co->type));",
          "new_line_content": "\t\t\tif (oi->delta_base_sha1)",
          "content_same": false
        },
        {
          "line": 4014,
          "old_api": "typename",
          "new_api": null,
          "old_text": "typename(*type)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t *size, typename(*type))) {",
          "new_line_content": "\t\t\tgoto out;",
          "content_same": false
        },
        {
          "line": 2991,
          "old_api": "xmemdupz",
          "new_api": null,
          "old_text": "xmemdupz(co->buf, co->size)",
          "new_text": null,
          "old_line_content": "\t\t\t\t*oi->contentp = xmemdupz(co->buf, co->size);",
          "new_line_content": "\t\t\tif (oi->typename)",
          "content_same": false
        },
        {
          "line": 4015,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"sha1 mismatch for %s (expected %s)\", path,\n\t\t\t      sha1_to_hex(expected_sha1))",
          "new_text": null,
          "old_line_content": "\t\t\terror(\"sha1 mismatch for %s (expected %s)\", path,",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3505,
          "old_api": "init_tree_desc",
          "new_api": null,
          "old_text": "init_tree_desc(&desc, buf, size)",
          "new_text": null,
          "old_line_content": "\tinit_tree_desc(&desc, buf, size);",
          "new_line_content": "\tstruct tree_desc desc;",
          "content_same": false
        },
        {
          "line": 3506,
          "old_api": "tree_entry",
          "new_api": null,
          "old_text": "tree_entry(&desc, &entry)",
          "new_text": null,
          "old_line_content": "\twhile (tree_entry(&desc, &entry))",
          "new_line_content": "\tstruct name_entry entry;",
          "content_same": false
        },
        {
          "line": 2997,
          "old_api": "find_pack_entry",
          "new_api": null,
          "old_text": "find_pack_entry(real, &e)",
          "new_text": null,
          "old_line_content": "\tif (!find_pack_entry(real, &e)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2999,
          "old_api": "sha1_loose_object_info",
          "new_api": null,
          "old_text": "sha1_loose_object_info(real, oi, flags)",
          "new_text": null,
          "old_line_content": "\t\tif (!sha1_loose_object_info(real, oi, flags)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4026,
          "old_api": "munmap",
          "new_api": null,
          "old_text": "munmap(map, mapsize)",
          "new_text": null,
          "old_line_content": "\t\tmunmap(map, mapsize);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3515,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&c, 0, sizeof(c))",
          "new_text": null,
          "old_line_content": "\tmemset(&c, 0, sizeof(c));",
          "new_line_content": "static void check_commit(const void *buf, size_t size)",
          "content_same": false
        },
        {
          "line": 3516,
          "old_api": "parse_commit_buffer",
          "new_api": null,
          "old_text": "parse_commit_buffer(&c, buf, size)",
          "new_text": null,
          "old_line_content": "\tif (parse_commit_buffer(&c, buf, size))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3517,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"corrupt commit\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"corrupt commit\");",
          "new_line_content": "\tstruct commit c;",
          "content_same": false
        },
        {
          "line": 3008,
          "old_api": "reprepare_packed_git",
          "new_api": null,
          "old_text": "reprepare_packed_git()",
          "new_text": null,
          "old_line_content": "\t\t\treprepare_packed_git();",
          "new_line_content": "\t\tif (flags & OBJECT_INFO_QUICK) {",
          "content_same": false
        },
        {
          "line": 3009,
          "old_api": "find_pack_entry",
          "new_api": null,
          "old_text": "find_pack_entry(real, &e)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!find_pack_entry(real, &e))",
          "new_line_content": "\t\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 3523,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&t, 0, sizeof(t))",
          "new_text": null,
          "old_line_content": "\tmemset(&t, 0, sizeof(t));",
          "new_line_content": "static void check_tag(const void *buf, size_t size)",
          "content_same": false
        },
        {
          "line": 3524,
          "old_api": "parse_tag_buffer",
          "new_api": null,
          "old_text": "parse_tag_buffer(&t, buf, size)",
          "new_text": null,
          "old_line_content": "\tif (parse_tag_buffer(&t, buf, size))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3525,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"corrupt tag\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"corrupt tag\");",
          "new_line_content": "\tstruct tag t;",
          "content_same": false
        },
        {
          "line": 3021,
          "old_api": "packed_object_info",
          "new_api": null,
          "old_text": "packed_object_info(e.p, e.offset, oi)",
          "new_text": null,
          "old_line_content": "\trtype = packed_object_info(e.p, e.offset, oi);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 3023,
          "old_api": "mark_bad_packed_object",
          "new_api": null,
          "old_text": "mark_bad_packed_object(e.p, real)",
          "new_text": null,
          "old_line_content": "\t\tmark_bad_packed_object(e.p, real);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3025,
          "old_api": "in_delta_base_cache",
          "new_api": null,
          "old_text": "in_delta_base_cache(e.p, e.offset)",
          "new_text": null,
          "old_line_content": "\t} else if (in_delta_base_cache(e.p, e.offset)) {",
          "new_line_content": "\tif (rtype < 0) {",
          "content_same": false
        },
        {
          "line": 3543,
          "old_api": "convert_to_git",
          "new_api": null,
          "old_text": "convert_to_git(&the_index, path, buf, size, &nbuf,\n\t\t\t\t   write_object ? safe_crlf : SAFE_CRLF_FALSE)",
          "new_text": null,
          "old_line_content": "\t\tif (convert_to_git(&the_index, path, buf, size, &nbuf,",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 3545,
          "old_api": "strbuf_detach",
          "new_api": null,
          "old_text": "strbuf_detach(&nbuf, &size)",
          "new_text": null,
          "old_line_content": "\t\t\tbuf = strbuf_detach(&nbuf, &size);",
          "new_line_content": "\t\tstruct strbuf nbuf = STRBUF_INIT;",
          "content_same": false
        },
        {
          "line": 3551,
          "old_api": "check_tree",
          "new_api": null,
          "old_text": "check_tree(buf, size)",
          "new_text": null,
          "old_line_content": "\t\t\tcheck_tree(buf, size);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3553,
          "old_api": "check_commit",
          "new_api": null,
          "old_text": "check_commit(buf, size)",
          "new_text": null,
          "old_line_content": "\t\t\tcheck_commit(buf, size);",
          "new_line_content": "\t\tif (type == OBJ_TREE)",
          "content_same": false
        },
        {
          "line": 3555,
          "old_api": "check_tag",
          "new_api": null,
          "old_text": "check_tag(buf, size)",
          "new_text": null,
          "old_line_content": "\t\t\tcheck_tag(buf, size);",
          "new_line_content": "\t\tif (type == OBJ_COMMIT)",
          "content_same": false
        },
        {
          "line": 3046,
          "old_api": "sha1_object_info_extended",
          "new_api": null,
          "old_text": "sha1_object_info_extended(sha1, &oi,\n\t\t\t\t      OBJECT_INFO_LOOKUP_REPLACE)",
          "new_text": null,
          "old_line_content": "\tif (sha1_object_info_extended(sha1, &oi,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3559,
          "old_api": "typename",
          "new_api": null,
          "old_text": "typename(type)",
          "new_text": null,
          "old_line_content": "\t\tret = write_sha1_file(buf, size, typename(type), sha1);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3561,
          "old_api": "typename",
          "new_api": null,
          "old_text": "typename(type)",
          "new_text": null,
          "old_line_content": "\t\tret = hash_sha1_file(buf, size, typename(type), sha1);",
          "new_line_content": "\tif (write_object)",
          "content_same": false
        },
        {
          "line": 3563,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buf)",
          "new_text": null,
          "old_line_content": "\t\tfree(buf);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 3058,
          "old_api": "find_pack_entry",
          "new_api": null,
          "old_text": "find_pack_entry(sha1, &e)",
          "new_text": null,
          "old_line_content": "\tif (!find_pack_entry(sha1, &e))",
          "new_line_content": "\tstruct pack_entry e;",
          "content_same": false
        },
        {
          "line": 3060,
          "old_api": "cache_or_unpack_entry",
          "new_api": null,
          "old_text": "cache_or_unpack_entry(e.p, e.offset, size, type)",
          "new_text": null,
          "old_line_content": "\tdata = cache_or_unpack_entry(e.p, e.offset, size, type);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3574,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(path)",
          "new_text": null,
          "old_line_content": "\tassert(path);",
          "new_line_content": "\tconst int write_object = flags & HASH_WRITE_OBJECT;",
          "content_same": false
        },
        {
          "line": 3575,
          "old_api": "would_convert_to_git_filter_fd",
          "new_api": null,
          "old_text": "would_convert_to_git_filter_fd(path)",
          "new_text": null,
          "old_line_content": "\tassert(would_convert_to_git_filter_fd(path));",
          "new_line_content": "\tstruct strbuf sbuf = STRBUF_INIT;",
          "content_same": false
        },
        {
          "line": 3068,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"failed to read object %s at offset %\"PRIuMAX\" from %s\",\n\t\t      sha1_to_hex(sha1), (uintmax_t)e.offset, e.p->pack_name)",
          "new_text": null,
          "old_line_content": "\t\terror(\"failed to read object %s at offset %\"PRIuMAX\" from %s\",",
          "new_line_content": "\t\t * This should happen only in the presence of a corrupted",
          "content_same": false
        },
        {
          "line": 3069,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\t      sha1_to_hex(sha1), (uintmax_t)e.offset, e.p->pack_name);",
          "new_line_content": "\t\t * pack, and is better than failing outright.",
          "content_same": false
        },
        {
          "line": 3070,
          "old_api": "mark_bad_packed_object",
          "new_api": null,
          "old_text": "mark_bad_packed_object(e.p, sha1)",
          "new_text": null,
          "old_line_content": "\t\tmark_bad_packed_object(e.p, sha1);",
          "new_line_content": "\t\t */",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 59,
      "total_additions": 184,
      "total_deletions": 183,
      "total_api_changes": 426
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 426,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          2976,
          2975
        ]
      }
    },
    "api_calls_before": 838,
    "api_calls_after": 839,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 0,
      "total_diff_lines": 15
    }
  }
}