{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/680e0b4524482c4bb679030188f6ae8db4caff06",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/680e0b4524482c4bb679030188f6ae8db4caff06/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/680e0b4524482c4bb679030188f6ae8db4caff06/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/680e0b4524482c4bb679030188f6ae8db4caff06/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": true,
    "api_changes": {
      "replacements": [
        {
          "line": 308,
          "old_api": "GetLastError",
          "new_api": "Sleep",
          "old_text": "GetLastError()",
          "new_text": "Sleep(delay[tries])",
          "old_line_content": "\twhile (ret == -1 && is_file_in_use_error(GetLastError()) &&",
          "new_line_content": "\t\tSleep(delay[tries]);",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": "_wunlink",
          "new_api": "GetLastError",
          "old_text": "_wunlink(wpathname)",
          "new_text": "GetLastError()",
          "old_line_content": "\t       ret = _wunlink(wpathname);",
          "new_line_content": "\twhile (ret == -1 && is_file_in_use_error(GetLastError()) &&",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": "GetLastError",
          "new_api": "wcscat",
          "old_text": "GetLastError()",
          "new_text": "wcscat(wbuf, L\"\\\\*\")",
          "old_line_content": "\t\treturn GetLastError() == ERROR_NO_MORE_FILES;",
          "new_line_content": "\twcscat(wbuf, L\"\\\\*\");",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": "wcscmp",
          "new_api": "GetLastError",
          "old_text": "wcscmp(findbuf.cFileName, L\"..\")",
          "new_text": "GetLastError()",
          "old_line_content": "\t\t\t!wcscmp(findbuf.cFileName, L\"..\"))",
          "new_line_content": "\t\treturn GetLastError() == ERROR_NO_MORE_FILES;",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": "GetLastError",
          "new_api": "wcscmp",
          "old_text": "GetLastError()",
          "new_text": "wcscmp(findbuf.cFileName, L\".\")",
          "old_line_content": "\t\t\tDWORD err = GetLastError();",
          "new_line_content": "\twhile (!wcscmp(findbuf.cFileName, L\".\") ||",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": "FindClose",
          "new_api": "wcscmp",
          "old_text": "FindClose(handle)",
          "new_text": "wcscmp(findbuf.cFileName, L\"..\")",
          "old_line_content": "\t\t\tFindClose(handle);",
          "new_line_content": "\t\t\t!wcscmp(findbuf.cFileName, L\"..\"))",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": "ARRAY_SIZE",
          "new_api": "xutftowcs_path",
          "old_text": "ARRAY_SIZE(delay)",
          "new_text": "xutftowcs_path(wpathname, pathname)",
          "old_line_content": "\twhile ((ret = _wrmdir(wpathname)) == -1 && tries < ARRAY_SIZE(delay)) {",
          "new_line_content": "\tif (xutftowcs_path(wpathname, pathname) < 0)",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": "is_dir_empty",
          "new_api": "GetLastError",
          "old_text": "is_dir_empty(wpathname)",
          "new_text": "GetLastError()",
          "old_line_content": "\t\tif (!is_dir_empty(wpathname)) {",
          "new_line_content": "\t\t\terrno = err_win_to_posix(GetLastError());",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": "GetLastError",
          "new_api": "Sleep",
          "old_text": "GetLastError()",
          "new_text": "Sleep(delay[tries])",
          "old_line_content": "\twhile (ret == -1 && errno == EACCES && is_file_in_use_error(GetLastError()) &&",
          "new_line_content": "\t\tSleep(delay[tries]);",
          "content_same": false
        },
        {
          "line": 366,
          "old_api": "_wrmdir",
          "new_api": "GetLastError",
          "old_text": "_wrmdir(wpathname)",
          "new_text": "GetLastError()",
          "old_line_content": "\t       ret = _wrmdir(wpathname);",
          "new_line_content": "\twhile (ret == -1 && errno == EACCES && is_file_in_use_error(GetLastError()) &&",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": "needs_hiding",
          "new_api": "xutftowcs_path",
          "old_text": "needs_hiding(path)",
          "new_text": "xutftowcs_path(wpath, path)",
          "old_line_content": "\tif (!ret && needs_hiding(path))",
          "new_line_content": "\tif (xutftowcs_path(wpath, path) < 0)",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": "strncasecmp",
          "new_api": "is_dir_sep",
          "old_text": "strncasecmp(filename+4, \"pipe\", 4)",
          "new_text": "is_dir_sep(filename[1])",
          "old_line_content": "\t\t!strncasecmp(filename+4, \"pipe\", 4) &&",
          "new_line_content": "\t\tis_dir_sep(filename[1]) &&",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": "is_valid_win32_path",
          "new_api": "va_arg",
          "old_text": "is_valid_win32_path(filename, !create)",
          "new_text": "va_arg(args, int)",
          "old_line_content": "\tif (!is_valid_win32_path(filename, !create)) {",
          "new_line_content": "\tmode = va_arg(args, int);",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": "open_fn",
          "new_api": "xutftowcs_path",
          "old_text": "open_fn(wfilename, oflags, mode)",
          "new_text": "xutftowcs_path(wfilename, filename)",
          "old_line_content": "\tfd = open_fn(wfilename, oflags, mode);",
          "new_line_content": "\telse if (xutftowcs_path(wfilename, filename) < 0)",
          "content_same": false
        },
        {
          "line": 537,
          "old_api": "GetFileAttributesW",
          "new_api": "open_fn",
          "old_text": "GetFileAttributesW(wfilename)",
          "new_text": "open_fn(wfilename, oflags, mode)",
          "old_line_content": "\t\tDWORD attrs = GetFileAttributesW(wfilename);",
          "new_line_content": "\tfd = open_fn(wfilename, oflags, mode);",
          "content_same": false
        },
        {
          "line": 571,
          "old_api": "SetConsoleCtrlHandler",
          "new_api": "_fileno",
          "old_text": "SetConsoleCtrlHandler(ctrl_ignore, TRUE)",
          "new_text": "_fileno(stream)",
          "old_line_content": "\tSetConsoleCtrlHandler(ctrl_ignore, TRUE);",
          "new_line_content": "\tif (!isatty(_fileno(stream)))",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": "GetLastError",
          "new_api": "SetConsoleCtrlHandler",
          "old_text": "GetLastError()",
          "new_text": "SetConsoleCtrlHandler(ctrl_ignore, TRUE)",
          "old_line_content": "\t\tif (ch != EOF || GetLastError() != ERROR_OPERATION_ABORTED)",
          "new_line_content": "\tSetConsoleCtrlHandler(ctrl_ignore, TRUE);",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": "strcmp",
          "new_api": "needs_hiding",
          "old_text": "strcmp(filename, \"/dev/null\")",
          "new_text": "needs_hiding(filename)",
          "old_line_content": "\tif (filename && !strcmp(filename, \"/dev/null\"))",
          "new_line_content": "\tint hide = needs_hiding(filename);",
          "content_same": false
        },
        {
          "line": 593,
          "old_api": "strchr",
          "new_api": "strcmp",
          "old_text": "strchr(otype, 'w')",
          "new_text": "strcmp(filename, \"/dev/null\")",
          "old_line_content": "\t\tint create = otype && strchr(otype, 'w');",
          "new_line_content": "\tif (filename && !strcmp(filename, \"/dev/null\"))",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": "xutftowcs_path",
          "new_api": "strchr",
          "old_text": "xutftowcs_path(wfilename, filename)",
          "new_text": "strchr(otype, 'w')",
          "old_line_content": "\t} else if (xutftowcs_path(wfilename, filename) < 0)",
          "new_line_content": "\t\tint create = otype && strchr(otype, 'w');",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": "ARRAY_SIZE",
          "new_api": "xutftowcs_path",
          "old_text": "ARRAY_SIZE(wotype)",
          "new_text": "xutftowcs_path(wfilename, filename)",
          "old_line_content": "\tif (xutftowcs(wotype, otype, ARRAY_SIZE(wotype)) < 0)",
          "new_line_content": "\t} else if (xutftowcs_path(wfilename, filename) < 0)",
          "content_same": false
        },
        {
          "line": 602,
          "old_api": "set_hidden_flag",
          "new_api": "ARRAY_SIZE",
          "old_text": "set_hidden_flag(wfilename, 0)",
          "new_text": "ARRAY_SIZE(wotype)",
          "old_line_content": "\tif (hide && !access(filename, F_OK) && set_hidden_flag(wfilename, 0)) {",
          "new_line_content": "\tif (xutftowcs(wotype, otype, ARRAY_SIZE(wotype)) < 0)",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": "_wfopen",
          "new_api": "error",
          "old_text": "_wfopen(wfilename, wotype)",
          "new_text": "error(\"could not unhide %s\", filename)",
          "old_line_content": "\tfile = _wfopen(wfilename, wotype);",
          "new_line_content": "\t\terror(\"could not unhide %s\", filename);",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": "set_hidden_flag",
          "new_api": "_wfopen",
          "old_text": "set_hidden_flag(wfilename, 1)",
          "new_text": "_wfopen(wfilename, wotype)",
          "old_line_content": "\tif (file && hide && set_hidden_flag(wfilename, 1))",
          "new_line_content": "\tfile = _wfopen(wfilename, wotype);",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": "warning",
          "new_api": "GetLastError",
          "old_text": "warning(\"could not mark '%s' as hidden.\", filename)",
          "new_text": "GetLastError()",
          "old_line_content": "\t\twarning(\"could not mark '%s' as hidden.\", filename);",
          "new_line_content": "\tif (!file && GetLastError() == ERROR_INVALID_NAME)",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "strcmp",
          "new_api": "needs_hiding",
          "old_text": "strcmp(filename, \"/dev/null\")",
          "new_text": "needs_hiding(filename)",
          "old_line_content": "\tif (filename && !strcmp(filename, \"/dev/null\"))",
          "new_line_content": "\tint hide = needs_hiding(filename);",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": "strchr",
          "new_api": "strcmp",
          "old_text": "strchr(otype, 'w')",
          "new_text": "strcmp(filename, \"/dev/null\")",
          "old_line_content": "\t\tint create = otype && strchr(otype, 'w');",
          "new_line_content": "\tif (filename && !strcmp(filename, \"/dev/null\"))",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": "xutftowcs_path",
          "new_api": "strchr",
          "old_text": "xutftowcs_path(wfilename, filename)",
          "new_text": "strchr(otype, 'w')",
          "old_line_content": "\t} else if (xutftowcs_path(wfilename, filename) < 0)",
          "new_line_content": "\t\tint create = otype && strchr(otype, 'w');",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "ARRAY_SIZE",
          "new_api": "xutftowcs_path",
          "old_text": "ARRAY_SIZE(wotype)",
          "new_text": "xutftowcs_path(wfilename, filename)",
          "old_line_content": "\tif (xutftowcs(wotype, otype, ARRAY_SIZE(wotype)) < 0)",
          "new_line_content": "\t} else if (xutftowcs_path(wfilename, filename) < 0)",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": "set_hidden_flag",
          "new_api": "ARRAY_SIZE",
          "old_text": "set_hidden_flag(wfilename, 0)",
          "new_text": "ARRAY_SIZE(wotype)",
          "old_line_content": "\tif (hide && !access(filename, F_OK) && set_hidden_flag(wfilename, 0)) {",
          "new_line_content": "\tif (xutftowcs(wotype, otype, ARRAY_SIZE(wotype)) < 0)",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": "_wfreopen",
          "new_api": "error",
          "old_text": "_wfreopen(wfilename, wotype, stream)",
          "new_text": "error(\"could not unhide %s\", filename)",
          "old_line_content": "\tfile = _wfreopen(wfilename, wotype, stream);",
          "new_line_content": "\t\terror(\"could not unhide %s\", filename);",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": "_waccess",
          "new_api": "xutftowcs_path",
          "old_text": "_waccess(wfilename, mode & ~X_OK)",
          "new_text": "xutftowcs_path(wfilename, filename)",
          "old_line_content": "\treturn _waccess(wfilename, mode & ~X_OK);",
          "new_line_content": "\tif (xutftowcs_path(wfilename, filename) < 0)",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": "GetFileAttributesExW",
          "new_api": "xutftowcs_path",
          "old_text": "GetFileAttributesExW(wfilename, GetFileExInfoStandard, &fdata)",
          "new_text": "xutftowcs_path(wfilename, file_name)",
          "old_line_content": "\tif (GetFileAttributesExW(wfilename, GetFileExInfoStandard, &fdata)) {",
          "new_line_content": "\tif (xutftowcs_path(wfilename, file_name) < 0)",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": "FindFirstFileW",
          "new_api": "filetime_to_timespec",
          "old_text": "FindFirstFileW(wfilename, &findbuf)",
          "new_text": "filetime_to_timespec(&(fdata.ftCreationTime), &(buf->st_ctim))",
          "old_line_content": "\t\t\tHANDLE handle = FindFirstFileW(wfilename, &findbuf);",
          "new_line_content": "\t\tfiletime_to_timespec(&(fdata.ftCreationTime), &(buf->st_ctim));",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": "_wopen",
          "new_api": "SetFileAttributesW",
          "old_text": "_wopen(wfilename, O_RDWR | O_BINARY)",
          "new_text": "SetFileAttributesW(wfilename, attrs & ~FILE_ATTRIBUTE_READONLY)",
          "old_line_content": "\tif ((fh = _wopen(wfilename, O_RDWR | O_BINARY)) < 0) {",
          "new_line_content": "\t\tSetFileAttributesW(wfilename, attrs & ~FILE_ATTRIBUTE_READONLY);",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "GetSystemTimeAsFileTime",
          "new_api": "time_t_to_filetime",
          "old_text": "GetSystemTimeAsFileTime(&mft)",
          "new_text": "time_t_to_filetime(times->modtime, &mft)",
          "old_line_content": "\t\tGetSystemTimeAsFileTime(&mft);",
          "new_line_content": "\t\ttime_t_to_filetime(times->modtime, &mft);",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": "_get_osfhandle",
          "new_api": "GetSystemTimeAsFileTime",
          "old_text": "_get_osfhandle(fh)",
          "new_text": "GetSystemTimeAsFileTime(&mft)",
          "old_line_content": "\tif (!SetFileTime((HANDLE)_get_osfhandle(fh), NULL, &aft, &mft)) {",
          "new_line_content": "\t\tGetSystemTimeAsFileTime(&mft);",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "INIT_PROC_ADDR",
          "new_api": "DECLARE_PROC_ADDR",
          "old_text": "INIT_PROC_ADDR(strftime)",
          "new_text": "DECLARE_PROC_ADDR(ucrtbase.dll, size_t, strftime, char *, size_t,\n\t\tconst char *, const struct tm *)",
          "old_line_content": "\tif (INIT_PROC_ADDR(strftime))",
          "new_line_content": "\tDECLARE_PROC_ADDR(ucrtbase.dll, size_t, strftime, char *, size_t,",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "fallback",
          "new_api": "INIT_PROC_ADDR",
          "old_text": "fallback(s, max, format, tm)",
          "new_text": "INIT_PROC_ADDR(strftime)",
          "old_line_content": "\t\tret = fallback(s, max, format, tm);",
          "new_line_content": "\tif (INIT_PROC_ADDR(strftime))",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "die",
          "new_api": "fallback",
          "old_text": "die(\"invalid strftime format: '%s'\", format)",
          "new_text": "fallback(s, max, format, tm)",
          "old_line_content": "\t\tdie(\"invalid strftime format: '%s'\", format);",
          "new_line_content": "\t\tret = fallback(s, max, format, tm);",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "open",
          "new_api": "mktemp",
          "old_text": "open(filename, O_RDWR | O_CREAT, 0600)",
          "new_text": "mktemp(template)",
          "old_line_content": "\treturn open(filename, O_RDWR | O_CREAT, 0600);",
          "new_line_content": "\tchar *filename = mktemp(template);",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "HCAST",
          "new_api": "GetLastError",
          "old_text": "HCAST(int, h[0])",
          "new_text": "GetLastError()",
          "old_line_content": "\tfiledes[0] = _open_osfhandle(HCAST(int, h[0]), O_NOINHERIT);",
          "new_line_content": "\t\terrno = err_win_to_posix(GetLastError());",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": "CloseHandle",
          "new_api": "HCAST",
          "old_text": "CloseHandle(h[1])",
          "new_text": "HCAST(int, h[0])",
          "old_line_content": "\t\tCloseHandle(h[1]);",
          "new_line_content": "\tfiledes[0] = _open_osfhandle(HCAST(int, h[0]), O_NOINHERIT);",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": "HCAST",
          "new_api": "CloseHandle",
          "old_text": "HCAST(int, h[1])",
          "new_text": "CloseHandle(h[1])",
          "old_line_content": "\tfiledes[1] = _open_osfhandle(HCAST(int, h[1]), O_NOINHERIT);",
          "new_line_content": "\t\tCloseHandle(h[1]);",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": "CloseHandle",
          "new_api": "HCAST",
          "old_text": "CloseHandle(h[1])",
          "new_text": "HCAST(int, h[1])",
          "old_line_content": "\t\tCloseHandle(h[1]);",
          "new_line_content": "\tfiledes[1] = _open_osfhandle(HCAST(int, h[1]), O_NOINHERIT);",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": "GetLastError",
          "new_api": "ARRAY_SIZE",
          "old_text": "GetLastError()",
          "new_text": "ARRAY_SIZE(cwd)",
          "old_line_content": "\t\terrno = ret ? ENAMETOOLONG : err_win_to_posix(GetLastError());",
          "new_line_content": "\tDWORD ret = GetCurrentDirectoryW(ARRAY_SIZE(cwd), cwd);",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": "ARRAY_SIZE",
          "new_api": "GetLastError",
          "old_text": "ARRAY_SIZE(wpointer)",
          "new_text": "GetLastError()",
          "old_line_content": "\tret = GetLongPathNameW(cwd, wpointer, ARRAY_SIZE(wpointer));",
          "new_line_content": "\t\terrno = ret ? ENAMETOOLONG : err_win_to_posix(GetLastError());",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": "normalize_ntpath",
          "new_api": "CloseHandle",
          "old_text": "normalize_ntpath(wpointer)",
          "new_text": "CloseHandle(hnd)",
          "old_line_content": "\t\tif (xwcstoutf(pointer, normalize_ntpath(wpointer), len) < 0)",
          "new_line_content": "\t\tCloseHandle(hnd);",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "strbuf_detach",
          "new_api": "strbuf_add",
          "old_text": "strbuf_detach(&buf, 0)",
          "new_text": "strbuf_add(&buf, p2, p - p2)",
          "old_line_content": "\treturn strbuf_detach(&buf, 0);",
          "new_line_content": "\t\tstrbuf_add(&buf, p2, p - p2);",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "open",
          "new_api": "strcasecmp",
          "old_text": "open(cmd, O_RDONLY)",
          "new_text": "strcasecmp(cmd+n-4, \".exe\")",
          "old_line_content": "\tfd = open(cmd, O_RDONLY);",
          "new_line_content": "\tif (n >= 4 && !strcasecmp(cmd+n-4, \".exe\"))",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": "read",
          "new_api": "open",
          "old_text": "read(fd, buf, sizeof(buf)-1)",
          "new_text": "open(cmd, O_RDONLY)",
          "old_line_content": "\tn = read(fd, buf, sizeof(buf)-1);",
          "new_line_content": "\tfd = open(cmd, O_RDONLY);",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": "strchr",
          "new_api": "strrchr",
          "old_text": "strchr(p+1, ' ')",
          "new_text": "strrchr(buf+2, '\\\\')",
          "old_line_content": "\tif ((opt = strchr(p+1, ' ')))",
          "new_line_content": "\tif (!(p = strrchr(buf+2, '/')) && !(p = strrchr(buf+2, '\\\\')))",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": "_waccess",
          "new_api": "xutftowcs_path",
          "old_text": "_waccess(wpath, F_OK)",
          "new_text": "xutftowcs_path(wpath, path)",
          "old_line_content": "\tif (!isexe && _waccess(wpath, F_OK) == 0)",
          "new_line_content": "\tif (xutftowcs_path(wpath, path) < 0)",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": "GetFileAttributesW",
          "new_api": "xstrdup",
          "old_text": "GetFileAttributesW(wpath)",
          "new_text": "xstrdup(path)",
          "old_line_content": "\t\tif (!(GetFileAttributesW(wpath) & FILE_ATTRIBUTE_DIRECTORY)) {",
          "new_line_content": "\t\treturn xstrdup(path);",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "strlen",
          "new_api": "wcslen",
          "old_text": "strlen(path)",
          "new_text": "wcslen(wpath)",
          "old_line_content": "\t\t\tpath[strlen(path)-4] = '\\0';",
          "new_line_content": "\twpath[wcslen(wpath)-4] = '\\0';",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": "xstrdup",
          "new_api": "_waccess",
          "old_text": "xstrdup(path)",
          "new_text": "_waccess(wpath, F_OK)",
          "old_line_content": "\t\t\treturn xstrdup(path);",
          "new_line_content": "\tif ((!exe_only || isexe) && _waccess(wpath, F_OK) == 0) {",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": "strpbrk",
          "new_api": "strlen",
          "old_text": "strpbrk(cmd, \"/\\\\\")",
          "new_text": "strlen(cmd)",
          "old_line_content": "\tif (strpbrk(cmd, \"/\\\\\"))",
          "new_line_content": "\tint len = strlen(cmd);",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": "xstrdup",
          "new_api": "strcasecmp",
          "old_text": "xstrdup(cmd)",
          "new_text": "strcasecmp(cmd+len-4, \".exe\")",
          "old_line_content": "\t\treturn xstrdup(cmd);",
          "new_line_content": "\tint isexe = len >= 4 && !strcasecmp(cmd+len-4, \".exe\");",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": "mingw_getenv",
          "new_api": "strpbrk",
          "old_text": "mingw_getenv(\"PATH\")",
          "new_text": "strpbrk(cmd, \"/\\\\\")",
          "old_line_content": "\tpath = mingw_getenv(\"PATH\");",
          "new_line_content": "\tif (strpbrk(cmd, \"/\\\\\"))",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": "lookup_prog",
          "new_api": "strchrnul",
          "old_text": "lookup_prog(path, dirlen, cmd, isexe, exe_only)",
          "new_text": "strchrnul(path, ';')",
          "old_line_content": "\t\t\tprog = lookup_prog(path, dirlen, cmd, isexe, exe_only);",
          "new_line_content": "\t\tconst char *sep = strchrnul(path, ';');",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": "wcslen",
          "new_api": "wcschr",
          "old_text": "wcslen(array[i])",
          "new_text": "wcschr(array[i], L'=')",
          "old_line_content": "\t\tsize = wcslen(array[i]) + 1;",
          "new_line_content": "\t\tif (!wcschr(array[i], L'='))",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": "fspathncmp",
          "new_api": "strlen",
          "old_text": "fspathncmp(path + *len - component_len, component, component_len)",
          "new_text": "strlen(component)",
          "old_line_content": "\t    fspathncmp(path + *len - component_len, component, component_len))",
          "new_line_content": "\tsize_t component_len = strlen(component);",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": "match_last_path_component",
          "new_api": "strlen",
          "old_text": "match_last_path_component(p, &len, \"bin\")",
          "new_text": "strlen(p)",
          "old_line_content": "\t\t\t\tmatch_last_path_component(p, &len, \"bin\") &&",
          "new_line_content": "\t\t\tsize_t len = strlen(p);",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": "free",
          "new_api": "match_last_path_component",
          "old_text": "free(p)",
          "new_text": "match_last_path_component(p, &len, \"sh.exe\")",
          "old_line_content": "\t\t\tfree(p);",
          "new_line_content": "\t\t\tret = match_last_path_component(p, &len, \"sh.exe\") &&",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": "CreateFileW",
          "new_api": "do_unset_environment_variables",
          "old_text": "CreateFileW(L\"CONOUT$\", GENERIC_WRITE,\n\t\t\tFILE_SHARE_WRITE, NULL, OPEN_EXISTING,\n\t\t\tFILE_ATTRIBUTE_NORMAL, NULL)",
          "new_text": "do_unset_environment_variables()",
          "old_line_content": "\tcons = CreateFileW(L\"CONOUT$\", GENERIC_WRITE,",
          "new_line_content": "\tdo_unset_environment_variables();",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": "winansi_get_osfhandle",
          "new_api": "memset",
          "old_text": "winansi_get_osfhandle(fhout)",
          "new_text": "memset(&si, 0, sizeof(si))",
          "old_line_content": "\tsi.StartupInfo.hStdOutput = winansi_get_osfhandle(fhout);",
          "new_line_content": "\tmemset(&si, 0, sizeof(si));",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": "strbuf_addstr",
          "new_api": "strbuf_init",
          "old_text": "strbuf_addstr(&args, quoted)",
          "new_text": "strbuf_init(&args, 0)",
          "old_line_content": "\t\tstrbuf_addstr(&args, quoted);",
          "new_line_content": "\tstrbuf_init(&args, 0);",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": "free",
          "new_api": "quote_arg",
          "old_text": "free(quoted)",
          "new_text": "quote_arg(cmd)",
          "old_line_content": "\t\t\tfree(quoted);",
          "new_line_content": "\t\tchar *quoted = (char *)quote_arg(cmd);",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": "quote_arg",
          "new_api": "free",
          "old_text": "quote_arg(*argv)",
          "new_text": "free(quoted)",
          "old_line_content": "\t\tchar *quoted = (char *)quote_arg(*argv);",
          "new_line_content": "\t\t\tfree(quoted);",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": "strbuf_addstr",
          "new_api": "quote_arg",
          "old_text": "strbuf_addstr(&args, quoted)",
          "new_text": "quote_arg(*argv)",
          "old_line_content": "\t\tstrbuf_addstr(&args, quoted);",
          "new_line_content": "\t\tchar *quoted = (char *)quote_arg(*argv);",
          "content_same": false
        },
        {
          "line": 1585,
          "old_api": "free",
          "new_api": "strbuf_addch",
          "old_text": "free(quoted)",
          "new_text": "strbuf_addch(&args, ' ')",
          "old_line_content": "\t\t\tfree(quoted);",
          "new_line_content": "\t\t\tstrbuf_addch(&args, ' ');",
          "content_same": false
        },
        {
          "line": 1588,
          "old_api": "getenv",
          "new_api": "free",
          "old_text": "getenv(\"GIT_STRACE_COMMANDS\")",
          "new_text": "free(quoted)",
          "old_line_content": "\tstrace_env = getenv(\"GIT_STRACE_COMMANDS\");",
          "new_line_content": "\t\t\tfree(quoted);",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": "xutftowcs_path",
          "new_api": "path_lookup",
          "old_text": "xutftowcs_path(wcmd, p)",
          "new_text": "path_lookup(\"strace.exe\", 1)",
          "old_line_content": "\t\tif (xutftowcs_path(wcmd, p) < 0) {",
          "new_line_content": "\t\tchar *p = path_lookup(\"strace.exe\", 1);",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": "strcasecmp",
          "new_api": "free",
          "old_text": "strcasecmp(\"true\", strace_env)",
          "new_text": "free(p)",
          "old_line_content": "\t\t    !strcasecmp(\"true\", strace_env))",
          "new_line_content": "\t\tfree(p);",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": "strbuf_insert",
          "new_api": "strcmp",
          "old_text": "strbuf_insert(&args, 0, \"strace \", 7)",
          "new_text": "strcmp(\"1\", strace_env)",
          "old_line_content": "\t\t\tstrbuf_insert(&args, 0, \"strace \", 7);",
          "new_line_content": "\t\tif (!strcmp(\"1\", strace_env) ||",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": "quote_arg",
          "new_api": "strcasecmp",
          "old_text": "quote_arg(strace_env)",
          "new_text": "strcasecmp(\"true\", strace_env)",
          "old_line_content": "\t\t\tconst char *quoted = quote_arg(strace_env);",
          "new_line_content": "\t\t    !strcasecmp(\"true\", strace_env))",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": "strbuf_insert",
          "new_api": "strbuf_addf",
          "old_text": "strbuf_insert(&args, 0, buf.buf, buf.len)",
          "new_text": "strbuf_addf(&buf, \"strace -o %s \", quoted)",
          "old_line_content": "\t\t\tstrbuf_insert(&args, 0, buf.buf, buf.len);",
          "new_line_content": "\t\t\tstrbuf_addf(&buf, \"strace -o %s \", quoted);",
          "content_same": false
        },
        {
          "line": 1617,
          "old_api": "make_environment_block",
          "new_api": "xutftowcs",
          "old_text": "make_environment_block(deltaenv)",
          "new_text": "xutftowcs(wargs, args.buf, 2 * args.len + 1)",
          "old_line_content": "\twenvblk = make_environment_block(deltaenv);",
          "new_line_content": "\txutftowcs(wargs, args.buf, 2 * args.len + 1);",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": "GetLastError",
          "new_api": "memset",
          "old_text": "GetLastError()",
          "new_text": "memset(&pi, 0, sizeof(pi))",
          "old_line_content": "\t     GetLastError() == ERROR_INSUFFICIENT_BUFFER) &&",
          "new_line_content": "\tmemset(&pi, 0, sizeof(pi));",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": "GetProcessHeap",
          "new_api": "InitializeProcThreadAttributeList",
          "old_text": "GetProcessHeap()",
          "new_text": "InitializeProcThreadAttributeList(NULL, 1, 0, &size)",
          "old_line_content": "\t\t\t(HeapAlloc(GetProcessHeap(), 0, size))) &&",
          "new_line_content": "\t    (InitializeProcThreadAttributeList(NULL, 1, 0, &size) ||",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": "InitializeProcThreadAttributeList",
          "new_api": "GetLastError",
          "old_text": "InitializeProcThreadAttributeList(attr_list, 1, 0, &size)",
          "new_text": "GetLastError()",
          "old_line_content": "\t    InitializeProcThreadAttributeList(attr_list, 1, 0, &size) &&",
          "new_line_content": "\t     GetLastError() == ERROR_INSUFFICIENT_BUFFER) &&",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": "UpdateProcThreadAttribute",
          "new_api": "LPPROC_THREAD_ATTRIBUTE_LIST)\n\t\t\t(HeapAlloc(GetProcessHeap(), 0, size))",
          "old_text": "UpdateProcThreadAttribute(attr_list, 0,\n\t\t\t\t      PROC_THREAD_ATTRIBUTE_HANDLE_LIST,\n\t\t\t\t      stdhandles,\n\t\t\t\t      stdhandles_count * sizeof(HANDLE),\n\t\t\t\t      NULL, NULL)",
          "new_text": "LPPROC_THREAD_ATTRIBUTE_LIST)\n\t\t\t(HeapAlloc(GetProcessHeap(), 0, size))",
          "old_line_content": "\t    UpdateProcThreadAttribute(attr_list, 0,",
          "new_line_content": "\t    (attr_list = (LPPROC_THREAD_ATTRIBUTE_LIST)",
          "content_same": false
        },
        {
          "line": 1675,
          "old_api": "GetHandleInformation",
          "new_api": "strbuf_addf",
          "old_text": "GetHandleInformation(h, &fl)",
          "new_text": "strbuf_addf(&buf, \"handle #%d: %p (type %lx, \"\n\t\t\t\t\t    \"handle info (%d) %lx\\n\", i, h,\n\t\t\t\t\t    GetFileType(h),\n\t\t\t\t\t    GetHandleInformation(h, &fl),\n\t\t\t\t\t    fl)",
          "old_line_content": "\t\t\t\t\t    GetHandleInformation(h, &fl),",
          "new_line_content": "\t\t\t\tstrbuf_addf(&buf, \"handle #%d: %p (type %lx, \"",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": "strbuf_addstr",
          "new_api": "GetHandleInformation",
          "old_text": "strbuf_addstr(&buf, \"\\nThis is a bug; please report it \"\n\t\t\t\t      \"at\\nhttps://github.com/git-for-windows/\"\n\t\t\t\t      \"git/issues/new\\n\\n\"\n\t\t\t\t      \"To suppress this warning, please set \"\n\t\t\t\t      \"the environment variable\\n\\n\"\n\t\t\t\t      \"\\tSUPPRESS_HANDLE_INHERITANCE_WARNING=1\"\n\t\t\t\t      \"\\n\")",
          "new_text": "GetHandleInformation(h, &fl)",
          "old_line_content": "\t\t\tstrbuf_addstr(&buf, \"\\nThis is a bug; please report it \"",
          "new_line_content": "\t\t\t\t\t    GetHandleInformation(h, &fl),",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": "strbuf_release",
          "new_api": "warning",
          "old_text": "strbuf_release(&buf)",
          "new_text": "warning(\"failed to restrict file handles (%ld)\\n\\n%s\",\n\t\t\t\terr, buf.buf)",
          "old_line_content": "\t\tstrbuf_release(&buf);",
          "new_line_content": "\t\t\twarning(\"failed to restrict file handles (%ld)\\n\\n%s\",",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": "DeleteProcThreadAttributeList",
          "new_api": "GetLastError",
          "old_text": "DeleteProcThreadAttributeList(si.lpAttributeList)",
          "new_text": "GetLastError()",
          "old_line_content": "\t\tDeleteProcThreadAttributeList(si.lpAttributeList);",
          "new_line_content": "\t\terrno = err_win_to_posix(GetLastError());",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": "free",
          "new_api": "GetProcessHeap",
          "old_text": "free(wargs)",
          "new_text": "GetProcessHeap()",
          "old_line_content": "\tfree(wargs);",
          "new_line_content": "\t\tHeapFree(GetProcessHeap(), 0, attr_list);",
          "content_same": false
        },
        {
          "line": 1797,
          "old_api": "trace2_exec",
          "new_api": "ALLOC_ARRAY",
          "old_text": "trace2_exec(prog, argv2)",
          "new_text": "ALLOC_ARRAY(argv2, argc + 1)",
          "old_line_content": "\t\texec_id = trace2_exec(prog, argv2);",
          "new_line_content": "\t\tALLOC_ARRAY(argv2, argc + 1);",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": "waitpid",
          "new_api": "mingw_spawnv",
          "old_text": "waitpid(pid, &status, 0)",
          "new_text": "mingw_spawnv(prog, argv2, 1)",
          "old_line_content": "\t\t\tif (waitpid(pid, &status, 0) < 0)",
          "new_line_content": "\t\tpid = mingw_spawnv(prog, argv2, 1);",
          "content_same": false
        },
        {
          "line": 1804,
          "old_api": "exit",
          "new_api": "waitpid",
          "old_text": "exit(status)",
          "new_text": "waitpid(pid, &status, 0)",
          "old_line_content": "\t\t\texit(status);",
          "new_line_content": "\t\t\tif (waitpid(pid, &status, 0) < 0)",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": "free",
          "new_api": "trace2_exec_result",
          "old_text": "free(argv2)",
          "new_text": "trace2_exec_result(exec_id, -1)",
          "old_line_content": "\t\tfree(argv2);",
          "new_line_content": "\t\ttrace2_exec_result(exec_id, -1);",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": "trace2_exec_result",
          "new_api": "trace2_exec",
          "old_text": "trace2_exec_result(exec_id, -1)",
          "new_text": "trace2_exec(cmd, (const char **)argv)",
          "old_line_content": "\t\t\ttrace2_exec_result(exec_id, -1);",
          "new_line_content": "\t\texec_id = trace2_exec(cmd, (const char **)argv);",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": "waitpid",
          "new_api": "trace2_exec_result",
          "old_text": "waitpid(pid, &status, 0)",
          "new_text": "trace2_exec_result(exec_id, -1)",
          "old_line_content": "\t\tif (waitpid(pid, &status, 0) < 0)",
          "new_line_content": "\t\t\ttrace2_exec_result(exec_id, -1);",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": "exit",
          "new_api": "waitpid",
          "old_text": "exit(status)",
          "new_text": "waitpid(pid, &status, 0)",
          "old_line_content": "\t\texit(status);",
          "new_line_content": "\t\tif (waitpid(pid, &status, 0) < 0)",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": "mingw_execv",
          "new_api": "path_lookup",
          "old_text": "mingw_execv(prog, argv)",
          "new_text": "path_lookup(cmd, 0)",
          "old_line_content": "\t\tmingw_execv(prog, argv);",
          "new_line_content": "\tchar *prog = path_lookup(cmd, 0);",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": "CloseHandle",
          "new_api": "OpenProcess",
          "old_text": "CloseHandle(h)",
          "new_text": "OpenProcess(PROCESS_TERMINATE, FALSE, pid)",
          "old_line_content": "\t\t\tCloseHandle(h);",
          "new_line_content": "\t\tHANDLE h = OpenProcess(PROCESS_TERMINATE, FALSE, pid);",
          "content_same": false
        },
        {
          "line": 1862,
          "old_api": "OpenProcess",
          "new_api": "CloseHandle",
          "old_text": "OpenProcess(PROCESS_QUERY_INFORMATION, FALSE, pid)",
          "new_text": "CloseHandle(h)",
          "old_line_content": "\t\tHANDLE h = OpenProcess(PROCESS_QUERY_INFORMATION, FALSE, pid);",
          "new_line_content": "\t\tCloseHandle(h);",
          "content_same": false
        },
        {
          "line": 1896,
          "old_api": "xutftowcs",
          "new_api": "calloc",
          "old_text": "xutftowcs(w_key, name, len_key)",
          "new_text": "calloc(len_key, sizeof(wchar_t))",
          "old_line_content": "\txutftowcs(w_key, name, len_key);",
          "new_line_content": "\tw_key = calloc(len_key, sizeof(wchar_t));",
          "content_same": false
        },
        {
          "line": 1898,
          "old_api": "SetLastError",
          "new_api": "die",
          "old_text": "SetLastError(ERROR_SUCCESS)",
          "new_text": "die(\"Out of memory, (tried to allocate %u wchar_t's)\", len_key)",
          "old_line_content": "\tSetLastError(ERROR_SUCCESS);",
          "new_line_content": "\t\tdie(\"Out of memory, (tried to allocate %u wchar_t's)\", len_key);",
          "content_same": false
        },
        {
          "line": 1899,
          "old_api": "ARRAY_SIZE",
          "new_api": "xutftowcs",
          "old_text": "ARRAY_SIZE(w_value)",
          "new_text": "xutftowcs(w_key, name, len_key)",
          "old_line_content": "\tlen_value = GetEnvironmentVariableW(w_key, w_value, ARRAY_SIZE(w_value));",
          "new_line_content": "\txutftowcs(w_key, name, len_key);",
          "content_same": false
        },
        {
          "line": 1901,
          "old_api": "free",
          "new_api": "SetLastError",
          "old_text": "free(w_key)",
          "new_text": "SetLastError(ERROR_SUCCESS)",
          "old_line_content": "\t\tfree(w_key);",
          "new_line_content": "\tSetLastError(ERROR_SUCCESS);",
          "content_same": false
        },
        {
          "line": 1911,
          "old_api": "xwcstoutf",
          "new_api": "calloc",
          "old_text": "xwcstoutf(value, w_value, len_value)",
          "new_text": "calloc(len_value, sizeof(char))",
          "old_line_content": "\txwcstoutf(value, w_value, len_value);",
          "new_line_content": "\tvalue = calloc(len_value, sizeof(char));",
          "content_same": false
        },
        {
          "line": 1938,
          "old_api": "die",
          "new_api": "strlen",
          "old_text": "die(\"Out of memory, (tried to allocate %u wchar_t's)\", size)",
          "new_text": "strlen(namevalue)",
          "old_line_content": "\t\tdie(\"Out of memory, (tried to allocate %u wchar_t's)\", size);",
          "new_line_content": "\tsize = strlen(namevalue) * 2 + 1;",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": "xutftowcs",
          "new_api": "calloc",
          "old_text": "xutftowcs(wide, namevalue, size)",
          "new_text": "calloc(size, sizeof(wchar_t))",
          "old_line_content": "\txutftowcs(wide, namevalue, size);",
          "new_line_content": "\twide = calloc(size, sizeof(wchar_t));",
          "content_same": false
        },
        {
          "line": 1942,
          "old_api": "SetEnvironmentVariableW",
          "new_api": "xutftowcs",
          "old_text": "SetEnvironmentVariableW(wide, NULL)",
          "new_text": "xutftowcs(wide, namevalue, size)",
          "old_line_content": "\t\tresult = SetEnvironmentVariableW(wide, NULL);",
          "new_line_content": "\txutftowcs(wide, namevalue, size);",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": "GetLastError",
          "new_api": "free",
          "old_text": "GetLastError()",
          "new_text": "free(wide)",
          "old_line_content": "\t\terrno = err_win_to_posix(GetLastError());",
          "new_line_content": "\tfree(wide);",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": "atexit",
          "new_api": "die",
          "old_text": "atexit((void(*)(void)) WSACleanup)",
          "new_text": "die(\"unable to initialize winsock subsystem, error %d\",\n\t\t\tWSAGetLastError())",
          "old_line_content": "\tatexit((void(*)(void)) WSACleanup);",
          "new_line_content": "\t\tdie(\"unable to initialize winsock subsystem, error %d\",",
          "content_same": false
        },
        {
          "line": 2017,
          "old_api": "strerror",
          "new_api": "_open_osfhandle",
          "old_text": "strerror(errno)",
          "new_text": "_open_osfhandle(s, O_RDWR|O_BINARY)",
          "old_line_content": "\t\t\tstrerror(errno));",
          "new_line_content": "\tif ((sockfd = _open_osfhandle(s, O_RDWR|O_BINARY)) < 0) {",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": "_open_osfhandle",
          "new_api": "accept",
          "old_text": "_open_osfhandle(s2, O_RDWR|O_BINARY)",
          "new_text": "accept(s1, sa, sz)",
          "old_line_content": "\tif ((sockfd2 = _open_osfhandle(s2, O_RDWR|O_BINARY)) < 0) {",
          "new_line_content": "\tSOCKET s2 = accept(s1, sa, sz);",
          "content_same": false
        },
        {
          "line": 2069,
          "old_api": "error",
          "new_api": "_open_osfhandle",
          "old_text": "error(\"unable to make a socket file descriptor: %s\",\n\t\t\tstrerror(err))",
          "new_text": "_open_osfhandle(s2, O_RDWR|O_BINARY)",
          "old_line_content": "\t\treturn error(\"unable to make a socket file descriptor: %s\",",
          "new_line_content": "\tif ((sockfd2 = _open_osfhandle(s2, O_RDWR|O_BINARY)) < 0) {",
          "content_same": false
        },
        {
          "line": 2096,
          "old_api": "GetLastError",
          "new_api": "MoveFileExW",
          "old_text": "GetLastError()",
          "new_text": "MoveFileExW(wpold, wpnew, MOVEFILE_REPLACE_EXISTING)",
          "old_line_content": "\tgle = GetLastError();",
          "new_line_content": "\tif (MoveFileExW(wpold, wpnew, MOVEFILE_REPLACE_EXISTING))",
          "content_same": false
        },
        {
          "line": 2112,
          "old_api": "GetLastError",
          "new_api": "SetFileAttributesW",
          "old_text": "GetLastError()",
          "new_text": "SetFileAttributesW(wpnew, attrs & ~FILE_ATTRIBUTE_READONLY)",
          "old_line_content": "\t\t\tgle = GetLastError();",
          "new_line_content": "\t\t    SetFileAttributesW(wpnew, attrs & ~FILE_ATTRIBUTE_READONLY)) {",
          "content_same": false
        },
        {
          "line": 2117,
          "old_api": "ARRAY_SIZE",
          "new_api": "SetFileAttributesW",
          "old_text": "ARRAY_SIZE(delay)",
          "new_text": "SetFileAttributesW(wpnew, attrs)",
          "old_line_content": "\tif (tries < ARRAY_SIZE(delay) && gle == ERROR_ACCESS_DENIED) {",
          "new_line_content": "\t\t\tSetFileAttributesW(wpnew, attrs);",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": "ARRAY_SIZE",
          "new_api": "INIT_PROC_ADDR",
          "old_text": "ARRAY_SIZE(wbuffer)",
          "new_text": "INIT_PROC_ADDR(GetUserNameExW)",
          "old_line_content": "\tlen = ARRAY_SIZE(wbuffer);",
          "new_line_content": "\tif (!INIT_PROC_ADDR(GetUserNameExW))",
          "content_same": false
        },
        {
          "line": 2169,
          "old_api": "xwcstoutf",
          "new_api": "ARRAY_SIZE",
          "old_text": "xwcstoutf(converted, wbuffer, len)",
          "new_text": "ARRAY_SIZE(wbuffer)",
          "old_line_content": "\t\tif (xwcstoutf(converted, wbuffer, len) >= 0)",
          "new_line_content": "\tlen = ARRAY_SIZE(wbuffer);",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": "free",
          "new_api": "xmalloc",
          "old_text": "free(converted)",
          "new_text": "xmalloc((len *= 3))",
          "old_line_content": "\t\tfree(converted);",
          "new_line_content": "\t\tchar *converted = xmalloc((len *= 3));",
          "content_same": false
        },
        {
          "line": 2247,
          "old_api": "error",
          "new_api": "_beginthreadex",
          "old_text": "error(\"cannot start timer thread\")",
          "new_text": "_beginthreadex(NULL, 0, ticktack, NULL, 0, NULL)",
          "old_line_content": "\t\t\t\terror(\"cannot start timer thread\");",
          "new_line_content": "\t\ttimer_thread = (HANDLE) _beginthreadex(NULL, 0, ticktack, NULL, 0, NULL);",
          "content_same": false
        },
        {
          "line": 2264,
          "old_api": "GetLastError",
          "new_api": "error",
          "old_text": "GetLastError()",
          "new_text": "error(\"timer thread did not terminate timely\")",
          "old_line_content": "\t\t\t      GetLastError());",
          "new_line_content": "\t\t\terror(\"timer thread did not terminate timely\");",
          "content_same": false
        },
        {
          "line": 2289,
          "old_api": "error",
          "new_api": "is_timeval_eq",
          "old_text": "error(\"setitimer: it_interval must be zero or eq it_value\")",
          "new_text": "is_timeval_eq(&in->it_interval, &zero)",
          "old_line_content": "\t\t\terror(\"setitimer: it_interval must be zero or eq it_value\");",
          "new_line_content": "\tif (!is_timeval_eq(&in->it_interval, &zero) &&",
          "content_same": false
        },
        {
          "line": 2292,
          "old_api": "stop_timer_thread",
          "new_api": "error",
          "old_text": "stop_timer_thread()",
          "new_text": "error(\"setitimer: it_interval must be zero or eq it_value\")",
          "old_line_content": "\t\tstop_timer_thread();",
          "new_line_content": "\t\t\terror(\"setitimer: it_interval must be zero or eq it_value\");",
          "content_same": false
        },
        {
          "line": 2295,
          "old_api": "is_timeval_eq",
          "new_api": "stop_timer_thread",
          "old_text": "is_timeval_eq(&in->it_interval, &zero)",
          "new_text": "stop_timer_thread()",
          "old_line_content": "\t    is_timeval_eq(&in->it_interval, &zero))",
          "new_line_content": "\t\tstop_timer_thread();",
          "content_same": false
        },
        {
          "line": 2304,
          "old_api": "start_timer_thread",
          "new_api": "atexit",
          "old_text": "start_timer_thread()",
          "new_text": "atexit(stop_timer_thread)",
          "old_line_content": "\treturn start_timer_thread();",
          "new_line_content": "\t\tatexit(stop_timer_thread);",
          "content_same": false
        },
        {
          "line": 2353,
          "old_api": "timer_fn",
          "new_api": "fputs",
          "old_text": "timer_fn(SIGALRM)",
          "new_text": "fputs(\"Alarm clock\\n\", stderr)",
          "old_line_content": "\t\t\ttimer_fn(SIGALRM);",
          "new_line_content": "\t\t\t\tfputs(\"Alarm clock\\n\", stderr);",
          "content_same": false
        },
        {
          "line": 2400,
          "old_api": "CreateHardLinkW",
          "new_api": "xutftowcs_path",
          "old_text": "CreateHardLinkW(wnewpath, woldpath, NULL)",
          "new_text": "xutftowcs_path(wnewpath, newpath)",
          "old_line_content": "\tif (!CreateHardLinkW(wnewpath, woldpath, NULL)) {",
          "new_line_content": "\t\txutftowcs_path(wnewpath, newpath) < 0)",
          "content_same": false
        },
        {
          "line": 2553,
          "old_api": "setenv",
          "new_api": "getenv",
          "old_text": "setenv(\"TMPDIR\", tmp, 1)",
          "new_text": "getenv(\"TMP\")",
          "old_line_content": "\t\t\tsetenv(\"TMPDIR\", tmp, 1);",
          "new_line_content": "\t\tif (!(tmp = getenv(\"TMP\")))",
          "content_same": false
        },
        {
          "line": 2573,
          "old_api": "getenv",
          "new_api": "setenv",
          "old_text": "getenv(\"HOME\")",
          "new_text": "setenv(\"TERM\", \"cygwin\", 1)",
          "old_line_content": "\tif (!getenv(\"HOME\")) {",
          "new_line_content": "\t\tsetenv(\"TERM\", \"cygwin\", 1);",
          "content_same": false
        },
        {
          "line": 2584,
          "old_api": "is_directory",
          "new_api": "strbuf_addstr",
          "old_text": "is_directory(buf.buf)",
          "new_text": "strbuf_addstr(&buf, tmp)",
          "old_line_content": "\t\t\t\tif (is_directory(buf.buf))",
          "new_line_content": "\t\t\tstrbuf_addstr(&buf, tmp);",
          "content_same": false
        },
        {
          "line": 2585,
          "old_api": "setenv",
          "new_api": "getenv",
          "old_text": "setenv(\"HOME\", buf.buf, 1)",
          "new_text": "getenv(\"HOMEPATH\")",
          "old_line_content": "\t\t\t\t\tsetenv(\"HOME\", buf.buf, 1);",
          "new_line_content": "\t\t\tif ((tmp = getenv(\"HOMEPATH\"))) {",
          "content_same": false
        },
        {
          "line": 2592,
          "old_api": "getenv",
          "new_api": "strbuf_release",
          "old_text": "getenv(\"USERPROFILE\")",
          "new_text": "strbuf_release(&buf)",
          "old_line_content": "\t\tif (!tmp && (tmp = getenv(\"USERPROFILE\")))",
          "new_line_content": "\t\t\tstrbuf_release(&buf);",
          "content_same": false
        },
        {
          "line": 2765,
          "old_api": "GetStdHandle",
          "new_api": "SetEnvironmentVariableW",
          "old_text": "GetStdHandle(std_id)",
          "new_text": "SetEnvironmentVariableW(key, NULL)",
          "old_line_content": "\t\thandle = GetStdHandle(std_id);",
          "new_line_content": "\tSetEnvironmentVariableW(key, NULL);",
          "content_same": false
        },
        {
          "line": 2767,
          "old_api": "CloseHandle",
          "new_api": "close",
          "old_text": "CloseHandle(handle)",
          "new_text": "close(fd)",
          "old_line_content": "\t\t\tCloseHandle(handle);",
          "new_line_content": "\t\tclose(fd);",
          "content_same": false
        },
        {
          "line": 2770,
          "old_api": "wcscmp",
          "new_api": "CloseHandle",
          "old_text": "wcscmp(buf, L\"2>&1\")",
          "new_text": "CloseHandle(handle)",
          "old_line_content": "\tif (std_id == STD_ERROR_HANDLE && !wcscmp(buf, L\"2>&1\")) {",
          "new_line_content": "\t\t\tCloseHandle(handle);",
          "content_same": false
        },
        {
          "line": 2773,
          "old_api": "close",
          "new_api": "wcscmp",
          "old_text": "close(fd)",
          "new_text": "wcscmp(buf, L\"2>&1\")",
          "old_line_content": "\t\t\tclose(fd);",
          "new_line_content": "\tif (std_id == STD_ERROR_HANDLE && !wcscmp(buf, L\"2>&1\")) {",
          "content_same": false
        },
        {
          "line": 2776,
          "old_api": "CloseHandle",
          "new_api": "close",
          "old_text": "CloseHandle(handle)",
          "new_text": "close(fd)",
          "old_line_content": "\t\t\t\tCloseHandle(handle);",
          "new_line_content": "\t\t\tclose(fd);",
          "content_same": false
        },
        {
          "line": 2779,
          "old_api": "SetStdHandle",
          "new_api": "CloseHandle",
          "old_text": "SetStdHandle(std_id, handle)",
          "new_text": "CloseHandle(handle)",
          "old_line_content": "\t\t\tSetStdHandle(std_id, handle);",
          "new_line_content": "\t\t\t\tCloseHandle(handle);",
          "content_same": false
        },
        {
          "line": 2788,
          "old_api": "_open_osfhandle",
          "new_api": "CreateFileW",
          "old_text": "_open_osfhandle((intptr_t)handle, O_BINARY)",
          "new_text": "CreateFileW(buf, desired_access, 0, NULL, create_flag,\n\t\t\t     flags, NULL)",
          "old_line_content": "\t\tint new_fd = _open_osfhandle((intptr_t)handle, O_BINARY);",
          "new_line_content": "\thandle = CreateFileW(buf, desired_access, 0, NULL, create_flag,",
          "content_same": false
        },
        {
          "line": 2791,
          "old_api": "close",
          "new_api": "_open_osfhandle",
          "old_text": "close(new_fd)",
          "new_text": "_open_osfhandle((intptr_t)handle, O_BINARY)",
          "old_line_content": "\t\tclose(new_fd);",
          "new_line_content": "\t\tint new_fd = _open_osfhandle((intptr_t)handle, O_BINARY);",
          "content_same": false
        },
        {
          "line": 2841,
          "old_api": "wcslen",
          "new_api": "maybe_redirect_std_handles",
          "old_text": "wcslen(wargv[0])",
          "new_text": "maybe_redirect_std_handles()",
          "old_line_content": "\tmaxlen = wcslen(wargv[0]);",
          "new_line_content": "\tmaybe_redirect_std_handles();",
          "content_same": false
        },
        {
          "line": 2857,
          "old_api": "wcstoutfdup_startup",
          "new_api": "ALLOC_ARRAY",
          "old_text": "wcstoutfdup_startup(buffer, wargv[i], maxlen)",
          "new_text": "ALLOC_ARRAY(argv, argc + 1)",
          "old_line_content": "\t\targv[i] = save[i] = wcstoutfdup_startup(buffer, wargv[i], maxlen);",
          "new_line_content": "\tALLOC_ARRAY(argv, argc + 1);",
          "content_same": false
        },
        {
          "line": 2862,
          "old_api": "setup_windows_environment",
          "new_api": "free",
          "old_text": "setup_windows_environment()",
          "new_text": "free(buffer)",
          "old_line_content": "\tsetup_windows_environment();",
          "new_line_content": "\tfree(buffer);",
          "content_same": false
        },
        {
          "line": 2867,
          "old_api": "InitializeCriticalSection",
          "new_api": "xstrdup",
          "old_text": "InitializeCriticalSection(&pinfo_cs)",
          "new_text": "xstrdup(\"PERL5LIB\")",
          "old_line_content": "\tInitializeCriticalSection(&pinfo_cs);",
          "new_line_content": "\tunset_environment_variables = xstrdup(\"PERL5LIB\");",
          "content_same": false
        },
        {
          "line": 2876,
          "old_api": "winansi_init",
          "new_api": "_fileno",
          "old_text": "winansi_init()",
          "new_text": "_fileno(stderr)",
          "old_line_content": "\twinansi_init();",
          "new_line_content": "\t_setmode(_fileno(stderr), _O_BINARY);",
          "content_same": false
        },
        {
          "line": 2879,
          "old_api": "main",
          "new_api": "winansi_init",
          "old_text": "main(argc, argv)",
          "new_text": "winansi_init()",
          "old_line_content": "\texit_status = main(argc, argv);",
          "new_line_content": "\twinansi_init();",
          "content_same": false
        },
        {
          "line": 2882,
          "old_api": "free",
          "new_api": "main",
          "old_text": "free(save[i])",
          "new_text": "main(argc, argv)",
          "old_line_content": "\t\tfree(save[i]);",
          "new_line_content": "\texit_status = main(argc, argv);",
          "content_same": false
        },
        {
          "line": 2894,
          "old_api": "xsnprintf",
          "new_api": "GetVersion",
          "old_text": "xsnprintf(buf->release, sizeof(buf->release),\n\t\t \"%u.%u\", v & 0xff, (v >> 8) & 0xff)",
          "new_text": "GetVersion()",
          "old_line_content": "\txsnprintf(buf->release, sizeof(buf->release),",
          "new_line_content": "\tunsigned v = (unsigned)GetVersion();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2049,
          "old_api": null,
          "new_api": "_get_osfhandle",
          "old_text": null,
          "new_text": "_get_osfhandle(sockfd)",
          "old_line_content": "",
          "new_line_content": "\tSOCKET s = (SOCKET)_get_osfhandle(sockfd);",
          "content_same": false
        },
        {
          "line": 2050,
          "old_api": null,
          "new_api": "shutdown",
          "old_text": null,
          "new_text": "shutdown(s, how)",
          "old_line_content": "#undef listen",
          "new_line_content": "\treturn shutdown(s, how);",
          "content_same": false
        },
        {
          "line": 2056,
          "old_api": null,
          "new_api": "_get_osfhandle",
          "old_text": null,
          "new_text": "_get_osfhandle(sockfd)",
          "old_line_content": "",
          "new_line_content": "\tSOCKET s = (SOCKET)_get_osfhandle(sockfd);",
          "content_same": false
        },
        {
          "line": 2057,
          "old_api": null,
          "new_api": "listen",
          "old_text": null,
          "new_text": "listen(s, backlog)",
          "old_line_content": "#undef accept",
          "new_line_content": "\treturn listen(s, backlog);",
          "content_same": false
        },
        {
          "line": 2065,
          "old_api": null,
          "new_api": "_get_osfhandle",
          "old_text": null,
          "new_text": "_get_osfhandle(sockfd1)",
          "old_line_content": "\t/* convert into a file descriptor */",
          "new_line_content": "\tSOCKET s1 = (SOCKET)_get_osfhandle(sockfd1);",
          "content_same": false
        },
        {
          "line": 2071,
          "old_api": null,
          "new_api": "closesocket",
          "old_text": null,
          "new_text": "closesocket(s2)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tclosesocket(s2);",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"unable to make a socket file descriptor: %s\",\n\t\t\tstrerror(err))",
          "old_line_content": "\treturn sockfd2;",
          "new_line_content": "\t\treturn error(\"unable to make a socket file descriptor: %s\",",
          "content_same": false
        },
        {
          "line": 2073,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(err)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tstrerror(err));",
          "content_same": false
        },
        {
          "line": 2084,
          "old_api": null,
          "new_api": "xutftowcs_path",
          "old_text": null,
          "new_text": "xutftowcs_path(wpnew, pnew)",
          "old_line_content": "\t/*",
          "new_line_content": "\tif (xutftowcs_path(wpold, pold) < 0 || xutftowcs_path(wpnew, pnew) < 0)",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": null,
          "new_api": "_wrename",
          "old_text": null,
          "new_text": "_wrename(wpold, wpnew)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\tif (!_wrename(wpold, wpnew))",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t\tif (attrs & FILE_ATTRIBUTE_DIRECTORY) {",
          "new_line_content": "\tgle = GetLastError();",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": null,
          "new_api": "GetFileAttributesW",
          "old_text": null,
          "new_text": "GetFileAttributesW(wpnew)",
          "old_line_content": "\t\t\tif (attrsold == INVALID_FILE_ATTRIBUTES ||",
          "new_line_content": "\t    (attrs = GetFileAttributesW(wpnew)) != INVALID_FILE_ATTRIBUTES) {",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": null,
          "new_api": "GetFileAttributesW",
          "old_text": null,
          "new_text": "GetFileAttributesW(wpold)",
          "old_line_content": "\t\t\t\terrno = EISDIR;",
          "new_line_content": "\t\t\tDWORD attrsold = GetFileAttributesW(wpold);",
          "content_same": false
        },
        {
          "line": 2107,
          "old_api": null,
          "new_api": "_wrmdir",
          "old_text": null,
          "new_text": "_wrmdir(wpnew)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\telse if (!_wrmdir(wpnew))",
          "content_same": false
        },
        {
          "line": 2113,
          "old_api": null,
          "new_api": "MoveFileExW",
          "old_text": null,
          "new_text": "MoveFileExW(wpold, wpnew, MOVEFILE_REPLACE_EXISTING)",
          "old_line_content": "\t\t\t/* revert file attributes on failure */",
          "new_line_content": "\t\t\tif (MoveFileExW(wpold, wpnew, MOVEFILE_REPLACE_EXISTING))",
          "content_same": false
        },
        {
          "line": 2115,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tgle = GetLastError();",
          "content_same": false
        },
        {
          "line": 2120,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(delay)",
          "old_line_content": "\t\t * destination file open at the wrong moment and retry.",
          "new_line_content": "\tif (tries < ARRAY_SIZE(delay) && gle == ERROR_ACCESS_DENIED) {",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": null,
          "new_api": "Sleep",
          "old_text": null,
          "new_text": "Sleep(delay[tries])",
          "old_line_content": "\t}",
          "new_line_content": "\t\tSleep(delay[tries]);",
          "content_same": false
        },
        {
          "line": 2133,
          "old_api": null,
          "new_api": "ask_yes_no_if_possible",
          "old_text": null,
          "new_text": "ask_yes_no_if_possible(\"Rename from '%s' to '%s' failed. \"\n\t\t       \"Should I try again?\", pold, pnew)",
          "old_line_content": "",
          "new_line_content": "\t       ask_yes_no_if_possible(\"Rename from '%s' to '%s' failed. \"",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": null,
          "new_api": "GetSystemInfo",
          "old_text": null,
          "new_text": "GetSystemInfo(&si)",
          "old_line_content": "",
          "new_line_content": "\tGetSystemInfo(&si);",
          "content_same": false
        },
        {
          "line": 2161,
          "old_api": null,
          "new_api": "DECLARE_PROC_ADDR",
          "old_text": null,
          "new_text": "DECLARE_PROC_ADDR(secur32.dll, BOOL, GetUserNameExW,\n\t\tenum EXTENDED_NAME_FORMAT, LPCWSTR, PULONG)",
          "old_line_content": "\tDWORD len;",
          "new_line_content": "\tDECLARE_PROC_ADDR(secur32.dll, BOOL, GetUserNameExW,",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": null,
          "new_api": "GetUserNameExW",
          "old_text": null,
          "new_text": "GetUserNameExW(type, wbuffer, &len)",
          "old_line_content": "\t\t\treturn converted;",
          "new_line_content": "\tif (GetUserNameExW(type, wbuffer, &len)) {",
          "content_same": false
        },
        {
          "line": 2172,
          "old_api": null,
          "new_api": "xwcstoutf",
          "old_text": null,
          "new_text": "xwcstoutf(converted, wbuffer, len)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (xwcstoutf(converted, wbuffer, len) >= 0)",
          "content_same": false
        },
        {
          "line": 2174,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(converted)",
          "old_line_content": "\treturn NULL;",
          "new_line_content": "\t\tfree(converted);",
          "content_same": false
        },
        {
          "line": 2182,
          "old_api": null,
          "new_api": "get_extended_user_info",
          "old_text": null,
          "new_text": "get_extended_user_info(NameUserPrincipal)",
          "old_line_content": "struct passwd *getpwuid(int uid)",
          "new_line_content": "\treturn get_extended_user_info(NameUserPrincipal);",
          "content_same": false
        },
        {
          "line": 2196,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(buf)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\tlen = ARRAY_SIZE(buf);",
          "content_same": false
        },
        {
          "line": 2197,
          "old_api": null,
          "new_api": "GetUserNameW",
          "old_text": null,
          "new_text": "GetUserNameW(buf, &len)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!GetUserNameW(buf, &len)) {",
          "content_same": false
        },
        {
          "line": 2202,
          "old_api": null,
          "new_api": "xwcstoutf",
          "old_text": null,
          "new_text": "xwcstoutf(user_name, buf, sizeof(user_name))",
          "old_line_content": "\t}",
          "new_line_content": "\tif (xwcstoutf(user_name, buf, sizeof(user_name)) < 0) {",
          "content_same": false
        },
        {
          "line": 2207,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(sizeof(*p))",
          "old_line_content": "\tif (!p->pw_gecos)",
          "new_line_content": "\tp = xmalloc(sizeof(*p));",
          "content_same": false
        },
        {
          "line": 2209,
          "old_api": null,
          "new_api": "get_extended_user_info",
          "old_text": null,
          "new_text": "get_extended_user_info(NameDisplay)",
          "old_line_content": "\tp->pw_dir = NULL;",
          "new_line_content": "\tp->pw_gecos = get_extended_user_info(NameDisplay);",
          "content_same": false
        },
        {
          "line": 2235,
          "old_api": null,
          "new_api": "WaitForSingleObject",
          "old_text": null,
          "new_text": "WaitForSingleObject(timer_event, timer_interval)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\twhile (WaitForSingleObject(timer_event, timer_interval) == WAIT_TIMEOUT) {",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": null,
          "new_api": "mingw_raise",
          "old_text": null,
          "new_text": "mingw_raise(SIGALRM)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmingw_raise(SIGALRM);",
          "content_same": false
        },
        {
          "line": 2245,
          "old_api": null,
          "new_api": "CreateEvent",
          "old_text": null,
          "new_text": "CreateEvent(NULL, FALSE, FALSE, NULL)",
          "old_line_content": "\t\tif (!timer_thread )",
          "new_line_content": "\ttimer_event = CreateEvent(NULL, FALSE, FALSE, NULL);",
          "content_same": false
        },
        {
          "line": 2253,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"cannot allocate resources for timer\")",
          "old_line_content": "",
          "new_line_content": "\t\t\terror(\"cannot allocate resources for timer\");",
          "content_same": false
        },
        {
          "line": 2260,
          "old_api": null,
          "new_api": "SetEvent",
          "old_text": null,
          "new_text": "SetEvent(timer_event)",
          "old_line_content": "\t\tif (rc == WAIT_TIMEOUT)",
          "new_line_content": "\t\tSetEvent(timer_event);\t/* tell thread to terminate */",
          "content_same": false
        },
        {
          "line": 2262,
          "old_api": null,
          "new_api": "WaitForSingleObject",
          "old_text": null,
          "new_text": "WaitForSingleObject(timer_thread, 10000)",
          "old_line_content": "\t\telse if (rc != WAIT_OBJECT_0)",
          "new_line_content": "\t\tint rc = WaitForSingleObject(timer_thread, 10000);",
          "content_same": false
        },
        {
          "line": 2266,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"waiting for timer thread failed: %lu\",\n\t\t\t      GetLastError())",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\terror(\"waiting for timer thread failed: %lu\",",
          "content_same": false
        },
        {
          "line": 2267,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\tif (timer_event)",
          "new_line_content": "\t\t\t      GetLastError());",
          "content_same": false
        },
        {
          "line": 2271,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(timer_event)",
          "old_line_content": "}",
          "new_line_content": "\t\tCloseHandle(timer_event);",
          "content_same": false
        },
        {
          "line": 2288,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"setitimer param 3 != NULL not implemented\")",
          "old_line_content": "\t\treturn errno = EINVAL,",
          "new_line_content": "\t\t\terror(\"setitimer param 3 != NULL not implemented\");",
          "content_same": false
        },
        {
          "line": 2290,
          "old_api": null,
          "new_api": "is_timeval_eq",
          "old_text": null,
          "new_text": "is_timeval_eq(&in->it_interval, &in->it_value)",
          "old_line_content": "",
          "new_line_content": "\t    !is_timeval_eq(&in->it_interval, &in->it_value))",
          "content_same": false
        },
        {
          "line": 2297,
          "old_api": null,
          "new_api": "is_timeval_eq",
          "old_text": null,
          "new_text": "is_timeval_eq(&in->it_value, &zero)",
          "old_line_content": "",
          "new_line_content": "\tif (is_timeval_eq(&in->it_value, &zero) &&",
          "content_same": false
        },
        {
          "line": 2298,
          "old_api": null,
          "new_api": "is_timeval_eq",
          "old_text": null,
          "new_text": "is_timeval_eq(&in->it_interval, &zero)",
          "old_line_content": "\ttimer_interval = in->it_value.tv_sec * 1000 + in->it_value.tv_usec / 1000;",
          "new_line_content": "\t    is_timeval_eq(&in->it_interval, &zero))",
          "content_same": false
        },
        {
          "line": 2302,
          "old_api": null,
          "new_api": "is_timeval_eq",
          "old_text": null,
          "new_text": "is_timeval_eq(&in->it_interval, &zero)",
          "old_line_content": "\t\tatexit_done = 1;",
          "new_line_content": "\tone_shot = is_timeval_eq(&in->it_interval, &zero);",
          "content_same": false
        },
        {
          "line": 2307,
          "old_api": null,
          "new_api": "start_timer_thread",
          "old_text": null,
          "new_text": "start_timer_thread()",
          "old_line_content": "int sigaction(int sig, struct sigaction *in, struct sigaction *out)",
          "new_line_content": "\treturn start_timer_thread();",
          "content_same": false
        },
        {
          "line": 2317,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"sigaction: param 3 != NULL not implemented\")",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\t\terror(\"sigaction: param 3 != NULL not implemented\");",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": null,
          "new_api": "signal",
          "old_text": null,
          "new_text": "signal(sig, handler)",
          "old_line_content": "\treturn old;",
          "new_line_content": "\t\treturn signal(sig, handler);",
          "content_same": false
        },
        {
          "line": 293,
          "old_api": null,
          "new_api": "DeleteFileW",
          "old_text": null,
          "new_text": "DeleteFileW(wpathname)",
          "old_line_content": "\t/* read-only files cannot be removed */",
          "new_line_content": "\tif (DeleteFileW(wpathname))",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": null,
          "new_api": "_wchmod",
          "old_text": null,
          "new_text": "_wchmod(wpathname, 0666)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t_wchmod(wpathname, 0666);",
          "content_same": false
        },
        {
          "line": 298,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(delay)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\twhile ((ret = _wunlink(wpathname)) == -1 && tries < ARRAY_SIZE(delay)) {",
          "content_same": false
        },
        {
          "line": 299,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t\t * We assume that some other process had the source or",
          "new_line_content": "\t\tif (!is_file_in_use_error(GetLastError()))",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": null,
          "new_api": "isatty",
          "old_text": null,
          "new_text": "isatty(STDERR_FILENO)",
          "old_line_content": "\t\t} else if (timer_fn != SIG_IGN)",
          "new_line_content": "\t\t\tif (isatty(STDERR_FILENO))",
          "content_same": false
        },
        {
          "line": 2354,
          "old_api": null,
          "new_api": "exit",
          "old_text": null,
          "new_text": "exit(128 + SIGALRM)",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\t\t\texit(128 + SIGALRM);",
          "content_same": false
        },
        {
          "line": 2356,
          "old_api": null,
          "new_api": "timer_fn",
          "old_text": null,
          "new_text": "timer_fn(SIGALRM)",
          "old_line_content": "\tcase SIGINT:",
          "new_line_content": "\t\t\ttimer_fn(SIGALRM);",
          "content_same": false
        },
        {
          "line": 312,
          "old_api": null,
          "new_api": "ask_yes_no_if_possible",
          "old_text": null,
          "new_text": "ask_yes_no_if_possible(\"Unlink of file '%s' failed. \"\n\t\t\t\"Should I try again?\", pathname)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\t       ask_yes_no_if_possible(\"Unlink of file '%s' failed. \"",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": null,
          "new_api": "exit",
          "old_text": null,
          "new_text": "exit(128 + SIGINT)",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\t\t\texit(128 + SIGINT);",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": null,
          "new_api": "_wunlink",
          "old_text": null,
          "new_text": "_wunlink(wpathname)",
          "old_line_content": "",
          "new_line_content": "\t       ret = _wunlink(wpathname);",
          "content_same": false
        },
        {
          "line": 2363,
          "old_api": null,
          "new_api": "sigint_fn",
          "old_text": null,
          "new_text": "sigint_fn(SIGINT)",
          "old_line_content": "#if defined(_MSC_VER)",
          "new_line_content": "\t\t\tsigint_fn(SIGINT);",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": null,
          "new_api": "wcscpy",
          "old_text": null,
          "new_text": "wcscpy(wbuf, wpath)",
          "old_line_content": "\tif (handle == INVALID_HANDLE_VALUE)",
          "new_line_content": "\twcscpy(wbuf, wpath);",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": null,
          "new_api": "FindFirstFileW",
          "old_text": null,
          "new_text": "FindFirstFileW(wbuf, &findbuf)",
          "old_line_content": "",
          "new_line_content": "\thandle = FindFirstFileW(wbuf, &findbuf);",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": null,
          "new_api": "FindNextFileW",
          "old_text": null,
          "new_text": "FindNextFileW(handle, &findbuf)",
          "old_line_content": "\t\t\treturn err == ERROR_NO_MORE_FILES;",
          "new_line_content": "\t\tif (!FindNextFileW(handle, &findbuf)) {",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tDWORD err = GetLastError();",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": null,
          "new_api": "raise",
          "old_text": null,
          "new_text": "raise(sig)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\t\treturn raise(sig);",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": null,
          "new_api": "FindClose",
          "old_text": null,
          "new_text": "FindClose(handle)",
          "old_line_content": "",
          "new_line_content": "\tFindClose(handle);",
          "content_same": false
        },
        {
          "line": 2389,
          "old_api": null,
          "new_api": "raise",
          "old_text": null,
          "new_text": "raise(sig)",
          "old_line_content": "",
          "new_line_content": "\t\treturn raise(sig);",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(delay)",
          "old_line_content": "\t\tif (errno != EACCES)",
          "new_line_content": "\twhile ((ret = _wrmdir(wpathname)) == -1 && tries < ARRAY_SIZE(delay)) {",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\tif (!is_file_in_use_error(GetLastError()))",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": null,
          "new_api": "xutftowcs_path",
          "old_text": null,
          "new_text": "xutftowcs_path(woldpath, oldpath)",
          "old_line_content": "",
          "new_line_content": "\tif (xutftowcs_path(woldpath, oldpath) < 0 ||",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": null,
          "new_api": "is_dir_empty",
          "old_text": null,
          "new_text": "is_dir_empty(wpathname)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (!is_dir_empty(wpathname)) {",
          "content_same": false
        },
        {
          "line": 2403,
          "old_api": null,
          "new_api": "CreateHardLinkW",
          "old_text": null,
          "new_text": "CreateHardLinkW(wnewpath, woldpath, NULL)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!CreateHardLinkW(wnewpath, woldpath, NULL)) {",
          "content_same": false
        },
        {
          "line": 2404,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\terrno = err_win_to_posix(GetLastError());",
          "content_same": false
        },
        {
          "line": 2412,
          "old_api": null,
          "new_api": "OpenProcess",
          "old_text": null,
          "new_text": "OpenProcess(SYNCHRONIZE | PROCESS_QUERY_INFORMATION,\n\t    FALSE, pid)",
          "old_line_content": "\t\terrno = ECHILD;",
          "new_line_content": "\tHANDLE h = OpenProcess(SYNCHRONIZE | PROCESS_QUERY_INFORMATION,",
          "content_same": false
        },
        {
          "line": 367,
          "old_api": null,
          "new_api": "ask_yes_no_if_possible",
          "old_text": null,
          "new_text": "ask_yes_no_if_possible(\"Deletion of directory '%s' failed. \"\n\t\t\t\"Should I try again?\", pathname)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\t       ask_yes_no_if_possible(\"Deletion of directory '%s' failed. \"",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": null,
          "new_api": "_wrmdir",
          "old_text": null,
          "new_text": "_wrmdir(wpathname)",
          "old_line_content": "",
          "new_line_content": "\t       ret = _wrmdir(wpathname);",
          "content_same": false
        },
        {
          "line": 2420,
          "old_api": null,
          "new_api": "WaitForSingleObject",
          "old_text": null,
          "new_text": "WaitForSingleObject(h, 0)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (WAIT_OBJECT_0 != WaitForSingleObject(h, 0)) {",
          "content_same": false
        },
        {
          "line": 2421,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(h)",
          "old_line_content": "\t\toptions &= ~WNOHANG;",
          "new_line_content": "\t\t\tCloseHandle(h);",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": null,
          "new_api": "win32_skip_dos_drive_prefix",
          "old_text": null,
          "new_text": "win32_skip_dos_drive_prefix((char **)&path)",
          "old_line_content": "",
          "new_line_content": "\twin32_skip_dos_drive_prefix((char **)&path);",
          "content_same": false
        },
        {
          "line": 2429,
          "old_api": null,
          "new_api": "WaitForSingleObject",
          "old_text": null,
          "new_text": "WaitForSingleObject(h, INFINITE)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (WaitForSingleObject(h, INFINITE) != WAIT_OBJECT_0) {",
          "content_same": false
        },
        {
          "line": 2430,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(h)",
          "old_line_content": "",
          "new_line_content": "\t\t\tCloseHandle(h);",
          "content_same": false
        },
        {
          "line": 2435,
          "old_api": null,
          "new_api": "GetExitCodeProcess",
          "old_text": null,
          "new_text": "GetExitCodeProcess(h, (LPDWORD)status)",
          "old_line_content": "",
          "new_line_content": "\t\t\tGetExitCodeProcess(h, (LPDWORD)status);",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(*path)",
          "old_line_content": "\t\t\t\tbasename = path;",
          "new_line_content": "\t\t\t} while (is_dir_sep(*path));",
          "content_same": false
        },
        {
          "line": 2437,
          "old_api": null,
          "new_api": "EnterCriticalSection",
          "old_text": null,
          "new_text": "EnterCriticalSection(&pinfo_cs)",
          "old_line_content": "\t\twhile (*ppinfo) {",
          "new_line_content": "\t\tEnterCriticalSection(&pinfo_cs);",
          "content_same": false
        },
        {
          "line": 2443,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(info->proc)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tCloseHandle(info->proc);",
          "content_same": false
        },
        {
          "line": 2445,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(info)",
          "old_line_content": "\t\t\tppinfo = &info->next;",
          "new_line_content": "\t\t\t\tfree(info);",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(hide_dotfiles == HIDE_DOTFILES_DOTGITONLY)",
          "old_line_content": "}",
          "new_line_content": "\tassert(hide_dotfiles == HIDE_DOTFILES_DOTGITONLY);",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": null,
          "new_api": "strncasecmp",
          "old_text": null,
          "new_text": "strncasecmp(\".git\", basename, 4)",
          "old_line_content": "",
          "new_line_content": "\treturn !strncasecmp(\".git\", basename, 4) &&",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(basename[4])",
          "old_line_content": "static int set_hidden_flag(const wchar_t *path, int set)",
          "new_line_content": "\t\t(!basename[4] || is_dir_sep(basename[4]));",
          "content_same": false
        },
        {
          "line": 2451,
          "old_api": null,
          "new_api": "LeaveCriticalSection",
          "old_text": null,
          "new_text": "LeaveCriticalSection(&pinfo_cs)",
          "old_line_content": "\t\treturn pid;",
          "new_line_content": "\t\tLeaveCriticalSection(&pinfo_cs);",
          "content_same": false
        },
        {
          "line": 407,
          "old_api": null,
          "new_api": "GetFileAttributesW",
          "old_text": null,
          "new_text": "GetFileAttributesW(path)",
          "old_line_content": "\telse",
          "new_line_content": "\tDWORD original = GetFileAttributesW(path), modified;",
          "content_same": false
        },
        {
          "line": 2456,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(h)",
          "old_line_content": "\treturn -1;",
          "new_line_content": "\tCloseHandle(h);",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": null,
          "new_api": "SetFileAttributesW",
          "old_text": null,
          "new_text": "SetFileAttributesW(path, modified)",
          "old_line_content": "\treturn -1;",
          "new_line_content": "\tif (original == modified || SetFileAttributesW(path, modified))",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "",
          "new_line_content": "\terrno = err_win_to_posix(GetLastError());",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": null,
          "new_api": "is_valid_win32_path",
          "old_text": null,
          "new_text": "is_valid_win32_path(path, 0)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!is_valid_win32_path(path, 0)) {",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": null,
          "new_api": "_wmkdir",
          "old_text": null,
          "new_text": "_wmkdir(wpath)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\tret = _wmkdir(wpath);",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": null,
          "new_api": "needs_hiding",
          "old_text": null,
          "new_text": "needs_hiding(path)",
          "old_line_content": "}",
          "new_line_content": "\tif (!ret && needs_hiding(path))",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": null,
          "new_api": "set_hidden_flag",
          "old_text": null,
          "new_text": "set_hidden_flag(wpath, 1)",
          "old_line_content": "",
          "new_line_content": "\t\treturn set_hidden_flag(wpath, 1);",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": null,
          "new_api": "CreateFileW",
          "old_text": null,
          "new_text": "CreateFileW(wfilename, FILE_APPEND_DATA,\n\t\t\tFILE_SHARE_WRITE | FILE_SHARE_READ,\n\t\t\tNULL, create, FILE_ATTRIBUTE_NORMAL, NULL)",
          "old_line_content": "\tif (handle == INVALID_HANDLE_VALUE) {",
          "new_line_content": "\thandle = CreateFileW(wfilename, FILE_APPEND_DATA,",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t\t * Some network storage solutions (e.g. Isilon) might return",
          "new_line_content": "\t\tDWORD err = GetLastError();",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": null,
          "new_api": "err_win_to_posix",
          "old_text": null,
          "new_text": "err_win_to_posix(err)",
          "old_line_content": "",
          "new_line_content": "\t\terrno = err_win_to_posix(err);",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": null,
          "new_api": "_open_osfhandle",
          "old_text": null,
          "new_text": "_open_osfhandle((intptr_t)handle, O_BINARY)",
          "old_line_content": "\treturn fd;",
          "new_line_content": "\tfd = _open_osfhandle((intptr_t)handle, O_BINARY);",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(handle)",
          "old_line_content": "",
          "new_line_content": "\t\tCloseHandle(handle);",
          "content_same": false
        },
        {
          "line": 2540,
          "old_api": null,
          "new_api": "WideCharToMultiByte",
          "old_text": null,
          "new_text": "WideCharToMultiByte(CP_UTF8, 0, wcs, -1, utf, utflen, NULL, NULL)",
          "old_line_content": "\terrno = ERANGE;",
          "new_line_content": "\tutflen = WideCharToMultiByte(CP_UTF8, 0, wcs, -1, utf, utflen, NULL, NULL);",
          "content_same": false
        },
        {
          "line": 2549,
          "old_api": null,
          "new_api": "getenv",
          "old_text": null,
          "new_text": "getenv(\"TMPDIR\")",
          "old_line_content": "\tif (!tmp) {",
          "new_line_content": "\tchar *tmp = getenv(\"TMPDIR\");",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(filename[3])",
          "old_line_content": "\t\tfilename[9]);",
          "new_line_content": "\t\tis_dir_sep(filename[3]) &&",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": null,
          "new_api": "strncasecmp",
          "old_text": null,
          "new_text": "strncasecmp(filename+4, \"pipe\", 4)",
          "old_line_content": "}",
          "new_line_content": "\t\t!strncasecmp(filename+4, \"pipe\", 4) &&",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(filename[8])",
          "old_line_content": "",
          "new_line_content": "\t\tis_dir_sep(filename[8]) &&",
          "content_same": false
        },
        {
          "line": 2556,
          "old_api": null,
          "new_api": "setenv",
          "old_text": null,
          "new_text": "setenv(\"TMPDIR\", tmp, 1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tsetenv(\"TMPDIR\", tmp, 1);",
          "content_same": false
        },
        {
          "line": 2557,
          "old_api": null,
          "new_api": "getenv",
          "old_text": null,
          "new_text": "getenv(\"TMPDIR\")",
          "old_line_content": "",
          "new_line_content": "\t\t\ttmp = getenv(\"TMPDIR\");",
          "content_same": false
        },
        {
          "line": 518,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(args, oflags)",
          "old_line_content": "",
          "new_line_content": "\tva_start(args, oflags);",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(args)",
          "old_line_content": "\t\terrno = create ? EINVAL : ENOENT;",
          "new_line_content": "\tva_end(args);",
          "content_same": false
        },
        {
          "line": 2568,
          "old_api": null,
          "new_api": "convert_slashes",
          "old_text": null,
          "new_text": "convert_slashes(tmp)",
          "old_line_content": "\t/* simulate TERM to enable auto-color (see color.c) */",
          "new_line_content": "\t\tconvert_slashes(tmp);",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": null,
          "new_api": "is_valid_win32_path",
          "old_text": null,
          "new_text": "is_valid_win32_path(filename, !create)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!is_valid_win32_path(filename, !create)) {",
          "content_same": false
        },
        {
          "line": 2572,
          "old_api": null,
          "new_api": "getenv",
          "old_text": null,
          "new_text": "getenv(\"TERM\")",
          "old_line_content": "\t/* calculate HOME if not set */",
          "new_line_content": "\tif (!getenv(\"TERM\"))",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": null,
          "new_api": "is_local_named_pipe_path",
          "old_text": null,
          "new_text": "is_local_named_pipe_path(filename)",
          "old_line_content": "\t\topen_fn = _wopen;",
          "new_line_content": "\tif ((oflags & O_APPEND) && !is_local_named_pipe_path(filename))",
          "content_same": false
        },
        {
          "line": 2576,
          "old_api": null,
          "new_api": "getenv",
          "old_text": null,
          "new_text": "getenv(\"HOME\")",
          "old_line_content": "\t\t * location, thus also check if the path exists (i.e. is not",
          "new_line_content": "\tif (!getenv(\"HOME\")) {",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(filename, \"/dev/null\")",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\tif (filename && !strcmp(filename, \"/dev/null\"))",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": null,
          "new_api": "wcscpy",
          "old_text": null,
          "new_text": "wcscpy(wfilename, L\"nul\")",
          "old_line_content": "",
          "new_line_content": "\t\twcscpy(wfilename, L\"nul\");",
          "content_same": false
        },
        {
          "line": 2586,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&buf, tmp)",
          "old_line_content": "\t\t\t\telse",
          "new_line_content": "\t\t\t\tstrbuf_addstr(&buf, tmp);",
          "content_same": false
        },
        {
          "line": 2587,
          "old_api": null,
          "new_api": "is_directory",
          "old_text": null,
          "new_text": "is_directory(buf.buf)",
          "old_line_content": "\t\t\t\t\ttmp = NULL; /* use $USERPROFILE */",
          "new_line_content": "\t\t\t\tif (is_directory(buf.buf))",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": null,
          "new_api": "GetFileAttributesW",
          "old_text": null,
          "new_text": "GetFileAttributesW(wfilename)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tDWORD attrs = GetFileAttributesW(wfilename);",
          "content_same": false
        },
        {
          "line": 2588,
          "old_api": null,
          "new_api": "setenv",
          "old_text": null,
          "new_text": "setenv(\"HOME\", buf.buf, 1)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tsetenv(\"HOME\", buf.buf, 1);",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": null,
          "new_api": "needs_hiding",
          "old_text": null,
          "new_text": "needs_hiding(filename)",
          "old_line_content": "\t\t * out with an ERROR_ACCESS_DENIED if CREATE_ALWAYS was",
          "new_line_content": "\tif ((oflags & O_CREAT) && needs_hiding(filename)) {",
          "content_same": false
        },
        {
          "line": 2595,
          "old_api": null,
          "new_api": "getenv",
          "old_text": null,
          "new_text": "getenv(\"USERPROFILE\")",
          "old_line_content": "}",
          "new_line_content": "\t\tif (!tmp && (tmp = getenv(\"USERPROFILE\")))",
          "content_same": false
        },
        {
          "line": 2596,
          "old_api": null,
          "new_api": "setenv",
          "old_text": null,
          "new_text": "setenv(\"HOME\", tmp, 1)",
          "old_line_content": "",
          "new_line_content": "\t\t\tsetenv(\"HOME\", tmp, 1);",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": null,
          "new_api": "open_fn",
          "old_text": null,
          "new_text": "open_fn(wfilename, oflags & ~O_CREAT, mode)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tfd = open_fn(wfilename, oflags & ~O_CREAT, mode);",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": null,
          "new_api": "set_hidden_flag",
          "old_text": null,
          "new_text": "set_hidden_flag(wfilename, 1)",
          "old_line_content": "\treturn fd;",
          "new_line_content": "\t\tif (fd >= 0 && set_hidden_flag(wfilename, 1))",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"could not mark '%s' as hidden.\", filename)",
          "old_line_content": "}",
          "new_line_content": "\t\t\twarning(\"could not mark '%s' as hidden.\", filename);",
          "content_same": false
        },
        {
          "line": 2608,
          "old_api": null,
          "new_api": "skip_dos_drive_prefix",
          "old_text": null,
          "new_text": "skip_dos_drive_prefix((char **)&path)",
          "old_line_content": "\tfor (;;) {",
          "new_line_content": "\tskip_dos_drive_prefix((char **)&path);",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": null,
          "new_api": "fgetc",
          "old_text": null,
          "new_text": "fgetc(stream)",
          "old_line_content": "\twhile (1) {",
          "new_line_content": "\t\treturn fgetc(stream);",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": null,
          "new_api": "fgetc",
          "old_text": null,
          "new_text": "fgetc(stream)",
          "old_line_content": "",
          "new_line_content": "\t\tch = fgetc(stream);",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t\t/* Ctrl+C was pressed, simulate SIGINT and retry */",
          "new_line_content": "\t\tif (ch != EOF || GetLastError() != ERROR_OPERATION_ABORTED)",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": null,
          "new_api": "mingw_raise",
          "old_text": null,
          "new_text": "mingw_raise(SIGINT)",
          "old_line_content": "\treturn ch;",
          "new_line_content": "\t\tmingw_raise(SIGINT);",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": null,
          "new_api": "SetConsoleCtrlHandler",
          "old_text": null,
          "new_text": "SetConsoleCtrlHandler(ctrl_ignore, FALSE)",
          "old_line_content": "",
          "new_line_content": "\tSetConsoleCtrlHandler(ctrl_ignore, FALSE);",
          "content_same": false
        },
        {
          "line": 594,
          "old_api": null,
          "new_api": "wcscpy",
          "old_text": null,
          "new_text": "wcscpy(wfilename, L\"nul\")",
          "old_line_content": "\t\terrno = create ? EINVAL : ENOENT;",
          "new_line_content": "\t\twcscpy(wfilename, L\"nul\");",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": null,
          "new_api": "is_valid_win32_path",
          "old_text": null,
          "new_text": "is_valid_win32_path(filename, 1)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\telse if (!is_valid_win32_path(filename, 1)) {",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": null,
          "new_api": "set_hidden_flag",
          "old_text": null,
          "new_text": "set_hidden_flag(wfilename, 0)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (hide && !access(filename, F_OK) && set_hidden_flag(wfilename, 0)) {",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": null,
          "new_api": "set_hidden_flag",
          "old_text": null,
          "new_text": "set_hidden_flag(wfilename, 1)",
          "old_line_content": "}",
          "new_line_content": "\tif (file && hide && set_hidden_flag(wfilename, 1))",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"could not mark '%s' as hidden.\", filename)",
          "old_line_content": "",
          "new_line_content": "\t\twarning(\"could not mark '%s' as hidden.\", filename);",
          "content_same": false
        },
        {
          "line": 2664,
          "old_api": null,
          "new_api": "isdigit",
          "old_text": null,
          "new_text": "isdigit(path[++i])",
          "old_line_content": "\t\t\tcase 'n': case 'N': /* NUL */",
          "new_line_content": "\t\t\t\t    !isdigit(path[++i]))",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": null,
          "new_api": "wcscpy",
          "old_text": null,
          "new_text": "wcscpy(wfilename, L\"nul\")",
          "old_line_content": "\t\terrno = create ? EINVAL : ENOENT;",
          "new_line_content": "\t\twcscpy(wfilename, L\"nul\");",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": null,
          "new_api": "is_valid_win32_path",
          "old_text": null,
          "new_text": "is_valid_win32_path(filename, 1)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\telse if (!is_valid_win32_path(filename, 1)) {",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": null,
          "new_api": "set_hidden_flag",
          "old_text": null,
          "new_text": "set_hidden_flag(wfilename, 0)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (hide && !access(filename, F_OK) && set_hidden_flag(wfilename, 0)) {",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": null,
          "new_api": "_wfreopen",
          "old_text": null,
          "new_text": "_wfreopen(wfilename, wotype, stream)",
          "old_line_content": "\treturn file;",
          "new_line_content": "\tfile = _wfreopen(wfilename, wotype, stream);",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": null,
          "new_api": "set_hidden_flag",
          "old_text": null,
          "new_text": "set_hidden_flag(wfilename, 1)",
          "old_line_content": "}",
          "new_line_content": "\tif (file && hide && set_hidden_flag(wfilename, 1))",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"could not mark '%s' as hidden.\", filename)",
          "old_line_content": "",
          "new_line_content": "\t\twarning(\"could not mark '%s' as hidden.\", filename);",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": null,
          "new_api": "fflush",
          "old_text": null,
          "new_text": "fflush(stream)",
          "old_line_content": "\t * write() is used behind the scenes of stdio output functions.",
          "new_line_content": "\tint ret = fflush(stream);",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": null,
          "new_api": "write",
          "old_text": null,
          "new_text": "write(fd, buf, len)",
          "old_line_content": "\t\t/* check if fd is a pipe */",
          "new_line_content": "\tssize_t result = write(fd, buf, len);",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": null,
          "new_api": "_get_osfhandle",
          "old_text": null,
          "new_text": "_get_osfhandle(fd)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\tHANDLE h = (HANDLE) _get_osfhandle(fd);",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": null,
          "new_api": "GetFileType",
          "old_text": null,
          "new_text": "GetFileType(h)",
          "old_line_content": "\t\t\terrno = EINVAL;",
          "new_line_content": "\t\tif (GetFileType(h) == FILE_TYPE_PIPE)",
          "content_same": false
        },
        {
          "line": 2734,
          "old_api": null,
          "new_api": "fputs",
          "old_text": null,
          "new_text": "fputs(\"fatal: not enough memory for initialization\", stderr)",
          "old_line_content": "",
          "new_line_content": "\tfputs(\"fatal: not enough memory for initialization\", stderr);",
          "content_same": false
        },
        {
          "line": 2735,
          "old_api": null,
          "new_api": "exit",
          "old_text": null,
          "new_text": "exit(128)",
          "old_line_content": "static void *malloc_startup(size_t size)",
          "new_line_content": "\texit(128);",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": null,
          "new_api": "_waccess",
          "old_text": null,
          "new_text": "_waccess(wfilename, mode & ~X_OK)",
          "old_line_content": "int mingw_chdir(const char *dirname)",
          "new_line_content": "\treturn _waccess(wfilename, mode & ~X_OK);",
          "content_same": false
        },
        {
          "line": 2740,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(size)",
          "old_line_content": "\treturn result;",
          "new_line_content": "\tvoid *result = malloc(size);",
          "content_same": false
        },
        {
          "line": 2742,
          "old_api": null,
          "new_api": "die_startup",
          "old_text": null,
          "new_text": "die_startup()",
          "old_line_content": "",
          "new_line_content": "\t\tdie_startup();",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": null,
          "new_api": "xutftowcs_path",
          "old_text": null,
          "new_text": "xutftowcs_path(wdirname, dirname)",
          "old_line_content": "}",
          "new_line_content": "\tif (xutftowcs_path(wdirname, dirname) < 0)",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": null,
          "new_api": "_wchdir",
          "old_text": null,
          "new_text": "_wchdir(wdirname)",
          "old_line_content": "int mingw_chmod(const char *filename, int mode)",
          "new_line_content": "\treturn _wchdir(wdirname);",
          "content_same": false
        },
        {
          "line": 2748,
          "old_api": null,
          "new_api": "xwcstoutf",
          "old_text": null,
          "new_text": "xwcstoutf(buffer, wcs, len)",
          "old_line_content": "",
          "new_line_content": "\tlen = xwcstoutf(buffer, wcs, len) + 1;",
          "content_same": false
        },
        {
          "line": 2749,
          "old_api": null,
          "new_api": "malloc_startup",
          "old_text": null,
          "new_text": "malloc_startup(len)",
          "old_line_content": "static void maybe_redirect_std_handle(const wchar_t *key, DWORD std_id, int fd,",
          "new_line_content": "\treturn memcpy(malloc_startup(len), buffer, len);",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": null,
          "new_api": "xutftowcs_path",
          "old_text": null,
          "new_text": "xutftowcs_path(wfilename, filename)",
          "old_line_content": "}",
          "new_line_content": "\tif (xutftowcs_path(wfilename, filename) < 0)",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": null,
          "new_api": "_wchmod",
          "old_text": null,
          "new_text": "_wchmod(wfilename, mode)",
          "old_line_content": "/*",
          "new_line_content": "\treturn _wchmod(wfilename, mode);",
          "content_same": false
        },
        {
          "line": 2757,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(buf)",
          "old_line_content": "",
          "new_line_content": "\tDWORD max = ARRAY_SIZE(buf);",
          "content_same": false
        },
        {
          "line": 2759,
          "old_api": null,
          "new_api": "GetEnvironmentVariableW",
          "old_text": null,
          "new_text": "GetEnvironmentVariableW(key, buf, max)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tDWORD ret = GetEnvironmentVariableW(key, buf, max);",
          "content_same": false
        },
        {
          "line": 2766,
          "old_api": null,
          "new_api": "wcscmp",
          "old_text": null,
          "new_text": "wcscmp(buf, L\"off\")",
          "old_line_content": "\t\tif (handle != INVALID_HANDLE_VALUE)",
          "new_line_content": "\tif (!wcscmp(buf, L\"off\")) {",
          "content_same": false
        },
        {
          "line": 2768,
          "old_api": null,
          "new_api": "GetStdHandle",
          "old_text": null,
          "new_text": "GetStdHandle(std_id)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\t\thandle = GetStdHandle(std_id);",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": null,
          "new_api": "filetime_to_hnsec",
          "old_text": null,
          "new_text": "filetime_to_hnsec(ft)",
          "old_line_content": "}",
          "new_line_content": "\tlong long hnsec = filetime_to_hnsec(ft);",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": null,
          "new_api": "time_t)(hnsec / 10000000)",
          "old_text": null,
          "new_text": "time_t)(hnsec / 10000000)",
          "old_line_content": "",
          "new_line_content": "\tts->tv_sec = (time_t)(hnsec / 10000000);",
          "content_same": false
        },
        {
          "line": 2777,
          "old_api": null,
          "new_api": "GetStdHandle",
          "old_text": null,
          "new_text": "GetStdHandle(std_id)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\thandle = GetStdHandle(std_id);",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": null,
          "new_api": "wcslen",
          "old_text": null,
          "new_text": "wcslen(wfilename)",
          "old_line_content": "\t\twchar_t c = wfilename[--n];",
          "new_line_content": "\tint n = wcslen(wfilename);",
          "content_same": false
        },
        {
          "line": 2781,
          "old_api": null,
          "new_api": "_open_osfhandle",
          "old_text": null,
          "new_text": "_open_osfhandle((intptr_t)handle, O_BINARY)",
          "old_line_content": "\t\t\t/* do *not* close the new_fd: that would close stdout */",
          "new_line_content": "\t\t\tint new_fd = _open_osfhandle((intptr_t)handle, O_BINARY);",
          "content_same": false
        },
        {
          "line": 2782,
          "old_api": null,
          "new_api": "SetStdHandle",
          "old_text": null,
          "new_text": "SetStdHandle(std_id, handle)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tSetStdHandle(std_id, handle);",
          "content_same": false
        },
        {
          "line": 2783,
          "old_api": null,
          "new_api": "dup2",
          "old_text": null,
          "new_text": "dup2(new_fd, fd)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\t\t\tdup2(new_fd, fd);",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(c)",
          "old_line_content": "\t\twfilename[n] = L'\\0';",
          "new_line_content": "\t\tif (!is_dir_sep(c))",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": null,
          "new_api": "GetFileAttributesW",
          "old_text": null,
          "new_text": "GetFileAttributesW(wfilename)",
          "old_line_content": "\t\t\t\tattributes == FILE_ATTRIBUTE_DEVICE)",
          "new_line_content": "\t\tattributes = GetFileAttributesW(wfilename);",
          "content_same": false
        },
        {
          "line": 2792,
          "old_api": null,
          "new_api": "SetStdHandle",
          "old_text": null,
          "new_text": "SetStdHandle(std_id, handle)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tSetStdHandle(std_id, handle);",
          "content_same": false
        },
        {
          "line": 2793,
          "old_api": null,
          "new_api": "dup2",
          "old_text": null,
          "new_text": "dup2(new_fd, fd)",
          "old_line_content": "}",
          "new_line_content": "\t\tdup2(new_fd, fd);",
          "content_same": false
        },
        {
          "line": 2794,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(new_fd)",
          "old_line_content": "",
          "new_line_content": "\t\tclose(new_fd);",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t\t\tcase ERROR_FILE_NOT_FOUND:",
          "new_line_content": "\t\t\tswitch (GetLastError()) {",
          "content_same": false
        },
        {
          "line": 2800,
          "old_api": null,
          "new_api": "maybe_redirect_std_handle",
          "old_text": null,
          "new_text": "maybe_redirect_std_handle(L\"GIT_REDIRECT_STDIN\", STD_INPUT_HANDLE, 0,\n\t\t\t\t  GENERIC_READ, FILE_ATTRIBUTE_NORMAL)",
          "old_line_content": "\t\t\t\t  GENERIC_WRITE, FILE_ATTRIBUTE_NORMAL);",
          "new_line_content": "\tmaybe_redirect_std_handle(L\"GIT_REDIRECT_STDIN\", STD_INPUT_HANDLE, 0,",
          "content_same": false
        },
        {
          "line": 2802,
          "old_api": null,
          "new_api": "maybe_redirect_std_handle",
          "old_text": null,
          "new_text": "maybe_redirect_std_handle(L\"GIT_REDIRECT_STDOUT\", STD_OUTPUT_HANDLE, 1,\n\t\t\t\t  GENERIC_WRITE, FILE_ATTRIBUTE_NORMAL)",
          "old_line_content": "\t\t\t\t  GENERIC_WRITE, FILE_FLAG_NO_BUFFERING);",
          "new_line_content": "\tmaybe_redirect_std_handle(L\"GIT_REDIRECT_STDOUT\", STD_OUTPUT_HANDLE, 1,",
          "content_same": false
        },
        {
          "line": 2804,
          "old_api": null,
          "new_api": "maybe_redirect_std_handle",
          "old_text": null,
          "new_text": "maybe_redirect_std_handle(L\"GIT_REDIRECT_STDERR\", STD_ERROR_HANDLE, 2,\n\t\t\t\t  GENERIC_WRITE, FILE_FLAG_NO_BUFFERING)",
          "old_line_content": "",
          "new_line_content": "\tmaybe_redirect_std_handle(L\"GIT_REDIRECT_STDERR\", STD_ERROR_HANDLE, 2,",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": null,
          "new_api": "GetFileAttributesExW",
          "old_text": null,
          "new_text": "GetFileAttributesExW(wfilename, GetFileExInfoStandard, &fdata)",
          "old_line_content": "\t\tbuf->st_uid = 0;",
          "new_line_content": "\tif (GetFileAttributesExW(wfilename, GetFileExInfoStandard, &fdata)) {",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": null,
          "new_api": "file_attr_to_st_mode",
          "old_text": null,
          "new_text": "file_attr_to_st_mode(fdata.dwFileAttributes)",
          "old_line_content": "\t\tbuf->st_dev = buf->st_rdev = 0; /* not used by Git */",
          "new_line_content": "\t\tbuf->st_mode = file_attr_to_st_mode(fdata.dwFileAttributes);",
          "content_same": false
        },
        {
          "line": 2829,
          "old_api": null,
          "new_api": "trace2_initialize_clock",
          "old_text": null,
          "new_text": "trace2_initialize_clock()",
          "old_line_content": "#ifdef _DEBUG",
          "new_line_content": "\ttrace2_initialize_clock();",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": null,
          "new_api": "filetime_to_timespec",
          "old_text": null,
          "new_text": "filetime_to_timespec(&(fdata.ftLastAccessTime), &(buf->st_atim))",
          "old_line_content": "\t\tif (fdata.dwFileAttributes & FILE_ATTRIBUTE_REPARSE_POINT) {",
          "new_line_content": "\t\tfiletime_to_timespec(&(fdata.ftLastAccessTime), &(buf->st_atim));",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": null,
          "new_api": "filetime_to_timespec",
          "old_text": null,
          "new_text": "filetime_to_timespec(&(fdata.ftLastWriteTime), &(buf->st_mtim))",
          "old_line_content": "\t\t\tWIN32_FIND_DATAW findbuf;",
          "new_line_content": "\t\tfiletime_to_timespec(&(fdata.ftLastWriteTime), &(buf->st_mtim));",
          "content_same": false
        },
        {
          "line": 2833,
          "old_api": null,
          "new_api": "_CrtSetReportMode",
          "old_text": null,
          "new_text": "_CrtSetReportMode(_CRT_ASSERT, _CRTDBG_MODE_DEBUG)",
          "old_line_content": "#ifdef USE_MSVC_CRTDBG",
          "new_line_content": "\t_CrtSetReportMode(_CRT_ASSERT, _CRTDBG_MODE_DEBUG);",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": null,
          "new_api": "FindFirstFileW",
          "old_text": null,
          "new_text": "FindFirstFileW(wfilename, &findbuf)",
          "old_line_content": "\t\t\t\t\t\t(findbuf.dwReserved0 == IO_REPARSE_TAG_SYMLINK)) {",
          "new_line_content": "\t\t\tHANDLE handle = FindFirstFileW(wfilename, &findbuf);",
          "content_same": false
        },
        {
          "line": 2837,
          "old_api": null,
          "new_api": "_CrtSetDbgFlag",
          "old_text": null,
          "new_text": "_CrtSetDbgFlag(_CRTDBG_ALLOC_MEM_DF | _CRTDBG_LEAK_CHECK_DF)",
          "old_line_content": "",
          "new_line_content": "\t_CrtSetDbgFlag(_CRTDBG_ALLOC_MEM_DF | _CRTDBG_LEAK_CHECK_DF);",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": null,
          "new_api": "readlink",
          "old_text": null,
          "new_text": "readlink(file_name, buffer, MAXIMUM_REPARSE_DATA_BUFFER_SIZE)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tbuf->st_size = readlink(file_name, buffer, MAXIMUM_REPARSE_DATA_BUFFER_SIZE);",
          "content_same": false
        },
        {
          "line": 2844,
          "old_api": null,
          "new_api": "wcslen",
          "old_text": null,
          "new_text": "wcslen(wargv[0])",
          "old_line_content": "",
          "new_line_content": "\tmaxlen = wcslen(wargv[0]);",
          "content_same": false
        },
        {
          "line": 2846,
          "old_api": null,
          "new_api": "wcslen",
          "old_text": null,
          "new_text": "wcslen(wargv[i])",
          "old_line_content": "\tmaxlen = 3 * maxlen + 1;",
          "new_line_content": "\t\tmaxlen = max(maxlen, wcslen(wargv[i]));",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": null,
          "new_api": "FindClose",
          "old_text": null,
          "new_text": "FindClose(handle)",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\t\t\t\tFindClose(handle);",
          "content_same": false
        },
        {
          "line": 2850,
          "old_api": null,
          "new_api": "malloc_startup",
          "old_text": null,
          "new_text": "malloc_startup(maxlen)",
          "old_line_content": "\t * Create a UTF-8 version of w_argv. Also create a \"save\" copy",
          "new_line_content": "\tbuffer = malloc_startup(maxlen);",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\tcase ERROR_LOCK_VIOLATION:",
          "new_line_content": "\tswitch (GetLastError()) {",
          "content_same": false
        },
        {
          "line": 2858,
          "old_api": null,
          "new_api": "ALLOC_ARRAY",
          "old_text": null,
          "new_text": "ALLOC_ARRAY(save, argc + 1)",
          "old_line_content": "\targv[i] = save[i] = NULL;",
          "new_line_content": "\tALLOC_ARRAY(save, argc + 1);",
          "content_same": false
        },
        {
          "line": 2860,
          "old_api": null,
          "new_api": "wcstoutfdup_startup",
          "old_text": null,
          "new_text": "wcstoutfdup_startup(buffer, wargv[i], maxlen)",
          "old_line_content": "",
          "new_line_content": "\t\targv[i] = save[i] = wcstoutfdup_startup(buffer, wargv[i], maxlen);",
          "content_same": false
        },
        {
          "line": 2865,
          "old_api": null,
          "new_api": "setup_windows_environment",
          "old_text": null,
          "new_text": "setup_windows_environment()",
          "old_line_content": "",
          "new_line_content": "\tsetup_windows_environment();",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": null,
          "new_api": "has_valid_directory_prefix",
          "old_text": null,
          "new_text": "has_valid_directory_prefix(wfilename)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (!has_valid_directory_prefix(wfilename)) {",
          "content_same": false
        },
        {
          "line": 2870,
          "old_api": null,
          "new_api": "InitializeCriticalSection",
          "old_text": null,
          "new_text": "InitializeCriticalSection(&pinfo_cs)",
          "old_line_content": "\t_fmode = _O_BINARY;",
          "new_line_content": "\tInitializeCriticalSection(&pinfo_cs);",
          "content_same": false
        },
        {
          "line": 2874,
          "old_api": null,
          "new_api": "_fileno",
          "old_text": null,
          "new_text": "_fileno(stdin)",
          "old_line_content": "",
          "new_line_content": "\t_setmode(_fileno(stdin), _O_BINARY);",
          "content_same": false
        },
        {
          "line": 2875,
          "old_api": null,
          "new_api": "_fileno",
          "old_text": null,
          "new_text": "_fileno(stdout)",
          "old_line_content": "\t/* initialize Unicode console */",
          "new_line_content": "\t_setmode(_fileno(stdout), _O_BINARY);",
          "content_same": false
        },
        {
          "line": 2885,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(save[i])",
          "old_line_content": "",
          "new_line_content": "\t\tfree(save[i]);",
          "content_same": false
        },
        {
          "line": 2886,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(save)",
          "old_line_content": "\treturn exit_status;",
          "new_line_content": "\tfree(save);",
          "content_same": false
        },
        {
          "line": 2887,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(argv)",
          "old_line_content": "}",
          "new_line_content": "\tfree(argv);",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": null,
          "new_api": "do_lstat",
          "old_text": null,
          "new_text": "do_lstat(follow, file_name, buf)",
          "old_line_content": "\t/* if file_name ended in a '/', Windows returned ENOENT;",
          "new_line_content": "\tif (!do_lstat(follow, file_name, buf))",
          "content_same": false
        },
        {
          "line": 2895,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(buf, 0, sizeof(*buf))",
          "old_line_content": "\t\t \"%u.%u\", v & 0xff, (v >> 8) & 0xff);",
          "new_line_content": "\tmemset(buf, 0, sizeof(*buf));",
          "content_same": false
        },
        {
          "line": 2896,
          "old_api": null,
          "new_api": "xsnprintf",
          "old_text": null,
          "new_text": "xsnprintf(buf->sysname, sizeof(buf->sysname), \"Windows\")",
          "old_line_content": "\t/* assuming NT variants only.. */",
          "new_line_content": "\txsnprintf(buf->sysname, sizeof(buf->sysname), \"Windows\");",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(file_name)",
          "old_line_content": "\twhile (namelen && file_name[namelen-1] == '/')",
          "new_line_content": "\tnamelen = strlen(file_name);",
          "content_same": false
        },
        {
          "line": 2900,
          "old_api": null,
          "new_api": "xsnprintf",
          "old_text": null,
          "new_text": "xsnprintf(buf->version, sizeof(buf->version),\n\t\t  \"%u\", (v >> 16) & 0x7fff)",
          "old_line_content": "}",
          "new_line_content": "\txsnprintf(buf->version, sizeof(buf->version),",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(alt_name, file_name, namelen)",
          "old_line_content": "}",
          "new_line_content": "\tmemcpy(alt_name, file_name, namelen);",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": null,
          "new_api": "do_lstat",
          "old_text": null,
          "new_text": "do_lstat(follow, alt_name, buf)",
          "old_line_content": "static int get_file_info_by_handle(HANDLE hnd, struct stat *buf)",
          "new_line_content": "\treturn do_lstat(follow, alt_name, buf);",
          "content_same": false
        },
        {
          "line": 869,
          "old_api": null,
          "new_api": "GetFileInformationByHandle",
          "old_text": null,
          "new_text": "GetFileInformationByHandle(hnd, &fdata)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!GetFileInformationByHandle(hnd, &fdata)) {",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "",
          "new_line_content": "\t\terrno = err_win_to_posix(GetLastError());",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": null,
          "new_api": "file_attr_to_st_mode",
          "old_text": null,
          "new_text": "file_attr_to_st_mode(fdata.dwFileAttributes)",
          "old_line_content": "\tbuf->st_dev = buf->st_rdev = 0; /* not used by Git */",
          "new_line_content": "\tbuf->st_mode = file_attr_to_st_mode(fdata.dwFileAttributes);",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": null,
          "new_api": "filetime_to_timespec",
          "old_text": null,
          "new_text": "filetime_to_timespec(&(fdata.ftLastAccessTime), &(buf->st_atim))",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\tfiletime_to_timespec(&(fdata.ftLastAccessTime), &(buf->st_atim));",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": null,
          "new_api": "filetime_to_timespec",
          "old_text": null,
          "new_text": "filetime_to_timespec(&(fdata.ftLastWriteTime), &(buf->st_mtim))",
          "old_line_content": "}",
          "new_line_content": "\tfiletime_to_timespec(&(fdata.ftLastWriteTime), &(buf->st_mtim));",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": null,
          "new_api": "filetime_to_timespec",
          "old_text": null,
          "new_text": "filetime_to_timespec(&(fdata.ftCreationTime), &(buf->st_ctim))",
          "old_line_content": "",
          "new_line_content": "\tfiletime_to_timespec(&(fdata.ftCreationTime), &(buf->st_ctim));",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "do_stat_internal",
          "old_text": null,
          "new_text": "do_stat_internal(0, file_name, buf)",
          "old_line_content": "{",
          "new_line_content": "\treturn do_stat_internal(0, file_name, buf);",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": null,
          "new_api": "do_stat_internal",
          "old_text": null,
          "new_text": "do_stat_internal(1, file_name, buf)",
          "old_line_content": "int mingw_fstat(int fd, struct stat *buf)",
          "new_line_content": "\treturn do_stat_internal(1, file_name, buf);",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": null,
          "new_api": "_get_osfhandle",
          "old_text": null,
          "new_text": "_get_osfhandle(fd)",
          "old_line_content": "\tswitch (type) {",
          "new_line_content": "\tHANDLE fh = (HANDLE)_get_osfhandle(fd);",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": null,
          "new_api": "GetFileType",
          "old_text": null,
          "new_text": "GetFileType(fh)",
          "old_line_content": "\tcase FILE_TYPE_DISK:",
          "new_line_content": "\tDWORD avail, type = GetFileType(fh) & ~FILE_TYPE_REMOTE;",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": null,
          "new_api": "get_file_info_by_handle",
          "old_text": null,
          "new_text": "get_file_info_by_handle(fh, buf)",
          "old_line_content": "\tcase FILE_TYPE_PIPE:",
          "new_line_content": "\t\treturn get_file_info_by_handle(fh, buf);",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(buf, 0, sizeof(*buf))",
          "old_line_content": "\t\tif (type == FILE_TYPE_CHAR) {",
          "new_line_content": "\t\tmemset(buf, 0, sizeof(*buf));",
          "content_same": false
        },
        {
          "line": 916,
          "old_api": null,
          "new_api": "PeekNamedPipe",
          "old_text": null,
          "new_text": "PeekNamedPipe(fh, NULL, 0, NULL, &avail, NULL)",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\t\t\tif (PeekNamedPipe(fh, NULL, 0, NULL, &avail, NULL))",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": null,
          "new_api": "xutftowcs_path",
          "old_text": null,
          "new_text": "xutftowcs_path(wfilename, file_name)",
          "old_line_content": "\t/* must have write permission */",
          "new_line_content": "\tif (xutftowcs_path(wfilename, file_name) < 0)",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "GetFileAttributesW",
          "old_text": null,
          "new_text": "GetFileAttributesW(wfilename)",
          "old_line_content": "\t\t/* ignore errors here; open() will report them */",
          "new_line_content": "\tattrs = GetFileAttributesW(wfilename);",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": null,
          "new_api": "_wopen",
          "old_text": null,
          "new_text": "_wopen(wfilename, O_RDWR | O_BINARY)",
          "old_line_content": "\t}",
          "new_line_content": "\tif ((fh = _wopen(wfilename, O_RDWR | O_BINARY)) < 0) {",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": null,
          "new_api": "time_t_to_filetime",
          "old_text": null,
          "new_text": "time_t_to_filetime(times->actime, &aft)",
          "old_line_content": "\t\taft = mft;",
          "new_line_content": "\t\ttime_t_to_filetime(times->actime, &aft);",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": null,
          "new_api": "_get_osfhandle",
          "old_text": null,
          "new_text": "_get_osfhandle(fh)",
          "old_line_content": "\t} else",
          "new_line_content": "\tif (!SetFileTime((HANDLE)_get_osfhandle(fh), NULL, &aft, &mft)) {",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(fh)",
          "old_line_content": "\tif (attrs != INVALID_FILE_ATTRIBUTES &&",
          "new_line_content": "\tclose(fh);",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": null,
          "new_api": "SetFileAttributesW",
          "old_text": null,
          "new_text": "SetFileAttributesW(wfilename, attrs)",
          "old_line_content": "}",
          "new_line_content": "\t\tSetFileAttributesW(wfilename, attrs);",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": null,
          "new_api": "strftime",
          "old_text": null,
          "new_text": "strftime(s, max, format, tm)",
          "old_line_content": "",
          "new_line_content": "\t\tret = strftime(s, max, format, tm);",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"invalid strftime format: '%s'\", format)",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"invalid strftime format: '%s'\", format);",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": null,
          "new_api": "Sleep",
          "old_text": null,
          "new_text": "Sleep(seconds*1000)",
          "old_line_content": "",
          "new_line_content": "\tSleep(seconds*1000);",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": null,
          "new_api": "xutftowcs_path",
          "old_text": null,
          "new_text": "xutftowcs_path(wtemplate, template)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\tif (xutftowcs_path(wtemplate, template) < 0)",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": null,
          "new_api": "_wmktemp",
          "old_text": null,
          "new_text": "_wmktemp(wtemplate)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\tif (!_wmktemp(wtemplate))",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(template)",
          "old_line_content": "}",
          "new_line_content": "\tif (xwcstoutf(template, wtemplate, strlen(template) + 1) < 0)",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": null,
          "new_api": "open",
          "old_text": null,
          "new_text": "open(filename, O_RDWR | O_CREAT, 0600)",
          "old_line_content": "int gettimeofday(struct timeval *tv, void *tz)",
          "new_line_content": "\treturn open(filename, O_RDWR | O_CREAT, 0600);",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": null,
          "new_api": "GetSystemTimeAsFileTime",
          "old_text": null,
          "new_text": "GetSystemTimeAsFileTime(&ft)",
          "old_line_content": "\ttv->tv_usec = (hnsec % 10000000) / 10;",
          "new_line_content": "\tGetSystemTimeAsFileTime(&ft);",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": null,
          "new_api": "filetime_to_hnsec",
          "old_text": null,
          "new_text": "filetime_to_hnsec(&ft)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\thnsec = filetime_to_hnsec(&ft);",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": null,
          "new_api": "CreatePipe",
          "old_text": null,
          "new_text": "CreatePipe(&h[0], &h[1], NULL, 8192)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!CreatePipe(&h[0], &h[1], NULL, 8192)) {",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(h[0])",
          "old_line_content": "\t}",
          "new_line_content": "\t\tCloseHandle(h[0]);",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(filedes[0])",
          "old_line_content": "\t}",
          "new_line_content": "\t\tclose(filedes[0]);",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(h[1])",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\tCloseHandle(h[1]);",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "gmtime_s",
          "old_text": null,
          "new_text": "gmtime_s(result, timep)",
          "old_line_content": "}",
          "new_line_content": "\tif (gmtime_s(result, timep) == 0)",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": null,
          "new_api": "localtime_s",
          "old_text": null,
          "new_text": "localtime_s(result, timep)",
          "old_line_content": "}",
          "new_line_content": "\tif (localtime_s(result, timep) == 0)",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(cwd)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!ret || ret >= ARRAY_SIZE(cwd)) {",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(wpointer)",
          "old_line_content": "\t\t\tFILE_SHARE_READ | FILE_SHARE_WRITE | FILE_SHARE_DELETE, NULL,",
          "new_line_content": "\tret = GetLongPathNameW(cwd, wpointer, ARRAY_SIZE(wpointer));",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t\t\tOPEN_EXISTING, FILE_FLAG_BACKUP_SEMANTICS, NULL);",
          "new_line_content": "\tif (!ret && GetLastError() == ERROR_ACCESS_DENIED) {",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": null,
          "new_api": "CreateFileW",
          "old_text": null,
          "new_text": "CreateFileW(cwd, 0,\n\t\t\tFILE_SHARE_READ | FILE_SHARE_WRITE | FILE_SHARE_DELETE, NULL,\n\t\t\tOPEN_EXISTING, FILE_FLAG_BACKUP_SEMANTICS, NULL)",
          "old_line_content": "\t\tif (hnd == INVALID_HANDLE_VALUE)",
          "new_line_content": "\t\tHANDLE hnd = CreateFileW(cwd, 0,",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(wpointer)",
          "old_line_content": "\t\t\treturn NULL;",
          "new_line_content": "\t\tret = GetFinalPathNameByHandleW(hnd, wpointer, ARRAY_SIZE(wpointer), 0);",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(wpointer)",
          "old_line_content": "\t\t\treturn NULL;",
          "new_line_content": "\t\tif (!ret || ret >= ARRAY_SIZE(wpointer))",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": null,
          "new_api": "normalize_ntpath",
          "old_text": null,
          "new_text": "normalize_ntpath(wpointer)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (xwcstoutf(pointer, normalize_ntpath(wpointer), len) < 0)",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(wpointer)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\tif (!ret || ret >= ARRAY_SIZE(wpointer))",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "xwcstoutf",
          "old_text": null,
          "new_text": "xwcstoutf(pointer, wpointer, len)",
          "old_line_content": "\treturn pointer;",
          "new_line_content": "\tif (xwcstoutf(pointer, wpointer, len) < 0)",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": null,
          "new_api": "convert_slashes",
          "old_text": null,
          "new_text": "convert_slashes(pointer)",
          "old_line_content": "",
          "new_line_content": "\tconvert_slashes(pointer);",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*p)",
          "old_line_content": "\t\t\tn++;",
          "new_line_content": "\t\tif (isspace(*p) || *p == '*' || *p == '?' || *p == '{' || *p == '\\'')",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": null,
          "new_api": "st_add3",
          "old_text": null,
          "new_text": "st_add3(len, n, 3)",
          "old_line_content": "\t\tif (*arg == '\"')",
          "new_line_content": "\td = q = xmalloc(st_add3(len, n, 3));",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*p)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tint ws = isspace(*p);",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": null,
          "new_api": "strbuf_addch",
          "old_text": null,
          "new_text": "strbuf_addch(&buf, '\"')",
          "old_line_content": "\t\tif (*p == '\\\\' || *p == '\"')",
          "new_line_content": "\t\t\tstrbuf_addch(&buf, '\"');",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": null,
          "new_api": "strbuf_add",
          "old_text": null,
          "new_text": "strbuf_add(&buf, p2, p - p2)",
          "old_line_content": "\t\tp2 = p;",
          "new_line_content": "\t\t\tstrbuf_add(&buf, p2, p - p2);",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": null,
          "new_api": "strbuf_addch",
          "old_text": null,
          "new_text": "strbuf_addch(&buf, '\\\\')",
          "old_line_content": "",
          "new_line_content": "\t\t\tstrbuf_addch(&buf, '\\\\');",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": null,
          "new_api": "strbuf_addch",
          "old_text": null,
          "new_text": "strbuf_addch(&buf, '\"')",
          "old_line_content": "\telse",
          "new_line_content": "\t\tstrbuf_addch(&buf, '\"');",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": null,
          "new_api": "strbuf_addch",
          "old_text": null,
          "new_text": "strbuf_addch(&buf, '\"')",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_addch(&buf, '\"');",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": null,
          "new_api": "strbuf_detach",
          "old_text": null,
          "new_text": "strbuf_detach(&buf, 0)",
          "old_line_content": "static const char *parse_interpreter(const char *cmd)",
          "new_line_content": "\treturn strbuf_detach(&buf, 0);",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(cmd)",
          "old_line_content": "",
          "new_line_content": "\tn = strlen(cmd);",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": null,
          "new_api": "read",
          "old_text": null,
          "new_text": "read(fd, buf, sizeof(buf)-1)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\tn = read(fd, buf, sizeof(buf)-1);",
          "content_same": false
        },
        {
          "line": 1216,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(fd)",
          "old_line_content": "",
          "new_line_content": "\tclose(fd);",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": null,
          "new_api": "strcspn",
          "old_text": null,
          "new_text": "strcspn(buf, \"\\r\\n\")",
          "old_line_content": "",
          "new_line_content": "\tp = buf + strcspn(buf, \"\\r\\n\");",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p+1, ' ')",
          "old_line_content": "}",
          "new_line_content": "\tif ((opt = strchr(p+1, ' ')))",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(path, sizeof(path), \"%.*s\\\\%s.exe\", dirlen, dir, cmd)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\tsnprintf(path, sizeof(path), \"%.*s\\\\%s.exe\", dirlen, dir, cmd);",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": null,
          "new_api": "GetFileAttributesW",
          "old_text": null,
          "new_text": "GetFileAttributesW(wpath)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (!(GetFileAttributesW(wpath) & FILE_ATTRIBUTE_DIRECTORY)) {",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(path)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tpath[strlen(path)-4] = '\\0';",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": null,
          "new_api": "xstrdup",
          "old_text": null,
          "new_text": "xstrdup(path)",
          "old_line_content": "\treturn NULL;",
          "new_line_content": "\t\t\treturn xstrdup(path);",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": null,
          "new_api": "xstrdup",
          "old_text": null,
          "new_text": "xstrdup(cmd)",
          "old_line_content": "\tif (!path)",
          "new_line_content": "\t\treturn xstrdup(cmd);",
          "content_same": false
        },
        {
          "line": 1276,
          "old_api": null,
          "new_api": "mingw_getenv",
          "old_text": null,
          "new_text": "mingw_getenv(\"PATH\")",
          "old_line_content": "",
          "new_line_content": "\tpath = mingw_getenv(\"PATH\");",
          "content_same": false
        },
        {
          "line": 1284,
          "old_api": null,
          "new_api": "lookup_prog",
          "old_text": null,
          "new_text": "lookup_prog(path, dirlen, cmd, isexe, exe_only)",
          "old_line_content": "\t\tpath = sep + 1;",
          "new_line_content": "\t\t\tprog = lookup_prog(path, dirlen, cmd, isexe, exe_only);",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": null,
          "new_api": "wcschrnul",
          "old_text": null,
          "new_text": "wcschrnul(p, L'=')",
          "old_line_content": "\t/* If the length differs, include the shorter key's NUL */",
          "new_line_content": "\tp_len = wcschrnul(p, L'=') - p;",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": null,
          "new_api": "wcschrnul",
          "old_text": null,
          "new_text": "wcschrnul(q, L'=')",
          "old_line_content": "\tif (p_len < q_len)",
          "new_line_content": "\tq_len = wcschrnul(q, L'=') - q;",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": null,
          "new_api": "_wcsnicmp",
          "old_text": null,
          "new_text": "_wcsnicmp(p, q, p_len)",
          "old_line_content": "/*",
          "new_line_content": "\treturn _wcsnicmp(p, q, p_len);",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": null,
          "new_api": "GetEnvironmentStringsW",
          "old_text": null,
          "new_text": "GetEnvironmentStringsW()",
          "old_line_content": "\twchar_t **array = NULL;",
          "new_line_content": "\twchar_t *wenv = GetEnvironmentStringsW(), *wdeltaenv, *result, *p;",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": null,
          "new_api": "wcslen",
          "old_text": null,
          "new_text": "wcslen(p)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tsize_t s = wcslen(p) + 1;",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": null,
          "new_api": "ALLOC_ARRAY",
          "old_text": null,
          "new_text": "ALLOC_ARRAY(result, size)",
          "old_line_content": "\t\treturn result;",
          "new_line_content": "\t\tALLOC_ARRAY(result, size);",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": null,
          "new_api": "COPY_ARRAY",
          "old_text": null,
          "new_text": "COPY_ARRAY(result, wenv, size)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tCOPY_ARRAY(result, wenv, size);",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": null,
          "new_api": "FreeEnvironmentStringsW",
          "old_text": null,
          "new_text": "FreeEnvironmentStringsW(wenv)",
          "old_line_content": "",
          "new_line_content": "\t\tFreeEnvironmentStringsW(wenv);",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": null,
          "new_api": "ALLOC_GROW",
          "old_text": null,
          "new_text": "ALLOC_GROW(array, nr + 1, alloc)",
          "old_line_content": "\t\tp += s;",
          "new_line_content": "\t\tALLOC_GROW(array, nr + 1, alloc);",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": null,
          "new_api": "wcslen",
          "old_text": null,
          "new_text": "wcslen(p)",
          "old_line_content": "\t\tsize += s;",
          "new_line_content": "\t\ts = wcslen(p) + 1;",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(deltaenv[i])",
          "old_line_content": "\t/* convert the deltaenv, appending to array */",
          "new_line_content": "\t\tdelta_size += strlen(deltaenv[i]) * 2 + 1;",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": null,
          "new_api": "ALLOC_ARRAY",
          "old_text": null,
          "new_text": "ALLOC_ARRAY(wdeltaenv, delta_size)",
          "old_line_content": "\tfor (i = 0, p = wdeltaenv; deltaenv[i]; i++) {",
          "new_line_content": "\tALLOC_ARRAY(wdeltaenv, delta_size);",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": null,
          "new_api": "ALLOC_GROW",
          "old_text": null,
          "new_text": "ALLOC_GROW(array, nr + 1, alloc)",
          "old_line_content": "\t\tp += wlen + 1;",
          "new_line_content": "\t\tALLOC_GROW(array, nr + 1, alloc);",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": null,
          "new_api": "xutftowcs",
          "old_text": null,
          "new_text": "xutftowcs(p, deltaenv[i], wdeltaenv + delta_size - p)",
          "old_line_content": "\t}",
          "new_line_content": "\t\twlen = xutftowcs(p, deltaenv[i], wdeltaenv + delta_size - p);",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": null,
          "new_api": "git_stable_qsort",
          "old_text": null,
          "new_text": "git_stable_qsort(array, nr, sizeof(*array), wenvcmp)",
          "old_line_content": "\tfor (p = result, i = 0; i < nr; i++) {",
          "new_line_content": "\tgit_stable_qsort(array, nr, sizeof(*array), wenvcmp);",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": null,
          "new_api": "ALLOC_ARRAY",
          "old_text": null,
          "new_text": "ALLOC_ARRAY(result, size + delta_size)",
          "old_line_content": "\t\t/* Skip any duplicate keys; last one wins */",
          "new_line_content": "\tALLOC_ARRAY(result, size + delta_size);",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": null,
          "new_api": "wenvcmp",
          "old_text": null,
          "new_text": "wenvcmp(array + i, array + i + 1)",
          "old_line_content": "\t\t/* Skip \"to delete\" entry */",
          "new_line_content": "\t\twhile (i + 1 < nr && !wenvcmp(array + i, array + i + 1))",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": null,
          "new_api": "wcslen",
          "old_text": null,
          "new_text": "wcslen(array[i])",
          "old_line_content": "\t}",
          "new_line_content": "\t\tsize = wcslen(array[i]) + 1;",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": null,
          "new_api": "COPY_ARRAY",
          "old_text": null,
          "new_text": "COPY_ARRAY(p, array[i], size)",
          "old_line_content": "\t*p = L'\\0';",
          "new_line_content": "\t\tCOPY_ARRAY(p, array[i], size);",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(array)",
          "old_line_content": "\treturn result;",
          "new_line_content": "\tfree(array);",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(wdeltaenv)",
          "old_line_content": "}",
          "new_line_content": "\tfree(wdeltaenv);",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": null,
          "new_api": "FreeEnvironmentStringsW",
          "old_text": null,
          "new_text": "FreeEnvironmentStringsW(wenv)",
          "old_line_content": "",
          "new_line_content": "\tFreeEnvironmentStringsW(wenv);",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p, ',')",
          "old_line_content": "\t\t\t*comma = '\\0';",
          "new_line_content": "\t\tchar *comma = strchr(p, ',');",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": null,
          "new_api": "unsetenv",
          "old_text": null,
          "new_text": "unsetenv(p)",
          "old_line_content": "\t\tp = comma + 1;",
          "new_line_content": "\t\tunsetenv(p);",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(path[*len - component_len - 1])",
          "old_line_content": "\t*len -= component_len + 1;",
          "new_line_content": "\t    !is_dir_sep(path[*len - component_len - 1]) ||",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": null,
          "new_api": "fspathncmp",
          "old_text": null,
          "new_text": "fspathncmp(path + *len - component_len, component, component_len)",
          "old_line_content": "\t/* chomp off repeated dir separators */",
          "new_line_content": "\t    fspathncmp(path + *len - component_len, component, component_len))",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": null,
          "new_api": "is_dir_sep",
          "old_text": null,
          "new_text": "is_dir_sep(path[*len - 1])",
          "old_line_content": "}",
          "new_line_content": "\twhile (*len > 0 && is_dir_sep(path[*len - 1]))",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(cmd, \"sh\")",
          "old_line_content": "",
          "new_line_content": "\tif (!strcmp(cmd, \"sh\")) {",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": null,
          "new_api": "path_lookup",
          "old_text": null,
          "new_text": "path_lookup(cmd, 0)",
          "old_line_content": "\t\telse {",
          "new_line_content": "\t\tp = path_lookup(cmd, 0);",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": null,
          "new_api": "match_last_path_component",
          "old_text": null,
          "new_text": "match_last_path_component(p, &len, \"bin\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tmatch_last_path_component(p, &len, \"bin\") &&",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": null,
          "new_api": "match_last_path_component",
          "old_text": null,
          "new_text": "match_last_path_component(p, &len, \"usr\")",
          "old_line_content": "\t\treturn ret;",
          "new_line_content": "\t\t\t\tmatch_last_path_component(p, &len, \"usr\");",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(p)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tfree(p);",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": null,
          "new_api": "ends_with",
          "old_text": null,
          "new_text": "ends_with(cmd, \"\\\\sh.exe\")",
          "old_line_content": "\t\tif (!sh)",
          "new_line_content": "\tif (ends_with(cmd, \"\\\\sh.exe\")) {",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": null,
          "new_api": "path_lookup",
          "old_text": null,
          "new_text": "path_lookup(\"sh\", 0)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tsh = path_lookup(\"sh\", 0);",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": null,
          "new_api": "fspathcmp",
          "old_text": null,
          "new_text": "fspathcmp(cmd, sh)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\treturn !fspathcmp(cmd, sh);",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": null,
          "new_api": "is_msys2_sh",
          "old_text": null,
          "new_text": "is_msys2_sh(cmd ? cmd : *argv)",
          "old_line_content": "",
          "new_line_content": "\t\tis_msys2_sh(cmd ? cmd : *argv) ?",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": null,
          "new_api": "GetVersion",
          "old_text": null,
          "new_text": "GetVersion()",
          "old_line_content": "",
          "new_line_content": "\t\trestrict_handle_inheritance = GetVersion() >> 16 >= 7601;",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": null,
          "new_api": "CreateFileW",
          "old_text": null,
          "new_text": "CreateFileW(L\"CONOUT$\", GENERIC_WRITE,\n\t\t\tFILE_SHARE_WRITE, NULL, OPEN_EXISTING,\n\t\t\tFILE_ATTRIBUTE_NORMAL, NULL)",
          "old_line_content": "\tif (cons == INVALID_HANDLE_VALUE) {",
          "new_line_content": "\tcons = CreateFileW(L\"CONOUT$\", GENERIC_WRITE,",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(cons)",
          "old_line_content": "\tsi.StartupInfo.cb = sizeof(si);",
          "new_line_content": "\t\tCloseHandle(cons);",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": null,
          "new_api": "winansi_get_osfhandle",
          "old_text": null,
          "new_text": "winansi_get_osfhandle(fhin)",
          "old_line_content": "",
          "new_line_content": "\tsi.StartupInfo.hStdInput = winansi_get_osfhandle(fhin);",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": null,
          "new_api": "winansi_get_osfhandle",
          "old_text": null,
          "new_text": "winansi_get_osfhandle(fhout)",
          "old_line_content": "\t/* The list of handles cannot contain duplicates */",
          "new_line_content": "\tsi.StartupInfo.hStdOutput = winansi_get_osfhandle(fhout);",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": null,
          "new_api": "winansi_get_osfhandle",
          "old_text": null,
          "new_text": "winansi_get_osfhandle(fherr)",
          "old_line_content": "\tif (si.StartupInfo.hStdInput != INVALID_HANDLE_VALUE)",
          "new_line_content": "\tsi.StartupInfo.hStdError = winansi_get_osfhandle(fherr);",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(cmd, *argv)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\tif (*argv && !strcmp(cmd, *argv))",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": null,
          "new_api": "xutftowcs_path",
          "old_text": null,
          "new_text": "xutftowcs_path(wcmd, cmd)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\telse if (xutftowcs_path(wcmd, cmd) < 0)",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": null,
          "new_api": "xutftowcs_path",
          "old_text": null,
          "new_text": "xutftowcs_path(wdir, dir)",
          "old_line_content": "\t/* concatenate argv, quoting args as we go */",
          "new_line_content": "\tif (dir && xutftowcs_path(wdir, dir) < 0)",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&args, quoted)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstrbuf_addstr(&args, quoted);",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&args, quoted)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstrbuf_addstr(&args, quoted);",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": null,
          "new_api": "getenv",
          "old_text": null,
          "new_text": "getenv(\"GIT_STRACE_COMMANDS\")",
          "old_line_content": "\t\tif (!p)",
          "new_line_content": "\tstrace_env = getenv(\"GIT_STRACE_COMMANDS\");",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"strace not found!\")",
          "old_line_content": "\t\t\treturn -1;",
          "new_line_content": "\t\t\treturn error(\"strace not found!\");",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": null,
          "new_api": "xutftowcs_path",
          "old_text": null,
          "new_text": "xutftowcs_path(wcmd, p)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (xutftowcs_path(wcmd, p) < 0) {",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(\"yes\", strace_env)",
          "old_line_content": "\t\telse {",
          "new_line_content": "\t\t    !strcasecmp(\"yes\", strace_env) ||",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": null,
          "new_api": "strbuf_insert",
          "old_text": null,
          "new_text": "strbuf_insert(&args, 0, \"strace \", 7)",
          "old_line_content": "\t\t\tstruct strbuf buf = STRBUF_INIT;",
          "new_line_content": "\t\t\tstrbuf_insert(&args, 0, \"strace \", 7);",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": null,
          "new_api": "quote_arg",
          "old_text": null,
          "new_text": "quote_arg(strace_env)",
          "old_line_content": "\t\t\tif (quoted != strace_env)",
          "new_line_content": "\t\t\tconst char *quoted = quote_arg(strace_env);",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free((char *)quoted)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tfree((char *)quoted);",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": null,
          "new_api": "strbuf_insert",
          "old_text": null,
          "new_text": "strbuf_insert(&args, 0, buf.buf, buf.len)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tstrbuf_insert(&args, 0, buf.buf, buf.len);",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&buf)",
          "old_line_content": "",
          "new_line_content": "\t\t\tstrbuf_release(&buf);",
          "content_same": false
        },
        {
          "line": 1616,
          "old_api": null,
          "new_api": "st_mult",
          "old_text": null,
          "new_text": "st_mult(2, args.len)",
          "old_line_content": "",
          "new_line_content": "\tALLOC_ARRAY(wargs, st_add(st_mult(2, args.len), 1));",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&args)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&args);",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": null,
          "new_api": "make_environment_block",
          "old_text": null,
          "new_text": "make_environment_block(deltaenv)",
          "old_line_content": "\tif (restrict_handle_inheritance && stdhandles_count &&",
          "new_line_content": "\twenvblk = make_environment_block(deltaenv);",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": null,
          "new_api": "GetProcessHeap",
          "old_text": null,
          "new_text": "GetProcessHeap()",
          "old_line_content": "\t\t\t\t      PROC_THREAD_ATTRIBUTE_HANDLE_LIST,",
          "new_line_content": "\t\t\t(HeapAlloc(GetProcessHeap(), 0, size))) &&",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": null,
          "new_api": "InitializeProcThreadAttributeList",
          "old_text": null,
          "new_text": "InitializeProcThreadAttributeList(attr_list, 1, 0, &size)",
          "old_line_content": "\t\t\t\t      stdhandles,",
          "new_line_content": "\t    InitializeProcThreadAttributeList(attr_list, 1, 0, &size) &&",
          "content_same": false
        },
        {
          "line": 1629,
          "old_api": null,
          "new_api": "UpdateProcThreadAttribute",
          "old_text": null,
          "new_text": "UpdateProcThreadAttribute(attr_list, 0,\n\t\t\t\t      PROC_THREAD_ATTRIBUTE_HANDLE_LIST,\n\t\t\t\t      stdhandles,\n\t\t\t\t      stdhandles_count * sizeof(HANDLE),\n\t\t\t\t      NULL, NULL)",
          "old_line_content": "\t\t\t\t      stdhandles_count * sizeof(HANDLE),",
          "new_line_content": "\t    UpdateProcThreadAttribute(attr_list, 0,",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": null,
          "new_api": "CreateProcessW",
          "old_text": null,
          "new_text": "CreateProcessW(*wcmd ? wcmd : NULL, wargs, NULL, NULL,\n\t\t\t     stdhandles_count ? TRUE : FALSE,\n\t\t\t     flags, wenvblk, dir ? wdir : NULL,\n\t\t\t     &si.StartupInfo, &pi)",
          "old_line_content": "\t\t\t     &si.StartupInfo, &pi);",
          "new_line_content": "\tret = CreateProcessW(*wcmd ? wcmd : NULL, wargs, NULL, NULL,",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t\tif (err != ERROR_NO_SYSTEM_RESOURCES &&",
          "new_line_content": "\t\tDWORD err = GetLastError();",
          "content_same": false
        },
        {
          "line": 1666,
          "old_api": null,
          "new_api": "GetVersion",
          "old_text": null,
          "new_text": "GetVersion()",
          "old_line_content": "\t\t\tint i;",
          "new_line_content": "\t\t      GetVersion() >> 16 < 9200) &&",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": null,
          "new_api": "getenv",
          "old_text": null,
          "new_text": "getenv(\"SUPPRESS_HANDLE_INHERITANCE_WARNING\")",
          "old_line_content": "",
          "new_line_content": "\t\t    !getenv(\"SUPPRESS_HANDLE_INHERITANCE_WARNING\")) {",
          "content_same": false
        },
        {
          "line": 1671,
          "old_api": null,
          "new_api": "setenv",
          "old_text": null,
          "new_text": "setenv(\"SUPPRESS_HANDLE_INHERITANCE_WARNING\", \"1\", 1)",
          "old_line_content": "\t\t\t\tHANDLE h = stdhandles[i];",
          "new_line_content": "\t\t\tsetenv(\"SUPPRESS_HANDLE_INHERITANCE_WARNING\", \"1\", 1);",
          "content_same": false
        },
        {
          "line": 1677,
          "old_api": null,
          "new_api": "GetFileType",
          "old_text": null,
          "new_text": "GetFileType(h)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\t    GetFileType(h),",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&buf, \"\\nThis is a bug; please report it \"\n\t\t\t\t      \"at\\nhttps://github.com/git-for-windows/\"\n\t\t\t\t      \"git/issues/new\\n\\n\"\n\t\t\t\t      \"To suppress this warning, please set \"\n\t\t\t\t      \"the environment variable\\n\\n\"\n\t\t\t\t      \"\\tSUPPRESS_HANDLE_INHERITANCE_WARNING=1\"\n\t\t\t\t      \"\\n\")",
          "old_line_content": "\t\t\t\t      \"To suppress this warning, please set \"",
          "new_line_content": "\t\t\tstrbuf_addstr(&buf, \"\\nThis is a bug; please report it \"",
          "content_same": false
        },
        {
          "line": 1691,
          "old_api": null,
          "new_api": "CreateProcessW",
          "old_text": null,
          "new_text": "CreateProcessW(*wcmd ? wcmd : NULL, wargs, NULL, NULL,\n\t\t\t\t     TRUE, flags, wenvblk, dir ? wdir : NULL,\n\t\t\t\t     &si.StartupInfo, &pi)",
          "old_line_content": "\t\tif (!ret)",
          "new_line_content": "\t\tret = CreateProcessW(*wcmd ? wcmd : NULL, wargs, NULL, NULL,",
          "content_same": false
        },
        {
          "line": 1695,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t\t\t\terr, buf.buf);",
          "new_line_content": "\t\t\terrno = err_win_to_posix(GetLastError());",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&buf)",
          "old_line_content": "",
          "new_line_content": "\t\tstrbuf_release(&buf);",
          "content_same": false
        },
        {
          "line": 1705,
          "old_api": null,
          "new_api": "DeleteProcThreadAttributeList",
          "old_text": null,
          "new_text": "DeleteProcThreadAttributeList(si.lpAttributeList)",
          "old_line_content": "",
          "new_line_content": "\t\tDeleteProcThreadAttributeList(si.lpAttributeList);",
          "content_same": false
        },
        {
          "line": 1709,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(wenvblk)",
          "old_line_content": "\tif (!ret)",
          "new_line_content": "\tfree(wenvblk);",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(wargs)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\tfree(wargs);",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(pi.hThread)",
          "old_line_content": "\t * The process ID is the human-readable identifier of the process",
          "new_line_content": "\tCloseHandle(pi.hThread);",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": null,
          "new_api": "EnterCriticalSection",
          "old_text": null,
          "new_text": "EnterCriticalSection(&pinfo_cs)",
          "old_line_content": "\t\tinfo->pid = pi.dwProcessId;",
          "new_line_content": "\tEnterCriticalSection(&pinfo_cs);",
          "content_same": false
        },
        {
          "line": 1727,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(sizeof(struct pinfo_t))",
          "old_line_content": "\t\tinfo->next = pinfo;",
          "new_line_content": "\t\tstruct pinfo_t *info = xmalloc(sizeof(struct pinfo_t));",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": null,
          "new_api": "LeaveCriticalSection",
          "old_text": null,
          "new_text": "LeaveCriticalSection(&pinfo_cs)",
          "old_line_content": "}",
          "new_line_content": "\tLeaveCriticalSection(&pinfo_cs);",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": null,
          "new_api": "mingw_spawnve_fd",
          "old_text": null,
          "new_text": "mingw_spawnve_fd(cmd, argv, NULL, NULL, prepend_cmd, 0, 1, 2)",
          "old_line_content": "pid_t mingw_spawnvpe(const char *cmd, const char **argv, char **deltaenv,",
          "new_line_content": "\treturn mingw_spawnve_fd(cmd, argv, NULL, NULL, prepend_cmd, 0, 1, 2);",
          "content_same": false
        },
        {
          "line": 1748,
          "old_api": null,
          "new_api": "path_lookup",
          "old_text": null,
          "new_text": "path_lookup(cmd, 0)",
          "old_line_content": "\t\terrno = ENOENT;",
          "new_line_content": "\tchar *prog = path_lookup(cmd, 0);",
          "content_same": false
        },
        {
          "line": 1755,
          "old_api": null,
          "new_api": "parse_interpreter",
          "old_text": null,
          "new_text": "parse_interpreter(prog)",
          "old_line_content": "\t\t\tconst char *argv0 = argv[0];",
          "new_line_content": "\t\tconst char *interpr = parse_interpreter(prog);",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": null,
          "new_api": "path_lookup",
          "old_text": null,
          "new_text": "path_lookup(interpr, 1)",
          "old_line_content": "\t\t\t\terrno = ENOENT;",
          "new_line_content": "\t\t\tchar *iprog = path_lookup(interpr, 1);",
          "content_same": false
        },
        {
          "line": 1766,
          "old_api": null,
          "new_api": "mingw_spawnve_fd",
          "old_text": null,
          "new_text": "mingw_spawnve_fd(iprog, argv, deltaenv, dir, 1,\n\t\t\t\t\t\t       fhin, fhout, fherr)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tpid = mingw_spawnve_fd(iprog, argv, deltaenv, dir, 1,",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(iprog)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tfree(iprog);",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": null,
          "new_api": "mingw_spawnve_fd",
          "old_text": null,
          "new_text": "mingw_spawnve_fd(prog, argv, deltaenv, dir, 0,\n\t\t\t\t\t       fhin, fhout, fherr)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tpid = mingw_spawnve_fd(prog, argv, deltaenv, dir, 0,",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(prog)",
          "old_line_content": "}",
          "new_line_content": "\t\tfree(prog);",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": null,
          "new_api": "parse_interpreter",
          "old_text": null,
          "new_text": "parse_interpreter(cmd)",
          "old_line_content": "",
          "new_line_content": "\tconst char *interpr = parse_interpreter(cmd);",
          "content_same": false
        },
        {
          "line": 1788,
          "old_api": null,
          "new_api": "path_lookup",
          "old_text": null,
          "new_text": "path_lookup(interpr, 1)",
          "old_line_content": "\t\tint argc = 0;",
          "new_line_content": "\tprog = path_lookup(interpr, 1);",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": null,
          "new_api": "COPY_ARRAY",
          "old_text": null,
          "new_text": "COPY_ARRAY(&argv2[1], &argv[1], argc)",
          "old_line_content": "\t\tif (pid >= 0) {",
          "new_line_content": "\t\tCOPY_ARRAY(&argv2[1], &argv[1], argc);",
          "content_same": false
        },
        {
          "line": 1800,
          "old_api": null,
          "new_api": "trace2_exec",
          "old_text": null,
          "new_text": "trace2_exec(prog, argv2)",
          "old_line_content": "\t\t\tint status;",
          "new_line_content": "\t\texec_id = trace2_exec(prog, argv2);",
          "content_same": false
        },
        {
          "line": 1807,
          "old_api": null,
          "new_api": "exit",
          "old_text": null,
          "new_text": "exit(status)",
          "old_line_content": "\t\tpid = 1;\t/* indicate that we tried but failed */",
          "new_line_content": "\t\t\texit(status);",
          "content_same": false
        },
        {
          "line": 1811,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(prog)",
          "old_line_content": "\treturn pid;",
          "new_line_content": "\t\tfree(prog);",
          "content_same": false
        },
        {
          "line": 1812,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(argv2)",
          "old_line_content": "}",
          "new_line_content": "\t\tfree(argv2);",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": null,
          "new_api": "try_shell_exec",
          "old_text": null,
          "new_text": "try_shell_exec(cmd, argv)",
          "old_line_content": "",
          "new_line_content": "\tif (!try_shell_exec(cmd, argv)) {",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": null,
          "new_api": "mingw_spawnv",
          "old_text": null,
          "new_text": "mingw_spawnv(cmd, (const char **)argv, 0)",
          "old_line_content": "\t\t\treturn -1;",
          "new_line_content": "\t\tpid = mingw_spawnv(cmd, (const char **)argv, 0);",
          "content_same": false
        },
        {
          "line": 1832,
          "old_api": null,
          "new_api": "trace2_exec_result",
          "old_text": null,
          "new_text": "trace2_exec_result(exec_id, status)",
          "old_line_content": "\treturn -1;",
          "new_line_content": "\t\ttrace2_exec_result(exec_id, status);",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": null,
          "new_api": "exit",
          "old_text": null,
          "new_text": "exit(status)",
          "old_line_content": "}",
          "new_line_content": "\t\texit(status);",
          "content_same": false
        },
        {
          "line": 1843,
          "old_api": null,
          "new_api": "mingw_execv",
          "old_text": null,
          "new_text": "mingw_execv(prog, argv)",
          "old_line_content": "\t\terrno = ENOENT;",
          "new_line_content": "\t\tmingw_execv(prog, argv);",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(prog)",
          "old_line_content": "",
          "new_line_content": "\t\tfree(prog);",
          "content_same": false
        },
        {
          "line": 1856,
          "old_api": null,
          "new_api": "TerminateProcess",
          "old_text": null,
          "new_text": "TerminateProcess(h, -1)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (TerminateProcess(h, -1)) {",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(h)",
          "old_line_content": "",
          "new_line_content": "\t\t\tCloseHandle(h);",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t} else if (pid > 0 && sig == 0) {",
          "new_line_content": "\t\terrno = err_win_to_posix(GetLastError());",
          "content_same": false
        },
        {
          "line": 1865,
          "old_api": null,
          "new_api": "OpenProcess",
          "old_text": null,
          "new_text": "OpenProcess(PROCESS_QUERY_INFORMATION, FALSE, pid)",
          "old_line_content": "\t\t\treturn 0;",
          "new_line_content": "\t\tHANDLE h = OpenProcess(PROCESS_QUERY_INFORMATION, FALSE, pid);",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(h)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tCloseHandle(h);",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(name)",
          "old_line_content": "\tif (!w_key)",
          "new_line_content": "\tlen_key = strlen(name) + 1;",
          "content_same": false
        },
        {
          "line": 1902,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(w_value)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\tlen_value = GetEnvironmentVariableW(w_key, w_value, ARRAY_SIZE(w_value));",
          "content_same": false
        },
        {
          "line": 1903,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!len_value && GetLastError() == ERROR_ENVVAR_NOT_FOUND) {",
          "content_same": false
        },
        {
          "line": 1907,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(w_key)",
          "old_line_content": "\t/* We cannot use xcalloc() here because that uses getenv() itself */",
          "new_line_content": "\tfree(w_key);",
          "content_same": false
        },
        {
          "line": 1913,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Out of memory, (tried to allocate %u bytes)\", len_value)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\tdie(\"Out of memory, (tried to allocate %u bytes)\", len_value);",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": null,
          "new_api": "xwcstoutf",
          "old_text": null,
          "new_text": "xwcstoutf(value, w_value, len_value)",
          "old_line_content": "\t * We return `value` which is an allocated value and the caller is NOT",
          "new_line_content": "\txwcstoutf(value, w_value, len_value);",
          "content_same": false
        },
        {
          "line": 1921,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(values[value_counter])",
          "old_line_content": "\t\tvalue_counter = 0;",
          "new_line_content": "\tfree(values[value_counter]);",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(values)",
          "old_line_content": "\treturn value;",
          "new_line_content": "\tif (value_counter >= ARRAY_SIZE(values))",
          "content_same": false
        },
        {
          "line": 1941,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Out of memory, (tried to allocate %u wchar_t's)\", size)",
          "old_line_content": "\tif (!equal)",
          "new_line_content": "\t\tdie(\"Out of memory, (tried to allocate %u wchar_t's)\", size);",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": null,
          "new_api": "wcschr",
          "old_text": null,
          "new_text": "wcschr(wide, L'=')",
          "old_line_content": "\telse {",
          "new_line_content": "\tequal = wcschr(wide, L'=');",
          "content_same": false
        },
        {
          "line": 1948,
          "old_api": null,
          "new_api": "SetEnvironmentVariableW",
          "old_text": null,
          "new_text": "SetEnvironmentVariableW(wide, equal + 1)",
          "old_line_content": "",
          "new_line_content": "\t\tresult = SetEnvironmentVariableW(wide, equal + 1);",
          "content_same": false
        },
        {
          "line": 1953,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "}",
          "new_line_content": "\t\terrno = err_win_to_posix(GetLastError());",
          "content_same": false
        },
        {
          "line": 1966,
          "old_api": null,
          "new_api": "MAKEWORD",
          "old_text": null,
          "new_text": "MAKEWORD(2,2)",
          "old_line_content": "",
          "new_line_content": "\tif (WSAStartup(MAKEWORD(2,2), &wsa))",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": null,
          "new_api": "WSAGetLastError",
          "old_text": null,
          "new_text": "WSAGetLastError()",
          "old_line_content": "\tinitialized = 1;",
          "new_line_content": "\t\t\tWSAGetLastError());",
          "content_same": false
        },
        {
          "line": 1970,
          "old_api": null,
          "new_api": "atexit",
          "old_text": null,
          "new_text": "atexit((void(*)(void)) WSACleanup)",
          "old_line_content": "",
          "new_line_content": "\tatexit((void(*)(void)) WSACleanup);",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": null,
          "new_api": "ensure_socket_initialization",
          "old_text": null,
          "new_text": "ensure_socket_initialization()",
          "old_line_content": "",
          "new_line_content": "    ensure_socket_initialization();",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": null,
          "new_api": "gethostname",
          "old_text": null,
          "new_text": "gethostname(name, namelen)",
          "old_line_content": "#undef gethostbyname",
          "new_line_content": "    return gethostname(name, namelen);",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": null,
          "new_api": "ensure_socket_initialization",
          "old_text": null,
          "new_text": "ensure_socket_initialization()",
          "old_line_content": "",
          "new_line_content": "\tensure_socket_initialization();",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": null,
          "new_api": "gethostbyname",
          "old_text": null,
          "new_text": "gethostbyname(host)",
          "old_line_content": "#undef getaddrinfo",
          "new_line_content": "\treturn gethostbyname(host);",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": null,
          "new_api": "ensure_socket_initialization",
          "old_text": null,
          "new_text": "ensure_socket_initialization()",
          "old_line_content": "",
          "new_line_content": "\tensure_socket_initialization();",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": null,
          "new_api": "getaddrinfo",
          "old_text": null,
          "new_text": "getaddrinfo(node, service, hints, res)",
          "old_line_content": "int mingw_socket(int domain, int type, int protocol)",
          "new_line_content": "\treturn getaddrinfo(node, service, hints, res);",
          "content_same": false
        },
        {
          "line": 2001,
          "old_api": null,
          "new_api": "ensure_socket_initialization",
          "old_text": null,
          "new_text": "ensure_socket_initialization()",
          "old_line_content": "\t\t/*",
          "new_line_content": "\tensure_socket_initialization();",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": null,
          "new_api": "WSASocket",
          "old_text": null,
          "new_text": "WSASocket(domain, type, protocol, NULL, 0, 0)",
          "old_line_content": "\t\t * WSAGetLastError() values are regular BSD error codes",
          "new_line_content": "\ts = WSASocket(domain, type, protocol, NULL, 0, 0);",
          "content_same": false
        },
        {
          "line": 2013,
          "old_api": null,
          "new_api": "WSAGetLastError",
          "old_text": null,
          "new_text": "WSAGetLastError()",
          "old_line_content": "\t/* convert into a file descriptor */",
          "new_line_content": "\t\terrno = WSAGetLastError();",
          "content_same": false
        },
        {
          "line": 2018,
          "old_api": null,
          "new_api": "closesocket",
          "old_text": null,
          "new_text": "closesocket(s)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tclosesocket(s);",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"unable to make a socket file descriptor: %s\",\n\t\t\tstrerror(errno))",
          "old_line_content": "\treturn sockfd;",
          "new_line_content": "\t\treturn error(\"unable to make a socket file descriptor: %s\",",
          "content_same": false
        },
        {
          "line": 2020,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tstrerror(errno));",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": null,
          "new_api": "_get_osfhandle",
          "old_text": null,
          "new_text": "_get_osfhandle(sockfd)",
          "old_line_content": "",
          "new_line_content": "\tSOCKET s = (SOCKET)_get_osfhandle(sockfd);",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": null,
          "new_api": "connect",
          "old_text": null,
          "new_text": "connect(s, sa, sz)",
          "old_line_content": "#undef bind",
          "new_line_content": "\treturn connect(s, sa, sz);",
          "content_same": false
        },
        {
          "line": 2035,
          "old_api": null,
          "new_api": "_get_osfhandle",
          "old_text": null,
          "new_text": "_get_osfhandle(sockfd)",
          "old_line_content": "",
          "new_line_content": "\tSOCKET s = (SOCKET)_get_osfhandle(sockfd);",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": null,
          "new_api": "bind",
          "old_text": null,
          "new_text": "bind(s, sa, sz)",
          "old_line_content": "#undef setsockopt",
          "new_line_content": "\treturn bind(s, sa, sz);",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": null,
          "new_api": "_get_osfhandle",
          "old_text": null,
          "new_text": "_get_osfhandle(sockfd)",
          "old_line_content": "",
          "new_line_content": "\tSOCKET s = (SOCKET)_get_osfhandle(sockfd);",
          "content_same": false
        },
        {
          "line": 2043,
          "old_api": null,
          "new_api": "setsockopt",
          "old_text": null,
          "new_text": "setsockopt(s, lvl, optname, (const char*)optval, optlen)",
          "old_line_content": "#undef shutdown",
          "new_line_content": "\treturn setsockopt(s, lvl, optname, (const char*)optval, optlen);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2053,
          "old_api": "_get_osfhandle",
          "new_api": null,
          "old_text": "_get_osfhandle(sockfd)",
          "new_text": null,
          "old_line_content": "\tSOCKET s = (SOCKET)_get_osfhandle(sockfd);",
          "new_line_content": "#undef listen",
          "content_same": false
        },
        {
          "line": 2054,
          "old_api": "listen",
          "new_api": null,
          "old_text": "listen(s, backlog)",
          "new_text": null,
          "old_line_content": "\treturn listen(s, backlog);",
          "new_line_content": "int mingw_listen(int sockfd, int backlog)",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": "_get_osfhandle",
          "new_api": null,
          "old_text": "_get_osfhandle(sockfd1)",
          "new_text": null,
          "old_line_content": "\tSOCKET s1 = (SOCKET)_get_osfhandle(sockfd1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": "accept",
          "new_api": null,
          "old_text": "accept(s1, sa, sz)",
          "new_text": null,
          "old_line_content": "\tSOCKET s2 = accept(s1, sa, sz);",
          "new_line_content": "\tint sockfd2;",
          "content_same": false
        },
        {
          "line": 2068,
          "old_api": "closesocket",
          "new_api": null,
          "old_text": "closesocket(s2)",
          "new_text": null,
          "old_line_content": "\t\tclosesocket(s2);",
          "new_line_content": "\t/* convert into a file descriptor */",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(err)",
          "new_text": null,
          "old_line_content": "\t\t\tstrerror(err));",
          "new_line_content": "\t\tint err = errno;",
          "content_same": false
        },
        {
          "line": 2081,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wpnew, pnew)",
          "new_text": null,
          "old_line_content": "\tif (xutftowcs_path(wpold, pold) < 0 || xutftowcs_path(wpnew, pnew) < 0)",
          "new_line_content": "\tDWORD attrs, gle;",
          "content_same": false
        },
        {
          "line": 2088,
          "old_api": "_wrename",
          "new_api": null,
          "old_text": "_wrename(wpold, wpnew)",
          "new_text": null,
          "old_line_content": "\tif (!_wrename(wpold, wpnew))",
          "new_line_content": "\t * Try native rename() first to get errno right.",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": "MoveFileExW",
          "new_api": null,
          "old_text": "MoveFileExW(wpold, wpnew, MOVEFILE_REPLACE_EXISTING)",
          "new_text": null,
          "old_line_content": "\tif (MoveFileExW(wpold, wpnew, MOVEFILE_REPLACE_EXISTING))",
          "new_line_content": "\tif (errno != EEXIST)",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": "GetFileAttributesW",
          "new_api": null,
          "old_text": "GetFileAttributesW(wpnew)",
          "new_text": null,
          "old_line_content": "\t    (attrs = GetFileAttributesW(wpnew)) != INVALID_FILE_ATTRIBUTES) {",
          "new_line_content": "\t/* TODO: translate more errors */",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": "GetFileAttributesW",
          "new_api": null,
          "old_text": "GetFileAttributesW(wpold)",
          "new_text": null,
          "old_line_content": "\t\t\tDWORD attrsold = GetFileAttributesW(wpold);",
          "new_line_content": "\tif (gle == ERROR_ACCESS_DENIED &&",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": "_wrmdir",
          "new_api": null,
          "old_text": "_wrmdir(wpnew)",
          "new_text": null,
          "old_line_content": "\t\t\telse if (!_wrmdir(wpnew))",
          "new_line_content": "\t\t\tif (attrsold == INVALID_FILE_ATTRIBUTES ||",
          "content_same": false
        },
        {
          "line": 2109,
          "old_api": "SetFileAttributesW",
          "new_api": null,
          "old_text": "SetFileAttributesW(wpnew, attrs & ~FILE_ATTRIBUTE_READONLY)",
          "new_text": null,
          "old_line_content": "\t\t    SetFileAttributesW(wpnew, attrs & ~FILE_ATTRIBUTE_READONLY)) {",
          "new_line_content": "\t\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": "MoveFileExW",
          "new_api": null,
          "old_text": "MoveFileExW(wpold, wpnew, MOVEFILE_REPLACE_EXISTING)",
          "new_text": null,
          "old_line_content": "\t\t\tif (MoveFileExW(wpold, wpnew, MOVEFILE_REPLACE_EXISTING))",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2114,
          "old_api": "SetFileAttributesW",
          "new_api": null,
          "old_text": "SetFileAttributesW(wpnew, attrs)",
          "new_text": null,
          "old_line_content": "\t\t\tSetFileAttributesW(wpnew, attrs);",
          "new_line_content": "\t\t\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": "Sleep",
          "new_api": null,
          "old_text": "Sleep(delay[tries])",
          "new_text": null,
          "old_line_content": "\t\tSleep(delay[tries]);",
          "new_line_content": "\t\t * complete its operation, we give up our time slice now.",
          "content_same": false
        },
        {
          "line": 2130,
          "old_api": "ask_yes_no_if_possible",
          "new_api": null,
          "old_text": "ask_yes_no_if_possible(\"Rename from '%s' to '%s' failed. \"\n\t\t       \"Should I try again?\", pold, pnew)",
          "new_text": null,
          "old_line_content": "\t       ask_yes_no_if_possible(\"Rename from '%s' to '%s' failed. \"",
          "new_line_content": "\t\tgoto repeat;",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": "GetSystemInfo",
          "new_api": null,
          "old_text": "GetSystemInfo(&si)",
          "new_text": null,
          "old_line_content": "\tGetSystemInfo(&si);",
          "new_line_content": "int mingw_getpagesize(void)",
          "content_same": false
        },
        {
          "line": 2158,
          "old_api": "DECLARE_PROC_ADDR",
          "new_api": null,
          "old_text": "DECLARE_PROC_ADDR(secur32.dll, BOOL, GetUserNameExW,\n\t\tenum EXTENDED_NAME_FORMAT, LPCWSTR, PULONG)",
          "new_text": null,
          "old_line_content": "\tDECLARE_PROC_ADDR(secur32.dll, BOOL, GetUserNameExW,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2163,
          "old_api": "INIT_PROC_ADDR",
          "new_api": null,
          "old_text": "INIT_PROC_ADDR(GetUserNameExW)",
          "new_text": null,
          "old_line_content": "\tif (!INIT_PROC_ADDR(GetUserNameExW))",
          "new_line_content": "\tstatic wchar_t wbuffer[1024];",
          "content_same": false
        },
        {
          "line": 2167,
          "old_api": "GetUserNameExW",
          "new_api": null,
          "old_text": "GetUserNameExW(type, wbuffer, &len)",
          "new_text": null,
          "old_line_content": "\tif (GetUserNameExW(type, wbuffer, &len)) {",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 2168,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc((len *= 3))",
          "new_text": null,
          "old_line_content": "\t\tchar *converted = xmalloc((len *= 3));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2179,
          "old_api": "get_extended_user_info",
          "new_api": null,
          "old_text": "get_extended_user_info(NameUserPrincipal)",
          "new_text": null,
          "old_line_content": "\treturn get_extended_user_info(NameUserPrincipal);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2193,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(buf)",
          "new_text": null,
          "old_line_content": "\tlen = ARRAY_SIZE(buf);",
          "new_line_content": "\tif (initialized)",
          "content_same": false
        },
        {
          "line": 2194,
          "old_api": "GetUserNameW",
          "new_api": null,
          "old_text": "GetUserNameW(buf, &len)",
          "new_text": null,
          "old_line_content": "\tif (!GetUserNameW(buf, &len)) {",
          "new_line_content": "\t\treturn p;",
          "content_same": false
        },
        {
          "line": 2199,
          "old_api": "xwcstoutf",
          "new_api": null,
          "old_text": "xwcstoutf(user_name, buf, sizeof(user_name))",
          "new_text": null,
          "old_line_content": "\tif (xwcstoutf(user_name, buf, sizeof(user_name)) < 0) {",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 2204,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(sizeof(*p))",
          "new_text": null,
          "old_line_content": "\tp = xmalloc(sizeof(*p));",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 2206,
          "old_api": "get_extended_user_info",
          "new_api": null,
          "old_text": "get_extended_user_info(NameDisplay)",
          "new_text": null,
          "old_line_content": "\tp->pw_gecos = get_extended_user_info(NameDisplay);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2232,
          "old_api": "WaitForSingleObject",
          "new_api": null,
          "old_text": "WaitForSingleObject(timer_event, timer_interval)",
          "new_text": null,
          "old_line_content": "\twhile (WaitForSingleObject(timer_event, timer_interval) == WAIT_TIMEOUT) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2233,
          "old_api": "mingw_raise",
          "new_api": null,
          "old_text": "mingw_raise(SIGALRM)",
          "new_text": null,
          "old_line_content": "\t\tmingw_raise(SIGALRM);",
          "new_line_content": "static unsigned __stdcall ticktack(void *dummy)",
          "content_same": false
        },
        {
          "line": 2242,
          "old_api": "CreateEvent",
          "new_api": null,
          "old_text": "CreateEvent(NULL, FALSE, FALSE, NULL)",
          "new_text": null,
          "old_line_content": "\ttimer_event = CreateEvent(NULL, FALSE, FALSE, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2244,
          "old_api": "_beginthreadex",
          "new_api": null,
          "old_text": "_beginthreadex(NULL, 0, ticktack, NULL, 0, NULL)",
          "new_text": null,
          "old_line_content": "\t\ttimer_thread = (HANDLE) _beginthreadex(NULL, 0, ticktack, NULL, 0, NULL);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2257,
          "old_api": "SetEvent",
          "new_api": null,
          "old_text": "SetEvent(timer_event)",
          "new_text": null,
          "old_line_content": "\t\tSetEvent(timer_event);\t/* tell thread to terminate */",
          "new_line_content": "static void stop_timer_thread(void)",
          "content_same": false
        },
        {
          "line": 2259,
          "old_api": "WaitForSingleObject",
          "new_api": null,
          "old_text": "WaitForSingleObject(timer_thread, 10000)",
          "new_text": null,
          "old_line_content": "\t\tint rc = WaitForSingleObject(timer_thread, 10000);",
          "new_line_content": "\tif (timer_event)",
          "content_same": false
        },
        {
          "line": 2261,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"timer thread did not terminate timely\")",
          "new_text": null,
          "old_line_content": "\t\t\terror(\"timer thread did not terminate timely\");",
          "new_line_content": "\tif (timer_thread) {",
          "content_same": false
        },
        {
          "line": 2263,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"waiting for timer thread failed: %lu\",\n\t\t\t      GetLastError())",
          "new_text": null,
          "old_line_content": "\t\t\terror(\"waiting for timer thread failed: %lu\",",
          "new_line_content": "\t\tif (rc == WAIT_TIMEOUT)",
          "content_same": false
        },
        {
          "line": 2265,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(timer_thread)",
          "new_text": null,
          "old_line_content": "\t\tCloseHandle(timer_thread);",
          "new_line_content": "\t\telse if (rc != WAIT_OBJECT_0)",
          "content_same": false
        },
        {
          "line": 2285,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"setitimer param 3 != NULL not implemented\")",
          "new_text": null,
          "old_line_content": "\t\t\terror(\"setitimer param 3 != NULL not implemented\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2286,
          "old_api": "is_timeval_eq",
          "new_api": null,
          "old_text": "is_timeval_eq(&in->it_interval, &zero)",
          "new_text": null,
          "old_line_content": "\tif (!is_timeval_eq(&in->it_interval, &zero) &&",
          "new_line_content": "\tif (out != NULL)",
          "content_same": false
        },
        {
          "line": 2287,
          "old_api": "is_timeval_eq",
          "new_api": null,
          "old_text": "is_timeval_eq(&in->it_interval, &in->it_value)",
          "new_text": null,
          "old_line_content": "\t    !is_timeval_eq(&in->it_interval, &in->it_value))",
          "new_line_content": "\t\treturn errno = EINVAL,",
          "content_same": false
        },
        {
          "line": 2294,
          "old_api": "is_timeval_eq",
          "new_api": null,
          "old_text": "is_timeval_eq(&in->it_value, &zero)",
          "new_text": null,
          "old_line_content": "\tif (is_timeval_eq(&in->it_value, &zero) &&",
          "new_line_content": "\tif (timer_thread)",
          "content_same": false
        },
        {
          "line": 2299,
          "old_api": "is_timeval_eq",
          "new_api": null,
          "old_text": "is_timeval_eq(&in->it_interval, &zero)",
          "new_text": null,
          "old_line_content": "\tone_shot = is_timeval_eq(&in->it_interval, &zero);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 2301,
          "old_api": "atexit",
          "new_api": null,
          "old_text": "atexit(stop_timer_thread)",
          "new_text": null,
          "old_line_content": "\t\tatexit(stop_timer_thread);",
          "new_line_content": "\ttimer_interval = in->it_value.tv_sec * 1000 + in->it_value.tv_usec / 1000;",
          "content_same": false
        },
        {
          "line": 2311,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"sigaction only implemented for SIGALRM\")",
          "new_text": null,
          "old_line_content": "\t\t\terror(\"sigaction only implemented for SIGALRM\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2337,
          "old_api": "signal",
          "new_api": null,
          "old_text": "signal(sig, handler)",
          "new_text": null,
          "old_line_content": "\t\treturn signal(sig, handler);",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": "_wchmod",
          "new_api": null,
          "old_text": "_wchmod(wpathname, 0666)",
          "new_text": null,
          "old_line_content": "\t_wchmod(wpathname, 0666);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 295,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(delay)",
          "new_text": null,
          "old_line_content": "\twhile ((ret = _wunlink(wpathname)) == -1 && tries < ARRAY_SIZE(delay)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\t\tif (!is_file_in_use_error(GetLastError()))",
          "new_line_content": "\t/* read-only files cannot be removed */",
          "content_same": false
        },
        {
          "line": 2349,
          "old_api": "isatty",
          "new_api": null,
          "old_text": "isatty(STDERR_FILENO)",
          "new_text": null,
          "old_line_content": "\t\t\tif (isatty(STDERR_FILENO))",
          "new_line_content": "\tswitch (sig) {",
          "content_same": false
        },
        {
          "line": 2350,
          "old_api": "fputs",
          "new_api": null,
          "old_text": "fputs(\"Alarm clock\\n\", stderr)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfputs(\"Alarm clock\\n\", stderr);",
          "new_line_content": "\tcase SIGALRM:",
          "content_same": false
        },
        {
          "line": 2351,
          "old_api": "exit",
          "new_api": null,
          "old_text": "exit(128 + SIGALRM)",
          "new_text": null,
          "old_line_content": "\t\t\texit(128 + SIGALRM);",
          "new_line_content": "\t\tif (timer_fn == SIG_DFL) {",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": "Sleep",
          "new_api": null,
          "old_text": "Sleep(delay[tries])",
          "new_text": null,
          "old_line_content": "\t\tSleep(delay[tries]);",
          "new_line_content": "\t\t * complete its operation, we give up our time slice now.",
          "content_same": false
        },
        {
          "line": 309,
          "old_api": "ask_yes_no_if_possible",
          "new_api": null,
          "old_text": "ask_yes_no_if_possible(\"Unlink of file '%s' failed. \"\n\t\t\t\"Should I try again?\", pathname)",
          "new_text": null,
          "old_line_content": "\t       ask_yes_no_if_possible(\"Unlink of file '%s' failed. \"",
          "new_line_content": "\t\ttries++;",
          "content_same": false
        },
        {
          "line": 2358,
          "old_api": "exit",
          "new_api": null,
          "old_text": "exit(128 + SIGINT)",
          "new_text": null,
          "old_line_content": "\t\t\texit(128 + SIGINT);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2360,
          "old_api": "sigint_fn",
          "new_api": null,
          "old_text": "sigint_fn(SIGINT)",
          "new_text": null,
          "old_line_content": "\t\t\tsigint_fn(SIGINT);",
          "new_line_content": "\t\tif (sigint_fn == SIG_DFL)",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": "wcscpy",
          "new_api": null,
          "old_text": "wcscpy(wbuf, wpath)",
          "new_text": null,
          "old_line_content": "\twcscpy(wbuf, wpath);",
          "new_line_content": "\tWIN32_FIND_DATAW findbuf;",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": "wcscat",
          "new_api": null,
          "old_text": "wcscat(wbuf, L\"\\\\*\")",
          "new_text": null,
          "old_line_content": "\twcscat(wbuf, L\"\\\\*\");",
          "new_line_content": "\tHANDLE handle;",
          "content_same": false
        },
        {
          "line": 322,
          "old_api": "FindFirstFileW",
          "new_api": null,
          "old_text": "FindFirstFileW(wbuf, &findbuf)",
          "new_text": null,
          "old_line_content": "\thandle = FindFirstFileW(wbuf, &findbuf);",
          "new_line_content": "\twchar_t wbuf[MAX_PATH + 2];",
          "content_same": false
        },
        {
          "line": 326,
          "old_api": "wcscmp",
          "new_api": null,
          "old_text": "wcscmp(findbuf.cFileName, L\".\")",
          "new_text": null,
          "old_line_content": "\twhile (!wcscmp(findbuf.cFileName, L\".\") ||",
          "new_line_content": "\tif (handle == INVALID_HANDLE_VALUE)",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": "FindNextFileW",
          "new_api": null,
          "old_text": "FindNextFileW(handle, &findbuf)",
          "new_text": null,
          "old_line_content": "\t\tif (!FindNextFileW(handle, &findbuf)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2378,
          "old_api": "raise",
          "new_api": null,
          "old_text": "raise(sig)",
          "new_text": null,
          "old_line_content": "\t\treturn raise(sig);",
          "new_line_content": "\t\t * Abort/Retry/Ignore dialog). We by-pass the CRT for things we",
          "content_same": false
        },
        {
          "line": 2386,
          "old_api": "raise",
          "new_api": null,
          "old_text": "raise(sig)",
          "new_text": null,
          "old_line_content": "\t\treturn raise(sig);",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wpathname, pathname)",
          "new_text": null,
          "old_line_content": "\tif (xutftowcs_path(wpathname, pathname) < 0)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\t\tif (!is_file_in_use_error(GetLastError()))",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\t\t\terrno = err_win_to_posix(GetLastError());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2396,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(woldpath, oldpath)",
          "new_text": null,
          "old_line_content": "\tif (xutftowcs_path(woldpath, oldpath) < 0 ||",
          "new_line_content": "int link(const char *oldpath, const char *newpath)",
          "content_same": false
        },
        {
          "line": 2397,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wnewpath, newpath)",
          "new_text": null,
          "old_line_content": "\t\txutftowcs_path(wnewpath, newpath) < 0)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2401,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\t\terrno = err_win_to_posix(GetLastError());",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": "Sleep",
          "new_api": null,
          "old_text": "Sleep(delay[tries])",
          "new_text": null,
          "old_line_content": "\t\tSleep(delay[tries]);",
          "new_line_content": "\t\t * complete its operation, we give up our time slice now.",
          "content_same": false
        },
        {
          "line": 2409,
          "old_api": "OpenProcess",
          "new_api": null,
          "old_text": "OpenProcess(SYNCHRONIZE | PROCESS_QUERY_INFORMATION,\n\t    FALSE, pid)",
          "new_text": null,
          "old_line_content": "\tHANDLE h = OpenProcess(SYNCHRONIZE | PROCESS_QUERY_INFORMATION,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": "ask_yes_no_if_possible",
          "new_api": null,
          "old_text": "ask_yes_no_if_possible(\"Deletion of directory '%s' failed. \"\n\t\t\t\"Should I try again?\", pathname)",
          "new_text": null,
          "old_line_content": "\t       ask_yes_no_if_possible(\"Deletion of directory '%s' failed. \"",
          "new_line_content": "\t\ttries++;",
          "content_same": false
        },
        {
          "line": 2417,
          "old_api": "WaitForSingleObject",
          "new_api": null,
          "old_text": "WaitForSingleObject(h, 0)",
          "new_text": null,
          "old_line_content": "\t\tif (WAIT_OBJECT_0 != WaitForSingleObject(h, 0)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2418,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(h)",
          "new_text": null,
          "old_line_content": "\t\t\tCloseHandle(h);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2426,
          "old_api": "WaitForSingleObject",
          "new_api": null,
          "old_text": "WaitForSingleObject(h, INFINITE)",
          "new_text": null,
          "old_line_content": "\t\tif (WaitForSingleObject(h, INFINITE) != WAIT_OBJECT_0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2427,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(h)",
          "new_text": null,
          "old_line_content": "\t\t\tCloseHandle(h);",
          "new_line_content": "\tif (options == 0) {",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": "win32_skip_dos_drive_prefix",
          "new_api": null,
          "old_text": "win32_skip_dos_drive_prefix((char **)&path)",
          "new_text": null,
          "old_line_content": "\twin32_skip_dos_drive_prefix((char **)&path);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": "is_dir_sep",
          "new_api": null,
          "old_text": "is_dir_sep(*path)",
          "new_text": null,
          "old_line_content": "\t\tif (is_dir_sep(*path)) {",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 2432,
          "old_api": "GetExitCodeProcess",
          "new_api": null,
          "old_text": "GetExitCodeProcess(h, (LPDWORD)status)",
          "new_text": null,
          "old_line_content": "\t\t\tGetExitCodeProcess(h, (LPDWORD)status);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2434,
          "old_api": "EnterCriticalSection",
          "new_api": null,
          "old_text": "EnterCriticalSection(&pinfo_cs)",
          "new_text": null,
          "old_line_content": "\t\tEnterCriticalSection(&pinfo_cs);",
          "new_line_content": "\t\tif (status)",
          "content_same": false
        },
        {
          "line": 2440,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(info->proc)",
          "new_text": null,
          "old_line_content": "\t\t\t\tCloseHandle(info->proc);",
          "new_line_content": "\t\twhile (*ppinfo) {",
          "content_same": false
        },
        {
          "line": 2442,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(info)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfree(info);",
          "new_line_content": "\t\t\tif (info->pid == pid) {",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(hide_dotfiles == HIDE_DOTFILES_DOTGITONLY)",
          "new_text": null,
          "old_line_content": "\tassert(hide_dotfiles == HIDE_DOTFILES_DOTGITONLY);",
          "new_line_content": "\tif (hide_dotfiles == HIDE_DOTFILES_TRUE)",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": "strncasecmp",
          "new_api": null,
          "old_text": "strncasecmp(\".git\", basename, 4)",
          "new_text": null,
          "old_line_content": "\treturn !strncasecmp(\".git\", basename, 4) &&",
          "new_line_content": "\t\treturn *basename == '.';",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": "is_dir_sep",
          "new_api": null,
          "old_text": "is_dir_sep(basename[4])",
          "new_text": null,
          "old_line_content": "\t\t(!basename[4] || is_dir_sep(basename[4]));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2448,
          "old_api": "LeaveCriticalSection",
          "new_api": null,
          "old_text": "LeaveCriticalSection(&pinfo_cs)",
          "new_text": null,
          "old_line_content": "\t\tLeaveCriticalSection(&pinfo_cs);",
          "new_line_content": "\t\t\tppinfo = &info->next;",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(h)",
          "new_text": null,
          "old_line_content": "\t\tCloseHandle(h);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 404,
          "old_api": "GetFileAttributesW",
          "new_api": null,
          "old_text": "GetFileAttributesW(path)",
          "new_text": null,
          "old_line_content": "\tDWORD original = GetFileAttributesW(path), modified;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "SetFileAttributesW",
          "new_api": null,
          "old_text": "SetFileAttributesW(path, modified)",
          "new_text": null,
          "old_line_content": "\tif (original == modified || SetFileAttributesW(path, modified))",
          "new_line_content": "\t\tmodified = original | FILE_ATTRIBUTE_HIDDEN;",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\terrno = err_win_to_posix(GetLastError());",
          "new_line_content": "\t\tmodified = original & ~FILE_ATTRIBUTE_HIDDEN;",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": "is_valid_win32_path",
          "new_api": null,
          "old_text": "is_valid_win32_path(path, 0)",
          "new_text": null,
          "old_line_content": "\tif (!is_valid_win32_path(path, 0)) {",
          "new_line_content": "\tint ret;",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wpath, path)",
          "new_text": null,
          "old_line_content": "\tif (xutftowcs_path(wpath, path) < 0)",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "_wmkdir",
          "new_api": null,
          "old_text": "_wmkdir(wpath)",
          "new_text": null,
          "old_line_content": "\tret = _wmkdir(wpath);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "set_hidden_flag",
          "new_api": null,
          "old_text": "set_hidden_flag(wpath, 1)",
          "new_text": null,
          "old_line_content": "\t\treturn set_hidden_flag(wpath, 1);",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": "CreateFileW",
          "new_api": null,
          "old_text": "CreateFileW(wfilename, FILE_APPEND_DATA,\n\t\t\tFILE_SHARE_WRITE | FILE_SHARE_READ,\n\t\t\tNULL, create, FILE_ATTRIBUTE_NORMAL, NULL)",
          "new_text": null,
          "old_line_content": "\thandle = CreateFileW(wfilename, FILE_APPEND_DATA,",
          "new_line_content": "\t * FILE_SHARE_WRITE is required to permit child processes",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\t\tDWORD err = GetLastError();",
          "new_line_content": "\t\t\tFILE_SHARE_WRITE | FILE_SHARE_READ,",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": "err_win_to_posix",
          "new_api": null,
          "old_text": "err_win_to_posix(err)",
          "new_text": null,
          "old_line_content": "\t\terrno = err_win_to_posix(err);",
          "new_line_content": "\t\tif (err == ERROR_INVALID_PARAMETER)",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": "_open_osfhandle",
          "new_api": null,
          "old_text": "_open_osfhandle((intptr_t)handle, O_BINARY)",
          "new_text": null,
          "old_line_content": "\tfd = _open_osfhandle((intptr_t)handle, O_BINARY);",
          "new_line_content": "\t * necessary (and may lead to races) for a file created with",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(handle)",
          "new_text": null,
          "old_line_content": "\t\tCloseHandle(handle);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2537,
          "old_api": "WideCharToMultiByte",
          "new_api": null,
          "old_text": "WideCharToMultiByte(CP_UTF8, 0, wcs, -1, utf, utflen, NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tutflen = WideCharToMultiByte(CP_UTF8, 0, wcs, -1, utf, utflen, NULL, NULL);",
          "new_line_content": "\t\terrno = EINVAL;",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": "is_dir_sep",
          "new_api": null,
          "old_text": "is_dir_sep(filename[0])",
          "new_text": null,
          "old_line_content": "\treturn (is_dir_sep(filename[0]) &&",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": "is_dir_sep",
          "new_api": null,
          "old_text": "is_dir_sep(filename[1])",
          "new_text": null,
          "old_line_content": "\t\tis_dir_sep(filename[1]) &&",
          "new_line_content": "static int is_local_named_pipe_path(const char *filename)",
          "content_same": false
        },
        {
          "line": 2546,
          "old_api": "getenv",
          "new_api": null,
          "old_text": "getenv(\"TMPDIR\")",
          "new_text": null,
          "old_line_content": "\tchar *tmp = getenv(\"TMPDIR\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": "is_dir_sep",
          "new_api": null,
          "old_text": "is_dir_sep(filename[8])",
          "new_text": null,
          "old_line_content": "\t\tis_dir_sep(filename[8]) &&",
          "new_line_content": "\t\tfilename[2] == '.'  &&",
          "content_same": false
        },
        {
          "line": 2551,
          "old_api": "getenv",
          "new_api": null,
          "old_text": "getenv(\"TEMP\")",
          "new_text": null,
          "old_line_content": "\t\t\ttmp = getenv(\"TEMP\");",
          "new_line_content": "\t/* on Windows it is TMP and TEMP */",
          "content_same": false
        },
        {
          "line": 2550,
          "old_api": "getenv",
          "new_api": null,
          "old_text": "getenv(\"TMP\")",
          "new_text": null,
          "old_line_content": "\t\tif (!(tmp = getenv(\"TMP\")))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 515,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(args, oflags)",
          "new_text": null,
          "old_line_content": "\tva_start(args, oflags);",
          "new_line_content": "\twchar_t wfilename[MAX_PATH];",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(args, int)",
          "new_text": null,
          "old_line_content": "\tmode = va_arg(args, int);",
          "new_line_content": "\topen_fn_t open_fn;",
          "content_same": false
        },
        {
          "line": 517,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(args)",
          "new_text": null,
          "old_line_content": "\tva_end(args);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2565,
          "old_api": "convert_slashes",
          "new_api": null,
          "old_text": "convert_slashes(tmp)",
          "new_text": null,
          "old_line_content": "\t\tconvert_slashes(tmp);",
          "new_line_content": "\t\t * executable (by not mistaking the dir separators",
          "content_same": false
        },
        {
          "line": 2569,
          "old_api": "getenv",
          "new_api": null,
          "old_text": "getenv(\"TERM\")",
          "new_text": null,
          "old_line_content": "\tif (!getenv(\"TERM\"))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2570,
          "old_api": "setenv",
          "new_api": null,
          "old_text": "setenv(\"TERM\", \"cygwin\", 1)",
          "new_text": null,
          "old_line_content": "\t\tsetenv(\"TERM\", \"cygwin\", 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": "is_local_named_pipe_path",
          "new_api": null,
          "old_text": "is_local_named_pipe_path(filename)",
          "new_text": null,
          "old_line_content": "\tif ((oflags & O_APPEND) && !is_local_named_pipe_path(filename))",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(filename, \"/dev/null\")",
          "new_text": null,
          "old_line_content": "\tif (filename && !strcmp(filename, \"/dev/null\"))",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": "wcscpy",
          "new_api": null,
          "old_text": "wcscpy(wfilename, L\"nul\")",
          "new_text": null,
          "old_line_content": "\t\twcscpy(wfilename, L\"nul\");",
          "new_line_content": "\t\topen_fn = _wopen;",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wfilename, filename)",
          "new_text": null,
          "old_line_content": "\telse if (xutftowcs_path(wfilename, filename) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2579,
          "old_api": "getenv",
          "new_api": null,
          "old_text": "getenv(\"HOMEDRIVE\")",
          "new_text": null,
          "old_line_content": "\t\tif ((tmp = getenv(\"HOMEDRIVE\"))) {",
          "new_line_content": "\t\t * location, thus also check if the path exists (i.e. is not",
          "content_same": false
        },
        {
          "line": 2581,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&buf, tmp)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_addstr(&buf, tmp);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&buf, tmp)",
          "new_text": null,
          "old_line_content": "\t\t\t\tstrbuf_addstr(&buf, tmp);",
          "new_line_content": "\t\t\tstruct strbuf buf = STRBUF_INIT;",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": "needs_hiding",
          "new_api": null,
          "old_text": "needs_hiding(filename)",
          "new_text": null,
          "old_line_content": "\tif ((oflags & O_CREAT) && needs_hiding(filename)) {",
          "new_line_content": "\t\tif (attrs != INVALID_FILE_ATTRIBUTES && (attrs & FILE_ATTRIBUTE_DIRECTORY))",
          "content_same": false
        },
        {
          "line": 2589,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&buf)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_release(&buf);",
          "new_line_content": "\t\t\t\telse",
          "content_same": false
        },
        {
          "line": 2593,
          "old_api": "setenv",
          "new_api": null,
          "old_text": "setenv(\"HOME\", tmp, 1)",
          "new_text": null,
          "old_line_content": "\t\t\tsetenv(\"HOME\", tmp, 1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": "open_fn",
          "new_api": null,
          "old_text": "open_fn(wfilename, oflags & ~O_CREAT, mode)",
          "new_text": null,
          "old_line_content": "\t\t\tfd = open_fn(wfilename, oflags & ~O_CREAT, mode);",
          "new_line_content": "\t\t * CREATE_ALWAYS flag of CreateFile()).",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": "set_hidden_flag",
          "new_api": null,
          "old_text": "set_hidden_flag(wfilename, 1)",
          "new_text": null,
          "old_line_content": "\t\tif (fd >= 0 && set_hidden_flag(wfilename, 1))",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": "warning",
          "new_api": null,
          "old_text": "warning(\"could not mark '%s' as hidden.\", filename)",
          "new_text": null,
          "old_line_content": "\t\t\twarning(\"could not mark '%s' as hidden.\", filename);",
          "new_line_content": "\t\tif (fd < 0 && errno == EACCES)",
          "content_same": false
        },
        {
          "line": 2605,
          "old_api": "skip_dos_drive_prefix",
          "new_api": null,
          "old_text": "skip_dos_drive_prefix((char **)&path)",
          "new_text": null,
          "old_line_content": "\tskip_dos_drive_prefix((char **)&path);",
          "new_line_content": "\tif (!protect_ntfs)",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": "_fileno",
          "new_api": null,
          "old_text": "_fileno(stream)",
          "new_text": null,
          "old_line_content": "\tif (!isatty(_fileno(stream)))",
          "new_line_content": "int mingw_fgetc(FILE *stream)",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": "fgetc",
          "new_api": null,
          "old_text": "fgetc(stream)",
          "new_text": null,
          "old_line_content": "\t\treturn fgetc(stream);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": "fgetc",
          "new_api": null,
          "old_text": "fgetc(stream)",
          "new_text": null,
          "old_line_content": "\t\tch = fgetc(stream);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": "mingw_raise",
          "new_api": null,
          "old_text": "mingw_raise(SIGINT)",
          "new_text": null,
          "old_line_content": "\t\tmingw_raise(SIGINT);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": "SetConsoleCtrlHandler",
          "new_api": null,
          "old_text": "SetConsoleCtrlHandler(ctrl_ignore, FALSE)",
          "new_text": null,
          "old_line_content": "\tSetConsoleCtrlHandler(ctrl_ignore, FALSE);",
          "new_line_content": "\t\t/* Ctrl+C was pressed, simulate SIGINT and retry */",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": "needs_hiding",
          "new_api": null,
          "old_text": "needs_hiding(filename)",
          "new_text": null,
          "old_line_content": "\tint hide = needs_hiding(filename);",
          "new_line_content": "#undef fopen",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": "wcscpy",
          "new_api": null,
          "old_text": "wcscpy(wfilename, L\"nul\")",
          "new_text": null,
          "old_line_content": "\t\twcscpy(wfilename, L\"nul\");",
          "new_line_content": "\tFILE *file;",
          "content_same": false
        },
        {
          "line": 592,
          "old_api": "is_valid_win32_path",
          "new_api": null,
          "old_text": "is_valid_win32_path(filename, 1)",
          "new_text": null,
          "old_line_content": "\telse if (!is_valid_win32_path(filename, 1)) {",
          "new_line_content": "\twchar_t wfilename[MAX_PATH], wotype[4];",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"could not unhide %s\", filename)",
          "new_text": null,
          "old_line_content": "\t\terror(\"could not unhide %s\", filename);",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\tif (!file && GetLastError() == ERROR_INVALID_NAME)",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 2661,
          "old_api": "isdigit",
          "new_api": null,
          "old_text": "isdigit(path[++i])",
          "new_text": null,
          "old_line_content": "\t\t\t\t    !isdigit(path[++i]))",
          "new_line_content": "\t\t\tcase 'l': case 'L': /* LPT<N> */",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": "needs_hiding",
          "new_api": null,
          "old_text": "needs_hiding(filename)",
          "new_text": null,
          "old_line_content": "\tint hide = needs_hiding(filename);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": "wcscpy",
          "new_api": null,
          "old_text": "wcscpy(wfilename, L\"nul\")",
          "new_text": null,
          "old_line_content": "\t\twcscpy(wfilename, L\"nul\");",
          "new_line_content": "\tFILE *file;",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": "is_valid_win32_path",
          "new_api": null,
          "old_text": "is_valid_win32_path(filename, 1)",
          "new_text": null,
          "old_line_content": "\telse if (!is_valid_win32_path(filename, 1)) {",
          "new_line_content": "\twchar_t wfilename[MAX_PATH], wotype[4];",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"could not unhide %s\", filename)",
          "new_text": null,
          "old_line_content": "\t\terror(\"could not unhide %s\", filename);",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "set_hidden_flag",
          "new_api": null,
          "old_text": "set_hidden_flag(wfilename, 1)",
          "new_text": null,
          "old_line_content": "\tif (file && hide && set_hidden_flag(wfilename, 1))",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": "warning",
          "new_api": null,
          "old_text": "warning(\"could not mark '%s' as hidden.\", filename)",
          "new_text": null,
          "old_line_content": "\t\twarning(\"could not mark '%s' as hidden.\", filename);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": "fflush",
          "new_api": null,
          "old_text": "fflush(stream)",
          "new_text": null,
          "old_line_content": "\tint ret = fflush(stream);",
          "new_line_content": "#undef fflush",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": "write",
          "new_api": null,
          "old_text": "write(fd, buf, len)",
          "new_text": null,
          "old_line_content": "\tssize_t result = write(fd, buf, len);",
          "new_line_content": "#undef write",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": "_get_osfhandle",
          "new_api": null,
          "old_text": "_get_osfhandle(fd)",
          "new_text": null,
          "old_line_content": "\t\tHANDLE h = (HANDLE) _get_osfhandle(fd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": "GetFileType",
          "new_api": null,
          "old_text": "GetFileType(h)",
          "new_text": null,
          "old_line_content": "\t\tif (GetFileType(h) == FILE_TYPE_PIPE)",
          "new_line_content": "\tif (result < 0 && errno == EINVAL && buf) {",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wfilename, filename)",
          "new_text": null,
          "old_line_content": "\tif (xutftowcs_path(wfilename, filename) < 0)",
          "new_line_content": "int mingw_access(const char *filename, int mode)",
          "content_same": false
        },
        {
          "line": 2731,
          "old_api": "fputs",
          "new_api": null,
          "old_text": "fputs(\"fatal: not enough memory for initialization\", stderr)",
          "new_text": null,
          "old_line_content": "\tfputs(\"fatal: not enough memory for initialization\", stderr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2732,
          "old_api": "exit",
          "new_api": null,
          "old_text": "exit(128)",
          "new_text": null,
          "old_line_content": "\texit(128);",
          "new_line_content": "static NORETURN void die_startup(void)",
          "content_same": false
        },
        {
          "line": 2737,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(size)",
          "new_text": null,
          "old_line_content": "\tvoid *result = malloc(size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2739,
          "old_api": "die_startup",
          "new_api": null,
          "old_text": "die_startup()",
          "new_text": null,
          "old_line_content": "\t\tdie_startup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wdirname, dirname)",
          "new_text": null,
          "old_line_content": "\tif (xutftowcs_path(wdirname, dirname) < 0)",
          "new_line_content": "int mingw_chdir(const char *dirname)",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": "_wchdir",
          "new_api": null,
          "old_text": "_wchdir(wdirname)",
          "new_text": null,
          "old_line_content": "\treturn _wchdir(wdirname);",
          "new_line_content": "\twchar_t wdirname[MAX_PATH];",
          "content_same": false
        },
        {
          "line": 2745,
          "old_api": "xwcstoutf",
          "new_api": null,
          "old_text": "xwcstoutf(buffer, wcs, len)",
          "new_text": null,
          "old_line_content": "\tlen = xwcstoutf(buffer, wcs, len) + 1;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2746,
          "old_api": "malloc_startup",
          "new_api": null,
          "old_text": "malloc_startup(len)",
          "new_text": null,
          "old_line_content": "\treturn memcpy(malloc_startup(len), buffer, len);",
          "new_line_content": "static char *wcstoutfdup_startup(char *buffer, const wchar_t *wcs, size_t len)",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wfilename, filename)",
          "new_text": null,
          "old_line_content": "\tif (xutftowcs_path(wfilename, filename) < 0)",
          "new_line_content": "int mingw_chmod(const char *filename, int mode)",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": "_wchmod",
          "new_api": null,
          "old_text": "_wchmod(wfilename, mode)",
          "new_text": null,
          "old_line_content": "\treturn _wchmod(wfilename, mode);",
          "new_line_content": "\twchar_t wfilename[MAX_PATH];",
          "content_same": false
        },
        {
          "line": 2754,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(buf)",
          "new_text": null,
          "old_line_content": "\tDWORD max = ARRAY_SIZE(buf);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2756,
          "old_api": "GetEnvironmentVariableW",
          "new_api": null,
          "old_text": "GetEnvironmentVariableW(key, buf, max)",
          "new_text": null,
          "old_line_content": "\tDWORD ret = GetEnvironmentVariableW(key, buf, max);",
          "new_line_content": "\twchar_t buf[MAX_PATH];",
          "content_same": false
        },
        {
          "line": 2762,
          "old_api": "SetEnvironmentVariableW",
          "new_api": null,
          "old_text": "SetEnvironmentVariableW(key, NULL)",
          "new_text": null,
          "old_line_content": "\tSetEnvironmentVariableW(key, NULL);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 2763,
          "old_api": "wcscmp",
          "new_api": null,
          "old_text": "wcscmp(buf, L\"off\")",
          "new_text": null,
          "old_line_content": "\tif (!wcscmp(buf, L\"off\")) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2764,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(fd)",
          "new_text": null,
          "old_line_content": "\t\tclose(fd);",
          "new_line_content": "\t/* make sure this does not leak into child processes */",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": "filetime_to_hnsec",
          "new_api": null,
          "old_text": "filetime_to_hnsec(ft)",
          "new_text": null,
          "old_line_content": "\tlong long hnsec = filetime_to_hnsec(ft);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 719,
          "old_api": "time_t)(hnsec / 10000000)",
          "new_api": null,
          "old_text": "time_t)(hnsec / 10000000)",
          "new_text": null,
          "old_line_content": "\tts->tv_sec = (time_t)(hnsec / 10000000);",
          "new_line_content": "static inline void filetime_to_timespec(const FILETIME *ft, struct timespec *ts)",
          "content_same": false
        },
        {
          "line": 2771,
          "old_api": "GetStdHandle",
          "new_api": null,
          "old_text": "GetStdHandle(STD_OUTPUT_HANDLE)",
          "new_text": null,
          "old_line_content": "\t\thandle = GetStdHandle(STD_OUTPUT_HANDLE);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": "wcslen",
          "new_api": null,
          "old_text": "wcslen(wfilename)",
          "new_text": null,
          "old_line_content": "\tint n = wcslen(wfilename);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 2778,
          "old_api": "_open_osfhandle",
          "new_api": null,
          "old_text": "_open_osfhandle((intptr_t)handle, O_BINARY)",
          "new_text": null,
          "old_line_content": "\t\t\tint new_fd = _open_osfhandle((intptr_t)handle, O_BINARY);",
          "new_line_content": "\t\t\tif (handle != INVALID_HANDLE_VALUE)",
          "content_same": false
        },
        {
          "line": 2780,
          "old_api": "dup2",
          "new_api": null,
          "old_text": "dup2(new_fd, fd)",
          "new_text": null,
          "old_line_content": "\t\t\tdup2(new_fd, fd);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": "is_dir_sep",
          "new_api": null,
          "old_text": "is_dir_sep(c)",
          "new_text": null,
          "old_line_content": "\t\tif (!is_dir_sep(c))",
          "new_line_content": "\t\twchar_t c = wfilename[--n];",
          "content_same": false
        },
        {
          "line": 2785,
          "old_api": "CreateFileW",
          "new_api": null,
          "old_text": "CreateFileW(buf, desired_access, 0, NULL, create_flag,\n\t\t\t     flags, NULL)",
          "new_text": null,
          "old_line_content": "\thandle = CreateFileW(buf, desired_access, 0, NULL, create_flag,",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": "GetFileAttributesW",
          "new_api": null,
          "old_text": "GetFileAttributesW(wfilename)",
          "new_text": null,
          "old_line_content": "\t\tattributes = GetFileAttributesW(wfilename);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2789,
          "old_api": "SetStdHandle",
          "new_api": null,
          "old_text": "SetStdHandle(std_id, handle)",
          "new_text": null,
          "old_line_content": "\t\tSetStdHandle(std_id, handle);",
          "new_line_content": "\t\t\t     flags, NULL);",
          "content_same": false
        },
        {
          "line": 2790,
          "old_api": "dup2",
          "new_api": null,
          "old_text": "dup2(new_fd, fd)",
          "new_text": null,
          "old_line_content": "\t\tdup2(new_fd, fd);",
          "new_line_content": "\tif (handle != INVALID_HANDLE_VALUE) {",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\t\t\tswitch (GetLastError()) {",
          "new_line_content": "\t\t\t\tattributes == FILE_ATTRIBUTE_DEVICE)",
          "content_same": false
        },
        {
          "line": 2797,
          "old_api": "maybe_redirect_std_handle",
          "new_api": null,
          "old_text": "maybe_redirect_std_handle(L\"GIT_REDIRECT_STDIN\", STD_INPUT_HANDLE, 0,\n\t\t\t\t  GENERIC_READ, FILE_ATTRIBUTE_NORMAL)",
          "new_text": null,
          "old_line_content": "\tmaybe_redirect_std_handle(L\"GIT_REDIRECT_STDIN\", STD_INPUT_HANDLE, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2799,
          "old_api": "maybe_redirect_std_handle",
          "new_api": null,
          "old_text": "maybe_redirect_std_handle(L\"GIT_REDIRECT_STDOUT\", STD_OUTPUT_HANDLE, 1,\n\t\t\t\t  GENERIC_WRITE, FILE_ATTRIBUTE_NORMAL)",
          "new_text": null,
          "old_line_content": "\tmaybe_redirect_std_handle(L\"GIT_REDIRECT_STDOUT\", STD_OUTPUT_HANDLE, 1,",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2801,
          "old_api": "maybe_redirect_std_handle",
          "new_api": null,
          "old_text": "maybe_redirect_std_handle(L\"GIT_REDIRECT_STDERR\", STD_ERROR_HANDLE, 2,\n\t\t\t\t  GENERIC_WRITE, FILE_FLAG_NO_BUFFERING)",
          "new_text": null,
          "old_line_content": "\tmaybe_redirect_std_handle(L\"GIT_REDIRECT_STDERR\", STD_ERROR_HANDLE, 2,",
          "new_line_content": "\t\t\t\t  GENERIC_READ, FILE_ATTRIBUTE_NORMAL);",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wfilename, file_name)",
          "new_text": null,
          "old_line_content": "\tif (xutftowcs_path(wfilename, file_name) < 0)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "file_attr_to_st_mode",
          "new_api": null,
          "old_text": "file_attr_to_st_mode(fdata.dwFileAttributes)",
          "new_text": null,
          "old_line_content": "\t\tbuf->st_mode = file_attr_to_st_mode(fdata.dwFileAttributes);",
          "new_line_content": "\t\tbuf->st_gid = 0;",
          "content_same": false
        },
        {
          "line": 2826,
          "old_api": "trace2_initialize_clock",
          "new_api": null,
          "old_text": "trace2_initialize_clock()",
          "new_text": null,
          "old_line_content": "\ttrace2_initialize_clock();",
          "new_line_content": "\tchar *buffer, **save;",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": "filetime_to_timespec",
          "new_api": null,
          "old_text": "filetime_to_timespec(&(fdata.ftLastAccessTime), &(buf->st_atim))",
          "new_text": null,
          "old_line_content": "\t\tfiletime_to_timespec(&(fdata.ftLastAccessTime), &(buf->st_atim));",
          "new_line_content": "\t\tbuf->st_size = fdata.nFileSizeLow |",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "filetime_to_timespec",
          "new_api": null,
          "old_text": "filetime_to_timespec(&(fdata.ftLastWriteTime), &(buf->st_mtim))",
          "new_text": null,
          "old_line_content": "\t\tfiletime_to_timespec(&(fdata.ftLastWriteTime), &(buf->st_mtim));",
          "new_line_content": "\t\t\t(((off_t)fdata.nFileSizeHigh)<<32);",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": "filetime_to_timespec",
          "new_api": null,
          "old_text": "filetime_to_timespec(&(fdata.ftCreationTime), &(buf->st_ctim))",
          "new_text": null,
          "old_line_content": "\t\tfiletime_to_timespec(&(fdata.ftCreationTime), &(buf->st_ctim));",
          "new_line_content": "\t\tbuf->st_dev = buf->st_rdev = 0; /* not used by Git */",
          "content_same": false
        },
        {
          "line": 2830,
          "old_api": "_CrtSetReportMode",
          "new_api": null,
          "old_text": "_CrtSetReportMode(_CRT_ASSERT, _CRTDBG_MODE_DEBUG)",
          "new_text": null,
          "old_line_content": "\t_CrtSetReportMode(_CRT_ASSERT, _CRTDBG_MODE_DEBUG);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2834,
          "old_api": "_CrtSetDbgFlag",
          "new_api": null,
          "old_text": "_CrtSetDbgFlag(_CRTDBG_ALLOC_MEM_DF | _CRTDBG_LEAK_CHECK_DF)",
          "new_text": null,
          "old_line_content": "\t_CrtSetDbgFlag(_CRTDBG_ALLOC_MEM_DF | _CRTDBG_LEAK_CHECK_DF);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "readlink",
          "new_api": null,
          "old_text": "readlink(file_name, buffer, MAXIMUM_REPARSE_DATA_BUFFER_SIZE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tbuf->st_size = readlink(file_name, buffer, MAXIMUM_REPARSE_DATA_BUFFER_SIZE);",
          "new_line_content": "\t\t\t\t\t\t(findbuf.dwReserved0 == IO_REPARSE_TAG_SYMLINK)) {",
          "content_same": false
        },
        {
          "line": 2838,
          "old_api": "maybe_redirect_std_handles",
          "new_api": null,
          "old_text": "maybe_redirect_std_handles()",
          "new_text": null,
          "old_line_content": "\tmaybe_redirect_std_handles();",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 2843,
          "old_api": "wcslen",
          "new_api": null,
          "old_text": "wcslen(wargv[i])",
          "new_text": null,
          "old_line_content": "\t\tmaxlen = max(maxlen, wcslen(wargv[i]));",
          "new_line_content": "\t/* determine size of argv and environ conversion buffer */",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": "FindClose",
          "new_api": null,
          "old_text": "FindClose(handle)",
          "new_text": null,
          "old_line_content": "\t\t\t\tFindClose(handle);",
          "new_line_content": "\t\t\t\t\tif (!(findbuf.dwFileAttributes & FILE_ATTRIBUTE_READONLY))",
          "content_same": false
        },
        {
          "line": 2847,
          "old_api": "malloc_startup",
          "new_api": null,
          "old_text": "malloc_startup(maxlen)",
          "new_text": null,
          "old_line_content": "\tbuffer = malloc_startup(maxlen);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\tswitch (GetLastError()) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2854,
          "old_api": "ALLOC_ARRAY",
          "new_api": null,
          "old_text": "ALLOC_ARRAY(argv, argc + 1)",
          "new_text": null,
          "old_line_content": "\tALLOC_ARRAY(argv, argc + 1);",
          "new_line_content": "\t * to remember all the string pointers because parse_options()",
          "content_same": false
        },
        {
          "line": 2855,
          "old_api": "ALLOC_ARRAY",
          "new_api": null,
          "old_text": "ALLOC_ARRAY(save, argc + 1)",
          "new_text": null,
          "old_line_content": "\tALLOC_ARRAY(save, argc + 1);",
          "new_line_content": "\t * will remove claimed items from the argv that we pass down.",
          "content_same": false
        },
        {
          "line": 2859,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buffer)",
          "new_text": null,
          "old_line_content": "\tfree(buffer);",
          "new_line_content": "\tfor (i = 0; i < argc; i++)",
          "content_same": false
        },
        {
          "line": 2864,
          "old_api": "xstrdup",
          "new_api": null,
          "old_text": "xstrdup(\"PERL5LIB\")",
          "new_text": null,
          "old_line_content": "\tunset_environment_variables = xstrdup(\"PERL5LIB\");",
          "new_line_content": "\t/* fix Windows specific environment settings */",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "has_valid_directory_prefix",
          "new_api": null,
          "old_text": "has_valid_directory_prefix(wfilename)",
          "new_text": null,
          "old_line_content": "\t\tif (!has_valid_directory_prefix(wfilename)) {",
          "new_line_content": "\t\terrno = ENOMEM;",
          "content_same": false
        },
        {
          "line": 2871,
          "old_api": "_fileno",
          "new_api": null,
          "old_text": "_fileno(stdin)",
          "new_text": null,
          "old_line_content": "\t_setmode(_fileno(stdin), _O_BINARY);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2872,
          "old_api": "_fileno",
          "new_api": null,
          "old_text": "_fileno(stdout)",
          "new_text": null,
          "old_line_content": "\t_setmode(_fileno(stdout), _O_BINARY);",
          "new_line_content": "\t/* set up default file mode and file modes for stdin/out/err */",
          "content_same": false
        },
        {
          "line": 2873,
          "old_api": "_fileno",
          "new_api": null,
          "old_text": "_fileno(stderr)",
          "new_text": null,
          "old_line_content": "\t_setmode(_fileno(stderr), _O_BINARY);",
          "new_line_content": "\t_fmode = _O_BINARY;",
          "content_same": false
        },
        {
          "line": 2883,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(save)",
          "new_text": null,
          "old_line_content": "\tfree(save);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2884,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(argv)",
          "new_text": null,
          "old_line_content": "\tfree(argv);",
          "new_line_content": "\tfor (i = 0; i < argc; i++)",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "do_lstat",
          "new_api": null,
          "old_text": "do_lstat(follow, file_name, buf)",
          "new_text": null,
          "old_line_content": "\tif (!do_lstat(follow, file_name, buf))",
          "new_line_content": "\tint namelen;",
          "content_same": false
        },
        {
          "line": 2891,
          "old_api": "GetVersion",
          "new_api": null,
          "old_text": "GetVersion()",
          "new_text": null,
          "old_line_content": "\tunsigned v = (unsigned)GetVersion();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2892,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(buf, 0, sizeof(*buf))",
          "new_text": null,
          "old_line_content": "\tmemset(buf, 0, sizeof(*buf));",
          "new_line_content": "int uname(struct utsname *buf)",
          "content_same": false
        },
        {
          "line": 2893,
          "old_api": "xsnprintf",
          "new_api": null,
          "old_text": "xsnprintf(buf->sysname, sizeof(buf->sysname), \"Windows\")",
          "new_text": null,
          "old_line_content": "\txsnprintf(buf->sysname, sizeof(buf->sysname), \"Windows\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(file_name)",
          "new_text": null,
          "old_line_content": "\tnamelen = strlen(file_name);",
          "new_line_content": "\tif (errno != ENOENT)",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(alt_name, file_name, namelen)",
          "new_text": null,
          "old_line_content": "\tmemcpy(alt_name, file_name, namelen);",
          "new_line_content": "\tif (!namelen || namelen >= PATH_MAX)",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": "do_lstat",
          "new_api": null,
          "old_text": "do_lstat(follow, alt_name, buf)",
          "new_text": null,
          "old_line_content": "\treturn do_lstat(follow, alt_name, buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": "GetFileInformationByHandle",
          "new_api": null,
          "old_text": "GetFileInformationByHandle(hnd, &fdata)",
          "new_text": null,
          "old_line_content": "\tif (!GetFileInformationByHandle(hnd, &fdata)) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\t\terrno = err_win_to_posix(GetLastError());",
          "new_line_content": "\tBY_HANDLE_FILE_INFORMATION fdata;",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": "file_attr_to_st_mode",
          "new_api": null,
          "old_text": "file_attr_to_st_mode(fdata.dwFileAttributes)",
          "new_text": null,
          "old_line_content": "\tbuf->st_mode = file_attr_to_st_mode(fdata.dwFileAttributes);",
          "new_line_content": "\tbuf->st_gid = 0;",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "filetime_to_timespec",
          "new_api": null,
          "old_text": "filetime_to_timespec(&(fdata.ftLastAccessTime), &(buf->st_atim))",
          "new_text": null,
          "old_line_content": "\tfiletime_to_timespec(&(fdata.ftLastAccessTime), &(buf->st_atim));",
          "new_line_content": "\tbuf->st_size = fdata.nFileSizeLow |",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "filetime_to_timespec",
          "new_api": null,
          "old_text": "filetime_to_timespec(&(fdata.ftLastWriteTime), &(buf->st_mtim))",
          "new_text": null,
          "old_line_content": "\tfiletime_to_timespec(&(fdata.ftLastWriteTime), &(buf->st_mtim));",
          "new_line_content": "\t\t(((off_t)fdata.nFileSizeHigh)<<32);",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "filetime_to_timespec",
          "new_api": null,
          "old_text": "filetime_to_timespec(&(fdata.ftCreationTime), &(buf->st_ctim))",
          "new_text": null,
          "old_line_content": "\tfiletime_to_timespec(&(fdata.ftCreationTime), &(buf->st_ctim));",
          "new_line_content": "\tbuf->st_dev = buf->st_rdev = 0; /* not used by Git */",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": "do_stat_internal",
          "new_api": null,
          "old_text": "do_stat_internal(0, file_name, buf)",
          "new_text": null,
          "old_line_content": "\treturn do_stat_internal(0, file_name, buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": "do_stat_internal",
          "new_api": null,
          "old_text": "do_stat_internal(1, file_name, buf)",
          "new_text": null,
          "old_line_content": "\treturn do_stat_internal(1, file_name, buf);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": "_get_osfhandle",
          "new_api": null,
          "old_text": "_get_osfhandle(fd)",
          "new_text": null,
          "old_line_content": "\tHANDLE fh = (HANDLE)_get_osfhandle(fd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "GetFileType",
          "new_api": null,
          "old_text": "GetFileType(fh)",
          "new_text": null,
          "old_line_content": "\tDWORD avail, type = GetFileType(fh) & ~FILE_TYPE_REMOTE;",
          "new_line_content": "int mingw_fstat(int fd, struct stat *buf)",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": "get_file_info_by_handle",
          "new_api": null,
          "old_text": "get_file_info_by_handle(fh, buf)",
          "new_text": null,
          "old_line_content": "\t\treturn get_file_info_by_handle(fh, buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(buf, 0, sizeof(*buf))",
          "new_text": null,
          "old_line_content": "\t\tmemset(buf, 0, sizeof(*buf));",
          "new_line_content": "\tcase FILE_TYPE_CHAR:",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": "PeekNamedPipe",
          "new_api": null,
          "old_text": "PeekNamedPipe(fh, NULL, 0, NULL, &avail, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\tif (PeekNamedPipe(fh, NULL, 0, NULL, &avail, NULL))",
          "new_line_content": "\t\t\tbuf->st_mode = _S_IFCHR;",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wfilename, file_name)",
          "new_text": null,
          "old_line_content": "\tif (xutftowcs_path(wfilename, file_name) < 0)",
          "new_line_content": "\tint fh, rc;",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": "GetFileAttributesW",
          "new_api": null,
          "old_text": "GetFileAttributesW(wfilename)",
          "new_text": null,
          "old_line_content": "\tattrs = GetFileAttributesW(wfilename);",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": "SetFileAttributesW",
          "new_api": null,
          "old_text": "SetFileAttributesW(wfilename, attrs & ~FILE_ATTRIBUTE_READONLY)",
          "new_text": null,
          "old_line_content": "\t\tSetFileAttributesW(wfilename, attrs & ~FILE_ATTRIBUTE_READONLY);",
          "new_line_content": "\tif (attrs != INVALID_FILE_ATTRIBUTES &&",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "time_t_to_filetime",
          "new_api": null,
          "old_text": "time_t_to_filetime(times->modtime, &mft)",
          "new_text": null,
          "old_line_content": "\t\ttime_t_to_filetime(times->modtime, &mft);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "time_t_to_filetime",
          "new_api": null,
          "old_text": "time_t_to_filetime(times->actime, &aft)",
          "new_text": null,
          "old_line_content": "\t\ttime_t_to_filetime(times->actime, &aft);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(fh)",
          "new_text": null,
          "old_line_content": "\tclose(fh);",
          "new_line_content": "\t\trc = -1;",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": "SetFileAttributesW",
          "new_api": null,
          "old_text": "SetFileAttributesW(wfilename, attrs)",
          "new_text": null,
          "old_line_content": "\t\tSetFileAttributesW(wfilename, attrs);",
          "new_line_content": "\tif (attrs != INVALID_FILE_ATTRIBUTES &&",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": "DECLARE_PROC_ADDR",
          "new_api": null,
          "old_text": "DECLARE_PROC_ADDR(ucrtbase.dll, size_t, strftime, char *, size_t,\n\t\tconst char *, const struct tm *)",
          "new_text": null,
          "old_line_content": "\tDECLARE_PROC_ADDR(ucrtbase.dll, size_t, strftime, char *, size_t,",
          "new_line_content": "\t/* a pointer to the original strftime in case we can't find the UCRT version */",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": "strftime",
          "new_api": null,
          "old_text": "strftime(s, max, format, tm)",
          "new_text": null,
          "old_line_content": "\t\tret = strftime(s, max, format, tm);",
          "new_line_content": "\t\tconst char *, const struct tm *);",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": "Sleep",
          "new_api": null,
          "old_text": "Sleep(seconds*1000)",
          "new_text": null,
          "old_line_content": "\tSleep(seconds*1000);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wtemplate, template)",
          "new_text": null,
          "old_line_content": "\tif (xutftowcs_path(wtemplate, template) < 0)",
          "new_line_content": "char *mingw_mktemp(char *template)",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "_wmktemp",
          "new_api": null,
          "old_text": "_wmktemp(wtemplate)",
          "new_text": null,
          "old_line_content": "\tif (!_wmktemp(wtemplate))",
          "new_line_content": "\twchar_t wtemplate[MAX_PATH];",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(template)",
          "new_text": null,
          "old_line_content": "\tif (xwcstoutf(template, wtemplate, strlen(template) + 1) < 0)",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "mktemp",
          "new_api": null,
          "old_text": "mktemp(template)",
          "new_text": null,
          "old_line_content": "\tchar *filename = mktemp(template);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": "GetSystemTimeAsFileTime",
          "new_api": null,
          "old_text": "GetSystemTimeAsFileTime(&ft)",
          "new_text": null,
          "old_line_content": "\tGetSystemTimeAsFileTime(&ft);",
          "new_line_content": "\tFILETIME ft;",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": "filetime_to_hnsec",
          "new_api": null,
          "old_text": "filetime_to_hnsec(&ft)",
          "new_text": null,
          "old_line_content": "\thnsec = filetime_to_hnsec(&ft);",
          "new_line_content": "\tlong long hnsec;",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": "CreatePipe",
          "new_api": null,
          "old_text": "CreatePipe(&h[0], &h[1], NULL, 8192)",
          "new_text": null,
          "old_line_content": "\tif (!CreatePipe(&h[0], &h[1], NULL, 8192)) {",
          "new_line_content": "\tHANDLE h[2];",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\t\terrno = err_win_to_posix(GetLastError());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(h[0])",
          "new_text": null,
          "old_line_content": "\t\tCloseHandle(h[0]);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(filedes[0])",
          "new_text": null,
          "old_line_content": "\t\tclose(filedes[0]);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "gmtime_s",
          "new_api": null,
          "old_text": "gmtime_s(result, timep)",
          "new_text": null,
          "old_line_content": "\tif (gmtime_s(result, timep) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": "localtime_s",
          "new_api": null,
          "old_text": "localtime_s(result, timep)",
          "new_text": null,
          "old_line_content": "\tif (localtime_s(result, timep) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(cwd)",
          "new_text": null,
          "old_line_content": "\tDWORD ret = GetCurrentDirectoryW(ARRAY_SIZE(cwd), cwd);",
          "new_line_content": "char *mingw_getcwd(char *pointer, int len)",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(cwd)",
          "new_text": null,
          "old_line_content": "\tif (!ret || ret >= ARRAY_SIZE(cwd)) {",
          "new_line_content": "\twchar_t cwd[MAX_PATH], wpointer[MAX_PATH];",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\tif (!ret && GetLastError() == ERROR_ACCESS_DENIED) {",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": "CreateFileW",
          "new_api": null,
          "old_text": "CreateFileW(cwd, 0,\n\t\t\tFILE_SHARE_READ | FILE_SHARE_WRITE | FILE_SHARE_DELETE, NULL,\n\t\t\tOPEN_EXISTING, FILE_FLAG_BACKUP_SEMANTICS, NULL)",
          "new_text": null,
          "old_line_content": "\t\tHANDLE hnd = CreateFileW(cwd, 0,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(wpointer)",
          "new_text": null,
          "old_line_content": "\t\tret = GetFinalPathNameByHandleW(hnd, wpointer, ARRAY_SIZE(wpointer), 0);",
          "new_line_content": "\t\t\tOPEN_EXISTING, FILE_FLAG_BACKUP_SEMANTICS, NULL);",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(hnd)",
          "new_text": null,
          "old_line_content": "\t\tCloseHandle(hnd);",
          "new_line_content": "\t\tif (hnd == INVALID_HANDLE_VALUE)",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(wpointer)",
          "new_text": null,
          "old_line_content": "\t\tif (!ret || ret >= ARRAY_SIZE(wpointer))",
          "new_line_content": "\t\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(wpointer)",
          "new_text": null,
          "old_line_content": "\tif (!ret || ret >= ARRAY_SIZE(wpointer))",
          "new_line_content": "\t\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": "xwcstoutf",
          "new_api": null,
          "old_text": "xwcstoutf(pointer, wpointer, len)",
          "new_text": null,
          "old_line_content": "\tif (xwcstoutf(pointer, wpointer, len) < 0)",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "convert_slashes",
          "new_api": null,
          "old_text": "convert_slashes(pointer)",
          "new_text": null,
          "old_line_content": "\tconvert_slashes(pointer);",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*p)",
          "new_text": null,
          "old_line_content": "\t\tif (isspace(*p) || *p == '*' || *p == '?' || *p == '{' || *p == '\\'')",
          "new_line_content": "\tconst char *p = arg;",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "st_add3",
          "new_api": null,
          "old_text": "st_add3(len, n, 3)",
          "new_text": null,
          "old_line_content": "\td = q = xmalloc(st_add3(len, n, 3));",
          "new_line_content": "\t\treturn arg;",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*p)",
          "new_text": null,
          "old_line_content": "\t\tint ws = isspace(*p);",
          "new_line_content": "\tconst char *p2 = arg, *p;",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "strbuf_addch",
          "new_api": null,
          "old_text": "strbuf_addch(&buf, '\"')",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_addch(&buf, '\"');",
          "new_line_content": "\t\t    *p != '?' && *p != '*' && *p != '~')",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(&buf, p2, p - p2)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_add(&buf, p2, p - p2);",
          "new_line_content": "\t\tif (!buf.len)",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "strbuf_addch",
          "new_api": null,
          "old_text": "strbuf_addch(&buf, '\\\\')",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_addch(&buf, '\\\\');",
          "new_line_content": "\t\tif (p != p2)",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "strbuf_addch",
          "new_api": null,
          "old_text": "strbuf_addch(&buf, '\"')",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addch(&buf, '\"');",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(&buf, p2, p - p2)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_add(&buf, p2, p - p2);",
          "new_line_content": "\telse if (!buf.len)",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": "strbuf_addch",
          "new_api": null,
          "old_text": "strbuf_addch(&buf, '\"')",
          "new_text": null,
          "old_line_content": "\tstrbuf_addch(&buf, '\"');",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(cmd)",
          "new_text": null,
          "old_line_content": "\tn = strlen(cmd);",
          "new_line_content": "\tint n, fd;",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(cmd+n-4, \".exe\")",
          "new_text": null,
          "old_line_content": "\tif (n >= 4 && !strcasecmp(cmd+n-4, \".exe\"))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(fd)",
          "new_text": null,
          "old_line_content": "\tclose(fd);",
          "new_line_content": "\tif (fd < 0)",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": "strcspn",
          "new_api": null,
          "old_text": "strcspn(buf, \"\\r\\n\")",
          "new_text": null,
          "old_line_content": "\tp = buf + strcspn(buf, \"\\r\\n\");",
          "new_line_content": "\tif (buf[0] != '#' || buf[1] != '!')",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": "strrchr",
          "new_api": null,
          "old_text": "strrchr(buf+2, '\\\\')",
          "new_text": null,
          "old_line_content": "\tif (!(p = strrchr(buf+2, '/')) && !(p = strrchr(buf+2, '\\\\')))",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(path, sizeof(path), \"%.*s\\\\%s.exe\", dirlen, dir, cmd)",
          "new_text": null,
          "old_line_content": "\tsnprintf(path, sizeof(path), \"%.*s\\\\%s.exe\", dirlen, dir, cmd);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wpath, path)",
          "new_text": null,
          "old_line_content": "\tif (xutftowcs_path(wpath, path) < 0)",
          "new_line_content": "\twchar_t wpath[MAX_PATH];",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": "xstrdup",
          "new_api": null,
          "old_text": "xstrdup(path)",
          "new_text": null,
          "old_line_content": "\t\treturn xstrdup(path);",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "wcslen",
          "new_api": null,
          "old_text": "wcslen(wpath)",
          "new_text": null,
          "old_line_content": "\twpath[wcslen(wpath)-4] = '\\0';",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(cmd)",
          "new_text": null,
          "old_line_content": "\tint len = strlen(cmd);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(cmd+len-4, \".exe\")",
          "new_text": null,
          "old_line_content": "\tint isexe = len >= 4 && !strcasecmp(cmd+len-4, \".exe\");",
          "new_line_content": "\tconst char *path;",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": "strchrnul",
          "new_api": null,
          "old_text": "strchrnul(path, ';')",
          "new_text": null,
          "old_line_content": "\t\tconst char *sep = strchrnul(path, ';');",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": "wcschrnul",
          "new_api": null,
          "old_text": "wcschrnul(p, L'=')",
          "new_text": null,
          "old_line_content": "\tp_len = wcschrnul(p, L'=') - p;",
          "new_line_content": "\tsize_t p_len, q_len;",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": "wcschrnul",
          "new_api": null,
          "old_text": "wcschrnul(q, L'=')",
          "new_text": null,
          "old_line_content": "\tq_len = wcschrnul(q, L'=') - q;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": "_wcsnicmp",
          "new_api": null,
          "old_text": "_wcsnicmp(p, q, p_len)",
          "new_text": null,
          "old_line_content": "\treturn _wcsnicmp(p, q, p_len);",
          "new_line_content": "\telse if (p_len > q_len)",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": "GetEnvironmentStringsW",
          "new_api": null,
          "old_text": "GetEnvironmentStringsW()",
          "new_text": null,
          "old_line_content": "\twchar_t *wenv = GetEnvironmentStringsW(), *wdeltaenv, *result, *p;",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": "wcslen",
          "new_api": null,
          "old_text": "wcslen(p)",
          "new_text": null,
          "old_line_content": "\t\t\tsize_t s = wcslen(p) + 1;",
          "new_line_content": "\t/* If there is no deltaenv to apply, simply return a copy. */",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": "ALLOC_ARRAY",
          "new_api": null,
          "old_text": "ALLOC_ARRAY(result, size)",
          "new_text": null,
          "old_line_content": "\t\tALLOC_ARRAY(result, size);",
          "new_line_content": "\t\t\tp += s;",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "COPY_ARRAY",
          "new_api": null,
          "old_text": "COPY_ARRAY(result, wenv, size)",
          "new_text": null,
          "old_line_content": "\t\tCOPY_ARRAY(result, wenv, size);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": "FreeEnvironmentStringsW",
          "new_api": null,
          "old_text": "FreeEnvironmentStringsW(wenv)",
          "new_text": null,
          "old_line_content": "\t\tFreeEnvironmentStringsW(wenv);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": "ALLOC_GROW",
          "new_api": null,
          "old_text": "ALLOC_GROW(array, nr + 1, alloc)",
          "new_text": null,
          "old_line_content": "\t\tALLOC_GROW(array, nr + 1, alloc);",
          "new_line_content": "\t * skipping duplicate keys",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": "wcslen",
          "new_api": null,
          "old_text": "wcslen(p)",
          "new_text": null,
          "old_line_content": "\t\ts = wcslen(p) + 1;",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(deltaenv[i])",
          "new_text": null,
          "old_line_content": "\t\tdelta_size += strlen(deltaenv[i]) * 2 + 1;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": "ALLOC_ARRAY",
          "new_api": null,
          "old_text": "ALLOC_ARRAY(wdeltaenv, delta_size)",
          "new_text": null,
          "old_line_content": "\tALLOC_ARRAY(wdeltaenv, delta_size);",
          "new_line_content": "\t/* (over-)assess size needed for wchar version of deltaenv */",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "ALLOC_GROW",
          "new_api": null,
          "old_text": "ALLOC_GROW(array, nr + 1, alloc)",
          "new_text": null,
          "old_line_content": "\t\tALLOC_GROW(array, nr + 1, alloc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1373,
          "old_api": "xutftowcs",
          "new_api": null,
          "old_text": "xutftowcs(p, deltaenv[i], wdeltaenv + delta_size - p)",
          "new_text": null,
          "old_line_content": "\t\twlen = xutftowcs(p, deltaenv[i], wdeltaenv + delta_size - p);",
          "new_line_content": "\t/* convert the deltaenv, appending to array */",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": "git_stable_qsort",
          "new_api": null,
          "old_text": "git_stable_qsort(array, nr, sizeof(*array), wenvcmp)",
          "new_text": null,
          "old_line_content": "\tgit_stable_qsort(array, nr, sizeof(*array), wenvcmp);",
          "new_line_content": "\t\tp += wlen + 1;",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": "ALLOC_ARRAY",
          "new_api": null,
          "old_text": "ALLOC_ARRAY(result, size + delta_size)",
          "new_text": null,
          "old_line_content": "\tALLOC_ARRAY(result, size + delta_size);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "wenvcmp",
          "new_api": null,
          "old_text": "wenvcmp(array + i, array + i + 1)",
          "new_text": null,
          "old_line_content": "\t\twhile (i + 1 < nr && !wenvcmp(array + i, array + i + 1))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": "wcschr",
          "new_api": null,
          "old_text": "wcschr(array[i], L'=')",
          "new_text": null,
          "old_line_content": "\t\tif (!wcschr(array[i], L'='))",
          "new_line_content": "\t\t       i++;",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": "COPY_ARRAY",
          "new_api": null,
          "old_text": "COPY_ARRAY(p, array[i], size)",
          "new_text": null,
          "old_line_content": "\t\tCOPY_ARRAY(p, array[i], size);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(array)",
          "new_text": null,
          "old_line_content": "\tfree(array);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(wdeltaenv)",
          "new_text": null,
          "old_line_content": "\tfree(wdeltaenv);",
          "new_line_content": "\t*p = L'\\0';",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": "FreeEnvironmentStringsW",
          "new_api": null,
          "old_text": "FreeEnvironmentStringsW(wenv)",
          "new_text": null,
          "old_line_content": "\tFreeEnvironmentStringsW(wenv);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(p, ',')",
          "new_text": null,
          "old_line_content": "\t\tchar *comma = strchr(p, ',');",
          "new_line_content": "\tdone = 1;",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": "unsetenv",
          "new_api": null,
          "old_text": "unsetenv(p)",
          "new_text": null,
          "old_line_content": "\t\tunsetenv(p);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(component)",
          "new_text": null,
          "old_line_content": "\tsize_t component_len = strlen(component);",
          "new_line_content": "static inline int match_last_path_component(const char *path, size_t *len,",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": "is_dir_sep",
          "new_api": null,
          "old_text": "is_dir_sep(path[*len - component_len - 1])",
          "new_text": null,
          "old_line_content": "\t    !is_dir_sep(path[*len - component_len - 1]) ||",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": "is_dir_sep",
          "new_api": null,
          "old_text": "is_dir_sep(path[*len - 1])",
          "new_text": null,
          "old_line_content": "\twhile (*len > 0 && is_dir_sep(path[*len - 1]))",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(cmd, \"sh\")",
          "new_text": null,
          "old_line_content": "\tif (!strcmp(cmd, \"sh\")) {",
          "new_line_content": "\tif (!cmd)",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": "path_lookup",
          "new_api": null,
          "old_text": "path_lookup(cmd, 0)",
          "new_text": null,
          "old_line_content": "\t\tp = path_lookup(cmd, 0);",
          "new_line_content": "\t\tif (ret >= 0)",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(p)",
          "new_text": null,
          "old_line_content": "\t\t\tsize_t len = strlen(p);",
          "new_line_content": "\t\tif (!p)",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": "match_last_path_component",
          "new_api": null,
          "old_text": "match_last_path_component(p, &len, \"sh.exe\")",
          "new_text": null,
          "old_line_content": "\t\t\tret = match_last_path_component(p, &len, \"sh.exe\") &&",
          "new_line_content": "\t\telse {",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": "match_last_path_component",
          "new_api": null,
          "old_text": "match_last_path_component(p, &len, \"usr\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tmatch_last_path_component(p, &len, \"usr\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": "ends_with",
          "new_api": null,
          "old_text": "ends_with(cmd, \"\\\\sh.exe\")",
          "new_text": null,
          "old_line_content": "\tif (ends_with(cmd, \"\\\\sh.exe\")) {",
          "new_line_content": "\t\treturn ret;",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": "path_lookup",
          "new_api": null,
          "old_text": "path_lookup(\"sh\", 0)",
          "new_text": null,
          "old_line_content": "\t\t\tsh = path_lookup(\"sh\", 0);",
          "new_line_content": "\t\tstatic char *sh;",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": "fspathcmp",
          "new_api": null,
          "old_text": "fspathcmp(cmd, sh)",
          "new_text": null,
          "old_line_content": "\t\treturn !fspathcmp(cmd, sh);",
          "new_line_content": "\t\tif (!sh)",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": "is_msys2_sh",
          "new_api": null,
          "old_text": "is_msys2_sh(cmd ? cmd : *argv)",
          "new_text": null,
          "old_line_content": "\t\tis_msys2_sh(cmd ? cmd : *argv) ?",
          "new_line_content": "\tBOOL ret;",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": "GetVersion",
          "new_api": null,
          "old_text": "GetVersion()",
          "new_text": null,
          "old_line_content": "\t\trestrict_handle_inheritance = GetVersion() >> 16 >= 7601;",
          "new_line_content": "\t * on Windows Vista and 2008.",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "do_unset_environment_variables",
          "new_api": null,
          "old_text": "do_unset_environment_variables()",
          "new_text": null,
          "old_line_content": "\tdo_unset_environment_variables();",
          "new_line_content": "\tif (restrict_handle_inheritance < 0)",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(cons)",
          "new_text": null,
          "old_line_content": "\t\tCloseHandle(cons);",
          "new_line_content": "\t\t * The same is true for CREATE_NO_WINDOW.",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&si, 0, sizeof(si))",
          "new_text": null,
          "old_line_content": "\tmemset(&si, 0, sizeof(si));",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": "winansi_get_osfhandle",
          "new_api": null,
          "old_text": "winansi_get_osfhandle(fhin)",
          "new_text": null,
          "old_line_content": "\tsi.StartupInfo.hStdInput = winansi_get_osfhandle(fhin);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": "winansi_get_osfhandle",
          "new_api": null,
          "old_text": "winansi_get_osfhandle(fherr)",
          "new_text": null,
          "old_line_content": "\tsi.StartupInfo.hStdError = winansi_get_osfhandle(fherr);",
          "new_line_content": "\tsi.StartupInfo.cb = sizeof(si);",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(cmd, *argv)",
          "new_text": null,
          "old_line_content": "\tif (*argv && !strcmp(cmd, *argv))",
          "new_line_content": "\tif (stdhandles_count)",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wcmd, cmd)",
          "new_text": null,
          "old_line_content": "\telse if (xutftowcs_path(wcmd, cmd) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": "xutftowcs_path",
          "new_api": null,
          "old_text": "xutftowcs_path(wdir, dir)",
          "new_text": null,
          "old_line_content": "\tif (dir && xutftowcs_path(wdir, dir) < 0)",
          "new_line_content": "\t\twcmd[0] = L'\\0';",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": "strbuf_init",
          "new_api": null,
          "old_text": "strbuf_init(&args, 0)",
          "new_text": null,
          "old_line_content": "\tstrbuf_init(&args, 0);",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": "quote_arg",
          "new_api": null,
          "old_text": "quote_arg(cmd)",
          "new_text": null,
          "old_line_content": "\t\tchar *quoted = (char *)quote_arg(cmd);",
          "new_line_content": "\t/* concatenate argv, quoting args as we go */",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": "strbuf_addch",
          "new_api": null,
          "old_text": "strbuf_addch(&args, ' ')",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_addch(&args, ' ');",
          "new_line_content": "\tfor (; *argv; argv++) {",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": "path_lookup",
          "new_api": null,
          "old_text": "path_lookup(\"strace.exe\", 1)",
          "new_text": null,
          "old_line_content": "\t\tchar *p = path_lookup(\"strace.exe\", 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"strace not found!\")",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"strace not found!\");",
          "new_line_content": "\tif (strace_env) {",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(p)",
          "new_text": null,
          "old_line_content": "\t\t\tfree(p);",
          "new_line_content": "\t\tif (!p)",
          "content_same": false
        },
        {
          "line": 1598,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"1\", strace_env)",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(\"1\", strace_env) ||",
          "new_line_content": "\t\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(\"yes\", strace_env)",
          "new_text": null,
          "old_line_content": "\t\t    !strcasecmp(\"yes\", strace_env) ||",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(&buf, \"strace -o %s \", quoted)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_addf(&buf, \"strace -o %s \", quoted);",
          "new_line_content": "\t\telse {",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "free",
          "new_api": null,
          "old_text": "free((char *)quoted)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfree((char *)quoted);",
          "new_line_content": "\t\t\tstruct strbuf buf = STRBUF_INIT;",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&buf)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_release(&buf);",
          "new_line_content": "\t\t\tif (quoted != strace_env)",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": "st_mult",
          "new_api": null,
          "old_text": "st_mult(2, args.len)",
          "new_text": null,
          "old_line_content": "\tALLOC_ARRAY(wargs, st_add(st_mult(2, args.len), 1));",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": "xutftowcs",
          "new_api": null,
          "old_text": "xutftowcs(wargs, args.buf, 2 * args.len + 1)",
          "new_text": null,
          "old_line_content": "\txutftowcs(wargs, args.buf, 2 * args.len + 1);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&args)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&args);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&pi, 0, sizeof(pi))",
          "new_text": null,
          "old_line_content": "\tmemset(&pi, 0, sizeof(pi));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": "InitializeProcThreadAttributeList",
          "new_api": null,
          "old_text": "InitializeProcThreadAttributeList(NULL, 1, 0, &size)",
          "new_text": null,
          "old_line_content": "\t    (InitializeProcThreadAttributeList(NULL, 1, 0, &size) ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": "LPPROC_THREAD_ATTRIBUTE_LIST)\n\t\t\t(HeapAlloc(GetProcessHeap(), 0, size))",
          "new_api": null,
          "old_text": "LPPROC_THREAD_ATTRIBUTE_LIST)\n\t\t\t(HeapAlloc(GetProcessHeap(), 0, size))",
          "new_text": null,
          "old_line_content": "\t    (attr_list = (LPPROC_THREAD_ATTRIBUTE_LIST)",
          "new_line_content": "\tif (restrict_handle_inheritance && stdhandles_count &&",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": "CreateProcessW",
          "new_api": null,
          "old_text": "CreateProcessW(*wcmd ? wcmd : NULL, wargs, NULL, NULL,\n\t\t\t     stdhandles_count ? TRUE : FALSE,\n\t\t\t     flags, wenvblk, dir ? wdir : NULL,\n\t\t\t     &si.StartupInfo, &pi)",
          "new_text": null,
          "old_line_content": "\tret = CreateProcessW(*wcmd ? wcmd : NULL, wargs, NULL, NULL,",
          "new_line_content": "\t\tflags |= EXTENDED_STARTUPINFO_PRESENT;",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\t\tDWORD err = GetLastError();",
          "new_line_content": "\t * processes.",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": "GetVersion",
          "new_api": null,
          "old_text": "GetVersion()",
          "new_text": null,
          "old_line_content": "\t\t      GetVersion() >> 16 < 9200) &&",
          "new_line_content": "\t\t     * handle inheritance.",
          "content_same": false
        },
        {
          "line": 1664,
          "old_api": "getenv",
          "new_api": null,
          "old_text": "getenv(\"SUPPRESS_HANDLE_INHERITANCE_WARNING\")",
          "new_text": null,
          "old_line_content": "\t\t    !getenv(\"SUPPRESS_HANDLE_INHERITANCE_WARNING\")) {",
          "new_line_content": "\t\t     */",
          "content_same": false
        },
        {
          "line": 1668,
          "old_api": "setenv",
          "new_api": null,
          "old_text": "setenv(\"SUPPRESS_HANDLE_INHERITANCE_WARNING\", \"1\", 1)",
          "new_text": null,
          "old_line_content": "\t\t\tsetenv(\"SUPPRESS_HANDLE_INHERITANCE_WARNING\", \"1\", 1);",
          "new_line_content": "\t\t\tDWORD fl = 0;",
          "content_same": false
        },
        {
          "line": 1672,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(&buf, \"handle #%d: %p (type %lx, \"\n\t\t\t\t\t    \"handle info (%d) %lx\\n\", i, h,\n\t\t\t\t\t    GetFileType(h),\n\t\t\t\t\t    GetHandleInformation(h, &fl),\n\t\t\t\t\t    fl)",
          "new_text": null,
          "old_line_content": "\t\t\t\tstrbuf_addf(&buf, \"handle #%d: %p (type %lx, \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1674,
          "old_api": "GetFileType",
          "new_api": null,
          "old_text": "GetFileType(h)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t    GetFileType(h),",
          "new_line_content": "\t\t\t\tHANDLE h = stdhandles[i];",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": "CreateProcessW",
          "new_api": null,
          "old_text": "CreateProcessW(*wcmd ? wcmd : NULL, wargs, NULL, NULL,\n\t\t\t\t     TRUE, flags, wenvblk, dir ? wdir : NULL,\n\t\t\t\t     &si.StartupInfo, &pi)",
          "new_text": null,
          "old_line_content": "\t\tret = CreateProcessW(*wcmd ? wcmd : NULL, wargs, NULL, NULL,",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\t\t\terrno = err_win_to_posix(GetLastError());",
          "new_line_content": "\t\t\t\t     TRUE, flags, wenvblk, dir ? wdir : NULL,",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": "warning",
          "new_api": null,
          "old_text": "warning(\"failed to restrict file handles (%ld)\\n\\n%s\",\n\t\t\t\terr, buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\twarning(\"failed to restrict file handles (%ld)\\n\\n%s\",",
          "new_line_content": "\t\tif (!ret)",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\t\terrno = err_win_to_posix(GetLastError());",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": "GetProcessHeap",
          "new_api": null,
          "old_text": "GetProcessHeap()",
          "new_text": null,
          "old_line_content": "\t\tHeapFree(GetProcessHeap(), 0, attr_list);",
          "new_line_content": "\tif (si.lpAttributeList)",
          "content_same": false
        },
        {
          "line": 1706,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(wenvblk)",
          "new_text": null,
          "old_line_content": "\tfree(wenvblk);",
          "new_line_content": "\tif (attr_list)",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(pi.hThread)",
          "new_text": null,
          "old_line_content": "\tCloseHandle(pi.hThread);",
          "new_line_content": "\tif (!ret)",
          "content_same": false
        },
        {
          "line": 1722,
          "old_api": "EnterCriticalSection",
          "new_api": null,
          "old_text": "EnterCriticalSection(&pinfo_cs)",
          "new_text": null,
          "old_line_content": "\tEnterCriticalSection(&pinfo_cs);",
          "new_line_content": "\t * handle after the process terminated.",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(sizeof(struct pinfo_t))",
          "new_text": null,
          "old_line_content": "\t\tstruct pinfo_t *info = xmalloc(sizeof(struct pinfo_t));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1730,
          "old_api": "LeaveCriticalSection",
          "new_api": null,
          "old_text": "LeaveCriticalSection(&pinfo_cs)",
          "new_text": null,
          "old_line_content": "\tLeaveCriticalSection(&pinfo_cs);",
          "new_line_content": "\t\tinfo->next = pinfo;",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "mingw_spawnve_fd",
          "new_api": null,
          "old_text": "mingw_spawnve_fd(cmd, argv, NULL, NULL, prepend_cmd, 0, 1, 2)",
          "new_text": null,
          "old_line_content": "\treturn mingw_spawnve_fd(cmd, argv, NULL, NULL, prepend_cmd, 0, 1, 2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "path_lookup",
          "new_api": null,
          "old_text": "path_lookup(cmd, 0)",
          "new_text": null,
          "old_line_content": "\tchar *prog = path_lookup(cmd, 0);",
          "new_line_content": "\t\t     int fhin, int fhout, int fherr)",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": "parse_interpreter",
          "new_api": null,
          "old_text": "parse_interpreter(prog)",
          "new_text": null,
          "old_line_content": "\t\tconst char *interpr = parse_interpreter(prog);",
          "new_line_content": "\t\tpid = -1;",
          "content_same": false
        },
        {
          "line": 1756,
          "old_api": "path_lookup",
          "new_api": null,
          "old_text": "path_lookup(interpr, 1)",
          "new_text": null,
          "old_line_content": "\t\t\tchar *iprog = path_lookup(interpr, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1763,
          "old_api": "mingw_spawnve_fd",
          "new_api": null,
          "old_text": "mingw_spawnve_fd(iprog, argv, deltaenv, dir, 1,\n\t\t\t\t\t\t       fhin, fhout, fherr)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpid = mingw_spawnve_fd(iprog, argv, deltaenv, dir, 1,",
          "new_line_content": "\t\t\t\tpid = -1;",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(iprog)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfree(iprog);",
          "new_line_content": "\t\t\telse {",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": "mingw_spawnve_fd",
          "new_api": null,
          "old_text": "mingw_spawnve_fd(prog, argv, deltaenv, dir, 0,\n\t\t\t\t\t       fhin, fhout, fherr)",
          "new_text": null,
          "old_line_content": "\t\t\tpid = mingw_spawnve_fd(prog, argv, deltaenv, dir, 0,",
          "new_line_content": "\t\t\targv[0] = argv0;",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(prog)",
          "new_text": null,
          "old_line_content": "\t\tfree(prog);",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": "parse_interpreter",
          "new_api": null,
          "old_text": "parse_interpreter(cmd)",
          "new_text": null,
          "old_line_content": "\tconst char *interpr = parse_interpreter(cmd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1785,
          "old_api": "path_lookup",
          "new_api": null,
          "old_text": "path_lookup(interpr, 1)",
          "new_text": null,
          "old_line_content": "\tprog = path_lookup(interpr, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1794,
          "old_api": "ALLOC_ARRAY",
          "new_api": null,
          "old_text": "ALLOC_ARRAY(argv2, argc + 1)",
          "new_text": null,
          "old_line_content": "\t\tALLOC_ARRAY(argv2, argc + 1);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1796,
          "old_api": "COPY_ARRAY",
          "new_api": null,
          "old_text": "COPY_ARRAY(&argv2[1], &argv[1], argc)",
          "new_text": null,
          "old_line_content": "\t\tCOPY_ARRAY(&argv2[1], &argv[1], argc);",
          "new_line_content": "\t\twhile (argv[argc]) argc++;",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": "mingw_spawnv",
          "new_api": null,
          "old_text": "mingw_spawnv(prog, argv2, 1)",
          "new_text": null,
          "old_line_content": "\t\tpid = mingw_spawnv(prog, argv2, 1);",
          "new_line_content": "\t\targv2[0] = (char *)cmd;\t/* full path to the script file */",
          "content_same": false
        },
        {
          "line": 1803,
          "old_api": "trace2_exec_result",
          "new_api": null,
          "old_text": "trace2_exec_result(exec_id, status)",
          "new_text": null,
          "old_line_content": "\t\t\ttrace2_exec_result(exec_id, status);",
          "new_line_content": "\t\t\tint status;",
          "content_same": false
        },
        {
          "line": 1808,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(prog)",
          "new_text": null,
          "old_line_content": "\t\tfree(prog);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": "try_shell_exec",
          "new_api": null,
          "old_text": "try_shell_exec(cmd, argv)",
          "new_text": null,
          "old_line_content": "\tif (!try_shell_exec(cmd, argv)) {",
          "new_line_content": "int mingw_execv(const char *cmd, char *const *argv)",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": "trace2_exec",
          "new_api": null,
          "old_text": "trace2_exec(cmd, (const char **)argv)",
          "new_text": null,
          "old_line_content": "\t\texec_id = trace2_exec(cmd, (const char **)argv);",
          "new_line_content": "\t\tint pid, status;",
          "content_same": false
        },
        {
          "line": 1822,
          "old_api": "mingw_spawnv",
          "new_api": null,
          "old_text": "mingw_spawnv(cmd, (const char **)argv, 0)",
          "new_text": null,
          "old_line_content": "\t\tpid = mingw_spawnv(cmd, (const char **)argv, 0);",
          "new_line_content": "\t\tint exec_id;",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": "trace2_exec_result",
          "new_api": null,
          "old_text": "trace2_exec_result(exec_id, status)",
          "new_text": null,
          "old_line_content": "\t\ttrace2_exec_result(exec_id, status);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1837,
          "old_api": "path_lookup",
          "new_api": null,
          "old_text": "path_lookup(cmd, 0)",
          "new_text": null,
          "old_line_content": "\tchar *prog = path_lookup(cmd, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(prog)",
          "new_text": null,
          "old_line_content": "\t\tfree(prog);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": "OpenProcess",
          "new_api": null,
          "old_text": "OpenProcess(PROCESS_TERMINATE, FALSE, pid)",
          "new_text": null,
          "old_line_content": "\t\tHANDLE h = OpenProcess(PROCESS_TERMINATE, FALSE, pid);",
          "new_line_content": "int mingw_kill(pid_t pid, int sig)",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": "TerminateProcess",
          "new_api": null,
          "old_text": "TerminateProcess(h, -1)",
          "new_text": null,
          "old_line_content": "\t\tif (TerminateProcess(h, -1)) {",
          "new_line_content": "\tif (pid > 0 && sig == SIGTERM) {",
          "content_same": false
        },
        {
          "line": 1858,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\t\terrno = err_win_to_posix(GetLastError());",
          "new_line_content": "\t\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(h)",
          "new_text": null,
          "old_line_content": "\t\tCloseHandle(h);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1864,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(h)",
          "new_text": null,
          "old_line_content": "\t\t\tCloseHandle(h);",
          "new_line_content": "\t} else if (pid > 0 && sig == 0) {",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(name)",
          "new_text": null,
          "old_line_content": "\tlen_key = strlen(name) + 1;",
          "new_line_content": "\tif (!name || !*name)",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "calloc(len_key, sizeof(wchar_t))",
          "new_text": null,
          "old_line_content": "\tw_key = calloc(len_key, sizeof(wchar_t));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Out of memory, (tried to allocate %u wchar_t's)\", len_key)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Out of memory, (tried to allocate %u wchar_t's)\", len_key);",
          "new_line_content": "\t/* We cannot use xcalloc() here because that uses getenv() itself */",
          "content_same": false
        },
        {
          "line": 1900,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\tif (!len_value && GetLastError() == ERROR_ENVVAR_NOT_FOUND) {",
          "new_line_content": "\t/* GetEnvironmentVariableW() only sets the last error upon failure */",
          "content_same": false
        },
        {
          "line": 1908,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "calloc(len_value, sizeof(char))",
          "new_text": null,
          "old_line_content": "\tvalue = calloc(len_value, sizeof(char));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1910,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Out of memory, (tried to allocate %u bytes)\", len_value)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Out of memory, (tried to allocate %u bytes)\", len_value);",
          "new_line_content": "\t/* We cannot use xcalloc() here because that uses getenv() itself */",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(values[value_counter])",
          "new_text": null,
          "old_line_content": "\tfree(values[value_counter]);",
          "new_line_content": "\t * expecting to have to free it, so we keep a round-robin array,",
          "content_same": false
        },
        {
          "line": 1920,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(values)",
          "new_text": null,
          "old_line_content": "\tif (value_counter >= ARRAY_SIZE(values))",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(namevalue)",
          "new_text": null,
          "old_line_content": "\tsize = strlen(namevalue) * 2 + 1;",
          "new_line_content": "\tif (!namevalue || !*namevalue)",
          "content_same": false
        },
        {
          "line": 1936,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "calloc(size, sizeof(wchar_t))",
          "new_text": null,
          "old_line_content": "\twide = calloc(size, sizeof(wchar_t));",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": "wcschr",
          "new_api": null,
          "old_text": "wcschr(wide, L'=')",
          "new_text": null,
          "old_line_content": "\tequal = wcschr(wide, L'=');",
          "new_line_content": "\tif (!wide)",
          "content_same": false
        },
        {
          "line": 1947,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(wide)",
          "new_text": null,
          "old_line_content": "\tfree(wide);",
          "new_line_content": "\t\t*equal = L'\\0';",
          "content_same": false
        },
        {
          "line": 1963,
          "old_api": "MAKEWORD",
          "new_api": null,
          "old_text": "MAKEWORD(2,2)",
          "new_text": null,
          "old_line_content": "\tif (WSAStartup(MAKEWORD(2,2), &wsa))",
          "new_line_content": "\tif (initialized)",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"unable to initialize winsock subsystem, error %d\",\n\t\t\tWSAGetLastError())",
          "new_text": null,
          "old_line_content": "\t\tdie(\"unable to initialize winsock subsystem, error %d\",",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 1965,
          "old_api": "WSAGetLastError",
          "new_api": null,
          "old_text": "WSAGetLastError()",
          "new_text": null,
          "old_line_content": "\t\t\tWSAGetLastError());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1974,
          "old_api": "ensure_socket_initialization",
          "new_api": null,
          "old_text": "ensure_socket_initialization()",
          "new_text": null,
          "old_line_content": "    ensure_socket_initialization();",
          "new_line_content": "#undef gethostname",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": "gethostname",
          "new_api": null,
          "old_text": "gethostname(name, namelen)",
          "new_text": null,
          "old_line_content": "    return gethostname(name, namelen);",
          "new_line_content": "int mingw_gethostname(char *name, int namelen)",
          "content_same": false
        },
        {
          "line": 1981,
          "old_api": "ensure_socket_initialization",
          "new_api": null,
          "old_text": "ensure_socket_initialization()",
          "new_text": null,
          "old_line_content": "\tensure_socket_initialization();",
          "new_line_content": "#undef gethostbyname",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": "gethostbyname",
          "new_api": null,
          "old_text": "gethostbyname(host)",
          "new_text": null,
          "old_line_content": "\treturn gethostbyname(host);",
          "new_line_content": "struct hostent *mingw_gethostbyname(const char *host)",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": "ensure_socket_initialization",
          "new_api": null,
          "old_text": "ensure_socket_initialization()",
          "new_text": null,
          "old_line_content": "\tensure_socket_initialization();",
          "new_line_content": "int mingw_getaddrinfo(const char *node, const char *service,",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": "getaddrinfo",
          "new_api": null,
          "old_text": "getaddrinfo(node, service, hints, res)",
          "new_text": null,
          "old_line_content": "\treturn getaddrinfo(node, service, hints, res);",
          "new_line_content": "\t\t      const struct addrinfo *hints, struct addrinfo **res)",
          "content_same": false
        },
        {
          "line": 1998,
          "old_api": "ensure_socket_initialization",
          "new_api": null,
          "old_text": "ensure_socket_initialization()",
          "new_text": null,
          "old_line_content": "\tensure_socket_initialization();",
          "new_line_content": "\tint sockfd;",
          "content_same": false
        },
        {
          "line": 1999,
          "old_api": "WSASocket",
          "new_api": null,
          "old_text": "WSASocket(domain, type, protocol, NULL, 0, 0)",
          "new_text": null,
          "old_line_content": "\ts = WSASocket(domain, type, protocol, NULL, 0, 0);",
          "new_line_content": "\tSOCKET s;",
          "content_same": false
        },
        {
          "line": 2010,
          "old_api": "WSAGetLastError",
          "new_api": null,
          "old_text": "WSAGetLastError()",
          "new_text": null,
          "old_line_content": "\t\terrno = WSAGetLastError();",
          "new_line_content": "\t\t * in errno so that _if_ someone looks up the code somewhere,",
          "content_same": false
        },
        {
          "line": 2014,
          "old_api": "_open_osfhandle",
          "new_api": null,
          "old_text": "_open_osfhandle(s, O_RDWR|O_BINARY)",
          "new_text": null,
          "old_line_content": "\tif ((sockfd = _open_osfhandle(s, O_RDWR|O_BINARY)) < 0) {",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": "closesocket",
          "new_api": null,
          "old_text": "closesocket(s)",
          "new_text": null,
          "old_line_content": "\t\tclosesocket(s);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2016,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"unable to make a socket file descriptor: %s\",\n\t\t\tstrerror(errno))",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"unable to make a socket file descriptor: %s\",",
          "new_line_content": "\t/* convert into a file descriptor */",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": "_get_osfhandle",
          "new_api": null,
          "old_text": "_get_osfhandle(sockfd)",
          "new_text": null,
          "old_line_content": "\tSOCKET s = (SOCKET)_get_osfhandle(sockfd);",
          "new_line_content": "#undef connect",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": "connect",
          "new_api": null,
          "old_text": "connect(s, sa, sz)",
          "new_text": null,
          "old_line_content": "\treturn connect(s, sa, sz);",
          "new_line_content": "int mingw_connect(int sockfd, struct sockaddr *sa, size_t sz)",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "_get_osfhandle",
          "new_api": null,
          "old_text": "_get_osfhandle(sockfd)",
          "new_text": null,
          "old_line_content": "\tSOCKET s = (SOCKET)_get_osfhandle(sockfd);",
          "new_line_content": "#undef bind",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": "bind",
          "new_api": null,
          "old_text": "bind(s, sa, sz)",
          "new_text": null,
          "old_line_content": "\treturn bind(s, sa, sz);",
          "new_line_content": "int mingw_bind(int sockfd, struct sockaddr *sa, size_t sz)",
          "content_same": false
        },
        {
          "line": 2039,
          "old_api": "_get_osfhandle",
          "new_api": null,
          "old_text": "_get_osfhandle(sockfd)",
          "new_text": null,
          "old_line_content": "\tSOCKET s = (SOCKET)_get_osfhandle(sockfd);",
          "new_line_content": "#undef setsockopt",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": "setsockopt",
          "new_api": null,
          "old_text": "setsockopt(s, lvl, optname, (const char*)optval, optlen)",
          "new_text": null,
          "old_line_content": "\treturn setsockopt(s, lvl, optname, (const char*)optval, optlen);",
          "new_line_content": "int mingw_setsockopt(int sockfd, int lvl, int optname, void *optval, int optlen)",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": "_get_osfhandle",
          "new_api": null,
          "old_text": "_get_osfhandle(sockfd)",
          "new_text": null,
          "old_line_content": "\tSOCKET s = (SOCKET)_get_osfhandle(sockfd);",
          "new_line_content": "#undef shutdown",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": "shutdown",
          "new_api": null,
          "old_text": "shutdown(s, how)",
          "new_text": null,
          "old_line_content": "\treturn shutdown(s, how);",
          "new_line_content": "int mingw_shutdown(int sockfd, int how)",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 145,
      "total_additions": 415,
      "total_deletions": 414,
      "total_api_changes": 974
    },
    "non_api_changes": {
      "has_non_api_changes": false,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 974,
        "non_api_lines": 0,
        "non_api_line_numbers": []
      }
    },
    "api_calls_before": 657,
    "api_calls_after": 658,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 0,
      "total_diff_lines": 15
    }
  }
}