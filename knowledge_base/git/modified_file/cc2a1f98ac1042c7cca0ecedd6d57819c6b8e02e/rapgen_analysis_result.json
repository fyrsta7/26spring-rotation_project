{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/cc2a1f98ac1042c7cca0ecedd6d57819c6b8e02e",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/cc2a1f98ac1042c7cca0ecedd6d57819c6b8e02e/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/cc2a1f98ac1042c7cca0ecedd6d57819c6b8e02e/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/cc2a1f98ac1042c7cca0ecedd6d57819c6b8e02e/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": true,
    "api_changes": {
      "replacements": [
        {
          "line": 340,
          "old_api": "for_each_ref",
          "new_api": "get_main_ref_store",
          "old_text": "for_each_ref(show_ref_cb, &seen)",
          "new_text": "get_main_ref_store(the_repository)",
          "old_line_content": "\tfor_each_ref(show_ref_cb, &seen);",
          "new_line_content": "\trefs_for_each_fullref_in(get_main_ref_store(the_repository), \"\",",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": "for_each_alternate_ref",
          "new_api": "hidden_refs_to_excludes",
          "old_text": "for_each_alternate_ref(show_one_alternate_ref, &seen)",
          "new_text": "hidden_refs_to_excludes(&hidden_refs)",
          "old_line_content": "\tfor_each_alternate_ref(show_one_alternate_ref, &seen);",
          "new_line_content": "\t\t\t\t hidden_refs_to_excludes(&hidden_refs),",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": "null_oid",
          "new_api": "oidset_clear",
          "old_text": "null_oid()",
          "new_text": "oidset_clear(&seen)",
          "old_line_content": "\t\tshow_ref(\"capabilities^{}\", null_oid());",
          "new_line_content": "\toidset_clear(&seen);",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "advertise_shallow_grafts",
          "new_api": "null_oid",
          "old_text": "advertise_shallow_grafts(1)",
          "new_text": "null_oid()",
          "old_line_content": "\tadvertise_shallow_grafts(1);",
          "new_line_content": "\t\tshow_ref(\"capabilities^{}\", null_oid());",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": "xwrite",
          "new_api": "send_sideband",
          "old_text": "xwrite(2, msg, sz)",
          "new_text": "send_sideband(1, 2, msg, sz, use_sideband)",
          "old_line_content": "\t\txwrite(2, msg, sz);",
          "new_line_content": "\t\tsend_sideband(1, 2, msg, sz, use_sideband);",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": "va_end",
          "new_api": "va_start",
          "old_text": "va_end(params)",
          "new_text": "va_start(params, err)",
          "old_line_content": "\tva_end(params);",
          "new_line_content": "\tva_start(params, err);",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "va_end",
          "new_api": "va_start",
          "old_text": "va_end(params)",
          "new_text": "va_start(params, err)",
          "old_line_content": "\tva_end(params);",
          "new_line_content": "\tva_start(params, err);",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": "close",
          "new_api": "send_sideband",
          "old_text": "close(in)",
          "new_text": "send_sideband(1, 2, data, sz, use_sideband)",
          "old_line_content": "\tclose(in);",
          "new_line_content": "\t\tsend_sideband(1, 2, data, sz, use_sideband);",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": "init_fn",
          "new_api": "memset",
          "old_text": "the_hash_algo->init_fn(&ctx)",
          "new_text": "memset(key, '\\0', GIT_MAX_BLKSZ)",
          "old_line_content": "\t\tthe_hash_algo->init_fn(&ctx);",
          "new_line_content": "\tmemset(key, '\\0', GIT_MAX_BLKSZ);",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": "final_fn",
          "new_api": "init_fn",
          "old_text": "the_hash_algo->final_fn(key, &ctx)",
          "new_text": "the_hash_algo->init_fn(&ctx)",
          "old_line_content": "\t\tthe_hash_algo->final_fn(key, &ctx);",
          "new_line_content": "\t\tthe_hash_algo->init_fn(&ctx);",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": "memcpy",
          "new_api": "final_fn",
          "old_text": "memcpy(key, key_in, key_len)",
          "new_text": "the_hash_algo->final_fn(key, &ctx)",
          "old_line_content": "\t\tmemcpy(key, key_in, key_len);",
          "new_line_content": "\t\tthe_hash_algo->final_fn(key, &ctx);",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": "update_fn",
          "new_api": "init_fn",
          "old_text": "the_hash_algo->update_fn(&ctx, text, text_len)",
          "new_text": "the_hash_algo->init_fn(&ctx)",
          "old_line_content": "\tthe_hash_algo->update_fn(&ctx, text, text_len);",
          "new_line_content": "\tthe_hash_algo->init_fn(&ctx);",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": "final_fn",
          "new_api": "update_fn",
          "old_text": "the_hash_algo->final_fn(out, &ctx)",
          "new_text": "the_hash_algo->update_fn(&ctx, k_ipad, sizeof(k_ipad))",
          "old_line_content": "\tthe_hash_algo->final_fn(out, &ctx);",
          "new_line_content": "\tthe_hash_algo->update_fn(&ctx, k_ipad, sizeof(k_ipad));",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": "update_fn",
          "new_api": "init_fn",
          "old_text": "the_hash_algo->update_fn(&ctx, out, the_hash_algo->rawsz)",
          "new_text": "the_hash_algo->init_fn(&ctx)",
          "old_line_content": "\tthe_hash_algo->update_fn(&ctx, out, the_hash_algo->rawsz);",
          "new_line_content": "\tthe_hash_algo->init_fn(&ctx);",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": "final_fn",
          "new_api": "update_fn",
          "old_text": "the_hash_algo->final_fn(out, &ctx)",
          "new_text": "the_hash_algo->update_fn(&ctx, k_opad, sizeof(k_opad))",
          "old_line_content": "\tthe_hash_algo->final_fn(out, &ctx);",
          "new_line_content": "\tthe_hash_algo->update_fn(&ctx, k_opad, sizeof(k_opad));",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": "strbuf_release",
          "new_api": "strbuf_addf",
          "old_text": "strbuf_release(&buf)",
          "new_text": "strbuf_addf(&buf, \"%s:%\"PRItime, path, stamp)",
          "old_line_content": "\tstrbuf_release(&buf);",
          "new_line_content": "\tstrbuf_addf(&buf, \"%s:%\"PRItime, path, stamp);",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": "oidclr",
          "new_api": "write_object_file",
          "old_text": "oidclr(&push_cert_oid)",
          "new_text": "write_object_file(push_cert.buf, push_cert.len, OBJ_BLOB,\n\t\t\t\t      &push_cert_oid)",
          "old_line_content": "\t\t\toidclr(&push_cert_oid);",
          "new_line_content": "\t\tif (write_object_file(push_cert.buf, push_cert.len, OBJ_BLOB,",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": "memset",
          "new_api": "oidclr",
          "old_text": "memset(&sigcheck, '\\0', sizeof(sigcheck))",
          "new_text": "oidclr(&push_cert_oid)",
          "old_line_content": "\t\tmemset(&sigcheck, '\\0', sizeof(sigcheck));",
          "new_line_content": "\t\t\toidclr(&push_cert_oid);",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": "parse_signed_buffer",
          "new_api": "memset",
          "old_text": "parse_signed_buffer(push_cert.buf, push_cert.len)",
          "new_text": "memset(&sigcheck, '\\0', sizeof(sigcheck))",
          "old_line_content": "\t\tbogs = parse_signed_buffer(push_cert.buf, push_cert.len);",
          "new_line_content": "\t\tmemset(&sigcheck, '\\0', sizeof(sigcheck));",
          "content_same": false
        },
        {
          "line": 768,
          "old_api": "check_signature",
          "new_api": "xmemdupz",
          "old_text": "check_signature(&sigcheck, push_cert.buf + bogs,\n\t\t\t\tpush_cert.len - bogs)",
          "new_text": "xmemdupz(push_cert.buf, bogs)",
          "old_line_content": "\t\tcheck_signature(&sigcheck, push_cert.buf + bogs,",
          "new_line_content": "\t\tsigcheck.payload = xmemdupz(push_cert.buf, bogs);",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": "is_null_oid",
          "new_api": "check_nonce",
          "old_text": "is_null_oid(&push_cert_oid)",
          "new_text": "check_nonce(push_cert.buf, bogs)",
          "old_line_content": "\tif (!is_null_oid(&push_cert_oid)) {",
          "new_line_content": "\t\tnonce_status = check_nonce(push_cert.buf, bogs);",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "oid_to_hex",
          "new_api": "is_null_oid",
          "old_text": "oid_to_hex(&push_cert_oid)",
          "new_text": "is_null_oid(&push_cert_oid)",
          "old_line_content": "\t\t\t     oid_to_hex(&push_cert_oid));",
          "new_line_content": "\tif (!is_null_oid(&push_cert_oid)) {",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": "start_command",
          "new_api": "prepare_push_cert_sha1",
          "old_text": "start_command(&proc)",
          "new_text": "prepare_push_cert_sha1(&proc)",
          "old_line_content": "\tcode = start_command(&proc);",
          "new_line_content": "\tprepare_push_cert_sha1(&proc);",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": "write_in_full",
          "new_api": "feed",
          "old_text": "write_in_full(proc.in, buf, n)",
          "new_text": "feed(feed_state, &buf, &n)",
          "old_line_content": "\t\tif (write_in_full(proc.in, buf, n) < 0)",
          "new_line_content": "\t\tif (feed(feed_state, &buf, &n))",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": "finish_async",
          "new_api": "close",
          "old_text": "finish_async(&muxer)",
          "new_text": "close(proc.in)",
          "old_line_content": "\t\tfinish_async(&muxer);",
          "new_line_content": "\tclose(proc.in);",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": "sigchain_pop",
          "new_api": "finish_async",
          "old_text": "sigchain_pop(SIGPIPE)",
          "new_text": "finish_async(&muxer)",
          "old_line_content": "\tsigchain_pop(SIGPIPE);",
          "new_line_content": "\t\tfinish_async(&muxer);",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": "finish_command",
          "new_api": "sigchain_pop",
          "old_text": "finish_command(&proc)",
          "new_text": "sigchain_pop(SIGPIPE)",
          "old_line_content": "\treturn finish_command(&proc);",
          "new_line_content": "\tsigchain_pop(SIGPIPE);",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "oid_to_hex",
          "new_api": "strvec_push",
          "old_text": "oid_to_hex(&cmd->old_oid)",
          "new_text": "strvec_push(&proc.args, hook_path)",
          "old_line_content": "\tstrvec_push(&proc.args, oid_to_hex(&cmd->old_oid));",
          "new_line_content": "\tstrvec_push(&proc.args, hook_path);",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": "oid_to_hex",
          "new_api": "strvec_push",
          "old_text": "oid_to_hex(&cmd->new_oid)",
          "new_text": "strvec_push(&proc.args, cmd->ref_name)",
          "old_line_content": "\tstrvec_push(&proc.args, oid_to_hex(&cmd->new_oid));",
          "new_line_content": "\tstrvec_push(&proc.args, cmd->ref_name);",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "strbuf_addf",
          "new_api": "strchr",
          "old_text": "strbuf_addf(errmsg, \"proc-receive reported incomplete status line: '%s'\\n\", head)",
          "new_text": "strchr(head, ' ')",
          "old_line_content": "\t\t\tstrbuf_addf(errmsg, \"proc-receive reported incomplete status line: '%s'\\n\", head);",
          "new_line_content": "\t\tp = strchr(head, ' ');",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": "parse_oid_hex",
          "new_api": "xstrdup_or_null",
          "old_text": "parse_oid_hex(val, &old_oid, &val)",
          "new_text": "xstrdup_or_null(val)",
          "old_line_content": "\t\t\t\t !parse_oid_hex(val, &old_oid, &val))",
          "new_line_content": "\t\t\t\treport->ref_name = xstrdup_or_null(val);",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "oiddup",
          "new_api": "strcmp",
          "old_text": "oiddup(&old_oid)",
          "new_text": "strcmp(key, \"old-oid\")",
          "old_line_content": "\t\t\t\treport->old_oid = oiddup(&old_oid);",
          "new_line_content": "\t\t\telse if (!strcmp(key, \"old-oid\") && val &&",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": "strcmp",
          "new_api": "parse_oid_hex",
          "old_text": "strcmp(key, \"new-oid\")",
          "new_text": "parse_oid_hex(val, &old_oid, &val)",
          "old_line_content": "\t\t\telse if (!strcmp(key, \"new-oid\") && val &&",
          "new_line_content": "\t\t\t\t !parse_oid_hex(val, &old_oid, &val))",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "parse_oid_hex",
          "new_api": "oiddup",
          "old_text": "parse_oid_hex(val, &new_oid, &val)",
          "new_text": "oiddup(&old_oid)",
          "old_line_content": "\t\t\t\t !parse_oid_hex(val, &new_oid, &val))",
          "new_line_content": "\t\t\t\treport->old_oid = oiddup(&old_oid);",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": "oiddup",
          "new_api": "strcmp",
          "old_text": "oiddup(&new_oid)",
          "new_text": "strcmp(key, \"new-oid\")",
          "old_line_content": "\t\t\t\treport->new_oid = oiddup(&new_oid);",
          "new_line_content": "\t\t\telse if (!strcmp(key, \"new-oid\") && val &&",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": "strcmp",
          "new_api": "parse_oid_hex",
          "old_text": "strcmp(key, \"forced-update\")",
          "new_text": "parse_oid_hex(val, &new_oid, &val)",
          "old_line_content": "\t\t\telse if (!strcmp(key, \"forced-update\"))",
          "new_line_content": "\t\t\t\t !parse_oid_hex(val, &new_oid, &val))",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": "strbuf_addf",
          "new_api": "find_command_by_refname",
          "old_text": "strbuf_addf(errmsg, \"proc-receive reported status on unknown ref: %s\\n\",\n\t\t\t\t    refname)",
          "new_text": "find_command_by_refname(commands, refname)",
          "old_line_content": "\t\t\tstrbuf_addf(errmsg, \"proc-receive reported status on unknown ref: %s\\n\",",
          "new_line_content": "\t\t\thint = find_command_by_refname(commands, refname);",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": "xstrdup",
          "new_api": "strcmp",
          "old_text": "xstrdup(p)",
          "new_text": "strcmp(head, \"ng\")",
          "old_line_content": "\t\t\t\thint->error_string = xstrdup(p);",
          "new_line_content": "\t\tif (!strcmp(head, \"ng\")) {",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": "packet_write_fmt_gently",
          "new_api": "strbuf_addstr",
          "old_text": "packet_write_fmt_gently(proc.in, \"version=1%c%s\\n\", '\\0', cap.buf + 1)",
          "new_text": "strbuf_addstr(&cap, \" push-options\")",
          "old_line_content": "\t\tcode = packet_write_fmt_gently(proc.in, \"version=1%c%s\\n\", '\\0', cap.buf + 1);",
          "new_line_content": "\t\tstrbuf_addstr(&cap, \" push-options\");",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": "packet_write_fmt_gently",
          "new_api": "strbuf_release",
          "old_text": "packet_write_fmt_gently(proc.in, \"version=1\\n\")",
          "new_text": "strbuf_release(&cap)",
          "old_line_content": "\t\tcode = packet_write_fmt_gently(proc.in, \"version=1\\n\");",
          "new_line_content": "\t\tstrbuf_release(&cap);",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "strlen",
          "new_api": "starts_with",
          "old_text": "strlen(reader.line)",
          "new_text": "starts_with(reader.line, \"version=\")",
          "old_line_content": "\t\t\t\tlinelen = strlen(reader.line);",
          "new_line_content": "\t\t\tif (reader.pktlen > 8 && starts_with(reader.line, \"version=\")) {",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": "oid_to_hex",
          "new_api": "packet_write_fmt_gently",
          "old_text": "oid_to_hex(&cmd->new_oid)",
          "new_text": "packet_write_fmt_gently(proc.in, \"%s %s %s\",\n\t\t\t\t\t       oid_to_hex(&cmd->old_oid),\n\t\t\t\t\t       oid_to_hex(&cmd->new_oid),\n\t\t\t\t\t       cmd->ref_name)",
          "old_line_content": "\t\t\t\t\t       oid_to_hex(&cmd->new_oid),",
          "new_line_content": "\t\tcode = packet_write_fmt_gently(proc.in, \"%s %s %s\",",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": "strbuf_addstr",
          "new_api": "packet_flush_gently",
          "old_text": "strbuf_addstr(&errmsg, \"fail to write commands to proc-receive hook\")",
          "new_text": "packet_flush_gently(proc.in)",
          "old_line_content": "\t\tstrbuf_addstr(&errmsg, \"fail to write commands to proc-receive hook\");",
          "new_line_content": "\t\tcode = packet_flush_gently(proc.in);",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": "strbuf_addstr",
          "new_api": "packet_flush_gently",
          "old_text": "strbuf_addstr(&errmsg,\n\t\t\t\t      \"fail to write push-options to proc-receive hook\")",
          "new_text": "packet_flush_gently(proc.in)",
          "old_line_content": "\t\t\tstrbuf_addstr(&errmsg,",
          "new_line_content": "\t\t\tcode = packet_flush_gently(proc.in);",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "finish_async",
          "new_api": "close",
          "old_text": "finish_async(&muxer)",
          "new_text": "close(proc.out)",
          "old_line_content": "\t\tfinish_async(&muxer);",
          "new_line_content": "\tclose(proc.out);",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": "sigchain_pop",
          "new_api": "strbuf_release",
          "old_text": "sigchain_pop(SIGPIPE)",
          "new_text": "strbuf_release(&errmsg)",
          "old_line_content": "\tsigchain_pop(SIGPIPE);",
          "new_line_content": "\t\tstrbuf_release(&errmsg);",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": "tmp_objdir_env",
          "new_api": "oid_array_append",
          "old_text": "tmp_objdir_env(tmp_objdir)",
          "new_text": "oid_array_append(&extra, &si->shallow->oid[i])",
          "old_line_content": "\topt.env = tmp_objdir_env(tmp_objdir);",
          "new_line_content": "\t\t\toid_array_append(&extra, &si->shallow->oid[i]);",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": "check_connected",
          "new_api": "tmp_objdir_env",
          "old_text": "check_connected(command_singleton_iterator, cmd, &opt)",
          "new_text": "tmp_objdir_env(tmp_objdir)",
          "old_line_content": "\tif (check_connected(command_singleton_iterator, cmd, &opt)) {",
          "new_line_content": "\topt.env = tmp_objdir_env(tmp_objdir);",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": "rollback_shallow_file",
          "new_api": "setup_alternate_shallow",
          "old_text": "rollback_shallow_file(the_repository, &shallow_lock)",
          "new_text": "setup_alternate_shallow(&shallow_lock, &opt.shallow_file, &extra)",
          "old_line_content": "\t\trollback_shallow_file(the_repository, &shallow_lock);",
          "new_line_content": "\tsetup_alternate_shallow(&shallow_lock, &opt.shallow_file, &extra);",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "oid_array_clear",
          "new_api": "check_connected",
          "old_text": "oid_array_clear(&extra)",
          "new_text": "check_connected(command_singleton_iterator, cmd, &opt)",
          "old_line_content": "\t\toid_array_clear(&extra);",
          "new_line_content": "\tif (check_connected(command_singleton_iterator, cmd, &opt)) {",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "strvec_pushv",
          "new_api": "strvec_pushl",
          "old_text": "strvec_pushv(&child.env, env->v)",
          "new_text": "strvec_pushl(&child.args, \"update-index\", \"-q\", \"--ignore-submodules\",\n\t\t     \"--refresh\", NULL)",
          "old_line_content": "\tstrvec_pushv(&child.env, env->v);",
          "new_line_content": "\tstrvec_pushl(&child.args, \"update-index\", \"-q\", \"--ignore-submodules\",",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": "strvec_pushv",
          "new_api": "strvec_pushl",
          "old_text": "strvec_pushv(&child.env, env->v)",
          "new_text": "strvec_pushl(&child.args, \"diff-files\", \"--quiet\",\n\t\t     \"--ignore-submodules\", \"--\", NULL)",
          "old_line_content": "\tstrvec_pushv(&child.env, env->v);",
          "new_line_content": "\tstrvec_pushl(&child.args, \"diff-files\", \"--quiet\",",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": "strvec_pushv",
          "new_api": "empty_tree_oid_hex",
          "old_text": "strvec_pushv(&child.env, env->v)",
          "new_text": "empty_tree_oid_hex()",
          "old_line_content": "\tstrvec_pushv(&child.env, env->v);",
          "new_line_content": "\t\t     head_has_history() ? \"HEAD\" : empty_tree_oid_hex(),",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": "strvec_pushv",
          "new_api": "hash_to_hex",
          "old_text": "strvec_pushv(&child.env, env->v)",
          "new_text": "hash_to_hex(sha1)",
          "old_line_content": "\tstrvec_pushv(&child.env, env->v);",
          "new_line_content": "\tstrvec_pushl(&child.args, \"read-tree\", \"-u\", \"-m\", hash_to_hex(sha1),",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": "hash_to_hex",
          "new_api": "absolute_path",
          "old_text": "hash_to_hex(hash)",
          "new_text": "absolute_path(work_tree)",
          "old_line_content": "\tstrvec_push(&opt.args, hash_to_hex(hash));",
          "new_line_content": "\tstrvec_pushf(env, \"GIT_WORK_TREE=%s\", absolute_path(work_tree));",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": "run_hooks_opt",
          "new_api": "strvec_pushv",
          "old_text": "run_hooks_opt(push_to_checkout_hook, &opt)",
          "new_text": "strvec_pushv(&opt.env, env->v)",
          "old_line_content": "\tif (run_hooks_opt(push_to_checkout_hook, &opt))",
          "new_line_content": "\tstrvec_pushv(&opt.env, env->v);",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": "absolute_path",
          "new_api": "get_worktree_git_dir",
          "old_text": "absolute_path(git_dir)",
          "new_text": "get_worktree_git_dir(worktree)",
          "old_line_content": "\tstrvec_pushf(&env, \"GIT_DIR=%s\", absolute_path(git_dir));",
          "new_line_content": "\tgit_dir = get_worktree_git_dir(worktree);",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "push_to_checkout",
          "new_api": "absolute_path",
          "old_text": "push_to_checkout(sha1, &invoked_hook, &env, worktree->path)",
          "new_text": "absolute_path(git_dir)",
          "old_line_content": "\tretval = push_to_checkout(sha1, &invoked_hook, &env, worktree->path);",
          "new_line_content": "\tstrvec_pushf(&env, \"GIT_DIR=%s\", absolute_path(git_dir));",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": "push_to_deploy",
          "new_api": "push_to_checkout",
          "old_text": "push_to_deploy(sha1, &env, worktree->path)",
          "new_text": "push_to_checkout(sha1, &invoked_hook, &env, worktree->path)",
          "old_line_content": "\t\tretval = push_to_deploy(sha1, &env, worktree->path);",
          "new_line_content": "\tretval = push_to_checkout(sha1, &invoked_hook, &env, worktree->path);",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "strvec_clear",
          "new_api": "push_to_deploy",
          "old_text": "strvec_clear(&env)",
          "new_text": "push_to_deploy(sha1, &env, worktree->path)",
          "old_line_content": "\tstrvec_clear(&env);",
          "new_line_content": "\t\tretval = push_to_deploy(sha1, &env, worktree->path);",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": "find_shared_symref",
          "new_api": "get_worktrees",
          "old_text": "find_shared_symref(worktrees, \"HEAD\", name)",
          "new_text": "get_worktrees()",
          "old_line_content": "\t\tfind_shared_symref(worktrees, \"HEAD\", name);",
          "new_line_content": "\tstruct worktree **worktrees = get_worktrees();",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": "rp_error",
          "new_api": "is_null_oid",
          "old_text": "rp_error(\"refusing to update funny ref '%s' remotely\", name)",
          "new_text": "is_null_oid(new_oid)",
          "old_line_content": "\t\trp_error(\"refusing to update funny ref '%s' remotely\", name);",
          "new_line_content": "\t    check_refname_format(name + 5, is_null_oid(new_oid) ?",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": "strbuf_detach",
          "new_api": "get_git_namespace",
          "old_text": "strbuf_detach(&namespaced_name_buf, NULL)",
          "new_text": "get_git_namespace()",
          "old_line_content": "\tnamespaced_name = strbuf_detach(&namespaced_name_buf, NULL);",
          "new_line_content": "\tstrbuf_addf(&namespaced_name_buf, \"%s%s\", get_git_namespace(), name);",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": "refuse_unconfigured_deny",
          "new_api": "rp_error",
          "old_text": "refuse_unconfigured_deny()",
          "new_text": "rp_error(\"refusing to update checked out branch: %s\", name)",
          "old_line_content": "\t\t\t\trefuse_unconfigured_deny();",
          "new_line_content": "\t\t\trp_error(\"refusing to update checked out branch: %s\", name);",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": "oid_to_hex",
          "new_api": "repo_has_object_file",
          "old_text": "oid_to_hex(new_oid)",
          "new_text": "repo_has_object_file(the_repository, new_oid)",
          "old_line_content": "\t\t      \"but I can't find it!\", oid_to_hex(new_oid));",
          "new_line_content": "\tif (!is_null_oid(new_oid) && !repo_has_object_file(the_repository, new_oid)) {",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": "rp_error",
          "new_api": "is_null_oid",
          "old_text": "rp_error(\"denying ref deletion for %s\", name)",
          "new_text": "is_null_oid(new_oid)",
          "old_line_content": "\t\t\trp_error(\"denying ref deletion for %s\", name);",
          "new_line_content": "\tif (!is_null_oid(old_oid) && is_null_oid(new_oid)) {",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": "starts_with",
          "new_api": "is_null_oid",
          "old_text": "starts_with(name, \"refs/heads/\")",
          "new_text": "is_null_oid(new_oid)",
          "old_line_content": "\t    starts_with(name, \"refs/heads/\")) {",
          "new_line_content": "\tif (deny_non_fast_forwards && !is_null_oid(new_oid) &&",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": "parse_object",
          "new_api": "is_null_oid",
          "old_text": "parse_object(the_repository, old_oid)",
          "new_text": "is_null_oid(new_oid)",
          "old_line_content": "\t\tif (!parse_object(the_repository, old_oid)) {",
          "new_line_content": "\tif (is_null_oid(new_oid)) {",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": "ref_exists",
          "new_api": "parse_object",
          "old_text": "ref_exists(name)",
          "new_text": "parse_object(the_repository, old_oid)",
          "old_line_content": "\t\t\tif (ref_exists(name)) {",
          "new_line_content": "\t\tif (!parse_object(the_repository, old_oid)) {",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": "copy_to_sideband",
          "new_api": "start_command",
          "old_text": "copy_to_sideband(proc.err, -1, NULL)",
          "new_text": "start_command(&proc)",
          "old_line_content": "\t\t\tcopy_to_sideband(proc.err, -1, NULL);",
          "new_line_content": "\tif (!start_command(&proc)) {",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": "string_list_lookup",
          "new_api": "strip_namespace",
          "old_text": "string_list_lookup(list, dst_name)",
          "new_text": "strip_namespace(dst_name)",
          "old_line_content": "\tif (!(item = string_list_lookup(list, dst_name)))",
          "new_line_content": "\tdst_name = strip_namespace(dst_name);",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": "check_aliased_update_internal",
          "new_api": "get_git_namespace",
          "old_text": "check_aliased_update_internal(cmd, list, dst_name, flag)",
          "new_text": "get_git_namespace()",
          "old_line_content": "\tcheck_aliased_update_internal(cmd, list, dst_name, flag);",
          "new_line_content": "\tstrbuf_addf(&buf, \"%s%s\", get_git_namespace(), cmd->ref_name);",
          "content_same": false
        },
        {
          "line": 1711,
          "old_api": "strbuf_release",
          "new_api": "resolve_ref_unsafe",
          "old_text": "strbuf_release(&buf)",
          "new_text": "resolve_ref_unsafe(buf.buf, 0, NULL, &flag)",
          "old_line_content": "\tstrbuf_release(&buf);",
          "new_line_content": "\tdst_name = resolve_ref_unsafe(buf.buf, 0, NULL, &flag);",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": "ref_is_hidden",
          "new_api": "strbuf_addstr",
          "old_text": "ref_is_hidden(cmd->ref_name, refname_full.buf, &hidden_refs)",
          "new_text": "strbuf_addstr(&refname_full, cmd->ref_name)",
          "old_line_content": "\t\tif (!ref_is_hidden(cmd->ref_name, refname_full.buf, &hidden_refs))",
          "new_line_content": "\t\tstrbuf_addstr(&refname_full, cmd->ref_name);",
          "content_same": false
        },
        {
          "line": 1808,
          "old_api": "is_null_oid",
          "new_api": "ref_is_hidden",
          "old_text": "is_null_oid(&cmd->new_oid)",
          "new_text": "ref_is_hidden(cmd->ref_name, refname_full.buf, &hidden_refs)",
          "old_line_content": "\t\tif (is_null_oid(&cmd->new_oid))",
          "new_line_content": "\t\tif (!ref_is_hidden(cmd->ref_name, refname_full.buf, &hidden_refs))",
          "content_same": false
        },
        {
          "line": 1847,
          "old_api": "rp_error",
          "new_api": "ref_transaction_begin",
          "old_text": "rp_error(\"%s\", err.buf)",
          "new_text": "ref_transaction_begin(&err)",
          "old_line_content": "\t\t\trp_error(\"%s\", err.buf);",
          "new_line_content": "\t\ttransaction = ref_transaction_begin(&err);",
          "content_same": false
        },
        {
          "line": 1858,
          "old_api": "strbuf_reset",
          "new_api": "ref_transaction_commit",
          "old_text": "strbuf_reset(&err)",
          "new_text": "ref_transaction_commit(transaction, &err)",
          "old_line_content": "\t\t\tstrbuf_reset(&err);",
          "new_line_content": "\t\t    && ref_transaction_commit(transaction, &err)) {",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": "strbuf_release",
          "new_api": "ref_transaction_free",
          "old_text": "strbuf_release(&err)",
          "new_text": "ref_transaction_free(transaction)",
          "old_line_content": "\tstrbuf_release(&err);",
          "new_line_content": "\t\tref_transaction_free(transaction);",
          "content_same": false
        },
        {
          "line": 1875,
          "old_api": "rp_error",
          "new_api": "ref_transaction_begin",
          "old_text": "rp_error(\"%s\", err.buf)",
          "new_text": "ref_transaction_begin(&err)",
          "old_line_content": "\t\trp_error(\"%s\", err.buf);",
          "new_line_content": "\ttransaction = ref_transaction_begin(&err);",
          "content_same": false
        },
        {
          "line": 1948,
          "old_api": "reject_updates_to_hidden",
          "new_api": "finish_async",
          "old_text": "reject_updates_to_hidden(commands)",
          "new_text": "finish_async(&muxer)",
          "old_line_content": "\treject_updates_to_hidden(commands);",
          "new_line_content": "\t\tfinish_async(&muxer);",
          "content_same": false
        },
        {
          "line": 1998,
          "old_api": "free",
          "new_api": "check_aliased_updates",
          "old_text": "free(head_name_to_free)",
          "new_text": "check_aliased_updates(commands)",
          "old_line_content": "\tfree(head_name_to_free);",
          "new_line_content": "\tcheck_aliased_updates(commands);",
          "content_same": false
        },
        {
          "line": 2012,
          "old_api": "execute_commands_non_atomic",
          "new_api": "execute_commands_atomic",
          "old_text": "execute_commands_non_atomic(commands, si)",
          "new_text": "execute_commands_atomic(commands, si)",
          "old_line_content": "\t\texecute_commands_non_atomic(commands, si);",
          "new_line_content": "\t\texecute_commands_atomic(commands, si);",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "die",
          "new_api": "parse_oid_hex",
          "old_text": "die(\"protocol error: expected old/new/ref, got '%s'\", line)",
          "new_text": "parse_oid_hex(p, &new_oid, &p)",
          "old_line_content": "\t\tdie(\"protocol error: expected old/new/ref, got '%s'\", line);",
          "new_line_content": "\t    parse_oid_hex(p, &new_oid, &p) ||",
          "content_same": false
        },
        {
          "line": 2038,
          "old_api": "oidcpy",
          "new_api": "FLEX_ALLOC_MEM",
          "old_text": "oidcpy(&cmd->new_oid, &new_oid)",
          "new_text": "FLEX_ALLOC_MEM(cmd, ref_name, refname, reflen)",
          "old_line_content": "\toidcpy(&cmd->new_oid, &new_oid);",
          "new_line_content": "\tFLEX_ALLOC_MEM(cmd, ref_name, refname, reflen);",
          "content_same": false
        },
        {
          "line": 2061,
          "old_api": "strstr",
          "new_api": "die",
          "old_text": "strstr(push_cert->buf, \"\\n\\n\")",
          "new_text": "die(\"protocol error: got both push certificate and unsigned commands\")",
          "old_line_content": "\tboc = strstr(push_cert->buf, \"\\n\\n\");",
          "new_line_content": "\t\tdie(\"protocol error: got both push certificate and unsigned commands\");",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": "die",
          "new_api": "strstr",
          "old_text": "die(\"malformed push certificate %.*s\", 100, push_cert->buf)",
          "new_text": "strstr(push_cert->buf, \"\\n\\n\")",
          "old_line_content": "\t\tdie(\"malformed push certificate %.*s\", 100, push_cert->buf);",
          "new_line_content": "\tboc = strstr(push_cert->buf, \"\\n\\n\");",
          "content_same": false
        },
        {
          "line": 2088,
          "old_api": "get_oid_hex",
          "new_api": "starts_with",
          "old_text": "get_oid_hex(reader->line + 8, &oid)",
          "new_text": "starts_with(reader->line, \"shallow \")",
          "old_line_content": "\t\t\tif (get_oid_hex(reader->line + 8, &oid))",
          "new_line_content": "\t\tif (reader->pktlen > 8 && starts_with(reader->line, \"shallow \")) {",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": "oid_array_append",
          "new_api": "die",
          "old_text": "oid_array_append(shallow, &oid)",
          "new_text": "die(\"protocol error: expected shallow sha, got '%s'\",\n\t\t\t\t    reader->line + 8)",
          "old_line_content": "\t\t\toid_array_append(shallow, &oid);",
          "new_line_content": "\t\t\t\tdie(\"protocol error: expected shallow sha, got '%s'\",",
          "content_same": false
        },
        {
          "line": 2115,
          "old_api": "parse_feature_value",
          "new_api": "parse_feature_request",
          "old_text": "parse_feature_value(feature_list, \"object-format\", &len, NULL)",
          "new_text": "parse_feature_request(feature_list, \"push-options\")",
          "old_line_content": "\t\t\thash = parse_feature_value(feature_list, \"object-format\", &len, NULL);",
          "new_line_content": "\t\t\t    && parse_feature_request(feature_list, \"push-options\"))",
          "content_same": false
        },
        {
          "line": 2120,
          "old_api": "xstrncmpz",
          "new_api": "strlen",
          "old_text": "xstrncmpz(the_hash_algo->name, hash, len)",
          "new_text": "strlen(hash)",
          "old_line_content": "\t\t\tif (xstrncmpz(the_hash_algo->name, hash, len))",
          "new_line_content": "\t\t\t\tlen = strlen(hash);",
          "content_same": false
        },
        {
          "line": 2122,
          "old_api": "parse_feature_value",
          "new_api": "xstrncmpz",
          "old_text": "parse_feature_value(feature_list, \"session-id\", &len, NULL)",
          "new_text": "xstrncmpz(the_hash_algo->name, hash, len)",
          "old_line_content": "\t\t\tclient_sid = parse_feature_value(feature_list, \"session-id\", &len, NULL);",
          "new_line_content": "\t\t\tif (xstrncmpz(the_hash_algo->name, hash, len))",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": "xstrndup",
          "new_api": "parse_feature_value",
          "old_text": "xstrndup(client_sid, len)",
          "new_text": "parse_feature_value(feature_list, \"session-id\", &len, NULL)",
          "old_line_content": "\t\t\t\tchar *sid = xstrndup(client_sid, len);",
          "new_line_content": "\t\t\tclient_sid = parse_feature_value(feature_list, \"session-id\", &len, NULL);",
          "content_same": false
        },
        {
          "line": 2126,
          "old_api": "free",
          "new_api": "xstrndup",
          "old_text": "free(sid)",
          "new_text": "xstrndup(client_sid, len)",
          "old_line_content": "\t\t\t\tfree(sid);",
          "new_line_content": "\t\t\t\tchar *sid = xstrndup(client_sid, len);",
          "content_same": false
        },
        {
          "line": 2144,
          "old_api": "strcmp",
          "new_api": "die",
          "old_text": "strcmp(reader->line, \"push-cert-end\\n\")",
          "new_text": "die(\"protocol error: got an unexpected packet\")",
          "old_line_content": "\t\t\t\tif (!strcmp(reader->line, \"push-cert-end\\n\"))",
          "new_line_content": "\t\t\t\t\tdie(\"protocol error: got an unexpected packet\");",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": "strbuf_addstr",
          "new_api": "strcmp",
          "old_text": "strbuf_addstr(&push_cert, reader->line)",
          "new_text": "strcmp(reader->line, \"push-cert-end\\n\")",
          "old_line_content": "\t\t\t\tstrbuf_addstr(&push_cert, reader->line);",
          "new_line_content": "\t\t\t\tif (!strcmp(reader->line, \"push-cert-end\\n\"))",
          "content_same": false
        },
        {
          "line": 2225,
          "old_api": "strvec_push",
          "new_api": "setup_temporary_shallow",
          "old_text": "strvec_push(&child.args, alt_shallow_file)",
          "new_text": "setup_temporary_shallow(si->shallow)",
          "old_line_content": "\t\tstrvec_push(&child.args, alt_shallow_file);",
          "new_line_content": "\t\talt_shallow_file = setup_temporary_shallow(si->shallow);",
          "content_same": false
        },
        {
          "line": 2243,
          "old_api": "ntohl",
          "new_api": "tmp_objdir_add_as_alternate",
          "old_text": "ntohl(hdr.hdr_entries)",
          "new_text": "tmp_objdir_add_as_alternate(tmp_objdir)",
          "old_line_content": "\tif (ntohl(hdr.hdr_entries) < unpack_limit) {",
          "new_line_content": "\ttmp_objdir_add_as_alternate(tmp_objdir);",
          "content_same": false
        },
        {
          "line": 2245,
          "old_api": "push_header_arg",
          "new_api": "ntohl",
          "old_text": "push_header_arg(&child.args, &hdr)",
          "new_text": "ntohl(hdr.hdr_entries)",
          "old_line_content": "\t\tpush_header_arg(&child.args, &hdr);",
          "new_line_content": "\tif (ntohl(hdr.hdr_entries) < unpack_limit) {",
          "content_same": false
        },
        {
          "line": 2247,
          "old_api": "strvec_push",
          "new_api": "push_header_arg",
          "old_text": "strvec_push(&child.args, \"-q\")",
          "new_text": "push_header_arg(&child.args, &hdr)",
          "old_line_content": "\t\t\tstrvec_push(&child.args, \"-q\");",
          "new_line_content": "\t\tpush_header_arg(&child.args, &hdr);",
          "content_same": false
        },
        {
          "line": 2249,
          "old_api": "strvec_pushf",
          "new_api": "strvec_push",
          "old_text": "strvec_pushf(&child.args, \"--strict%s\",\n\t\t\t\t     fsck_msg_types.buf)",
          "new_text": "strvec_push(&child.args, \"-q\")",
          "old_line_content": "\t\t\tstrvec_pushf(&child.args, \"--strict%s\",",
          "new_line_content": "\t\t\tstrvec_push(&child.args, \"-q\");",
          "content_same": false
        },
        {
          "line": 2267,
          "old_api": "xgethostname",
          "new_api": "push_header_arg",
          "old_text": "xgethostname(hostname, sizeof(hostname))",
          "new_text": "push_header_arg(&child.args, &hdr)",
          "old_line_content": "\t\tif (xgethostname(hostname, sizeof(hostname)))",
          "new_line_content": "\t\tpush_header_arg(&child.args, &hdr);",
          "content_same": false
        },
        {
          "line": 2269,
          "old_api": "strvec_pushf",
          "new_api": "xgethostname",
          "old_text": "strvec_pushf(&child.args,\n\t\t\t     \"--keep=receive-pack %\"PRIuMAX\" on %s\",\n\t\t\t     (uintmax_t)getpid(),\n\t\t\t     hostname)",
          "new_text": "xgethostname(hostname, sizeof(hostname))",
          "old_line_content": "\t\tstrvec_pushf(&child.args,",
          "new_line_content": "\t\tif (xgethostname(hostname, sizeof(hostname)))",
          "content_same": false
        },
        {
          "line": 2271,
          "old_api": "getpid",
          "new_api": "strvec_pushf",
          "old_text": "getpid()",
          "new_text": "strvec_pushf(&child.args,\n\t\t\t     \"--keep=receive-pack %\"PRIuMAX\" on %s\",\n\t\t\t     (uintmax_t)getpid(),\n\t\t\t     hostname)",
          "old_line_content": "\t\t\t     (uintmax_t)getpid(),",
          "new_line_content": "\t\tstrvec_pushf(&child.args,",
          "content_same": false
        },
        {
          "line": 2279,
          "old_api": "strvec_pushf",
          "new_api": "strvec_push",
          "old_text": "strvec_pushf(&child.args, \"--strict%s\",\n\t\t\t\t     fsck_msg_types.buf)",
          "new_text": "strvec_push(&child.args, \"--report-end-of-input\")",
          "old_line_content": "\t\t\tstrvec_pushf(&child.args, \"--strict%s\",",
          "new_line_content": "\t\t\tstrvec_push(&child.args, \"--report-end-of-input\");",
          "content_same": false
        },
        {
          "line": 2284,
          "old_api": "strvec_pushf",
          "new_api": "strvec_push",
          "old_text": "strvec_pushf(&child.args, \"--max-input-size=%\"PRIuMAX,\n\t\t\t\t     (uintmax_t)max_input_size)",
          "new_text": "strvec_push(&child.args, \"--fix-thin\")",
          "old_line_content": "\t\t\tstrvec_pushf(&child.args, \"--max-input-size=%\"PRIuMAX,",
          "new_line_content": "\t\t\tstrvec_push(&child.args, \"--fix-thin\");",
          "content_same": false
        },
        {
          "line": 2295,
          "old_api": "register_tempfile",
          "new_api": "index_pack_lockfile",
          "old_text": "register_tempfile(lockfile)",
          "new_text": "index_pack_lockfile(child.out, NULL)",
          "old_line_content": "\t\t\tpack_lockfile = register_tempfile(lockfile);",
          "new_line_content": "\t\tlockfile = index_pack_lockfile(child.out, NULL);",
          "content_same": false
        },
        {
          "line": 2298,
          "old_api": "close",
          "new_api": "free",
          "old_text": "close(child.out)",
          "new_text": "free(lockfile)",
          "old_line_content": "\t\tclose(child.out);",
          "new_line_content": "\t\t\tfree(lockfile);",
          "content_same": false
        },
        {
          "line": 2300,
          "old_api": "finish_command",
          "new_api": "close",
          "old_text": "finish_command(&child)",
          "new_text": "close(child.out)",
          "old_line_content": "\t\tstatus = finish_command(&child);",
          "new_line_content": "\t\tclose(child.out);",
          "content_same": false
        },
        {
          "line": 2325,
          "old_api": "finish_async",
          "new_api": "unpack",
          "old_text": "finish_async(&muxer)",
          "new_text": "unpack(muxer.in, si)",
          "old_line_content": "\tfinish_async(&muxer);",
          "new_line_content": "\tret = unpack(muxer.in, si);",
          "content_same": false
        },
        {
          "line": 2333,
          "old_api": "ALLOC_ARRAY",
          "new_api": "DIV_ROUND_UP",
          "old_text": "ALLOC_ARRAY(si->used_shallow, si->shallow->nr)",
          "new_text": "DIV_ROUND_UP(si->ref->nr, 32)",
          "old_line_content": "\tALLOC_ARRAY(si->used_shallow, si->shallow->nr);",
          "new_line_content": "\tint i, j, k, bitmap_size = DIV_ROUND_UP(si->ref->nr, 32);",
          "content_same": false
        },
        {
          "line": 2336,
          "old_api": "CALLOC_ARRAY",
          "new_api": "assign_shallow_commits_to_refs",
          "old_text": "CALLOC_ARRAY(si->need_reachability_test, si->shallow->nr)",
          "new_text": "assign_shallow_commits_to_refs(si, si->used_shallow, NULL)",
          "old_line_content": "\tCALLOC_ARRAY(si->need_reachability_test, si->shallow->nr);",
          "new_line_content": "\tassign_shallow_commits_to_refs(si, si->used_shallow, NULL);",
          "content_same": false
        },
        {
          "line": 2387,
          "old_api": "oid_array_append",
          "new_api": "is_null_oid",
          "old_text": "oid_array_append(ref, &cmd->new_oid)",
          "new_text": "is_null_oid(&cmd->new_oid)",
          "old_line_content": "\t\toid_array_append(ref, &cmd->new_oid);",
          "new_line_content": "\t\tif (is_null_oid(&cmd->new_oid))",
          "content_same": false
        },
        {
          "line": 2400,
          "old_api": "is_null_oid",
          "new_api": "assign_shallow_commits_to_refs",
          "old_text": "is_null_oid(&cmd->new_oid)",
          "new_text": "assign_shallow_commits_to_refs(si, NULL, ref_status)",
          "old_line_content": "\t\tif (is_null_oid(&cmd->new_oid))",
          "new_line_content": "\tassign_shallow_commits_to_refs(si, NULL, ref_status);",
          "content_same": false
        },
        {
          "line": 2430,
          "old_api": "write_or_die",
          "new_api": "send_sideband",
          "old_text": "write_or_die(1, buf.buf, buf.len)",
          "new_text": "send_sideband(1, 1, buf.buf, buf.len, use_sideband)",
          "old_line_content": "\t\twrite_or_die(1, buf.buf, buf.len);",
          "new_line_content": "\t\tsend_sideband(1, 1, buf.buf, buf.len, use_sideband);",
          "content_same": false
        },
        {
          "line": 2464,
          "old_api": "packet_buf_write",
          "new_api": "oid_to_hex",
          "old_text": "packet_buf_write(&buf, \"option new-oid %s\\n\",\n\t\t\t\t\t\t oid_to_hex(report->new_oid))",
          "new_text": "oid_to_hex(report->old_oid)",
          "old_line_content": "\t\t\t\tpacket_buf_write(&buf, \"option new-oid %s\\n\",",
          "new_line_content": "\t\t\t\t\t\t oid_to_hex(report->old_oid));",
          "content_same": false
        },
        {
          "line": 2467,
          "old_api": "packet_buf_write",
          "new_api": "oid_to_hex",
          "old_text": "packet_buf_write(&buf, \"option forced-update\\n\")",
          "new_text": "oid_to_hex(report->new_oid)",
          "old_line_content": "\t\t\t\tpacket_buf_write(&buf, \"option forced-update\\n\");",
          "new_line_content": "\t\t\t\t\t\t oid_to_hex(report->new_oid));",
          "content_same": false
        },
        {
          "line": 2475,
          "old_api": "write_or_die",
          "new_api": "send_sideband",
          "old_text": "write_or_die(1, buf.buf, buf.len)",
          "new_text": "send_sideband(1, 1, buf.buf, buf.len, use_sideband)",
          "old_line_content": "\t\twrite_or_die(1, buf.buf, buf.len);",
          "new_line_content": "\t\tsend_sideband(1, 1, buf.buf, buf.len, use_sideband);",
          "content_same": false
        },
        {
          "line": 2501,
          "old_api": "OPT_HIDDEN_BOOL",
          "new_api": "N_",
          "old_text": "OPT_HIDDEN_BOOL(0, \"http-backend-info-refs\", &advertise_refs, NULL)",
          "new_text": "N_(\"quiet\")",
          "old_line_content": "\t\tOPT_HIDDEN_BOOL(0, \"http-backend-info-refs\", &advertise_refs, NULL),",
          "new_line_content": "\t\tOPT__QUIET(&quiet, N_(\"quiet\")),",
          "content_same": false
        },
        {
          "line": 2502,
          "old_api": "OPT_ALIAS",
          "new_api": "OPT_HIDDEN_BOOL",
          "old_text": "OPT_ALIAS(0, \"advertise-refs\", \"http-backend-info-refs\")",
          "new_text": "OPT_HIDDEN_BOOL(0, \"stateless-rpc\", &stateless_rpc, NULL)",
          "old_line_content": "\t\tOPT_ALIAS(0, \"advertise-refs\", \"http-backend-info-refs\"),",
          "new_line_content": "\t\tOPT_HIDDEN_BOOL(0, \"stateless-rpc\", &stateless_rpc, NULL),",
          "content_same": false
        },
        {
          "line": 2504,
          "old_api": "OPT_END",
          "new_api": "OPT_ALIAS",
          "old_text": "OPT_END()",
          "new_text": "OPT_ALIAS(0, \"advertise-refs\", \"http-backend-info-refs\")",
          "old_line_content": "\t\tOPT_END()",
          "new_line_content": "\t\tOPT_ALIAS(0, \"advertise-refs\", \"http-backend-info-refs\"),",
          "content_same": false
        },
        {
          "line": 2509,
          "old_api": "parse_options",
          "new_api": "packet_trace_identity",
          "old_text": "parse_options(argc, argv, prefix, options, receive_pack_usage, 0)",
          "new_text": "packet_trace_identity(\"receive-pack\")",
          "old_line_content": "\targc = parse_options(argc, argv, prefix, options, receive_pack_usage, 0);",
          "new_line_content": "\tpacket_trace_identity(\"receive-pack\");",
          "content_same": false
        },
        {
          "line": 2520,
          "old_api": "enter_repo",
          "new_api": "setup_path",
          "old_text": "enter_repo(service_dir, 0)",
          "new_text": "setup_path()",
          "old_line_content": "\tif (!enter_repo(service_dir, 0))",
          "new_line_content": "\tsetup_path();",
          "content_same": false
        },
        {
          "line": 2523,
          "old_api": "git_config",
          "new_api": "die",
          "old_text": "git_config(receive_pack_config, NULL)",
          "new_text": "die(\"'%s' does not appear to be a git repository\", service_dir)",
          "old_line_content": "\tgit_config(receive_pack_config, NULL);",
          "new_line_content": "\t\tdie(\"'%s' does not appear to be a git repository\", service_dir);",
          "content_same": false
        },
        {
          "line": 2525,
          "old_api": "time",
          "new_api": "git_config",
          "old_text": "time(NULL)",
          "new_text": "git_config(receive_pack_config, NULL)",
          "old_line_content": "\t\tpush_cert_nonce = prepare_push_cert_nonce(service_dir, time(NULL));",
          "new_line_content": "\tgit_config(receive_pack_config, NULL);",
          "content_same": false
        },
        {
          "line": 2581,
          "old_api": "update_shallow_info",
          "new_api": "delete_only",
          "old_text": "update_shallow_info(commands, &si, &ref)",
          "new_text": "delete_only(commands)",
          "old_line_content": "\t\t\tupdate_shallow_info(commands, &si, &ref);",
          "new_line_content": "\t\tif (!delete_only(commands)) {",
          "content_same": false
        },
        {
          "line": 2586,
          "old_api": "delete_tempfile",
          "new_api": "execute_commands",
          "old_text": "delete_tempfile(&pack_lockfile)",
          "new_text": "execute_commands(commands, unpack_status, &si,\n\t\t\t\t &push_options)",
          "old_line_content": "\t\tdelete_tempfile(&pack_lockfile);",
          "new_line_content": "\t\texecute_commands(commands, unpack_status, &si,",
          "content_same": false
        },
        {
          "line": 2589,
          "old_api": "report_v2",
          "new_api": "sigchain_push",
          "old_text": "report_v2(commands, unpack_status)",
          "new_text": "sigchain_push(SIGPIPE, SIG_IGN)",
          "old_line_content": "\t\t\treport_v2(commands, unpack_status);",
          "new_line_content": "\t\tsigchain_push(SIGPIPE, SIG_IGN);",
          "content_same": false
        },
        {
          "line": 2591,
          "old_api": "report",
          "new_api": "report_v2",
          "old_text": "report(commands, unpack_status)",
          "new_text": "report_v2(commands, unpack_status)",
          "old_line_content": "\t\t\treport(commands, unpack_status);",
          "new_line_content": "\t\t\treport_v2(commands, unpack_status);",
          "content_same": false
        },
        {
          "line": 2593,
          "old_api": "run_receive_hook",
          "new_api": "report",
          "old_text": "run_receive_hook(commands, \"post-receive\", 1,\n\t\t\t\t &push_options)",
          "new_text": "report(commands, unpack_status)",
          "old_line_content": "\t\trun_receive_hook(commands, \"post-receive\", 1,",
          "new_line_content": "\t\t\treport(commands, unpack_status);",
          "content_same": false
        },
        {
          "line": 2595,
          "old_api": "run_update_post_hook",
          "new_api": "run_receive_hook",
          "old_text": "run_update_post_hook(commands)",
          "new_text": "run_receive_hook(commands, \"post-receive\", 1,\n\t\t\t\t &push_options)",
          "old_line_content": "\t\trun_update_post_hook(commands);",
          "new_line_content": "\t\trun_receive_hook(commands, \"post-receive\", 1,",
          "content_same": false
        },
        {
          "line": 2597,
          "old_api": "string_list_clear",
          "new_api": "run_update_post_hook",
          "old_text": "string_list_clear(&push_options, 0)",
          "new_text": "run_update_post_hook(commands)",
          "old_line_content": "\t\tstring_list_clear(&push_options, 0);",
          "new_line_content": "\t\trun_update_post_hook(commands);",
          "content_same": false
        },
        {
          "line": 2610,
          "old_api": "copy_to_sideband",
          "new_api": "start_command",
          "old_text": "copy_to_sideband(proc.err, -1, NULL)",
          "new_text": "start_command(&proc)",
          "old_line_content": "\t\t\t\t\tcopy_to_sideband(proc.err, -1, NULL);",
          "new_line_content": "\t\t\tif (!start_command(&proc)) {",
          "content_same": false
        },
        {
          "line": 2621,
          "old_api": "oid_array_clear",
          "new_api": "packet_flush",
          "old_text": "oid_array_clear(&ref)",
          "new_text": "packet_flush(1)",
          "old_line_content": "\toid_array_clear(&ref);",
          "new_line_content": "\t\tpacket_flush(1);",
          "content_same": false
        },
        {
          "line": 2622,
          "old_api": "strvec_clear",
          "new_api": "oid_array_clear",
          "old_text": "strvec_clear(&hidden_refs)",
          "new_text": "oid_array_clear(&shallow)",
          "old_line_content": "\tstrvec_clear(&hidden_refs);",
          "new_line_content": "\toid_array_clear(&shallow);",
          "content_same": false
        },
        {
          "line": 2623,
          "old_api": "free",
          "new_api": "oid_array_clear",
          "old_text": "free((void *)push_cert_nonce)",
          "new_text": "oid_array_clear(&ref)",
          "old_line_content": "\tfree((void *)push_cert_nonce);",
          "new_line_content": "\toid_array_clear(&ref);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2050,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(commands)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tfree(commands);",
          "content_same": false
        },
        {
          "line": 2065,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"malformed push certificate %.*s\", 100, push_cert->buf)",
          "old_line_content": "\t\tboc += 2;",
          "new_line_content": "\t\tdie(\"malformed push certificate %.*s\", 100, push_cert->buf);",
          "content_same": false
        },
        {
          "line": 2068,
          "old_api": null,
          "new_api": "parse_signed_buffer",
          "old_text": null,
          "new_text": "parse_signed_buffer(push_cert->buf, push_cert->len)",
          "old_line_content": "\twhile (boc < eoc) {",
          "new_line_content": "\teoc = push_cert->buf + parse_signed_buffer(push_cert->buf, push_cert->len);",
          "content_same": false
        },
        {
          "line": 2071,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(boc, '\\n', eoc - boc)",
          "old_line_content": "\t\tboc = eol ? eol + 1 : eoc;",
          "new_line_content": "\t\tconst char *eol = memchr(boc, '\\n', eoc - boc);",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": null,
          "new_api": "queue_command",
          "old_text": null,
          "new_text": "queue_command(tail, boc, eol ? eol - boc : eoc - boc)",
          "old_line_content": "\t}",
          "new_line_content": "\t\ttail = queue_command(tail, boc, eol ? eol - boc : eoc - boc);",
          "content_same": false
        },
        {
          "line": 2085,
          "old_api": null,
          "new_api": "packet_reader_read",
          "old_text": null,
          "new_text": "packet_reader_read(reader)",
          "old_line_content": "",
          "new_line_content": "\t\tif (packet_reader_read(reader) != PACKET_READ_NORMAL)",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": null,
          "new_api": "get_oid_hex",
          "old_text": null,
          "new_text": "get_oid_hex(reader->line + 8, &oid)",
          "old_line_content": "\t\t\t\t    reader->line + 8);",
          "new_line_content": "\t\t\tif (get_oid_hex(reader->line + 8, &oid))",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": null,
          "new_api": "oid_array_append",
          "old_text": null,
          "new_text": "oid_array_append(shallow, &oid)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\toid_array_append(shallow, &oid);",
          "content_same": false
        },
        {
          "line": 2097,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(reader->line)",
          "old_line_content": "\t\t\tconst char *feature_list = reader->line + linelen + 1;",
          "new_line_content": "\t\tlinelen = strlen(reader->line);",
          "content_same": false
        },
        {
          "line": 2109,
          "old_api": null,
          "new_api": "parse_feature_request",
          "old_text": null,
          "new_text": "parse_feature_request(feature_list, \"quiet\")",
          "old_line_content": "\t\t\tif (advertise_atomic_push",
          "new_line_content": "\t\t\tif (parse_feature_request(feature_list, \"quiet\"))",
          "content_same": false
        },
        {
          "line": 2112,
          "old_api": null,
          "new_api": "parse_feature_request",
          "old_text": null,
          "new_text": "parse_feature_request(feature_list, \"atomic\")",
          "old_line_content": "\t\t\tif (advertise_push_options",
          "new_line_content": "\t\t\t    && parse_feature_request(feature_list, \"atomic\"))",
          "content_same": false
        },
        {
          "line": 2117,
          "old_api": null,
          "new_api": "parse_feature_value",
          "old_text": null,
          "new_text": "parse_feature_value(feature_list, \"object-format\", &len, NULL)",
          "old_line_content": "\t\t\t\thash = hash_algos[GIT_HASH_SHA1].name;",
          "new_line_content": "\t\t\thash = parse_feature_value(feature_list, \"object-format\", &len, NULL);",
          "content_same": false
        },
        {
          "line": 2123,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"error: unsupported object format '%s'\", hash)",
          "old_line_content": "\t\t\tif (client_sid) {",
          "new_line_content": "\t\t\t\tdie(\"error: unsupported object format '%s'\", hash);",
          "content_same": false
        },
        {
          "line": 2127,
          "old_api": null,
          "new_api": "trace2_data_string",
          "old_text": null,
          "new_text": "trace2_data_string(\"transfer\", NULL, \"client-sid\", client_sid)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\ttrace2_data_string(\"transfer\", NULL, \"client-sid\", client_sid);",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(sid)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tfree(sid);",
          "content_same": false
        },
        {
          "line": 2132,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(reader->line, \"push-cert\")",
          "old_line_content": "\t\t\tint saved_options = reader->options;",
          "new_line_content": "\t\tif (!strcmp(reader->line, \"push-cert\")) {",
          "content_same": false
        },
        {
          "line": 2138,
          "old_api": null,
          "new_api": "packet_reader_read",
          "old_text": null,
          "new_text": "packet_reader_read(reader)",
          "old_line_content": "\t\t\t\t\ttrue_flush = 1;",
          "new_line_content": "\t\t\t\tpacket_reader_read(reader);",
          "content_same": false
        },
        {
          "line": 2148,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&push_cert, reader->line)",
          "old_line_content": "\t\t\treader->options = saved_options;",
          "new_line_content": "\t\t\t\tstrbuf_addstr(&push_cert, reader->line);",
          "content_same": false
        },
        {
          "line": 2157,
          "old_api": null,
          "new_api": "queue_command",
          "old_text": null,
          "new_text": "queue_command(p, reader->line, linelen)",
          "old_line_content": "",
          "new_line_content": "\t\tp = queue_command(p, reader->line, linelen);",
          "content_same": false
        },
        {
          "line": 2161,
          "old_api": null,
          "new_api": "queue_commands_from_cert",
          "old_text": null,
          "new_text": "queue_commands_from_cert(p, &push_cert)",
          "old_line_content": "\treturn commands;",
          "new_line_content": "\t\tqueue_commands_from_cert(p, &push_cert);",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": null,
          "new_api": "packet_reader_read",
          "old_text": null,
          "new_text": "packet_reader_read(reader)",
          "old_line_content": "",
          "new_line_content": "\t\tif (packet_reader_read(reader) != PACKET_READ_NORMAL)",
          "content_same": false
        },
        {
          "line": 2173,
          "old_api": null,
          "new_api": "string_list_append",
          "old_text": null,
          "new_text": "string_list_append(options, reader->line)",
          "old_line_content": "}",
          "new_line_content": "\t\tstring_list_append(options, reader->line);",
          "content_same": false
        },
        {
          "line": 2179,
          "old_api": null,
          "new_api": "read_pack_header",
          "old_text": null,
          "new_text": "read_pack_header(0, hdr)",
          "old_line_content": "\t\treturn \"eof before pack header was fully read\";",
          "new_line_content": "\tswitch (read_pack_header(0, hdr)) {",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(args, \"--pack_header=%\"PRIu32\",%\"PRIu32,\n\t\t     ntohl(hdr->hdr_version), ntohl(hdr->hdr_entries))",
          "old_line_content": "}",
          "new_line_content": "\tstrvec_pushf(args, \"--pack_header=%\"PRIu32\",%\"PRIu32,",
          "content_same": false
        },
        {
          "line": 2202,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(hdr->hdr_entries)",
          "old_line_content": "",
          "new_line_content": "\t\t     ntohl(hdr->hdr_version), ntohl(hdr->hdr_entries));",
          "content_same": false
        },
        {
          "line": 2217,
          "old_api": null,
          "new_api": "parse_pack_header",
          "old_text": null,
          "new_text": "parse_pack_header(&hdr)",
          "old_line_content": "\t\tif (err_fd > 0)",
          "new_line_content": "\thdr_err = parse_pack_header(&hdr);",
          "content_same": false
        },
        {
          "line": 2220,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(err_fd)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tclose(err_fd);",
          "content_same": false
        },
        {
          "line": 2226,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&child.args, \"--shallow-file\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstrvec_push(&child.args, \"--shallow-file\");",
          "content_same": false
        },
        {
          "line": 2227,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&child.args, alt_shallow_file)",
          "old_line_content": "",
          "new_line_content": "\t\tstrvec_push(&child.args, alt_shallow_file);",
          "content_same": false
        },
        {
          "line": 2230,
          "old_api": null,
          "new_api": "tmp_objdir_create",
          "old_text": null,
          "new_text": "tmp_objdir_create(\"incoming\")",
          "old_line_content": "\t\tif (err_fd > 0)",
          "new_line_content": "\ttmp_objdir = tmp_objdir_create(\"incoming\");",
          "content_same": false
        },
        {
          "line": 2233,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(err_fd)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tclose(err_fd);",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": null,
          "new_api": "tmp_objdir_env",
          "old_text": null,
          "new_text": "tmp_objdir_env(tmp_objdir)",
          "old_line_content": "\t/*",
          "new_line_content": "\tstrvec_pushv(&child.env, tmp_objdir_env(tmp_objdir));",
          "content_same": false
        },
        {
          "line": 2246,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&child.args, \"unpack-objects\")",
          "old_line_content": "\t\tif (quiet)",
          "new_line_content": "\t\tstrvec_push(&child.args, \"unpack-objects\");",
          "content_same": false
        },
        {
          "line": 2251,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&child.args, \"--strict%s\",\n\t\t\t\t     fsck_msg_types.buf)",
          "old_line_content": "\t\tif (max_input_size)",
          "new_line_content": "\t\t\tstrvec_pushf(&child.args, \"--strict%s\",",
          "content_same": false
        },
        {
          "line": 2254,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&child.args, \"--max-input-size=%\"PRIuMAX,\n\t\t\t\t     (uintmax_t)max_input_size)",
          "old_line_content": "\t\tchild.no_stdout = 1;",
          "new_line_content": "\t\t\tstrvec_pushf(&child.args, \"--max-input-size=%\"PRIuMAX,",
          "content_same": false
        },
        {
          "line": 2259,
          "old_api": null,
          "new_api": "run_command",
          "old_text": null,
          "new_text": "run_command(&child)",
          "old_line_content": "\t\t\treturn \"unpack-objects abnormal exit\";",
          "new_line_content": "\t\tstatus = run_command(&child);",
          "content_same": false
        },
        {
          "line": 2266,
          "old_api": null,
          "new_api": "strvec_pushl",
          "old_text": null,
          "new_text": "strvec_pushl(&child.args, \"index-pack\", \"--stdin\", NULL)",
          "old_line_content": "",
          "new_line_content": "\t\tstrvec_pushl(&child.args, \"index-pack\", \"--stdin\", NULL);",
          "content_same": false
        },
        {
          "line": 2270,
          "old_api": null,
          "new_api": "xsnprintf",
          "old_text": null,
          "new_text": "xsnprintf(hostname, sizeof(hostname), \"localhost\")",
          "old_line_content": "\t\t\t     \"--keep=receive-pack %\"PRIuMAX\" on %s\",",
          "new_line_content": "\t\t\txsnprintf(hostname, sizeof(hostname), \"localhost\");",
          "content_same": false
        },
        {
          "line": 2273,
          "old_api": null,
          "new_api": "getpid",
          "old_text": null,
          "new_text": "getpid()",
          "old_line_content": "",
          "new_line_content": "\t\t\t     (uintmax_t)getpid(),",
          "content_same": false
        },
        {
          "line": 2281,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&child.args, \"--strict%s\",\n\t\t\t\t     fsck_msg_types.buf)",
          "old_line_content": "\t\tif (!reject_thin)",
          "new_line_content": "\t\t\tstrvec_pushf(&child.args, \"--strict%s\",",
          "content_same": false
        },
        {
          "line": 2286,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&child.args, \"--max-input-size=%\"PRIuMAX,\n\t\t\t\t     (uintmax_t)max_input_size)",
          "old_line_content": "\t\tchild.out = -1;",
          "new_line_content": "\t\t\tstrvec_pushf(&child.args, \"--max-input-size=%\"PRIuMAX,",
          "content_same": false
        },
        {
          "line": 2291,
          "old_api": null,
          "new_api": "start_command",
          "old_text": null,
          "new_text": "start_command(&child)",
          "old_line_content": "\t\t\treturn \"index-pack fork failed\";",
          "new_line_content": "\t\tstatus = start_command(&child);",
          "content_same": false
        },
        {
          "line": 2297,
          "old_api": null,
          "new_api": "register_tempfile",
          "old_text": null,
          "new_text": "register_tempfile(lockfile)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tpack_lockfile = register_tempfile(lockfile);",
          "content_same": false
        },
        {
          "line": 2302,
          "old_api": null,
          "new_api": "finish_command",
          "old_text": null,
          "new_text": "finish_command(&child)",
          "old_line_content": "\t\t\treturn \"index-pack abnormal exit\";",
          "new_line_content": "\t\tstatus = finish_command(&child);",
          "content_same": false
        },
        {
          "line": 2305,
          "old_api": null,
          "new_api": "reprepare_packed_git",
          "old_text": null,
          "new_text": "reprepare_packed_git(the_repository)",
          "old_line_content": "\treturn NULL;",
          "new_line_content": "\t\treprepare_packed_git(the_repository);",
          "content_same": false
        },
        {
          "line": 2316,
          "old_api": null,
          "new_api": "unpack",
          "old_text": null,
          "new_text": "unpack(0, si)",
          "old_line_content": "\tuse_keepalive = KEEPALIVE_AFTER_NUL;",
          "new_line_content": "\t\treturn unpack(0, si);",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&muxer, 0, sizeof(muxer))",
          "old_line_content": "\tmuxer.in = -1;",
          "new_line_content": "\tmemset(&muxer, 0, sizeof(muxer));",
          "content_same": false
        },
        {
          "line": 2322,
          "old_api": null,
          "new_api": "start_async",
          "old_text": null,
          "new_text": "start_async(&muxer)",
          "old_line_content": "",
          "new_line_content": "\tif (start_async(&muxer))",
          "content_same": false
        },
        {
          "line": 2327,
          "old_api": null,
          "new_api": "finish_async",
          "old_text": null,
          "new_text": "finish_async(&muxer)",
          "old_line_content": "}",
          "new_line_content": "\tfinish_async(&muxer);",
          "content_same": false
        },
        {
          "line": 2335,
          "old_api": null,
          "new_api": "ALLOC_ARRAY",
          "old_text": null,
          "new_text": "ALLOC_ARRAY(si->used_shallow, si->shallow->nr)",
          "old_line_content": "",
          "new_line_content": "\tALLOC_ARRAY(si->used_shallow, si->shallow->nr);",
          "content_same": false
        },
        {
          "line": 2339,
          "old_api": null,
          "new_api": "CALLOC_ARRAY",
          "old_text": null,
          "new_text": "CALLOC_ARRAY(si->reachable, si->shallow->nr)",
          "old_line_content": "",
          "new_line_content": "\tCALLOC_ARRAY(si->reachable, si->shallow->nr);",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": null,
          "new_api": "CALLOC_ARRAY",
          "old_text": null,
          "new_text": "CALLOC_ARRAY(si->shallow_ref, si->ref->nr)",
          "old_line_content": "\tfor (i = 0; i < si->nr_ours; i++)",
          "new_line_content": "\tCALLOC_ARRAY(si->shallow_ref, si->ref->nr);",
          "content_same": false
        },
        {
          "line": 2371,
          "old_api": null,
          "new_api": "setenv",
          "old_text": null,
          "new_text": "setenv(GIT_SHALLOW_FILE_ENVIRONMENT, alt_shallow_file, 1)",
          "old_line_content": "",
          "new_line_content": "\tsetenv(GIT_SHALLOW_FILE_ENVIRONMENT, alt_shallow_file, 1);",
          "content_same": false
        },
        {
          "line": 2380,
          "old_api": null,
          "new_api": "remove_nonexistent_theirs_shallow",
          "old_text": null,
          "new_text": "remove_nonexistent_theirs_shallow(si)",
          "old_line_content": "\t\tshallow_update = 0;",
          "new_line_content": "\tremove_nonexistent_theirs_shallow(si);",
          "content_same": false
        },
        {
          "line": 2389,
          "old_api": null,
          "new_api": "oid_array_append",
          "old_text": null,
          "new_text": "oid_array_append(ref, &cmd->new_oid)",
          "old_line_content": "\t}",
          "new_line_content": "\t\toid_array_append(ref, &cmd->new_oid);",
          "content_same": false
        },
        {
          "line": 343,
          "old_api": null,
          "new_api": "for_each_alternate_ref",
          "old_text": null,
          "new_text": "for_each_alternate_ref(show_one_alternate_ref, &seen)",
          "old_line_content": "\tif (!sent_capabilities)",
          "new_line_content": "\tfor_each_alternate_ref(show_one_alternate_ref, &seen);",
          "content_same": false
        },
        {
          "line": 2395,
          "old_api": null,
          "new_api": "prepare_shallow_update",
          "old_text": null,
          "new_text": "prepare_shallow_update(si)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tprepare_shallow_update(si);",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": null,
          "new_api": "advertise_shallow_grafts",
          "old_text": null,
          "new_text": "advertise_shallow_grafts(1)",
          "old_line_content": "\t/* EOF */",
          "new_line_content": "\tadvertise_shallow_grafts(1);",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": null,
          "new_api": "packet_flush",
          "old_text": null,
          "new_text": "packet_flush(1)",
          "old_line_content": "",
          "new_line_content": "\tpacket_flush(1);",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": null,
          "new_api": "ALLOC_ARRAY",
          "old_text": null,
          "new_text": "ALLOC_ARRAY(ref_status, ref->nr)",
          "old_line_content": "\tfor (cmd = commands; cmd; cmd = cmd->next) {",
          "new_line_content": "\tALLOC_ARRAY(ref_status, ref->nr);",
          "content_same": false
        },
        {
          "line": 2402,
          "old_api": null,
          "new_api": "is_null_oid",
          "old_text": null,
          "new_text": "is_null_oid(&cmd->new_oid)",
          "old_line_content": "\t\tif (ref_status[cmd->index]) {",
          "new_line_content": "\t\tif (is_null_oid(&cmd->new_oid))",
          "content_same": false
        },
        {
          "line": 2409,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(ref_status)",
          "old_line_content": "",
          "new_line_content": "\tfree(ref_status);",
          "content_same": false
        },
        {
          "line": 2417,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&buf, \"unpack %s\\n\",\n\t\t\t unpack_status ? unpack_status : \"ok\")",
          "old_line_content": "\tfor (cmd = commands; cmd; cmd = cmd->next) {",
          "new_line_content": "\tpacket_buf_write(&buf, \"unpack %s\\n\",",
          "content_same": false
        },
        {
          "line": 2421,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&buf, \"ok %s\\n\",\n\t\t\t\t\t cmd->ref_name)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\t\tpacket_buf_write(&buf, \"ok %s\\n\",",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": null,
          "new_api": "CALLOC_ARRAY",
          "old_text": null,
          "new_text": "CALLOC_ARRAY(ref_pattern, 1)",
          "old_line_content": "\tif (p) {",
          "new_line_content": "\tCALLOC_ARRAY(ref_pattern, 1);",
          "content_same": false
        },
        {
          "line": 2424,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&buf, \"ng %s %s\\n\",\n\t\t\t\t\t cmd->ref_name, cmd->error_string)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tpacket_buf_write(&buf, \"ng %s %s\\n\",",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(prefix, ':')",
          "old_line_content": "\t\twhile (prefix < p) {",
          "new_line_content": "\tp = strchr(prefix, ':');",
          "content_same": false
        },
        {
          "line": 2427,
          "old_api": null,
          "new_api": "packet_buf_flush",
          "old_text": null,
          "new_text": "packet_buf_flush(&buf)",
          "old_line_content": "\tif (use_sideband)",
          "new_line_content": "\tpacket_buf_flush(&buf);",
          "content_same": false
        },
        {
          "line": 2432,
          "old_api": null,
          "new_api": "write_or_die",
          "old_text": null,
          "new_text": "write_or_die(1, buf.buf, buf.len)",
          "old_line_content": "}",
          "new_line_content": "\t\twrite_or_die(1, buf.buf, buf.len);",
          "content_same": false
        },
        {
          "line": 2433,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&buf)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&buf);",
          "content_same": false
        },
        {
          "line": 2442,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&buf, \"unpack %s\\n\",\n\t\t\t unpack_status ? unpack_status : \"ok\")",
          "old_line_content": "\tfor (cmd = commands; cmd; cmd = cmd->next) {",
          "new_line_content": "\tpacket_buf_write(&buf, \"unpack %s\\n\",",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(prefix)",
          "old_line_content": "\t\tlen--;",
          "new_line_content": "\tlen = strlen(prefix);",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": null,
          "new_api": "xmemdupz",
          "old_text": null,
          "new_text": "xmemdupz(prefix, len)",
          "old_line_content": "\t\tproc_receive_ref = ref_pattern;",
          "new_line_content": "\tref_pattern->ref_prefix = xmemdupz(prefix, len);",
          "content_same": false
        },
        {
          "line": 2448,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&buf, \"ng %s %s\\n\",\n\t\t\t\t\t cmd->ref_name,\n\t\t\t\t\t cmd->error_string)",
          "old_line_content": "\t\t\t\t\t cmd->error_string);",
          "new_line_content": "\t\t\tpacket_buf_write(&buf, \"ng %s %s\\n\",",
          "content_same": false
        },
        {
          "line": 2453,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&buf, \"ok %s\\n\",\n\t\t\t\t cmd->ref_name)",
          "old_line_content": "\t\tfor (report = cmd->report; report; report = report->next) {",
          "new_line_content": "\t\tpacket_buf_write(&buf, \"ok %s\\n\",",
          "content_same": false
        },
        {
          "line": 2457,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&buf, \"ok %s\\n\",\n\t\t\t\t\t\t cmd->ref_name)",
          "old_line_content": "\t\t\tif (report->ref_name)",
          "new_line_content": "\t\t\t\tpacket_buf_write(&buf, \"ok %s\\n\",",
          "content_same": false
        },
        {
          "line": 2460,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&buf, \"option refname %s\\n\",\n\t\t\t\t\t\t report->ref_name)",
          "old_line_content": "\t\t\tif (report->old_oid)",
          "new_line_content": "\t\t\t\tpacket_buf_write(&buf, \"option refname %s\\n\",",
          "content_same": false
        },
        {
          "line": 2463,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&buf, \"option old-oid %s\\n\",\n\t\t\t\t\t\t oid_to_hex(report->old_oid))",
          "old_line_content": "\t\t\tif (report->new_oid)",
          "new_line_content": "\t\t\t\tpacket_buf_write(&buf, \"option old-oid %s\\n\",",
          "content_same": false
        },
        {
          "line": 2466,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&buf, \"option new-oid %s\\n\",\n\t\t\t\t\t\t oid_to_hex(report->new_oid))",
          "old_line_content": "\t\t\tif (report->forced_update)",
          "new_line_content": "\t\t\t\tpacket_buf_write(&buf, \"option new-oid %s\\n\",",
          "content_same": false
        },
        {
          "line": 2469,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&buf, \"option forced-update\\n\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\tpacket_buf_write(&buf, \"option forced-update\\n\");",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": null,
          "new_api": "is_null_oid",
          "old_text": null,
          "new_text": "is_null_oid(&cmd->new_oid)",
          "old_line_content": "\t\telse if (!p->want_modify &&",
          "new_line_content": "\t\telse if (!p->want_delete && is_null_oid(&cmd->new_oid))",
          "content_same": false
        },
        {
          "line": 2472,
          "old_api": null,
          "new_api": "packet_buf_flush",
          "old_text": null,
          "new_text": "packet_buf_flush(&buf)",
          "old_line_content": "\tif (use_sideband)",
          "new_line_content": "\tpacket_buf_flush(&buf);",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": null,
          "new_api": "is_null_oid",
          "old_text": null,
          "new_text": "is_null_oid(&cmd->old_oid)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\t !is_null_oid(&cmd->old_oid) &&",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "is_null_oid",
          "old_text": null,
          "new_text": "is_null_oid(&cmd->new_oid)",
          "old_line_content": "",
          "new_line_content": "\t\t\t !is_null_oid(&cmd->new_oid))",
          "content_same": false
        },
        {
          "line": 2477,
          "old_api": null,
          "new_api": "write_or_die",
          "old_text": null,
          "new_text": "write_or_die(1, buf.buf, buf.len)",
          "old_line_content": "}",
          "new_line_content": "\t\twrite_or_die(1, buf.buf, buf.len);",
          "content_same": false
        },
        {
          "line": 2478,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&buf)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&buf);",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": null,
          "new_api": "skip_prefix",
          "old_text": null,
          "new_text": "skip_prefix(cmd->ref_name, match, &remains)",
          "old_line_content": "\t\t\tif (!p->negative_ref)",
          "new_line_content": "\t\tif (skip_prefix(cmd->ref_name, match, &remains) &&",
          "content_same": false
        },
        {
          "line": 2485,
          "old_api": null,
          "new_api": "is_null_oid",
          "old_text": null,
          "new_text": "is_null_oid(&cmd->new_oid)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (!is_null_oid(&cmd->new_oid))",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": null,
          "new_api": "xsnprintf",
          "old_text": null,
          "new_text": "xsnprintf(msg, sizeof(msg), \"%s\", prefix)",
          "old_line_content": "\tif (sz > (sizeof(msg) - 1))",
          "new_line_content": "\tsz = xsnprintf(msg, sizeof(msg), \"%s\", prefix);",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": null,
          "new_api": "vsnprintf",
          "old_text": null,
          "new_text": "vsnprintf(msg + sz, sizeof(msg) - sz, err, params)",
          "old_line_content": "\t\tsz = sizeof(msg) - 1;",
          "new_line_content": "\tsz += vsnprintf(msg + sz, sizeof(msg) - sz, err, params);",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": null,
          "new_api": "xwrite",
          "old_text": null,
          "new_text": "xwrite(2, msg, sz)",
          "old_line_content": "",
          "new_line_content": "\t\txwrite(2, msg, sz);",
          "content_same": false
        },
        {
          "line": 2505,
          "old_api": null,
          "new_api": "OPT_HIDDEN_BOOL",
          "old_text": null,
          "new_text": "OPT_HIDDEN_BOOL(0, \"reject-thin-pack-for-testing\", &reject_thin, NULL)",
          "old_line_content": "\t};",
          "new_line_content": "\t\tOPT_HIDDEN_BOOL(0, \"reject-thin-pack-for-testing\", &reject_thin, NULL),",
          "content_same": false
        },
        {
          "line": 2506,
          "old_api": null,
          "new_api": "OPT_END",
          "old_text": null,
          "new_text": "OPT_END()",
          "old_line_content": "",
          "new_line_content": "\t\tOPT_END()",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": null,
          "new_api": "format (printf, 1, 2)",
          "old_text": null,
          "new_text": "format (printf, 1, 2)",
          "old_line_content": "{",
          "new_line_content": "__attribute__((format (printf, 1, 2)))",
          "content_same": false
        },
        {
          "line": 2511,
          "old_api": null,
          "new_api": "parse_options",
          "old_text": null,
          "new_text": "parse_options(argc, argv, prefix, options, receive_pack_usage, 0)",
          "old_line_content": "\tif (argc > 1)",
          "new_line_content": "\targc = parse_options(argc, argv, prefix, options, receive_pack_usage, 0);",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": null,
          "new_api": "report_message",
          "old_text": null,
          "new_text": "report_message(\"warning: \", err, params)",
          "old_line_content": "}",
          "new_line_content": "\treport_message(\"warning: \", err, params);",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(params)",
          "old_line_content": "",
          "new_line_content": "\tva_end(params);",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "format (printf, 1, 2)",
          "old_text": null,
          "new_text": "format (printf, 1, 2)",
          "old_line_content": "{",
          "new_line_content": "__attribute__((format (printf, 1, 2)))",
          "content_same": false
        },
        {
          "line": 2516,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"you must specify a directory\")",
          "old_line_content": "\tservice_dir = argv[0];",
          "new_line_content": "\t\tusage_msg_opt(_(\"you must specify a directory\"), receive_pack_usage, options);",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": null,
          "new_api": "report_message",
          "old_text": null,
          "new_text": "report_message(\"error: \", err, params)",
          "old_line_content": "}",
          "new_line_content": "\treport_message(\"error: \", err, params);",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(params)",
          "old_line_content": "",
          "new_line_content": "\tva_end(params);",
          "content_same": false
        },
        {
          "line": 2522,
          "old_api": null,
          "new_api": "enter_repo",
          "old_text": null,
          "new_text": "enter_repo(service_dir, 0)",
          "old_line_content": "",
          "new_line_content": "\tif (!enter_repo(service_dir, 0))",
          "content_same": false
        },
        {
          "line": 2527,
          "old_api": null,
          "new_api": "time",
          "old_text": null,
          "new_text": "time(NULL)",
          "old_line_content": "\tif (0 <= transfer_unpack_limit)",
          "new_line_content": "\t\tpush_cert_nonce = prepare_push_cert_nonce(service_dir, time(NULL));",
          "content_same": false
        },
        {
          "line": 2534,
          "old_api": null,
          "new_api": "determine_protocol_version_server",
          "old_text": null,
          "new_text": "determine_protocol_version_server()",
          "old_line_content": "\t\t/*",
          "new_line_content": "\tswitch (determine_protocol_version_server()) {",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": null,
          "new_api": "poll",
          "old_text": null,
          "new_text": "poll(&pfd, 1, 1000 * keepalive_in_sec)",
          "old_line_content": "\t\t\tif (ret < 0) {",
          "new_line_content": "\t\t\tret = poll(&pfd, 1, 1000 * keepalive_in_sec);",
          "content_same": false
        },
        {
          "line": 2547,
          "old_api": null,
          "new_api": "packet_write_fmt",
          "old_text": null,
          "new_text": "packet_write_fmt(1, \"version 1\\n\")",
          "old_line_content": "\t\t/* fallthrough */",
          "new_line_content": "\t\t\tpacket_write_fmt(1, \"version 1\\n\");",
          "content_same": false
        },
        {
          "line": 2553,
          "old_api": null,
          "new_api": "BUG",
          "old_text": null,
          "new_text": "BUG(\"unknown protocol version\")",
          "old_line_content": "",
          "new_line_content": "\t\tBUG(\"unknown protocol version\");",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": null,
          "new_api": "write_or_die",
          "old_text": null,
          "new_text": "write_or_die(1, buf, sizeof(buf) - 1)",
          "old_line_content": "\t\t\t} /* else there is actual data to read */",
          "new_line_content": "\t\t\t\twrite_or_die(1, buf, sizeof(buf) - 1);",
          "content_same": false
        },
        {
          "line": 2557,
          "old_api": null,
          "new_api": "write_head_info",
          "old_text": null,
          "new_text": "write_head_info()",
          "old_line_content": "\tif (advertise_refs)",
          "new_line_content": "\t\twrite_head_info();",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": null,
          "new_api": "xread",
          "old_text": null,
          "new_text": "xread(in, data, sizeof(data))",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\tsz = xread(in, data, sizeof(data));",
          "content_same": false
        },
        {
          "line": 2562,
          "old_api": null,
          "new_api": "packet_reader_init",
          "old_text": null,
          "new_text": "packet_reader_init(&reader, 0, NULL, 0,\n\t\t\t   PACKET_READ_CHOMP_NEWLINE |\n\t\t\t   PACKET_READ_DIE_ON_ERR_PACKET)",
          "old_line_content": "\t\t\t   PACKET_READ_DIE_ON_ERR_PACKET);",
          "new_line_content": "\tpacket_reader_init(&reader, 0, NULL, 0,",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(data, '\\0', sz)",
          "old_line_content": "\t\t\t\t/*",
          "new_line_content": "\t\t\tconst char *p = memchr(data, '\\0', sz);",
          "content_same": false
        },
        {
          "line": 2566,
          "old_api": null,
          "new_api": "read_head_info",
          "old_text": null,
          "new_text": "read_head_info(&reader, &shallow)",
          "old_line_content": "\t\tstruct string_list push_options = STRING_LIST_INIT_DUP;",
          "new_line_content": "\tif ((commands = read_head_info(&reader, &shallow))) {",
          "content_same": false
        },
        {
          "line": 2571,
          "old_api": null,
          "new_api": "read_push_options",
          "old_text": null,
          "new_text": "read_push_options(&reader, &push_options)",
          "old_line_content": "\t\t\tstruct command *cmd;",
          "new_line_content": "\t\t\tread_push_options(&reader, &push_options);",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": null,
          "new_api": "send_sideband",
          "old_text": null,
          "new_text": "send_sideband(1, 2, data, p - data, use_sideband)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\t\tsend_sideband(1, 2, data, p - data, use_sideband);",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": null,
          "new_api": "send_sideband",
          "old_text": null,
          "new_text": "send_sideband(1, 2, p + 1, sz - (p - data + 1), use_sideband)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tsend_sideband(1, 2, p + 1, sz - (p - data + 1), use_sideband);",
          "content_same": false
        },
        {
          "line": 2572,
          "old_api": null,
          "new_api": "check_cert_push_options",
          "old_text": null,
          "new_text": "check_cert_push_options(&push_options)",
          "old_line_content": "\t\t\tfor (cmd = commands; cmd; cmd = cmd->next)",
          "new_line_content": "\t\tif (!check_cert_push_options(&push_options)) {",
          "content_same": false
        },
        {
          "line": 2578,
          "old_api": null,
          "new_api": "prepare_shallow_info",
          "old_text": null,
          "new_text": "prepare_shallow_info(&si, &shallow)",
          "old_line_content": "\t\t\tshallow_update = 0;",
          "new_line_content": "\t\tprepare_shallow_info(&si, &shallow);",
          "content_same": false
        },
        {
          "line": 2582,
          "old_api": null,
          "new_api": "unpack_with_sideband",
          "old_text": null,
          "new_text": "unpack_with_sideband(&si)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tunpack_status = unpack_with_sideband(&si);",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": null,
          "new_api": "update_shallow_info",
          "old_text": null,
          "new_text": "update_shallow_info(commands, &si, &ref)",
          "old_line_content": "\t\tuse_keepalive = KEEPALIVE_ALWAYS;",
          "new_line_content": "\t\t\tupdate_shallow_info(commands, &si, &ref);",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(in)",
          "old_line_content": "}",
          "new_line_content": "\tclose(in);",
          "content_same": false
        },
        {
          "line": 2588,
          "old_api": null,
          "new_api": "delete_tempfile",
          "old_text": null,
          "new_text": "delete_tempfile(&pack_lockfile)",
          "old_line_content": "\t\tif (report_status_v2)",
          "new_line_content": "\t\tdelete_tempfile(&pack_lockfile);",
          "content_same": false
        },
        {
          "line": 2594,
          "old_api": null,
          "new_api": "sigchain_pop",
          "old_text": null,
          "new_text": "sigchain_pop(SIGPIPE)",
          "old_line_content": "\t\t\t\t &push_options);",
          "new_line_content": "\t\tsigchain_pop(SIGPIPE);",
          "content_same": false
        },
        {
          "line": 2598,
          "old_api": null,
          "new_api": "free_commands",
          "old_text": null,
          "new_text": "free_commands(commands)",
          "old_line_content": "\t\tif (auto_gc) {",
          "new_line_content": "\t\tfree_commands(commands);",
          "content_same": false
        },
        {
          "line": 2599,
          "old_api": null,
          "new_api": "string_list_clear",
          "old_text": null,
          "new_text": "string_list_clear(&push_options, 0)",
          "old_line_content": "\t\t\tstruct child_process proc = CHILD_PROCESS_INIT;",
          "new_line_content": "\t\tstring_list_clear(&push_options, 0);",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": null,
          "new_api": "update_fn",
          "old_text": null,
          "new_text": "the_hash_algo->update_fn(&ctx, key_in, key_len)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tthe_hash_algo->update_fn(&ctx, key_in, key_len);",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(key, key_in, key_len)",
          "old_line_content": "",
          "new_line_content": "\t\tmemcpy(key, key_in, key_len);",
          "content_same": false
        },
        {
          "line": 2607,
          "old_api": null,
          "new_api": "strvec_pushl",
          "old_text": null,
          "new_text": "strvec_pushl(&proc.args, \"gc\", \"--auto\", \"--quiet\",\n\t\t\t\t     NULL)",
          "old_line_content": "",
          "new_line_content": "\t\t\tstrvec_pushl(&proc.args, \"gc\", \"--auto\", \"--quiet\",",
          "content_same": false
        },
        {
          "line": 2612,
          "old_api": null,
          "new_api": "copy_to_sideband",
          "old_text": null,
          "new_text": "copy_to_sideband(proc.err, -1, NULL)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tcopy_to_sideband(proc.err, -1, NULL);",
          "content_same": false
        },
        {
          "line": 2613,
          "old_api": null,
          "new_api": "finish_command",
          "old_text": null,
          "new_text": "finish_command(&proc)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tfinish_command(&proc);",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": null,
          "new_api": "update_fn",
          "old_text": null,
          "new_text": "the_hash_algo->update_fn(&ctx, text, text_len)",
          "old_line_content": "",
          "new_line_content": "\tthe_hash_algo->update_fn(&ctx, text, text_len);",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": null,
          "new_api": "final_fn",
          "old_text": null,
          "new_text": "the_hash_algo->final_fn(out, &ctx)",
          "old_line_content": "\t/* RFC 2104 2. (6) & (7) */",
          "new_line_content": "\tthe_hash_algo->final_fn(out, &ctx);",
          "content_same": false
        },
        {
          "line": 2617,
          "old_api": null,
          "new_api": "update_server_info",
          "old_text": null,
          "new_text": "update_server_info(0)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tupdate_server_info(0);",
          "content_same": false
        },
        {
          "line": 2618,
          "old_api": null,
          "new_api": "clear_shallow_info",
          "old_text": null,
          "new_text": "clear_shallow_info(&si)",
          "old_line_content": "\tif (use_sideband)",
          "new_line_content": "\t\tclear_shallow_info(&si);",
          "content_same": false
        },
        {
          "line": 575,
          "old_api": null,
          "new_api": "update_fn",
          "old_text": null,
          "new_text": "the_hash_algo->update_fn(&ctx, out, the_hash_algo->rawsz)",
          "old_line_content": "}",
          "new_line_content": "\tthe_hash_algo->update_fn(&ctx, out, the_hash_algo->rawsz);",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": null,
          "new_api": "final_fn",
          "old_text": null,
          "new_text": "the_hash_algo->final_fn(out, &ctx)",
          "old_line_content": "",
          "new_line_content": "\tthe_hash_algo->final_fn(out, &ctx);",
          "content_same": false
        },
        {
          "line": 2624,
          "old_api": null,
          "new_api": "strvec_clear",
          "old_text": null,
          "new_text": "strvec_clear(&hidden_refs)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\tstrvec_clear(&hidden_refs);",
          "content_same": false
        },
        {
          "line": 2625,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free((void *)push_cert_nonce)",
          "old_line_content": "}",
          "new_line_content": "\tfree((void *)push_cert_nonce);",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(cert_nonce_seed)",
          "old_line_content": "",
          "new_line_content": "\thmac_hash(hash, buf.buf, buf.len, cert_nonce_seed, strlen(cert_nonce_seed));",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&buf)",
          "old_line_content": "\t/* RFC 2104 5. HMAC-SHA1 or HMAC-SHA256 */",
          "new_line_content": "\tstrbuf_release(&buf);",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": null,
          "new_api": "hash_to_hex",
          "old_text": null,
          "new_text": "hash_to_hex(hash)",
          "old_line_content": "}",
          "new_line_content": "\tstrbuf_addf(&buf, \"%\"PRItime\"-%.*s\", stamp, (int)the_hash_algo->hexsz, hash_to_hex(hash));",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": null,
          "new_api": "strbuf_detach",
          "old_text": null,
          "new_text": "strbuf_detach(&buf, NULL)",
          "old_line_content": "",
          "new_line_content": "\treturn strbuf_detach(&buf, NULL);",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": null,
          "new_api": "find_header_mem",
          "old_text": null,
          "new_text": "find_header_mem(msg, len, key, &out_len)",
          "old_line_content": "\tif (!val)",
          "new_line_content": "\tconst char *val = find_header_mem(msg, len, key, &out_len);",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": null,
          "new_api": "xmemdupz",
          "old_text": null,
          "new_text": "xmemdupz(val, out_len)",
          "old_line_content": "",
          "new_line_content": "\treturn xmemdupz(val, out_len);",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": null,
          "new_api": "find_header",
          "old_text": null,
          "new_text": "find_header(buf, len, \"nonce\", NULL)",
          "old_line_content": "\tchar *bohmac, *expect = NULL;",
          "new_line_content": "\tchar *nonce = find_header(buf, len, \"nonce\", NULL);",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(push_cert_nonce, nonce)",
          "old_line_content": "\t\tgoto leave;",
          "new_line_content": "\t} else if (!strcmp(push_cert_nonce, nonce)) {",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": null,
          "new_api": "parse_timestamp",
          "old_text": null,
          "new_text": "parse_timestamp(nonce, &bohmac, 10)",
          "old_line_content": "\t\tretval = NONCE_BAD;",
          "new_line_content": "\tstamp = parse_timestamp(nonce, &bohmac, 10);",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": null,
          "new_api": "prepare_push_cert_nonce",
          "old_text": null,
          "new_text": "prepare_push_cert_nonce(service_dir, stamp)",
          "old_line_content": "\t\t/* This is not even the right size. */",
          "new_line_content": "\texpect = prepare_push_cert_nonce(service_dir, stamp);",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(expect)",
          "old_line_content": "\t\tretval = NONCE_BAD;",
          "new_line_content": "\tif (noncelen != strlen(expect)) {",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": null,
          "new_api": "constant_memequal",
          "old_text": null,
          "new_text": "constant_memequal(expect, nonce, noncelen)",
          "old_line_content": "\t\tretval = NONCE_BAD;",
          "new_line_content": "\tif (constant_memequal(expect, nonce, noncelen)) {",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": null,
          "new_api": "parse_timestamp",
          "old_text": null,
          "new_text": "parse_timestamp(push_cert_nonce, NULL, 10)",
          "old_line_content": "",
          "new_line_content": "\tostamp = parse_timestamp(push_cert_nonce, NULL, 10);",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": null,
          "new_api": "labs",
          "old_text": null,
          "new_text": "labs(nonce_stamp_slop)",
          "old_line_content": "\t\t * Pretend as if the received nonce (which passes the",
          "new_line_content": "\t    labs(nonce_stamp_slop) <= nonce_stamp_slop_limit) {",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free((void *)push_cert_nonce)",
          "old_line_content": "\t\tretval = NONCE_OK;",
          "new_line_content": "\t\tfree((void *)push_cert_nonce);",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": null,
          "new_api": "xstrdup",
          "old_text": null,
          "new_text": "xstrdup(nonce)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tpush_cert_nonce = xstrdup(nonce);",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(nonce)",
          "old_line_content": "\treturn retval;",
          "new_line_content": "\tfree(nonce);",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(expect)",
          "old_line_content": "}",
          "new_line_content": "\tfree(expect);",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": null,
          "new_api": "find_header",
          "old_text": null,
          "new_text": "find_header(buf, len, \"push-option\", &next_line)",
          "old_line_content": "\t\tbuf = next_line;",
          "new_line_content": "\twhile ((option = find_header(buf, len, \"push-option\", &next_line))) {",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(option,\n\t\t\t      push_options->items[options_seen - 1].string)",
          "old_line_content": "\t\t\tretval = 0;",
          "new_line_content": "\t\t    || strcmp(option,",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(option)",
          "old_line_content": "",
          "new_line_content": "\t\tfree(option);",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(option)",
          "old_line_content": "}",
          "new_line_content": "\tfree(option);",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": null,
          "new_api": "parse_signed_buffer",
          "old_text": null,
          "new_text": "parse_signed_buffer(push_cert.buf, push_cert.len)",
          "old_line_content": "\t\tsigcheck.payload_len = bogs;",
          "new_line_content": "\t\tbogs = parse_signed_buffer(push_cert.buf, push_cert.len);",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": null,
          "new_api": "check_signature",
          "old_text": null,
          "new_text": "check_signature(&sigcheck, push_cert.buf + bogs,\n\t\t\t\tpush_cert.len - bogs)",
          "old_line_content": "",
          "new_line_content": "\t\tcheck_signature(&sigcheck, push_cert.buf + bogs,",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&push_cert_oid)",
          "old_line_content": "\t\t\t     sigcheck.signer ? sigcheck.signer : \"\");",
          "new_line_content": "\t\t\t     oid_to_hex(&push_cert_oid));",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&proc->env, \"GIT_PUSH_CERT_STATUS=%c\",\n\t\t\t     sigcheck.result)",
          "old_line_content": "\t\tif (push_cert_nonce) {",
          "new_line_content": "\t\tstrvec_pushf(&proc->env, \"GIT_PUSH_CERT_STATUS=%c\",",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&proc->env,\n\t\t\t\t     \"GIT_PUSH_CERT_NONCE=%s\",\n\t\t\t\t     push_cert_nonce)",
          "old_line_content": "\t\t\t\t     push_cert_nonce);",
          "new_line_content": "\t\t\tstrvec_pushf(&proc->env,",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&proc->env,\n\t\t\t\t     \"GIT_PUSH_CERT_NONCE_STATUS=%s\",\n\t\t\t\t     nonce_status)",
          "old_line_content": "\t\t\t\t     nonce_status);",
          "new_line_content": "\t\t\tstrvec_pushf(&proc->env,",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&proc->env,\n\t\t\t\t\t     \"GIT_PUSH_CERT_NONCE_SLOP=%ld\",\n\t\t\t\t\t     nonce_stamp_slop)",
          "old_line_content": "\t\t\t\t\t     nonce_stamp_slop);",
          "new_line_content": "\t\t\t\tstrvec_pushf(&proc->env,",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": null,
          "new_api": "find_hook",
          "old_text": null,
          "new_text": "find_hook(hook_name)",
          "old_line_content": "\tif (!hook_path)",
          "new_line_content": "\tconst char *hook_path = find_hook(hook_name);",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&proc.args, hook_path)",
          "old_line_content": "\tproc.stdout_to_stderr = 1;",
          "new_line_content": "\tstrvec_push(&proc.args, hook_path);",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&proc.env,\n\t\t\t\t     \"GIT_PUSH_OPTION_%\"PRIuMAX\"=%s\",\n\t\t\t\t     (uintmax_t)i,\n\t\t\t\t     feed_state->push_options->items[i].string)",
          "old_line_content": "\t\t\t\t     (uintmax_t)i,",
          "new_line_content": "\t\t\tstrvec_pushf(&proc.env,",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&proc.env, \"GIT_PUSH_OPTION_COUNT=%\"PRIuMAX\"\",\n\t\t\t     (uintmax_t)feed_state->push_options->nr)",
          "old_line_content": "\t} else",
          "new_line_content": "\t\tstrvec_pushf(&proc.env, \"GIT_PUSH_OPTION_COUNT=%\"PRIuMAX\"\",",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": null,
          "new_api": "strvec_pushf",
          "old_text": null,
          "new_text": "strvec_pushf(&proc.env, \"GIT_PUSH_OPTION_COUNT\")",
          "old_line_content": "\tif (tmp_objdir)",
          "new_line_content": "\t\tstrvec_pushf(&proc.env, \"GIT_PUSH_OPTION_COUNT\");",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": null,
          "new_api": "tmp_objdir_env",
          "old_text": null,
          "new_text": "tmp_objdir_env(tmp_objdir)",
          "old_line_content": "\tif (use_sideband) {",
          "new_line_content": "\t\tstrvec_pushv(&proc.env, tmp_objdir_env(tmp_objdir));",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&muxer, 0, sizeof(muxer))",
          "old_line_content": "\t\tmuxer.in = -1;",
          "new_line_content": "\t\tmemset(&muxer, 0, sizeof(muxer));",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": null,
          "new_api": "start_async",
          "old_text": null,
          "new_text": "start_async(&muxer)",
          "old_line_content": "\t\t\treturn code;",
          "new_line_content": "\t\tcode = start_async(&muxer);",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": null,
          "new_api": "start_command",
          "old_text": null,
          "new_text": "start_command(&proc)",
          "old_line_content": "\t\tif (use_sideband)",
          "new_line_content": "\tcode = start_command(&proc);",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": null,
          "new_api": "finish_async",
          "old_text": null,
          "new_text": "finish_async(&muxer)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tfinish_async(&muxer);",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": null,
          "new_api": "sigchain_push",
          "old_text": null,
          "new_text": "sigchain_push(SIGPIPE, SIG_IGN)",
          "old_line_content": "\twhile (1) {",
          "new_line_content": "\tsigchain_push(SIGPIPE, SIG_IGN);",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": null,
          "new_api": "write_in_full",
          "old_text": null,
          "new_text": "write_in_full(proc.in, buf, n)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (write_in_full(proc.in, buf, n) < 0)",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": null,
          "new_api": "finish_command",
          "old_text": null,
          "new_text": "finish_command(&proc)",
          "old_line_content": "",
          "new_line_content": "\treturn finish_command(&proc);",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": null,
          "new_api": "strbuf_reset",
          "old_text": null,
          "new_text": "strbuf_reset(&state->buf)",
          "old_line_content": "\t\tstate->report = cmd->report;",
          "new_line_content": "\tstrbuf_reset(&state->buf);",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(&state->buf, \"%s %s %s\\n\",\n\t\t\t    oid_to_hex(old_oid), oid_to_hex(new_oid),\n\t\t\t    ref_name)",
          "old_line_content": "\t\t\t    ref_name);",
          "new_line_content": "\t\tstrbuf_addf(&state->buf, \"%s %s %s\\n\",",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(new_oid)",
          "old_line_content": "\t\tstate->report = state->report->next;",
          "new_line_content": "\t\t\t    oid_to_hex(old_oid), oid_to_hex(new_oid),",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(&state->buf, \"%s %s %s\\n\",\n\t\t\t    oid_to_hex(&cmd->old_oid), oid_to_hex(&cmd->new_oid),\n\t\t\t    cmd->ref_name)",
          "old_line_content": "\t\t\t    cmd->ref_name);",
          "new_line_content": "\t\tstrbuf_addf(&state->buf, \"%s %s %s\\n\",",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&cmd->new_oid)",
          "old_line_content": "\t\tstate->cmd = cmd->next;",
          "new_line_content": "\t\t\t    oid_to_hex(&cmd->old_oid), oid_to_hex(&cmd->new_oid),",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": null,
          "new_api": "strbuf_init",
          "old_text": null,
          "new_text": "strbuf_init(&state.buf, 0)",
          "old_line_content": "\tstate.skip_broken = skip_broken;",
          "new_line_content": "\tstrbuf_init(&state.buf, 0);",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": null,
          "new_api": "feed_receive_hook",
          "old_text": null,
          "new_text": "feed_receive_hook(&state, NULL, NULL)",
          "old_line_content": "\tstate.cmd = commands;",
          "new_line_content": "\tif (feed_receive_hook(&state, NULL, NULL))",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": null,
          "new_api": "run_and_feed_hook",
          "old_text": null,
          "new_text": "run_and_feed_hook(hook_name, feed_receive_hook, &state)",
          "old_line_content": "\treturn status;",
          "new_line_content": "\tstatus = run_and_feed_hook(hook_name, feed_receive_hook, &state);",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&state.buf)",
          "old_line_content": "}",
          "new_line_content": "\tstrbuf_release(&state.buf);",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "find_hook",
          "old_text": null,
          "new_text": "find_hook(\"update\")",
          "old_line_content": "\tif (!hook_path)",
          "new_line_content": "\tconst char *hook_path = find_hook(\"update\");",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&cmd->old_oid)",
          "old_line_content": "",
          "new_line_content": "\tstrvec_push(&proc.args, oid_to_hex(&cmd->old_oid));",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&cmd->new_oid)",
          "old_line_content": "\tproc.no_stdin = 1;",
          "new_line_content": "\tstrvec_push(&proc.args, oid_to_hex(&cmd->new_oid));",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": null,
          "new_api": "start_command",
          "old_text": null,
          "new_text": "start_command(&proc)",
          "old_line_content": "\t\treturn code;",
          "new_line_content": "\tcode = start_command(&proc);",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": null,
          "new_api": "copy_to_sideband",
          "old_text": null,
          "new_text": "copy_to_sideband(proc.err, -1, NULL)",
          "old_line_content": "}",
          "new_line_content": "\t\tcopy_to_sideband(proc.err, -1, NULL);",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": null,
          "new_api": "finish_command",
          "old_text": null,
          "new_text": "finish_command(&proc)",
          "old_line_content": "",
          "new_line_content": "\treturn finish_command(&proc);",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(list->ref_name, refname)",
          "old_line_content": "\treturn NULL;",
          "new_line_content": "\t\tif (!strcmp(list->ref_name, refname))",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": null,
          "new_api": "packet_reader_read",
          "old_text": null,
          "new_text": "packet_reader_read(reader)",
          "old_line_content": "\t\t\t/* Check whether proc-receive exited abnormally */",
          "new_line_content": "\t\tstatus = packet_reader_read(reader);",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(errmsg, \"proc-receive exited abnormally\")",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tstrbuf_addstr(errmsg, \"proc-receive exited abnormally\");",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(errmsg, \"proc-receive reported incomplete status line: '%s'\\n\", head)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\tstrbuf_addf(errmsg, \"proc-receive reported incomplete status line: '%s'\\n\", head);",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(head, \"option\")",
          "old_line_content": "",
          "new_line_content": "\t\tif (!strcmp(head, \"option\")) {",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(errmsg, \"proc-receive reported 'option' without a matching 'ok/ng' directive\\n\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\t\t\tstrbuf_addstr(errmsg, \"proc-receive reported 'option' without a matching 'ok/ng' directive\\n\");",
          "content_same": false
        },
        {
          "line": 1025,
          "old_api": null,
          "new_api": "CALLOC_ARRAY",
          "old_text": null,
          "new_text": "CALLOC_ARRAY(hint->report, 1)",
          "old_line_content": "\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\tCALLOC_ARRAY(hint->report, 1);",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(1, sizeof(struct ref_push_report))",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\treport->next = xcalloc(1, sizeof(struct ref_push_report));",
          "content_same": false
        },
        {
          "line": 1037,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(key, ' ')",
          "old_line_content": "\t\t\t\t*p++ = '\\0';",
          "new_line_content": "\t\t\tp = strchr(key, ' ');",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": null,
          "new_api": "oiddup",
          "old_text": null,
          "new_text": "oiddup(&new_oid)",
          "old_line_content": "\t\t\t\treport->forced_update = 1;",
          "new_line_content": "\t\t\t\treport->new_oid = oiddup(&new_oid);",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(key, \"fall-through\")",
          "old_line_content": "\t\t\t\thint->run_proc_receive = 0;",
          "new_line_content": "\t\t\telse if (!strcmp(key, \"fall-through\"))",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(refname, ' ')",
          "old_line_content": "\t\t\t*p++ = '\\0';",
          "new_line_content": "\t\tp = strchr(refname, ' ');",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(head, \"ng\")",
          "old_line_content": "\t\t\t\t    head, refname);",
          "new_line_content": "\t\tif (strcmp(head, \"ok\") && strcmp(head, \"ng\")) {",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(errmsg, \"proc-receive reported bad status '%s' on ref '%s'\\n\",\n\t\t\t\t    head, refname)",
          "old_line_content": "\t\t\tcode = -1;",
          "new_line_content": "\t\t\tstrbuf_addf(errmsg, \"proc-receive reported bad status '%s' on ref '%s'\\n\",",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(errmsg, \"proc-receive reported status on unknown ref: %s\\n\",\n\t\t\t\t    refname)",
          "old_line_content": "\t\t\tcode = -1;",
          "new_line_content": "\t\t\tstrbuf_addf(errmsg, \"proc-receive reported status on unknown ref: %s\\n\",",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(errmsg, \"proc-receive reported status on unexpected ref: %s\\n\",\n\t\t\t\t    refname)",
          "old_line_content": "\t\t\tcode = -1;",
          "new_line_content": "\t\t\tstrbuf_addf(errmsg, \"proc-receive reported status on unexpected ref: %s\\n\",",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": null,
          "new_api": "xstrdup",
          "old_text": null,
          "new_text": "xstrdup(p)",
          "old_line_content": "\t\t\t\thint->error_string = \"failed\";",
          "new_line_content": "\t\t\t\thint->error_string = xstrdup(p);",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": null,
          "new_api": "find_hook",
          "old_text": null,
          "new_text": "find_hook(\"proc-receive\")",
          "old_line_content": "\tif (!hook_path) {",
          "new_line_content": "\tconst char *hook_path = find_hook(\"proc-receive\");",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"cannot find hook 'proc-receive'\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\trp_error(\"cannot find hook 'proc-receive'\");",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&proc.args, hook_path)",
          "old_line_content": "\tproc.out = -1;",
          "new_line_content": "\tstrvec_push(&proc.args, hook_path);",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&muxer, 0, sizeof(muxer))",
          "old_line_content": "\t\tmuxer.in = -1;",
          "new_line_content": "\t\tmemset(&muxer, 0, sizeof(muxer));",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": null,
          "new_api": "start_async",
          "old_text": null,
          "new_text": "start_async(&muxer)",
          "old_line_content": "\t\t\treturn code;",
          "new_line_content": "\t\tcode = start_async(&muxer);",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": null,
          "new_api": "start_command",
          "old_text": null,
          "new_text": "start_command(&proc)",
          "old_line_content": "\t\tif (use_sideband)",
          "new_line_content": "\tcode = start_command(&proc);",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": null,
          "new_api": "finish_async",
          "old_text": null,
          "new_text": "finish_async(&muxer)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tfinish_async(&muxer);",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": null,
          "new_api": "sigchain_push",
          "old_text": null,
          "new_text": "sigchain_push(SIGPIPE, SIG_IGN)",
          "old_line_content": "\t/* Version negotiaton */",
          "new_line_content": "\tsigchain_push(SIGPIPE, SIG_IGN);",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": null,
          "new_api": "packet_reader_init",
          "old_text": null,
          "new_text": "packet_reader_init(&reader, proc.out, NULL, 0,\n\t\t\t   PACKET_READ_CHOMP_NEWLINE |\n\t\t\t   PACKET_READ_GENTLE_ON_EOF)",
          "old_line_content": "\t\t\t   PACKET_READ_GENTLE_ON_EOF);",
          "new_line_content": "\tpacket_reader_init(&reader, proc.out, NULL, 0,",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": null,
          "new_api": "packet_write_fmt_gently",
          "old_text": null,
          "new_text": "packet_write_fmt_gently(proc.in, \"version=1%c%s\\n\", '\\0', cap.buf + 1)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tcode = packet_write_fmt_gently(proc.in, \"version=1%c%s\\n\", '\\0', cap.buf + 1);",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": null,
          "new_api": "packet_write_fmt_gently",
          "old_text": null,
          "new_text": "packet_write_fmt_gently(proc.in, \"version=1\\n\")",
          "old_line_content": "\tif (!code)",
          "new_line_content": "\t\tcode = packet_write_fmt_gently(proc.in, \"version=1\\n\");",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "packet_flush_gently",
          "old_text": null,
          "new_text": "packet_flush_gently(proc.in)",
          "old_line_content": "\tif (!code)",
          "new_line_content": "\t\tcode = packet_flush_gently(proc.in);",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": null,
          "new_api": "packet_reader_read",
          "old_text": null,
          "new_text": "packet_reader_read(&reader)",
          "old_line_content": "\t\t\t\t/* Check whether proc-receive exited abnormally */",
          "new_line_content": "\t\t\tstatus = packet_reader_read(&reader);",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": null,
          "new_api": "atoi",
          "old_text": null,
          "new_text": "atoi(reader.line + 8)",
          "old_line_content": "\t\t\t\tif (linelen < reader.pktlen) {",
          "new_line_content": "\t\t\t\tversion = atoi(reader.line + 8);",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(reader.line)",
          "old_line_content": "\t\t\t\t\tconst char *feature_list = reader.line + linelen + 1;",
          "new_line_content": "\t\t\t\tlinelen = strlen(reader.line);",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": null,
          "new_api": "parse_feature_request",
          "old_text": null,
          "new_text": "parse_feature_request(feature_list, \"push-options\")",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tif (parse_feature_request(feature_list, \"push-options\"))",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&errmsg, \"fail to negotiate version with proc-receive hook\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstrbuf_addstr(&errmsg, \"fail to negotiate version with proc-receive hook\");",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(&errmsg, \"proc-receive version '%d' is not supported\",\n\t\t\t    version)",
          "old_line_content": "\t\tcode = -1;",
          "new_line_content": "\t\tstrbuf_addf(&errmsg, \"proc-receive version '%d' is not supported\",",
          "content_same": false
        },
        {
          "line": 1216,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&cmd->old_oid)",
          "old_line_content": "\t\t\t\t\t       cmd->ref_name);",
          "new_line_content": "\t\t\t\t\t       oid_to_hex(&cmd->old_oid),",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&cmd->new_oid)",
          "old_line_content": "\t\tif (code)",
          "new_line_content": "\t\t\t\t\t       oid_to_hex(&cmd->new_oid),",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&errmsg, \"fail to write commands to proc-receive hook\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstrbuf_addstr(&errmsg, \"fail to write commands to proc-receive hook\");",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": null,
          "new_api": "packet_write_fmt_gently",
          "old_text": null,
          "new_text": "packet_write_fmt_gently(proc.in, \"%s\", item->string)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\tcode = packet_write_fmt_gently(proc.in, \"%s\", item->string);",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&errmsg,\n\t\t\t\t      \"fail to write push-options to proc-receive hook\")",
          "old_line_content": "\t\t\tgoto cleanup;",
          "new_line_content": "\t\t\tstrbuf_addstr(&errmsg,",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": null,
          "new_api": "read_proc_receive_report",
          "old_text": null,
          "new_text": "read_proc_receive_report(&reader, commands, &errmsg)",
          "old_line_content": "cleanup:",
          "new_line_content": "\tcode = read_proc_receive_report(&reader, commands, &errmsg);",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(proc.in)",
          "old_line_content": "\tif (use_sideband)",
          "new_line_content": "\tclose(proc.in);",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": null,
          "new_api": "finish_async",
          "old_text": null,
          "new_text": "finish_async(&muxer)",
          "old_line_content": "\t\tcode = -1;",
          "new_line_content": "\t\tfinish_async(&muxer);",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": null,
          "new_api": "finish_command",
          "old_text": null,
          "new_text": "finish_command(&proc)",
          "old_line_content": "\tif (errmsg.len >0) {",
          "new_line_content": "\tif (finish_command(&proc))",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"%s\", errmsg.buf)",
          "old_line_content": "\t}",
          "new_line_content": "\t\trp_error(\"%s\", errmsg.buf);",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": null,
          "new_api": "sigchain_pop",
          "old_text": null,
          "new_text": "sigchain_pop(SIGPIPE)",
          "old_line_content": "\treturn code;",
          "new_line_content": "\tsigchain_pop(SIGPIPE);",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": null,
          "new_api": "N_",
          "old_text": null,
          "new_text": "N_(\"By default, updating the current branch in a non-bare repository\\n\"\n\t   \"is denied, because it will make the index and work tree inconsistent\\n\"\n\t   \"with what you pushed, and will require 'git reset --hard' to match\\n\"\n\t   \"the work tree to HEAD.\\n\"\n\t   \"\\n\"\n\t   \"You can set the 'receive.denyCurrentBranch' configuration variable\\n\"\n\t   \"to 'ignore' or 'warn' in the remote repository to allow pushing into\\n\"\n\t   \"its current branch; however, this is not recommended unless you\\n\"\n\t   \"arranged to update its work tree to match what you pushed in some\\n\"\n\t   \"other way.\\n\"\n\t   \"\\n\"\n\t   \"To squelch this message and still keep the default behaviour, set\\n\"\n\t   \"'receive.denyCurrentBranch' configuration variable to 'refuse'.\")",
          "old_line_content": "\t   \"with what you pushed, and will require 'git reset --hard' to match\\n\"",
          "new_line_content": "\tN_(\"By default, updating the current branch in a non-bare repository\\n\"",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(refuse_unconfigured_deny_msg)",
          "old_line_content": "",
          "new_line_content": "\trp_error(\"%s\", _(refuse_unconfigured_deny_msg));",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": null,
          "new_api": "N_",
          "old_text": null,
          "new_text": "N_(\"By default, deleting the current branch is denied, because the next\\n\"\n\t   \"'git clone' won't result in any file checked out, causing confusion.\\n\"\n\t   \"\\n\"\n\t   \"You can set 'receive.denyDeleteCurrent' configuration variable to\\n\"\n\t   \"'warn' or 'ignore' in the remote repository to allow deleting the\\n\"\n\t   \"current branch, with or without a warning message.\\n\"\n\t   \"\\n\"\n\t   \"To squelch this message, you can set it to 'refuse'.\")",
          "old_line_content": "\t   \"\\n\"",
          "new_line_content": "\tN_(\"By default, deleting the current branch is denied, because the next\\n\"",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(refuse_unconfigured_deny_delete_current_msg)",
          "old_line_content": "",
          "new_line_content": "\trp_error(\"%s\", _(refuse_unconfigured_deny_delete_current_msg));",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": null,
          "new_api": "trace_printf_key",
          "old_text": null,
          "new_text": "trace_printf_key(&trace_shallow,\n\t\t\t \"shallow: update_shallow_ref %s\\n\", cmd->ref_name)",
          "old_line_content": "\tfor (i = 0; i < si->shallow->nr; i++)",
          "new_line_content": "\ttrace_printf_key(&trace_shallow,",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": null,
          "new_api": "delayed_reachability_test",
          "old_text": null,
          "new_text": "delayed_reachability_test(si, i)",
          "old_line_content": "",
          "new_line_content": "\t\t    !delayed_reachability_test(si, i))",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": null,
          "new_api": "rollback_shallow_file",
          "old_text": null,
          "new_text": "rollback_shallow_file(the_repository, &shallow_lock)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\t\trollback_shallow_file(the_repository, &shallow_lock);",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": null,
          "new_api": "oid_array_clear",
          "old_text": null,
          "new_text": "oid_array_clear(&extra)",
          "old_line_content": "\t}",
          "new_line_content": "\t\toid_array_clear(&extra);",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": null,
          "new_api": "commit_shallow_file",
          "old_text": null,
          "new_text": "commit_shallow_file(the_repository, &shallow_lock)",
          "old_line_content": "\t/*",
          "new_line_content": "\tcommit_shallow_file(the_repository, &shallow_lock);",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": null,
          "new_api": "register_shallow",
          "old_text": null,
          "new_text": "register_shallow(the_repository, &extra.oid[i])",
          "old_line_content": "\tsi->shallow_ref[cmd->index] = 0;",
          "new_line_content": "\t\tregister_shallow(the_repository, &extra.oid[i]);",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": null,
          "new_api": "oid_array_clear",
          "old_text": null,
          "new_text": "oid_array_clear(&extra)",
          "old_line_content": "}",
          "new_line_content": "\toid_array_clear(&extra);",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": null,
          "new_api": "repo_get_oid",
          "old_text": null,
          "new_text": "repo_get_oid(the_repository, \"HEAD\", &oid)",
          "old_line_content": "",
          "new_line_content": "\treturn !repo_get_oid(the_repository, \"HEAD\", &oid);",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": null,
          "new_api": "strvec_pushv",
          "old_text": null,
          "new_text": "strvec_pushv(&child.env, env->v)",
          "old_line_content": "\tchild.no_stdin = 1;",
          "new_line_content": "\tstrvec_pushv(&child.env, env->v);",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": null,
          "new_api": "run_command",
          "old_text": null,
          "new_text": "run_command(&child)",
          "old_line_content": "",
          "new_line_content": "\tif (run_command(&child))",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": null,
          "new_api": "child_process_init",
          "old_text": null,
          "new_text": "child_process_init(&child)",
          "old_line_content": "\t\t     \"--ignore-submodules\", \"--\", NULL);",
          "new_line_content": "\tchild_process_init(&child);",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": null,
          "new_api": "strvec_pushv",
          "old_text": null,
          "new_text": "strvec_pushv(&child.env, env->v)",
          "old_line_content": "\tchild.no_stdin = 1;",
          "new_line_content": "\tstrvec_pushv(&child.env, env->v);",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": null,
          "new_api": "run_command",
          "old_text": null,
          "new_text": "run_command(&child)",
          "old_line_content": "",
          "new_line_content": "\tif (run_command(&child))",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": null,
          "new_api": "child_process_init",
          "old_text": null,
          "new_text": "child_process_init(&child)",
          "old_line_content": "\t\t     \"--ignore-submodules\",",
          "new_line_content": "\tchild_process_init(&child);",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": null,
          "new_api": "strvec_pushl",
          "old_text": null,
          "new_text": "strvec_pushl(&child.args, \"diff-index\", \"--quiet\", \"--cached\",\n\t\t     \"--ignore-submodules\",\n\t\t     /* diff-index with either HEAD or an empty tree */\n\t\t     head_has_history() ? \"HEAD\" : empty_tree_oid_hex(),\n\t\t     \"--\", NULL)",
          "old_line_content": "\t\t     /* diff-index with either HEAD or an empty tree */",
          "new_line_content": "\tstrvec_pushl(&child.args, \"diff-index\", \"--quiet\", \"--cached\",",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": null,
          "new_api": "strvec_pushv",
          "old_text": null,
          "new_text": "strvec_pushv(&child.env, env->v)",
          "old_line_content": "\tchild.no_stdout = 1;",
          "new_line_content": "\tstrvec_pushv(&child.env, env->v);",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": null,
          "new_api": "run_command",
          "old_text": null,
          "new_text": "run_command(&child)",
          "old_line_content": "",
          "new_line_content": "\tif (run_command(&child))",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "child_process_init",
          "old_text": null,
          "new_text": "child_process_init(&child)",
          "old_line_content": "\t\t     NULL);",
          "new_line_content": "\tchild_process_init(&child);",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": null,
          "new_api": "strvec_pushv",
          "old_text": null,
          "new_text": "strvec_pushv(&child.env, env->v)",
          "old_line_content": "\tchild.no_stdin = 1;",
          "new_line_content": "\tstrvec_pushv(&child.env, env->v);",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": null,
          "new_api": "run_command",
          "old_text": null,
          "new_text": "run_command(&child)",
          "old_line_content": "",
          "new_line_content": "\tif (run_command(&child))",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": null,
          "new_api": "hash_to_hex",
          "old_text": null,
          "new_text": "hash_to_hex(hash)",
          "old_line_content": "\t\treturn \"push-to-checkout hook declined\";",
          "new_line_content": "\tstrvec_push(&opt.args, hash_to_hex(hash));",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": null,
          "new_api": "run_hooks_opt",
          "old_text": null,
          "new_text": "run_hooks_opt(push_to_checkout_hook, &opt)",
          "old_line_content": "\telse",
          "new_line_content": "\tif (run_hooks_opt(push_to_checkout_hook, &opt))",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": null,
          "new_api": "BUG",
          "old_text": null,
          "new_text": "BUG(\"worktree->path must be non-NULL\")",
          "old_line_content": "\tif (worktree->is_bare)",
          "new_line_content": "\t\tBUG(\"worktree->path must be non-NULL\");",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": null,
          "new_api": "strvec_clear",
          "old_text": null,
          "new_text": "strvec_clear(&env)",
          "old_line_content": "}",
          "new_line_content": "\tstrvec_clear(&env);",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": null,
          "new_api": "find_shared_symref",
          "old_text": null,
          "new_text": "find_shared_symref(worktrees, \"HEAD\", name)",
          "old_line_content": "\t/* only refs/... are allowed */",
          "new_line_content": "\t\tfind_shared_symref(worktrees, \"HEAD\", name);",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": null,
          "new_api": "starts_with",
          "old_text": null,
          "new_text": "starts_with(name, \"refs/\")",
          "old_line_content": "\t\t\t\t REFNAME_ALLOW_ONELEVEL : 0)) {",
          "new_line_content": "\tif (!starts_with(name, \"refs/\") ||",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"refusing to update funny ref '%s' remotely\", name)",
          "old_line_content": "\t\tgoto out;",
          "new_line_content": "\t\trp_error(\"refusing to update funny ref '%s' remotely\", name);",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(namespaced_name)",
          "old_line_content": "",
          "new_line_content": "\tfree(namespaced_name);",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": null,
          "new_api": "strbuf_detach",
          "old_text": null,
          "new_text": "strbuf_detach(&namespaced_name_buf, NULL)",
          "old_line_content": "\tif (worktree && !worktree->is_bare) {",
          "new_line_content": "\tnamespaced_name = strbuf_detach(&namespaced_name_buf, NULL);",
          "content_same": false
        },
        {
          "line": 1491,
          "old_api": null,
          "new_api": "rp_warning",
          "old_text": null,
          "new_text": "rp_warning(\"updating the current branch\")",
          "old_line_content": "\t\tcase DENY_REFUSE:",
          "new_line_content": "\t\t\trp_warning(\"updating the current branch\");",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": null,
          "new_api": "refuse_unconfigured_deny",
          "old_text": null,
          "new_text": "refuse_unconfigured_deny()",
          "old_line_content": "\t\t\tgoto out;",
          "new_line_content": "\t\t\t\trefuse_unconfigured_deny();",
          "content_same": false
        },
        {
          "line": 1508,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"unpack should have generated %s, \"\n\t\t      \"but I can't find it!\", oid_to_hex(new_oid))",
          "old_line_content": "\t\tret = \"bad pack\";",
          "new_line_content": "\t\terror(\"unpack should have generated %s, \"",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(new_oid)",
          "old_line_content": "\t\tgoto out;",
          "new_line_content": "\t\t      \"but I can't find it!\", oid_to_hex(new_oid));",
          "content_same": false
        },
        {
          "line": 1515,
          "old_api": null,
          "new_api": "starts_with",
          "old_text": null,
          "new_text": "starts_with(name, \"refs/heads/\")",
          "old_line_content": "\t\t\tret = \"deletion prohibited\";",
          "new_line_content": "\t\tif (deny_deletes && starts_with(name, \"refs/heads/\")) {",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"denying ref deletion for %s\", name)",
          "old_line_content": "\t\t\tgoto out;",
          "new_line_content": "\t\t\trp_error(\"denying ref deletion for %s\", name);",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(namespaced_name, head_name)",
          "old_line_content": "\t\t\tcase DENY_IGNORE:",
          "new_line_content": "\t\tif (worktree || (head_name && !strcmp(namespaced_name, head_name))) {",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": null,
          "new_api": "rp_warning",
          "old_text": null,
          "new_text": "rp_warning(\"deleting the current branch\")",
          "old_line_content": "\t\t\tcase DENY_REFUSE:",
          "new_line_content": "\t\t\t\trp_warning(\"deleting the current branch\");",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": null,
          "new_api": "refuse_unconfigured_deny_delete_current",
          "old_text": null,
          "new_text": "refuse_unconfigured_deny_delete_current()",
          "old_line_content": "\t\t\t\tret = \"deletion of the current branch prohibited\";",
          "new_line_content": "\t\t\t\t\trefuse_unconfigured_deny_delete_current();",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"refusing to delete the current branch: %s\", name)",
          "old_line_content": "\t\t\t\tgoto out;",
          "new_line_content": "\t\t\t\trp_error(\"refusing to delete the current branch: %s\", name);",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": null,
          "new_api": "is_null_oid",
          "old_text": null,
          "new_text": "is_null_oid(old_oid)",
          "old_line_content": "\t\tstruct object *old_object, *new_object;",
          "new_line_content": "\t    !is_null_oid(old_oid) &&",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": null,
          "new_api": "starts_with",
          "old_text": null,
          "new_text": "starts_with(name, \"refs/heads/\")",
          "old_line_content": "\t\tstruct commit *old_commit, *new_commit;",
          "new_line_content": "\t    starts_with(name, \"refs/heads/\")) {",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": null,
          "new_api": "parse_object",
          "old_text": null,
          "new_text": "parse_object(the_repository, old_oid)",
          "old_line_content": "",
          "new_line_content": "\t\told_object = parse_object(the_repository, old_oid);",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": null,
          "new_api": "parse_object",
          "old_text": null,
          "new_text": "parse_object(the_repository, new_oid)",
          "old_line_content": "\t\tif (!old_object || !new_object ||",
          "new_line_content": "\t\tnew_object = parse_object(the_repository, new_oid);",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"bad sha1 objects for %s\", name)",
          "old_line_content": "\t\t\tgoto out;",
          "new_line_content": "\t\t\terror(\"bad sha1 objects for %s\", name);",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": null,
          "new_api": "repo_in_merge_bases",
          "old_text": null,
          "new_text": "repo_in_merge_bases(the_repository, old_commit, new_commit)",
          "old_line_content": "\t\t\t\t \" (you should pull first)\", name);",
          "new_line_content": "\t\tif (!repo_in_merge_bases(the_repository, old_commit, new_commit)) {",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"denying non-fast-forward %s\"\n\t\t\t\t \" (you should pull first)\", name)",
          "old_line_content": "\t\t\tret = \"non-fast-forward\";",
          "new_line_content": "\t\t\trp_error(\"denying non-fast-forward %s\"",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": null,
          "new_api": "run_update_hook",
          "old_text": null,
          "new_text": "run_update_hook(cmd)",
          "old_line_content": "\t\tret = \"hook declined\";",
          "new_line_content": "\tif (run_update_hook(cmd)) {",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"hook declined to update %s\", name)",
          "old_line_content": "\t\tgoto out;",
          "new_line_content": "\t\trp_error(\"hook declined to update %s\", name);",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": null,
          "new_api": "update_worktree",
          "old_text": null,
          "new_text": "update_worktree(new_oid->hash, worktree)",
          "old_line_content": "\t\t\tgoto out;",
          "new_line_content": "\t\tret = update_worktree(new_oid->hash, worktree);",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": null,
          "new_api": "ref_exists",
          "old_text": null,
          "new_text": "ref_exists(name)",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\tif (ref_exists(name)) {",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": null,
          "new_api": "rp_warning",
          "old_text": null,
          "new_text": "rp_warning(\"deleting a non-existent ref\")",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\trp_warning(\"deleting a non-existent ref\");",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": null,
          "new_api": "ref_transaction_delete",
          "old_text": null,
          "new_text": "ref_transaction_delete(transaction,\n\t\t\t\t\t   namespaced_name,\n\t\t\t\t\t   old_oid,\n\t\t\t\t\t   0, \"push\", &err)",
          "old_line_content": "\t\t\t\t\t   old_oid,",
          "new_line_content": "\t\tif (ref_transaction_delete(transaction,",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"%s\", err.buf)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\trp_error(\"%s\", err.buf);",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&err)",
          "old_line_content": "\telse {",
          "new_line_content": "\t\tstrbuf_release(&err);",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": null,
          "new_api": "update_shallow_ref",
          "old_text": null,
          "new_text": "update_shallow_ref(cmd, si)",
          "old_line_content": "\t\t\tgoto out;",
          "new_line_content": "\t\t    update_shallow_ref(cmd, si)) {",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": null,
          "new_api": "ref_transaction_update",
          "old_text": null,
          "new_text": "ref_transaction_update(transaction,\n\t\t\t\t\t   namespaced_name,\n\t\t\t\t\t   new_oid, old_oid,\n\t\t\t\t\t   0, \"push\",\n\t\t\t\t\t   &err)",
          "old_line_content": "\t\t\t\t\t   new_oid, old_oid,",
          "new_line_content": "\t\tif (ref_transaction_update(transaction,",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"%s\", err.buf)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\trp_error(\"%s\", err.buf);",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&err)",
          "old_line_content": "",
          "new_line_content": "\t\tstrbuf_release(&err);",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": null,
          "new_api": "free_worktrees",
          "old_text": null,
          "new_text": "free_worktrees(worktrees)",
          "old_line_content": "}",
          "new_line_content": "\tfree_worktrees(worktrees);",
          "content_same": false
        },
        {
          "line": 1634,
          "old_api": null,
          "new_api": "find_hook",
          "old_text": null,
          "new_text": "find_hook(\"post-update\")",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\thook = find_hook(\"post-update\");",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&proc.args, hook)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tstrvec_push(&proc.args, hook);",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": null,
          "new_api": "strvec_push",
          "old_text": null,
          "new_text": "strvec_push(&proc.args, cmd->ref_name)",
          "old_line_content": "\tif (!proc.args.nr)",
          "new_line_content": "\t\tstrvec_push(&proc.args, cmd->ref_name);",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": null,
          "new_api": "copy_to_sideband",
          "old_text": null,
          "new_text": "copy_to_sideband(proc.err, -1, NULL)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tcopy_to_sideband(proc.err, -1, NULL);",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": null,
          "new_api": "finish_command",
          "old_text": null,
          "new_text": "finish_command(&proc)",
          "old_line_content": "}",
          "new_line_content": "\t\tfinish_command(&proc);",
          "content_same": false
        },
        {
          "line": 1671,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"refusing update to broken symref '%s'\", cmd->ref_name)",
          "old_line_content": "\t\tcmd->error_string = \"broken symref\";",
          "new_line_content": "\t\trp_error(\"refusing update to broken symref '%s'\", cmd->ref_name);",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": null,
          "new_api": "string_list_lookup",
          "old_text": null,
          "new_text": "string_list_lookup(list, dst_name)",
          "old_line_content": "",
          "new_line_content": "\tif (!(item = string_list_lookup(list, dst_name)))",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": null,
          "new_api": "oideq",
          "old_text": null,
          "new_text": "oideq(&cmd->old_oid, &dst_cmd->old_oid)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tif (oideq(&cmd->old_oid, &dst_cmd->old_oid) &&",
          "content_same": false
        },
        {
          "line": 1686,
          "old_api": null,
          "new_api": "oideq",
          "old_text": null,
          "new_text": "oideq(&cmd->new_oid, &dst_cmd->new_oid)",
          "old_line_content": "",
          "new_line_content": "\t    oideq(&cmd->new_oid, &dst_cmd->new_oid))",
          "content_same": false
        },
        {
          "line": 1691,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"refusing inconsistent update between symref '%s' (%s..%s) and\"\n\t\t \" its target '%s' (%s..%s)\",\n\t\t cmd->ref_name,\n\t\t repo_find_unique_abbrev(the_repository, &cmd->old_oid, DEFAULT_ABBREV),\n\t\t repo_find_unique_abbrev(the_repository, &cmd->new_oid, DEFAULT_ABBREV),\n\t\t dst_cmd->ref_name,\n\t\t repo_find_unique_abbrev(the_repository, &dst_cmd->old_oid, DEFAULT_ABBREV),\n\t\t repo_find_unique_abbrev(the_repository, &dst_cmd->new_oid, DEFAULT_ABBREV))",
          "old_line_content": "\t\t cmd->ref_name,",
          "new_line_content": "\trp_error(\"refusing inconsistent update between symref '%s' (%s..%s) and\"",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": null,
          "new_api": "repo_find_unique_abbrev",
          "old_text": null,
          "new_text": "repo_find_unique_abbrev(the_repository, &cmd->old_oid, DEFAULT_ABBREV)",
          "old_line_content": "\t\t dst_cmd->ref_name,",
          "new_line_content": "\t\t repo_find_unique_abbrev(the_repository, &cmd->old_oid, DEFAULT_ABBREV),",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": null,
          "new_api": "repo_find_unique_abbrev",
          "old_text": null,
          "new_text": "repo_find_unique_abbrev(the_repository, &dst_cmd->old_oid, DEFAULT_ABBREV)",
          "old_line_content": "",
          "new_line_content": "\t\t repo_find_unique_abbrev(the_repository, &dst_cmd->old_oid, DEFAULT_ABBREV),",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": null,
          "new_api": "repo_find_unique_abbrev",
          "old_text": null,
          "new_text": "repo_find_unique_abbrev(the_repository, &dst_cmd->new_oid, DEFAULT_ABBREV)",
          "old_line_content": "\tcmd->error_string = dst_cmd->error_string =",
          "new_line_content": "\t\t repo_find_unique_abbrev(the_repository, &dst_cmd->new_oid, DEFAULT_ABBREV));",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": null,
          "new_api": "check_aliased_update_internal",
          "old_text": null,
          "new_text": "check_aliased_update_internal(cmd, list, dst_name, flag)",
          "old_line_content": "}",
          "new_line_content": "\tcheck_aliased_update_internal(cmd, list, dst_name, flag);",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&buf)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&buf);",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": null,
          "new_api": "string_list_append",
          "old_text": null,
          "new_text": "string_list_append(&ref_list, cmd->ref_name)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tstring_list_append(&ref_list, cmd->ref_name);",
          "content_same": false
        },
        {
          "line": 1726,
          "old_api": null,
          "new_api": "string_list_sort",
          "old_text": null,
          "new_text": "string_list_sort(&ref_list)",
          "old_line_content": "\tfor (cmd = commands; cmd; cmd = cmd->next) {",
          "new_line_content": "\tstring_list_sort(&ref_list);",
          "content_same": false
        },
        {
          "line": 1730,
          "old_api": null,
          "new_api": "check_aliased_update",
          "old_text": null,
          "new_text": "check_aliased_update(cmd, &ref_list)",
          "old_line_content": "",
          "new_line_content": "\t\t\tcheck_aliased_update(cmd, &ref_list);",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": null,
          "new_api": "string_list_clear",
          "old_text": null,
          "new_text": "string_list_clear(&ref_list, 0)",
          "old_line_content": "",
          "new_line_content": "\tstring_list_clear(&ref_list, 0);",
          "content_same": false
        },
        {
          "line": 1741,
          "old_api": null,
          "new_api": "is_null_oid",
          "old_text": null,
          "new_text": "is_null_oid(&cmd->new_oid)",
          "old_line_content": "\t*cmd_list = NULL; /* this returns only one */",
          "new_line_content": "\tif (!cmd || is_null_oid(&cmd->new_oid))",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": null,
          "new_api": "tmp_objdir_env",
          "old_text": null,
          "new_text": "tmp_objdir_env(tmp_objdir)",
          "old_line_content": "\t\t\t\t     &opt))",
          "new_line_content": "\t\topt.env = tmp_objdir_env(tmp_objdir);",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": null,
          "new_api": "check_connected",
          "old_text": null,
          "new_text": "check_connected(command_singleton_iterator, &singleton,\n\t\t\t\t     &opt)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tif (!check_connected(command_singleton_iterator, &singleton,",
          "content_same": false
        },
        {
          "line": 1784,
          "old_api": null,
          "new_api": "is_null_oid",
          "old_text": null,
          "new_text": "is_null_oid(&cmd->new_oid)",
          "old_line_content": "\t\t\treturn &cmd->new_oid;",
          "new_line_content": "\t\tif (!is_null_oid(&cmd->new_oid) && !cmd->skip_update) {",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": null,
          "new_api": "get_git_namespace",
          "old_text": null,
          "new_text": "get_git_namespace()",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_addstr(&refname_full, get_git_namespace());",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": null,
          "new_api": "strbuf_setlen",
          "old_text": null,
          "new_text": "strbuf_setlen(&refname_full, prefix_len)",
          "old_line_content": "",
          "new_line_content": "\t\tstrbuf_setlen(&refname_full, prefix_len);",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": null,
          "new_api": "is_null_oid",
          "old_text": null,
          "new_text": "is_null_oid(&cmd->new_oid)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\tif (is_null_oid(&cmd->new_oid))",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&refname_full)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&refname_full);",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": null,
          "new_api": "should_process_cmd",
          "old_text": null,
          "new_text": "should_process_cmd(cmd)",
          "old_line_content": "\t\t\t    cmd->ref_name);",
          "new_line_content": "\t\tif (should_process_cmd(cmd) && si->shallow_ref[cmd->index])",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": null,
          "new_api": "bug",
          "old_text": null,
          "new_text": "bug(\"connectivity check has not been run on ref %s\",\n\t\t\t    cmd->ref_name)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tbug(\"connectivity check has not been run on ref %s\",",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": null,
          "new_api": "BUG_if_bug",
          "old_text": null,
          "new_text": "BUG_if_bug(\"connectivity check skipped???\")",
          "old_line_content": "",
          "new_line_content": "\tBUG_if_bug(\"connectivity check skipped???\");",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": null,
          "new_api": "should_process_cmd",
          "old_text": null,
          "new_text": "should_process_cmd(cmd)",
          "old_line_content": "",
          "new_line_content": "\t\tif (!should_process_cmd(cmd) || cmd->run_proc_receive)",
          "content_same": false
        },
        {
          "line": 1849,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"%s\", err.buf)",
          "old_line_content": "\t\t\tcmd->error_string = \"transaction failed to start\";",
          "new_line_content": "\t\t\trp_error(\"%s\", err.buf);",
          "content_same": false
        },
        {
          "line": 1850,
          "old_api": null,
          "new_api": "strbuf_reset",
          "old_text": null,
          "new_text": "strbuf_reset(&err)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\tstrbuf_reset(&err);",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "update(cmd, si)",
          "old_line_content": "\t\tif (!cmd->error_string",
          "new_line_content": "\t\tcmd->error_string = update(cmd, si);",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"%s\", err.buf)",
          "old_line_content": "\t\t\tcmd->error_string = \"failed to update ref\";",
          "new_line_content": "\t\t\trp_error(\"%s\", err.buf);",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": null,
          "new_api": "strbuf_reset",
          "old_text": null,
          "new_text": "strbuf_reset(&err)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tstrbuf_reset(&err);",
          "content_same": false
        },
        {
          "line": 1865,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&err)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&err);",
          "content_same": false
        },
        {
          "line": 1877,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"%s\", err.buf)",
          "old_line_content": "\t\treported_error = \"transaction failed to start\";",
          "new_line_content": "\t\trp_error(\"%s\", err.buf);",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": null,
          "new_api": "strbuf_reset",
          "old_text": null,
          "new_text": "strbuf_reset(&err)",
          "old_line_content": "\t\tgoto failure;",
          "new_line_content": "\t\tstrbuf_reset(&err);",
          "content_same": false
        },
        {
          "line": 1884,
          "old_api": null,
          "new_api": "should_process_cmd",
          "old_text": null,
          "new_text": "should_process_cmd(cmd)",
          "old_line_content": "",
          "new_line_content": "\t\tif (!should_process_cmd(cmd) || cmd->run_proc_receive)",
          "content_same": false
        },
        {
          "line": 1887,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "update(cmd, si)",
          "old_line_content": "\t\tif (cmd->error_string)",
          "new_line_content": "\t\tcmd->error_string = update(cmd, si);",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": null,
          "new_api": "ref_transaction_commit",
          "old_text": null,
          "new_text": "ref_transaction_commit(transaction, &err)",
          "old_line_content": "\t\treported_error = \"atomic transaction failed\";",
          "new_line_content": "\tif (ref_transaction_commit(transaction, &err)) {",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": null,
          "new_api": "rp_error",
          "old_text": null,
          "new_text": "rp_error(\"%s\", err.buf)",
          "old_line_content": "\t\tgoto failure;",
          "new_line_content": "\t\trp_error(\"%s\", err.buf);",
          "content_same": false
        },
        {
          "line": 1906,
          "old_api": null,
          "new_api": "ref_transaction_free",
          "old_text": null,
          "new_text": "ref_transaction_free(transaction)",
          "old_line_content": "}",
          "new_line_content": "\tref_transaction_free(transaction);",
          "content_same": false
        },
        {
          "line": 1907,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&err)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&err);",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&muxer, 0, sizeof(muxer))",
          "old_line_content": "\t\tmuxer.in = -1;",
          "new_line_content": "\t\tmemset(&muxer, 0, sizeof(muxer));",
          "content_same": false
        },
        {
          "line": 1932,
          "old_api": null,
          "new_api": "start_async",
          "old_text": null,
          "new_text": "start_async(&muxer)",
          "old_line_content": "\t\t/* ...else, continue without relaying sideband */",
          "new_line_content": "\t\tif (!start_async(&muxer))",
          "content_same": false
        },
        {
          "line": 1941,
          "old_api": null,
          "new_api": "tmp_objdir_env",
          "old_text": null,
          "new_text": "tmp_objdir_env(tmp_objdir)",
          "old_line_content": "",
          "new_line_content": "\topt.env = tmp_objdir_env(tmp_objdir);",
          "content_same": false
        },
        {
          "line": 1944,
          "old_api": null,
          "new_api": "check_connected",
          "old_text": null,
          "new_text": "check_connected(iterate_receive_command_list, &data, &opt)",
          "old_line_content": "",
          "new_line_content": "\tif (check_connected(iterate_receive_command_list, &data, &opt))",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": null,
          "new_api": "set_connectivity_errors",
          "old_text": null,
          "new_text": "set_connectivity_errors(commands, si)",
          "old_line_content": "\tif (use_sideband)",
          "new_line_content": "\t\tset_connectivity_errors(commands, si);",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": null,
          "new_api": "reject_updates_to_hidden",
          "old_text": null,
          "new_text": "reject_updates_to_hidden(commands)",
          "old_line_content": "\t/*",
          "new_line_content": "\treject_updates_to_hidden(commands);",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": null,
          "new_api": "should_process_cmd",
          "old_text": null,
          "new_text": "should_process_cmd(cmd)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (!should_process_cmd(cmd))",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": null,
          "new_api": "proc_receive_ref_matches",
          "old_text": null,
          "new_text": "proc_receive_ref_matches(cmd)",
          "old_line_content": "\t\t\t\trun_proc_receive = 1;",
          "new_line_content": "\t\t\tif (proc_receive_ref_matches(cmd)) {",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": null,
          "new_api": "run_receive_hook",
          "old_text": null,
          "new_text": "run_receive_hook(commands, \"pre-receive\", 0, push_options)",
          "old_line_content": "\t\t\tif (!cmd->error_string)",
          "new_line_content": "\tif (run_receive_hook(commands, \"pre-receive\", 0, push_options)) {",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": null,
          "new_api": "tmp_objdir_migrate",
          "old_text": null,
          "new_text": "tmp_objdir_migrate(tmp_objdir)",
          "old_line_content": "\t\t\tif (!cmd->error_string)",
          "new_line_content": "\tif (tmp_objdir_migrate(tmp_objdir) < 0) {",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(head_name_to_free)",
          "old_line_content": "",
          "new_line_content": "\tfree(head_name_to_free);",
          "content_same": false
        },
        {
          "line": 2001,
          "old_api": null,
          "new_api": "resolve_refdup",
          "old_text": null,
          "new_text": "resolve_refdup(\"HEAD\", 0, NULL, NULL)",
          "old_line_content": "\tif (run_proc_receive &&",
          "new_line_content": "\thead_name = head_name_to_free = resolve_refdup(\"HEAD\", 0, NULL, NULL);",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": null,
          "new_api": "run_proc_receive_hook",
          "old_text": null,
          "new_text": "run_proc_receive_hook(commands, push_options)",
          "old_line_content": "\t\t\tif (!cmd->error_string &&",
          "new_line_content": "\t    run_proc_receive_hook(commands, push_options))",
          "content_same": false
        },
        {
          "line": 2014,
          "old_api": null,
          "new_api": "execute_commands_non_atomic",
          "old_text": null,
          "new_text": "execute_commands_non_atomic(commands, si)",
          "old_line_content": "\tif (shallow_update)",
          "new_line_content": "\t\texecute_commands_non_atomic(commands, si);",
          "content_same": false
        },
        {
          "line": 2017,
          "old_api": null,
          "new_api": "BUG_if_skipped_connectivity_check",
          "old_text": null,
          "new_text": "BUG_if_skipped_connectivity_check(commands, si)",
          "old_line_content": "",
          "new_line_content": "\t\tBUG_if_skipped_connectivity_check(commands, si);",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"protocol error: expected old/new/ref, got '%s'\", line)",
          "old_line_content": "\trefname = p;",
          "new_line_content": "\t\tdie(\"protocol error: expected old/new/ref, got '%s'\", line);",
          "content_same": false
        },
        {
          "line": 2039,
          "old_api": null,
          "new_api": "oidcpy",
          "old_text": null,
          "new_text": "oidcpy(&cmd->old_oid, &old_oid)",
          "old_line_content": "\t*tail = cmd;",
          "new_line_content": "\toidcpy(&cmd->old_oid, &old_oid);",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": null,
          "new_api": "oidcpy",
          "old_text": null,
          "new_text": "oidcpy(&cmd->new_oid, &new_oid)",
          "old_line_content": "\treturn &cmd->next;",
          "new_line_content": "\toidcpy(&cmd->new_oid, &new_oid);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2048,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(commands)",
          "new_text": null,
          "old_line_content": "\t\tfree(commands);",
          "new_line_content": "\t\tstruct command *next = commands->next;",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"protocol error: got both push certificate and unsigned commands\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"protocol error: got both push certificate and unsigned commands\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": "parse_signed_buffer",
          "new_api": null,
          "old_text": "parse_signed_buffer(push_cert->buf, push_cert->len)",
          "new_text": null,
          "old_line_content": "\teoc = push_cert->buf + parse_signed_buffer(push_cert->buf, push_cert->len);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 2069,
          "old_api": "memchr",
          "new_api": null,
          "old_text": "memchr(boc, '\\n', eoc - boc)",
          "new_text": null,
          "old_line_content": "\t\tconst char *eol = memchr(boc, '\\n', eoc - boc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": "queue_command",
          "new_api": null,
          "old_text": "queue_command(tail, boc, eol ? eol - boc : eoc - boc)",
          "new_text": null,
          "old_line_content": "\t\ttail = queue_command(tail, boc, eol ? eol - boc : eoc - boc);",
          "new_line_content": "\twhile (boc < eoc) {",
          "content_same": false
        },
        {
          "line": 2083,
          "old_api": "packet_reader_read",
          "new_api": null,
          "old_text": "packet_reader_read(reader)",
          "new_text": null,
          "old_line_content": "\t\tif (packet_reader_read(reader) != PACKET_READ_NORMAL)",
          "new_line_content": "\t\tint linelen;",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": "starts_with",
          "new_api": null,
          "old_text": "starts_with(reader->line, \"shallow \")",
          "new_text": null,
          "old_line_content": "\t\tif (reader->pktlen > 8 && starts_with(reader->line, \"shallow \")) {",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2089,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"protocol error: expected shallow sha, got '%s'\",\n\t\t\t\t    reader->line + 8)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"protocol error: expected shallow sha, got '%s'\",",
          "new_line_content": "\t\t\tstruct object_id oid;",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(reader->line)",
          "new_text": null,
          "old_line_content": "\t\tlinelen = strlen(reader->line);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": "parse_feature_request",
          "new_api": null,
          "old_text": "parse_feature_request(feature_list, \"report-status\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (parse_feature_request(feature_list, \"report-status\"))",
          "new_line_content": "\t\t\tconst char *client_sid;",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": "parse_feature_request",
          "new_api": null,
          "old_text": "parse_feature_request(feature_list, \"atomic\")",
          "new_text": null,
          "old_line_content": "\t\t\t    && parse_feature_request(feature_list, \"atomic\"))",
          "new_line_content": "\t\t\t\tquiet = 1;",
          "content_same": false
        },
        {
          "line": 2113,
          "old_api": "parse_feature_request",
          "new_api": null,
          "old_text": "parse_feature_request(feature_list, \"push-options\")",
          "new_text": null,
          "old_line_content": "\t\t\t    && parse_feature_request(feature_list, \"push-options\"))",
          "new_line_content": "\t\t\t\tuse_atomic = 1;",
          "content_same": false
        },
        {
          "line": 2118,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(hash)",
          "new_text": null,
          "old_line_content": "\t\t\t\tlen = strlen(hash);",
          "new_line_content": "\t\t\tif (!hash) {",
          "content_same": false
        },
        {
          "line": 2121,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"error: unsupported object format '%s'\", hash)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"error: unsupported object format '%s'\", hash);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": "trace2_data_string",
          "new_api": null,
          "old_text": "trace2_data_string(\"transfer\", NULL, \"client-sid\", client_sid)",
          "new_text": null,
          "old_line_content": "\t\t\t\ttrace2_data_string(\"transfer\", NULL, \"client-sid\", client_sid);",
          "new_line_content": "\t\t\tif (client_sid) {",
          "content_same": false
        },
        {
          "line": 2130,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(reader->line, \"push-cert\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(reader->line, \"push-cert\")) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": "packet_reader_read",
          "new_api": null,
          "old_text": "packet_reader_read(reader)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpacket_reader_read(reader);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2142,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"protocol error: got an unexpected packet\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdie(\"protocol error: got an unexpected packet\");",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2155,
          "old_api": "queue_command",
          "new_api": null,
          "old_text": "queue_command(p, reader->line, linelen)",
          "new_text": null,
          "old_line_content": "\t\tp = queue_command(p, reader->line, linelen);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2159,
          "old_api": "queue_commands_from_cert",
          "new_api": null,
          "old_text": "queue_commands_from_cert(p, &push_cert)",
          "new_text": null,
          "old_line_content": "\t\tqueue_commands_from_cert(p, &push_cert);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2168,
          "old_api": "packet_reader_read",
          "new_api": null,
          "old_text": "packet_reader_read(reader)",
          "new_text": null,
          "old_line_content": "\t\tif (packet_reader_read(reader) != PACKET_READ_NORMAL)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": "string_list_append",
          "new_api": null,
          "old_text": "string_list_append(options, reader->line)",
          "new_text": null,
          "old_line_content": "\t\tstring_list_append(options, reader->line);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": "read_pack_header",
          "new_api": null,
          "old_text": "read_pack_header(0, hdr)",
          "new_text": null,
          "old_line_content": "\tswitch (read_pack_header(0, hdr)) {",
          "new_line_content": "static const char *parse_pack_header(struct pack_header *hdr)",
          "content_same": false
        },
        {
          "line": 2199,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(args, \"--pack_header=%\"PRIu32\",%\"PRIu32,\n\t\t     ntohl(hdr->hdr_version), ntohl(hdr->hdr_entries))",
          "new_text": null,
          "old_line_content": "\tstrvec_pushf(args, \"--pack_header=%\"PRIu32\",%\"PRIu32,",
          "new_line_content": "static void push_header_arg(struct strvec *args, struct pack_header *hdr)",
          "content_same": false
        },
        {
          "line": 2200,
          "old_api": "ntohl",
          "new_api": null,
          "old_text": "ntohl(hdr->hdr_entries)",
          "new_text": null,
          "old_line_content": "\t\t     ntohl(hdr->hdr_version), ntohl(hdr->hdr_entries));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2215,
          "old_api": "parse_pack_header",
          "new_api": null,
          "old_text": "parse_pack_header(&hdr)",
          "new_text": null,
          "old_line_content": "\thdr_err = parse_pack_header(&hdr);",
          "new_line_content": "\t\t\t    : 0);",
          "content_same": false
        },
        {
          "line": 2218,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(err_fd)",
          "new_text": null,
          "old_line_content": "\t\t\tclose(err_fd);",
          "new_line_content": "\tif (hdr_err) {",
          "content_same": false
        },
        {
          "line": 2223,
          "old_api": "setup_temporary_shallow",
          "new_api": null,
          "old_text": "setup_temporary_shallow(si->shallow)",
          "new_text": null,
          "old_line_content": "\t\talt_shallow_file = setup_temporary_shallow(si->shallow);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2224,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&child.args, \"--shallow-file\")",
          "new_text": null,
          "old_line_content": "\t\tstrvec_push(&child.args, \"--shallow-file\");",
          "new_line_content": "\tif (si->nr_ours || si->nr_theirs) {",
          "content_same": false
        },
        {
          "line": 2228,
          "old_api": "tmp_objdir_create",
          "new_api": null,
          "old_text": "tmp_objdir_create(\"incoming\")",
          "new_text": null,
          "old_line_content": "\ttmp_objdir = tmp_objdir_create(\"incoming\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2231,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(err_fd)",
          "new_text": null,
          "old_line_content": "\t\t\tclose(err_fd);",
          "new_line_content": "\tif (!tmp_objdir) {",
          "content_same": false
        },
        {
          "line": 2234,
          "old_api": "tmp_objdir_env",
          "new_api": null,
          "old_text": "tmp_objdir_env(tmp_objdir)",
          "new_text": null,
          "old_line_content": "\tstrvec_pushv(&child.env, tmp_objdir_env(tmp_objdir));",
          "new_line_content": "\t\treturn \"unable to create temporary object directory\";",
          "content_same": false
        },
        {
          "line": 2241,
          "old_api": "tmp_objdir_add_as_alternate",
          "new_api": null,
          "old_text": "tmp_objdir_add_as_alternate(tmp_objdir)",
          "new_text": null,
          "old_line_content": "\ttmp_objdir_add_as_alternate(tmp_objdir);",
          "new_line_content": "\t * objects ourselves to set up shallow information.",
          "content_same": false
        },
        {
          "line": 2244,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&child.args, \"unpack-objects\")",
          "new_text": null,
          "old_line_content": "\t\tstrvec_push(&child.args, \"unpack-objects\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2252,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(&child.args, \"--max-input-size=%\"PRIuMAX,\n\t\t\t\t     (uintmax_t)max_input_size)",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_pushf(&child.args, \"--max-input-size=%\"PRIuMAX,",
          "new_line_content": "\t\t\t\t     fsck_msg_types.buf);",
          "content_same": false
        },
        {
          "line": 2257,
          "old_api": "run_command",
          "new_api": null,
          "old_text": "run_command(&child)",
          "new_text": null,
          "old_line_content": "\t\tstatus = run_command(&child);",
          "new_line_content": "\t\tchild.err = err_fd;",
          "content_same": false
        },
        {
          "line": 2264,
          "old_api": "strvec_pushl",
          "new_api": null,
          "old_text": "strvec_pushl(&child.args, \"index-pack\", \"--stdin\", NULL)",
          "new_text": null,
          "old_line_content": "\t\tstrvec_pushl(&child.args, \"index-pack\", \"--stdin\", NULL);",
          "new_line_content": "\t\tchar *lockfile;",
          "content_same": false
        },
        {
          "line": 2265,
          "old_api": "push_header_arg",
          "new_api": null,
          "old_text": "push_header_arg(&child.args, &hdr)",
          "new_text": null,
          "old_line_content": "\t\tpush_header_arg(&child.args, &hdr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2268,
          "old_api": "xsnprintf",
          "new_api": null,
          "old_text": "xsnprintf(hostname, sizeof(hostname), \"localhost\")",
          "new_text": null,
          "old_line_content": "\t\t\txsnprintf(hostname, sizeof(hostname), \"localhost\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2275,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&child.args, \"--show-resolving-progress\")",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_push(&child.args, \"--show-resolving-progress\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2282,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&child.args, \"--fix-thin\")",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_push(&child.args, \"--fix-thin\");",
          "new_line_content": "\t\t\t\t     fsck_msg_types.buf);",
          "content_same": false
        },
        {
          "line": 2289,
          "old_api": "start_command",
          "new_api": null,
          "old_text": "start_command(&child)",
          "new_text": null,
          "old_line_content": "\t\tstatus = start_command(&child);",
          "new_line_content": "\t\tchild.err = err_fd;",
          "content_same": false
        },
        {
          "line": 2293,
          "old_api": "index_pack_lockfile",
          "new_api": null,
          "old_text": "index_pack_lockfile(child.out, NULL)",
          "new_text": null,
          "old_line_content": "\t\tlockfile = index_pack_lockfile(child.out, NULL);",
          "new_line_content": "\t\t\treturn \"index-pack fork failed\";",
          "content_same": false
        },
        {
          "line": 2296,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(lockfile)",
          "new_text": null,
          "old_line_content": "\t\t\tfree(lockfile);",
          "new_line_content": "\t\tif (lockfile) {",
          "content_same": false
        },
        {
          "line": 2303,
          "old_api": "reprepare_packed_git",
          "new_api": null,
          "old_text": "reprepare_packed_git(the_repository)",
          "new_text": null,
          "old_line_content": "\t\treprepare_packed_git(the_repository);",
          "new_line_content": "\t\tif (status)",
          "content_same": false
        },
        {
          "line": 2314,
          "old_api": "unpack",
          "new_api": null,
          "old_text": "unpack(0, si)",
          "new_text": null,
          "old_line_content": "\t\treturn unpack(0, si);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2317,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&muxer, 0, sizeof(muxer))",
          "new_text": null,
          "old_line_content": "\tmemset(&muxer, 0, sizeof(muxer));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2320,
          "old_api": "start_async",
          "new_api": null,
          "old_text": "start_async(&muxer)",
          "new_text": null,
          "old_line_content": "\tif (start_async(&muxer))",
          "new_line_content": "\tmuxer.proc = copy_to_sideband;",
          "content_same": false
        },
        {
          "line": 2323,
          "old_api": "unpack",
          "new_api": null,
          "old_text": "unpack(muxer.in, si)",
          "new_text": null,
          "old_line_content": "\tret = unpack(muxer.in, si);",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 2331,
          "old_api": "DIV_ROUND_UP",
          "new_api": null,
          "old_text": "DIV_ROUND_UP(si->ref->nr, 32)",
          "new_text": null,
          "old_line_content": "\tint i, j, k, bitmap_size = DIV_ROUND_UP(si->ref->nr, 32);",
          "new_line_content": "static void prepare_shallow_update(struct shallow_info *si)",
          "content_same": false
        },
        {
          "line": 2334,
          "old_api": "assign_shallow_commits_to_refs",
          "new_api": null,
          "old_text": "assign_shallow_commits_to_refs(si, si->used_shallow, NULL)",
          "new_text": null,
          "old_line_content": "\tassign_shallow_commits_to_refs(si, si->used_shallow, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2337,
          "old_api": "CALLOC_ARRAY",
          "new_api": null,
          "old_text": "CALLOC_ARRAY(si->reachable, si->shallow->nr)",
          "new_text": null,
          "old_line_content": "\tCALLOC_ARRAY(si->reachable, si->shallow->nr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2369,
          "old_api": "setenv",
          "new_api": null,
          "old_text": "setenv(GIT_SHALLOW_FILE_ENVIRONMENT, alt_shallow_file, 1)",
          "new_text": null,
          "old_line_content": "\tsetenv(GIT_SHALLOW_FILE_ENVIRONMENT, alt_shallow_file, 1);",
          "new_line_content": "\t * true .git/shallow though.",
          "content_same": false
        },
        {
          "line": 2378,
          "old_api": "remove_nonexistent_theirs_shallow",
          "new_api": null,
          "old_text": "remove_nonexistent_theirs_shallow(si)",
          "new_text": null,
          "old_line_content": "\tremove_nonexistent_theirs_shallow(si);",
          "new_line_content": "\tstruct command *cmd;",
          "content_same": false
        },
        {
          "line": 2385,
          "old_api": "is_null_oid",
          "new_api": null,
          "old_text": "is_null_oid(&cmd->new_oid)",
          "new_text": null,
          "old_line_content": "\t\tif (is_null_oid(&cmd->new_oid))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": "oidset_clear",
          "new_api": null,
          "old_text": "oidset_clear(&seen)",
          "new_text": null,
          "old_line_content": "\toidset_clear(&seen);",
          "new_line_content": "\t\t\t\t show_ref_cb, &seen);",
          "content_same": false
        },
        {
          "line": 2393,
          "old_api": "prepare_shallow_update",
          "new_api": null,
          "old_text": "prepare_shallow_update(si)",
          "new_text": null,
          "old_line_content": "\t\tprepare_shallow_update(si);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": "packet_flush",
          "new_api": null,
          "old_text": "packet_flush(1)",
          "new_text": null,
          "old_line_content": "\tpacket_flush(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2397,
          "old_api": "ALLOC_ARRAY",
          "new_api": null,
          "old_text": "ALLOC_ARRAY(ref_status, ref->nr)",
          "new_text": null,
          "old_line_content": "\tALLOC_ARRAY(ref_status, ref->nr);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2398,
          "old_api": "assign_shallow_commits_to_refs",
          "new_api": null,
          "old_text": "assign_shallow_commits_to_refs(si, NULL, ref_status)",
          "new_text": null,
          "old_line_content": "\tassign_shallow_commits_to_refs(si, NULL, ref_status);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2407,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(ref_status)",
          "new_text": null,
          "old_line_content": "\tfree(ref_status);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2415,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&buf, \"unpack %s\\n\",\n\t\t\t unpack_status ? unpack_status : \"ok\")",
          "new_text": null,
          "old_line_content": "\tpacket_buf_write(&buf, \"unpack %s\\n\",",
          "new_line_content": "\tstruct strbuf buf = STRBUF_INIT;",
          "content_same": false
        },
        {
          "line": 2419,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&buf, \"ok %s\\n\",\n\t\t\t\t\t cmd->ref_name)",
          "new_text": null,
          "old_line_content": "\t\t\tpacket_buf_write(&buf, \"ok %s\\n\",",
          "new_line_content": "\tfor (cmd = commands; cmd; cmd = cmd->next) {",
          "content_same": false
        },
        {
          "line": 373,
          "old_api": "CALLOC_ARRAY",
          "new_api": null,
          "old_text": "CALLOC_ARRAY(ref_pattern, 1)",
          "new_text": null,
          "old_line_content": "\tCALLOC_ARRAY(ref_pattern, 1);",
          "new_line_content": "\tint len;",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(prefix, ':')",
          "new_text": null,
          "old_line_content": "\tp = strchr(prefix, ':');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2422,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&buf, \"ng %s %s\\n\",\n\t\t\t\t\t cmd->ref_name, cmd->error_string)",
          "new_text": null,
          "old_line_content": "\t\t\tpacket_buf_write(&buf, \"ng %s %s\\n\",",
          "new_line_content": "\t\t\t\t\t cmd->ref_name);",
          "content_same": false
        },
        {
          "line": 2425,
          "old_api": "packet_buf_flush",
          "new_api": null,
          "old_text": "packet_buf_flush(&buf)",
          "new_text": null,
          "old_line_content": "\tpacket_buf_flush(&buf);",
          "new_line_content": "\t\t\t\t\t cmd->ref_name, cmd->error_string);",
          "content_same": false
        },
        {
          "line": 2428,
          "old_api": "send_sideband",
          "new_api": null,
          "old_text": "send_sideband(1, 1, buf.buf, buf.len, use_sideband)",
          "new_text": null,
          "old_line_content": "\t\tsend_sideband(1, 1, buf.buf, buf.len, use_sideband);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2431,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&buf)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&buf);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 2440,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&buf, \"unpack %s\\n\",\n\t\t\t unpack_status ? unpack_status : \"ok\")",
          "new_text": null,
          "old_line_content": "\tpacket_buf_write(&buf, \"unpack %s\\n\",",
          "new_line_content": "\tstruct ref_push_report *report;",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(prefix)",
          "new_text": null,
          "old_line_content": "\tlen = strlen(prefix);",
          "new_line_content": "\t\tref_pattern->want_modify = 1;",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": "xmemdupz",
          "new_api": null,
          "old_text": "xmemdupz(prefix, len)",
          "new_text": null,
          "old_line_content": "\tref_pattern->ref_prefix = xmemdupz(prefix, len);",
          "new_line_content": "\twhile (len && prefix[len - 1] == '/')",
          "content_same": false
        },
        {
          "line": 2446,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&buf, \"ng %s %s\\n\",\n\t\t\t\t\t cmd->ref_name,\n\t\t\t\t\t cmd->error_string)",
          "new_text": null,
          "old_line_content": "\t\t\tpacket_buf_write(&buf, \"ng %s %s\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2451,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&buf, \"ok %s\\n\",\n\t\t\t\t cmd->ref_name)",
          "new_text": null,
          "old_line_content": "\t\tpacket_buf_write(&buf, \"ok %s\\n\",",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&buf, \"ok %s\\n\",\n\t\t\t\t\t\t cmd->ref_name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpacket_buf_write(&buf, \"ok %s\\n\",",
          "new_line_content": "\t\tfor (report = cmd->report; report; report = report->next) {",
          "content_same": false
        },
        {
          "line": 2458,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&buf, \"option refname %s\\n\",\n\t\t\t\t\t\t report->ref_name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpacket_buf_write(&buf, \"option refname %s\\n\",",
          "new_line_content": "\t\t\t\t\t\t cmd->ref_name);",
          "content_same": false
        },
        {
          "line": 2461,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&buf, \"option old-oid %s\\n\",\n\t\t\t\t\t\t oid_to_hex(report->old_oid))",
          "new_text": null,
          "old_line_content": "\t\t\t\tpacket_buf_write(&buf, \"option old-oid %s\\n\",",
          "new_line_content": "\t\t\t\t\t\t report->ref_name);",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(report->old_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t oid_to_hex(report->old_oid));",
          "new_line_content": "\t\t\tif (report->old_oid)",
          "content_same": false
        },
        {
          "line": 2465,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(report->new_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t oid_to_hex(report->new_oid));",
          "new_line_content": "\t\t\tif (report->new_oid)",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": "is_null_oid",
          "new_api": null,
          "old_text": "is_null_oid(&cmd->old_oid)",
          "new_text": null,
          "old_line_content": "\t\tif (!p->want_add && is_null_oid(&cmd->old_oid))",
          "new_line_content": "\t\tconst char *remains;",
          "content_same": false
        },
        {
          "line": 2470,
          "old_api": "packet_buf_flush",
          "new_api": null,
          "old_text": "packet_buf_flush(&buf)",
          "new_text": null,
          "old_line_content": "\tpacket_buf_flush(&buf);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": "is_null_oid",
          "new_api": null,
          "old_text": "is_null_oid(&cmd->old_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t !is_null_oid(&cmd->old_oid) &&",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": "is_null_oid",
          "new_api": null,
          "old_text": "is_null_oid(&cmd->new_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t !is_null_oid(&cmd->new_oid))",
          "new_line_content": "\t\telse if (!p->want_modify &&",
          "content_same": false
        },
        {
          "line": 2473,
          "old_api": "send_sideband",
          "new_api": null,
          "old_text": "send_sideband(1, 1, buf.buf, buf.len, use_sideband)",
          "new_text": null,
          "old_line_content": "\t\tsend_sideband(1, 1, buf.buf, buf.len, use_sideband);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2476,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&buf)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&buf);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "skip_prefix",
          "new_api": null,
          "old_text": "skip_prefix(cmd->ref_name, match, &remains)",
          "new_text": null,
          "old_line_content": "\t\tif (skip_prefix(cmd->ref_name, match, &remains) &&",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2483,
          "old_api": "is_null_oid",
          "new_api": null,
          "old_text": "is_null_oid(&cmd->new_oid)",
          "new_text": null,
          "old_line_content": "\t\tif (!is_null_oid(&cmd->new_oid))",
          "new_line_content": "\tstruct command *cmd;",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": "xsnprintf",
          "new_api": null,
          "old_text": "xsnprintf(msg, sizeof(msg), \"%s\", prefix)",
          "new_text": null,
          "old_line_content": "\tsz = xsnprintf(msg, sizeof(msg), \"%s\", prefix);",
          "new_line_content": "\tchar msg[4096];",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": "vsnprintf",
          "new_api": null,
          "old_text": "vsnprintf(msg + sz, sizeof(msg) - sz, err, params)",
          "new_text": null,
          "old_line_content": "\tsz += vsnprintf(msg + sz, sizeof(msg) - sz, err, params);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2499,
          "old_api": "N_",
          "new_api": null,
          "old_text": "N_(\"quiet\")",
          "new_text": null,
          "old_line_content": "\t\tOPT__QUIET(&quiet, N_(\"quiet\")),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": "send_sideband",
          "new_api": null,
          "old_text": "send_sideband(1, 2, msg, sz, use_sideband)",
          "new_text": null,
          "old_line_content": "\t\tsend_sideband(1, 2, msg, sz, use_sideband);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2500,
          "old_api": "OPT_HIDDEN_BOOL",
          "new_api": null,
          "old_text": "OPT_HIDDEN_BOOL(0, \"stateless-rpc\", &stateless_rpc, NULL)",
          "new_text": null,
          "old_line_content": "\t\tOPT_HIDDEN_BOOL(0, \"stateless-rpc\", &stateless_rpc, NULL),",
          "new_line_content": "\tstruct option options[] = {",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "format (printf, 1, 2)",
          "new_api": null,
          "old_text": "format (printf, 1, 2)",
          "new_text": null,
          "old_line_content": "__attribute__((format (printf, 1, 2)))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2507,
          "old_api": "packet_trace_identity",
          "new_api": null,
          "old_text": "packet_trace_identity(\"receive-pack\")",
          "new_text": null,
          "old_line_content": "\tpacket_trace_identity(\"receive-pack\");",
          "new_line_content": "\t};",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(params, err)",
          "new_text": null,
          "old_line_content": "\tva_start(params, err);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": "report_message",
          "new_api": null,
          "old_text": "report_message(\"warning: \", err, params)",
          "new_text": null,
          "old_line_content": "\treport_message(\"warning: \", err, params);",
          "new_line_content": "\tva_list params;",
          "content_same": false
        },
        {
          "line": 2512,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"too many arguments\")",
          "new_text": null,
          "old_line_content": "\t\tusage_msg_opt(_(\"too many arguments\"), receive_pack_usage, options);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "format (printf, 1, 2)",
          "new_api": null,
          "old_text": "format (printf, 1, 2)",
          "new_text": null,
          "old_line_content": "__attribute__((format (printf, 1, 2)))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(params, err)",
          "new_text": null,
          "old_line_content": "\tva_start(params, err);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": "report_message",
          "new_api": null,
          "old_text": "report_message(\"error: \", err, params)",
          "new_text": null,
          "old_line_content": "\treport_message(\"error: \", err, params);",
          "new_line_content": "\tva_list params;",
          "content_same": false
        },
        {
          "line": 2518,
          "old_api": "setup_path",
          "new_api": null,
          "old_text": "setup_path()",
          "new_text": null,
          "old_line_content": "\tsetup_path();",
          "new_line_content": "\tservice_dir = argv[0];",
          "content_same": false
        },
        {
          "line": 2521,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"'%s' does not appear to be a git repository\", service_dir)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"'%s' does not appear to be a git repository\", service_dir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2532,
          "old_api": "determine_protocol_version_server",
          "new_api": null,
          "old_text": "determine_protocol_version_server()",
          "new_text": null,
          "old_line_content": "\tswitch (determine_protocol_version_server()) {",
          "new_line_content": "\t\tunpack_limit = receive_unpack_limit;",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": "poll",
          "new_api": null,
          "old_text": "poll(&pfd, 1, 1000 * keepalive_in_sec)",
          "new_text": null,
          "old_line_content": "\t\t\tret = poll(&pfd, 1, 1000 * keepalive_in_sec);",
          "new_line_content": "\t\t\tpfd.fd = in;",
          "content_same": false
        },
        {
          "line": 2545,
          "old_api": "packet_write_fmt",
          "new_api": null,
          "old_text": "packet_write_fmt(1, \"version 1\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tpacket_write_fmt(1, \"version 1\\n\");",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 2551,
          "old_api": "BUG",
          "new_api": null,
          "old_text": "BUG(\"unknown protocol version\")",
          "new_text": null,
          "old_line_content": "\t\tBUG(\"unknown protocol version\");",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": "write_or_die",
          "new_api": null,
          "old_text": "write_or_die(1, buf, sizeof(buf) - 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\twrite_or_die(1, buf, sizeof(buf) - 1);",
          "new_line_content": "\t\t\t\t/* no data; send a keepalive packet */",
          "content_same": false
        },
        {
          "line": 2555,
          "old_api": "write_head_info",
          "new_api": null,
          "old_text": "write_head_info()",
          "new_text": null,
          "old_line_content": "\t\twrite_head_info();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": "xread",
          "new_api": null,
          "old_text": "xread(in, data, sizeof(data))",
          "new_text": null,
          "old_line_content": "\t\tsz = xread(in, data, sizeof(data));",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2560,
          "old_api": "packet_reader_init",
          "new_api": null,
          "old_text": "packet_reader_init(&reader, 0, NULL, 0,\n\t\t\t   PACKET_READ_CHOMP_NEWLINE |\n\t\t\t   PACKET_READ_DIE_ON_ERR_PACKET)",
          "new_text": null,
          "old_line_content": "\tpacket_reader_init(&reader, 0, NULL, 0,",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 514,
          "old_api": "memchr",
          "new_api": null,
          "old_text": "memchr(data, '\\0', sz)",
          "new_text": null,
          "old_line_content": "\t\t\tconst char *p = memchr(data, '\\0', sz);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2564,
          "old_api": "read_head_info",
          "new_api": null,
          "old_text": "read_head_info(&reader, &shallow)",
          "new_text": null,
          "old_line_content": "\tif ((commands = read_head_info(&reader, &shallow))) {",
          "new_line_content": "\t\t\t   PACKET_READ_DIE_ON_ERR_PACKET);",
          "content_same": false
        },
        {
          "line": 2569,
          "old_api": "read_push_options",
          "new_api": null,
          "old_text": "read_push_options(&reader, &push_options)",
          "new_text": null,
          "old_line_content": "\t\t\tread_push_options(&reader, &push_options);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": "send_sideband",
          "new_api": null,
          "old_text": "send_sideband(1, 2, data, p - data, use_sideband)",
          "new_text": null,
          "old_line_content": "\t\t\t\tsend_sideband(1, 2, data, p - data, use_sideband);",
          "new_line_content": "\t\t\t\t */",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": "send_sideband",
          "new_api": null,
          "old_text": "send_sideband(1, 2, p + 1, sz - (p - data + 1), use_sideband)",
          "new_text": null,
          "old_line_content": "\t\t\t\tsend_sideband(1, 2, p + 1, sz - (p - data + 1), use_sideband);",
          "new_line_content": "\t\t\t\tkeepalive_active = 1;",
          "content_same": false
        },
        {
          "line": 2570,
          "old_api": "check_cert_push_options",
          "new_api": null,
          "old_text": "check_cert_push_options(&push_options)",
          "new_text": null,
          "old_line_content": "\t\tif (!check_cert_push_options(&push_options)) {",
          "new_line_content": "\t\tif (use_push_options)",
          "content_same": false
        },
        {
          "line": 2576,
          "old_api": "prepare_shallow_info",
          "new_api": null,
          "old_text": "prepare_shallow_info(&si, &shallow)",
          "new_text": null,
          "old_line_content": "\t\tprepare_shallow_info(&si, &shallow);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2579,
          "old_api": "delete_only",
          "new_api": null,
          "old_text": "delete_only(commands)",
          "new_text": null,
          "old_line_content": "\t\tif (!delete_only(commands)) {",
          "new_line_content": "\t\tif (!si.nr_ours && !si.nr_theirs)",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": "send_sideband",
          "new_api": null,
          "old_text": "send_sideband(1, 2, data, sz, use_sideband)",
          "new_text": null,
          "old_line_content": "\t\tsend_sideband(1, 2, data, sz, use_sideband);",
          "new_line_content": "\t\t * it yet; just pass along the data.",
          "content_same": false
        },
        {
          "line": 2580,
          "old_api": "unpack_with_sideband",
          "new_api": null,
          "old_text": "unpack_with_sideband(&si)",
          "new_text": null,
          "old_line_content": "\t\t\tunpack_status = unpack_with_sideband(&si);",
          "new_line_content": "\t\t\tshallow_update = 0;",
          "content_same": false
        },
        {
          "line": 2584,
          "old_api": "execute_commands",
          "new_api": null,
          "old_text": "execute_commands(commands, unpack_status, &si,\n\t\t\t\t &push_options)",
          "new_text": null,
          "old_line_content": "\t\texecute_commands(commands, unpack_status, &si,",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2587,
          "old_api": "sigchain_push",
          "new_api": null,
          "old_text": "sigchain_push(SIGPIPE, SIG_IGN)",
          "new_text": null,
          "old_line_content": "\t\tsigchain_push(SIGPIPE, SIG_IGN);",
          "new_line_content": "\t\t\t\t &push_options);",
          "content_same": false
        },
        {
          "line": 2592,
          "old_api": "sigchain_pop",
          "new_api": null,
          "old_text": "sigchain_pop(SIGPIPE)",
          "new_text": null,
          "old_line_content": "\t\tsigchain_pop(SIGPIPE);",
          "new_line_content": "\t\telse if (report_status)",
          "content_same": false
        },
        {
          "line": 2596,
          "old_api": "free_commands",
          "new_api": null,
          "old_text": "free_commands(commands)",
          "new_text": null,
          "old_line_content": "\t\tfree_commands(commands);",
          "new_line_content": "\t\t\t\t &push_options);",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(key, '\\0', GIT_MAX_BLKSZ)",
          "new_text": null,
          "old_line_content": "\tmemset(key, '\\0', GIT_MAX_BLKSZ);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": "update_fn",
          "new_api": null,
          "old_text": "the_hash_algo->update_fn(&ctx, key_in, key_len)",
          "new_text": null,
          "old_line_content": "\t\tthe_hash_algo->update_fn(&ctx, key_in, key_len);",
          "new_line_content": "\tif (the_hash_algo->blksz < key_len) {",
          "content_same": false
        },
        {
          "line": 2605,
          "old_api": "strvec_pushl",
          "new_api": null,
          "old_text": "strvec_pushl(&proc.args, \"gc\", \"--auto\", \"--quiet\",\n\t\t\t\t     NULL)",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_pushl(&proc.args, \"gc\", \"--auto\", \"--quiet\",",
          "new_line_content": "\t\t\tproc.err = use_sideband ? -1 : 0;",
          "content_same": false
        },
        {
          "line": 2608,
          "old_api": "start_command",
          "new_api": null,
          "old_text": "start_command(&proc)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!start_command(&proc)) {",
          "new_line_content": "\t\t\t\t     NULL);",
          "content_same": false
        },
        {
          "line": 2611,
          "old_api": "finish_command",
          "new_api": null,
          "old_text": "finish_command(&proc)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfinish_command(&proc);",
          "new_line_content": "\t\t\t\tif (use_sideband)",
          "content_same": false
        },
        {
          "line": 565,
          "old_api": "init_fn",
          "new_api": null,
          "old_text": "the_hash_algo->init_fn(&ctx)",
          "new_text": null,
          "old_line_content": "\tthe_hash_algo->init_fn(&ctx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": "update_fn",
          "new_api": null,
          "old_text": "the_hash_algo->update_fn(&ctx, k_ipad, sizeof(k_ipad))",
          "new_text": null,
          "old_line_content": "\tthe_hash_algo->update_fn(&ctx, k_ipad, sizeof(k_ipad));",
          "new_line_content": "\t/* RFC 2104 2. (3) & (4) */",
          "content_same": false
        },
        {
          "line": 2615,
          "old_api": "update_server_info",
          "new_api": null,
          "old_text": "update_server_info(0)",
          "new_text": null,
          "old_line_content": "\t\t\tupdate_server_info(0);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2616,
          "old_api": "clear_shallow_info",
          "new_api": null,
          "old_text": "clear_shallow_info(&si)",
          "new_text": null,
          "old_line_content": "\t\tclear_shallow_info(&si);",
          "new_line_content": "\t\tif (auto_update_server_info)",
          "content_same": false
        },
        {
          "line": 571,
          "old_api": "init_fn",
          "new_api": null,
          "old_text": "the_hash_algo->init_fn(&ctx)",
          "new_text": null,
          "old_line_content": "\tthe_hash_algo->init_fn(&ctx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": "update_fn",
          "new_api": null,
          "old_text": "the_hash_algo->update_fn(&ctx, k_opad, sizeof(k_opad))",
          "new_text": null,
          "old_line_content": "\tthe_hash_algo->update_fn(&ctx, k_opad, sizeof(k_opad));",
          "new_line_content": "\t/* RFC 2104 2. (6) & (7) */",
          "content_same": false
        },
        {
          "line": 2619,
          "old_api": "packet_flush",
          "new_api": null,
          "old_text": "packet_flush(1)",
          "new_text": null,
          "old_line_content": "\t\tpacket_flush(1);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2620,
          "old_api": "oid_array_clear",
          "new_api": null,
          "old_text": "oid_array_clear(&shallow)",
          "new_text": null,
          "old_line_content": "\toid_array_clear(&shallow);",
          "new_line_content": "\tif (use_sideband)",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(&buf, \"%s:%\"PRItime, path, stamp)",
          "new_text": null,
          "old_line_content": "\tstrbuf_addf(&buf, \"%s:%\"PRItime, path, stamp);",
          "new_line_content": "\tunsigned char hash[GIT_MAX_RAWSZ];",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(cert_nonce_seed)",
          "new_text": null,
          "old_line_content": "\thmac_hash(hash, buf.buf, buf.len, cert_nonce_seed, strlen(cert_nonce_seed));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": "hash_to_hex",
          "new_api": null,
          "old_text": "hash_to_hex(hash)",
          "new_text": null,
          "old_line_content": "\tstrbuf_addf(&buf, \"%\"PRItime\"-%.*s\", stamp, (int)the_hash_algo->hexsz, hash_to_hex(hash));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": "strbuf_detach",
          "new_api": null,
          "old_text": "strbuf_detach(&buf, NULL)",
          "new_text": null,
          "old_line_content": "\treturn strbuf_detach(&buf, NULL);",
          "new_line_content": "\t/* RFC 2104 5. HMAC-SHA1 or HMAC-SHA256 */",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": "find_header_mem",
          "new_api": null,
          "old_text": "find_header_mem(msg, len, key, &out_len)",
          "new_text": null,
          "old_line_content": "\tconst char *val = find_header_mem(msg, len, key, &out_len);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": "xmemdupz",
          "new_api": null,
          "old_text": "xmemdupz(val, out_len)",
          "new_text": null,
          "old_line_content": "\treturn xmemdupz(val, out_len);",
          "new_line_content": "\t\t*next_line = val + out_len + 1;",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": "find_header",
          "new_api": null,
          "old_text": "find_header(buf, len, \"nonce\", NULL)",
          "new_text": null,
          "old_line_content": "\tchar *nonce = find_header(buf, len, \"nonce\", NULL);",
          "new_line_content": "static const char *check_nonce(const char *buf, size_t len)",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(push_cert_nonce, nonce)",
          "new_text": null,
          "old_line_content": "\t} else if (!strcmp(push_cert_nonce, nonce)) {",
          "new_line_content": "\t\tretval = NONCE_UNSOLICITED;",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": "parse_timestamp",
          "new_api": null,
          "old_text": "parse_timestamp(nonce, &bohmac, 10)",
          "new_text": null,
          "old_line_content": "\tstamp = parse_timestamp(nonce, &bohmac, 10);",
          "new_line_content": "\t\tgoto leave;",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(nonce)",
          "new_text": null,
          "old_line_content": "\tnoncelen = strlen(nonce);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": "prepare_push_cert_nonce",
          "new_api": null,
          "old_text": "prepare_push_cert_nonce(service_dir, stamp)",
          "new_text": null,
          "old_line_content": "\texpect = prepare_push_cert_nonce(service_dir, stamp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "constant_memequal",
          "new_api": null,
          "old_text": "constant_memequal(expect, nonce, noncelen)",
          "new_text": null,
          "old_line_content": "\tif (constant_memequal(expect, nonce, noncelen)) {",
          "new_line_content": "\t\tgoto leave;",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": "parse_timestamp",
          "new_api": null,
          "old_text": "parse_timestamp(push_cert_nonce, NULL, 10)",
          "new_text": null,
          "old_line_content": "\tostamp = parse_timestamp(push_cert_nonce, NULL, 10);",
          "new_line_content": "\t * skewed in the future.",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": "labs",
          "new_api": null,
          "old_text": "labs(nonce_stamp_slop)",
          "new_text": null,
          "old_line_content": "\t    labs(nonce_stamp_slop) <= nonce_stamp_slop_limit) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": "free",
          "new_api": null,
          "old_text": "free((void *)push_cert_nonce)",
          "new_text": null,
          "old_line_content": "\t\tfree((void *)push_cert_nonce);",
          "new_line_content": "\t\t * is what we issued.",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": "xstrdup",
          "new_api": null,
          "old_text": "xstrdup(nonce)",
          "new_text": null,
          "old_line_content": "\t\tpush_cert_nonce = xstrdup(nonce);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(nonce)",
          "new_text": null,
          "old_line_content": "\tfree(nonce);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(expect)",
          "new_text": null,
          "old_line_content": "\tfree(expect);",
          "new_line_content": "leave:",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "find_header",
          "new_api": null,
          "old_text": "find_header(buf, len, \"push-option\", &next_line)",
          "new_text": null,
          "old_line_content": "\twhile ((option = find_header(buf, len, \"push-option\", &next_line))) {",
          "new_line_content": "\t\treturn 1;",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(option,\n\t\t\t      push_options->items[options_seen - 1].string)",
          "new_text": null,
          "old_line_content": "\t\t    || strcmp(option,",
          "new_line_content": "\t\toptions_seen++;",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(option)",
          "new_text": null,
          "old_line_content": "\t\tfree(option);",
          "new_line_content": "\t\t\tgoto leave;",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(option)",
          "new_text": null,
          "old_line_content": "\tfree(option);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "write_object_file",
          "new_api": null,
          "old_text": "write_object_file(push_cert.buf, push_cert.len, OBJ_BLOB,\n\t\t\t\t      &push_cert_oid)",
          "new_text": null,
          "old_line_content": "\t\tif (write_object_file(push_cert.buf, push_cert.len, OBJ_BLOB,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": "xmemdupz",
          "new_api": null,
          "old_text": "xmemdupz(push_cert.buf, bogs)",
          "new_text": null,
          "old_line_content": "\t\tsigcheck.payload = xmemdupz(push_cert.buf, bogs);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": "check_nonce",
          "new_api": null,
          "old_text": "check_nonce(push_cert.buf, bogs)",
          "new_text": null,
          "old_line_content": "\t\tnonce_status = check_nonce(push_cert.buf, bogs);",
          "new_line_content": "\t\t\t\tpush_cert.len - bogs);",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(&proc->env, \"GIT_PUSH_CERT=%s\",\n\t\t\t     oid_to_hex(&push_cert_oid))",
          "new_text": null,
          "old_line_content": "\t\tstrvec_pushf(&proc->env, \"GIT_PUSH_CERT=%s\",",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(&proc->env,\n\t\t\t\t     \"GIT_PUSH_CERT_NONCE=%s\",\n\t\t\t\t     push_cert_nonce)",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_pushf(&proc->env,",
          "new_line_content": "\t\t\t     sigcheck.result);",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(&proc->env,\n\t\t\t\t     \"GIT_PUSH_CERT_NONCE_STATUS=%s\",\n\t\t\t\t     nonce_status)",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_pushf(&proc->env,",
          "new_line_content": "\t\t\t\t     \"GIT_PUSH_CERT_NONCE=%s\",",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(&proc->env,\n\t\t\t\t\t     \"GIT_PUSH_CERT_NONCE_SLOP=%ld\",\n\t\t\t\t\t     nonce_stamp_slop)",
          "new_text": null,
          "old_line_content": "\t\t\t\tstrvec_pushf(&proc->env,",
          "new_line_content": "\t\t\t\t     nonce_status);",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": "find_hook",
          "new_api": null,
          "old_text": "find_hook(hook_name)",
          "new_text": null,
          "old_line_content": "\tconst char *hook_path = find_hook(hook_name);",
          "new_line_content": "\tstruct async muxer;",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&proc.args, hook_path)",
          "new_text": null,
          "old_line_content": "\tstrvec_push(&proc.args, hook_path);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 825,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(&proc.env,\n\t\t\t\t     \"GIT_PUSH_OPTION_%\"PRIuMAX\"=%s\",\n\t\t\t\t     (uintmax_t)i,\n\t\t\t\t     feed_state->push_options->items[i].string)",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_pushf(&proc.env,",
          "new_line_content": "\t\tsize_t i;",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(&proc.env, \"GIT_PUSH_OPTION_COUNT=%\"PRIuMAX\"\",\n\t\t\t     (uintmax_t)feed_state->push_options->nr)",
          "new_text": null,
          "old_line_content": "\t\tstrvec_pushf(&proc.env, \"GIT_PUSH_OPTION_COUNT=%\"PRIuMAX\"\",",
          "new_line_content": "\t\t\t\t     (uintmax_t)i,",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": "strvec_pushf",
          "new_api": null,
          "old_text": "strvec_pushf(&proc.env, \"GIT_PUSH_OPTION_COUNT\")",
          "new_text": null,
          "old_line_content": "\t\tstrvec_pushf(&proc.env, \"GIT_PUSH_OPTION_COUNT\");",
          "new_line_content": "\t\t\t     (uintmax_t)feed_state->push_options->nr);",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": "tmp_objdir_env",
          "new_api": null,
          "old_text": "tmp_objdir_env(tmp_objdir)",
          "new_text": null,
          "old_line_content": "\t\tstrvec_pushv(&proc.env, tmp_objdir_env(tmp_objdir));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&muxer, 0, sizeof(muxer))",
          "new_text": null,
          "old_line_content": "\t\tmemset(&muxer, 0, sizeof(muxer));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "start_async",
          "new_api": null,
          "old_text": "start_async(&muxer)",
          "new_text": null,
          "old_line_content": "\t\tcode = start_async(&muxer);",
          "new_line_content": "\t\tmuxer.proc = copy_to_sideband;",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": "prepare_push_cert_sha1",
          "new_api": null,
          "old_text": "prepare_push_cert_sha1(&proc)",
          "new_text": null,
          "old_line_content": "\tprepare_push_cert_sha1(&proc);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "finish_async",
          "new_api": null,
          "old_text": "finish_async(&muxer)",
          "new_text": null,
          "old_line_content": "\t\t\tfinish_async(&muxer);",
          "new_line_content": "\tif (code) {",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": "sigchain_push",
          "new_api": null,
          "old_text": "sigchain_push(SIGPIPE, SIG_IGN)",
          "new_text": null,
          "old_line_content": "\tsigchain_push(SIGPIPE, SIG_IGN);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "feed",
          "new_api": null,
          "old_text": "feed(feed_state, &buf, &n)",
          "new_text": null,
          "old_line_content": "\t\tif (feed(feed_state, &buf, &n))",
          "new_line_content": "\t\tconst char *buf;",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(proc.in)",
          "new_text": null,
          "old_line_content": "\tclose(proc.in);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(&state->buf)",
          "new_text": null,
          "old_line_content": "\tstrbuf_reset(&state->buf);",
          "new_line_content": "\tif (!bufp)",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(&state->buf, \"%s %s %s\\n\",\n\t\t\t    oid_to_hex(old_oid), oid_to_hex(new_oid),\n\t\t\t    ref_name)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addf(&state->buf, \"%s %s %s\\n\",",
          "new_line_content": "\t\tnew_oid = state->report->new_oid ? state->report->new_oid : &cmd->new_oid;",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(new_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t    oid_to_hex(old_oid), oid_to_hex(new_oid),",
          "new_line_content": "\t\tref_name = state->report->ref_name ? state->report->ref_name : cmd->ref_name;",
          "content_same": false
        },
        {
          "line": 905,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(&state->buf, \"%s %s %s\\n\",\n\t\t\t    oid_to_hex(&cmd->old_oid), oid_to_hex(&cmd->new_oid),\n\t\t\t    cmd->ref_name)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addf(&state->buf, \"%s %s %s\\n\",",
          "new_line_content": "\t\t\tstate->cmd = cmd->next;",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&cmd->new_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t    oid_to_hex(&cmd->old_oid), oid_to_hex(&cmd->new_oid),",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "strbuf_init",
          "new_api": null,
          "old_text": "strbuf_init(&state.buf, 0)",
          "new_text": null,
          "old_line_content": "\tstrbuf_init(&state.buf, 0);",
          "new_line_content": "\tint status;",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": "feed_receive_hook",
          "new_api": null,
          "old_text": "feed_receive_hook(&state, NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tif (feed_receive_hook(&state, NULL, NULL))",
          "new_line_content": "\tstate.skip_broken = skip_broken;",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": "run_and_feed_hook",
          "new_api": null,
          "old_text": "run_and_feed_hook(hook_name, feed_receive_hook, &state)",
          "new_text": null,
          "old_line_content": "\tstatus = run_and_feed_hook(hook_name, feed_receive_hook, &state);",
          "new_line_content": "\tstate.cmd = commands;",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&state.buf)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&state.buf);",
          "new_line_content": "\tstate.push_options = push_options;",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": "find_hook",
          "new_api": null,
          "old_text": "find_hook(\"update\")",
          "new_text": null,
          "old_line_content": "\tconst char *hook_path = find_hook(\"update\");",
          "new_line_content": "\tstruct child_process proc = CHILD_PROCESS_INIT;",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&proc.args, hook_path)",
          "new_text": null,
          "old_line_content": "\tstrvec_push(&proc.args, hook_path);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&proc.args, cmd->ref_name)",
          "new_text": null,
          "old_line_content": "\tstrvec_push(&proc.args, cmd->ref_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "start_command",
          "new_api": null,
          "old_text": "start_command(&proc)",
          "new_text": null,
          "old_line_content": "\tcode = start_command(&proc);",
          "new_line_content": "\tproc.trace2_hook_name = \"update\";",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": "copy_to_sideband",
          "new_api": null,
          "old_text": "copy_to_sideband(proc.err, -1, NULL)",
          "new_text": null,
          "old_line_content": "\t\tcopy_to_sideband(proc.err, -1, NULL);",
          "new_line_content": "\t\treturn code;",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": "finish_command",
          "new_api": null,
          "old_text": "finish_command(&proc)",
          "new_text": null,
          "old_line_content": "\treturn finish_command(&proc);",
          "new_line_content": "\tif (use_sideband)",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(list->ref_name, refname)",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(list->ref_name, refname))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": "packet_reader_read",
          "new_api": null,
          "old_text": "packet_reader_read(reader)",
          "new_text": null,
          "old_line_content": "\t\tstatus = packet_reader_read(reader);",
          "new_line_content": "\t\tenum packet_read_status status;",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(errmsg, \"proc-receive exited abnormally\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tstrbuf_addstr(errmsg, \"proc-receive exited abnormally\");",
          "new_line_content": "\t\t\t/* Check whether proc-receive exited abnormally */",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(head, ' ')",
          "new_text": null,
          "old_line_content": "\t\tp = strchr(head, ' ');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(head, \"option\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(head, \"option\")) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(errmsg, \"proc-receive reported 'option' without a matching 'ok/ng' directive\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tstrbuf_addstr(errmsg, \"proc-receive reported 'option' without a matching 'ok/ng' directive\\n\");",
          "new_line_content": "\t\t\tif (!hint || !(report || new_report)) {",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "CALLOC_ARRAY",
          "new_api": null,
          "old_text": "CALLOC_ARRAY(hint->report, 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tCALLOC_ARRAY(hint->report, 1);",
          "new_line_content": "\t\t\tif (new_report) {",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(1, sizeof(struct ref_push_report))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\treport->next = xcalloc(1, sizeof(struct ref_push_report));",
          "new_line_content": "\t\t\t\t\twhile (report->next)",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(key, ' ')",
          "new_text": null,
          "old_line_content": "\t\t\tp = strchr(key, ' ');",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(key, \"refname\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(key, \"refname\"))",
          "new_line_content": "\t\t\t\t*p++ = '\\0';",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": "xstrdup_or_null",
          "new_api": null,
          "old_text": "xstrdup_or_null(val)",
          "new_text": null,
          "old_line_content": "\t\t\t\treport->ref_name = xstrdup_or_null(val);",
          "new_line_content": "\t\t\tval = p;",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(refname, ' ')",
          "new_text": null,
          "old_line_content": "\t\tp = strchr(refname, ' ');",
          "new_line_content": "\t\tnew_report = 0;",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(head, \"ng\")",
          "new_text": null,
          "old_line_content": "\t\tif (strcmp(head, \"ok\") && strcmp(head, \"ng\")) {",
          "new_line_content": "\t\tif (p)",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(errmsg, \"proc-receive reported bad status '%s' on ref '%s'\\n\",\n\t\t\t\t    head, refname)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_addf(errmsg, \"proc-receive reported bad status '%s' on ref '%s'\\n\",",
          "new_line_content": "\t\t\t*p++ = '\\0';",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": "find_command_by_refname",
          "new_api": null,
          "old_text": "find_command_by_refname(hint, refname)",
          "new_text": null,
          "old_line_content": "\t\t\thint = find_command_by_refname(hint, refname);",
          "new_line_content": "\t\t/* first try searching at our hint, falling back to all refs */",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(errmsg, \"proc-receive reported status on unexpected ref: %s\\n\",\n\t\t\t\t    refname)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_addf(errmsg, \"proc-receive reported status on unexpected ref: %s\\n\",",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(head, \"ng\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(head, \"ng\")) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": "find_hook",
          "new_api": null,
          "old_text": "find_hook(\"proc-receive\")",
          "new_text": null,
          "old_line_content": "\tconst char *hook_path = find_hook(\"proc-receive\");",
          "new_line_content": "\tint version = 0;",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": "rp_error",
          "new_api": null,
          "old_text": "rp_error(\"cannot find hook 'proc-receive'\")",
          "new_text": null,
          "old_line_content": "\t\trp_error(\"cannot find hook 'proc-receive'\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&proc.args, hook_path)",
          "new_text": null,
          "old_line_content": "\tstrvec_push(&proc.args, hook_path);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&muxer, 0, sizeof(muxer))",
          "new_text": null,
          "old_line_content": "\t\tmemset(&muxer, 0, sizeof(muxer));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "start_async",
          "new_api": null,
          "old_text": "start_async(&muxer)",
          "new_text": null,
          "old_line_content": "\t\tcode = start_async(&muxer);",
          "new_line_content": "\t\tmuxer.proc = copy_to_sideband;",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "start_command",
          "new_api": null,
          "old_text": "start_command(&proc)",
          "new_text": null,
          "old_line_content": "\tcode = start_command(&proc);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "finish_async",
          "new_api": null,
          "old_text": "finish_async(&muxer)",
          "new_text": null,
          "old_line_content": "\t\t\tfinish_async(&muxer);",
          "new_line_content": "\tif (code) {",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": "sigchain_push",
          "new_api": null,
          "old_text": "sigchain_push(SIGPIPE, SIG_IGN)",
          "new_text": null,
          "old_line_content": "\tsigchain_push(SIGPIPE, SIG_IGN);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": "packet_reader_init",
          "new_api": null,
          "old_text": "packet_reader_init(&reader, proc.out, NULL, 0,\n\t\t\t   PACKET_READ_CHOMP_NEWLINE |\n\t\t\t   PACKET_READ_GENTLE_ON_EOF)",
          "new_text": null,
          "old_line_content": "\tpacket_reader_init(&reader, proc.out, NULL, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&cap, \" atomic\")",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addstr(&cap, \" atomic\");",
          "new_line_content": "\t\t\t   PACKET_READ_GENTLE_ON_EOF);",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&cap)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_release(&cap);",
          "new_line_content": "\tif (cap.len) {",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": "packet_flush_gently",
          "new_api": null,
          "old_text": "packet_flush_gently(proc.in)",
          "new_text": null,
          "old_line_content": "\t\tcode = packet_flush_gently(proc.in);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": "packet_reader_read",
          "new_api": null,
          "old_text": "packet_reader_read(&reader)",
          "new_text": null,
          "old_line_content": "\t\t\tstatus = packet_reader_read(&reader);",
          "new_line_content": "\t\t\tenum packet_read_status status;",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "starts_with",
          "new_api": null,
          "old_text": "starts_with(reader.line, \"version=\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (reader.pktlen > 8 && starts_with(reader.line, \"version=\")) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(reader.line + 8)",
          "new_text": null,
          "old_line_content": "\t\t\t\tversion = atoi(reader.line + 8);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": "parse_feature_request",
          "new_api": null,
          "old_text": "parse_feature_request(feature_list, \"push-options\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (parse_feature_request(feature_list, \"push-options\"))",
          "new_line_content": "\t\t\t\tif (linelen < reader.pktlen) {",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&errmsg, \"fail to negotiate version with proc-receive hook\")",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addstr(&errmsg, \"fail to negotiate version with proc-receive hook\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(&errmsg, \"proc-receive version '%d' is not supported\",\n\t\t\t    version)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addf(&errmsg, \"proc-receive version '%d' is not supported\",",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "packet_write_fmt_gently",
          "new_api": null,
          "old_text": "packet_write_fmt_gently(proc.in, \"%s %s %s\",\n\t\t\t\t\t       oid_to_hex(&cmd->old_oid),\n\t\t\t\t\t       oid_to_hex(&cmd->new_oid),\n\t\t\t\t\t       cmd->ref_name)",
          "new_text": null,
          "old_line_content": "\t\tcode = packet_write_fmt_gently(proc.in, \"%s %s %s\",",
          "new_line_content": "\t\tif (!cmd->run_proc_receive || cmd->skip_update || cmd->error_string)",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&cmd->old_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t       oid_to_hex(&cmd->old_oid),",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": "packet_flush_gently",
          "new_api": null,
          "old_text": "packet_flush_gently(proc.in)",
          "new_text": null,
          "old_line_content": "\t\tcode = packet_flush_gently(proc.in);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": "packet_write_fmt_gently",
          "new_api": null,
          "old_text": "packet_write_fmt_gently(proc.in, \"%s\", item->string)",
          "new_text": null,
          "old_line_content": "\t\t\tcode = packet_write_fmt_gently(proc.in, \"%s\", item->string);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": "packet_flush_gently",
          "new_api": null,
          "old_text": "packet_flush_gently(proc.in)",
          "new_text": null,
          "old_line_content": "\t\t\tcode = packet_flush_gently(proc.in);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "read_proc_receive_report",
          "new_api": null,
          "old_text": "read_proc_receive_report(&reader, commands, &errmsg)",
          "new_text": null,
          "old_line_content": "\tcode = read_proc_receive_report(&reader, commands, &errmsg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(proc.in)",
          "new_text": null,
          "old_line_content": "\tclose(proc.in);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(proc.out)",
          "new_text": null,
          "old_line_content": "\tclose(proc.out);",
          "new_line_content": "cleanup:",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": "finish_command",
          "new_api": null,
          "old_text": "finish_command(&proc)",
          "new_text": null,
          "old_line_content": "\tif (finish_command(&proc))",
          "new_line_content": "\tif (use_sideband)",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": "rp_error",
          "new_api": null,
          "old_text": "rp_error(\"%s\", errmsg.buf)",
          "new_text": null,
          "old_line_content": "\t\trp_error(\"%s\", errmsg.buf);",
          "new_line_content": "\t\tif (*p == '\\n')",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&errmsg)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_release(&errmsg);",
          "new_line_content": "\t\t\t*p = '\\0';",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": "N_",
          "new_api": null,
          "old_text": "N_(\"By default, updating the current branch in a non-bare repository\\n\"\n\t   \"is denied, because it will make the index and work tree inconsistent\\n\"\n\t   \"with what you pushed, and will require 'git reset --hard' to match\\n\"\n\t   \"the work tree to HEAD.\\n\"\n\t   \"\\n\"\n\t   \"You can set the 'receive.denyCurrentBranch' configuration variable\\n\"\n\t   \"to 'ignore' or 'warn' in the remote repository to allow pushing into\\n\"\n\t   \"its current branch; however, this is not recommended unless you\\n\"\n\t   \"arranged to update its work tree to match what you pushed in some\\n\"\n\t   \"other way.\\n\"\n\t   \"\\n\"\n\t   \"To squelch this message and still keep the default behaviour, set\\n\"\n\t   \"'receive.denyCurrentBranch' configuration variable to 'refuse'.\")",
          "new_text": null,
          "old_line_content": "\tN_(\"By default, updating the current branch in a non-bare repository\\n\"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(refuse_unconfigured_deny_msg)",
          "new_text": null,
          "old_line_content": "\trp_error(\"%s\", _(refuse_unconfigured_deny_msg));",
          "new_line_content": "static void refuse_unconfigured_deny(void)",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": "N_",
          "new_api": null,
          "old_text": "N_(\"By default, deleting the current branch is denied, because the next\\n\"\n\t   \"'git clone' won't result in any file checked out, causing confusion.\\n\"\n\t   \"\\n\"\n\t   \"You can set 'receive.denyDeleteCurrent' configuration variable to\\n\"\n\t   \"'warn' or 'ignore' in the remote repository to allow deleting the\\n\"\n\t   \"current branch, with or without a warning message.\\n\"\n\t   \"\\n\"\n\t   \"To squelch this message, you can set it to 'refuse'.\")",
          "new_text": null,
          "old_line_content": "\tN_(\"By default, deleting the current branch is denied, because the next\\n\"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1301,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(refuse_unconfigured_deny_delete_current_msg)",
          "new_text": null,
          "old_line_content": "\trp_error(\"%s\", _(refuse_unconfigured_deny_delete_current_msg));",
          "new_line_content": "static void refuse_unconfigured_deny_delete_current(void)",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": "trace_printf_key",
          "new_api": null,
          "old_text": "trace_printf_key(&trace_shallow,\n\t\t\t \"shallow: update_shallow_ref %s\\n\", cmd->ref_name)",
          "new_text": null,
          "old_line_content": "\ttrace_printf_key(&trace_shallow,",
          "new_line_content": "\tint i;",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "delayed_reachability_test",
          "new_api": null,
          "old_text": "delayed_reachability_test(si, i)",
          "new_text": null,
          "old_line_content": "\t\t    !delayed_reachability_test(si, i))",
          "new_line_content": "\t\tif (si->used_shallow[i] &&",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": "oid_array_append",
          "new_api": null,
          "old_text": "oid_array_append(&extra, &si->shallow->oid[i])",
          "new_text": null,
          "old_line_content": "\t\t\toid_array_append(&extra, &si->shallow->oid[i]);",
          "new_line_content": "\t\t    (si->used_shallow[i][cmd->index / 32] & mask) &&",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": "setup_alternate_shallow",
          "new_api": null,
          "old_text": "setup_alternate_shallow(&shallow_lock, &opt.shallow_file, &extra)",
          "new_text": null,
          "old_line_content": "\tsetup_alternate_shallow(&shallow_lock, &opt.shallow_file, &extra);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "commit_shallow_file",
          "new_api": null,
          "old_text": "commit_shallow_file(the_repository, &shallow_lock)",
          "new_text": null,
          "old_line_content": "\tcommit_shallow_file(the_repository, &shallow_lock);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": "register_shallow",
          "new_api": null,
          "old_text": "register_shallow(the_repository, &extra.oid[i])",
          "new_text": null,
          "old_line_content": "\t\tregister_shallow(the_repository, &extra.oid[i]);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": "oid_array_clear",
          "new_api": null,
          "old_text": "oid_array_clear(&extra)",
          "new_text": null,
          "old_line_content": "\toid_array_clear(&extra);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": "repo_get_oid",
          "new_api": null,
          "old_text": "repo_get_oid(the_repository, \"HEAD\", &oid)",
          "new_text": null,
          "old_line_content": "\treturn !repo_get_oid(the_repository, \"HEAD\", &oid);",
          "new_line_content": "\tstruct object_id oid;",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": "strvec_pushl",
          "new_api": null,
          "old_text": "strvec_pushl(&child.args, \"update-index\", \"-q\", \"--ignore-submodules\",\n\t\t     \"--refresh\", NULL)",
          "new_text": null,
          "old_line_content": "\tstrvec_pushl(&child.args, \"update-index\", \"-q\", \"--ignore-submodules\",",
          "new_line_content": "\tstruct child_process child = CHILD_PROCESS_INIT;",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "run_command",
          "new_api": null,
          "old_text": "run_command(&child)",
          "new_text": null,
          "old_line_content": "\tif (run_command(&child))",
          "new_line_content": "\tchild.stdout_to_stderr = 1;",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": "child_process_init",
          "new_api": null,
          "old_text": "child_process_init(&child)",
          "new_text": null,
          "old_line_content": "\tchild_process_init(&child);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": "strvec_pushl",
          "new_api": null,
          "old_text": "strvec_pushl(&child.args, \"diff-files\", \"--quiet\",\n\t\t     \"--ignore-submodules\", \"--\", NULL)",
          "new_text": null,
          "old_line_content": "\tstrvec_pushl(&child.args, \"diff-files\", \"--quiet\",",
          "new_line_content": "\t/* run_command() does not clean up completely; reinitialize */",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "run_command",
          "new_api": null,
          "old_text": "run_command(&child)",
          "new_text": null,
          "old_line_content": "\tif (run_command(&child))",
          "new_line_content": "\tchild.stdout_to_stderr = 1;",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": "child_process_init",
          "new_api": null,
          "old_text": "child_process_init(&child)",
          "new_text": null,
          "old_line_content": "\tchild_process_init(&child);",
          "new_line_content": "\t\treturn \"Working directory has unstaged changes\";",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "strvec_pushl",
          "new_api": null,
          "old_text": "strvec_pushl(&child.args, \"diff-index\", \"--quiet\", \"--cached\",\n\t\t     \"--ignore-submodules\",\n\t\t     /* diff-index with either HEAD or an empty tree */\n\t\t     head_has_history() ? \"HEAD\" : empty_tree_oid_hex(),\n\t\t     \"--\", NULL)",
          "new_text": null,
          "old_line_content": "\tstrvec_pushl(&child.args, \"diff-index\", \"--quiet\", \"--cached\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": "empty_tree_oid_hex",
          "new_api": null,
          "old_text": "empty_tree_oid_hex()",
          "new_text": null,
          "old_line_content": "\t\t     head_has_history() ? \"HEAD\" : empty_tree_oid_hex(),",
          "new_line_content": "\t\t     \"--ignore-submodules\",",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": "run_command",
          "new_api": null,
          "old_text": "run_command(&child)",
          "new_text": null,
          "old_line_content": "\tif (run_command(&child))",
          "new_line_content": "\tchild.stdout_to_stderr = 0;",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": "child_process_init",
          "new_api": null,
          "old_text": "child_process_init(&child)",
          "new_text": null,
          "old_line_content": "\tchild_process_init(&child);",
          "new_line_content": "\t\treturn \"Working directory has staged changes\";",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "hash_to_hex",
          "new_api": null,
          "old_text": "hash_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\tstrvec_pushl(&child.args, \"read-tree\", \"-u\", \"-m\", hash_to_hex(sha1),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "run_command",
          "new_api": null,
          "old_text": "run_command(&child)",
          "new_text": null,
          "old_line_content": "\tif (run_command(&child))",
          "new_line_content": "\tchild.stdout_to_stderr = 0;",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "absolute_path",
          "new_api": null,
          "old_text": "absolute_path(work_tree)",
          "new_text": null,
          "old_line_content": "\tstrvec_pushf(env, \"GIT_WORK_TREE=%s\", absolute_path(work_tree));",
          "new_line_content": "\topt.invoked_hook = invoked_hook;",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": "strvec_pushv",
          "new_api": null,
          "old_text": "strvec_pushv(&opt.env, env->v)",
          "new_text": null,
          "old_line_content": "\tstrvec_pushv(&opt.env, env->v);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": "BUG",
          "new_api": null,
          "old_text": "BUG(\"worktree->path must be non-NULL\")",
          "new_text": null,
          "old_line_content": "\t\tBUG(\"worktree->path must be non-NULL\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": "get_worktree_git_dir",
          "new_api": null,
          "old_text": "get_worktree_git_dir(worktree)",
          "new_text": null,
          "old_line_content": "\tgit_dir = get_worktree_git_dir(worktree);",
          "new_line_content": "\tif (worktree->is_bare)",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": "get_worktrees",
          "new_api": null,
          "old_text": "get_worktrees()",
          "new_text": null,
          "old_line_content": "\tstruct worktree **worktrees = get_worktrees();",
          "new_line_content": "\tstruct object_id *new_oid = &cmd->new_oid;",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": "starts_with",
          "new_api": null,
          "old_text": "starts_with(name, \"refs/\")",
          "new_text": null,
          "old_line_content": "\tif (!starts_with(name, \"refs/\") ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": "is_null_oid",
          "new_api": null,
          "old_text": "is_null_oid(new_oid)",
          "new_text": null,
          "old_line_content": "\t    check_refname_format(name + 5, is_null_oid(new_oid) ?",
          "new_line_content": "\t/* only refs/... are allowed */",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": "get_git_namespace",
          "new_api": null,
          "old_text": "get_git_namespace()",
          "new_text": null,
          "old_line_content": "\tstrbuf_addf(&namespaced_name_buf, \"%s%s\", get_git_namespace(), name);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(namespaced_name)",
          "new_text": null,
          "old_line_content": "\tfree(namespaced_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": "rp_warning",
          "new_api": null,
          "old_text": "rp_warning(\"updating the current branch\")",
          "new_text": null,
          "old_line_content": "\t\t\trp_warning(\"updating the current branch\");",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": "rp_error",
          "new_api": null,
          "old_text": "rp_error(\"refusing to update checked out branch: %s\", name)",
          "new_text": null,
          "old_line_content": "\t\t\trp_error(\"refusing to update checked out branch: %s\", name);",
          "new_line_content": "\t\tcase DENY_REFUSE:",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": "repo_has_object_file",
          "new_api": null,
          "old_text": "repo_has_object_file(the_repository, new_oid)",
          "new_text": null,
          "old_line_content": "\tif (!is_null_oid(new_oid) && !repo_has_object_file(the_repository, new_oid)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"unpack should have generated %s, \"\n\t\t      \"but I can't find it!\", oid_to_hex(new_oid))",
          "new_text": null,
          "old_line_content": "\t\terror(\"unpack should have generated %s, \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": "is_null_oid",
          "new_api": null,
          "old_text": "is_null_oid(new_oid)",
          "new_text": null,
          "old_line_content": "\tif (!is_null_oid(old_oid) && is_null_oid(new_oid)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1513,
          "old_api": "starts_with",
          "new_api": null,
          "old_text": "starts_with(name, \"refs/heads/\")",
          "new_text": null,
          "old_line_content": "\t\tif (deny_deletes && starts_with(name, \"refs/heads/\")) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(namespaced_name, head_name)",
          "new_text": null,
          "old_line_content": "\t\tif (worktree || (head_name && !strcmp(namespaced_name, head_name))) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": "rp_warning",
          "new_api": null,
          "old_text": "rp_warning(\"deleting the current branch\")",
          "new_text": null,
          "old_line_content": "\t\t\t\trp_warning(\"deleting the current branch\");",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": "refuse_unconfigured_deny_delete_current",
          "new_api": null,
          "old_text": "refuse_unconfigured_deny_delete_current()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\trefuse_unconfigured_deny_delete_current();",
          "new_line_content": "\t\t\tcase DENY_UPDATE_INSTEAD:",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": "rp_error",
          "new_api": null,
          "old_text": "rp_error(\"refusing to delete the current branch: %s\", name)",
          "new_text": null,
          "old_line_content": "\t\t\t\trp_error(\"refusing to delete the current branch: %s\", name);",
          "new_line_content": "\t\t\t\tif (deny_delete_current == DENY_UNCONFIGURED)",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": "is_null_oid",
          "new_api": null,
          "old_text": "is_null_oid(new_oid)",
          "new_text": null,
          "old_line_content": "\tif (deny_non_fast_forwards && !is_null_oid(new_oid) &&",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": "is_null_oid",
          "new_api": null,
          "old_text": "is_null_oid(old_oid)",
          "new_text": null,
          "old_line_content": "\t    !is_null_oid(old_oid) &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": "parse_object",
          "new_api": null,
          "old_text": "parse_object(the_repository, old_oid)",
          "new_text": null,
          "old_line_content": "\t\told_object = parse_object(the_repository, old_oid);",
          "new_line_content": "\t\tstruct commit *old_commit, *new_commit;",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": "parse_object",
          "new_api": null,
          "old_text": "parse_object(the_repository, new_oid)",
          "new_text": null,
          "old_line_content": "\t\tnew_object = parse_object(the_repository, new_oid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"bad sha1 objects for %s\", name)",
          "new_text": null,
          "old_line_content": "\t\t\terror(\"bad sha1 objects for %s\", name);",
          "new_line_content": "\t\t    old_object->type != OBJ_COMMIT ||",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "repo_in_merge_bases",
          "new_api": null,
          "old_text": "repo_in_merge_bases(the_repository, old_commit, new_commit)",
          "new_text": null,
          "old_line_content": "\t\tif (!repo_in_merge_bases(the_repository, old_commit, new_commit)) {",
          "new_line_content": "\t\told_commit = (struct commit *)old_object;",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": "rp_error",
          "new_api": null,
          "old_text": "rp_error(\"denying non-fast-forward %s\"\n\t\t\t\t \" (you should pull first)\", name)",
          "new_text": null,
          "old_line_content": "\t\t\trp_error(\"denying non-fast-forward %s\"",
          "new_line_content": "\t\tnew_commit = (struct commit *)new_object;",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": "run_update_hook",
          "new_api": null,
          "old_text": "run_update_hook(cmd)",
          "new_text": null,
          "old_line_content": "\tif (run_update_hook(cmd)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": "rp_error",
          "new_api": null,
          "old_text": "rp_error(\"hook declined to update %s\", name)",
          "new_text": null,
          "old_line_content": "\t\trp_error(\"hook declined to update %s\", name);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": "update_worktree",
          "new_api": null,
          "old_text": "update_worktree(new_oid->hash, worktree)",
          "new_text": null,
          "old_line_content": "\t\tret = update_worktree(new_oid->hash, worktree);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": "is_null_oid",
          "new_api": null,
          "old_text": "is_null_oid(new_oid)",
          "new_text": null,
          "old_line_content": "\tif (is_null_oid(new_oid)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": "rp_warning",
          "new_api": null,
          "old_text": "rp_warning(\"allowing deletion of corrupt ref\")",
          "new_text": null,
          "old_line_content": "\t\t\t\trp_warning(\"allowing deletion of corrupt ref\");",
          "new_line_content": "\t\t\told_oid = NULL;",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": "ref_transaction_delete",
          "new_api": null,
          "old_text": "ref_transaction_delete(transaction,\n\t\t\t\t\t   namespaced_name,\n\t\t\t\t\t   old_oid,\n\t\t\t\t\t   0, \"push\", &err)",
          "new_text": null,
          "old_line_content": "\t\tif (ref_transaction_delete(transaction,",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": "rp_error",
          "new_api": null,
          "old_text": "rp_error(\"%s\", err.buf)",
          "new_text": null,
          "old_line_content": "\t\t\trp_error(\"%s\", err.buf);",
          "new_line_content": "\t\t\t\t\t   old_oid,",
          "content_same": false
        },
        {
          "line": 1598,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&err)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_release(&err);",
          "new_line_content": "\t\t\tret = NULL; /* good */",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": "update_shallow_ref",
          "new_api": null,
          "old_text": "update_shallow_ref(cmd, si)",
          "new_text": null,
          "old_line_content": "\t\t    update_shallow_ref(cmd, si)) {",
          "new_line_content": "\t\tstruct strbuf err = STRBUF_INIT;",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": "ref_transaction_update",
          "new_api": null,
          "old_text": "ref_transaction_update(transaction,\n\t\t\t\t\t   namespaced_name,\n\t\t\t\t\t   new_oid, old_oid,\n\t\t\t\t\t   0, \"push\",\n\t\t\t\t\t   &err)",
          "new_text": null,
          "old_line_content": "\t\tif (ref_transaction_update(transaction,",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": "rp_error",
          "new_api": null,
          "old_text": "rp_error(\"%s\", err.buf)",
          "new_text": null,
          "old_line_content": "\t\t\trp_error(\"%s\", err.buf);",
          "new_line_content": "\t\t\t\t\t   0, \"push\",",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&err)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_release(&err);",
          "new_line_content": "\t\t\tret = NULL; /* good */",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": "free_worktrees",
          "new_api": null,
          "old_text": "free_worktrees(worktrees)",
          "new_text": null,
          "old_line_content": "\tfree_worktrees(worktrees);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": "find_hook",
          "new_api": null,
          "old_text": "find_hook(\"post-update\")",
          "new_text": null,
          "old_line_content": "\thook = find_hook(\"post-update\");",
          "new_line_content": "\tconst char *hook;",
          "content_same": false
        },
        {
          "line": 1640,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&proc.args, hook)",
          "new_text": null,
          "old_line_content": "\t\t\tstrvec_push(&proc.args, hook);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": "strvec_push",
          "new_api": null,
          "old_text": "strvec_push(&proc.args, cmd->ref_name)",
          "new_text": null,
          "old_line_content": "\t\tstrvec_push(&proc.args, cmd->ref_name);",
          "new_line_content": "\t\tif (!proc.args.nr)",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "start_command",
          "new_api": null,
          "old_text": "start_command(&proc)",
          "new_text": null,
          "old_line_content": "\tif (!start_command(&proc)) {",
          "new_line_content": "\tproc.trace2_hook_name = \"post-update\";",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": "finish_command",
          "new_api": null,
          "old_text": "finish_command(&proc)",
          "new_text": null,
          "old_line_content": "\t\tfinish_command(&proc);",
          "new_line_content": "\t\tif (use_sideband)",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": "rp_error",
          "new_api": null,
          "old_text": "rp_error(\"refusing update to broken symref '%s'\", cmd->ref_name)",
          "new_text": null,
          "old_line_content": "\t\trp_error(\"refusing update to broken symref '%s'\", cmd->ref_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1674,
          "old_api": "strip_namespace",
          "new_api": null,
          "old_text": "strip_namespace(dst_name)",
          "new_text": null,
          "old_line_content": "\tdst_name = strip_namespace(dst_name);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": "oideq",
          "new_api": null,
          "old_text": "oideq(&cmd->old_oid, &dst_cmd->old_oid)",
          "new_text": null,
          "old_line_content": "\tif (oideq(&cmd->old_oid, &dst_cmd->old_oid) &&",
          "new_line_content": "\tdst_cmd = (struct command *) item->util;",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": "oideq",
          "new_api": null,
          "old_text": "oideq(&cmd->new_oid, &dst_cmd->new_oid)",
          "new_text": null,
          "old_line_content": "\t    oideq(&cmd->new_oid, &dst_cmd->new_oid))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1689,
          "old_api": "rp_error",
          "new_api": null,
          "old_text": "rp_error(\"refusing inconsistent update between symref '%s' (%s..%s) and\"\n\t\t \" its target '%s' (%s..%s)\",\n\t\t cmd->ref_name,\n\t\t repo_find_unique_abbrev(the_repository, &cmd->old_oid, DEFAULT_ABBREV),\n\t\t repo_find_unique_abbrev(the_repository, &cmd->new_oid, DEFAULT_ABBREV),\n\t\t dst_cmd->ref_name,\n\t\t repo_find_unique_abbrev(the_repository, &dst_cmd->old_oid, DEFAULT_ABBREV),\n\t\t repo_find_unique_abbrev(the_repository, &dst_cmd->new_oid, DEFAULT_ABBREV))",
          "new_text": null,
          "old_line_content": "\trp_error(\"refusing inconsistent update between symref '%s' (%s..%s) and\"",
          "new_line_content": "\tdst_cmd->skip_update = 1;",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "repo_find_unique_abbrev",
          "new_api": null,
          "old_text": "repo_find_unique_abbrev(the_repository, &cmd->old_oid, DEFAULT_ABBREV)",
          "new_text": null,
          "old_line_content": "\t\t repo_find_unique_abbrev(the_repository, &cmd->old_oid, DEFAULT_ABBREV),",
          "new_line_content": "\t\t \" its target '%s' (%s..%s)\",",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": "repo_find_unique_abbrev",
          "new_api": null,
          "old_text": "repo_find_unique_abbrev(the_repository, &cmd->new_oid, DEFAULT_ABBREV)",
          "new_text": null,
          "old_line_content": "\t\t repo_find_unique_abbrev(the_repository, &cmd->new_oid, DEFAULT_ABBREV),",
          "new_line_content": "\t\t cmd->ref_name,",
          "content_same": false
        },
        {
          "line": 1696,
          "old_api": "repo_find_unique_abbrev",
          "new_api": null,
          "old_text": "repo_find_unique_abbrev(the_repository, &dst_cmd->new_oid, DEFAULT_ABBREV)",
          "new_text": null,
          "old_line_content": "\t\t repo_find_unique_abbrev(the_repository, &dst_cmd->new_oid, DEFAULT_ABBREV));",
          "new_line_content": "\t\t dst_cmd->ref_name,",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": "get_git_namespace",
          "new_api": null,
          "old_text": "get_git_namespace()",
          "new_text": null,
          "old_line_content": "\tstrbuf_addf(&buf, \"%s%s\", get_git_namespace(), cmd->ref_name);",
          "new_line_content": "\tint flag;",
          "content_same": false
        },
        {
          "line": 1709,
          "old_api": "resolve_ref_unsafe",
          "new_api": null,
          "old_text": "resolve_ref_unsafe(buf.buf, 0, NULL, &flag)",
          "new_text": null,
          "old_line_content": "\tdst_name = resolve_ref_unsafe(buf.buf, 0, NULL, &flag);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": "string_list_append",
          "new_api": null,
          "old_text": "string_list_append(&ref_list, cmd->ref_name)",
          "new_text": null,
          "old_line_content": "\t\t\tstring_list_append(&ref_list, cmd->ref_name);",
          "new_line_content": "\tfor (cmd = commands; cmd; cmd = cmd->next) {",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": "string_list_sort",
          "new_api": null,
          "old_text": "string_list_sort(&ref_list)",
          "new_text": null,
          "old_line_content": "\tstring_list_sort(&ref_list);",
          "new_line_content": "\t\titem->util = (void *)cmd;",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": "check_aliased_update",
          "new_api": null,
          "old_text": "check_aliased_update(cmd, &ref_list)",
          "new_text": null,
          "old_line_content": "\t\t\tcheck_aliased_update(cmd, &ref_list);",
          "new_line_content": "\tfor (cmd = commands; cmd; cmd = cmd->next) {",
          "content_same": false
        },
        {
          "line": 1731,
          "old_api": "string_list_clear",
          "new_api": null,
          "old_text": "string_list_clear(&ref_list, 0)",
          "new_text": null,
          "old_line_content": "\tstring_list_clear(&ref_list, 0);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": "is_null_oid",
          "new_api": null,
          "old_text": "is_null_oid(&cmd->new_oid)",
          "new_text": null,
          "old_line_content": "\tif (!cmd || is_null_oid(&cmd->new_oid))",
          "new_line_content": "\tstruct command *cmd = *cmd_list;",
          "content_same": false
        },
        {
          "line": 1758,
          "old_api": "tmp_objdir_env",
          "new_api": null,
          "old_text": "tmp_objdir_env(tmp_objdir)",
          "new_text": null,
          "old_line_content": "\t\topt.env = tmp_objdir_env(tmp_objdir);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": "check_connected",
          "new_api": null,
          "old_text": "check_connected(command_singleton_iterator, &singleton,\n\t\t\t\t     &opt)",
          "new_text": null,
          "old_line_content": "\t\tif (!check_connected(command_singleton_iterator, &singleton,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": "is_null_oid",
          "new_api": null,
          "old_text": "is_null_oid(&cmd->new_oid)",
          "new_text": null,
          "old_line_content": "\t\tif (!is_null_oid(&cmd->new_oid) && !cmd->skip_update) {",
          "new_line_content": "\t\t\t/* to be checked in update_shallow_ref() */",
          "content_same": false
        },
        {
          "line": 1796,
          "old_api": "get_git_namespace",
          "new_api": null,
          "old_text": "get_git_namespace()",
          "new_text": null,
          "old_line_content": "\tstrbuf_addstr(&refname_full, get_git_namespace());",
          "new_line_content": "\tstruct command *cmd;",
          "content_same": false
        },
        {
          "line": 1803,
          "old_api": "strbuf_setlen",
          "new_api": null,
          "old_text": "strbuf_setlen(&refname_full, prefix_len)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_setlen(&refname_full, prefix_len);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1804,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(&refname_full, cmd->ref_name)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addstr(&refname_full, cmd->ref_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1814,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&refname_full)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&refname_full);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": "should_process_cmd",
          "new_api": null,
          "old_text": "should_process_cmd(cmd)",
          "new_text": null,
          "old_line_content": "\t\tif (should_process_cmd(cmd) && si->shallow_ref[cmd->index])",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": "bug",
          "new_api": null,
          "old_text": "bug(\"connectivity check has not been run on ref %s\",\n\t\t\t    cmd->ref_name)",
          "new_text": null,
          "old_line_content": "\t\t\tbug(\"connectivity check has not been run on ref %s\",",
          "new_line_content": "\tfor (cmd = commands; cmd; cmd = cmd->next) {",
          "content_same": false
        },
        {
          "line": 1832,
          "old_api": "BUG_if_bug",
          "new_api": null,
          "old_text": "BUG_if_bug(\"connectivity check skipped???\")",
          "new_text": null,
          "old_line_content": "\tBUG_if_bug(\"connectivity check skipped???\");",
          "new_line_content": "\t\t\t    cmd->ref_name);",
          "content_same": false
        },
        {
          "line": 1842,
          "old_api": "should_process_cmd",
          "new_api": null,
          "old_text": "should_process_cmd(cmd)",
          "new_text": null,
          "old_line_content": "\t\tif (!should_process_cmd(cmd) || cmd->run_proc_receive)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1845,
          "old_api": "ref_transaction_begin",
          "new_api": null,
          "old_text": "ref_transaction_begin(&err)",
          "new_text": null,
          "old_line_content": "\t\ttransaction = ref_transaction_begin(&err);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1848,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(&err)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_reset(&err);",
          "new_line_content": "\t\tif (!transaction) {",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": "update",
          "new_api": null,
          "old_text": "update(cmd, si)",
          "new_text": null,
          "old_line_content": "\t\tcmd->error_string = update(cmd, si);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1856,
          "old_api": "ref_transaction_commit",
          "new_api": null,
          "old_text": "ref_transaction_commit(transaction, &err)",
          "new_text": null,
          "old_line_content": "\t\t    && ref_transaction_commit(transaction, &err)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": "rp_error",
          "new_api": null,
          "old_text": "rp_error(\"%s\", err.buf)",
          "new_text": null,
          "old_line_content": "\t\t\trp_error(\"%s\", err.buf);",
          "new_line_content": "\t\tif (!cmd->error_string",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": "ref_transaction_free",
          "new_api": null,
          "old_text": "ref_transaction_free(transaction)",
          "new_text": null,
          "old_line_content": "\t\tref_transaction_free(transaction);",
          "new_line_content": "\t\t\tcmd->error_string = \"failed to update ref\";",
          "content_same": false
        },
        {
          "line": 1873,
          "old_api": "ref_transaction_begin",
          "new_api": null,
          "old_text": "ref_transaction_begin(&err)",
          "new_text": null,
          "old_line_content": "\ttransaction = ref_transaction_begin(&err);",
          "new_line_content": "\tconst char *reported_error = \"atomic push failure\";",
          "content_same": false
        },
        {
          "line": 1876,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(&err)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_reset(&err);",
          "new_line_content": "\tif (!transaction) {",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": "should_process_cmd",
          "new_api": null,
          "old_text": "should_process_cmd(cmd)",
          "new_text": null,
          "old_line_content": "\t\tif (!should_process_cmd(cmd) || cmd->run_proc_receive)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1885,
          "old_api": "update",
          "new_api": null,
          "old_text": "update(cmd, si)",
          "new_text": null,
          "old_line_content": "\t\tcmd->error_string = update(cmd, si);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": "ref_transaction_commit",
          "new_api": null,
          "old_text": "ref_transaction_commit(transaction, &err)",
          "new_text": null,
          "old_line_content": "\tif (ref_transaction_commit(transaction, &err)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1892,
          "old_api": "rp_error",
          "new_api": null,
          "old_text": "rp_error(\"%s\", err.buf)",
          "new_text": null,
          "old_line_content": "\t\trp_error(\"%s\", err.buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1904,
          "old_api": "ref_transaction_free",
          "new_api": null,
          "old_text": "ref_transaction_free(transaction)",
          "new_text": null,
          "old_line_content": "\tref_transaction_free(transaction);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1905,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&err)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&err);",
          "new_line_content": "cleanup:",
          "content_same": false
        },
        {
          "line": 1927,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&muxer, 0, sizeof(muxer))",
          "new_text": null,
          "old_line_content": "\t\tmemset(&muxer, 0, sizeof(muxer));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": "start_async",
          "new_api": null,
          "old_text": "start_async(&muxer)",
          "new_text": null,
          "old_line_content": "\t\tif (!start_async(&muxer))",
          "new_line_content": "\t\tmuxer.proc = copy_to_sideband;",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": "tmp_objdir_env",
          "new_api": null,
          "old_text": "tmp_objdir_env(tmp_objdir)",
          "new_text": null,
          "old_line_content": "\topt.env = tmp_objdir_env(tmp_objdir);",
          "new_line_content": "\topt.err_fd = err_fd;",
          "content_same": false
        },
        {
          "line": 1942,
          "old_api": "check_connected",
          "new_api": null,
          "old_text": "check_connected(iterate_receive_command_list, &data, &opt)",
          "new_text": null,
          "old_line_content": "\tif (check_connected(iterate_receive_command_list, &data, &opt))",
          "new_line_content": "\topt.exclude_hidden_refs_section = \"receive\";",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": "set_connectivity_errors",
          "new_api": null,
          "old_text": "set_connectivity_errors(commands, si)",
          "new_text": null,
          "old_line_content": "\t\tset_connectivity_errors(commands, si);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1946,
          "old_api": "finish_async",
          "new_api": null,
          "old_text": "finish_async(&muxer)",
          "new_text": null,
          "old_line_content": "\t\tfinish_async(&muxer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "should_process_cmd",
          "new_api": null,
          "old_text": "should_process_cmd(cmd)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!should_process_cmd(cmd))",
          "new_line_content": "\tif (proc_receive_ref) {",
          "content_same": false
        },
        {
          "line": 1959,
          "old_api": "proc_receive_ref_matches",
          "new_api": null,
          "old_text": "proc_receive_ref_matches(cmd)",
          "new_text": null,
          "old_line_content": "\t\t\tif (proc_receive_ref_matches(cmd)) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1966,
          "old_api": "run_receive_hook",
          "new_api": null,
          "old_text": "run_receive_hook(commands, \"pre-receive\", 0, push_options)",
          "new_text": null,
          "old_line_content": "\tif (run_receive_hook(commands, \"pre-receive\", 0, push_options)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": "tmp_objdir_migrate",
          "new_api": null,
          "old_text": "tmp_objdir_migrate(tmp_objdir)",
          "new_text": null,
          "old_line_content": "\tif (tmp_objdir_migrate(tmp_objdir) < 0) {",
          "new_line_content": "\t * to be in their final positions so that other processes can see them.",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": "check_aliased_updates",
          "new_api": null,
          "old_text": "check_aliased_updates(commands)",
          "new_text": null,
          "old_line_content": "\tcheck_aliased_updates(commands);",
          "new_line_content": "\ttmp_objdir = NULL;",
          "content_same": false
        },
        {
          "line": 1999,
          "old_api": "resolve_refdup",
          "new_api": null,
          "old_text": "resolve_refdup(\"HEAD\", 0, NULL, NULL)",
          "new_text": null,
          "old_line_content": "\thead_name = head_name_to_free = resolve_refdup(\"HEAD\", 0, NULL, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": "run_proc_receive_hook",
          "new_api": null,
          "old_text": "run_proc_receive_hook(commands, push_options)",
          "new_text": null,
          "old_line_content": "\t    run_proc_receive_hook(commands, push_options))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2010,
          "old_api": "execute_commands_atomic",
          "new_api": null,
          "old_text": "execute_commands_atomic(commands, si)",
          "new_text": null,
          "old_line_content": "\t\texecute_commands_atomic(commands, si);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": "BUG_if_skipped_connectivity_check",
          "new_api": null,
          "old_text": "BUG_if_skipped_connectivity_check(commands, si)",
          "new_text": null,
          "old_line_content": "\t\tBUG_if_skipped_connectivity_check(commands, si);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": "parse_oid_hex",
          "new_api": null,
          "old_text": "parse_oid_hex(line, &old_oid, &p)",
          "new_text": null,
          "old_line_content": "\tif (parse_oid_hex(line, &old_oid, &p) ||",
          "new_line_content": "\tconst char *p;",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": "FLEX_ALLOC_MEM",
          "new_api": null,
          "old_text": "FLEX_ALLOC_MEM(cmd, ref_name, refname, reflen)",
          "new_text": null,
          "old_line_content": "\tFLEX_ALLOC_MEM(cmd, ref_name, refname, reflen);",
          "new_line_content": "\trefname = p;",
          "content_same": false
        },
        {
          "line": 2037,
          "old_api": "oidcpy",
          "new_api": null,
          "old_text": "oidcpy(&cmd->old_oid, &old_oid)",
          "new_text": null,
          "old_line_content": "\toidcpy(&cmd->old_oid, &old_oid);",
          "new_line_content": "\treflen = linelen - (p - line);",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 135,
      "total_additions": 367,
      "total_deletions": 366,
      "total_api_changes": 868
    },
    "non_api_changes": {
      "has_non_api_changes": false,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 868,
        "non_api_lines": 0,
        "non_api_line_numbers": []
      }
    },
    "api_calls_before": 629,
    "api_calls_after": 631,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 1,
      "total_diff_lines": 16
    }
  }
}