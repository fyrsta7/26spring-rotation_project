{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/e5494631ed94017da862d55eb6393a0d01d8b91d",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/e5494631ed94017da862d55eb6393a0d01d8b91d/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/e5494631ed94017da862d55eb6393a0d01d8b91d/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/e5494631ed94017da862d55eb6393a0d01d8b91d/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1044,
          "old_api": "remove_index_entry_at",
          "new_api": "untracked_cache_add_to_index",
          "old_text": "remove_index_entry_at(istate, pos)",
          "new_text": "untracked_cache_add_to_index(istate, ce->name)",
          "old_line_content": "\t\t\tif (!remove_index_entry_at(istate, pos))",
          "new_line_content": "\t\tuntracked_cache_add_to_index(istate, ce->name);",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "verify_path",
          "new_api": "ce_same_name",
          "old_text": "verify_path(ce->name)",
          "new_text": "ce_same_name(istate->cache[pos], ce)",
          "old_line_content": "\tif (!verify_path(ce->name))",
          "new_line_content": "\t\twhile (ce_same_name(istate->cache[pos], ce)) {",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "ce_mark_uptodate",
          "new_api": "ce_uptodate",
          "old_text": "ce_mark_uptodate(ce)",
          "new_text": "ce_uptodate(ce)",
          "old_line_content": "\t\tce_mark_uptodate(ce);",
          "new_line_content": "\tif (!refresh || ce_uptodate(ce))",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "ce_namelen",
          "new_api": "ce_skip_worktree",
          "old_text": "ce_namelen(ce)",
          "new_text": "ce_skip_worktree(ce)",
          "old_line_content": "\tif (has_symlink_leading_path(ce->name, ce_namelen(ce))) {",
          "new_line_content": "\tif (!ignore_skip_worktree && ce_skip_worktree(ce)) {",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "fill_stat_cache_info",
          "new_api": "ie_modified",
          "old_text": "fill_stat_cache_info(updated, &st)",
          "new_text": "ie_modified(istate, ce, &st, options)",
          "old_line_content": "\tfill_stat_cache_info(updated, &st);",
          "new_line_content": "\tif (ie_modified(istate, ce, &st, options)) {",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": "_",
          "new_api": "getenv",
          "old_text": "_(\"index.version set, but the value is invalid.\\n\"\n\t\t\t\t  \"Using version %i\")",
          "new_text": "getenv(\"GIT_INDEX_VERSION\")",
          "old_line_content": "\t\t\twarning(_(\"index.version set, but the value is invalid.\\n\"",
          "new_line_content": "\tchar *envversion = getenv(\"GIT_INDEX_VERSION\");",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "error",
          "new_api": "htonl",
          "old_text": "error(\"bad index file sha1 signature\")",
          "new_text": "htonl(CACHE_SIGNATURE)",
          "old_line_content": "\t\treturn error(\"bad index file sha1 signature\");",
          "new_line_content": "\tif (hdr->hdr_signature != htonl(CACHE_SIGNATURE))",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": "CACHE_EXT",
          "new_api": "git_SHA1_Final",
          "old_text": "CACHE_EXT(ext)",
          "new_text": "git_SHA1_Final(sha1, &c)",
          "old_line_content": "\tswitch (CACHE_EXT(ext)) {",
          "new_line_content": "\tgit_SHA1_Final(sha1, &c);",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": "cache_tree_read",
          "new_api": "error",
          "old_text": "cache_tree_read(data, sz)",
          "new_text": "error(\"bad index file sha1 signature\")",
          "old_line_content": "\t\tistate->cache_tree = cache_tree_read(data, sz);",
          "new_line_content": "\t\treturn error(\"bad index file sha1 signature\");",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": "get_be32",
          "new_api": "cache_entry_size",
          "old_text": "get_be32(&ondisk->uid)",
          "new_text": "cache_entry_size(len)",
          "old_line_content": "\tce->ce_stat_data.sd_uid   = get_be32(&ondisk->uid);",
          "new_line_content": "\tstruct cache_entry *ce = xmalloc(cache_entry_size(len));",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "hashcpy",
          "new_api": "get_be32",
          "old_text": "hashcpy(ce->oid.hash, ondisk->sha1)",
          "new_text": "get_be32(&ondisk->dev)",
          "old_line_content": "\thashcpy(ce->oid.hash, ondisk->sha1);",
          "new_line_content": "\tce->ce_stat_data.sd_dev   = get_be32(&ondisk->dev);",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": "memcpy",
          "new_api": "get_be32",
          "old_text": "memcpy(ce->name, name, len)",
          "new_text": "get_be32(&ondisk->ino)",
          "old_line_content": "\tmemcpy(ce->name, name, len);",
          "new_line_content": "\tce->ce_stat_data.sd_ino   = get_be32(&ondisk->ino);",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "die",
          "new_api": "strcmp",
          "old_text": "die(\"unordered stage entries for '%s'\",\n\t\t\t\t    ce->name)",
          "new_text": "strcmp(ce->name, next_ce->name)",
          "old_line_content": "\t\t\t\tdie(\"unordered stage entries for '%s'\",",
          "new_line_content": "\t\tint name_compare = strcmp(ce->name, next_ce->name);",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": "git_config_get_untracked_cache",
          "new_api": "ce_stage",
          "old_text": "git_config_get_untracked_cache()",
          "new_text": "ce_stage(next_ce)",
          "old_line_content": "\tswitch (git_config_get_untracked_cache()) {",
          "new_line_content": "\t\t\tif (ce_stage(ce) > ce_stage(next_ce))",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": "git_config_get_split_index",
          "new_api": "add_untracked_cache",
          "old_text": "git_config_get_split_index()",
          "new_text": "add_untracked_cache(istate)",
          "old_line_content": "\tswitch (git_config_get_split_index()) {",
          "new_line_content": "\t\tadd_untracked_cache(istate);",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": "check_ce_order",
          "new_api": "add_split_index",
          "old_text": "check_ce_order(istate)",
          "new_text": "add_split_index(istate)",
          "old_line_content": "\tcheck_ce_order(istate);",
          "new_line_content": "\t\tadd_split_index(istate);",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": "die_errno",
          "new_api": "fstat",
          "old_text": "die_errno(\"unable to map index file\")",
          "new_text": "fstat(fd, &st)",
          "old_line_content": "\t\tdie_errno(\"unable to map index file\");",
          "new_line_content": "\tif (fstat(fd, &st))",
          "content_same": false
        },
        {
          "line": 1637,
          "old_api": "close",
          "new_api": "die_errno",
          "old_text": "close(fd)",
          "new_text": "die_errno(\"cannot stat the open index\")",
          "old_line_content": "\tclose(fd);",
          "new_line_content": "\t\tdie_errno(\"cannot stat the open index\");",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": "hashcpy",
          "new_api": "xmmap",
          "old_text": "hashcpy(istate->sha1, (const unsigned char *)hdr + mmap_size - 20)",
          "new_text": "xmmap(NULL, mmap_size, PROT_READ, MAP_PRIVATE, fd, 0)",
          "old_line_content": "\thashcpy(istate->sha1, (const unsigned char *)hdr + mmap_size - 20);",
          "new_line_content": "\tmmap = xmmap(NULL, mmap_size, PROT_READ, MAP_PRIVATE, fd, 0);",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": "ntohl",
          "new_api": "die_errno",
          "old_text": "ntohl(hdr->hdr_entries)",
          "new_text": "die_errno(\"unable to map index file\")",
          "old_line_content": "\tistate->cache_nr = ntohl(hdr->hdr_entries);",
          "new_line_content": "\t\tdie_errno(\"unable to map index file\");",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": "alloc_nr",
          "new_api": "close",
          "old_text": "alloc_nr(istate->cache_nr)",
          "new_text": "close(fd)",
          "old_line_content": "\tistate->cache_alloc = alloc_nr(istate->cache_nr);",
          "new_line_content": "\tclose(fd);",
          "content_same": false
        },
        {
          "line": 1689,
          "old_api": "munmap",
          "new_api": "ntohl",
          "old_text": "munmap(mmap, mmap_size)",
          "new_text": "ntohl(extsize)",
          "old_line_content": "\tmunmap(mmap, mmap_size);",
          "new_line_content": "\t\textsize = ntohl(extsize);",
          "content_same": false
        },
        {
          "line": 1730,
          "old_api": "discard_index",
          "new_api": "do_read_index",
          "old_text": "discard_index(split_index->base)",
          "new_text": "do_read_index(istate, path, 0)",
          "old_line_content": "\t\tdiscard_index(split_index->base);",
          "new_line_content": "\tret = do_read_index(istate, path, 0);",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": "sha1_to_hex",
          "new_api": "post_read_index_from",
          "old_text": "sha1_to_hex(split_index->base_sha1)",
          "new_text": "post_read_index_from(istate)",
          "old_line_content": "\tbase_sha1_hex = sha1_to_hex(split_index->base_sha1);",
          "new_line_content": "\t\tpost_read_index_from(istate);",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": "merge_base_index",
          "new_api": "sha1_to_hex",
          "old_text": "merge_base_index(istate)",
          "new_text": "sha1_to_hex(split_index->base_sha1)",
          "old_line_content": "\tmerge_base_index(istate);",
          "new_line_content": "\tbase_sha1_hex = sha1_to_hex(split_index->base_sha1);",
          "content_same": false
        },
        {
          "line": 1744,
          "old_api": "post_read_index_from",
          "new_api": "git_path",
          "old_text": "post_read_index_from(istate)",
          "new_text": "git_path(\"sharedindex.%s\", base_sha1_hex)",
          "old_line_content": "\tpost_read_index_from(istate);",
          "new_line_content": "\tbase_path = git_path(\"sharedindex.%s\", base_sha1_hex);",
          "content_same": false
        },
        {
          "line": 1787,
          "old_api": "ce_stage",
          "new_api": "free_untracked_cache",
          "old_text": "ce_stage(istate->cache[i])",
          "new_text": "free_untracked_cache(istate->untracked)",
          "old_line_content": "\t\tif (ce_stage(istate->cache[i]))",
          "new_line_content": "\tfree_untracked_cache(istate->untracked);",
          "content_same": false
        },
        {
          "line": 1846,
          "old_api": "git_SHA1_Update",
          "new_api": "ce_write",
          "old_text": "git_SHA1_Update(context, write_buffer, left)",
          "new_text": "ce_write(context, fd, &sz, 4)",
          "old_line_content": "\t\tgit_SHA1_Update(context, write_buffer, left);",
          "new_line_content": "\t\t(ce_write(context, fd, &sz, 4) < 0)) ? -1 : 0;",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": "hashcpy",
          "new_api": "htonl",
          "old_text": "hashcpy(ondisk->sha1, ce->oid.hash)",
          "new_text": "htonl(ce->ce_stat_data.sd_mtime.sec)",
          "old_line_content": "\thashcpy(ondisk->sha1, ce->oid.hash);",
          "new_line_content": "\tondisk->mtime.sec = htonl(ce->ce_stat_data.sd_mtime.sec);",
          "content_same": false
        },
        {
          "line": 1931,
          "old_api": "ce_namelen",
          "new_api": "htonl",
          "old_text": "ce_namelen(ce)",
          "new_text": "htonl(ce->ce_stat_data.sd_dev)",
          "old_line_content": "\tflags |= (ce_namelen(ce) >= CE_NAMEMASK ? CE_NAMEMASK : ce_namelen(ce));",
          "new_line_content": "\tondisk->dev  = htonl(ce->ce_stat_data.sd_dev);",
          "content_same": false
        },
        {
          "line": 1932,
          "old_api": "htons",
          "new_api": "htonl",
          "old_text": "htons(flags)",
          "new_text": "htonl(ce->ce_stat_data.sd_ino)",
          "old_line_content": "\tondisk->flags = htons(flags);",
          "new_line_content": "\tondisk->ino  = htonl(ce->ce_stat_data.sd_ino);",
          "content_same": false
        },
        {
          "line": 1936,
          "old_api": "htons",
          "new_api": "htonl",
          "old_text": "htons((ce->ce_flags & CE_EXTENDED_FLAGS) >> 16)",
          "new_text": "htonl(ce->ce_stat_data.sd_size)",
          "old_line_content": "\t\tondisk2->flags2 = htons((ce->ce_flags & CE_EXTENDED_FLAGS) >> 16);",
          "new_line_content": "\tondisk->size = htonl(ce->ce_stat_data.sd_size);",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": "copy_cache_entry_to_ondisk",
          "new_api": "encode_varint",
          "old_text": "copy_cache_entry_to_ondisk(ondisk, ce)",
          "new_text": "encode_varint(to_remove, to_remove_vi)",
          "old_line_content": "\t\tname = copy_cache_entry_to_ondisk(ondisk, ce);",
          "new_line_content": "\t\tprefix_size = encode_varint(to_remove, to_remove_vi);",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": "ce_namelen",
          "new_api": "offsetof",
          "old_text": "ce_namelen(ce)",
          "new_text": "offsetof(struct ondisk_cache_entry, name)",
          "old_line_content": "\t\t\t      ce->name + common, ce_namelen(ce) - common);",
          "new_line_content": "\t\t\tsize = offsetof(struct ondisk_cache_entry, name);",
          "content_same": false
        },
        {
          "line": 1995,
          "old_api": "free",
          "new_api": "strbuf_splice",
          "old_text": "free(ondisk)",
          "new_text": "strbuf_splice(previous_name, common, to_remove,\n\t\t\t      ce->name + common, ce_namelen(ce) - common)",
          "old_line_content": "\tfree(ondisk);",
          "new_line_content": "\t\tstrbuf_splice(previous_name, common, to_remove,",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": "htonl",
          "new_api": "init_split_index",
          "old_text": "htonl(CACHE_SIGNATURE)",
          "new_text": "init_split_index(istate)",
          "old_line_content": "\thdr.hdr_signature = htonl(CACHE_SIGNATURE);",
          "new_line_content": "\t\t\tinit_split_index(istate);",
          "content_same": false
        },
        {
          "line": 2115,
          "old_api": "is_racy_timestamp",
          "new_api": "git_SHA1_Init",
          "old_text": "is_racy_timestamp(istate, ce)",
          "new_text": "git_SHA1_Init(&c)",
          "old_line_content": "\t\tif (!ce_uptodate(ce) && is_racy_timestamp(istate, ce))",
          "new_line_content": "\tgit_SHA1_Init(&c);",
          "content_same": false
        },
        {
          "line": 2116,
          "old_api": "ce_smudge_racily_clean_entry",
          "new_api": "ce_write",
          "old_text": "ce_smudge_racily_clean_entry(ce)",
          "new_text": "ce_write(&c, newfd, &hdr, sizeof(hdr))",
          "old_line_content": "\t\t\tce_smudge_racily_clean_entry(ce);",
          "new_line_content": "\tif (ce_write(&c, newfd, &hdr, sizeof(hdr)) < 0)",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": "warning",
          "new_api": "is_racy_timestamp",
          "old_text": "warning(msg, ce->name)",
          "new_text": "is_racy_timestamp(istate, ce)",
          "old_line_content": "\t\t\t\twarning(msg, ce->name);",
          "new_line_content": "\t\tif (!ce_uptodate(ce) && is_racy_timestamp(istate, ce))",
          "content_same": false
        },
        {
          "line": 2126,
          "old_api": "error",
          "new_api": "is_null_oid",
          "old_text": "error(msg, ce->name)",
          "new_text": "is_null_oid(&ce->oid)",
          "old_line_content": "\t\t\t\treturn error(msg, ce->name);",
          "new_line_content": "\t\tif (is_null_oid(&ce->oid)) {",
          "content_same": false
        },
        {
          "line": 2131,
          "old_api": "strbuf_release",
          "new_api": "git_env_bool",
          "old_text": "strbuf_release(&previous_name_buf)",
          "new_text": "git_env_bool(\"GIT_ALLOW_NULL_SHA1\", 0)",
          "old_line_content": "\tstrbuf_release(&previous_name_buf);",
          "new_line_content": "\t\t\t\tallow = git_env_bool(\"GIT_ALLOW_NULL_SHA1\", 0);",
          "content_same": false
        },
        {
          "line": 2137,
          "old_api": "write_link_extension",
          "new_api": "ce_write_entry",
          "old_text": "write_link_extension(&sb, istate)",
          "new_text": "ce_write_entry(&c, newfd, ce, previous_name)",
          "old_line_content": "\t\terr = write_link_extension(&sb, istate) < 0 ||",
          "new_line_content": "\t\tif (ce_write_entry(&c, newfd, ce, previous_name) < 0)",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": "ce_write",
          "new_api": "strbuf_release",
          "old_text": "ce_write(&c, newfd, sb.buf, sb.len)",
          "new_text": "strbuf_release(&previous_name_buf)",
          "old_line_content": "\t\t\tce_write(&c, newfd, sb.buf, sb.len) < 0;",
          "new_line_content": "\tstrbuf_release(&previous_name_buf);",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": "write_index_ext_header",
          "new_api": "ce_write",
          "old_text": "write_index_ext_header(&c, newfd, CACHE_EXT_TREE, sb.len)",
          "new_text": "ce_write(&c, newfd, sb.buf, sb.len)",
          "old_line_content": "\t\terr = write_index_ext_header(&c, newfd, CACHE_EXT_TREE, sb.len) < 0",
          "new_line_content": "\t\t\tce_write(&c, newfd, sb.buf, sb.len) < 0;",
          "content_same": false
        },
        {
          "line": 2150,
          "old_api": "ce_write",
          "new_api": "strbuf_release",
          "old_text": "ce_write(&c, newfd, sb.buf, sb.len)",
          "new_text": "strbuf_release(&sb)",
          "old_line_content": "\t\t\t|| ce_write(&c, newfd, sb.buf, sb.len) < 0;",
          "new_line_content": "\t\tstrbuf_release(&sb);",
          "content_same": false
        },
        {
          "line": 2158,
          "old_api": "resolve_undo_write",
          "new_api": "write_index_ext_header",
          "old_text": "resolve_undo_write(&sb, istate->resolve_undo)",
          "new_text": "write_index_ext_header(&c, newfd, CACHE_EXT_TREE, sb.len)",
          "old_line_content": "\t\tresolve_undo_write(&sb, istate->resolve_undo);",
          "new_line_content": "\t\terr = write_index_ext_header(&c, newfd, CACHE_EXT_TREE, sb.len) < 0",
          "content_same": false
        },
        {
          "line": 2159,
          "old_api": "write_index_ext_header",
          "new_api": "ce_write",
          "old_text": "write_index_ext_header(&c, newfd, CACHE_EXT_RESOLVE_UNDO,\n\t\t\t\t\t     sb.len)",
          "new_text": "ce_write(&c, newfd, sb.buf, sb.len)",
          "old_line_content": "\t\terr = write_index_ext_header(&c, newfd, CACHE_EXT_RESOLVE_UNDO,",
          "new_line_content": "\t\t\t|| ce_write(&c, newfd, sb.buf, sb.len) < 0;",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": "write_index_ext_header",
          "new_api": "ce_write",
          "old_text": "write_index_ext_header(&c, newfd, CACHE_EXT_UNTRACKED,\n\t\t\t\t\t     sb.len)",
          "new_text": "ce_write(&c, newfd, sb.buf, sb.len)",
          "old_line_content": "\t\terr = write_index_ext_header(&c, newfd, CACHE_EXT_UNTRACKED,",
          "new_line_content": "\t\t\t|| ce_write(&c, newfd, sb.buf, sb.len) < 0;",
          "content_same": false
        },
        {
          "line": 2178,
          "old_api": "fstat",
          "new_api": "write_untracked_extension",
          "old_text": "fstat(newfd, &st)",
          "new_text": "write_untracked_extension(&sb, istate->untracked)",
          "old_line_content": "\tif (ce_flush(&c, newfd, istate->sha1) || fstat(newfd, &st))",
          "new_line_content": "\t\twrite_untracked_extension(&sb, istate->untracked);",
          "content_same": false
        },
        {
          "line": 2181,
          "old_api": "ST_MTIME_NSEC",
          "new_api": "ce_write",
          "old_text": "ST_MTIME_NSEC(st)",
          "new_text": "ce_write(&c, newfd, sb.buf, sb.len)",
          "old_line_content": "\tistate->timestamp.nsec = ST_MTIME_NSEC(st);",
          "new_line_content": "\t\t\tce_write(&c, newfd, sb.buf, sb.len) < 0;",
          "content_same": false
        },
        {
          "line": 2204,
          "old_api": "assert",
          "new_api": "commit_lock_file",
          "old_text": "assert((flags & (COMMIT_LOCK | CLOSE_LOCK)) !=\n\t       (COMMIT_LOCK | CLOSE_LOCK))",
          "new_text": "commit_lock_file(lk)",
          "old_line_content": "\tassert((flags & (COMMIT_LOCK | CLOSE_LOCK)) !=",
          "new_line_content": "\t\treturn commit_lock_file(lk);",
          "content_same": false
        },
        {
          "line": 2274,
          "old_api": "git_path",
          "new_api": "get_git_dir",
          "old_text": "git_path(\"%s\", de->d_name)",
          "new_text": "get_git_dir()",
          "old_line_content": "\t\tshared_index_path = git_path(\"%s\", de->d_name);",
          "new_line_content": "\t\treturn error_errno(_(\"unable to open git dir: %s\"), get_git_dir());",
          "content_same": false
        },
        {
          "line": 2276,
          "old_api": "unlink",
          "new_api": "readdir",
          "old_text": "unlink(shared_index_path)",
          "new_text": "readdir(dir)",
          "old_line_content": "\t\t    unlink(shared_index_path))",
          "new_line_content": "\twhile ((de = readdir(dir)) != NULL) {",
          "content_same": false
        },
        {
          "line": 2279,
          "old_api": "closedir",
          "new_api": "skip_prefix",
          "old_text": "closedir(dir)",
          "new_text": "skip_prefix(de->d_name, \"sharedindex.\", &sha1_hex)",
          "old_line_content": "\tclosedir(dir);",
          "new_line_content": "\t\tif (!skip_prefix(de->d_name, \"sharedindex.\", &sha1_hex))",
          "content_same": false
        },
        {
          "line": 2303,
          "old_api": "rename_tempfile",
          "new_api": "hashclr",
          "old_text": "rename_tempfile(&temporary_sharedindex,\n\t\t\t      git_path(\"sharedindex.%s\", sha1_to_hex(si->base->sha1)))",
          "new_text": "hashclr(si->base_sha1)",
          "old_line_content": "\tret = rename_tempfile(&temporary_sharedindex,",
          "new_line_content": "\t\thashclr(si->base_sha1);",
          "content_same": false
        },
        {
          "line": 2304,
          "old_api": "sha1_to_hex",
          "new_api": "do_write_locked_index",
          "old_text": "sha1_to_hex(si->base->sha1)",
          "new_text": "do_write_locked_index(istate, lock, flags)",
          "old_line_content": "\t\t\t      git_path(\"sharedindex.%s\", sha1_to_hex(si->base->sha1)));",
          "new_line_content": "\t\treturn do_write_locked_index(istate, lock, flags);",
          "content_same": false
        },
        {
          "line": 2306,
          "old_api": "hashcpy",
          "new_api": "move_cache_to_base_index",
          "old_text": "hashcpy(si->base_sha1, si->base->sha1)",
          "new_text": "move_cache_to_base_index(istate)",
          "old_line_content": "\t\thashcpy(si->base_sha1, si->base->sha1);",
          "new_line_content": "\tmove_cache_to_base_index(istate);",
          "content_same": false
        },
        {
          "line": 2307,
          "old_api": "sha1_to_hex",
          "new_api": "do_write_index",
          "old_text": "sha1_to_hex(si->base->sha1)",
          "new_text": "do_write_index(si->base, fd, 1)",
          "old_line_content": "\t\tclean_shared_index_files(sha1_to_hex(si->base->sha1));",
          "new_line_content": "\tret = do_write_index(si->base, fd, 1);",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": "too_many_not_shared_entries",
          "new_api": "hashclr",
          "old_text": "too_many_not_shared_entries(istate)",
          "new_text": "hashclr(si->base_sha1)",
          "old_line_content": "\tif (too_many_not_shared_entries(istate))",
          "new_line_content": "\t\t\thashclr(si->base_sha1);",
          "content_same": false
        },
        {
          "line": 2376,
          "old_api": "sha1_to_hex",
          "new_api": "write_shared_index",
          "old_text": "sha1_to_hex(si->base_sha1)",
          "new_text": "write_shared_index(istate, lock, flags)",
          "old_line_content": "\t\tfreshen_shared_index(sha1_to_hex(si->base_sha1), 1);",
          "new_line_content": "\t\tret = write_shared_index(istate, lock, flags);",
          "content_same": false
        },
        {
          "line": 2402,
          "old_api": "ce_namelen",
          "new_api": "read_index",
          "old_text": "ce_namelen(ce)",
          "new_text": "read_index(istate)",
          "old_line_content": "\t\tlen = ce_namelen(ce);",
          "new_line_content": "\tread_index(istate);",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": "strcmp",
          "new_api": "index_name_pos",
          "old_text": "strcmp(istate->cache[i]->name, path)",
          "new_text": "index_name_pos(istate, path, len)",
          "old_line_content": "\t\t      !strcmp(istate->cache[i]->name, path));",
          "new_line_content": "\tpos = index_name_pos(istate, path, len);",
          "content_same": false
        },
        {
          "line": 2471,
          "old_api": "free",
          "new_api": "strcmp",
          "old_text": "free(data)",
          "new_text": "strcmp(istate->cache[i]->name, path)",
          "old_line_content": "\t\tfree(data);",
          "new_line_content": "\t\t      !strcmp(istate->cache[i]->name, path));",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1536,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(name)",
          "old_line_content": "\t\t\t\t\t     previous_name->len);",
          "new_line_content": "\t\t\tlen = strlen(name);",
          "content_same": false
        },
        {
          "line": 2049,
          "old_api": null,
          "new_api": "get_index_file",
          "old_text": null,
          "new_text": "get_index_file()",
          "old_line_content": "\t\tstruct cache_entry *ce = istate->cache[i];",
          "new_line_content": "\treturn verify_index_from(istate, get_index_file());",
          "content_same": false
        },
        {
          "line": 1537,
          "old_api": null,
          "new_api": "cache_entry_from_ondisk",
          "old_text": null,
          "new_text": "cache_entry_from_ondisk(ondisk, flags, name, len)",
          "old_line_content": "",
          "new_line_content": "\t\tce = cache_entry_from_ondisk(ondisk, flags, name, len);",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": null,
          "new_api": "ondisk_ce_size",
          "old_text": null,
          "new_text": "ondisk_ce_size(ce)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t*ent_size = ondisk_ce_size(ce);",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(ce->name, istate->cache[istate->cache_nr - 1]->name)",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\t\tstrcmp(ce->name, istate->cache[istate->cache_nr - 1]->name) > 0)",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": null,
          "new_api": "expand_name_field",
          "old_text": null,
          "new_text": "expand_name_field(previous_name, name)",
          "old_line_content": "",
          "new_line_content": "\t\tconsumed = expand_name_field(previous_name, name);",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": null,
          "new_api": "cache_entry_from_ondisk",
          "old_text": null,
          "new_text": "cache_entry_from_ondisk(ondisk, flags,\n\t\t\t\t\t     previous_name->buf,\n\t\t\t\t\t     previous_name->len)",
          "old_line_content": "static void check_ce_order(struct index_state *istate)",
          "new_line_content": "\t\tce = cache_entry_from_ondisk(ondisk, flags,",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": null,
          "new_api": "ce_stage",
          "old_text": null,
          "new_text": "ce_stage(ce)",
          "old_line_content": "",
          "new_line_content": "\t\tpos = index_name_stage_pos(istate, ce->name, ce_namelen(ce), ce_stage(ce));",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": null,
          "new_api": "is_racy_timestamp",
          "old_text": null,
          "new_text": "is_racy_timestamp(istate, ce)",
          "old_line_content": "void update_index_if_able(struct index_state *istate, struct lock_file *lockfile)",
          "new_line_content": "\t\tif (is_racy_timestamp(istate, ce))",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": null,
          "new_api": "replace_index_entry",
          "old_text": null,
          "new_text": "replace_index_entry(istate, pos, ce)",
          "old_line_content": "\t * Inserting a merged entry (\"stage 0\") into the index",
          "new_line_content": "\t\t\treplace_index_entry(istate, pos, ce);",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": null,
          "new_api": "has_racy_timestamp",
          "old_text": null,
          "new_text": "has_racy_timestamp(istate)",
          "old_line_content": "\tgit_SHA_CTX c;",
          "new_line_content": "\tif ((istate->cache_changed || has_racy_timestamp(istate)) &&",
          "content_same": false
        },
        {
          "line": 2071,
          "old_api": null,
          "new_api": "verify_index",
          "old_text": null,
          "new_text": "verify_index(istate)",
          "old_line_content": "\tstruct cache_header hdr;",
          "new_line_content": "\t    verify_index(istate) &&",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": null,
          "new_api": "write_locked_index",
          "old_text": null,
          "new_text": "write_locked_index(istate, lockfile, COMMIT_LOCK)",
          "old_line_content": "\tint i, err, removed, extended, hdr_version;",
          "new_line_content": "\t    write_locked_index(istate, lockfile, COMMIT_LOCK))",
          "content_same": false
        },
        {
          "line": 2073,
          "old_api": null,
          "new_api": "rollback_lock_file",
          "old_text": null,
          "new_text": "rollback_lock_file(lockfile)",
          "old_line_content": "\tstruct cache_entry **cache = istate->cache;",
          "new_line_content": "\t\trollback_lock_file(lockfile);",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": null,
          "new_api": "ce_stage",
          "old_text": null,
          "new_text": "ce_stage(ce)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\tif (pos < istate->cache_nr && ce_stage(ce) == 0) {",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unordered stage entries in index\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tdie(\"unordered stage entries in index\");",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": null,
          "new_api": "ce_stage",
          "old_text": null,
          "new_text": "ce_stage(ce)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (!ce_stage(ce))",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": null,
          "new_api": "remove_index_entry_at",
          "old_text": null,
          "new_text": "remove_index_entry_at(istate, pos)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (!remove_index_entry_at(istate, pos))",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"multiple stage entries for merged file '%s'\",\n\t\t\t\t    ce->name)",
          "old_line_content": "static void tweak_untracked_cache(struct index_state *istate)",
          "new_line_content": "\t\t\t\tdie(\"multiple stage entries for merged file '%s'\",",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unordered stage entries for '%s'\",\n\t\t\t\t    ce->name)",
          "old_line_content": "\tcase -1: /* keep: do nothing */",
          "new_line_content": "\t\t\t\tdie(\"unordered stage entries for '%s'\",",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": null,
          "new_api": "verify_path",
          "old_text": null,
          "new_text": "verify_path(ce->name)",
          "old_line_content": "\t\tpos = -pos-1;",
          "new_line_content": "\tif (!verify_path(ce->name))",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"Invalid path '%s'\", ce->name)",
          "old_line_content": "\t}",
          "new_line_content": "\t\treturn error(\"Invalid path '%s'\", ce->name);",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "check_file_directory_conflict",
          "old_text": null,
          "new_text": "check_file_directory_conflict(istate, ce, pos, ok_to_replace)",
          "old_line_content": "",
          "new_line_content": "\t    check_file_directory_conflict(istate, ce, pos, ok_to_replace)) {",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": null,
          "new_api": "git_config_get_untracked_cache",
          "old_text": null,
          "new_text": "git_config_get_untracked_cache()",
          "old_line_content": "\tdefault: /* unknown value: do nothing */",
          "new_line_content": "\tswitch (git_config_get_untracked_cache()) {",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"'%s' appears as both a file and as a directory\",\n\t\t\t\t     ce->name)",
          "old_line_content": "{",
          "new_line_content": "\t\t\treturn error(\"'%s' appears as both a file and as a directory\",",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": null,
          "new_api": "ce_stage",
          "old_text": null,
          "new_text": "ce_stage(ce)",
          "old_line_content": "",
          "new_line_content": "\t\tpos = index_name_stage_pos(istate, ce->name, ce_namelen(ce), ce_stage(ce));",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": null,
          "new_api": "remove_untracked_cache",
          "old_text": null,
          "new_text": "remove_untracked_cache(istate)",
          "old_line_content": "",
          "new_line_content": "\t\tremove_untracked_cache(istate);",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": null,
          "new_api": "get_index_format_default",
          "old_text": null,
          "new_text": "get_index_format_default()",
          "old_line_content": "\thdr_version = istate->version;",
          "new_line_content": "\t\tistate->version = get_index_format_default();",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": null,
          "new_api": "getenv",
          "old_text": null,
          "new_text": "getenv(\"GIT_TEST_SPLIT_INDEX\")",
          "old_line_content": "",
          "new_line_content": "\t\tif (getenv(\"GIT_TEST_SPLIT_INDEX\"))",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": null,
          "new_api": "git_config_get_split_index",
          "old_text": null,
          "new_text": "git_config_get_split_index()",
          "old_line_content": "\tdefault: /* unknown value: do nothing */",
          "new_line_content": "\tswitch (git_config_get_split_index()) {",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": null,
          "new_api": "add_index_entry_with_check",
          "old_text": null,
          "new_text": "add_index_entry_with_check(istate, ce, option)",
          "old_line_content": "\t/* Add it in.. */",
          "new_line_content": "\t\tret = add_index_entry_with_check(istate, ce, option);",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": null,
          "new_api": "remove_split_index",
          "old_text": null,
          "new_text": "remove_split_index(istate)",
          "old_line_content": "",
          "new_line_content": "\t\tremove_split_index(istate);",
          "content_same": false
        },
        {
          "line": 2111,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(CACHE_SIGNATURE)",
          "old_line_content": "\tfor (i = 0; i < entries; i++) {",
          "new_line_content": "\thdr.hdr_signature = htonl(CACHE_SIGNATURE);",
          "content_same": false
        },
        {
          "line": 2112,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(hdr_version)",
          "old_line_content": "\t\tstruct cache_entry *ce = cache[i];",
          "new_line_content": "\thdr.hdr_version = htonl(hdr_version);",
          "content_same": false
        },
        {
          "line": 2113,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(entries - removed)",
          "old_line_content": "\t\tif (ce->ce_flags & CE_REMOVE)",
          "new_line_content": "\thdr.hdr_entries = htonl(entries - removed);",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": null,
          "new_api": "ALLOC_GROW",
          "old_text": null,
          "new_text": "ALLOC_GROW(istate->cache, istate->cache_nr + 1, istate->cache_alloc)",
          "old_line_content": "\tistate->cache_changed |= CE_ENTRY_ADDED;",
          "new_line_content": "\tALLOC_GROW(istate->cache, istate->cache_nr + 1, istate->cache_alloc);",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(istate->cache + pos + 1,\n\t\t\tistate->cache + pos,\n\t\t\t(istate->cache_nr - pos - 1) * sizeof(ce))",
          "old_line_content": " * \"refresh\" does not calculate a new sha1 file or bring the",
          "new_line_content": "\t\tmemmove(istate->cache + pos + 1,",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": null,
          "new_api": "check_ce_order",
          "old_text": null,
          "new_text": "check_ce_order(istate)",
          "old_line_content": "\tstruct stat st;",
          "new_line_content": "\tcheck_ce_order(istate);",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": null,
          "new_api": "set_index_entry",
          "old_text": null,
          "new_text": "set_index_entry(istate, pos, ce)",
          "old_line_content": " * with the cache, so that you can refresh the cache for a",
          "new_line_content": "\tset_index_entry(istate, pos, ce);",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": null,
          "new_api": "tweak_untracked_cache",
          "old_text": null,
          "new_text": "tweak_untracked_cache(istate)",
          "old_line_content": "\tunsigned long src_offset;",
          "new_line_content": "\ttweak_untracked_cache(istate);",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": null,
          "new_api": "tweak_split_index",
          "old_text": null,
          "new_text": "tweak_split_index(istate)",
          "old_line_content": "\tstruct cache_header *hdr;",
          "new_line_content": "\ttweak_split_index(istate);",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": null,
          "new_api": "ce_smudge_racily_clean_entry",
          "old_text": null,
          "new_text": "ce_smudge_racily_clean_entry(ce)",
          "old_line_content": "\t\t\telse",
          "new_line_content": "\t\t\tce_smudge_racily_clean_entry(ce);",
          "content_same": false
        },
        {
          "line": 2133,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(msg, ce->name)",
          "old_line_content": "\t/* Write extension data here */",
          "new_line_content": "\t\t\t\twarning(msg, ce->name);",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(msg, ce->name)",
          "old_line_content": "\t\tstruct strbuf sb = STRBUF_INIT;",
          "new_line_content": "\t\t\t\treturn error(msg, ce->name);",
          "content_same": false
        },
        {
          "line": 1629,
          "old_api": null,
          "new_api": "open",
          "old_text": null,
          "new_text": "open(path, O_RDONLY)",
          "old_line_content": "",
          "new_line_content": "\tfd = open(path, O_RDONLY);",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": null,
          "new_api": "die_errno",
          "old_text": null,
          "new_text": "die_errno(\"%s: index file open failed\", path)",
          "old_line_content": "",
          "new_line_content": "\t\tdie_errno(\"%s: index file open failed\", path);",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": null,
          "new_api": "write_link_extension",
          "old_text": null,
          "new_text": "write_link_extension(&sb, istate)",
          "old_line_content": "\t\tstruct strbuf sb = STRBUF_INIT;",
          "new_line_content": "\t\terr = write_link_extension(&sb, istate) < 0 ||",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": null,
          "new_api": "write_index_ext_header",
          "old_text": null,
          "new_text": "write_index_ext_header(&c, newfd, CACHE_EXT_LINK,\n\t\t\t\t\t       sb.len)",
          "old_line_content": "",
          "new_line_content": "\t\t\twrite_index_ext_header(&c, newfd, CACHE_EXT_LINK,",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": null,
          "new_api": "xsize_t",
          "old_text": null,
          "new_text": "xsize_t(st.st_size)",
          "old_line_content": "\thdr = mmap;",
          "new_line_content": "\tmmap_size = xsize_t(st.st_size);",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"index file smaller than expected\")",
          "old_line_content": "\t\tgoto unmap;",
          "new_line_content": "\t\tdie(\"index file smaller than expected\");",
          "content_same": false
        },
        {
          "line": 2157,
          "old_api": null,
          "new_api": "cache_tree_write",
          "old_text": null,
          "new_text": "cache_tree_write(&sb, istate->cache_tree)",
          "old_line_content": "",
          "new_line_content": "\t\tcache_tree_write(&sb, istate->cache_tree);",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": null,
          "new_api": "ce_mark_uptodate",
          "old_text": null,
          "new_text": "ce_mark_uptodate(ce)",
          "old_line_content": "\t\tif (ignore_missing)",
          "new_line_content": "\t\tce_mark_uptodate(ce);",
          "content_same": false
        },
        {
          "line": 2160,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&sb)",
          "old_line_content": "\t\t\t\t\t     sb.len) < 0",
          "new_line_content": "\t\tstrbuf_release(&sb);",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": null,
          "new_api": "verify_hdr",
          "old_text": null,
          "new_text": "verify_hdr(hdr, mmap_size)",
          "old_line_content": "",
          "new_line_content": "\tif (verify_hdr(hdr, mmap_size) < 0)",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": null,
          "new_api": "ce_mark_uptodate",
          "old_text": null,
          "new_text": "ce_mark_uptodate(ce)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\t\tce_mark_uptodate(ce);",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(istate->sha1, (const unsigned char *)hdr + mmap_size - 20)",
          "old_line_content": "\telse",
          "new_line_content": "\thashcpy(istate->sha1, (const unsigned char *)hdr + mmap_size - 20);",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(hdr->hdr_version)",
          "old_line_content": "\t\tprevious_name = NULL;",
          "new_line_content": "\tistate->version = ntohl(hdr->hdr_version);",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(hdr->hdr_entries)",
          "old_line_content": "",
          "new_line_content": "\tistate->cache_nr = ntohl(hdr->hdr_entries);",
          "content_same": false
        },
        {
          "line": 2167,
          "old_api": null,
          "new_api": "resolve_undo_write",
          "old_text": null,
          "new_text": "resolve_undo_write(&sb, istate->resolve_undo)",
          "old_line_content": "\t\tstruct strbuf sb = STRBUF_INIT;",
          "new_line_content": "\t\tresolve_undo_write(&sb, istate->resolve_undo);",
          "content_same": false
        },
        {
          "line": 2168,
          "old_api": null,
          "new_api": "write_index_ext_header",
          "old_text": null,
          "new_text": "write_index_ext_header(&c, newfd, CACHE_EXT_RESOLVE_UNDO,\n\t\t\t\t\t     sb.len)",
          "old_line_content": "",
          "new_line_content": "\t\terr = write_index_ext_header(&c, newfd, CACHE_EXT_RESOLVE_UNDO,",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": null,
          "new_api": "ce_namelen",
          "old_text": null,
          "new_text": "ce_namelen(ce)",
          "old_line_content": "\t\tif (ignore_missing && errno == ENOENT)",
          "new_line_content": "\tif (has_symlink_leading_path(ce->name, ce_namelen(ce))) {",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": null,
          "new_api": "alloc_nr",
          "old_text": null,
          "new_text": "alloc_nr(istate->cache_nr)",
          "old_line_content": "\tsrc_offset = sizeof(*hdr);",
          "new_line_content": "\tistate->cache_alloc = alloc_nr(istate->cache_nr);",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&sb)",
          "old_line_content": "\t\t\t\t\t     sb.len) < 0 ||",
          "new_line_content": "\t\tstrbuf_release(&sb);",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(istate->cache_alloc, sizeof(*istate->cache))",
          "old_line_content": "\tfor (i = 0; i < istate->cache_nr; i++) {",
          "new_line_content": "\tistate->cache = xcalloc(istate->cache_alloc, sizeof(*istate->cache));",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": null,
          "new_api": "lstat",
          "old_text": null,
          "new_text": "lstat(ce->name, &st)",
          "old_line_content": "\tif (changed_ret)",
          "new_line_content": "\tif (lstat(ce->name, &st) < 0) {",
          "content_same": false
        },
        {
          "line": 2179,
          "old_api": null,
          "new_api": "write_index_ext_header",
          "old_text": null,
          "new_text": "write_index_ext_header(&c, newfd, CACHE_EXT_UNTRACKED,\n\t\t\t\t\t     sb.len)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\t\terr = write_index_ext_header(&c, newfd, CACHE_EXT_UNTRACKED,",
          "content_same": false
        },
        {
          "line": 2182,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&sb)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\tstrbuf_release(&sb);",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": null,
          "new_api": "ie_match_stat",
          "old_text": null,
          "new_text": "ie_match_stat(istate, ce, &st, options)",
          "old_line_content": "\t\t * valid again, under \"assume unchanged\" mode.",
          "new_line_content": "\tchanged = ie_match_stat(istate, ce, &st, options);",
          "content_same": false
        },
        {
          "line": 1671,
          "old_api": null,
          "new_api": "create_from_disk",
          "old_text": null,
          "new_text": "create_from_disk(disk_ce, &consumed, previous_name)",
          "old_line_content": "\twhile (src_offset <= mmap_size - 20 - 8) {",
          "new_line_content": "\t\tce = create_from_disk(disk_ce, &consumed, previous_name);",
          "content_same": false
        },
        {
          "line": 1672,
          "old_api": null,
          "new_api": "set_index_entry",
          "old_text": null,
          "new_text": "set_index_entry(istate, i, ce)",
          "old_line_content": "\t\t/* After an array of active_nr index entries,",
          "new_line_content": "\t\tset_index_entry(istate, i, ce);",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": null,
          "new_api": "fstat",
          "old_text": null,
          "new_text": "fstat(newfd, &st)",
          "old_line_content": "\talternate_index_output = name;",
          "new_line_content": "\tif (ce_flush(&c, newfd, istate->sha1) || fstat(newfd, &st))",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&previous_name_buf)",
          "old_line_content": "\t\t * in 4-byte network byte order.",
          "new_line_content": "\tstrbuf_release(&previous_name_buf);",
          "content_same": false
        },
        {
          "line": 2190,
          "old_api": null,
          "new_api": "ST_MTIME_NSEC",
          "old_text": null,
          "new_text": "ST_MTIME_NSEC(st)",
          "old_line_content": "static int commit_locked_index(struct lock_file *lk)",
          "new_line_content": "\tistate->timestamp.nsec = ST_MTIME_NSEC(st);",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": null,
          "new_api": "ST_MTIME_NSEC",
          "old_text": null,
          "new_text": "ST_MTIME_NSEC(st)",
          "old_line_content": "\t\tuint32_t extsize;",
          "new_line_content": "\tistate->timestamp.nsec = ST_MTIME_NSEC(st);",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(&extsize, (char *)mmap + src_offset + 4, 4)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmemcpy(&extsize, (char *)mmap + src_offset + 4, 4);",
          "content_same": false
        },
        {
          "line": 2202,
          "old_api": null,
          "new_api": "commit_lock_file_to",
          "old_text": null,
          "new_text": "commit_lock_file_to(lk, alternate_index_output)",
          "old_line_content": "\tif (ret)",
          "new_line_content": "\t\treturn commit_lock_file_to(lk, alternate_index_output);",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": null,
          "new_api": "S_ISGITLINK",
          "old_text": null,
          "new_text": "S_ISGITLINK(ce->ce_mode)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\t\t\tif (!S_ISGITLINK(ce->ce_mode))",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": null,
          "new_api": "ce_mark_uptodate",
          "old_text": null,
          "new_text": "ce_mark_uptodate(ce)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\tce_mark_uptodate(ce);",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": null,
          "new_api": "read_index_extension",
          "old_text": null,
          "new_text": "read_index_extension(istate,\n\t\t\t\t\t (const char *) mmap + src_offset,\n\t\t\t\t\t (char *) mmap + src_offset + 8,\n\t\t\t\t\t extsize)",
          "old_line_content": "\treturn istate->cache_nr;",
          "new_line_content": "\t\tif (read_index_extension(istate,",
          "content_same": false
        },
        {
          "line": 2210,
          "old_api": null,
          "new_api": "get_lock_file_fd",
          "old_text": null,
          "new_text": "get_lock_file_fd(lock)",
          "old_line_content": "\telse",
          "new_line_content": "\tint ret = do_write_index(istate, get_lock_file_fd(lock), 0);",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": null,
          "new_api": "munmap",
          "old_text": null,
          "new_text": "munmap(mmap, mmap_size)",
          "old_line_content": " * Signal that the shared index is used by updating its mtime.",
          "new_line_content": "\tmunmap(mmap, mmap_size);",
          "content_same": false
        },
        {
          "line": 2213,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert((flags & (COMMIT_LOCK | CLOSE_LOCK)) !=\n\t       (COMMIT_LOCK | CLOSE_LOCK))",
          "old_line_content": "",
          "new_line_content": "\tassert((flags & (COMMIT_LOCK | CLOSE_LOCK)) !=",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": null,
          "new_api": "munmap",
          "old_text": null,
          "new_text": "munmap(mmap, mmap_size)",
          "old_line_content": " */",
          "new_line_content": "\tmunmap(mmap, mmap_size);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": null,
          "new_api": "ce_size",
          "old_text": null,
          "new_text": "ce_size(ce)",
          "old_line_content": "\t */",
          "new_line_content": "\tsize = ce_size(ce);",
          "content_same": false
        },
        {
          "line": 2216,
          "old_api": null,
          "new_api": "commit_locked_index",
          "old_text": null,
          "new_text": "commit_locked_index(lock)",
          "old_line_content": "\t\t\t     unsigned flags)",
          "new_line_content": "\t\treturn commit_locked_index(lock);",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(size)",
          "old_line_content": "\tif (!ignore_valid && assume_unchanged &&",
          "new_line_content": "\tupdated = xmalloc(size);",
          "content_same": false
        },
        {
          "line": 2218,
          "old_api": null,
          "new_api": "close_lock_file",
          "old_text": null,
          "new_text": "close_lock_file(lock)",
          "old_line_content": "\tint ret;",
          "new_line_content": "\t\treturn close_lock_file(lock);",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(updated, ce, size)",
          "old_line_content": "\t    !(ce->ce_flags & CE_VALID))",
          "new_line_content": "\tmemcpy(updated, ce, size);",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": null,
          "new_api": "fill_stat_cache_info",
          "old_text": null,
          "new_text": "fill_stat_cache_info(updated, &st)",
          "old_line_content": "\t\tupdated->ce_flags &= ~CE_VALID;",
          "new_line_content": "\tfill_stat_cache_info(updated, &st);",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"index file corrupt\")",
          "old_line_content": "static void freshen_shared_index(char *base_sha1_hex, int warn)",
          "new_line_content": "\tdie(\"index file corrupt\");",
          "content_same": false
        },
        {
          "line": 1714,
          "old_api": null,
          "new_api": "git_path",
          "old_text": null,
          "new_text": "git_path(\"sharedindex.%s\", base_sha1_hex)",
          "old_line_content": "\tchar *base_sha1_hex;",
          "new_line_content": "\tconst char *shared_index = git_path(\"sharedindex.%s\", base_sha1_hex);",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": null,
          "new_api": "check_and_freshen_file",
          "old_text": null,
          "new_text": "check_and_freshen_file(shared_index, 1)",
          "old_line_content": "\tconst char *base_path;",
          "new_line_content": "\tif (!check_and_freshen_file(shared_index, 1) && warn)",
          "content_same": false
        },
        {
          "line": 2228,
          "old_api": null,
          "new_api": "prepare_to_write_split_index",
          "old_text": null,
          "new_text": "prepare_to_write_split_index(istate)",
          "old_line_content": "{",
          "new_line_content": "\tprepare_to_write_split_index(istate);",
          "content_same": false
        },
        {
          "line": 2229,
          "old_api": null,
          "new_api": "do_write_locked_index",
          "old_text": null,
          "new_text": "do_write_locked_index(istate, lock, flags)",
          "old_line_content": "\tstatic unsigned long shared_index_expire_date;",
          "new_line_content": "\tret = do_write_locked_index(istate, lock, flags);",
          "content_same": false
        },
        {
          "line": 2230,
          "old_api": null,
          "new_api": "finish_writing_split_index",
          "old_text": null,
          "new_text": "finish_writing_split_index(istate)",
          "old_line_content": "\tstatic int shared_index_expire_date_prepared;",
          "new_line_content": "\tfinish_writing_split_index(istate);",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"could not freshen shared index '%s'\", shared_index)",
          "old_line_content": "",
          "new_line_content": "\t\twarning(\"could not freshen shared index '%s'\", shared_index);",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"%s\\n\", header_msg)",
          "old_line_content": "{",
          "new_line_content": "\t\tprintf(\"%s\\n\", header_msg);",
          "content_same": false
        },
        {
          "line": 1216,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(fmt, name)",
          "old_line_content": "\tint really = (flags & REFRESH_REALLY) != 0;",
          "new_line_content": "\tprintf(fmt, name);",
          "content_same": false
        },
        {
          "line": 2242,
          "old_api": null,
          "new_api": "git_config_get_expiry",
          "old_text": null,
          "new_text": "git_config_get_expiry(\"splitindex.sharedindexexpire\",\n\t\t\t\t      &shared_index_expire)",
          "old_line_content": "static int should_delete_shared_index(const char *shared_index_path)",
          "new_line_content": "\t\tgit_config_get_expiry(\"splitindex.sharedindexexpire\",",
          "content_same": false
        },
        {
          "line": 2244,
          "old_api": null,
          "new_api": "approxidate",
          "old_text": null,
          "new_text": "approxidate(shared_index_expire)",
          "old_line_content": "\tstruct stat st;",
          "new_line_content": "\t\tshared_index_expire_date = approxidate(shared_index_expire);",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": null,
          "new_api": "is_null_sha1",
          "old_text": null,
          "new_text": "is_null_sha1(split_index->base_sha1)",
          "old_line_content": "",
          "new_line_content": "\tif (!split_index || is_null_sha1(split_index->base_sha1)) {",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": null,
          "new_api": "discard_index",
          "old_text": null,
          "new_text": "discard_index(split_index->base)",
          "old_line_content": "\t\t    base_sha1_hex, base_path,",
          "new_line_content": "\t\tdiscard_index(split_index->base);",
          "content_same": false
        },
        {
          "line": 1741,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(1, sizeof(*split_index->base))",
          "old_line_content": "",
          "new_line_content": "\t\tsplit_index->base = xcalloc(1, sizeof(*split_index->base));",
          "content_same": false
        },
        {
          "line": 2257,
          "old_api": null,
          "new_api": "get_shared_index_expire_date",
          "old_text": null,
          "new_text": "get_shared_index_expire_date()",
          "old_line_content": "}",
          "new_line_content": "\texpiration = get_shared_index_expire_date();",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": null,
          "new_api": "do_read_index",
          "old_text": null,
          "new_text": "do_read_index(split_index->base, base_path, 1)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\tret = do_read_index(split_index->base, base_path, 1);",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": null,
          "new_api": "hashcmp",
          "old_text": null,
          "new_text": "hashcmp(split_index->base_sha1, split_index->base->sha1)",
          "old_line_content": "}",
          "new_line_content": "\tif (hashcmp(split_index->base_sha1, split_index->base->sha1))",
          "content_same": false
        },
        {
          "line": 2260,
          "old_api": null,
          "new_api": "stat",
          "old_text": null,
          "new_text": "stat(shared_index_path, &st)",
          "old_line_content": "{",
          "new_line_content": "\tif (stat(shared_index_path, &st))",
          "content_same": false
        },
        {
          "line": 2261,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"could not stat '%s\")",
          "old_line_content": "\tstruct dirent *de;",
          "new_line_content": "\t\treturn error_errno(_(\"could not stat '%s\"), shared_index_path);",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"broken index, expect %s in %s, got %s\",\n\t\t    base_sha1_hex, base_path,\n\t\t    sha1_to_hex(split_index->base->sha1))",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"broken index, expect %s in %s, got %s\",",
          "content_same": false
        },
        {
          "line": 1749,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(split_index->base->sha1)",
          "old_line_content": "{",
          "new_line_content": "\t\t    sha1_to_hex(split_index->base->sha1));",
          "content_same": false
        },
        {
          "line": 1751,
          "old_api": null,
          "new_api": "freshen_shared_index",
          "old_text": null,
          "new_text": "freshen_shared_index(base_sha1_hex, 0)",
          "old_line_content": "}",
          "new_line_content": "\tfreshen_shared_index(base_sha1_hex, 0);",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": null,
          "new_api": "merge_base_index",
          "old_text": null,
          "new_text": "merge_base_index(istate)",
          "old_line_content": "",
          "new_line_content": "\tmerge_base_index(istate);",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": null,
          "new_api": "post_read_index_from",
          "old_text": null,
          "new_text": "post_read_index_from(istate)",
          "old_line_content": "int discard_index(struct index_state *istate)",
          "new_line_content": "\tpost_read_index_from(istate);",
          "content_same": false
        },
        {
          "line": 2271,
          "old_api": null,
          "new_api": "get_git_dir",
          "old_text": null,
          "new_text": "get_git_dir()",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\tDIR *dir = opendir(get_git_dir());",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": null,
          "new_api": "S_ISGITLINK",
          "old_text": null,
          "new_text": "S_ISGITLINK(ce->ce_mode)",
          "old_line_content": "\t\t\t\ti++;",
          "new_line_content": "\t\tif (ignore_submodules && S_ISGITLINK(ce->ce_mode))",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": null,
          "new_api": "ce_path_match",
          "old_text": null,
          "new_text": "ce_path_match(ce, pathspec, seen)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\tif (pathspec && !ce_path_match(ce, pathspec, seen))",
          "content_same": false
        },
        {
          "line": 2281,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(sha1_hex, current_hex)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\tif (!strcmp(sha1_hex, current_hex))",
          "content_same": false
        },
        {
          "line": 2283,
          "old_api": null,
          "new_api": "git_path",
          "old_text": null,
          "new_text": "git_path(\"%s\", de->d_name)",
          "old_line_content": "",
          "new_line_content": "\t\tshared_index_path = git_path(\"%s\", de->d_name);",
          "content_same": false
        },
        {
          "line": 2284,
          "old_api": null,
          "new_api": "should_delete_shared_index",
          "old_text": null,
          "new_text": "should_delete_shared_index(shared_index_path)",
          "old_line_content": "static struct tempfile temporary_sharedindex;",
          "new_line_content": "\t\tif (should_delete_shared_index(shared_index_path) > 0 &&",
          "content_same": false
        },
        {
          "line": 2285,
          "old_api": null,
          "new_api": "unlink",
          "old_text": null,
          "new_text": "unlink(shared_index_path)",
          "old_line_content": "",
          "new_line_content": "\t\t    unlink(shared_index_path))",
          "content_same": false
        },
        {
          "line": 2286,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"unable to unlink: %s\")",
          "old_line_content": "static int write_shared_index(struct index_state *istate,",
          "new_line_content": "\t\t\twarning_errno(_(\"unable to unlink: %s\"), shared_index_path);",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": null,
          "new_api": "ce_stage",
          "old_text": null,
          "new_text": "ce_stage(ce)",
          "old_line_content": "\t\t\t\t\t  &first, header_msg);",
          "new_line_content": "\t\tif (ce_stage(ce)) {",
          "content_same": false
        },
        {
          "line": 2288,
          "old_api": null,
          "new_api": "closedir",
          "old_text": null,
          "new_text": "closedir(dir)",
          "old_line_content": "{",
          "new_line_content": "\tclosedir(dir);",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(istate->cache[i]->name, ce->name)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\t       ! strcmp(istate->cache[i]->name, ce->name))",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(istate->cache[i])",
          "old_line_content": "\tistate->initialized = 0;",
          "new_line_content": "\t\tfree(istate->cache[i]);",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": null,
          "new_api": "show_file",
          "old_text": null,
          "new_text": "show_file(unmerged_fmt, ce->name, in_porcelain,\n\t\t\t\t\t  &first, header_msg)",
          "old_line_content": "\t\tnew = refresh_cache_ent(istate, ce, options, &cache_errno, &changed);",
          "new_line_content": "\t\t\t\tshow_file(unmerged_fmt, ce->name, in_porcelain,",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": null,
          "new_api": "resolve_undo_clear_index",
          "old_text": null,
          "new_text": "resolve_undo_clear_index(istate)",
          "old_line_content": "\tistate->cache = NULL;",
          "new_line_content": "\tresolve_undo_clear_index(istate);",
          "content_same": false
        },
        {
          "line": 1780,
          "old_api": null,
          "new_api": "free_name_hash",
          "old_text": null,
          "new_text": "free_name_hash(istate)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\tfree_name_hash(istate);",
          "content_same": false
        },
        {
          "line": 1781,
          "old_api": null,
          "new_api": "cache_tree_free",
          "old_text": null,
          "new_text": "cache_tree_free(&(istate->cache_tree))",
          "old_line_content": "}",
          "new_line_content": "\tcache_tree_free(&(istate->cache_tree));",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(istate->cache)",
          "old_line_content": "int unmerged_index(const struct index_state *istate)",
          "new_line_content": "\tfree(istate->cache);",
          "content_same": false
        },
        {
          "line": 1786,
          "old_api": null,
          "new_api": "discard_split_index",
          "old_text": null,
          "new_text": "discard_split_index(istate)",
          "old_line_content": "\tfor (i = 0; i < istate->cache_nr; i++) {",
          "new_line_content": "\tdiscard_split_index(istate);",
          "content_same": false
        },
        {
          "line": 2301,
          "old_api": null,
          "new_api": "git_path",
          "old_text": null,
          "new_text": "git_path(\"sharedindex_XXXXXX\")",
          "old_line_content": "\t\treturn ret;",
          "new_line_content": "\tfd = mks_tempfile(&temporary_sharedindex, git_path(\"sharedindex_XXXXXX\"));",
          "content_same": false
        },
        {
          "line": 1796,
          "old_api": null,
          "new_api": "ce_stage",
          "old_text": null,
          "new_text": "ce_stage(istate->cache[i])",
          "old_line_content": "",
          "new_line_content": "\t\tif (ce_stage(istate->cache[i]))",
          "content_same": false
        },
        {
          "line": 2309,
          "old_api": null,
          "new_api": "delete_tempfile",
          "old_text": null,
          "new_text": "delete_tempfile(&temporary_sharedindex)",
          "old_line_content": "",
          "new_line_content": "\t\tdelete_tempfile(&temporary_sharedindex);",
          "content_same": false
        },
        {
          "line": 2312,
          "old_api": null,
          "new_api": "rename_tempfile",
          "old_text": null,
          "new_text": "rename_tempfile(&temporary_sharedindex,\n\t\t\t      git_path(\"sharedindex.%s\", sha1_to_hex(si->base->sha1)))",
          "old_line_content": "",
          "new_line_content": "\tret = rename_tempfile(&temporary_sharedindex,",
          "content_same": false
        },
        {
          "line": 2313,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(si->base->sha1)",
          "old_line_content": "static const int default_max_percent_split_change = 20;",
          "new_line_content": "\t\t\t      git_path(\"sharedindex.%s\", sha1_to_hex(si->base->sha1)));",
          "content_same": false
        },
        {
          "line": 2315,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(si->base_sha1, si->base->sha1)",
          "old_line_content": "static int too_many_not_shared_entries(struct index_state *istate)",
          "new_line_content": "\t\thashcpy(si->base_sha1, si->base->sha1);",
          "content_same": false
        },
        {
          "line": 2316,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(si->base->sha1)",
          "old_line_content": "{",
          "new_line_content": "\t\tclean_shared_index_files(sha1_to_hex(si->base->sha1));",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": null,
          "new_api": "ce_intent_to_add",
          "old_text": null,
          "new_text": "ce_intent_to_add(ce)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\telse if (ce_intent_to_add(ce))",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": null,
          "new_api": "git_SHA1_Update",
          "old_text": null,
          "new_text": "git_SHA1_Update(context, write_buffer, buffered)",
          "old_line_content": "{",
          "new_line_content": "\t\tgit_SHA1_Update(context, write_buffer, buffered);",
          "content_same": false
        },
        {
          "line": 1811,
          "old_api": null,
          "new_api": "write_in_full",
          "old_text": null,
          "new_text": "write_in_full(fd, write_buffer, buffered)",
          "old_line_content": "\twhile (len) {",
          "new_line_content": "\t\tif (write_in_full(fd, write_buffer, buffered) != buffered)",
          "content_same": false
        },
        {
          "line": 1301,
          "old_api": null,
          "new_api": "show_file",
          "old_text": null,
          "new_text": "show_file(fmt,\n\t\t\t\t  ce->name, in_porcelain, &first, header_msg)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tshow_file(fmt,",
          "content_same": false
        },
        {
          "line": 2327,
          "old_api": null,
          "new_api": "git_config_get_max_percent_split_change",
          "old_text": null,
          "new_text": "git_config_get_max_percent_split_change()",
          "old_line_content": "\tcase 100:",
          "new_line_content": "\tint max_split = git_config_get_max_percent_split_change();",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(write_buffer + buffered, data, partial)",
          "old_line_content": "\t\tlen -= partial;",
          "new_line_content": "\t\tmemcpy(write_buffer + buffered, data, partial);",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": null,
          "new_api": "refresh_cache_ent",
          "old_text": null,
          "new_text": "refresh_cache_ent(&the_index, ce, options, NULL, NULL)",
          "old_line_content": "",
          "new_line_content": "\treturn refresh_cache_ent(&the_index, ce, options, NULL, NULL);",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": null,
          "new_api": "ce_write_flush",
          "old_text": null,
          "new_text": "ce_write_flush(context, fd)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tif (ce_write_flush(context, fd))",
          "content_same": false
        },
        {
          "line": 1843,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(ext)",
          "old_line_content": "",
          "new_line_content": "\text = htonl(ext);",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(sz)",
          "old_line_content": "\tif (left) {",
          "new_line_content": "\tsz = htonl(sz);",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": null,
          "new_api": "git_config_get_int",
          "old_text": null,
          "new_text": "git_config_get_int(\"index.version\", &value)",
          "old_line_content": "",
          "new_line_content": "\t\tif (!git_config_get_int(\"index.version\", &value))",
          "content_same": false
        },
        {
          "line": 1845,
          "old_api": null,
          "new_api": "ce_write",
          "old_text": null,
          "new_text": "ce_write(context, fd, &ext, 4)",
          "old_line_content": "\t\twrite_buffer_len = 0;",
          "new_line_content": "\treturn ((ce_write(context, fd, &ext, 4) < 0) ||",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"index.version set, but the value is invalid.\\n\"\n\t\t\t\t  \"Using version %i\")",
          "old_line_content": "\t    version < INDEX_FORMAT_LB || INDEX_FORMAT_UB < version) {",
          "new_line_content": "\t\t\twarning(_(\"index.version set, but the value is invalid.\\n\"",
          "content_same": false
        },
        {
          "line": 2362,
          "old_api": null,
          "new_api": "do_write_locked_index",
          "old_text": null,
          "new_text": "do_write_locked_index(istate, lock, flags)",
          "old_line_content": "\t\tistate->cache_changed |= SPLIT_INDEX_ORDERED;",
          "new_line_content": "\t\treturn do_write_locked_index(istate, lock, flags);",
          "content_same": false
        },
        {
          "line": 2365,
          "old_api": null,
          "new_api": "getenv",
          "old_text": null,
          "new_text": "getenv(\"GIT_TEST_SPLIT_INDEX\")",
          "old_line_content": "",
          "new_line_content": "\tif (getenv(\"GIT_TEST_SPLIT_INDEX\")) {",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(envversion, &endp, 10)",
          "old_line_content": "",
          "new_line_content": "\tversion = strtoul(envversion, &endp, 10);",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": null,
          "new_api": "git_SHA1_Update",
          "old_text": null,
          "new_text": "git_SHA1_Update(context, write_buffer, left)",
          "old_line_content": "",
          "new_line_content": "\t\tgit_SHA1_Update(context, write_buffer, left);",
          "content_same": false
        },
        {
          "line": 2370,
          "old_api": null,
          "new_api": "too_many_not_shared_entries",
          "old_text": null,
          "new_text": "too_many_not_shared_entries(istate)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (too_many_not_shared_entries(istate))",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"GIT_INDEX_VERSION set, but the value is invalid.\\n\"\n\t\t\t  \"Using version %i\")",
          "old_line_content": " * Again - this is just a (very strong in practice) heuristic that",
          "new_line_content": "\t\twarning(_(\"GIT_INDEX_VERSION set, but the value is invalid.\\n\"",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": null,
          "new_api": "git_SHA1_Final",
          "old_text": null,
          "new_text": "git_SHA1_Final(write_buffer + left, context)",
          "old_line_content": "\t * The only thing we care about in this function is to smudge the",
          "new_line_content": "\tgit_SHA1_Final(write_buffer + left, context);",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(sha1, write_buffer + left)",
          "old_line_content": "\t * falsely clean entry due to touch-update-touch race, so we leave",
          "new_line_content": "\thashcpy(sha1, write_buffer + left);",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": null,
          "new_api": "write_split_index",
          "old_text": null,
          "new_text": "write_split_index(istate, lock, flags)",
          "old_line_content": "/*",
          "new_line_content": "\tret = write_split_index(istate, lock, flags);",
          "content_same": false
        },
        {
          "line": 1869,
          "old_api": null,
          "new_api": "write_in_full",
          "old_text": null,
          "new_text": "write_in_full(fd, write_buffer, left)",
          "old_line_content": "\t * ce_stat_data.sd_mtime match the index file mtime.",
          "new_line_content": "\treturn (write_in_full(fd, write_buffer, left) != left) ? -1 : 0;",
          "content_same": false
        },
        {
          "line": 2385,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(si->base_sha1)",
          "old_line_content": " * from an unmerged state can call this and check its return value,",
          "new_line_content": "\t\tfreshen_shared_index(sha1_to_hex(si->base_sha1), 1);",
          "content_same": false
        },
        {
          "line": 1887,
          "old_api": null,
          "new_api": "lstat",
          "old_text": null,
          "new_text": "lstat(ce->name, &st)",
          "old_line_content": "\t\t * $ echo xyzzy >frotz",
          "new_line_content": "\tif (lstat(ce->name, &st) < 0)",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": null,
          "new_api": "ce_match_stat_basic",
          "old_text": null,
          "new_text": "ce_match_stat_basic(ce, &st)",
          "old_line_content": "\t\t * $ : >frotz",
          "new_line_content": "\tif (ce_match_stat_basic(ce, &st))",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": null,
          "new_api": "ce_modified_check_fs",
          "old_text": null,
          "new_text": "ce_modified_check_fs(ce, &st)",
          "old_line_content": "\t\t * $ echo filfre >nitfol",
          "new_line_content": "\tif (ce_modified_check_fs(ce, &st)) {",
          "content_same": false
        },
        {
          "line": 2408,
          "old_api": null,
          "new_api": "ce_stage",
          "old_text": null,
          "new_text": "ce_stage(ce)",
          "old_line_content": "\t\tnew_ce->ce_mode = ce->ce_mode;",
          "new_line_content": "\t\tif (!ce_stage(ce))",
          "content_same": false
        },
        {
          "line": 2411,
          "old_api": null,
          "new_api": "ce_namelen",
          "old_text": null,
          "new_text": "ce_namelen(ce)",
          "old_line_content": "\t\t\t\t     new_ce->name);",
          "new_line_content": "\t\tlen = ce_namelen(ce);",
          "content_same": false
        },
        {
          "line": 2412,
          "old_api": null,
          "new_api": "cache_entry_size",
          "old_text": null,
          "new_text": "cache_entry_size(len)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tsize = cache_entry_size(len);",
          "content_same": false
        },
        {
          "line": 2413,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(1, size)",
          "old_line_content": "\treturn unmerged;",
          "new_line_content": "\t\tnew_ce = xcalloc(1, size);",
          "content_same": false
        },
        {
          "line": 2414,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(new_ce->name, ce->name, len)",
          "old_line_content": "}",
          "new_line_content": "\t\tmemcpy(new_ce->name, ce->name, len);",
          "content_same": false
        },
        {
          "line": 2415,
          "old_api": null,
          "new_api": "create_ce_flags",
          "old_text": null,
          "new_text": "create_ce_flags(0)",
          "old_line_content": "",
          "new_line_content": "\t\tnew_ce->ce_flags = create_ce_flags(0) | CE_CONFLICTED;",
          "content_same": false
        },
        {
          "line": 2418,
          "old_api": null,
          "new_api": "add_index_entry",
          "old_text": null,
          "new_text": "add_index_entry(istate, new_ce, 0)",
          "old_line_content": " * the index; that is, the path is not mentioned in the index at all,",
          "new_line_content": "\t\tif (add_index_entry(istate, new_ce, 0))",
          "content_same": false
        },
        {
          "line": 2419,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: cannot drop to stage #0\",\n\t\t\t\t     new_ce->name)",
          "old_line_content": " * either as a file, a directory with some files in the index,",
          "new_line_content": "\t\t\treturn error(\"%s: cannot drop to stage #0\",",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"bad signature\")",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\treturn error(\"bad signature\");",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(hdr->hdr_version)",
          "old_line_content": "}",
          "new_line_content": "\thdr_version = ntohl(hdr->hdr_version);",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"bad index version %d\", hdr_version)",
          "old_line_content": "static int read_index_extension(struct index_state *istate,",
          "new_line_content": "\t\treturn error(\"bad index version %d\", hdr_version);",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": null,
          "new_api": "git_SHA1_Init",
          "old_text": null,
          "new_text": "git_SHA1_Init(&c)",
          "old_line_content": "\t\t\t\tconst char *ext, void *data, unsigned long sz)",
          "new_line_content": "\tgit_SHA1_Init(&c);",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": null,
          "new_api": "git_SHA1_Update",
          "old_text": null,
          "new_text": "git_SHA1_Update(&c, hdr, size - 20)",
          "old_line_content": "{",
          "new_line_content": "\tgit_SHA1_Update(&c, hdr, size - 20);",
          "content_same": false
        },
        {
          "line": 2440,
          "old_api": null,
          "new_api": "index_name_pos",
          "old_text": null,
          "new_text": "index_name_pos(istate, name, namelen)",
          "old_line_content": "\t}",
          "new_line_content": "\tpos = index_name_pos(istate, name, namelen);",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": null,
          "new_api": "hashcmp",
          "old_text": null,
          "new_text": "hashcmp(sha1, (unsigned char *)hdr + size - 20)",
          "old_line_content": "\tcase CACHE_EXT_TREE:",
          "new_line_content": "\tif (hashcmp(sha1, (unsigned char *)hdr + size - 20))",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(ce->ce_stat_data.sd_ctime.nsec)",
          "old_line_content": "",
          "new_line_content": "\tondisk->ctime.nsec = htonl(ce->ce_stat_data.sd_ctime.nsec);",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(ce->ce_stat_data.sd_mtime.nsec)",
          "old_line_content": "\tflags = ce->ce_flags & ~CE_NAMEMASK;",
          "new_line_content": "\tondisk->mtime.nsec = htonl(ce->ce_stat_data.sd_mtime.nsec);",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(ce->ce_mode)",
          "old_line_content": "\tif (ce->ce_flags & CE_EXTENDED) {",
          "new_line_content": "\tondisk->mode = htonl(ce->ce_mode);",
          "content_same": false
        },
        {
          "line": 2446,
          "old_api": null,
          "new_api": "ce_namelen",
          "old_text": null,
          "new_text": "ce_namelen(ce)",
          "old_line_content": "{",
          "new_line_content": "\t\tif (ce_namelen(ce) == namelen &&",
          "content_same": false
        },
        {
          "line": 2447,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(ce->name, name, namelen)",
          "old_line_content": "\tint pos, len;",
          "new_line_content": "\t\t    !memcmp(ce->name, name, namelen))",
          "content_same": false
        },
        {
          "line": 1934,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(ce->ce_stat_data.sd_uid)",
          "old_line_content": "\t\tstruct ondisk_cache_entry_extended *ondisk2;",
          "new_line_content": "\tondisk->uid  = htonl(ce->ce_stat_data.sd_uid);",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": null,
          "new_api": "CACHE_EXT",
          "old_text": null,
          "new_text": "CACHE_EXT(ext)",
          "old_line_content": "\t\t\treturn -1;",
          "new_line_content": "\tswitch (CACHE_EXT(ext)) {",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(ce->ce_stat_data.sd_gid)",
          "old_line_content": "\t\tondisk2 = (struct ondisk_cache_entry_extended *)ondisk;",
          "new_line_content": "\tondisk->gid  = htonl(ce->ce_stat_data.sd_gid);",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": null,
          "new_api": "cache_tree_read",
          "old_text": null,
          "new_text": "cache_tree_read(data, sz)",
          "old_line_content": "\tcase CACHE_EXT_UNTRACKED:",
          "new_line_content": "\t\tistate->cache_tree = cache_tree_read(data, sz);",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(ondisk->sha1, ce->oid.hash)",
          "old_line_content": "\t\treturn ondisk2->name;",
          "new_line_content": "\thashcpy(ondisk->sha1, ce->oid.hash);",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": null,
          "new_api": "ce_namelen",
          "old_text": null,
          "new_text": "ce_namelen(ce)",
          "old_line_content": "\t\treturn ondisk->name;",
          "new_line_content": "\tflags |= (ce_namelen(ce) >= CE_NAMEMASK ? CE_NAMEMASK : ce_namelen(ce));",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": null,
          "new_api": "resolve_undo_read",
          "old_text": null,
          "new_text": "resolve_undo_read(data, sz)",
          "old_line_content": "\tdefault:",
          "new_line_content": "\t\tistate->resolve_undo = resolve_undo_read(data, sz);",
          "content_same": false
        },
        {
          "line": 1941,
          "old_api": null,
          "new_api": "htons",
          "old_text": null,
          "new_text": "htons(flags)",
          "old_line_content": "\t}",
          "new_line_content": "\tondisk->flags = htons(flags);",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": null,
          "new_api": "read_link_extension",
          "old_text": null,
          "new_text": "read_link_extension(istate, data, sz)",
          "old_line_content": "\t\t\t\t     ext);",
          "new_line_content": "\t\tif (read_link_extension(istate, data, sz))",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": null,
          "new_api": "htons",
          "old_text": null,
          "new_text": "htons((ce->ce_flags & CE_EXTENDED_FLAGS) >> 16)",
          "old_line_content": "\t\t\t  struct strbuf *previous_name)",
          "new_line_content": "\t\tondisk2->flags2 = htons((ce->ce_flags & CE_EXTENDED_FLAGS) >> 16);",
          "content_same": false
        },
        {
          "line": 2461,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(path)",
          "old_line_content": "\t\t     (pos < 0 && i < istate->cache_nr &&",
          "new_line_content": "\tlen = strlen(path);",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": null,
          "new_api": "read_untracked_extension",
          "old_text": null,
          "new_text": "read_untracked_extension(data, sz)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\tistate->untracked = read_untracked_extension(data, sz);",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"index uses %.4s extension, which we do not understand\",\n\t\t\t\t     ext)",
          "old_line_content": "{",
          "new_line_content": "\t\t\treturn error(\"index uses %.4s extension, which we do not understand\",",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"ignoring %.4s extension\\n\", ext)",
          "old_line_content": "}",
          "new_line_content": "\t\tfprintf(stderr, \"ignoring %.4s extension\\n\", ext);",
          "content_same": false
        },
        {
          "line": 2473,
          "old_api": null,
          "new_api": "ce_stage",
          "old_text": null,
          "new_text": "ce_stage(istate->cache[i])",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tif (ce_stage(istate->cache[i]) == 2)",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": null,
          "new_api": "get_index_file",
          "old_text": null,
          "new_text": "get_index_file()",
          "old_line_content": "\t\t\t\t\t\t   unsigned int flags,",
          "new_line_content": "\treturn hold_lock_file_for_update(lk, get_index_file(), lock_flags);",
          "content_same": false
        },
        {
          "line": 1963,
          "old_api": null,
          "new_api": "ce_namelen",
          "old_text": null,
          "new_text": "ce_namelen(ce)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tsaved_namelen = ce_namelen(ce);",
          "content_same": false
        },
        {
          "line": 2478,
          "old_api": null,
          "new_api": "read_sha1_file",
          "old_text": null,
          "new_text": "read_sha1_file(istate->cache[pos]->oid.hash, &type, &sz)",
          "old_line_content": "",
          "new_line_content": "\tdata = read_sha1_file(istate->cache[pos]->oid.hash, &type, &sz);",
          "content_same": false
        },
        {
          "line": 2480,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(data)",
          "old_line_content": "{",
          "new_line_content": "\t\tfree(data);",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": null,
          "new_api": "get_index_file",
          "old_text": null,
          "new_text": "get_index_file()",
          "old_line_content": "",
          "new_line_content": "\treturn read_index_from(istate, get_index_file());",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": null,
          "new_api": "ondisk_ce_size",
          "old_text": null,
          "new_text": "ondisk_ce_size(ce)",
          "old_line_content": "\t\t      common < previous_name->len &&",
          "new_line_content": "\t\tsize = ondisk_ce_size(ce);",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(1, size)",
          "old_line_content": "\t\t      ce->name[common] == previous_name->buf[common]);",
          "new_line_content": "\t\tondisk = xcalloc(1, size);",
          "content_same": false
        },
        {
          "line": 1970,
          "old_api": null,
          "new_api": "copy_cache_entry_to_ondisk",
          "old_text": null,
          "new_text": "copy_cache_entry_to_ondisk(ondisk, ce)",
          "old_line_content": "\t\t     common++)",
          "new_line_content": "\t\tname = copy_cache_entry_to_ondisk(ondisk, ce);",
          "content_same": false
        },
        {
          "line": 1971,
          "old_api": null,
          "new_api": "ce_namelen",
          "old_text": null,
          "new_text": "ce_namelen(ce)",
          "old_line_content": "\t\t\t; /* still matching */",
          "new_line_content": "\t\tmemcpy(name, ce->name, ce_namelen(ce));",
          "content_same": false
        },
        {
          "line": 2490,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(sv->sd)",
          "old_line_content": "\t\treturn sv->sd == NULL;",
          "new_line_content": "\tfree(sv->sd);",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": null,
          "new_api": "get_be32",
          "old_text": null,
          "new_text": "get_be32(&ondisk->mtime.sec)",
          "old_line_content": "\tce->ce_flags = flags & ~CE_NAMEMASK;",
          "new_line_content": "\tce->ce_stat_data.sd_mtime.sec = get_be32(&ondisk->mtime.sec);",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": null,
          "new_api": "get_be32",
          "old_text": null,
          "new_text": "get_be32(&ondisk->ctime.nsec)",
          "old_line_content": "\tce->ce_namelen = len;",
          "new_line_content": "\tce->ce_stat_data.sd_ctime.nsec = get_be32(&ondisk->ctime.nsec);",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": null,
          "new_api": "get_be32",
          "old_text": null,
          "new_text": "get_be32(&ondisk->mtime.nsec)",
          "old_line_content": "\tce->index = 0;",
          "new_line_content": "\tce->ce_stat_data.sd_mtime.nsec = get_be32(&ondisk->mtime.nsec);",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": null,
          "new_api": "get_be32",
          "old_text": null,
          "new_text": "get_be32(&ondisk->mode)",
          "old_line_content": "\tce->name[len] = '\\0';",
          "new_line_content": "\tce->ce_mode  = get_be32(&ondisk->mode);",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": null,
          "new_api": "get_be32",
          "old_text": null,
          "new_text": "get_be32(&ondisk->uid)",
          "old_line_content": "\treturn ce;",
          "new_line_content": "\tce->ce_stat_data.sd_uid   = get_be32(&ondisk->uid);",
          "content_same": false
        },
        {
          "line": 2498,
          "old_api": null,
          "new_api": "stat",
          "old_text": null,
          "new_text": "stat(path, &st)",
          "old_line_content": "\tstruct stat st;",
          "new_line_content": "\tif (stat(path, &st) < 0)",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": null,
          "new_api": "get_be32",
          "old_text": null,
          "new_text": "get_be32(&ondisk->gid)",
          "old_line_content": "}",
          "new_line_content": "\tce->ce_stat_data.sd_gid   = get_be32(&ondisk->gid);",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": null,
          "new_api": "get_be32",
          "old_text": null,
          "new_text": "get_be32(&ondisk->size)",
          "old_line_content": "",
          "new_line_content": "\tce->ce_stat_data.sd_size  = get_be32(&ondisk->size);",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": null,
          "new_api": "offsetof",
          "old_text": null,
          "new_text": "offsetof(struct ondisk_cache_entry_extended, name)",
          "old_line_content": "",
          "new_line_content": "\t\t\tsize = offsetof(struct ondisk_cache_entry_extended, name);",
          "content_same": false
        },
        {
          "line": 2502,
          "old_api": null,
          "new_api": "match_stat_data",
          "old_text": null,
          "new_text": "match_stat_data(sv->sd, &st)",
          "old_line_content": "\telse {",
          "new_line_content": "\treturn S_ISREG(st.st_mode) && !match_stat_data(sv->sd, &st);",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(ce->oid.hash, ondisk->sha1)",
          "old_line_content": " * on-disk format of the index, each on-disk cache entry stores the",
          "new_line_content": "\thashcpy(ce->oid.hash, ondisk->sha1);",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(ce->name, name, len)",
          "old_line_content": " * number of bytes to be stripped from the end of the previous name,",
          "new_line_content": "\tmemcpy(ce->name, name, len);",
          "content_same": false
        },
        {
          "line": 1988,
          "old_api": null,
          "new_api": "ce_namelen",
          "old_text": null,
          "new_text": "ce_namelen(ce)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tsize += prefix_size + (ce_namelen(ce) - common + 1);",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(1, size)",
          "old_line_content": "\t\tce->ce_namelen = saved_namelen;",
          "new_line_content": "\t\tondisk = xcalloc(1, size);",
          "content_same": false
        },
        {
          "line": 1991,
          "old_api": null,
          "new_api": "copy_cache_entry_to_ondisk",
          "old_text": null,
          "new_text": "copy_cache_entry_to_ondisk(ondisk, ce)",
          "old_line_content": "\t\tce->ce_flags &= ~CE_STRIP_NAME;",
          "new_line_content": "\t\tname = copy_cache_entry_to_ondisk(ondisk, ce);",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(name, to_remove_vi, prefix_size)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmemcpy(name, to_remove_vi, prefix_size);",
          "content_same": false
        },
        {
          "line": 2509,
          "old_api": null,
          "new_api": "S_ISREG",
          "old_text": null,
          "new_text": "S_ISREG(st.st_mode)",
          "old_line_content": "",
          "new_line_content": "\tif (fstat(fd, &st) < 0 || !S_ISREG(st.st_mode))",
          "content_same": false
        },
        {
          "line": 2510,
          "old_api": null,
          "new_api": "stat_validity_clear",
          "old_text": null,
          "new_text": "stat_validity_clear(sv)",
          "old_line_content": "",
          "new_line_content": "\t\tstat_validity_clear(sv);",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": null,
          "new_api": "ce_namelen",
          "old_text": null,
          "new_text": "ce_namelen(ce)",
          "old_line_content": "",
          "new_line_content": "\t\tmemcpy(name + prefix_size, ce->name + common, ce_namelen(ce) - common);",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": null,
          "new_api": "ce_namelen",
          "old_text": null,
          "new_text": "ce_namelen(ce)",
          "old_line_content": "\treturn result;",
          "new_line_content": "\t\t\t      ce->name + common, ce_namelen(ce) - common);",
          "content_same": false
        },
        {
          "line": 2513,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(1, sizeof(struct stat_data))",
          "old_line_content": "",
          "new_line_content": "\t\t\tsv->sd = xcalloc(1, sizeof(struct stat_data));",
          "content_same": false
        },
        {
          "line": 2514,
          "old_api": null,
          "new_api": "fill_stat_data",
          "old_text": null,
          "new_text": "fill_stat_data(sv->sd, &st)",
          "old_line_content": "",
          "new_line_content": "\t\tfill_stat_data(sv->sd, &st);",
          "content_same": false
        },
        {
          "line": 2003,
          "old_api": null,
          "new_api": "ce_write",
          "old_text": null,
          "new_text": "ce_write(c, fd, ondisk, size)",
          "old_line_content": "static int verify_index_from(const struct index_state *istate, const char *path)",
          "new_line_content": "\tresult = ce_write(c, fd, ondisk, size);",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(ondisk)",
          "old_line_content": "{",
          "new_line_content": "\tfree(ondisk);",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": null,
          "new_api": "decode_varint",
          "old_text": null,
          "new_text": "decode_varint(&cp)",
          "old_line_content": "}",
          "new_line_content": "\tsize_t len = decode_varint(&cp);",
          "content_same": false
        },
        {
          "line": 1498,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"malformed name field in the index\")",
          "old_line_content": "\t\t\t\t\t    unsigned long *ent_size,",
          "new_line_content": "\t\tdie(\"malformed name field in the index\");",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": null,
          "new_api": "strbuf_remove",
          "old_text": null,
          "new_text": "strbuf_remove(name, name->len - len, len)",
          "old_line_content": "\t\t\t\t\t    struct strbuf *previous_name)",
          "new_line_content": "\tstrbuf_remove(name, name->len - len, len);",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": null,
          "new_api": "strbuf_add",
          "old_text": null,
          "new_text": "strbuf_add(name, cp, ep - cp)",
          "old_line_content": "\tsize_t len;",
          "new_line_content": "\tstrbuf_add(name, cp, ep - cp);",
          "content_same": false
        },
        {
          "line": 2022,
          "old_api": null,
          "new_api": "open",
          "old_text": null,
          "new_text": "open(path, O_RDONLY)",
          "old_line_content": "",
          "new_line_content": "\tfd = open(path, O_RDONLY);",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": null,
          "new_api": "fstat",
          "old_text": null,
          "new_text": "fstat(fd, &st)",
          "old_line_content": "",
          "new_line_content": "\tif (fstat(fd, &st))",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": null,
          "new_api": "get_be16",
          "old_text": null,
          "new_text": "get_be16(&ondisk->flags)",
          "old_line_content": "\t\tif (extended_flags & ~CE_EXTENDED_FLAGS)",
          "new_line_content": "\tflags = get_be16(&ondisk->flags);",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": null,
          "new_api": "pread_in_full",
          "old_text": null,
          "new_text": "pread_in_full(fd, sha1, 20, st.st_size - 20)",
          "old_line_content": "",
          "new_line_content": "\tn = pread_in_full(fd, sha1, 20, st.st_size - 20);",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": null,
          "new_api": "get_be16",
          "old_text": null,
          "new_text": "get_be16(&ondisk2->flags2)",
          "old_line_content": "",
          "new_line_content": "\t\textended_flags = get_be16(&ondisk2->flags2) << 16;",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": null,
          "new_api": "hashcmp",
          "old_text": null,
          "new_text": "hashcmp(istate->sha1, sha1)",
          "old_line_content": "}",
          "new_line_content": "\tif (hashcmp(istate->sha1, sha1))",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Unknown index entry format %08x\", extended_flags)",
          "old_line_content": "\t\tif (len == CE_NAMEMASK)",
          "new_line_content": "\t\t\tdie(\"Unknown index entry format %08x\", extended_flags);",
          "content_same": false
        },
        {
          "line": 2039,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(fd)",
          "old_line_content": "{",
          "new_line_content": "\tclose(fd);",
          "content_same": false
        },
        {
          "line": 2043,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(fd)",
          "old_line_content": "static int has_racy_timestamp(struct index_state *istate)",
          "new_line_content": "\tclose(fd);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1024,
          "old_api": "ce_stage",
          "new_api": null,
          "old_text": "ce_stage(ce)",
          "new_text": null,
          "old_line_content": "\tpos = index_name_stage_pos(istate, ce->name, ce_namelen(ce), ce_stage(ce));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2050,
          "old_api": "is_racy_timestamp",
          "new_api": null,
          "old_text": "is_racy_timestamp(istate, ce)",
          "new_text": null,
          "old_line_content": "\t\tif (is_racy_timestamp(istate, ce))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": "replace_index_entry",
          "new_api": null,
          "old_text": "replace_index_entry(istate, pos, ce)",
          "new_text": null,
          "old_line_content": "\t\t\treplace_index_entry(istate, pos, ce);",
          "new_line_content": "\tif (istate->cache_nr > 0 &&",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": "untracked_cache_add_to_index",
          "new_api": null,
          "old_text": "untracked_cache_add_to_index(istate, ce->name)",
          "new_text": null,
          "old_line_content": "\t\tuntracked_cache_add_to_index(istate, ce->name);",
          "new_line_content": "\t/* existing match? Just replace it. */",
          "content_same": false
        },
        {
          "line": 2061,
          "old_api": "has_racy_timestamp",
          "new_api": null,
          "old_text": "has_racy_timestamp(istate)",
          "new_text": null,
          "old_line_content": "\tif ((istate->cache_changed || has_racy_timestamp(istate)) &&",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": "verify_index",
          "new_api": null,
          "old_text": "verify_index(istate)",
          "new_text": null,
          "old_line_content": "\t    verify_index(istate) &&",
          "new_line_content": "\treturn 0;",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": "write_locked_index",
          "new_api": null,
          "old_text": "write_locked_index(istate, lockfile, COMMIT_LOCK)",
          "new_text": null,
          "old_line_content": "\t    write_locked_index(istate, lockfile, COMMIT_LOCK))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": "rollback_lock_file",
          "new_api": null,
          "old_text": "rollback_lock_file(lockfile)",
          "new_text": null,
          "old_line_content": "\t\trollback_lock_file(lockfile);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": "ce_stage",
          "new_api": null,
          "old_text": "ce_stage(ce)",
          "new_text": null,
          "old_line_content": "\tif (pos < istate->cache_nr && ce_stage(ce) == 0) {",
          "new_line_content": "\tpos = -pos-1;",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": "ce_same_name",
          "new_api": null,
          "old_text": "ce_same_name(istate->cache[pos], ce)",
          "new_text": null,
          "old_line_content": "\t\twhile (ce_same_name(istate->cache[pos], ce)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(ce->name, next_ce->name)",
          "new_text": null,
          "old_line_content": "\t\tint name_compare = strcmp(ce->name, next_ce->name);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"unordered stage entries in index\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"unordered stage entries in index\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": "ce_stage",
          "new_api": null,
          "old_text": "ce_stage(ce)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!ce_stage(ce))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"multiple stage entries for merged file '%s'\",\n\t\t\t\t    ce->name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"multiple stage entries for merged file '%s'\",",
          "new_line_content": "\tfor (i = 1; i < istate->cache_nr; i++) {",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "ce_stage",
          "new_api": null,
          "old_text": "ce_stage(next_ce)",
          "new_text": null,
          "old_line_content": "\t\t\tif (ce_stage(ce) > ce_stage(next_ce))",
          "new_line_content": "\t\tstruct cache_entry *next_ce = istate->cache[i];",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": "get_index_file",
          "new_api": null,
          "old_text": "get_index_file()",
          "new_text": null,
          "old_line_content": "\treturn verify_index_from(istate, get_index_file());",
          "new_line_content": "\treturn 1;",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Invalid path '%s'\", ce->name)",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"Invalid path '%s'\", ce->name);",
          "new_line_content": "\t\t\tok_to_add = 1;",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": "check_file_directory_conflict",
          "new_api": null,
          "old_text": "check_file_directory_conflict(istate, ce, pos, ok_to_replace)",
          "new_text": null,
          "old_line_content": "\t    check_file_directory_conflict(istate, ce, pos, ok_to_replace)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"'%s' appears as both a file and as a directory\",\n\t\t\t\t     ce->name)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"'%s' appears as both a file and as a directory\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "ce_stage",
          "new_api": null,
          "old_text": "ce_stage(ce)",
          "new_text": null,
          "old_line_content": "\t\tpos = index_name_stage_pos(istate, ce->name, ce_namelen(ce), ce_stage(ce));",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": "remove_untracked_cache",
          "new_api": null,
          "old_text": "remove_untracked_cache(istate)",
          "new_text": null,
          "old_line_content": "\t\tremove_untracked_cache(istate);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": "add_untracked_cache",
          "new_api": null,
          "old_text": "add_untracked_cache(istate)",
          "new_text": null,
          "old_line_content": "\t\tadd_untracked_cache(istate);",
          "new_line_content": "static void tweak_untracked_cache(struct index_state *istate)",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": "get_index_format_default",
          "new_api": null,
          "old_text": "get_index_format_default()",
          "new_text": null,
          "old_line_content": "\t\tistate->version = get_index_format_default();",
          "new_line_content": "\t\t/* reduce extended entries if possible */",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": "getenv",
          "new_api": null,
          "old_text": "getenv(\"GIT_TEST_SPLIT_INDEX\")",
          "new_text": null,
          "old_line_content": "\t\tif (getenv(\"GIT_TEST_SPLIT_INDEX\"))",
          "new_line_content": "\t\tcache[i]->ce_flags &= ~CE_EXTENDED;",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": "init_split_index",
          "new_api": null,
          "old_text": "init_split_index(istate)",
          "new_text": null,
          "old_line_content": "\t\t\tinit_split_index(istate);",
          "new_line_content": "\t\tif (cache[i]->ce_flags & CE_EXTENDED_FLAGS) {",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": "add_index_entry_with_check",
          "new_api": null,
          "old_text": "add_index_entry_with_check(istate, ce, option)",
          "new_text": null,
          "old_line_content": "\t\tret = add_index_entry_with_check(istate, ce, option);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": "remove_split_index",
          "new_api": null,
          "old_text": "remove_split_index(istate)",
          "new_text": null,
          "old_line_content": "\t\tremove_split_index(istate);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": "add_split_index",
          "new_api": null,
          "old_text": "add_split_index(istate)",
          "new_text": null,
          "old_line_content": "\t\tadd_split_index(istate);",
          "new_line_content": "static void tweak_split_index(struct index_state *istate)",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(hdr_version)",
          "new_text": null,
          "old_line_content": "\thdr.hdr_version = htonl(hdr_version);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(entries - removed)",
          "new_text": null,
          "old_line_content": "\thdr.hdr_entries = htonl(entries - removed);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "ALLOC_GROW",
          "new_api": null,
          "old_text": "ALLOC_GROW(istate->cache, istate->cache_nr + 1, istate->cache_alloc)",
          "new_text": null,
          "old_line_content": "\tALLOC_GROW(istate->cache, istate->cache_nr + 1, istate->cache_alloc);",
          "new_line_content": "\telse {",
          "content_same": false
        },
        {
          "line": 2106,
          "old_api": "git_SHA1_Init",
          "new_api": null,
          "old_text": "git_SHA1_Init(&c)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Init(&c);",
          "new_line_content": "\tif (istate->version == 3 || istate->version == 2)",
          "content_same": false
        },
        {
          "line": 2107,
          "old_api": "ce_write",
          "new_api": null,
          "old_text": "ce_write(&c, newfd, &hdr, sizeof(hdr))",
          "new_text": null,
          "old_line_content": "\tif (ce_write(&c, newfd, &hdr, sizeof(hdr)) < 0)",
          "new_line_content": "\t\tistate->version = extended ? 3 : 2;",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(istate->cache + pos + 1,\n\t\t\tistate->cache + pos,\n\t\t\t(istate->cache_nr - pos - 1) * sizeof(ce))",
          "new_text": null,
          "old_line_content": "\t\tmemmove(istate->cache + pos + 1,",
          "new_line_content": "\t\tpos = ret - 1;",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": "set_index_entry",
          "new_api": null,
          "old_text": "set_index_entry(istate, pos, ce)",
          "new_text": null,
          "old_line_content": "\tset_index_entry(istate, pos, ce);",
          "new_line_content": "\t/* Make sure the array is big enough .. */",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": "tweak_untracked_cache",
          "new_api": null,
          "old_text": "tweak_untracked_cache(istate)",
          "new_text": null,
          "old_line_content": "\ttweak_untracked_cache(istate);",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": "tweak_split_index",
          "new_api": null,
          "old_text": "tweak_split_index(istate)",
          "new_text": null,
          "old_line_content": "\ttweak_split_index(istate);",
          "new_line_content": "\tdefault: /* unknown value: do nothing */",
          "content_same": false
        },
        {
          "line": 2117,
          "old_api": "is_null_oid",
          "new_api": null,
          "old_text": "is_null_oid(&ce->oid)",
          "new_text": null,
          "old_line_content": "\t\tif (is_null_oid(&ce->oid)) {",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 2122,
          "old_api": "git_env_bool",
          "new_api": null,
          "old_text": "git_env_bool(\"GIT_ALLOW_NULL_SHA1\", 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\tallow = git_env_bool(\"GIT_ALLOW_NULL_SHA1\", 0);",
          "new_line_content": "\t\tif (ce->ce_flags & CE_REMOVE)",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": "ce_write_entry",
          "new_api": null,
          "old_text": "ce_write_entry(&c, newfd, ce, previous_name)",
          "new_text": null,
          "old_line_content": "\t\tif (ce_write_entry(&c, newfd, ce, previous_name) < 0)",
          "new_line_content": "\t\t\tstatic int allow = -1;",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": "open",
          "new_api": null,
          "old_text": "open(path, O_RDONLY)",
          "new_text": null,
          "old_line_content": "\tfd = open(path, O_RDONLY);",
          "new_line_content": "\tvoid *mmap;",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": "die_errno",
          "new_api": null,
          "old_text": "die_errno(\"%s: index file open failed\", path)",
          "new_text": null,
          "old_line_content": "\t\tdie_errno(\"%s: index file open failed\", path);",
          "new_line_content": "\tif (istate->initialized)",
          "content_same": false
        },
        {
          "line": 2138,
          "old_api": "write_index_ext_header",
          "new_api": null,
          "old_text": "write_index_ext_header(&c, newfd, CACHE_EXT_LINK,\n\t\t\t\t\t       sb.len)",
          "new_text": null,
          "old_line_content": "\t\t\twrite_index_ext_header(&c, newfd, CACHE_EXT_LINK,",
          "new_line_content": "\t\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": "fstat",
          "new_api": null,
          "old_text": "fstat(fd, &st)",
          "new_text": null,
          "old_line_content": "\tif (fstat(fd, &st))",
          "new_line_content": "\tistate->timestamp.sec = 0;",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": "die_errno",
          "new_api": null,
          "old_text": "die_errno(\"cannot stat the open index\")",
          "new_text": null,
          "old_line_content": "\t\tdie_errno(\"cannot stat the open index\");",
          "new_line_content": "\tistate->timestamp.nsec = 0;",
          "content_same": false
        },
        {
          "line": 2141,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&sb)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_release(&sb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": "ce_uptodate",
          "new_api": null,
          "old_text": "ce_uptodate(ce)",
          "new_text": null,
          "old_line_content": "\tif (!refresh || ce_uptodate(ce))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1630,
          "old_api": "xsize_t",
          "new_api": null,
          "old_text": "xsize_t(st.st_size)",
          "new_text": null,
          "old_line_content": "\tmmap_size = xsize_t(st.st_size);",
          "new_line_content": "\tif (fd < 0) {",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"index file smaller than expected\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"index file smaller than expected\");",
          "new_line_content": "\t\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 1634,
          "old_api": "xmmap",
          "new_api": null,
          "old_text": "xmmap(NULL, mmap_size, PROT_READ, MAP_PRIVATE, fd, 0)",
          "new_text": null,
          "old_line_content": "\tmmap = xmmap(NULL, mmap_size, PROT_READ, MAP_PRIVATE, fd, 0);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2148,
          "old_api": "cache_tree_write",
          "new_api": null,
          "old_text": "cache_tree_write(&sb, istate->cache_tree)",
          "new_text": null,
          "old_line_content": "\t\tcache_tree_write(&sb, istate->cache_tree);",
          "new_line_content": "\t\t\t\t\t       sb.len) < 0 ||",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": "ce_skip_worktree",
          "new_api": null,
          "old_text": "ce_skip_worktree(ce)",
          "new_text": null,
          "old_line_content": "\tif (!ignore_skip_worktree && ce_skip_worktree(ce)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&sb)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_release(&sb);",
          "new_line_content": "\t\tif (err)",
          "content_same": false
        },
        {
          "line": 1640,
          "old_api": "verify_hdr",
          "new_api": null,
          "old_text": "verify_hdr(hdr, mmap_size)",
          "new_text": null,
          "old_line_content": "\tif (verify_hdr(hdr, mmap_size) < 0)",
          "new_line_content": "\tif (mmap_size < sizeof(struct cache_header) + 20)",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "ce_mark_uptodate",
          "new_api": null,
          "old_text": "ce_mark_uptodate(ce)",
          "new_text": null,
          "old_line_content": "\t\tce_mark_uptodate(ce);",
          "new_line_content": "\t * CE_VALID or CE_SKIP_WORKTREE means the user promised us",
          "content_same": false
        },
        {
          "line": 1644,
          "old_api": "ntohl",
          "new_api": null,
          "old_text": "ntohl(hdr->hdr_version)",
          "new_text": null,
          "old_line_content": "\tistate->version = ntohl(hdr->hdr_version);",
          "new_line_content": "\tif (mmap == MAP_FAILED)",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(istate->cache_alloc, sizeof(*istate->cache))",
          "new_text": null,
          "old_line_content": "\tistate->cache = xcalloc(istate->cache_alloc, sizeof(*istate->cache));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2161,
          "old_api": "ce_write",
          "new_api": null,
          "old_text": "ce_write(&c, newfd, sb.buf, sb.len)",
          "new_text": null,
          "old_line_content": "\t\t\t|| ce_write(&c, newfd, sb.buf, sb.len) < 0;",
          "new_line_content": "\t\tif (err)",
          "content_same": false
        },
        {
          "line": 2162,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&sb)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_release(&sb);",
          "new_line_content": "\t\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "lstat",
          "new_api": null,
          "old_text": "lstat(ce->name, &st)",
          "new_text": null,
          "old_line_content": "\tif (lstat(ce->name, &st) < 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2169,
          "old_api": "write_untracked_extension",
          "new_api": null,
          "old_text": "write_untracked_extension(&sb, istate->untracked)",
          "new_text": null,
          "old_line_content": "\t\twrite_untracked_extension(&sb, istate->untracked);",
          "new_line_content": "\t\t\t\t\t     sb.len) < 0",
          "content_same": false
        },
        {
          "line": 2172,
          "old_api": "ce_write",
          "new_api": null,
          "old_text": "ce_write(&c, newfd, sb.buf, sb.len)",
          "new_text": null,
          "old_line_content": "\t\t\tce_write(&c, newfd, sb.buf, sb.len) < 0;",
          "new_line_content": "\t\tif (err)",
          "content_same": false
        },
        {
          "line": 2173,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&sb)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_release(&sb);",
          "new_line_content": "\t\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": "ie_match_stat",
          "new_api": null,
          "old_text": "ie_match_stat(istate, ce, &st, options)",
          "new_text": null,
          "old_line_content": "\tchanged = ie_match_stat(istate, ce, &st, options);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": "create_from_disk",
          "new_api": null,
          "old_text": "create_from_disk(disk_ce, &consumed, previous_name)",
          "new_text": null,
          "old_line_content": "\t\tce = create_from_disk(disk_ce, &consumed, previous_name);",
          "new_line_content": "\t\tprevious_name = NULL;",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": "set_index_entry",
          "new_api": null,
          "old_text": "set_index_entry(istate, i, ce)",
          "new_text": null,
          "old_line_content": "\t\tset_index_entry(istate, i, ce);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&previous_name_buf)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&previous_name_buf);",
          "new_line_content": "\t\tstruct cache_entry *ce;",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": "ST_MTIME_NSEC",
          "new_api": null,
          "old_text": "ST_MTIME_NSEC(st)",
          "new_text": null,
          "old_line_content": "\tistate->timestamp.nsec = ST_MTIME_NSEC(st);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(&extsize, (char *)mmap + src_offset + 4, 4)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(&extsize, (char *)mmap + src_offset + 4, 4);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": "ntohl",
          "new_api": null,
          "old_text": "ntohl(extsize)",
          "new_text": null,
          "old_line_content": "\t\textsize = ntohl(extsize);",
          "new_line_content": "\twhile (src_offset <= mmap_size - 20 - 8) {",
          "content_same": false
        },
        {
          "line": 2193,
          "old_api": "commit_lock_file_to",
          "new_api": null,
          "old_text": "commit_lock_file_to(lk, alternate_index_output)",
          "new_text": null,
          "old_line_content": "\t\treturn commit_lock_file_to(lk, alternate_index_output);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "S_ISGITLINK",
          "new_api": null,
          "old_text": "S_ISGITLINK(ce->ce_mode)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!S_ISGITLINK(ce->ce_mode))",
          "new_line_content": "\t\tif (ignore_valid && assume_unchanged &&",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": "commit_lock_file",
          "new_api": null,
          "old_text": "commit_lock_file(lk)",
          "new_text": null,
          "old_line_content": "\t\treturn commit_lock_file(lk);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": "ce_mark_uptodate",
          "new_api": null,
          "old_text": "ce_mark_uptodate(ce)",
          "new_text": null,
          "old_line_content": "\t\t\t\tce_mark_uptodate(ce);",
          "new_line_content": "\t\t    !(ce->ce_flags & CE_VALID))",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": "read_index_extension",
          "new_api": null,
          "old_text": "read_index_extension(istate,\n\t\t\t\t\t (const char *) mmap + src_offset,\n\t\t\t\t\t (char *) mmap + src_offset + 8,\n\t\t\t\t\t extsize)",
          "new_text": null,
          "old_line_content": "\t\tif (read_index_extension(istate,",
          "new_line_content": "\t\t/* After an array of active_nr index entries,",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": "ie_modified",
          "new_api": null,
          "old_text": "ie_modified(istate, ce, &st, options)",
          "new_text": null,
          "old_line_content": "\tif (ie_modified(istate, ce, &st, options)) {",
          "new_line_content": "\t\t\t * because CE_UPTODATE flag is in-core only;",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": "get_lock_file_fd",
          "new_api": null,
          "old_text": "get_lock_file_fd(lock)",
          "new_text": null,
          "old_line_content": "\tint ret = do_write_index(istate, get_lock_file_fd(lock), 0);",
          "new_line_content": "\tif (alternate_index_output)",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": "munmap",
          "new_api": null,
          "old_text": "munmap(mmap, mmap_size)",
          "new_text": null,
          "old_line_content": "\tmunmap(mmap, mmap_size);",
          "new_line_content": "\t\t\t\t\t extsize) < 0)",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": "ce_size",
          "new_api": null,
          "old_text": "ce_size(ce)",
          "new_text": null,
          "old_line_content": "\tsize = ce_size(ce);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2207,
          "old_api": "commit_locked_index",
          "new_api": null,
          "old_text": "commit_locked_index(lock)",
          "new_text": null,
          "old_line_content": "\t\treturn commit_locked_index(lock);",
          "new_line_content": "static int do_write_locked_index(struct index_state *istate, struct lock_file *lock,",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(size)",
          "new_text": null,
          "old_line_content": "\tupdated = xmalloc(size);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2209,
          "old_api": "close_lock_file",
          "new_api": null,
          "old_text": "close_lock_file(lock)",
          "new_text": null,
          "old_line_content": "\t\treturn close_lock_file(lock);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(updated, ce, size)",
          "new_text": null,
          "old_line_content": "\tmemcpy(updated, ce, size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"index file corrupt\")",
          "new_text": null,
          "old_line_content": "\tdie(\"index file corrupt\");",
          "new_line_content": "\t\t\tgoto unmap;",
          "content_same": false
        },
        {
          "line": 1705,
          "old_api": "git_path",
          "new_api": null,
          "old_text": "git_path(\"sharedindex.%s\", base_sha1_hex)",
          "new_text": null,
          "old_line_content": "\tconst char *shared_index = git_path(\"sharedindex.%s\", base_sha1_hex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1706,
          "old_api": "check_and_freshen_file",
          "new_api": null,
          "old_text": "check_and_freshen_file(shared_index, 1)",
          "new_text": null,
          "old_line_content": "\tif (!check_and_freshen_file(shared_index, 1) && warn)",
          "new_line_content": "/*",
          "content_same": false
        },
        {
          "line": 2219,
          "old_api": "prepare_to_write_split_index",
          "new_api": null,
          "old_text": "prepare_to_write_split_index(istate)",
          "new_text": null,
          "old_line_content": "\tprepare_to_write_split_index(istate);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 2220,
          "old_api": "do_write_locked_index",
          "new_api": null,
          "old_text": "do_write_locked_index(istate, lock, flags)",
          "new_text": null,
          "old_line_content": "\tret = do_write_locked_index(istate, lock, flags);",
          "new_line_content": "\t\treturn ret;",
          "content_same": false
        },
        {
          "line": 2221,
          "old_api": "finish_writing_split_index",
          "new_api": null,
          "old_text": "finish_writing_split_index(istate)",
          "new_text": null,
          "old_line_content": "\tfinish_writing_split_index(istate);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": "warning",
          "new_api": null,
          "old_text": "warning(\"could not freshen shared index '%s'\", shared_index)",
          "new_text": null,
          "old_line_content": "\t\twarning(\"could not freshen shared index '%s'\", shared_index);",
          "new_line_content": " * Signal that the shared index is used by updating its mtime.",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"%s\\n\", header_msg)",
          "new_text": null,
          "old_line_content": "\t\tprintf(\"%s\\n\", header_msg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(fmt, name)",
          "new_text": null,
          "old_line_content": "\tprintf(fmt, name);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2233,
          "old_api": "git_config_get_expiry",
          "new_api": null,
          "old_text": "git_config_get_expiry(\"splitindex.sharedindexexpire\",\n\t\t\t\t      &shared_index_expire)",
          "new_text": null,
          "old_line_content": "\t\tgit_config_get_expiry(\"splitindex.sharedindexexpire\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": "do_read_index",
          "new_api": null,
          "old_text": "do_read_index(istate, path, 0)",
          "new_text": null,
          "old_line_content": "\tret = do_read_index(istate, path, 0);",
          "new_line_content": "\tstruct split_index *split_index;",
          "content_same": false
        },
        {
          "line": 2235,
          "old_api": "approxidate",
          "new_api": null,
          "old_text": "approxidate(shared_index_expire)",
          "new_text": null,
          "old_line_content": "\t\tshared_index_expire_date = approxidate(shared_index_expire);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": "is_null_sha1",
          "new_api": null,
          "old_text": "is_null_sha1(split_index->base_sha1)",
          "new_text": null,
          "old_line_content": "\tif (!split_index || is_null_sha1(split_index->base_sha1)) {",
          "new_line_content": "\tconst char *base_path;",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": "post_read_index_from",
          "new_api": null,
          "old_text": "post_read_index_from(istate)",
          "new_text": null,
          "old_line_content": "\t\tpost_read_index_from(istate);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1732,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(1, sizeof(*split_index->base))",
          "new_text": null,
          "old_line_content": "\t\tsplit_index->base = xcalloc(1, sizeof(*split_index->base));",
          "new_line_content": "\tsplit_index = istate->split_index;",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": "git_path",
          "new_api": null,
          "old_text": "git_path(\"sharedindex.%s\", base_sha1_hex)",
          "new_text": null,
          "old_line_content": "\tbase_path = git_path(\"sharedindex.%s\", base_sha1_hex);",
          "new_line_content": "\t\treturn ret;",
          "content_same": false
        },
        {
          "line": 2248,
          "old_api": "get_shared_index_expire_date",
          "new_api": null,
          "old_text": "get_shared_index_expire_date()",
          "new_text": null,
          "old_line_content": "\texpiration = get_shared_index_expire_date();",
          "new_line_content": "\treturn shared_index_expire_date;",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": "do_read_index",
          "new_api": null,
          "old_text": "do_read_index(split_index->base, base_path, 1)",
          "new_text": null,
          "old_line_content": "\tret = do_read_index(split_index->base, base_path, 1);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "hashcmp",
          "new_api": null,
          "old_text": "hashcmp(split_index->base_sha1, split_index->base->sha1)",
          "new_text": null,
          "old_line_content": "\tif (hashcmp(split_index->base_sha1, split_index->base->sha1))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2251,
          "old_api": "stat",
          "new_api": null,
          "old_text": "stat(shared_index_path, &st)",
          "new_text": null,
          "old_line_content": "\tif (stat(shared_index_path, &st))",
          "new_line_content": "static int should_delete_shared_index(const char *shared_index_path)",
          "content_same": false
        },
        {
          "line": 2252,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"could not stat '%s\")",
          "new_text": null,
          "old_line_content": "\t\treturn error_errno(_(\"could not stat '%s\"), shared_index_path);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"broken index, expect %s in %s, got %s\",\n\t\t    base_sha1_hex, base_path,\n\t\t    sha1_to_hex(split_index->base->sha1))",
          "new_text": null,
          "old_line_content": "\t\tdie(\"broken index, expect %s in %s, got %s\",",
          "new_line_content": "\tif (split_index->base)",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(split_index->base->sha1)",
          "new_text": null,
          "old_line_content": "\t\t    sha1_to_hex(split_index->base->sha1));",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 1742,
          "old_api": "freshen_shared_index",
          "new_api": null,
          "old_text": "freshen_shared_index(base_sha1_hex, 0)",
          "new_text": null,
          "old_line_content": "\tfreshen_shared_index(base_sha1_hex, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2262,
          "old_api": "get_git_dir",
          "new_api": null,
          "old_text": "get_git_dir()",
          "new_text": null,
          "old_line_content": "\tDIR *dir = opendir(get_git_dir());",
          "new_line_content": "\tif (st.st_mtime > expiration)",
          "content_same": false
        },
        {
          "line": 2265,
          "old_api": "get_git_dir",
          "new_api": null,
          "old_text": "get_git_dir()",
          "new_text": null,
          "old_line_content": "\t\treturn error_errno(_(\"unable to open git dir: %s\"), get_git_dir());",
          "new_line_content": "\treturn 1;",
          "content_same": false
        },
        {
          "line": 2267,
          "old_api": "readdir",
          "new_api": null,
          "old_text": "readdir(dir)",
          "new_text": null,
          "old_line_content": "\twhile ((de = readdir(dir)) != NULL) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": "S_ISGITLINK",
          "new_api": null,
          "old_text": "S_ISGITLINK(ce->ce_mode)",
          "new_text": null,
          "old_line_content": "\t\tif (ignore_submodules && S_ISGITLINK(ce->ce_mode))",
          "new_line_content": "\tadded_fmt = (in_porcelain ? \"A\\t%s\\n\" : \"%s needs update\\n\");",
          "content_same": false
        },
        {
          "line": 2270,
          "old_api": "skip_prefix",
          "new_api": null,
          "old_text": "skip_prefix(de->d_name, \"sharedindex.\", &sha1_hex)",
          "new_text": null,
          "old_line_content": "\t\tif (!skip_prefix(de->d_name, \"sharedindex.\", &sha1_hex))",
          "new_line_content": "\tstruct dirent *de;",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": "ce_path_match",
          "new_api": null,
          "old_text": "ce_path_match(ce, pathspec, seen)",
          "new_text": null,
          "old_line_content": "\t\tif (pathspec && !ce_path_match(ce, pathspec, seen))",
          "new_line_content": "\t\tstruct cache_entry *ce, *new;",
          "content_same": false
        },
        {
          "line": 2272,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(sha1_hex, current_hex)",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(sha1_hex, current_hex))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": "ce_stage",
          "new_api": null,
          "old_text": "ce_stage(ce)",
          "new_text": null,
          "old_line_content": "\t\tif (ce_stage(ce)) {",
          "new_line_content": "\t\tint filtered = 0;",
          "content_same": false
        },
        {
          "line": 2275,
          "old_api": "should_delete_shared_index",
          "new_api": null,
          "old_text": "should_delete_shared_index(shared_index_path)",
          "new_text": null,
          "old_line_content": "\t\tif (should_delete_shared_index(shared_index_path) > 0 &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(istate->cache[i]->name, ce->name)",
          "new_text": null,
          "old_line_content": "\t\t\t       ! strcmp(istate->cache[i]->name, ce->name))",
          "new_line_content": "\t\tce = istate->cache[i];",
          "content_same": false
        },
        {
          "line": 2277,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"unable to unlink: %s\")",
          "new_text": null,
          "old_line_content": "\t\t\twarning_errno(_(\"unable to unlink: %s\"), shared_index_path);",
          "new_line_content": "\t\tconst char *sha1_hex;",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(istate->cache[i])",
          "new_text": null,
          "old_line_content": "\t\tfree(istate->cache[i]);",
          "new_line_content": "\tint i;",
          "content_same": false
        },
        {
          "line": 1766,
          "old_api": "resolve_undo_clear_index",
          "new_api": null,
          "old_text": "resolve_undo_clear_index(istate)",
          "new_text": null,
          "old_line_content": "\tresolve_undo_clear_index(istate);",
          "new_line_content": "\tfor (i = 0; i < istate->cache_nr; i++) {",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "show_file",
          "new_api": null,
          "old_text": "show_file(unmerged_fmt, ce->name, in_porcelain,\n\t\t\t\t\t  &first, header_msg)",
          "new_text": null,
          "old_line_content": "\t\t\t\tshow_file(unmerged_fmt, ce->name, in_porcelain,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": "free_name_hash",
          "new_api": null,
          "old_text": "free_name_hash(istate)",
          "new_text": null,
          "old_line_content": "\tfree_name_hash(istate);",
          "new_line_content": "\t\t    istate->cache[i] == istate->split_index->base->cache[istate->cache[i]->index - 1])",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "cache_tree_free",
          "new_api": null,
          "old_text": "cache_tree_free(&(istate->cache_tree))",
          "new_text": null,
          "old_line_content": "\tcache_tree_free(&(istate->cache_tree));",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(istate->cache)",
          "new_text": null,
          "old_line_content": "\tfree(istate->cache);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": "discard_split_index",
          "new_api": null,
          "old_text": "discard_split_index(istate)",
          "new_text": null,
          "old_line_content": "\tdiscard_split_index(istate);",
          "new_line_content": "\tistate->cache_changed = 0;",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": "free_untracked_cache",
          "new_api": null,
          "old_text": "free_untracked_cache(istate->untracked)",
          "new_text": null,
          "old_line_content": "\tfree_untracked_cache(istate->untracked);",
          "new_line_content": "\tistate->timestamp.sec = 0;",
          "content_same": false
        },
        {
          "line": 2292,
          "old_api": "git_path",
          "new_api": null,
          "old_text": "git_path(\"sharedindex_XXXXXX\")",
          "new_text": null,
          "old_line_content": "\tfd = mks_tempfile(&temporary_sharedindex, git_path(\"sharedindex_XXXXXX\"));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2294,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(si->base_sha1)",
          "new_text": null,
          "old_line_content": "\t\thashclr(si->base_sha1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2295,
          "old_api": "do_write_locked_index",
          "new_api": null,
          "old_text": "do_write_locked_index(istate, lock, flags)",
          "new_text": null,
          "old_line_content": "\t\treturn do_write_locked_index(istate, lock, flags);",
          "new_line_content": "static int write_shared_index(struct index_state *istate,",
          "content_same": false
        },
        {
          "line": 2297,
          "old_api": "move_cache_to_base_index",
          "new_api": null,
          "old_text": "move_cache_to_base_index(istate)",
          "new_text": null,
          "old_line_content": "\tmove_cache_to_base_index(istate);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2298,
          "old_api": "do_write_index",
          "new_api": null,
          "old_text": "do_write_index(si->base, fd, 1)",
          "new_text": null,
          "old_line_content": "\tret = do_write_index(si->base, fd, 1);",
          "new_line_content": "\tstruct split_index *si = istate->split_index;",
          "content_same": false
        },
        {
          "line": 2300,
          "old_api": "delete_tempfile",
          "new_api": null,
          "old_text": "delete_tempfile(&temporary_sharedindex)",
          "new_text": null,
          "old_line_content": "\t\tdelete_tempfile(&temporary_sharedindex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "ce_intent_to_add",
          "new_api": null,
          "old_text": "ce_intent_to_add(ce)",
          "new_text": null,
          "old_line_content": "\t\t\telse if (ce_intent_to_add(ce))",
          "new_line_content": "\t\t\t\tce->ce_flags &= ~CE_VALID;",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": "git_SHA1_Update",
          "new_api": null,
          "old_text": "git_SHA1_Update(context, write_buffer, buffered)",
          "new_text": null,
          "old_line_content": "\t\tgit_SHA1_Update(context, write_buffer, buffered);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1802,
          "old_api": "write_in_full",
          "new_api": null,
          "old_text": "write_in_full(fd, write_buffer, buffered)",
          "new_text": null,
          "old_line_content": "\t\tif (write_in_full(fd, write_buffer, buffered) != buffered)",
          "new_line_content": "#define WRITE_BUFFER_SIZE 8192",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": "show_file",
          "new_api": null,
          "old_text": "show_file(fmt,\n\t\t\t\t  ce->name, in_porcelain, &first, header_msg)",
          "new_text": null,
          "old_line_content": "\t\t\tshow_file(fmt,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2318,
          "old_api": "git_config_get_max_percent_split_change",
          "new_api": null,
          "old_text": "git_config_get_max_percent_split_change()",
          "new_text": null,
          "old_line_content": "\tint max_split = git_config_get_max_percent_split_change();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(write_buffer + buffered, data, partial)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(write_buffer + buffered, data, partial);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": "refresh_cache_ent",
          "new_api": null,
          "old_text": "refresh_cache_ent(&the_index, ce, options, NULL, NULL)",
          "new_text": null,
          "old_line_content": "\treturn refresh_cache_ent(&the_index, ce, options, NULL, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": "ce_write_flush",
          "new_api": null,
          "old_text": "ce_write_flush(context, fd)",
          "new_text": null,
          "old_line_content": "\t\t\tif (ce_write_flush(context, fd))",
          "new_line_content": "\twhile (len) {",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "getenv",
          "new_api": null,
          "old_text": "getenv(\"GIT_INDEX_VERSION\")",
          "new_text": null,
          "old_line_content": "\tchar *envversion = getenv(\"GIT_INDEX_VERSION\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(ext)",
          "new_text": null,
          "old_line_content": "\text = htonl(ext);",
          "new_line_content": "\t\tlen -= partial;",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(sz)",
          "new_text": null,
          "old_line_content": "\tsz = htonl(sz);",
          "new_line_content": "\t\tdata = (char *) data + partial;",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": "git_config_get_int",
          "new_api": null,
          "old_text": "git_config_get_int(\"index.version\", &value)",
          "new_text": null,
          "old_line_content": "\t\tif (!git_config_get_int(\"index.version\", &value))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": "ce_write",
          "new_api": null,
          "old_text": "ce_write(context, fd, &ext, 4)",
          "new_text": null,
          "old_line_content": "\treturn ((ce_write(context, fd, &ext, 4) < 0) ||",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1837,
          "old_api": "ce_write",
          "new_api": null,
          "old_text": "ce_write(context, fd, &sz, 4)",
          "new_text": null,
          "old_line_content": "\t\t(ce_write(context, fd, &sz, 4) < 0)) ? -1 : 0;",
          "new_line_content": "\treturn 0;",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(si->base_sha1)",
          "new_text": null,
          "old_line_content": "\t\t\thashclr(si->base_sha1);",
          "new_line_content": "int write_locked_index(struct index_state *istate, struct lock_file *lock,",
          "content_same": false
        },
        {
          "line": 2353,
          "old_api": "do_write_locked_index",
          "new_api": null,
          "old_text": "do_write_locked_index(istate, lock, flags)",
          "new_text": null,
          "old_line_content": "\t\treturn do_write_locked_index(istate, lock, flags);",
          "new_line_content": "\t\t       unsigned flags)",
          "content_same": false
        },
        {
          "line": 2356,
          "old_api": "getenv",
          "new_api": null,
          "old_text": "getenv(\"GIT_TEST_SPLIT_INDEX\")",
          "new_text": null,
          "old_line_content": "\tif (getenv(\"GIT_TEST_SPLIT_INDEX\")) {",
          "new_line_content": "\tstruct split_index *si = istate->split_index;",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(envversion, &endp, 10)",
          "new_text": null,
          "old_line_content": "\tversion = strtoul(envversion, &endp, 10);",
          "new_line_content": "\t\t\tversion = value;",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"GIT_INDEX_VERSION set, but the value is invalid.\\n\"\n\t\t\t  \"Using version %i\")",
          "new_text": null,
          "old_line_content": "\t\twarning(_(\"GIT_INDEX_VERSION set, but the value is invalid.\\n\"",
          "new_line_content": "\t\t\t\t  \"Using version %i\"), INDEX_FORMAT_DEFAULT);",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": "write_in_full",
          "new_api": null,
          "old_text": "write_in_full(fd, write_buffer, left)",
          "new_text": null,
          "old_line_content": "\t\tif (write_in_full(fd, write_buffer, left) != left)",
          "new_line_content": "\tunsigned int left = write_buffer_len;",
          "content_same": false
        },
        {
          "line": 2367,
          "old_api": "write_shared_index",
          "new_api": null,
          "old_text": "write_shared_index(istate, lock, flags)",
          "new_text": null,
          "old_line_content": "\t\tret = write_shared_index(istate, lock, flags);",
          "new_line_content": "\t\tif ((v & 15) < 6)",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": "git_SHA1_Final",
          "new_api": null,
          "old_text": "git_SHA1_Final(write_buffer + left, context)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Final(write_buffer + left, context);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1858,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(sha1, write_buffer + left)",
          "new_text": null,
          "old_line_content": "\thashcpy(sha1, write_buffer + left);",
          "new_line_content": "\t/* Flush first if not enough space for SHA1 signature */",
          "content_same": false
        },
        {
          "line": 2372,
          "old_api": "write_split_index",
          "new_api": null,
          "old_text": "write_split_index(istate, lock, flags)",
          "new_text": null,
          "old_line_content": "\tret = write_split_index(istate, lock, flags);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": "lstat",
          "new_api": null,
          "old_text": "lstat(ce->name, &st)",
          "new_text": null,
          "old_line_content": "\tif (lstat(ce->name, &st) < 0)",
          "new_line_content": "\t * ce_stat_data.sd_mtime match the index file mtime.",
          "content_same": false
        },
        {
          "line": 1880,
          "old_api": "ce_match_stat_basic",
          "new_api": null,
          "old_text": "ce_match_stat_basic(ce, &st)",
          "new_text": null,
          "old_line_content": "\tif (ce_match_stat_basic(ce, &st))",
          "new_line_content": "\t * Note that this actually does not do much for gitlinks, for",
          "content_same": false
        },
        {
          "line": 2393,
          "old_api": "read_index",
          "new_api": null,
          "old_text": "read_index(istate)",
          "new_text": null,
          "old_line_content": "\tread_index(istate);",
          "new_line_content": " * the index is unmerged.  Callers who want to refuse to work",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": "ce_modified_check_fs",
          "new_api": null,
          "old_text": "ce_modified_check_fs(ce, &st)",
          "new_text": null,
          "old_line_content": "\tif (ce_modified_check_fs(ce, &st)) {",
          "new_line_content": "\t * contents.  The caller checks with is_racy_timestamp() which",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": "ce_stage",
          "new_api": null,
          "old_text": "ce_stage(ce)",
          "new_text": null,
          "old_line_content": "\t\tif (!ce_stage(ce))",
          "new_line_content": "\tint i;",
          "content_same": false
        },
        {
          "line": 2403,
          "old_api": "cache_entry_size",
          "new_api": null,
          "old_text": "cache_entry_size(len)",
          "new_text": null,
          "old_line_content": "\t\tsize = cache_entry_size(len);",
          "new_line_content": "\tfor (i = 0; i < istate->cache_nr; i++) {",
          "content_same": false
        },
        {
          "line": 2404,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(1, size)",
          "new_text": null,
          "old_line_content": "\t\tnew_ce = xcalloc(1, size);",
          "new_line_content": "\t\tstruct cache_entry *ce = istate->cache[i];",
          "content_same": false
        },
        {
          "line": 2405,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(new_ce->name, ce->name, len)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(new_ce->name, ce->name, len);",
          "new_line_content": "\t\tstruct cache_entry *new_ce;",
          "content_same": false
        },
        {
          "line": 2406,
          "old_api": "create_ce_flags",
          "new_api": null,
          "old_text": "create_ce_flags(0)",
          "new_text": null,
          "old_line_content": "\t\tnew_ce->ce_flags = create_ce_flags(0) | CE_CONFLICTED;",
          "new_line_content": "\t\tint size, len;",
          "content_same": false
        },
        {
          "line": 2409,
          "old_api": "add_index_entry",
          "new_api": null,
          "old_text": "add_index_entry(istate, new_ce, 0)",
          "new_text": null,
          "old_line_content": "\t\tif (add_index_entry(istate, new_ce, 0))",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2410,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: cannot drop to stage #0\",\n\t\t\t\t     new_ce->name)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"%s: cannot drop to stage #0\",",
          "new_line_content": "\t\tunmerged = 1;",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(CACHE_SIGNATURE)",
          "new_text": null,
          "old_line_content": "\tif (hdr->hdr_signature != htonl(CACHE_SIGNATURE))",
          "new_line_content": "\t\t\t    ondisk_cache_entry_extended_size(ce_namelen(ce)) : \\",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"bad signature\")",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"bad signature\");",
          "new_line_content": "\t\t\t    ondisk_cache_entry_size(ce_namelen(ce)))",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "ntohl",
          "new_api": null,
          "old_text": "ntohl(hdr->hdr_version)",
          "new_text": null,
          "old_line_content": "\thdr_version = ntohl(hdr->hdr_version);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"bad index version %d\", hdr_version)",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"bad index version %d\", hdr_version);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "git_SHA1_Init",
          "new_api": null,
          "old_text": "git_SHA1_Init(&c)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Init(&c);",
          "new_line_content": "\tgit_SHA_CTX c;",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": "git_SHA1_Update",
          "new_api": null,
          "old_text": "git_SHA1_Update(&c, hdr, size - 20)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Update(&c, hdr, size - 20);",
          "new_line_content": "\tunsigned char sha1[20];",
          "content_same": false
        },
        {
          "line": 2431,
          "old_api": "index_name_pos",
          "new_api": null,
          "old_text": "index_name_pos(istate, name, namelen)",
          "new_text": null,
          "old_line_content": "\tpos = index_name_pos(istate, name, namelen);",
          "new_line_content": " * We helpfully remove a trailing \"/\" from directories so that",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": "git_SHA1_Final",
          "new_api": null,
          "old_text": "git_SHA1_Final(sha1, &c)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Final(sha1, &c);",
          "new_line_content": "\tint hdr_version;",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "hashcmp",
          "new_api": null,
          "old_text": "hashcmp(sha1, (unsigned char *)hdr + size - 20)",
          "new_text": null,
          "old_line_content": "\tif (hashcmp(sha1, (unsigned char *)hdr + size - 20))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(ce->ce_stat_data.sd_ctime.sec)",
          "new_text": null,
          "old_line_content": "\tondisk->ctime.sec = htonl(ce->ce_stat_data.sd_ctime.sec);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(ce->ce_stat_data.sd_mtime.sec)",
          "new_text": null,
          "old_line_content": "\tondisk->mtime.sec = htonl(ce->ce_stat_data.sd_mtime.sec);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1920,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(ce->ce_stat_data.sd_ctime.nsec)",
          "new_text": null,
          "old_line_content": "\tondisk->ctime.nsec = htonl(ce->ce_stat_data.sd_ctime.nsec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2437,
          "old_api": "ce_namelen",
          "new_api": null,
          "old_text": "ce_namelen(ce)",
          "new_text": null,
          "old_line_content": "\t\tif (ce_namelen(ce) == namelen &&",
          "new_line_content": "\tint pos;",
          "content_same": false
        },
        {
          "line": 2438,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(ce->name, name, namelen)",
          "new_text": null,
          "old_line_content": "\t\t    !memcmp(ce->name, name, namelen))",
          "new_line_content": "\tif (namelen && name[namelen - 1] == '/')",
          "content_same": false
        },
        {
          "line": 1921,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(ce->ce_stat_data.sd_mtime.nsec)",
          "new_text": null,
          "old_line_content": "\tondisk->mtime.nsec = htonl(ce->ce_stat_data.sd_mtime.nsec);",
          "new_line_content": "/* Copy miscellaneous fields but not the name */",
          "content_same": false
        },
        {
          "line": 1922,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(ce->ce_stat_data.sd_dev)",
          "new_text": null,
          "old_line_content": "\tondisk->dev  = htonl(ce->ce_stat_data.sd_dev);",
          "new_line_content": "static char *copy_cache_entry_to_ondisk(struct ondisk_cache_entry *ondisk,",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(ce->ce_stat_data.sd_ino)",
          "new_text": null,
          "old_line_content": "\tondisk->ino  = htonl(ce->ce_stat_data.sd_ino);",
          "new_line_content": "\t\t\t\t       struct cache_entry *ce)",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(ce->ce_mode)",
          "new_text": null,
          "old_line_content": "\tondisk->mode = htonl(ce->ce_mode);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(ce->ce_stat_data.sd_uid)",
          "new_text": null,
          "old_line_content": "\tondisk->uid  = htonl(ce->ce_stat_data.sd_uid);",
          "new_line_content": "\tshort flags;",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(ce->ce_stat_data.sd_gid)",
          "new_text": null,
          "old_line_content": "\tondisk->gid  = htonl(ce->ce_stat_data.sd_gid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "resolve_undo_read",
          "new_api": null,
          "old_text": "resolve_undo_read(data, sz)",
          "new_text": null,
          "old_line_content": "\t\tistate->resolve_undo = resolve_undo_read(data, sz);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": "read_link_extension",
          "new_api": null,
          "old_text": "read_link_extension(istate, data, sz)",
          "new_text": null,
          "old_line_content": "\t\tif (read_link_extension(istate, data, sz))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2452,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(path)",
          "new_text": null,
          "old_line_content": "\tlen = strlen(path);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2453,
          "old_api": "index_name_pos",
          "new_api": null,
          "old_text": "index_name_pos(istate, path, len)",
          "new_text": null,
          "old_line_content": "\tpos = index_name_pos(istate, path, len);",
          "new_line_content": "void *read_blob_data_from_index(const struct index_state *istate,",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": "read_untracked_extension",
          "new_api": null,
          "old_text": "read_untracked_extension(data, sz)",
          "new_text": null,
          "old_line_content": "\t\tistate->untracked = read_untracked_extension(data, sz);",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"index uses %.4s extension, which we do not understand\",\n\t\t\t\t     ext)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"index uses %.4s extension, which we do not understand\",",
          "new_line_content": "\tcase CACHE_EXT_LINK:",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"ignoring %.4s extension\\n\", ext)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"ignoring %.4s extension\\n\", ext);",
          "new_line_content": "\t\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 2464,
          "old_api": "ce_stage",
          "new_api": null,
          "old_text": "ce_stage(istate->cache[i])",
          "new_text": null,
          "old_line_content": "\t\t\tif (ce_stage(istate->cache[i]) == 2)",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": "get_index_file",
          "new_api": null,
          "old_text": "get_index_file()",
          "new_text": null,
          "old_line_content": "\treturn hold_lock_file_for_update(lk, get_index_file(), lock_flags);",
          "new_line_content": "\t\t\t\t     ext);",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": "ce_namelen",
          "new_api": null,
          "old_text": "ce_namelen(ce)",
          "new_text": null,
          "old_line_content": "\t\tsaved_namelen = ce_namelen(ce);",
          "new_line_content": "\t\t\t  struct strbuf *previous_name)",
          "content_same": false
        },
        {
          "line": 2469,
          "old_api": "read_sha1_file",
          "new_api": null,
          "old_text": "read_sha1_file(istate->cache[pos]->oid.hash, &type, &sz)",
          "new_text": null,
          "old_line_content": "\tdata = read_sha1_file(istate->cache[pos]->oid.hash, &type, &sz);",
          "new_line_content": "\t\tfor (i = -pos - 1;",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "get_index_file",
          "new_api": null,
          "old_text": "get_index_file()",
          "new_text": null,
          "old_line_content": "\treturn read_index_from(istate, get_index_file());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1959,
          "old_api": "ondisk_ce_size",
          "new_api": null,
          "old_text": "ondisk_ce_size(ce)",
          "new_text": null,
          "old_line_content": "\t\tsize = ondisk_ce_size(ce);",
          "new_line_content": "\tchar *name;",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(1, size)",
          "new_text": null,
          "old_line_content": "\t\tondisk = xcalloc(1, size);",
          "new_line_content": "\tint result;",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": "copy_cache_entry_to_ondisk",
          "new_api": null,
          "old_text": "copy_cache_entry_to_ondisk(ondisk, ce)",
          "new_text": null,
          "old_line_content": "\t\tname = copy_cache_entry_to_ondisk(ondisk, ce);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1962,
          "old_api": "ce_namelen",
          "new_api": null,
          "old_text": "ce_namelen(ce)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(name, ce->name, ce_namelen(ce));",
          "new_line_content": "\tif (ce->ce_flags & CE_STRIP_NAME) {",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": "cache_entry_size",
          "new_api": null,
          "old_text": "cache_entry_size(len)",
          "new_text": null,
          "old_line_content": "\tstruct cache_entry *ce = xmalloc(cache_entry_size(len));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2481,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(sv->sd)",
          "new_text": null,
          "old_line_content": "\tfree(sv->sd);",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "get_be32",
          "new_api": null,
          "old_text": "get_be32(&ondisk->ctime.sec)",
          "new_text": null,
          "old_line_content": "\tce->ce_stat_data.sd_ctime.sec = get_be32(&ondisk->ctime.sec);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "get_be32",
          "new_api": null,
          "old_text": "get_be32(&ondisk->mtime.sec)",
          "new_text": null,
          "old_line_content": "\tce->ce_stat_data.sd_mtime.sec = get_be32(&ondisk->mtime.sec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": "get_be32",
          "new_api": null,
          "old_text": "get_be32(&ondisk->ctime.nsec)",
          "new_text": null,
          "old_line_content": "\tce->ce_stat_data.sd_ctime.nsec = get_be32(&ondisk->ctime.nsec);",
          "new_line_content": "static struct cache_entry *cache_entry_from_ondisk(struct ondisk_cache_entry *ondisk,",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": "get_be32",
          "new_api": null,
          "old_text": "get_be32(&ondisk->mtime.nsec)",
          "new_text": null,
          "old_line_content": "\tce->ce_stat_data.sd_mtime.nsec = get_be32(&ondisk->mtime.nsec);",
          "new_line_content": "\t\t\t\t\t\t   unsigned int flags,",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": "get_be32",
          "new_api": null,
          "old_text": "get_be32(&ondisk->dev)",
          "new_text": null,
          "old_line_content": "\tce->ce_stat_data.sd_dev   = get_be32(&ondisk->dev);",
          "new_line_content": "\t\t\t\t\t\t   const char *name,",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": "get_be32",
          "new_api": null,
          "old_text": "get_be32(&ondisk->ino)",
          "new_text": null,
          "old_line_content": "\tce->ce_stat_data.sd_ino   = get_be32(&ondisk->ino);",
          "new_line_content": "\t\t\t\t\t\t   size_t len)",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": "get_be32",
          "new_api": null,
          "old_text": "get_be32(&ondisk->mode)",
          "new_text": null,
          "old_line_content": "\tce->ce_mode  = get_be32(&ondisk->mode);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2489,
          "old_api": "stat",
          "new_api": null,
          "old_text": "stat(path, &st)",
          "new_text": null,
          "old_line_content": "\tif (stat(path, &st) < 0)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": "get_be32",
          "new_api": null,
          "old_text": "get_be32(&ondisk->gid)",
          "new_text": null,
          "old_line_content": "\tce->ce_stat_data.sd_gid   = get_be32(&ondisk->gid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1973,
          "old_api": "encode_varint",
          "new_api": null,
          "old_text": "encode_varint(to_remove, to_remove_vi)",
          "new_text": null,
          "old_line_content": "\t\tprefix_size = encode_varint(to_remove, to_remove_vi);",
          "new_line_content": "\t\tint common, to_remove, prefix_size;",
          "content_same": false
        },
        {
          "line": 1976,
          "old_api": "offsetof",
          "new_api": null,
          "old_text": "offsetof(struct ondisk_cache_entry_extended, name)",
          "new_text": null,
          "old_line_content": "\t\t\tsize = offsetof(struct ondisk_cache_entry_extended, name);",
          "new_line_content": "\t\t     (ce->name[common] &&",
          "content_same": false
        },
        {
          "line": 2493,
          "old_api": "match_stat_data",
          "new_api": null,
          "old_text": "match_stat_data(sv->sd, &st)",
          "new_text": null,
          "old_line_content": "\treturn S_ISREG(st.st_mode) && !match_stat_data(sv->sd, &st);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": "offsetof",
          "new_api": null,
          "old_text": "offsetof(struct ondisk_cache_entry, name)",
          "new_text": null,
          "old_line_content": "\t\t\tsize = offsetof(struct ondisk_cache_entry, name);",
          "new_line_content": "\t\t      ce->name[common] == previous_name->buf[common]);",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": "ce_namelen",
          "new_api": null,
          "old_text": "ce_namelen(ce)",
          "new_text": null,
          "old_line_content": "\t\tsize += prefix_size + (ce_namelen(ce) - common + 1);",
          "new_line_content": "\t\t     common++)",
          "content_same": false
        },
        {
          "line": 1981,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(1, size)",
          "new_text": null,
          "old_line_content": "\t\tondisk = xcalloc(1, size);",
          "new_line_content": "\t\tto_remove = previous_name->len - common;",
          "content_same": false
        },
        {
          "line": 1983,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(name, to_remove_vi, prefix_size)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(name, to_remove_vi, prefix_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": "ce_namelen",
          "new_api": null,
          "old_text": "ce_namelen(ce)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(name + prefix_size, ce->name + common, ce_namelen(ce) - common);",
          "new_line_content": "\t\tif (ce->ce_flags & CE_EXTENDED)",
          "content_same": false
        },
        {
          "line": 1986,
          "old_api": "strbuf_splice",
          "new_api": null,
          "old_text": "strbuf_splice(previous_name, common, to_remove,\n\t\t\t      ce->name + common, ce_namelen(ce) - common)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_splice(previous_name, common, to_remove,",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 2500,
          "old_api": "S_ISREG",
          "new_api": null,
          "old_text": "S_ISREG(st.st_mode)",
          "new_text": null,
          "old_line_content": "\tif (fstat(fd, &st) < 0 || !S_ISREG(st.st_mode))",
          "new_line_content": "\tif (!sv->sd)",
          "content_same": false
        },
        {
          "line": 2501,
          "old_api": "stat_validity_clear",
          "new_api": null,
          "old_text": "stat_validity_clear(sv)",
          "new_text": null,
          "old_line_content": "\t\tstat_validity_clear(sv);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 2504,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(1, sizeof(struct stat_data))",
          "new_text": null,
          "old_line_content": "\t\t\tsv->sd = xcalloc(1, sizeof(struct stat_data));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2505,
          "old_api": "fill_stat_data",
          "new_api": null,
          "old_text": "fill_stat_data(sv->sd, &st)",
          "new_text": null,
          "old_line_content": "\t\tfill_stat_data(sv->sd, &st);",
          "new_line_content": "void stat_validity_update(struct stat_validity *sv, int fd)",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": "ce_write",
          "new_api": null,
          "old_text": "ce_write(c, fd, ondisk, size)",
          "new_text": null,
          "old_line_content": "\tresult = ce_write(c, fd, ondisk, size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": "decode_varint",
          "new_api": null,
          "old_text": "decode_varint(&cp)",
          "new_text": null,
          "old_line_content": "\tsize_t len = decode_varint(&cp);",
          "new_line_content": " * Adjacent cache entries tend to share the leading paths, so it makes",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"malformed name field in the index\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"malformed name field in the index\");",
          "new_line_content": " * number of bytes to be stripped from the end of the previous name,",
          "content_same": false
        },
        {
          "line": 1490,
          "old_api": "strbuf_remove",
          "new_api": null,
          "old_text": "strbuf_remove(name, name->len - len, len)",
          "new_text": null,
          "old_line_content": "\tstrbuf_remove(name, name->len - len, len);",
          "new_line_content": " * and the bytes to append to the result, to come up with its name.",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(name, cp, ep - cp)",
          "new_text": null,
          "old_line_content": "\tstrbuf_add(name, cp, ep - cp);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2013,
          "old_api": "open",
          "new_api": null,
          "old_text": "open(path, O_RDONLY)",
          "new_text": null,
          "old_line_content": "\tfd = open(path, O_RDONLY);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2017,
          "old_api": "fstat",
          "new_api": null,
          "old_text": "fstat(fd, &st)",
          "new_text": null,
          "old_line_content": "\tif (fstat(fd, &st))",
          "new_line_content": "\tunsigned char sha1[20];",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": "get_be16",
          "new_api": null,
          "old_text": "get_be16(&ondisk->flags)",
          "new_text": null,
          "old_line_content": "\tflags = get_be16(&ondisk->flags);",
          "new_line_content": "\t\t\t\t\t    unsigned long *ent_size,",
          "content_same": false
        },
        {
          "line": 2023,
          "old_api": "pread_in_full",
          "new_api": null,
          "old_text": "pread_in_full(fd, sha1, 20, st.st_size - 20)",
          "new_text": null,
          "old_line_content": "\tn = pread_in_full(fd, sha1, 20, st.st_size - 20);",
          "new_line_content": "\tif (fd < 0)",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": "get_be16",
          "new_api": null,
          "old_text": "get_be16(&ondisk2->flags2)",
          "new_text": null,
          "old_line_content": "\t\textended_flags = get_be16(&ondisk2->flags2) << 16;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": "hashcmp",
          "new_api": null,
          "old_text": "hashcmp(istate->sha1, sha1)",
          "new_text": null,
          "old_line_content": "\tif (hashcmp(istate->sha1, sha1))",
          "new_line_content": "\t\tgoto out;",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Unknown index entry format %08x\", extended_flags)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Unknown index entry format %08x\", extended_flags);",
          "new_line_content": "\tlen = flags & CE_NAMEMASK;",
          "content_same": false
        },
        {
          "line": 2030,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(fd)",
          "new_text": null,
          "old_line_content": "\tclose(fd);",
          "new_line_content": "\t\tgoto out;",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(fd)",
          "new_text": null,
          "old_line_content": "\tclose(fd);",
          "new_line_content": "\t\tgoto out;",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(name)",
          "new_text": null,
          "old_line_content": "\t\t\tlen = strlen(name);",
          "new_line_content": "\t\tflags |= extended_flags;",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": "cache_entry_from_ondisk",
          "new_api": null,
          "old_text": "cache_entry_from_ondisk(ondisk, flags, name, len)",
          "new_text": null,
          "old_line_content": "\t\tce = cache_entry_from_ondisk(ondisk, flags, name, len);",
          "new_line_content": "\t\tname = ondisk2->name;",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": "ondisk_ce_size",
          "new_api": null,
          "old_text": "ondisk_ce_size(ce)",
          "new_text": null,
          "old_line_content": "\t\t*ent_size = ondisk_ce_size(ce);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": "expand_name_field",
          "new_api": null,
          "old_text": "expand_name_field(previous_name, name)",
          "new_text": null,
          "old_line_content": "\t\tconsumed = expand_name_field(previous_name, name);",
          "new_line_content": "\tif (!previous_name) {",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": "cache_entry_from_ondisk",
          "new_api": null,
          "old_text": "cache_entry_from_ondisk(ondisk, flags,\n\t\t\t\t\t     previous_name->buf,\n\t\t\t\t\t     previous_name->len)",
          "new_text": null,
          "old_line_content": "\t\tce = cache_entry_from_ondisk(ondisk, flags,",
          "new_line_content": "\t\t/* v3 and earlier */",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 63,
      "total_additions": 247,
      "total_deletions": 246,
      "total_api_changes": 556
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 10,
        "api_related_lines": 556,
        "non_api_lines": 6,
        "non_api_line_numbers": [
          1025,
          1026,
          1027,
          1028,
          1031,
          1032
        ]
      }
    },
    "api_calls_before": 514,
    "api_calls_after": 515,
    "diff_info": {
      "added_lines": 10,
      "removed_lines": 1,
      "total_diff_lines": 23
    }
  }
}