{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/2be421dbb6928421350fff407544ec34e68c1f73",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/2be421dbb6928421350fff407544ec34e68c1f73/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/2be421dbb6928421350fff407544ec34e68c1f73/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/2be421dbb6928421350fff407544ec34e68c1f73/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 56,
          "old_api": "ef_array_sort",
          "new_api": "ilter_refs",
          "old_text": "ef_array_sort(sorting, &array);",
          "new_text": "ilter_refs(&array, filter, FILTER_REFS_TAGS);",
          "old_line_content": "\tref_array_sort(sorting, &array);",
          "new_line_content": "\tfilter_refs(&array, filter, FILTER_REFS_TAGS);",
          "content_same": false
        },
        {
          "line": 60,
          "old_api": "ef_array_clear",
          "new_api": "how_ref_array_item",
          "old_text": "ef_array_clear(&array);",
          "new_text": "how_ref_array_item(array.items[i], format, 0);",
          "old_line_content": "\tref_array_clear(&array);",
          "new_line_content": "\t\tshow_ref_array_item(array.items[i], format, 0);",
          "content_same": false
        },
        {
          "line": 61,
          "old_api": "ree",
          "new_api": "ef_array_clear",
          "old_text": "ree(to_free);",
          "new_text": "ef_array_clear(&array);",
          "old_line_content": "\tfree(to_free);",
          "new_line_content": "\tref_array_clear(&array);",
          "content_same": false
        },
        {
          "line": 84,
          "old_api": "(\"tag '%s' not found.\"),",
          "new_api": "ead_ref",
          "old_text": "(\"tag '%s' not found.\"),",
          "new_text": "ead_ref(ref, sha1))",
          "old_line_content": "\t\t\terror(_(\"tag '%s' not found.\"), *p);",
          "new_line_content": "\t\tif (read_ref(ref, sha1)) {",
          "content_same": false
        },
        {
          "line": 111,
          "old_api": "(\"could not verify the tag '%s'\"),",
          "new_api": "un_command_v_opt",
          "old_text": "(\"could not verify the tag '%s'\"),",
          "new_text": "un_command_v_opt(argv_verify_tag, RUN_GIT_CMD))",
          "old_line_content": "\t\treturn error(_(\"could not verify the tag '%s'\"), name);",
          "new_line_content": "\tif (run_command_v_opt(argv_verify_tag, RUN_GIT_CMD))",
          "content_same": false
        },
        {
          "line": 148,
          "old_api": "arse_ref_filter_atom",
          "new_api": "trlen",
          "old_text": "arse_ref_filter_atom(arg, arg+len);",
          "new_text": "trlen(arg);",
          "old_line_content": "\ts->atom = parse_ref_filter_atom(arg, arg+len);",
          "new_line_content": "\tlen = strlen(arg);",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": "arse_sorting_string",
          "new_api": "onfig_error_nonbool",
          "old_text": "arse_sorting_string(value, sorting_tail);",
          "new_text": "onfig_error_nonbool(var);",
          "old_line_content": "\t\tparse_sorting_string(value, sorting_tail);",
          "new_line_content": "\t\t\treturn config_error_nonbool(var);",
          "content_same": false
        },
        {
          "line": 169,
          "old_api": "it_column_config",
          "new_api": "tarts_with",
          "old_text": "it_column_config(var, value, \"tag\", &colopts);",
          "new_text": "tarts_with(var, \"column.\"))",
          "old_line_content": "\t\treturn git_column_config(var, value, \"tag\", &colopts);",
          "new_line_content": "\tif (starts_with(var, \"column.\"))",
          "content_same": false
        },
        {
          "line": 170,
          "old_api": "it_default_config",
          "new_api": "it_column_config",
          "old_text": "it_default_config(var, value, cb);",
          "new_text": "it_column_config(var, value, \"tag\", &colopts);",
          "old_line_content": "\treturn git_default_config(var, value, cb);",
          "new_line_content": "\t\treturn git_column_config(var, value, \"tag\", &colopts);",
          "content_same": false
        },
        {
          "line": 198,
          "old_api": "(\"unable to sign the tag\"))",
          "new_api": "o_sign",
          "old_text": "(\"unable to sign the tag\"))",
          "new_text": "o_sign(buf) ",
          "old_line_content": "\t\treturn error(_(\"unable to sign the tag\"));",
          "new_line_content": "\tif (sign && do_sign(buf) < 0)",
          "content_same": false
        },
        {
          "line": 199,
          "old_api": "rite_sha1_file",
          "new_api": "(\"unable to sign the tag\"))",
          "old_text": "rite_sha1_file(buf->buf, buf->len, tag_type, result) ",
          "new_text": "(\"unable to sign the tag\"))",
          "old_line_content": "\tif (write_sha1_file(buf->buf, buf->len, tag_type, result) < 0)",
          "new_line_content": "\t\treturn error(_(\"unable to sign the tag\"));",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": "(\"unable to write tag file\"))",
          "new_api": "rite_sha1_file",
          "old_text": "(\"unable to write tag file\"))",
          "new_text": "rite_sha1_file(buf->buf, buf->len, tag_type, result) ",
          "old_line_content": "\t\treturn error(_(\"unable to write tag file\"));",
          "new_line_content": "\tif (write_sha1_file(buf->buf, buf->len, tag_type, result) < 0)",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": "ypename",
          "new_api": "ha1_to_hex",
          "old_text": "ypename(type),",
          "new_text": "ha1_to_hex(object),",
          "old_line_content": "\t\t\t  typename(type),",
          "new_line_content": "\t\t\t  sha1_to_hex(object),",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": "pen",
          "new_api": "it_pathdup",
          "old_text": "pen(path, O_CREAT | O_TRUNC | O_WRONLY, 0600);",
          "new_text": "it_pathdup(\"TAG_EDITMSG\");",
          "old_line_content": "\t\tfd = open(path, O_CREAT | O_TRUNC | O_WRONLY, 0600);",
          "new_line_content": "\t\tpath = git_pathdup(\"TAG_EDITMSG\");",
          "content_same": false
        },
        {
          "line": 250,
          "old_api": "rite_tag_body",
          "new_api": "s_null_sha1",
          "old_text": "rite_tag_body(fd, prev);",
          "new_text": "s_null_sha1(prev))",
          "old_line_content": "\t\t\twrite_tag_body(fd, prev);",
          "new_line_content": "\t\tif (!is_null_sha1(prev)) {",
          "content_same": false
        },
        {
          "line": 258,
          "old_api": "rite_or_die",
          "new_api": "(tag_template_nocleanup),",
          "old_text": "rite_or_die(fd, buf.buf, buf.len);",
          "new_text": "(tag_template_nocleanup),",
          "old_line_content": "\t\t\twrite_or_die(fd, buf.buf, buf.len);",
          "new_line_content": "\t\t\t\tstrbuf_commented_addf(&buf, _(tag_template_nocleanup), tag, comment_line_char);",
          "content_same": false
        },
        {
          "line": 259,
          "old_api": "trbuf_release",
          "new_api": "rite_or_die",
          "old_text": "trbuf_release(&buf);",
          "new_text": "rite_or_die(fd, buf.buf, buf.len);",
          "old_line_content": "\t\t\tstrbuf_release(&buf);",
          "new_line_content": "\t\t\twrite_or_die(fd, buf.buf, buf.len);",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": "printf",
          "new_api": "aunch_editor",
          "old_text": "printf(stderr,\n\t\t\t_(\"Please supply the message using either -m or -F option.\\n\"));",
          "new_text": "aunch_editor(path, buf, NULL))",
          "old_line_content": "\t\t\tfprintf(stderr,",
          "new_line_content": "\t\tif (launch_editor(path, buf, NULL)) {",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": "(\"Please supply the message using either -m or -F option.\\n\"))",
          "new_api": "printf",
          "old_text": "(\"Please supply the message using either -m or -F option.\\n\"))",
          "new_text": "printf(stderr,\n\t\t\t_(\"Please supply the message using either -m or -F option.\\n\"));",
          "old_line_content": "\t\t\t_(\"Please supply the message using either -m or -F option.\\n\"));",
          "new_line_content": "\t\t\tfprintf(stderr,",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": "xit",
          "new_api": "(\"Please supply the message using either -m or -F option.\\n\"))",
          "old_text": "xit(1);",
          "new_text": "(\"Please supply the message using either -m or -F option.\\n\"))",
          "old_line_content": "\t\t\texit(1);",
          "new_line_content": "\t\t\t_(\"Please supply the message using either -m or -F option.\\n\"));",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": "ree",
          "new_api": "nlink_or_warn",
          "old_text": "ree(path);",
          "new_text": "nlink_or_warn(path);",
          "old_line_content": "\t\tfree(path);",
          "new_line_content": "\t\tunlink_or_warn(path);",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": "trbuf_addf",
          "new_api": "trbuf_reset",
          "old_text": "trbuf_addf(sb, \"refs/tags/%s\", name);",
          "new_text": "trbuf_reset(sb);",
          "old_line_content": "\tstrbuf_addf(sb, \"refs/tags/%s\", name);",
          "new_line_content": "\tstrbuf_reset(sb);",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "PT_BOOL",
          "new_api": "_",
          "old_text": "PT_BOOL('a', \"annotate\", &annotate,\n\t\t\t\t\tN_(\"annotated tag, needs a message\")),",
          "new_text": "_(\"Tag creation options\"))",
          "old_line_content": "\t\tOPT_BOOL('a', \"annotate\", &annotate,",
          "new_line_content": "\t\tOPT_GROUP(N_(\"Tag creation options\")),",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": "_",
          "new_api": "PT_BOOL",
          "old_text": "_(\"annotated tag, needs a message\"))",
          "new_text": "PT_BOOL('a', \"annotate\", &annotate,\n\t\t\t\t\tN_(\"annotated tag, needs a message\")),",
          "old_line_content": "\t\t\t\t\tN_(\"annotated tag, needs a message\")),",
          "new_line_content": "\t\tOPT_BOOL('a', \"annotate\", &annotate,",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": "PT_END",
          "new_api": "_",
          "old_text": "PT_END()\n",
          "new_text": "_(\"format to use for the output\"))",
          "old_line_content": "\t\tOPT_END()",
          "new_line_content": "\t\tOPT_STRING(  0 , \"format\", &format, N_(\"format\"), N_(\"format to use for the output\")),",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": "(\"--column and -n are incompatible\"))",
          "new_api": "xplicitly_enable_column",
          "old_text": "(\"--column and -n are incompatible\"))",
          "new_text": "xplicitly_enable_column(colopts))",
          "old_line_content": "\t\t\tdie(_(\"--column and -n are incompatible\"));",
          "new_line_content": "\t\tif (explicitly_enable_column(colopts))",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": "olumn_active",
          "new_api": "ist_tags",
          "old_text": "olumn_active(colopts))",
          "new_text": "ist_tags(&filter, sorting, format);",
          "old_line_content": "\t\tif (column_active(colopts))",
          "new_line_content": "\t\tret = list_tags(&filter, sorting, format);",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": "top_column_filter",
          "new_api": "olumn_active",
          "old_text": "top_column_filter();",
          "new_text": "olumn_active(colopts))",
          "old_line_content": "\t\t\tstop_column_filter();",
          "new_line_content": "\t\tif (column_active(colopts))",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": "trbuf_read",
          "new_api": "trcmp",
          "old_text": "trbuf_read(&buf, 0, 1024) ",
          "new_text": "trcmp(msgfile, \"-\"))",
          "old_line_content": "\t\t\t\tif (strbuf_read(&buf, 0, 1024) < 0)",
          "new_line_content": "\t\t\tif (!strcmp(msgfile, \"-\")) {",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": "(\"cannot read '%s'\"),",
          "new_api": "trbuf_read",
          "old_text": "(\"cannot read '%s'\"),",
          "new_text": "trbuf_read(&buf, 0, 1024) ",
          "old_line_content": "\t\t\t\t\tdie_errno(_(\"cannot read '%s'\"), msgfile);",
          "new_line_content": "\t\t\t\tif (strbuf_read(&buf, 0, 1024) < 0)",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": "(\"could not open or read '%s'\"),",
          "new_api": "trbuf_read_file",
          "old_text": "(\"could not open or read '%s'\"),",
          "new_text": "trbuf_read_file(&buf, msgfile, 1024) ",
          "old_line_content": "\t\t\t\t\tdie_errno(_(\"could not open or read '%s'\"),",
          "new_line_content": "\t\t\t\tif (strbuf_read_file(&buf, msgfile, 1024) < 0)",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": "(\"Failed to resolve '%s' as a valid ref.\"),",
          "new_api": "et_sha1",
          "old_text": "(\"Failed to resolve '%s' as a valid ref.\"),",
          "new_text": "et_sha1(object_ref, object))",
          "old_line_content": "\t\tdie(_(\"Failed to resolve '%s' as a valid ref.\"), object_ref);",
          "new_line_content": "\tif (get_sha1(object_ref, object))",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": "(\"'%s' is not a valid tag name.\"),",
          "new_api": "trbuf_check_tag_ref",
          "old_text": "(\"'%s' is not a valid tag name.\"),",
          "new_text": "trbuf_check_tag_ref(&ref, tag))",
          "old_line_content": "\t\tdie(_(\"'%s' is not a valid tag name.\"), tag);",
          "new_line_content": "\tif (strbuf_check_tag_ref(&ref, tag))",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": "ashclr",
          "new_api": "ead_ref",
          "old_text": "ashclr(prev);",
          "new_text": "ead_ref(ref.buf, prev))",
          "old_line_content": "\t\thashclr(prev);",
          "new_line_content": "\tif (read_ref(ref.buf, prev))",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": "ie",
          "new_api": "ef_transaction_commit",
          "old_text": "ie(\"%s\", err.buf);",
          "new_text": "ef_transaction_commit(transaction, &err))",
          "old_line_content": "\t\tdie(\"%s\", err.buf);",
          "new_line_content": "\t    ref_transaction_commit(transaction, &err))",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": "ef_transaction_free",
          "new_api": "ie",
          "old_text": "ef_transaction_free(transaction);",
          "new_text": "ie(\"%s\", err.buf);",
          "old_line_content": "\tref_transaction_free(transaction);",
          "new_line_content": "\t\tdie(\"%s\", err.buf);",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": "ashcmp",
          "new_api": "ef_transaction_free",
          "old_text": "ashcmp(prev, object))",
          "new_text": "ef_transaction_free(transaction);",
          "old_line_content": "\tif (force && !is_null_sha1(prev) && hashcmp(prev, object))",
          "new_line_content": "\tref_transaction_free(transaction);",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": "ind_unique_abbrev",
          "new_api": "ashcmp",
          "old_text": "ind_unique_abbrev(prev, DEFAULT_ABBREV))",
          "new_text": "ashcmp(prev, object))",
          "old_line_content": "\t\tprintf(_(\"Updated tag '%s' (was %s)\\n\"), tag, find_unique_abbrev(prev, DEFAULT_ABBREV));",
          "new_line_content": "\tif (force && !is_null_sha1(prev) && hashcmp(prev, object))",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 57,
          "old_api": null,
          "new_api": "ef_array_sort",
          "old_text": null,
          "new_text": "ef_array_sort(sorting, &array);",
          "old_line_content": "",
          "new_line_content": "\tref_array_sort(sorting, &array);",
          "content_same": false
        },
        {
          "line": 62,
          "old_api": null,
          "new_api": "ree",
          "old_text": null,
          "new_text": "ree(to_free);",
          "old_line_content": "",
          "new_line_content": "\tfree(to_free);",
          "content_same": false
        },
        {
          "line": 78,
          "old_api": null,
          "new_api": "nprintf",
          "old_text": null,
          "new_text": "nprintf(ref, sizeof(ref), \"refs/tags/%s\", *p)\n",
          "old_line_content": "\t\t\t\t\t>= sizeof(ref)) {",
          "new_line_content": "\t\tif (snprintf(ref, sizeof(ref), \"refs/tags/%s\", *p)",
          "content_same": false
        },
        {
          "line": 80,
          "old_api": null,
          "new_api": "(\"tag name too long: %.*s...\"),",
          "old_text": null,
          "new_text": "(\"tag name too long: %.*s...\"),",
          "old_line_content": "\t\t\thad_error = 1;",
          "new_line_content": "\t\t\terror(_(\"tag name too long: %.*s...\"), 50, *p);",
          "content_same": false
        },
        {
          "line": 85,
          "old_api": null,
          "new_api": "(\"tag '%s' not found.\"),",
          "old_text": null,
          "new_text": "(\"tag '%s' not found.\"),",
          "old_line_content": "\t\t\thad_error = 1;",
          "new_line_content": "\t\t\terror(_(\"tag '%s' not found.\"), *p);",
          "content_same": false
        },
        {
          "line": 89,
          "old_api": null,
          "new_api": "n",
          "old_text": null,
          "new_text": "n(*p, ref, sha1))",
          "old_line_content": "\t\t\thad_error = 1;",
          "new_line_content": "\t\tif (fn(*p, ref, sha1))",
          "content_same": false
        },
        {
          "line": 98,
          "old_api": null,
          "new_api": "elete_ref",
          "old_text": null,
          "new_text": "elete_ref(ref, sha1, 0))",
          "old_line_content": "\t\treturn 1;",
          "new_line_content": "\tif (delete_ref(ref, sha1, 0))",
          "content_same": false
        },
        {
          "line": 100,
          "old_api": null,
          "new_api": "ind_unique_abbrev",
          "old_text": null,
          "new_text": "ind_unique_abbrev(sha1, DEFAULT_ABBREV))",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\tprintf(_(\"Deleted tag '%s' (was %s)\\n\"), name, find_unique_abbrev(sha1, DEFAULT_ABBREV));",
          "content_same": false
        },
        {
          "line": 109,
          "old_api": null,
          "new_api": "ha1_to_hex",
          "old_text": null,
          "new_text": "ha1_to_hex(sha1);",
          "old_line_content": "",
          "new_line_content": "\targv_verify_tag[2] = sha1_to_hex(sha1);",
          "content_same": false
        },
        {
          "line": 112,
          "old_api": null,
          "new_api": "(\"could not verify the tag '%s'\"),",
          "old_text": null,
          "new_text": "(\"could not verify the tag '%s'\"),",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\treturn error(_(\"could not verify the tag '%s'\"), name);",
          "content_same": false
        },
        {
          "line": 118,
          "old_api": null,
          "new_api": "et_signing_key",
          "old_text": null,
          "new_text": "et_signing_key())",
          "old_line_content": "}",
          "new_line_content": "\treturn sign_buffer(buffer, buffer, get_signing_key());",
          "content_same": false
        },
        {
          "line": 122,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"\\nWrite a message for tag:\\n  %s\\n\"\n\t\"Lines starting with '%c' will be ignored.\\n\");",
          "old_line_content": "\t\"Lines starting with '%c' will be ignored.\\n\");",
          "new_line_content": "\tN_(\"\\nWrite a message for tag:\\n  %s\\n\"",
          "content_same": false
        },
        {
          "line": 126,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"\\nWrite a message for tag:\\n  %s\\n\"\n\t\"Lines starting with '%c' will be kept; you may remove them\"\n\t\" yourself if you want to.\\n\");",
          "old_line_content": "\t\"Lines starting with '%c' will be kept; you may remove them\"",
          "new_line_content": "\tN_(\"\\nWrite a message for tag:\\n  %s\\n\"",
          "content_same": false
        },
        {
          "line": 136,
          "old_api": null,
          "new_api": "calloc",
          "old_text": null,
          "new_text": "calloc(1, sizeof(*s));",
          "old_line_content": "\ts->next = *sorting_tail;",
          "new_line_content": "\ts = xcalloc(1, sizeof(*s));",
          "content_same": false
        },
        {
          "line": 145,
          "old_api": null,
          "new_api": "kip_prefix",
          "old_text": null,
          "new_text": "kip_prefix(arg, \"v:\", &arg))",
          "old_line_content": "\t\ts->version = 1;",
          "new_line_content": "\t    skip_prefix(arg, \"v:\", &arg))",
          "content_same": false
        },
        {
          "line": 149,
          "old_api": null,
          "new_api": "arse_ref_filter_atom",
          "old_text": null,
          "new_text": "arse_ref_filter_atom(arg, arg+len);",
          "old_line_content": "",
          "new_line_content": "\ts->atom = parse_ref_filter_atom(arg, arg+len);",
          "content_same": false
        },
        {
          "line": 159,
          "old_api": null,
          "new_api": "trcmp",
          "old_text": null,
          "new_text": "trcmp(var, \"tag.sort\"))",
          "old_line_content": "\t\tif (!value)",
          "new_line_content": "\tif (!strcmp(var, \"tag.sort\")) {",
          "content_same": false
        },
        {
          "line": 162,
          "old_api": null,
          "new_api": "arse_sorting_string",
          "old_text": null,
          "new_text": "arse_sorting_string(value, sorting_tail);",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\t\tparse_sorting_string(value, sorting_tail);",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": null,
          "new_api": "it_gpg_config",
          "old_text": null,
          "new_text": "it_gpg_config(var, value, cb);",
          "old_line_content": "\tif (status)",
          "new_line_content": "\tstatus = git_gpg_config(var, value, cb);",
          "content_same": false
        },
        {
          "line": 171,
          "old_api": null,
          "new_api": "it_default_config",
          "old_text": null,
          "new_text": "it_default_config(var, value, cb);",
          "old_line_content": "}",
          "new_line_content": "\treturn git_default_config(var, value, cb);",
          "content_same": false
        },
        {
          "line": 180,
          "old_api": null,
          "new_api": "ead_sha1_file",
          "old_text": null,
          "new_text": "ead_sha1_file(sha1, &type, &size);",
          "old_line_content": "\tif (!buf)",
          "new_line_content": "\tbuf = read_sha1_file(sha1, &type, &size);",
          "content_same": false
        },
        {
          "line": 184,
          "old_api": null,
          "new_api": "trstr",
          "old_text": null,
          "new_text": "trstr(buf, \"\\n\\n\");",
          "old_line_content": "",
          "new_line_content": "\tsp = strstr(buf, \"\\n\\n\");",
          "content_same": false
        },
        {
          "line": 187,
          "old_api": null,
          "new_api": "ree",
          "old_text": null,
          "new_text": "ree(buf);",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\t\tfree(buf);",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": null,
          "new_api": "arse_signature",
          "old_text": null,
          "new_text": "arse_signature(sp, buf + size - sp))",
          "old_line_content": "",
          "new_line_content": "\twrite_or_die(fd, sp, parse_signature(sp, buf + size - sp));",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": null,
          "new_api": "ree",
          "old_text": null,
          "new_text": "ree(buf);",
          "old_line_content": "}",
          "new_line_content": "\tfree(buf);",
          "content_same": false
        },
        {
          "line": 201,
          "old_api": null,
          "new_api": "(\"unable to write tag file\"))",
          "old_text": null,
          "new_text": "(\"unable to write tag file\"))",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\treturn error(_(\"unable to write tag file\"));",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": null,
          "new_api": "ha1_object_info",
          "old_text": null,
          "new_text": "ha1_object_info(object, NULL);",
          "old_line_content": "\tif (type <= OBJ_NONE)",
          "new_line_content": "\ttype = sha1_object_info(object, NULL);",
          "content_same": false
        },
        {
          "line": 226,
          "old_api": null,
          "new_api": "(\"bad object type.\"))",
          "old_text": null,
          "new_text": "(\"bad object type.\"))",
          "old_line_content": "",
          "new_line_content": "\t    die(_(\"bad object type.\"));",
          "content_same": false
        },
        {
          "line": 228,
          "old_api": null,
          "new_api": "nprintf",
          "old_text": null,
          "new_text": "nprintf(header_buf, sizeof(header_buf),\n\t\t\t  \"object %s\\n\"\n\t\t\t  \"type %s\\n\"\n\t\t\t  \"tag %s\\n\"\n\t\t\t  \"tagger %s\\n\\n\",\n\t\t\t  sha1_to_hex(object),\n\t\t\t  typename(type),\n\t\t\t  tag,\n\t\t\t  git_committer_info(IDENT_STRICT));",
          "old_line_content": "\t\t\t  \"object %s\\n\"",
          "new_line_content": "\theader_len = snprintf(header_buf, sizeof(header_buf),",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": null,
          "new_api": "ypename",
          "old_text": null,
          "new_text": "ypename(type),",
          "old_line_content": "\t\t\t  tag,",
          "new_line_content": "\t\t\t  typename(type),",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": null,
          "new_api": "it_committer_info",
          "old_text": null,
          "new_text": "it_committer_info(IDENT_STRICT))",
          "old_line_content": "",
          "new_line_content": "\t\t\t  git_committer_info(IDENT_STRICT));",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": null,
          "new_api": "(\"tag header too big.\"))",
          "old_text": null,
          "new_text": "(\"tag header too big.\"))",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"tag header too big.\"));",
          "content_same": false
        },
        {
          "line": 246,
          "old_api": null,
          "new_api": "pen",
          "old_text": null,
          "new_text": "pen(path, O_CREAT | O_TRUNC | O_WRONLY, 0600);",
          "old_line_content": "\t\tif (fd < 0)",
          "new_line_content": "\t\tfd = open(path, O_CREAT | O_TRUNC | O_WRONLY, 0600);",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": null,
          "new_api": "(\"could not create file '%s'\"),",
          "old_text": null,
          "new_text": "(\"could not create file '%s'\"),",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie_errno(_(\"could not create file '%s'\"), path);",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": null,
          "new_api": "rite_tag_body",
          "old_text": null,
          "new_text": "rite_tag_body(fd, prev);",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\twrite_tag_body(fd, prev);",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": null,
          "new_api": "trbuf_addch",
          "old_text": null,
          "new_text": "trbuf_addch(&buf, '\\n');",
          "old_line_content": "\t\t\tif (opt->cleanup_mode == CLEANUP_ALL)",
          "new_line_content": "\t\t\tstrbuf_addch(&buf, '\\n');",
          "content_same": false
        },
        {
          "line": 256,
          "old_api": null,
          "new_api": "(tag_template),",
          "old_text": null,
          "new_text": "(tag_template),",
          "old_line_content": "\t\t\telse",
          "new_line_content": "\t\t\t\tstrbuf_commented_addf(&buf, _(tag_template), tag, comment_line_char);",
          "content_same": false
        },
        {
          "line": 260,
          "old_api": null,
          "new_api": "trbuf_release",
          "old_text": null,
          "new_text": "trbuf_release(&buf);",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tstrbuf_release(&buf);",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": null,
          "new_api": "lose",
          "old_text": null,
          "new_text": "lose(fd);",
          "old_line_content": "",
          "new_line_content": "\t\tclose(fd);",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": null,
          "new_api": "xit",
          "old_text": null,
          "new_text": "xit(1);",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\texit(1);",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": null,
          "new_api": "trbuf_stripspace",
          "old_text": null,
          "new_text": "trbuf_stripspace(buf, opt->cleanup_mode == CLEANUP_ALL);",
          "old_line_content": "",
          "new_line_content": "\t\tstrbuf_stripspace(buf, opt->cleanup_mode == CLEANUP_ALL);",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": null,
          "new_api": "(\"no tag message?\"))",
          "old_text": null,
          "new_text": "(\"no tag message?\"))",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"no tag message?\"));",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": null,
          "new_api": "trbuf_insert",
          "old_text": null,
          "new_text": "trbuf_insert(buf, 0, header_buf, header_len);",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_insert(buf, 0, header_buf, header_len);",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": null,
          "new_api": "uild_tag_object",
          "old_text": null,
          "new_text": "uild_tag_object(buf, opt->sign, result) ",
          "old_line_content": "\t\tif (path)",
          "new_line_content": "\tif (build_tag_object(buf, opt->sign, result) < 0) {",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": null,
          "new_api": "(\"The tag message has been left in %s\\n\"),",
          "old_text": null,
          "new_text": "(\"The tag message has been left in %s\\n\"),",
          "old_line_content": "\t\t\t\tpath);",
          "new_line_content": "\t\t\tfprintf(stderr, _(\"The tag message has been left in %s\\n\"),",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": null,
          "new_api": "xit",
          "old_text": null,
          "new_text": "xit(128);",
          "old_line_content": "\t}",
          "new_line_content": "\t\texit(128);",
          "content_same": false
        },
        {
          "line": 287,
          "old_api": null,
          "new_api": "ree",
          "old_text": null,
          "new_text": "ree(path);",
          "old_line_content": "\t}",
          "new_line_content": "\t\tfree(path);",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": null,
          "new_api": "trbuf_addstr",
          "old_text": null,
          "new_text": "trbuf_addstr(&(msg->buf), arg);",
          "old_line_content": "\tmsg->given = 1;",
          "new_line_content": "\tstrbuf_addstr(&(msg->buf), arg);",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": null,
          "new_api": "trbuf_addf",
          "old_text": null,
          "new_text": "trbuf_addf(sb, \"refs/tags/%s\", name);",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_addf(sb, \"refs/tags/%s\", name);",
          "content_same": false
        },
        {
          "line": 317,
          "old_api": null,
          "new_api": "heck_refname_format",
          "old_text": null,
          "new_text": "heck_refname_format(sb->buf, 0);",
          "old_line_content": "}",
          "new_line_content": "\treturn check_refname_format(sb->buf, 0);",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"print <n> lines of each tag message\"),",
          "old_line_content": "\t\t\t\tPARSE_OPT_OPTARG, NULL, 1 },",
          "new_line_content": "\t\t\t\tN_(\"print <n> lines of each tag message\"),",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"verify tags\"),",
          "old_line_content": "",
          "new_line_content": "\t\tOPT_CMDMODE('v', \"verify\", &cmdmode, N_(\"verify tags\"), 'v'),",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"create a reflog\"))",
          "old_line_content": "",
          "new_line_content": "\t\tOPT_BOOL(0, \"create-reflog\", &create_reflog, N_(\"create a reflog\")),",
          "content_same": false
        },
        {
          "line": 367,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"field name to sort on\"),",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\t     N_(\"field name to sort on\"), &parse_opt_ref_sorting),",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"print only tags of the object\"),",
          "old_line_content": "\t\t},",
          "new_line_content": "\t\t\tN_(\"print only tags of the object\"), 0, parse_opt_object_name",
          "content_same": false
        },
        {
          "line": 373,
          "old_api": null,
          "new_api": "PT_END",
          "old_text": null,
          "new_text": "PT_END()\n",
          "old_line_content": "\t};",
          "new_line_content": "\t\tOPT_END()",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": null,
          "new_api": "it_config",
          "old_text": null,
          "new_text": "it_config(git_tag_config, sorting_tail);",
          "old_line_content": "",
          "new_line_content": "\tgit_config(git_tag_config, sorting_tail);",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": null,
          "new_api": "emset",
          "old_text": null,
          "new_text": "emset(&filter, 0, sizeof(filter));",
          "old_line_content": "\tfilter.lines = -1;",
          "new_line_content": "\tmemset(&filter, 0, sizeof(filter));",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": null,
          "new_api": "arse_options",
          "old_text": null,
          "new_text": "arse_options(argc, argv, prefix, options, git_tag_usage, 0);",
          "old_line_content": "",
          "new_line_content": "\targc = parse_options(argc, argv, prefix, options, git_tag_usage, 0);",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": null,
          "new_api": "et_signing_key",
          "old_text": null,
          "new_text": "et_signing_key(keyid);",
          "old_line_content": "\t}",
          "new_line_content": "\t\tset_signing_key(keyid);",
          "content_same": false
        },
        {
          "line": 394,
          "old_api": null,
          "new_api": "sage_with_options",
          "old_text": null,
          "new_text": "sage_with_options(git_tag_usage, options);",
          "old_line_content": "",
          "new_line_content": "\t\tusage_with_options(git_tag_usage, options);",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": null,
          "new_api": "inalize_colopts",
          "old_text": null,
          "new_text": "inalize_colopts(&colopts, -1);",
          "old_line_content": "\tif (cmdmode == 'l' && filter.lines != -1) {",
          "new_line_content": "\tfinalize_colopts(&colopts, -1);",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": null,
          "new_api": "(\"--column and -n are incompatible\"))",
          "old_text": null,
          "new_text": "(\"--column and -n are incompatible\"))",
          "old_line_content": "\t\tcolopts = 0;",
          "new_line_content": "\t\t\tdie(_(\"--column and -n are incompatible\"));",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": null,
          "new_api": "ef_default_sorting",
          "old_text": null,
          "new_text": "ef_default_sorting();",
          "old_line_content": "\tif (cmdmode == 'l') {",
          "new_line_content": "\t\tsorting = ref_default_sorting();",
          "content_same": false
        },
        {
          "line": 406,
          "old_api": null,
          "new_api": "olumn_active",
          "old_text": null,
          "new_text": "olumn_active(colopts))",
          "old_line_content": "\t\t\tstruct column_options copts;",
          "new_line_content": "\t\tif (column_active(colopts)) {",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": null,
          "new_api": "emset",
          "old_text": null,
          "new_text": "emset(&copts, 0, sizeof(copts));",
          "old_line_content": "\t\t\tcopts.padding = 2;",
          "new_line_content": "\t\t\tmemset(&copts, 0, sizeof(copts));",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": null,
          "new_api": "un_column_filter",
          "old_text": null,
          "new_text": "un_column_filter(colopts, &copts);",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\trun_column_filter(colopts, &copts);",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": null,
          "new_api": "top_column_filter",
          "old_text": null,
          "new_text": "top_column_filter();",
          "old_line_content": "\t\treturn ret;",
          "new_line_content": "\t\t\tstop_column_filter();",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": null,
          "new_api": "(\"-n option is only allowed with -l.\"))",
          "old_text": null,
          "new_text": "(\"-n option is only allowed with -l.\"))",
          "old_line_content": "\tif (filter.with_commit)",
          "new_line_content": "\t\tdie(_(\"-n option is only allowed with -l.\"));",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": null,
          "new_api": "(\"--contains option is only allowed with -l.\"))",
          "old_text": null,
          "new_text": "(\"--contains option is only allowed with -l.\"))",
          "old_line_content": "\tif (filter.points_at.nr)",
          "new_line_content": "\t\tdie(_(\"--contains option is only allowed with -l.\"));",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": null,
          "new_api": "(\"--points-at option is only allowed with -l.\"))",
          "old_text": null,
          "new_text": "(\"--points-at option is only allowed with -l.\"))",
          "old_line_content": "\tif (filter.merge_commit)",
          "new_line_content": "\t\tdie(_(\"--points-at option is only allowed with -l.\"));",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": null,
          "new_api": "(\"--merged and --no-merged option are only allowed with -l\"))",
          "old_text": null,
          "new_text": "(\"--merged and --no-merged option are only allowed with -l\"))",
          "old_line_content": "\tif (cmdmode == 'd')",
          "new_line_content": "\t\tdie(_(\"--merged and --no-merged option are only allowed with -l\"));",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": null,
          "new_api": "or_each_tag_name",
          "old_text": null,
          "new_text": "or_each_tag_name(argv, delete_tag);",
          "old_line_content": "\tif (cmdmode == 'v')",
          "new_line_content": "\t\treturn for_each_tag_name(argv, delete_tag);",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": null,
          "new_api": "or_each_tag_name",
          "old_text": null,
          "new_text": "or_each_tag_name(argv, verify_tag);",
          "old_line_content": "",
          "new_line_content": "\t\treturn for_each_tag_name(argv, verify_tag);",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": null,
          "new_api": "(\"only one -F or -m option is allowed.\"))",
          "old_text": null,
          "new_text": "(\"only one -F or -m option is allowed.\"))",
          "old_line_content": "\t\tannotate = 1;",
          "new_line_content": "\t\t\tdie(_(\"only one -F or -m option is allowed.\"));",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": null,
          "new_api": "trbuf_addbuf",
          "old_text": null,
          "new_text": "trbuf_addbuf(&buf, &(msg.buf));",
          "old_line_content": "\t\telse {",
          "new_line_content": "\t\t\tstrbuf_addbuf(&buf, &(msg.buf));",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": null,
          "new_api": "(\"cannot read '%s'\"),",
          "old_text": null,
          "new_text": "(\"cannot read '%s'\"),",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\t\t\tdie_errno(_(\"cannot read '%s'\"), msgfile);",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": null,
          "new_api": "(\"could not open or read '%s'\"),",
          "old_text": null,
          "new_text": "(\"could not open or read '%s'\"),",
          "old_line_content": "\t\t\t\t\t\tmsgfile);",
          "new_line_content": "\t\t\t\t\tdie_errno(_(\"could not open or read '%s'\"),",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": null,
          "new_api": "(\"too many params\"))",
          "old_text": null,
          "new_text": "(\"too many params\"))",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"too many params\"));",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": null,
          "new_api": "(\"Failed to resolve '%s' as a valid ref.\"),",
          "old_text": null,
          "new_text": "(\"Failed to resolve '%s' as a valid ref.\"),",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"Failed to resolve '%s' as a valid ref.\"), object_ref);",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": null,
          "new_api": "(\"'%s' is not a valid tag name.\"),",
          "old_text": null,
          "new_text": "(\"'%s' is not a valid tag name.\"),",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"'%s' is not a valid tag name.\"), tag);",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": null,
          "new_api": "ashclr",
          "old_text": null,
          "new_text": "ashclr(prev);",
          "old_line_content": "\telse if (!force)",
          "new_line_content": "\t\thashclr(prev);",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": null,
          "new_api": "(\"tag '%s' already exists\"),",
          "old_text": null,
          "new_text": "(\"tag '%s' already exists\"),",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"tag '%s' already exists\"), tag);",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "trcmp",
          "old_text": null,
          "new_text": "trcmp(cleanup_arg, \"strip\"))",
          "old_line_content": "\t\topt.cleanup_mode = CLEANUP_ALL;",
          "new_line_content": "\tif (!cleanup_arg || !strcmp(cleanup_arg, \"strip\"))",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": null,
          "new_api": "trcmp",
          "old_text": null,
          "new_text": "trcmp(cleanup_arg, \"verbatim\"))",
          "old_line_content": "\t\topt.cleanup_mode = CLEANUP_NONE;",
          "new_line_content": "\telse if (!strcmp(cleanup_arg, \"verbatim\"))",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": null,
          "new_api": "trcmp",
          "old_text": null,
          "new_text": "trcmp(cleanup_arg, \"whitespace\"))",
          "old_line_content": "\t\topt.cleanup_mode = CLEANUP_SPACE;",
          "new_line_content": "\telse if (!strcmp(cleanup_arg, \"whitespace\"))",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": null,
          "new_api": "(\"Invalid cleanup mode %s\"),",
          "old_text": null,
          "new_text": "(\"Invalid cleanup mode %s\"),",
          "old_line_content": "",
          "new_line_content": "\t\tdie(_(\"Invalid cleanup mode %s\"), cleanup_arg);",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": null,
          "new_api": "reate_tag",
          "old_text": null,
          "new_text": "reate_tag(object, tag, &buf, &opt, prev, object);",
          "old_line_content": "",
          "new_line_content": "\t\tcreate_tag(object, tag, &buf, &opt, prev, object);",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": null,
          "new_api": "ef_transaction_begin",
          "old_text": null,
          "new_text": "ef_transaction_begin(&err);",
          "old_line_content": "\tif (!transaction ||",
          "new_line_content": "\ttransaction = ref_transaction_begin(&err);",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": null,
          "new_api": "ef_transaction_update",
          "old_text": null,
          "new_text": "ef_transaction_update(transaction, ref.buf, object, prev,\n\t\t\t\t   create_reflog ? REF_FORCE_CREATE_REFLOG : 0,\n\t\t\t\t   NULL, &err) ",
          "old_line_content": "\t\t\t\t   create_reflog ? REF_FORCE_CREATE_REFLOG : 0,",
          "new_line_content": "\t    ref_transaction_update(transaction, ref.buf, object, prev,",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": null,
          "new_api": "ind_unique_abbrev",
          "old_text": null,
          "new_text": "ind_unique_abbrev(prev, DEFAULT_ABBREV))",
          "old_line_content": "",
          "new_line_content": "\t\tprintf(_(\"Updated tag '%s' (was %s)\\n\"), tag, find_unique_abbrev(prev, DEFAULT_ABBREV));",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": null,
          "new_api": "trbuf_release",
          "old_text": null,
          "new_text": "trbuf_release(&ref);",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\tstrbuf_release(&ref);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 55,
          "old_api": "ilter_refs",
          "new_api": null,
          "old_text": "ilter_refs(&array, filter, FILTER_REFS_TAGS);",
          "new_text": null,
          "old_line_content": "\tfilter_refs(&array, filter, FILTER_REFS_TAGS);",
          "new_line_content": "\tfilter->with_commit_tag_algo = 1;",
          "content_same": false
        },
        {
          "line": 59,
          "old_api": "how_ref_array_item",
          "new_api": null,
          "old_text": "how_ref_array_item(array.items[i], format, 0);",
          "new_text": null,
          "old_line_content": "\t\tshow_ref_array_item(array.items[i], format, 0);",
          "new_line_content": "\tfor (i = 0; i < array.nr; i++)",
          "content_same": false
        },
        {
          "line": 77,
          "old_api": "nprintf",
          "new_api": null,
          "old_text": "nprintf(ref, sizeof(ref), \"refs/tags/%s\", *p)\n",
          "new_text": null,
          "old_line_content": "\t\tif (snprintf(ref, sizeof(ref), \"refs/tags/%s\", *p)",
          "new_line_content": "\tfor (p = argv; *p; p++) {",
          "content_same": false
        },
        {
          "line": 79,
          "old_api": "(\"tag name too long: %.*s...\"),",
          "new_api": null,
          "old_text": "(\"tag name too long: %.*s...\"),",
          "new_text": null,
          "old_line_content": "\t\t\terror(_(\"tag name too long: %.*s...\"), 50, *p);",
          "new_line_content": "\t\t\t\t\t>= sizeof(ref)) {",
          "content_same": false
        },
        {
          "line": 83,
          "old_api": "ead_ref",
          "new_api": null,
          "old_text": "ead_ref(ref, sha1))",
          "new_text": null,
          "old_line_content": "\t\tif (read_ref(ref, sha1)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 88,
          "old_api": "n",
          "new_api": null,
          "old_text": "n(*p, ref, sha1))",
          "new_text": null,
          "old_line_content": "\t\tif (fn(*p, ref, sha1))",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 97,
          "old_api": "elete_ref",
          "new_api": null,
          "old_text": "elete_ref(ref, sha1, 0))",
          "new_text": null,
          "old_line_content": "\tif (delete_ref(ref, sha1, 0))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 99,
          "old_api": "ind_unique_abbrev",
          "new_api": null,
          "old_text": "ind_unique_abbrev(sha1, DEFAULT_ABBREV))",
          "new_text": null,
          "old_line_content": "\tprintf(_(\"Deleted tag '%s' (was %s)\\n\"), name, find_unique_abbrev(sha1, DEFAULT_ABBREV));",
          "new_line_content": "\t\treturn 1;",
          "content_same": false
        },
        {
          "line": 108,
          "old_api": "ha1_to_hex",
          "new_api": null,
          "old_text": "ha1_to_hex(sha1);",
          "new_text": null,
          "old_line_content": "\targv_verify_tag[2] = sha1_to_hex(sha1);",
          "new_line_content": "\t\t\t\t\t\"-v\", \"SHA1_HEX\", NULL};",
          "content_same": false
        },
        {
          "line": 110,
          "old_api": "un_command_v_opt",
          "new_api": null,
          "old_text": "un_command_v_opt(argv_verify_tag, RUN_GIT_CMD))",
          "new_text": null,
          "old_line_content": "\tif (run_command_v_opt(argv_verify_tag, RUN_GIT_CMD))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 117,
          "old_api": "et_signing_key",
          "new_api": null,
          "old_text": "et_signing_key())",
          "new_text": null,
          "old_line_content": "\treturn sign_buffer(buffer, buffer, get_signing_key());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 121,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"\\nWrite a message for tag:\\n  %s\\n\"\n\t\"Lines starting with '%c' will be ignored.\\n\");",
          "new_text": null,
          "old_line_content": "\tN_(\"\\nWrite a message for tag:\\n  %s\\n\"",
          "new_line_content": "static const char tag_template[] =",
          "content_same": false
        },
        {
          "line": 125,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"\\nWrite a message for tag:\\n  %s\\n\"\n\t\"Lines starting with '%c' will be kept; you may remove them\"\n\t\" yourself if you want to.\\n\");",
          "new_text": null,
          "old_line_content": "\tN_(\"\\nWrite a message for tag:\\n  %s\\n\"",
          "new_line_content": "static const char tag_template_nocleanup[] =",
          "content_same": false
        },
        {
          "line": 135,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "calloc(1, sizeof(*s));",
          "new_text": null,
          "old_line_content": "\ts = xcalloc(1, sizeof(*s));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 143,
          "old_api": "kip_prefix",
          "new_api": null,
          "old_text": "kip_prefix(arg, \"version:\", &arg) ",
          "new_text": null,
          "old_line_content": "\tif (skip_prefix(arg, \"version:\", &arg) ||",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 147,
          "old_api": "trlen",
          "new_api": null,
          "old_text": "trlen(arg);",
          "new_text": null,
          "old_line_content": "\tlen = strlen(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 158,
          "old_api": "trcmp",
          "new_api": null,
          "old_text": "trcmp(var, \"tag.sort\"))",
          "new_text": null,
          "old_line_content": "\tif (!strcmp(var, \"tag.sort\")) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 160,
          "old_api": "onfig_error_nonbool",
          "new_api": null,
          "old_text": "onfig_error_nonbool(var);",
          "new_text": null,
          "old_line_content": "\t\t\treturn config_error_nonbool(var);",
          "new_line_content": "\t\tif (!value)",
          "content_same": false
        },
        {
          "line": 165,
          "old_api": "it_gpg_config",
          "new_api": null,
          "old_text": "it_gpg_config(var, value, cb);",
          "new_text": null,
          "old_line_content": "\tstatus = git_gpg_config(var, value, cb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": "tarts_with",
          "new_api": null,
          "old_text": "tarts_with(var, \"column.\"))",
          "new_text": null,
          "old_line_content": "\tif (starts_with(var, \"column.\"))",
          "new_line_content": "\t\treturn status;",
          "content_same": false
        },
        {
          "line": 179,
          "old_api": "ead_sha1_file",
          "new_api": null,
          "old_text": "ead_sha1_file(sha1, &type, &size);",
          "new_text": null,
          "old_line_content": "\tbuf = read_sha1_file(sha1, &type, &size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 183,
          "old_api": "trstr",
          "new_api": null,
          "old_text": "trstr(buf, \"\\n\\n\");",
          "new_text": null,
          "old_line_content": "\tsp = strstr(buf, \"\\n\\n\");",
          "new_line_content": "\t/* skip header */",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": "ree",
          "new_api": null,
          "old_text": "ree(buf);",
          "new_text": null,
          "old_line_content": "\t\tfree(buf);",
          "new_line_content": "\tif (!sp || !size || type != OBJ_TAG) {",
          "content_same": false
        },
        {
          "line": 190,
          "old_api": "arse_signature",
          "new_api": null,
          "old_text": "arse_signature(sp, buf + size - sp))",
          "new_text": null,
          "old_line_content": "\twrite_or_die(fd, sp, parse_signature(sp, buf + size - sp));",
          "new_line_content": "\tsp += 2; /* skip the 2 LFs */",
          "content_same": false
        },
        {
          "line": 192,
          "old_api": "ree",
          "new_api": null,
          "old_text": "ree(buf);",
          "new_text": null,
          "old_line_content": "\tfree(buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 197,
          "old_api": "o_sign",
          "new_api": null,
          "old_text": "o_sign(buf) ",
          "new_text": null,
          "old_line_content": "\tif (sign && do_sign(buf) < 0)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 223,
          "old_api": "ha1_object_info",
          "new_api": null,
          "old_text": "ha1_object_info(object, NULL);",
          "new_text": null,
          "old_line_content": "\ttype = sha1_object_info(object, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 225,
          "old_api": "(\"bad object type.\"))",
          "new_api": null,
          "old_text": "(\"bad object type.\"))",
          "new_text": null,
          "old_line_content": "\t    die(_(\"bad object type.\"));",
          "new_line_content": "\tif (type <= OBJ_NONE)",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": "nprintf",
          "new_api": null,
          "old_text": "nprintf(header_buf, sizeof(header_buf),\n\t\t\t  \"object %s\\n\"\n\t\t\t  \"type %s\\n\"\n\t\t\t  \"tag %s\\n\"\n\t\t\t  \"tagger %s\\n\\n\",\n\t\t\t  sha1_to_hex(object),\n\t\t\t  typename(type),\n\t\t\t  tag,\n\t\t\t  git_committer_info(IDENT_STRICT));",
          "new_text": null,
          "old_line_content": "\theader_len = snprintf(header_buf, sizeof(header_buf),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": "ha1_to_hex",
          "new_api": null,
          "old_text": "ha1_to_hex(object),",
          "new_text": null,
          "old_line_content": "\t\t\t  sha1_to_hex(object),",
          "new_line_content": "\t\t\t  \"tagger %s\\n\\n\",",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": "it_committer_info",
          "new_api": null,
          "old_text": "it_committer_info(IDENT_STRICT))",
          "new_text": null,
          "old_line_content": "\t\t\t  git_committer_info(IDENT_STRICT));",
          "new_line_content": "\t\t\t  tag,",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": "(\"tag header too big.\"))",
          "new_api": null,
          "old_text": "(\"tag header too big.\"))",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"tag header too big.\"));",
          "new_line_content": "\tif (header_len > sizeof(header_buf) - 1)",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": "it_pathdup",
          "new_api": null,
          "old_text": "it_pathdup(\"TAG_EDITMSG\");",
          "new_text": null,
          "old_line_content": "\t\tpath = git_pathdup(\"TAG_EDITMSG\");",
          "new_line_content": "\t\t/* write the template message before editing: */",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": "(\"could not create file '%s'\"),",
          "new_api": null,
          "old_text": "(\"could not create file '%s'\"),",
          "new_text": null,
          "old_line_content": "\t\t\tdie_errno(_(\"could not create file '%s'\"), path);",
          "new_line_content": "\t\tif (fd < 0)",
          "content_same": false
        },
        {
          "line": 249,
          "old_api": "s_null_sha1",
          "new_api": null,
          "old_text": "s_null_sha1(prev))",
          "new_text": null,
          "old_line_content": "\t\tif (!is_null_sha1(prev)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": "trbuf_addch",
          "new_api": null,
          "old_text": "trbuf_addch(&buf, '\\n');",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_addch(&buf, '\\n');",
          "new_line_content": "\t\t\tstruct strbuf buf = STRBUF_INIT;",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": "(tag_template),",
          "new_api": null,
          "old_text": "(tag_template),",
          "new_text": null,
          "old_line_content": "\t\t\t\tstrbuf_commented_addf(&buf, _(tag_template), tag, comment_line_char);",
          "new_line_content": "\t\t\tif (opt->cleanup_mode == CLEANUP_ALL)",
          "content_same": false
        },
        {
          "line": 257,
          "old_api": "(tag_template_nocleanup),",
          "new_api": null,
          "old_text": "(tag_template_nocleanup),",
          "new_text": null,
          "old_line_content": "\t\t\t\tstrbuf_commented_addf(&buf, _(tag_template_nocleanup), tag, comment_line_char);",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": "lose",
          "new_api": null,
          "old_text": "lose(fd);",
          "new_text": null,
          "old_line_content": "\t\tclose(fd);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": "aunch_editor",
          "new_api": null,
          "old_text": "aunch_editor(path, buf, NULL))",
          "new_text": null,
          "old_line_content": "\t\tif (launch_editor(path, buf, NULL)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": "trbuf_stripspace",
          "new_api": null,
          "old_text": "trbuf_stripspace(buf, opt->cleanup_mode == CLEANUP_ALL);",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_stripspace(buf, opt->cleanup_mode == CLEANUP_ALL);",
          "new_line_content": "\tif (opt->cleanup_mode != CLEANUP_NONE)",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": "(\"no tag message?\"))",
          "new_api": null,
          "old_text": "(\"no tag message?\"))",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"no tag message?\"));",
          "new_line_content": "\tif (!opt->message_given && !buf->len)",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": "trbuf_insert",
          "new_api": null,
          "old_text": "trbuf_insert(buf, 0, header_buf, header_len);",
          "new_text": null,
          "old_line_content": "\tstrbuf_insert(buf, 0, header_buf, header_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": "uild_tag_object",
          "new_api": null,
          "old_text": "uild_tag_object(buf, opt->sign, result) ",
          "new_text": null,
          "old_line_content": "\tif (build_tag_object(buf, opt->sign, result) < 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": "(\"The tag message has been left in %s\\n\"),",
          "new_api": null,
          "old_text": "(\"The tag message has been left in %s\\n\"),",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, _(\"The tag message has been left in %s\\n\"),",
          "new_line_content": "\t\tif (path)",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": "xit",
          "new_api": null,
          "old_text": "xit(128);",
          "new_text": null,
          "old_line_content": "\t\texit(128);",
          "new_line_content": "\t\t\t\tpath);",
          "content_same": false
        },
        {
          "line": 285,
          "old_api": "nlink_or_warn",
          "new_api": null,
          "old_text": "nlink_or_warn(path);",
          "new_text": null,
          "old_line_content": "\t\tunlink_or_warn(path);",
          "new_line_content": "\tif (path) {",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": "trbuf_addstr",
          "new_api": null,
          "old_text": "trbuf_addstr(&(msg->buf), \"\\n\\n\");",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addstr(&(msg->buf), \"\\n\\n\");",
          "new_line_content": "\tif (msg->buf.len)",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": "trbuf_reset",
          "new_api": null,
          "old_text": "trbuf_reset(sb);",
          "new_text": null,
          "old_line_content": "\tstrbuf_reset(sb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": "heck_refname_format",
          "new_api": null,
          "old_text": "heck_refname_format(sb->buf, 0);",
          "new_text": null,
          "old_line_content": "\treturn check_refname_format(sb->buf, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"list tag names\"),",
          "new_text": null,
          "old_line_content": "\t\tOPT_CMDMODE('l', \"list\", &cmdmode, N_(\"list tag names\"), 'l'),",
          "new_line_content": "\tstruct option options[] = {",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"delete tags\"),",
          "new_text": null,
          "old_line_content": "\t\tOPT_CMDMODE('d', \"delete\", &cmdmode, N_(\"delete tags\"), 'd'),",
          "new_line_content": "\t\t\t\tPARSE_OPT_OPTARG, NULL, 1 },",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Tag creation options\"))",
          "new_text": null,
          "old_line_content": "\t\tOPT_GROUP(N_(\"Tag creation options\")),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Tag listing options\"))",
          "new_text": null,
          "old_line_content": "\t\tOPT_GROUP(N_(\"Tag listing options\")),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"object\"),",
          "new_text": null,
          "old_line_content": "\t\t\tOPTION_CALLBACK, 0, \"points-at\", &filter.points_at, N_(\"object\"),",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"format to use for the output\"))",
          "new_text": null,
          "old_line_content": "\t\tOPT_STRING(  0 , \"format\", &format, N_(\"format\"), N_(\"format to use for the output\")),",
          "new_line_content": "\t\t},",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "it_config",
          "new_api": null,
          "old_text": "it_config(git_tag_config, sorting_tail);",
          "new_text": null,
          "old_line_content": "\tgit_config(git_tag_config, sorting_tail);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": "emset",
          "new_api": null,
          "old_text": "emset(&opt, 0, sizeof(opt));",
          "new_text": null,
          "old_line_content": "\tmemset(&opt, 0, sizeof(opt));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": "arse_options",
          "new_api": null,
          "old_text": "arse_options(argc, argv, prefix, options, git_tag_usage, 0);",
          "new_text": null,
          "old_line_content": "\targc = parse_options(argc, argv, prefix, options, git_tag_usage, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": "et_signing_key",
          "new_api": null,
          "old_text": "et_signing_key(keyid);",
          "new_text": null,
          "old_line_content": "\t\tset_signing_key(keyid);",
          "new_line_content": "\t\topt.sign = 1;",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": "sage_with_options",
          "new_api": null,
          "old_text": "sage_with_options(git_tag_usage, options);",
          "new_text": null,
          "old_line_content": "\t\tusage_with_options(git_tag_usage, options);",
          "new_line_content": "\tif ((annotate || msg.given || msgfile || force) && (cmdmode != 0))",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "inalize_colopts",
          "new_api": null,
          "old_text": "inalize_colopts(&colopts, -1);",
          "new_text": null,
          "old_line_content": "\tfinalize_colopts(&colopts, -1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": "xplicitly_enable_column",
          "new_api": null,
          "old_text": "xplicitly_enable_column(colopts))",
          "new_text": null,
          "old_line_content": "\t\tif (explicitly_enable_column(colopts))",
          "new_line_content": "\tif (cmdmode == 'l' && filter.lines != -1) {",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": "ef_default_sorting",
          "new_api": null,
          "old_text": "ef_default_sorting();",
          "new_text": null,
          "old_line_content": "\t\tsorting = ref_default_sorting();",
          "new_line_content": "\tif (!sorting)",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": "olumn_active",
          "new_api": null,
          "old_text": "olumn_active(colopts))",
          "new_text": null,
          "old_line_content": "\t\tif (column_active(colopts)) {",
          "new_line_content": "\t\tint ret;",
          "content_same": false
        },
        {
          "line": 407,
          "old_api": "emset",
          "new_api": null,
          "old_text": "emset(&copts, 0, sizeof(copts));",
          "new_text": null,
          "old_line_content": "\t\t\tmemset(&copts, 0, sizeof(copts));",
          "new_line_content": "\t\t\tstruct column_options copts;",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "un_column_filter",
          "new_api": null,
          "old_text": "un_column_filter(colopts, &copts);",
          "new_text": null,
          "old_line_content": "\t\t\trun_column_filter(colopts, &copts);",
          "new_line_content": "\t\t\tcopts.padding = 2;",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": "ist_tags",
          "new_api": null,
          "old_text": "ist_tags(&filter, sorting, format);",
          "new_text": null,
          "old_line_content": "\t\tret = list_tags(&filter, sorting, format);",
          "new_line_content": "\t\tfilter.name_patterns = argv;",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": "(\"-n option is only allowed with -l.\"))",
          "new_api": null,
          "old_text": "(\"-n option is only allowed with -l.\"))",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"-n option is only allowed with -l.\"));",
          "new_line_content": "\tif (filter.lines != -1)",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": "(\"--contains option is only allowed with -l.\"))",
          "new_api": null,
          "old_text": "(\"--contains option is only allowed with -l.\"))",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"--contains option is only allowed with -l.\"));",
          "new_line_content": "\tif (filter.with_commit)",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "(\"--points-at option is only allowed with -l.\"))",
          "new_api": null,
          "old_text": "(\"--points-at option is only allowed with -l.\"))",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"--points-at option is only allowed with -l.\"));",
          "new_line_content": "\tif (filter.points_at.nr)",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": "(\"--merged and --no-merged option are only allowed with -l\"))",
          "new_api": null,
          "old_text": "(\"--merged and --no-merged option are only allowed with -l\"))",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"--merged and --no-merged option are only allowed with -l\"));",
          "new_line_content": "\tif (filter.merge_commit)",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": "or_each_tag_name",
          "new_api": null,
          "old_text": "or_each_tag_name(argv, delete_tag);",
          "new_text": null,
          "old_line_content": "\t\treturn for_each_tag_name(argv, delete_tag);",
          "new_line_content": "\tif (cmdmode == 'd')",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": "or_each_tag_name",
          "new_api": null,
          "old_text": "or_each_tag_name(argv, verify_tag);",
          "new_text": null,
          "old_line_content": "\t\treturn for_each_tag_name(argv, verify_tag);",
          "new_line_content": "\tif (cmdmode == 'v')",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "(\"only one -F or -m option is allowed.\"))",
          "new_api": null,
          "old_text": "(\"only one -F or -m option is allowed.\"))",
          "new_text": null,
          "old_line_content": "\t\t\tdie(_(\"only one -F or -m option is allowed.\"));",
          "new_line_content": "\t\tif (msg.given && msgfile)",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": "trbuf_addbuf",
          "new_api": null,
          "old_text": "trbuf_addbuf(&buf, &(msg.buf));",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_addbuf(&buf, &(msg.buf));",
          "new_line_content": "\t\tif (msg.given)",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": "trcmp",
          "new_api": null,
          "old_text": "trcmp(msgfile, \"-\"))",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(msgfile, \"-\")) {",
          "new_line_content": "\t\telse {",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": "trbuf_read_file",
          "new_api": null,
          "old_text": "trbuf_read_file(&buf, msgfile, 1024) ",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (strbuf_read_file(&buf, msgfile, 1024) < 0)",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": "(\"too many params\"))",
          "new_api": null,
          "old_text": "(\"too many params\"))",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"too many params\"));",
          "new_line_content": "\tif (argc > 2)",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": "et_sha1",
          "new_api": null,
          "old_text": "et_sha1(object_ref, object))",
          "new_text": null,
          "old_line_content": "\tif (get_sha1(object_ref, object))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "trbuf_check_tag_ref",
          "new_api": null,
          "old_text": "trbuf_check_tag_ref(&ref, tag))",
          "new_text": null,
          "old_line_content": "\tif (strbuf_check_tag_ref(&ref, tag))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": "ead_ref",
          "new_api": null,
          "old_text": "ead_ref(ref.buf, prev))",
          "new_text": null,
          "old_line_content": "\tif (read_ref(ref.buf, prev))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": "(\"tag '%s' already exists\"),",
          "new_api": null,
          "old_text": "(\"tag '%s' already exists\"),",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"tag '%s' already exists\"), tag);",
          "new_line_content": "\telse if (!force)",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "trcmp",
          "new_api": null,
          "old_text": "trcmp(cleanup_arg, \"strip\"))",
          "new_text": null,
          "old_line_content": "\tif (!cleanup_arg || !strcmp(cleanup_arg, \"strip\"))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": "trcmp",
          "new_api": null,
          "old_text": "trcmp(cleanup_arg, \"verbatim\"))",
          "new_text": null,
          "old_line_content": "\telse if (!strcmp(cleanup_arg, \"verbatim\"))",
          "new_line_content": "\t\topt.cleanup_mode = CLEANUP_ALL;",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": "trcmp",
          "new_api": null,
          "old_text": "trcmp(cleanup_arg, \"whitespace\"))",
          "new_text": null,
          "old_line_content": "\telse if (!strcmp(cleanup_arg, \"whitespace\"))",
          "new_line_content": "\t\topt.cleanup_mode = CLEANUP_NONE;",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "(\"Invalid cleanup mode %s\"),",
          "new_api": null,
          "old_text": "(\"Invalid cleanup mode %s\"),",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"Invalid cleanup mode %s\"), cleanup_arg);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": "reate_tag",
          "new_api": null,
          "old_text": "reate_tag(object, tag, &buf, &opt, prev, object);",
          "new_text": null,
          "old_line_content": "\t\tcreate_tag(object, tag, &buf, &opt, prev, object);",
          "new_line_content": "\tif (annotate)",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": "ef_transaction_begin",
          "new_api": null,
          "old_text": "ef_transaction_begin(&err);",
          "new_text": null,
          "old_line_content": "\ttransaction = ref_transaction_begin(&err);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": "ef_transaction_update",
          "new_api": null,
          "old_text": "ef_transaction_update(transaction, ref.buf, object, prev,\n\t\t\t\t   create_reflog ? REF_FORCE_CREATE_REFLOG : 0,\n\t\t\t\t   NULL, &err) ",
          "new_text": null,
          "old_line_content": "\t    ref_transaction_update(transaction, ref.buf, object, prev,",
          "new_line_content": "\tif (!transaction ||",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": "ef_transaction_commit",
          "new_api": null,
          "old_text": "ef_transaction_commit(transaction, &err))",
          "new_text": null,
          "old_line_content": "\t    ref_transaction_commit(transaction, &err))",
          "new_line_content": "\t\t\t\t   NULL, &err) ||",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": "trbuf_release",
          "new_api": null,
          "old_text": "trbuf_release(&err);",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&err);",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 38,
      "total_additions": 92,
      "total_deletions": 92,
      "total_api_changes": 222
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 1,
        "api_related_lines": 222,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          58
        ]
      }
    },
    "api_calls_before": 215,
    "api_calls_after": 215,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 1,
      "total_diff_lines": 21
    }
  }
}