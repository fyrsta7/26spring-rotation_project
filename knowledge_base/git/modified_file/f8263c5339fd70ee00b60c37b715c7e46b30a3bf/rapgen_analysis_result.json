{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/f8263c5339fd70ee00b60c37b715c7e46b30a3bf",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/f8263c5339fd70ee00b60c37b715c7e46b30a3bf/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/f8263c5339fd70ee00b60c37b715c7e46b30a3bf/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/f8263c5339fd70ee00b60c37b715c7e46b30a3bf/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 166,
          "old_api": "name_first_parent_chain",
          "new_api": "strdup",
          "old_text": "name_first_parent_chain(p)",
          "new_text": "strdup(newname)",
          "old_line_content": "\t\t\t\tname_first_parent_chain(p);",
          "new_line_content": "\t\t\t\tname_commit(p, strdup(newname), 0);",
          "content_same": false
        },
        {
          "line": 285,
          "old_api": "puts",
          "new_api": "find_unique_abbrev",
          "old_text": "puts(cp)",
          "new_text": "find_unique_abbrev(commit->object.sha1, 7)",
          "old_line_content": "\tputs(cp);",
          "new_line_content": "\t\t\t       find_unique_abbrev(commit->object.sha1, 7));",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": "append_ref",
          "new_api": "memcmp",
          "old_text": "append_ref(refname + ofs, sha1)",
          "new_text": "memcmp(tmp, sha1, 20)",
          "old_line_content": "\treturn append_ref(refname + ofs, sha1);",
          "new_line_content": "\tif (get_sha1(refname + ofs, tmp) || memcmp(tmp, sha1, 20))",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": "append_ref",
          "new_api": "strncmp",
          "old_text": "append_ref(refname + 5, sha1)",
          "new_text": "strncmp(refname, \"refs/tags/\", 10)",
          "old_line_content": "\treturn append_ref(refname + 5, sha1);",
          "new_line_content": "\tif (strncmp(refname, \"refs/tags/\", 10))",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": "strncmp",
          "new_api": "fnmatch",
          "old_text": "strncmp(\"refs/heads/\", refname, 11)",
          "new_text": "fnmatch(match_ref_pattern, tail, 0)",
          "old_line_content": "\tif (!strncmp(\"refs/heads/\", refname, 11))",
          "new_line_content": "\tif (fnmatch(match_ref_pattern, tail, 0))",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": "append_tag_ref",
          "new_api": "append_head_ref",
          "old_text": "append_tag_ref(refname, sha1)",
          "new_text": "append_head_ref(refname, sha1)",
          "old_line_content": "\t\treturn append_tag_ref(refname, sha1);",
          "new_line_content": "\t\treturn append_head_ref(refname, sha1);",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "append_ref",
          "new_api": "strncmp",
          "old_text": "append_ref(refname, sha1)",
          "new_text": "strncmp(\"refs/tags/\", refname, 10)",
          "old_line_content": "\treturn append_ref(refname, sha1);",
          "new_line_content": "\tif (!strncmp(\"refs/tags/\", refname, 10))",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": "strlen",
          "new_api": "memcmp",
          "old_text": "strlen(name)",
          "new_text": "memcmp(head_sha1, sha1, 20)",
          "old_line_content": "\tnamelen = strlen(name);",
          "new_line_content": "\t    (head_sha1 && sha1 && memcmp(head_sha1, sha1, 20)))",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": "memcmp",
          "new_api": "strlen",
          "old_text": "memcmp(head_path + headlen - namelen, name, namelen)",
          "new_text": "strlen(name)",
          "old_line_content": "\t    memcmp(head_path + headlen - namelen, name, namelen))",
          "new_line_content": "\tnamelen = strlen(name);",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": "sort_ref_range",
          "new_api": "error",
          "old_text": "sort_ref_range(saved_matches, ref_name_cnt)",
          "new_text": "error(\"no matching refs with %s\", av)",
          "old_line_content": "\t\t\tsort_ref_range(saved_matches, ref_name_cnt);",
          "new_line_content": "\t\t\terror(\"no matching refs with %s\", av);",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": "strdup",
          "new_api": "xrealloc",
          "old_text": "strdup(value)",
          "new_text": "xrealloc(default_arg, sizeof *default_arg * default_alloc)",
          "old_line_content": "\t\tdefault_arg[default_num++] = strdup(value);",
          "new_line_content": "\t\t\tdefault_arg = xrealloc(default_arg, sizeof *default_arg * default_alloc);",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": "strncmp",
          "new_api": "strcmp",
          "old_text": "strncmp(arg, \"--more=\", 7)",
          "new_text": "strcmp(arg, \"--sha1-name\")",
          "old_line_content": "\t\telse if (!strncmp(arg, \"--more=\", 7))",
          "new_line_content": "\t\telse if (!strcmp(arg, \"--sha1-name\"))",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": "strcmp",
          "new_api": "strncmp",
          "old_text": "strcmp(arg, \"--merge-base\")",
          "new_text": "strncmp(arg, \"--more=\", 7)",
          "old_line_content": "\t\telse if (!strcmp(arg, \"--merge-base\"))",
          "new_line_content": "\t\telse if (!strncmp(arg, \"--more=\", 7))",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "append_one_rev",
          "new_api": "snarf_refs",
          "old_text": "append_one_rev(*av)",
          "new_text": "snarf_refs(all_heads, all_tags)",
          "old_line_content": "\t\tappend_one_rev(*av);",
          "new_line_content": "\t\tsnarf_refs(all_heads, all_tags);",
          "content_same": false
        },
        {
          "line": 642,
          "old_api": "strlen",
          "new_api": "git_path",
          "old_text": "strlen(head_path_p)",
          "new_text": "git_path(\"HEAD\")",
          "old_line_content": "\t\thead_path_len = strlen(head_path_p);",
          "new_line_content": "\thead_path_p = resolve_ref(git_path(\"HEAD\"), head_sha1, 1);",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": "lookup_commit_reference",
          "new_api": "get_sha1",
          "old_text": "lookup_commit_reference(revkey)",
          "new_text": "get_sha1(ref_name[num_rev], revkey)",
          "old_line_content": "\t\tcommit = lookup_commit_reference(revkey);",
          "new_line_content": "\t\tif (get_sha1(ref_name[num_rev], revkey))",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "die",
          "new_api": "lookup_commit_reference",
          "old_text": "die(\"cannot find commit %s (%s)\",\n\t\t\t    ref_name[num_rev], revkey)",
          "new_text": "lookup_commit_reference(revkey)",
          "old_line_content": "\t\t\tdie(\"cannot find commit %s (%s)\",",
          "new_line_content": "\t\tcommit = lookup_commit_reference(revkey);",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": "parse_commit",
          "new_api": "die",
          "old_text": "parse_commit(commit)",
          "new_text": "die(\"cannot find commit %s (%s)\",\n\t\t\t    ref_name[num_rev], revkey)",
          "old_line_content": "\t\tparse_commit(commit);",
          "new_line_content": "\t\t\tdie(\"cannot find commit %s (%s)\",",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": "sort_by_date",
          "new_api": "join_revs",
          "old_text": "sort_by_date(&seen)",
          "new_text": "join_revs(&list, &seen, num_rev, extra)",
          "old_line_content": "\tsort_by_date(&seen);",
          "new_line_content": "\t\tjoin_revs(&list, &seen, num_rev, extra);",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": "show_one_commit",
          "new_api": "putchar",
          "old_text": "show_one_commit(commit, no_name)",
          "new_text": "putchar(' ')",
          "old_line_content": "\t\tshow_one_commit(commit, no_name);",
          "new_line_content": "\t\t\tputchar(' ');",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 514,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"bad sha1 reference %s\", av)",
          "old_line_content": "",
          "new_line_content": "\tdie(\"bad sha1 reference %s\", av);",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(var, \"showbranch.default\")",
          "old_line_content": "\t\t\tdefault_alloc = default_alloc * 3 / 2 + 20;",
          "new_line_content": "\tif (!strcmp(var, \"showbranch.default\")) {",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(value)",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\t\tdefault_arg[default_num++] = strdup(value);",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": null,
          "new_api": "git_default_config",
          "old_text": null,
          "new_text": "git_default_config(var, value)",
          "old_line_content": "",
          "new_line_content": "\treturn git_default_config(var, value);",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": null,
          "new_api": "setup_git_directory",
          "old_text": null,
          "new_text": "setup_git_directory()",
          "old_line_content": "",
          "new_line_content": "\tsetup_git_directory();",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": null,
          "new_api": "git_config",
          "old_text": null,
          "new_text": "git_config(git_show_branch_config)",
          "old_line_content": "\t/* If nothing is specified, try the default first */",
          "new_line_content": "\tgit_config(git_show_branch_config);",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--\")",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\tif (!strcmp(arg, \"--\")) {",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": null,
          "new_api": "atoi",
          "old_text": null,
          "new_text": "atoi(arg + 7)",
          "old_line_content": "\t\t\tmerge_base = 1;",
          "new_line_content": "\t\t\textra = atoi(arg + 7);",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--date-order\")",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\telse if (!strcmp(arg, \"--date-order\"))",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": null,
          "new_api": "usage",
          "old_text": null,
          "new_text": "usage(show_branch_usage)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tusage(show_branch_usage);",
          "content_same": false
        },
        {
          "line": 115,
          "old_api": null,
          "new_api": "name_commit",
          "old_text": null,
          "new_text": "name_commit(c, ref_name[i], 0)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tname_commit(c, ref_name[i], 0);",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": null,
          "new_api": "usage",
          "old_text": null,
          "new_text": "usage(show_branch_usage)",
          "old_line_content": "\t/* If nothing is specified, show all branches by default */",
          "new_line_content": "\t\tusage(show_branch_usage);",
          "content_same": false
        },
        {
          "line": 125,
          "old_api": null,
          "new_api": "name_first_parent_chain",
          "old_text": null,
          "new_text": "name_first_parent_chain(cl->item)",
          "old_line_content": "\t} while (i);",
          "new_line_content": "\t\t\ti += name_first_parent_chain(cl->item);",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": null,
          "new_api": "append_one_rev",
          "old_text": null,
          "new_text": "append_one_rev(*av)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappend_one_rev(*av);",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(head_path_p)",
          "old_line_content": "\t}",
          "new_line_content": "\t\thead_path_len = strlen(head_path_p);",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(head_path, head_path_p, head_path_len + 1)",
          "old_line_content": "\telse {",
          "new_line_content": "\t\tmemcpy(head_path, head_path_p, head_path_len + 1);",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": null,
          "new_api": "rev_is_head",
          "old_text": null,
          "new_text": "rev_is_head(head_path,\n\t\t\t\t\thead_path_len,\n\t\t\t\t\tref_name[i],\n\t\t\t\t\thead_sha1, NULL)",
          "old_line_content": "\t\t\t\t\tref_name[i],",
          "new_line_content": "\t\t\tif (rev_is_head(head_path,",
          "content_same": false
        },
        {
          "line": 152,
          "old_api": null,
          "new_api": "sprintf",
          "old_text": null,
          "new_text": "sprintf(en, \"%s\", n->head_name)",
          "old_line_content": "\t\t\t\tcase 1:",
          "new_line_content": "\t\t\t\t\ten += sprintf(en, \"%s\", n->head_name);",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": null,
          "new_api": "git_path",
          "old_text": null,
          "new_text": "git_path(\"refs/heads/\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tint pfxlen = strlen(git_path(\"refs/heads/\"));",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": null,
          "new_api": "append_one_rev",
          "old_text": null,
          "new_text": "append_one_rev(head_path + pfxlen)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tappend_one_rev(head_path + pfxlen);",
          "content_same": false
        },
        {
          "line": 155,
          "old_api": null,
          "new_api": "sprintf",
          "old_text": null,
          "new_text": "sprintf(en, \"%s^\", n->head_name)",
          "old_line_content": "\t\t\t\tdefault:",
          "new_line_content": "\t\t\t\t\ten += sprintf(en, \"%s^\", n->head_name);",
          "content_same": false
        },
        {
          "line": 158,
          "old_api": null,
          "new_api": "sprintf",
          "old_text": null,
          "new_text": "sprintf(en, \"%s~%d\",\n\t\t\t\t\t\tn->head_name, n->generation)",
          "old_line_content": "\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\ten += sprintf(en, \"%s~%d\",",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"No revs to be shown.\\n\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tfprintf(stderr, \"No revs to be shown.\\n\");",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "exit",
          "old_text": null,
          "new_text": "exit(0)",
          "old_line_content": "",
          "new_line_content": "\t\texit(0);",
          "content_same": false
        },
        {
          "line": 165,
          "old_api": null,
          "new_api": "sprintf",
          "old_text": null,
          "new_text": "sprintf(en, \"^%d\", nth)",
          "old_line_content": "\t\t\t\ti++;",
          "new_line_content": "\t\t\t\t\ten += sprintf(en, \"^%d\", nth);",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": null,
          "new_api": "name_first_parent_chain",
          "old_text": null,
          "new_text": "name_first_parent_chain(p)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tname_first_parent_chain(p);",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"'%s' is not a valid ref.\", ref_name[num_rev])",
          "old_line_content": "\t\tif (!commit)",
          "new_line_content": "\t\t\tdie(\"'%s' is not a valid ref.\", ref_name[num_rev]);",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": null,
          "new_api": "parse_commit",
          "old_text": null,
          "new_text": "parse_commit(commit)",
          "old_line_content": "",
          "new_line_content": "\t\tparse_commit(commit);",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": null,
          "new_api": "mark_seen",
          "old_text": null,
          "new_text": "mark_seen(commit, &seen)",
          "old_line_content": "\t\t/* rev#0 uses bit REV_SHIFT, rev#1 uses bit REV_SHIFT+1,",
          "new_line_content": "\t\tmark_seen(commit, &seen);",
          "content_same": false
        },
        {
          "line": 177,
          "old_api": null,
          "new_api": "commit_list_insert",
          "old_text": null,
          "new_text": "commit_list_insert(commit, seen_p)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tcommit_list_insert(commit, seen_p);",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": null,
          "new_api": "insert_by_date",
          "old_text": null,
          "new_text": "insert_by_date(commit, &list)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tinsert_by_date(commit, &list);",
          "content_same": false
        },
        {
          "line": 192,
          "old_api": null,
          "new_api": "interesting",
          "old_text": null,
          "new_text": "interesting(*list_p)",
          "old_line_content": "\t\tint flags = commit->object.flags & all_mask;",
          "new_line_content": "\t\tint still_interesting = !!interesting(*list_p);",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": null,
          "new_api": "pop_one_commit",
          "old_text": null,
          "new_text": "pop_one_commit(list_p)",
          "old_line_content": "",
          "new_line_content": "\t\tstruct commit *commit = pop_one_commit(list_p);",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": null,
          "new_api": "sort_by_date",
          "old_text": null,
          "new_text": "sort_by_date(&seen)",
          "old_line_content": "\tif (merge_base)",
          "new_line_content": "\tsort_by_date(&seen);",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": null,
          "new_api": "show_merge_base",
          "old_text": null,
          "new_text": "show_merge_base(seen, num_rev)",
          "old_line_content": "\tif (independent)",
          "new_line_content": "\t\treturn show_merge_base(seen, num_rev);",
          "content_same": false
        },
        {
          "line": 199,
          "old_api": null,
          "new_api": "mark_seen",
          "old_text": null,
          "new_text": "mark_seen(commit, seen_p)",
          "old_line_content": "\t\t\tflags |= UNINTERESTING;",
          "new_line_content": "\t\tmark_seen(commit, seen_p);",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": null,
          "new_api": "show_independent",
          "old_text": null,
          "new_text": "show_independent(rev, num_rev, ref_name, rev_mask)",
          "old_line_content": "\t/* Show list; --more=-1 means list-only */",
          "new_line_content": "\t\treturn show_independent(rev, num_rev, ref_name, rev_mask);",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "rev_is_head",
          "old_text": null,
          "new_text": "rev_is_head(head_path,\n\t\t\t\t\t\t  head_path_len,\n\t\t\t\t\t\t  ref_name[i],\n\t\t\t\t\t\t  head_sha1,\n\t\t\t\t\t\t  rev[i]->object.sha1)",
          "old_line_content": "\t\t\t\t\t\t  ref_name[i],",
          "new_line_content": "\t\t\tint is_head = rev_is_head(head_path,",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": null,
          "new_api": "parse_commit",
          "old_text": null,
          "new_text": "parse_commit(p)",
          "old_line_content": "\t\t\t\textra--;",
          "new_line_content": "\t\t\t\tparse_commit(p);",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": null,
          "new_api": "mark_seen",
          "old_text": null,
          "new_text": "mark_seen(p, seen_p)",
          "old_line_content": "\t\t\tp->object.flags |= flags;",
          "new_line_content": "\t\t\tif (mark_seen(p, seen_p) && !still_interesting)",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"%c [%s] \",\n\t\t\t\t       is_head ? '*' : ' ', ref_name[i])",
          "old_line_content": "\t\t\telse {",
          "new_line_content": "\t\t\t\tprintf(\"%c [%s] \",",
          "content_same": false
        },
        {
          "line": 215,
          "old_api": null,
          "new_api": "insert_by_date",
          "old_text": null,
          "new_text": "insert_by_date(p, list_p)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tinsert_by_date(p, list_p);",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": null,
          "new_api": "putchar",
          "old_text": null,
          "new_text": "putchar(' ')",
          "old_line_content": "\t\t\t\t       is_head ? '*' : '!', ref_name[i]);",
          "new_line_content": "\t\t\t\t\tputchar(' ');",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"%c [%s] \",\n\t\t\t\t       is_head ? '*' : '!', ref_name[i])",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tprintf(\"%c [%s] \",",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": null,
          "new_api": "show_one_commit",
          "old_text": null,
          "new_text": "show_one_commit(rev[i], 1)",
          "old_line_content": "\t\t\t\thead_at = i;",
          "new_line_content": "\t\t\tshow_one_commit(rev[i], 1);",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": null,
          "new_api": "putchar",
          "old_text": null,
          "new_text": "putchar('-')",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tputchar('-');",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": null,
          "new_api": "putchar",
          "old_text": null,
          "new_text": "putchar('\\n')",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tputchar('\\n');",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": null,
          "new_api": "exit",
          "old_text": null,
          "new_text": "exit(0)",
          "old_line_content": "\t/* Sort topologically */",
          "new_line_content": "\t\texit(0);",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": null,
          "new_api": "sort_in_topological_order",
          "old_text": null,
          "new_text": "sort_in_topological_order(&seen, lifo)",
          "old_line_content": "\t/* Give names to commits */",
          "new_line_content": "\tsort_in_topological_order(&seen, lifo);",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": null,
          "new_api": "name_commits",
          "old_text": null,
          "new_text": "name_commits(seen, rev, ref_name, num_rev)",
          "old_line_content": "\tall_mask = ((1u << (REV_SHIFT + num_rev)) - 1);",
          "new_line_content": "\t\tname_commits(seen, rev, ref_name, num_rev);",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": null,
          "new_api": "pop_one_commit",
          "old_text": null,
          "new_text": "pop_one_commit(&seen)",
          "old_line_content": "\t\tint is_merge_point = ((this_flag & all_revs) == all_revs);",
          "new_line_content": "\t\tstruct commit *commit = pop_one_commit(&seen);",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": null,
          "new_api": "omit_in_dense",
          "old_text": null,
          "new_text": "omit_in_dense(commit, rev, num_rev)",
          "old_line_content": "\t\t\tfor (i = 0; i < num_rev; i++) {",
          "new_line_content": "\t\t\t    omit_in_dense(commit, rev, num_rev))",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": null,
          "new_api": "pretty_print_commit",
          "old_text": null,
          "new_text": "pretty_print_commit(CMIT_FMT_ONELINE, commit, ~0,\n\t\t\t\t    pretty, sizeof(pretty), 0, NULL, NULL)",
          "old_line_content": "\telse",
          "new_line_content": "\t\tpretty_print_commit(CMIT_FMT_ONELINE, commit, ~0,",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(pretty, \"(unavailable)\")",
          "old_line_content": "\t\tcp = pretty + 8;",
          "new_line_content": "\t\tstrcpy(pretty, \"(unavailable)\");",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(pretty, \"[PATCH] \", 8)",
          "old_line_content": "\telse",
          "new_line_content": "\tif (!strncmp(pretty, \"[PATCH] \", 8))",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"[%s\", name->head_name)",
          "old_line_content": "\t\t\t\tif (name->generation == 1)",
          "new_line_content": "\t\t\tprintf(\"[%s\", name->head_name);",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": null,
          "new_api": "show_one_commit",
          "old_text": null,
          "new_text": "show_one_commit(commit, no_name)",
          "old_line_content": "\t\tif (shown_merge_point && --extra < 0)",
          "new_line_content": "\t\tshow_one_commit(commit, no_name);",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"] \")",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\t\tprintf(\"] \");",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"[%s] \",\n\t\t\t       find_unique_abbrev(commit->object.sha1, 7))",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tprintf(\"[%s] \",",
          "content_same": false
        },
        {
          "line": 287,
          "old_api": null,
          "new_api": "puts",
          "old_text": null,
          "new_text": "puts(cp)",
          "old_line_content": "",
          "new_line_content": "\tputs(cp);",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": null,
          "new_api": "find_digit_prefix",
          "old_text": null,
          "new_text": "find_digit_prefix(a, &va)",
          "old_line_content": "\t\tif (va != vb)",
          "new_line_content": "\t\ta = find_digit_prefix(a, &va);",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": null,
          "new_api": "find_digit_prefix",
          "old_text": null,
          "new_text": "find_digit_prefix(b, &vb)",
          "old_line_content": "\t\t\treturn va - vb;",
          "new_line_content": "\t\tb = find_digit_prefix(b, &vb);",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": null,
          "new_api": "version_cmp",
          "old_text": null,
          "new_text": "version_cmp(*a, *b)",
          "old_line_content": "",
          "new_line_content": "\treturn version_cmp(*a, *b);",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": null,
          "new_api": "qsort",
          "old_text": null,
          "new_text": "qsort(ref_name + bottom, top - bottom, sizeof(ref_name[0]),\n\t      compare_ref_name)",
          "old_line_content": "}",
          "new_line_content": "\tqsort(ref_name + bottom, top - bottom, sizeof(ref_name[0]),",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": null,
          "new_api": "lookup_commit_reference_gently",
          "old_text": null,
          "new_text": "lookup_commit_reference_gently(sha1, 1)",
          "old_line_content": "",
          "new_line_content": "\tstruct commit *commit = lookup_commit_reference_gently(sha1, 1);",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(refname, ref_name[i])",
          "old_line_content": "",
          "new_line_content": "\t\tif (!strcmp(refname, ref_name[i]))",
          "content_same": false
        },
        {
          "line": 362,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"warning: ignoring %s; \"\n\t\t\t\"cannot handle more than %d refs\\n\",\n\t\t\trefname, MAX_REVS)",
          "old_line_content": "\t\t\trefname, MAX_REVS);",
          "new_line_content": "\t\tfprintf(stderr, \"warning: ignoring %s; \"",
          "content_same": false
        },
        {
          "line": 367,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(refname)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\tref_name[ref_name_cnt++] = strdup(refname);",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(refname, \"refs/heads/\", ofs)",
          "old_line_content": "\t/* If both heads/foo and tags/foo exists, get_sha1 would",
          "new_line_content": "\tif (strncmp(refname, \"refs/heads/\", ofs))",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": null,
          "new_api": "append_ref",
          "old_text": null,
          "new_text": "append_ref(refname + ofs, sha1)",
          "old_line_content": "",
          "new_line_content": "\treturn append_ref(refname + ofs, sha1);",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": null,
          "new_api": "append_ref",
          "old_text": null,
          "new_text": "append_ref(refname + 5, sha1)",
          "old_line_content": "",
          "new_line_content": "\treturn append_ref(refname + 5, sha1);",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": null,
          "new_api": "count_slash",
          "old_text": null,
          "new_text": "count_slash(refname)",
          "old_line_content": "\t\tif (*tail++ == '/')",
          "new_line_content": "\tint slash = count_slash(refname);",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": null,
          "new_api": "append_tag_ref",
          "old_text": null,
          "new_text": "append_tag_ref(refname, sha1)",
          "old_line_content": "}",
          "new_line_content": "\t\treturn append_tag_ref(refname, sha1);",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": null,
          "new_api": "append_ref",
          "old_text": null,
          "new_text": "append_ref(refname, sha1)",
          "old_line_content": "",
          "new_line_content": "\treturn append_ref(refname, sha1);",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": null,
          "new_api": "for_each_ref",
          "old_text": null,
          "new_text": "for_each_ref(append_head_ref)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tfor_each_ref(append_head_ref);",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": null,
          "new_api": "sort_ref_range",
          "old_text": null,
          "new_text": "sort_ref_range(orig_cnt, ref_name_cnt)",
          "old_line_content": "\tif (tag) {",
          "new_line_content": "\t\tsort_ref_range(orig_cnt, ref_name_cnt);",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": null,
          "new_api": "for_each_ref",
          "old_text": null,
          "new_text": "for_each_ref(append_tag_ref)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tfor_each_ref(append_tag_ref);",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": null,
          "new_api": "sort_ref_range",
          "old_text": null,
          "new_text": "sort_ref_range(orig_cnt, ref_name_cnt)",
          "old_line_content": "}",
          "new_line_content": "\t\tsort_ref_range(orig_cnt, ref_name_cnt);",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(head_path + headlen - namelen, name, namelen)",
          "old_line_content": "\tif (headlen == namelen ||",
          "new_line_content": "\t    memcmp(head_path + headlen - namelen, name, namelen))",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": null,
          "new_api": "pop_one_commit",
          "old_text": null,
          "new_text": "pop_one_commit(&seen)",
          "old_line_content": "\t\tif (!(flags & UNINTERESTING) &&",
          "new_line_content": "\t\tstruct commit *commit = pop_one_commit(&seen);",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(commit->object.sha1)",
          "old_line_content": "\t\t\tcommit->object.flags |= UNINTERESTING;",
          "new_line_content": "\t\t\tputs(sha1_to_hex(commit->object.sha1));",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(commit->object.sha1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tputs(sha1_to_hex(commit->object.sha1));",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": null,
          "new_api": "get_sha1",
          "old_text": null,
          "new_text": "get_sha1(av, revkey)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tif (!get_sha1(av, revkey)) {",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": null,
          "new_api": "append_ref",
          "old_text": null,
          "new_text": "append_ref(av, revkey)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappend_ref(av, revkey);",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(av, '[')",
          "old_line_content": "\t\tint saved_matches = ref_name_cnt;",
          "new_line_content": "\tif (strchr(av, '*') || strchr(av, '?') || strchr(av, '[')) {",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": null,
          "new_api": "count_slash",
          "old_text": null,
          "new_text": "count_slash(av)",
          "old_line_content": "\t\tif (saved_matches == ref_name_cnt &&",
          "new_line_content": "\t\tmatch_ref_slash = count_slash(av);",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": null,
          "new_api": "for_each_ref",
          "old_text": null,
          "new_text": "for_each_ref(append_matching_ref)",
          "old_line_content": "\t\t    ref_name_cnt < MAX_REVS)",
          "new_line_content": "\t\tfor_each_ref(append_matching_ref);",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": null,
          "new_api": "sort_ref_range",
          "old_text": null,
          "new_text": "sort_ref_range(saved_matches, ref_name_cnt)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tsort_ref_range(saved_matches, ref_name_cnt);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 512,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"bad sha1 reference %s\", av)",
          "new_text": null,
          "old_line_content": "\tdie(\"bad sha1 reference %s\", av);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 517,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(var, \"showbranch.default\")",
          "new_text": null,
          "old_line_content": "\tif (!strcmp(var, \"showbranch.default\")) {",
          "new_line_content": "static int git_show_branch_config(const char *var, const char *value)",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": "xrealloc",
          "new_api": null,
          "old_text": "xrealloc(default_arg, sizeof *default_arg * default_alloc)",
          "new_text": null,
          "old_line_content": "\t\t\tdefault_arg = xrealloc(default_arg, sizeof *default_arg * default_alloc);",
          "new_line_content": "\t\tif (default_alloc <= default_num + 1) {",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": "git_default_config",
          "new_api": null,
          "old_text": "git_default_config(var, value)",
          "new_text": null,
          "old_line_content": "\treturn git_default_config(var, value);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": "setup_git_directory",
          "new_api": null,
          "old_text": "setup_git_directory()",
          "new_text": null,
          "old_line_content": "\tsetup_git_directory();",
          "new_line_content": "\tint dense = 1;",
          "content_same": false
        },
        {
          "line": 575,
          "old_api": "git_config",
          "new_api": null,
          "old_text": "git_config(git_show_branch_config)",
          "new_text": null,
          "old_line_content": "\tgit_config(git_show_branch_config);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"--\")) {",
          "new_line_content": "\twhile (1 < ac && av[1][0] == '-') {",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--all\")",
          "new_text": null,
          "old_line_content": "\t\telse if (!strcmp(arg, \"--all\"))",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(arg + 7)",
          "new_text": null,
          "old_line_content": "\t\t\textra = atoi(arg + 7);",
          "new_line_content": "\t\t\tsha1_name = 1;",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(show_branch_usage)",
          "new_text": null,
          "old_line_content": "\t\t\tusage(show_branch_usage);",
          "new_line_content": "\t\t\tlifo = 0;",
          "content_same": false
        },
        {
          "line": 113,
          "old_api": "name_commit",
          "new_api": null,
          "old_text": "name_commit(c, ref_name[i], 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\tname_commit(c, ref_name[i], 0);",
          "new_line_content": "\t\tfor (i = 0; i < num_rev; i++) {",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(show_branch_usage)",
          "new_text": null,
          "old_line_content": "\t\tusage(show_branch_usage);",
          "new_line_content": "\t/* Only one of these is allowed */",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": "snarf_refs",
          "new_api": null,
          "old_text": "snarf_refs(all_heads, all_tags)",
          "new_text": null,
          "old_line_content": "\t\tsnarf_refs(all_heads, all_tags);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 123,
          "old_api": "name_first_parent_chain",
          "new_api": null,
          "old_text": "name_first_parent_chain(cl->item)",
          "new_text": null,
          "old_line_content": "\t\t\ti += name_first_parent_chain(cl->item);",
          "new_line_content": "\t\ti = 0;",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": "git_path",
          "new_api": null,
          "old_text": "git_path(\"HEAD\")",
          "new_text": null,
          "old_line_content": "\thead_path_p = resolve_ref(git_path(\"HEAD\"), head_sha1, 1);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(head_path, head_path_p, head_path_len + 1)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(head_path, head_path_p, head_path_len + 1);",
          "new_line_content": "\tif (head_path_p) {",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": "rev_is_head",
          "new_api": null,
          "old_text": "rev_is_head(head_path,\n\t\t\t\t\thead_path_len,\n\t\t\t\t\tref_name[i],\n\t\t\t\t\thead_sha1, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\tif (rev_is_head(head_path,",
          "new_line_content": "\t\t\t * HEAD points at.",
          "content_same": false
        },
        {
          "line": 150,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(en, \"%s\", n->head_name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\ten += sprintf(en, \"%s\", n->head_name);",
          "new_line_content": "\t\t\t\tswitch (n->generation) {",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": "git_path",
          "new_api": null,
          "old_text": "git_path(\"refs/heads/\")",
          "new_text": null,
          "old_line_content": "\t\t\tint pfxlen = strlen(git_path(\"refs/heads/\"));",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": "append_one_rev",
          "new_api": null,
          "old_text": "append_one_rev(head_path + pfxlen)",
          "new_text": null,
          "old_line_content": "\t\t\tappend_one_rev(head_path + pfxlen);",
          "new_line_content": "\t\tif (!has_head) {",
          "content_same": false
        },
        {
          "line": 153,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(en, \"%s^\", n->head_name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\ten += sprintf(en, \"%s^\", n->head_name);",
          "new_line_content": "\t\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 156,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(en, \"%s~%d\",\n\t\t\t\t\t\tn->head_name, n->generation)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\ten += sprintf(en, \"%s~%d\",",
          "new_line_content": "\t\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"No revs to be shown.\\n\")",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"No revs to be shown.\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": "exit",
          "new_api": null,
          "old_text": "exit(0)",
          "new_text": null,
          "old_line_content": "\t\texit(0);",
          "new_line_content": "\tif (!ref_name_cnt) {",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(en, \"^\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\ten += sprintf(en, \"^\");",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(newname)",
          "new_text": null,
          "old_line_content": "\t\t\t\tname_commit(p, strdup(newname), 0);",
          "new_line_content": "\t\t\t\telse",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"cannot handle more than %d revs.\", MAX_REVS)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"cannot handle more than %d revs.\", MAX_REVS);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": "get_sha1",
          "new_api": null,
          "old_text": "get_sha1(ref_name[num_rev], revkey)",
          "new_text": null,
          "old_line_content": "\t\tif (get_sha1(ref_name[num_rev], revkey))",
          "new_line_content": "\t\tif (MAX_REVS <= num_rev)",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": "mark_seen",
          "new_api": null,
          "old_text": "mark_seen(commit, &seen)",
          "new_text": null,
          "old_line_content": "\t\tmark_seen(commit, &seen);",
          "new_line_content": "\t\t\t    ref_name[num_rev], revkey);",
          "content_same": false
        },
        {
          "line": 175,
          "old_api": "commit_list_insert",
          "new_api": null,
          "old_text": "commit_list_insert(commit, seen_p)",
          "new_text": null,
          "old_line_content": "\t\tcommit_list_insert(commit, seen_p);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": "insert_by_date",
          "new_api": null,
          "old_text": "insert_by_date(commit, &list)",
          "new_text": null,
          "old_line_content": "\t\t\tinsert_by_date(commit, &list);",
          "new_line_content": "\t\tcommit->object.flags |= flag;",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "join_revs",
          "new_api": null,
          "old_text": "join_revs(&list, &seen, num_rev, extra)",
          "new_text": null,
          "old_line_content": "\t\tjoin_revs(&list, &seen, num_rev, extra);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 190,
          "old_api": "interesting",
          "new_api": null,
          "old_text": "interesting(*list_p)",
          "new_text": null,
          "old_line_content": "\t\tint still_interesting = !!interesting(*list_p);",
          "new_line_content": "\twhile (*list_p) {",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": "pop_one_commit",
          "new_api": null,
          "old_text": "pop_one_commit(list_p)",
          "new_text": null,
          "old_line_content": "\t\tstruct commit *commit = pop_one_commit(list_p);",
          "new_line_content": "\t\tstruct commit_list *parents;",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": "show_merge_base",
          "new_api": null,
          "old_text": "show_merge_base(seen, num_rev)",
          "new_text": null,
          "old_line_content": "\t\treturn show_merge_base(seen, num_rev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 197,
          "old_api": "mark_seen",
          "new_api": null,
          "old_text": "mark_seen(commit, seen_p)",
          "new_text": null,
          "old_line_content": "\t\tmark_seen(commit, seen_p);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": "show_independent",
          "new_api": null,
          "old_text": "show_independent(rev, num_rev, ref_name, rev_mask)",
          "new_text": null,
          "old_line_content": "\t\treturn show_independent(rev, num_rev, ref_name, rev_mask);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": "rev_is_head",
          "new_api": null,
          "old_text": "rev_is_head(head_path,\n\t\t\t\t\t\t  head_path_len,\n\t\t\t\t\t\t  ref_name[i],\n\t\t\t\t\t\t  head_sha1,\n\t\t\t\t\t\t  rev[i]->object.sha1)",
          "new_text": null,
          "old_line_content": "\t\t\tint is_head = rev_is_head(head_path,",
          "new_line_content": "\t\tfor (i = 0; i < num_rev; i++) {",
          "content_same": false
        },
        {
          "line": 209,
          "old_api": "parse_commit",
          "new_api": null,
          "old_text": "parse_commit(p)",
          "new_text": null,
          "old_line_content": "\t\t\t\tparse_commit(p);",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": "mark_seen",
          "new_api": null,
          "old_text": "mark_seen(p, seen_p)",
          "new_text": null,
          "old_line_content": "\t\t\tif (mark_seen(p, seen_p) && !still_interesting)",
          "new_line_content": "\t\t\tif (!p->object.parsed)",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"%c [%s] \",\n\t\t\t\t       is_head ? '*' : ' ', ref_name[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\tprintf(\"%c [%s] \",",
          "new_line_content": "\t\t\t\t\t\t  rev[i]->object.sha1);",
          "content_same": false
        },
        {
          "line": 213,
          "old_api": "insert_by_date",
          "new_api": null,
          "old_text": "insert_by_date(p, list_p)",
          "new_text": null,
          "old_line_content": "\t\t\tinsert_by_date(p, list_p);",
          "new_line_content": "\t\t\t\textra--;",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": "putchar",
          "new_api": null,
          "old_text": "putchar(' ')",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tputchar(' ');",
          "new_line_content": "\t\t\telse {",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"%c [%s] \",\n\t\t\t\t       is_head ? '*' : '!', ref_name[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\tprintf(\"%c [%s] \",",
          "new_line_content": "\t\t\t\tfor (j = 0; j < i; j++)",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": "show_one_commit",
          "new_api": null,
          "old_text": "show_one_commit(rev[i], 1)",
          "new_text": null,
          "old_line_content": "\t\t\tshow_one_commit(rev[i], 1);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": "putchar",
          "new_api": null,
          "old_text": "putchar('-')",
          "new_text": null,
          "old_line_content": "\t\t\t\tputchar('-');",
          "new_line_content": "\t\tif (0 <= extra) {",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": "putchar",
          "new_api": null,
          "old_text": "putchar('\\n')",
          "new_text": null,
          "old_line_content": "\t\t\tputchar('\\n');",
          "new_line_content": "\t\t\tfor (i = 0; i < num_rev; i++)",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": "exit",
          "new_api": null,
          "old_text": "exit(0)",
          "new_text": null,
          "old_line_content": "\t\texit(0);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "sort_in_topological_order",
          "new_api": null,
          "old_text": "sort_in_topological_order(&seen, lifo)",
          "new_text": null,
          "old_line_content": "\tsort_in_topological_order(&seen, lifo);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": "name_commits",
          "new_api": null,
          "old_text": "name_commits(seen, rev, ref_name, num_rev)",
          "new_text": null,
          "old_line_content": "\t\tname_commits(seen, rev, ref_name, num_rev);",
          "new_line_content": "\t/* Give names to commits */",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "pop_one_commit",
          "new_api": null,
          "old_text": "pop_one_commit(&seen)",
          "new_text": null,
          "old_line_content": "\t\tstruct commit *commit = pop_one_commit(&seen);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 768,
          "old_api": "omit_in_dense",
          "new_api": null,
          "old_text": "omit_in_dense(commit, rev, num_rev)",
          "new_text": null,
          "old_line_content": "\t\t\t    omit_in_dense(commit, rev, num_rev))",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": "pretty_print_commit",
          "new_api": null,
          "old_text": "pretty_print_commit(CMIT_FMT_ONELINE, commit, ~0,\n\t\t\t\t    pretty, sizeof(pretty), 0, NULL, NULL)",
          "new_text": null,
          "old_line_content": "\t\tpretty_print_commit(CMIT_FMT_ONELINE, commit, ~0,",
          "new_line_content": "\tstruct commit_name *name = commit->util;",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": "strcpy",
          "new_api": null,
          "old_text": "strcpy(pretty, \"(unavailable)\")",
          "new_text": null,
          "old_line_content": "\t\tstrcpy(pretty, \"(unavailable)\");",
          "new_line_content": "\t\t\t\t    pretty, sizeof(pretty), 0, NULL, NULL);",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(pretty, \"[PATCH] \", 8)",
          "new_text": null,
          "old_line_content": "\tif (!strncmp(pretty, \"[PATCH] \", 8))",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "putchar",
          "new_api": null,
          "old_text": "putchar(mark)",
          "new_text": null,
          "old_line_content": "\t\t\t\tputchar(mark);",
          "new_line_content": "\t\t\t\telse",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"[%s\", name->head_name)",
          "new_text": null,
          "old_line_content": "\t\t\tprintf(\"[%s\", name->head_name);",
          "new_line_content": "\tif (!no_name) {",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"^\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tprintf(\"^\");",
          "new_line_content": "\t\t\tif (name->generation) {",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"[%s] \",\n\t\t\t       find_unique_abbrev(commit->object.sha1, 7))",
          "new_text": null,
          "old_line_content": "\t\t\tprintf(\"[%s] \",",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": "find_unique_abbrev",
          "new_api": null,
          "old_text": "find_unique_abbrev(commit->object.sha1, 7)",
          "new_text": null,
          "old_line_content": "\t\t\t       find_unique_abbrev(commit->object.sha1, 7));",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": "find_digit_prefix",
          "new_api": null,
          "old_text": "find_digit_prefix(a, &va)",
          "new_text": null,
          "old_line_content": "\t\ta = find_digit_prefix(a, &va);",
          "new_line_content": "\t\tint va, vb;",
          "content_same": false
        },
        {
          "line": 312,
          "old_api": "find_digit_prefix",
          "new_api": null,
          "old_text": "find_digit_prefix(b, &vb)",
          "new_text": null,
          "old_line_content": "\t\tb = find_digit_prefix(b, &vb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": "version_cmp",
          "new_api": null,
          "old_text": "version_cmp(*a, *b)",
          "new_text": null,
          "old_line_content": "\treturn version_cmp(*a, *b);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 343,
          "old_api": "qsort",
          "new_api": null,
          "old_text": "qsort(ref_name + bottom, top - bottom, sizeof(ref_name[0]),\n\t      compare_ref_name)",
          "new_text": null,
          "old_line_content": "\tqsort(ref_name + bottom, top - bottom, sizeof(ref_name[0]),",
          "new_line_content": "static void sort_ref_range(int bottom, int top)",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": "lookup_commit_reference_gently",
          "new_api": null,
          "old_text": "lookup_commit_reference_gently(sha1, 1)",
          "new_text": null,
          "old_line_content": "\tstruct commit *commit = lookup_commit_reference_gently(sha1, 1);",
          "new_line_content": "static int append_ref(const char *refname, const unsigned char *sha1)",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(refname, ref_name[i])",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(refname, ref_name[i]))",
          "new_line_content": "\t/* Avoid adding the same thing twice */",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"warning: ignoring %s; \"\n\t\t\t\"cannot handle more than %d refs\\n\",\n\t\t\trefname, MAX_REVS)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"warning: ignoring %s; \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(refname)",
          "new_text": null,
          "old_line_content": "\tref_name[ref_name_cnt++] = strdup(refname);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(refname, \"refs/heads/\", ofs)",
          "new_text": null,
          "old_line_content": "\tif (strncmp(refname, \"refs/heads/\", ofs))",
          "new_line_content": "\tunsigned char tmp[20];",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(tmp, sha1, 20)",
          "new_text": null,
          "old_line_content": "\tif (get_sha1(refname + ofs, tmp) || memcmp(tmp, sha1, 20))",
          "new_line_content": "\t * get confused.",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(refname, \"refs/tags/\", 10)",
          "new_text": null,
          "old_line_content": "\tif (strncmp(refname, \"refs/tags/\", 10))",
          "new_line_content": "static int append_tag_ref(const char *refname, const unsigned char *sha1)",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "count_slash",
          "new_api": null,
          "old_text": "count_slash(refname)",
          "new_text": null,
          "old_line_content": "\tint slash = count_slash(refname);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": "fnmatch",
          "new_api": null,
          "old_text": "fnmatch(match_ref_pattern, tail, 0)",
          "new_text": null,
          "old_line_content": "\tif (fnmatch(match_ref_pattern, tail, 0))",
          "new_line_content": "\tif (!*tail)",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": "append_head_ref",
          "new_api": null,
          "old_text": "append_head_ref(refname, sha1)",
          "new_text": null,
          "old_line_content": "\t\treturn append_head_ref(refname, sha1);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": "for_each_ref",
          "new_api": null,
          "old_text": "for_each_ref(append_head_ref)",
          "new_text": null,
          "old_line_content": "\t\tfor_each_ref(append_head_ref);",
          "new_line_content": "\tif (head) {",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "sort_ref_range",
          "new_api": null,
          "old_text": "sort_ref_range(orig_cnt, ref_name_cnt)",
          "new_text": null,
          "old_line_content": "\t\tsort_ref_range(orig_cnt, ref_name_cnt);",
          "new_line_content": "\t\tint orig_cnt = ref_name_cnt;",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": "for_each_ref",
          "new_api": null,
          "old_text": "for_each_ref(append_tag_ref)",
          "new_text": null,
          "old_line_content": "\t\tfor_each_ref(append_tag_ref);",
          "new_line_content": "\tif (tag) {",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": "sort_ref_range",
          "new_api": null,
          "old_text": "sort_ref_range(orig_cnt, ref_name_cnt)",
          "new_text": null,
          "old_line_content": "\t\tsort_ref_range(orig_cnt, ref_name_cnt);",
          "new_line_content": "\t\tint orig_cnt = ref_name_cnt;",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(head_sha1, sha1, 20)",
          "new_text": null,
          "old_line_content": "\t    (head_sha1 && sha1 && memcmp(head_sha1, sha1, 20)))",
          "new_line_content": "\tint namelen;",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": "pop_one_commit",
          "new_api": null,
          "old_text": "pop_one_commit(&seen)",
          "new_text": null,
          "old_line_content": "\t\tstruct commit *commit = pop_one_commit(&seen);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(commit->object.sha1)",
          "new_text": null,
          "old_line_content": "\t\t\tputs(sha1_to_hex(commit->object.sha1));",
          "new_line_content": "\t\tif (!(flags & UNINTERESTING) &&",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(commit->object.sha1)",
          "new_text": null,
          "old_line_content": "\t\t\tputs(sha1_to_hex(commit->object.sha1));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": "get_sha1",
          "new_api": null,
          "old_text": "get_sha1(av, revkey)",
          "new_text": null,
          "old_line_content": "\tif (!get_sha1(av, revkey)) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": "append_ref",
          "new_api": null,
          "old_text": "append_ref(av, revkey)",
          "new_text": null,
          "old_line_content": "\t\tappend_ref(av, revkey);",
          "new_line_content": "\tunsigned char revkey[20];",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(av, '[')",
          "new_text": null,
          "old_line_content": "\tif (strchr(av, '*') || strchr(av, '?') || strchr(av, '[')) {",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": "count_slash",
          "new_api": null,
          "old_text": "count_slash(av)",
          "new_text": null,
          "old_line_content": "\t\tmatch_ref_slash = count_slash(av);",
          "new_line_content": "\t\tint saved_matches = ref_name_cnt;",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": "for_each_ref",
          "new_api": null,
          "old_text": "for_each_ref(append_matching_ref)",
          "new_text": null,
          "old_line_content": "\t\tfor_each_ref(append_matching_ref);",
          "new_line_content": "\t\tmatch_ref_pattern = av;",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"no matching refs with %s\", av)",
          "new_text": null,
          "old_line_content": "\t\t\terror(\"no matching refs with %s\", av);",
          "new_line_content": "\t\tif (saved_matches == ref_name_cnt &&",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 20,
      "total_additions": 88,
      "total_deletions": 88,
      "total_api_changes": 196
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 2,
        "api_related_lines": 196,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          92,
          93
        ]
      }
    },
    "api_calls_before": 138,
    "api_calls_after": 138,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 0,
      "total_diff_lines": 14
    }
  }
}