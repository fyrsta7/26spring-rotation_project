{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/ecf4c2ec6ba6dc39e72c6b37f2a238e28fec2dc1",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/ecf4c2ec6ba6dc39e72c6b37f2a238e28fec2dc1/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/ecf4c2ec6ba6dc39e72c6b37f2a238e28fec2dc1/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/ecf4c2ec6ba6dc39e72c6b37f2a238e28fec2dc1/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 2044,
          "old_api": "hash_sha1_file",
          "new_api": "get_sha1_hex",
          "old_text": "hash_sha1_file(img->buf, img->len, blob_type, sha1)",
          "new_text": "get_sha1_hex(patch->old_sha1_prefix, sha1)",
          "old_line_content": "\t\thash_sha1_file(img->buf, img->len, blob_type, sha1);",
          "new_line_content": "\t    get_sha1_hex(patch->old_sha1_prefix, sha1) ||",
          "content_same": false
        },
        {
          "line": 2045,
          "old_api": "sha1_to_hex",
          "new_api": "get_sha1_hex",
          "old_text": "sha1_to_hex(sha1)",
          "new_text": "get_sha1_hex(patch->new_sha1_prefix, sha1)",
          "old_line_content": "\t\tif (strcmp(sha1_to_hex(sha1), patch->old_sha1_prefix))",
          "new_line_content": "\t    get_sha1_hex(patch->new_sha1_prefix, sha1))",
          "content_same": false
        },
        {
          "line": 2054,
          "old_api": "error",
          "new_api": "hash_sha1_file",
          "old_text": "error(\"the patch applies to an empty \"\n\t\t\t\t     \"'%s' but it is not empty\", name)",
          "new_text": "hash_sha1_file(img->buf, img->len, blob_type, sha1)",
          "old_line_content": "\t\t\treturn error(\"the patch applies to an empty \"",
          "new_line_content": "\t\thash_sha1_file(img->buf, img->len, blob_type, sha1);",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": "is_null_sha1",
          "new_api": "sha1_to_hex",
          "old_text": "is_null_sha1(sha1)",
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\tif (is_null_sha1(sha1)) {",
          "new_line_content": "\t\t\t\t     name, sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": "has_sha1_file",
          "new_api": "error",
          "old_text": "has_sha1_file(sha1)",
          "new_text": "error(\"the patch applies to an empty \"\n\t\t\t\t     \"'%s' but it is not empty\", name)",
          "old_line_content": "\tif (has_sha1_file(sha1)) {",
          "new_line_content": "\t\t\treturn error(\"the patch applies to an empty \"",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": "read_sha1_file",
          "new_api": "clear_image",
          "old_text": "read_sha1_file(sha1, &type, &size)",
          "new_text": "clear_image(img)",
          "old_line_content": "\t\tresult = read_sha1_file(sha1, &type, &size);",
          "new_line_content": "\t\tclear_image(img);",
          "content_same": false
        },
        {
          "line": 2085,
          "old_api": "error",
          "new_api": "clear_image",
          "old_text": "error(\"binary patch does not apply to '%s'\",\n\t\t\t\t     name)",
          "new_text": "clear_image(img)",
          "old_line_content": "\t\t\treturn error(\"binary patch does not apply to '%s'\",",
          "new_line_content": "\t\tclear_image(img);",
          "content_same": false
        },
        {
          "line": 2137,
          "old_api": "strbuf_attach",
          "new_api": "sha1_to_hex",
          "old_text": "strbuf_attach(buf, result, sz, sz + 1)",
          "new_text": "sha1_to_hex(ce->sha1)",
          "old_line_content": "\t\tstrbuf_attach(buf, result, sz, sz + 1);",
          "new_line_content": "\t\tstrbuf_addf(buf, \"Subproject commit %s\\n\", sha1_to_hex(ce->sha1));",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": "error",
          "new_api": "read_file_or_gitlink",
          "old_text": "error(\"read of %s failed\", patch->old_name)",
          "new_text": "read_file_or_gitlink(ce, &buf)",
          "old_line_content": "\t\t\t\treturn error(\"read of %s failed\", patch->old_name);",
          "new_line_content": "\t\t\t\tread_file_or_gitlink(ce, &buf);",
          "content_same": false
        },
        {
          "line": 2180,
          "old_api": "error",
          "new_api": "strbuf_detach",
          "old_text": "error(\"removal patch leaves file contents\")",
          "new_text": "strbuf_detach(&buf, &len)",
          "old_line_content": "\t\treturn error(\"removal patch leaves file contents\");",
          "new_line_content": "\timg = strbuf_detach(&buf, &len);",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": "has_symlink_leading_path",
          "new_api": "lstat",
          "old_text": "has_symlink_leading_path(new_name, NULL)",
          "new_text": "lstat(new_name, &nst)",
          "old_line_content": "\t\tif (has_symlink_leading_path(new_name, NULL))",
          "new_line_content": "\tif (!lstat(new_name, &nst)) {",
          "content_same": false
        },
        {
          "line": 2211,
          "old_api": "S_ISDIR",
          "new_api": "error",
          "old_text": "S_ISDIR(st->st_mode)",
          "new_text": "error(\"%s: already exists in working directory\", new_name)",
          "old_line_content": "\t\tif (!S_ISDIR(st->st_mode))",
          "new_line_content": "\t\treturn error(\"%s: already exists in working directory\", new_name);",
          "content_same": false
        },
        {
          "line": 2250,
          "old_api": "error",
          "new_api": "lstat",
          "old_text": "error(\"%s: %s\", old_name,\n\t\t\t\t\t\t     strerror(errno))",
          "new_text": "lstat(old_name, &st)",
          "old_line_content": "\t\t\t\t\treturn error(\"%s: %s\", old_name,",
          "new_line_content": "\t\t\tstat_ret = lstat(old_name, &st);",
          "content_same": false
        },
        {
          "line": 2269,
          "old_api": "ntohl",
          "new_api": "checkout_entry",
          "old_text": "ntohl(ce->ce_mode)",
          "new_text": "checkout_entry(ce,\n\t\t\t\t\t\t   &costate,\n\t\t\t\t\t\t   NULL)",
          "old_line_content": "\t\t\t\tst_mode = ntohl(ce->ce_mode);",
          "new_line_content": "\t\t\t\tif (checkout_entry(ce,",
          "content_same": false
        },
        {
          "line": 2281,
          "old_api": "error",
          "new_api": "strerror",
          "old_text": "error(\"%s: wrong type\", old_name)",
          "new_text": "strerror(errno)",
          "old_line_content": "\t\t\treturn error(\"%s: wrong type\", old_name);",
          "new_line_content": "\t\t\treturn error(\"%s: %s\", old_name, strerror(errno));",
          "content_same": false
        },
        {
          "line": 2331,
          "old_api": "error",
          "new_api": "strcmp",
          "old_text": "error(\"%s: patch does not apply\", name)",
          "new_text": "strcmp(old_name, new_name)",
          "old_line_content": "\t\treturn error(\"%s: patch does not apply\", name);",
          "new_line_content": "\t\tint same = !strcmp(old_name, new_name);",
          "content_same": false
        },
        {
          "line": 2398,
          "old_api": "make_cache_entry",
          "new_api": "get_current_sha1",
          "old_text": "make_cache_entry(patch->old_mode, sha1_ptr, name, 0, 0)",
          "new_text": "get_current_sha1(patch->old_name, sha1)",
          "old_line_content": "\t\tce = make_cache_entry(patch->old_mode, sha1_ptr, name, 0, 0);",
          "new_line_content": "\t\t\t\t    get_current_sha1(patch->old_name, sha1))",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": "add_index_entry",
          "new_api": "die",
          "old_text": "add_index_entry(&result, ce, ADD_CACHE_OK_TO_ADD)",
          "new_text": "die(\"mode change for %s, which is not \"\n\t\t\t\t\t\t\"in current HEAD\", name)",
          "old_line_content": "\t\tif (add_index_entry(&result, ce, ADD_CACHE_OK_TO_ADD))",
          "new_line_content": "\t\t\t\t\tdie(\"mode change for %s, which is not \"",
          "content_same": false
        },
        {
          "line": 2403,
          "old_api": "open",
          "new_api": "die",
          "old_text": "open(filename, O_WRONLY | O_CREAT, 0666)",
          "new_text": "die(\"sha1 information is lacking or useless \"\n\t\t\t\t\t\"(%s).\", name)",
          "old_line_content": "\tfd = open(filename, O_WRONLY | O_CREAT, 0666);",
          "new_line_content": "\t\t\t\tdie(\"sha1 information is lacking or useless \"",
          "content_same": false
        },
        {
          "line": 2506,
          "old_api": "show_mode_change",
          "new_api": "show_file_mode_name",
          "old_text": "show_mode_change(p, 0)",
          "new_text": "show_file_mode_name(\"create\", p->new_mode, p->new_name)",
          "old_line_content": "\t\t\t\t\tshow_mode_change(p, 0);",
          "new_line_content": "\t\t\tshow_file_mode_name(\"create\", p->new_mode, p->new_name);",
          "content_same": false
        },
        {
          "line": 2541,
          "old_api": "die",
          "new_api": "strlen",
          "old_text": "die(\"unable to remove %s from index\", patch->old_name)",
          "new_text": "strlen(patch->new_name)",
          "old_line_content": "\t\t\tdie(\"unable to remove %s from index\", patch->old_name);",
          "new_line_content": "\t\t\tlen = strlen(patch->new_name);",
          "content_same": false
        },
        {
          "line": 2550,
          "old_api": "strrchr",
          "new_api": "remove_file_from_cache",
          "old_text": "strrchr(name, '/')",
          "new_text": "remove_file_from_cache(patch->old_name)",
          "old_line_content": "\t\t\tchar *end = strrchr(name, '/');",
          "new_line_content": "\t\tif (remove_file_from_cache(patch->old_name) < 0)",
          "content_same": false
        },
        {
          "line": 2555,
          "old_api": "strrchr",
          "new_api": "rmdir",
          "old_text": "strrchr(name, '/')",
          "new_text": "rmdir(patch->old_name)",
          "old_line_content": "\t\t\t\tend = strrchr(name, '/');",
          "new_line_content": "\t\t\tif (rmdir(patch->old_name))",
          "content_same": false
        },
        {
          "line": 2567,
          "old_api": "cache_entry_size",
          "new_api": "free",
          "old_text": "cache_entry_size(namelen)",
          "new_text": "free(name)",
          "old_line_content": "\tunsigned ce_size = cache_entry_size(namelen);",
          "new_line_content": "\t\t\tfree(name);",
          "content_same": false
        },
        {
          "line": 2576,
          "old_api": "S_ISGITLINK",
          "new_api": "strlen",
          "old_text": "S_ISGITLINK(mode)",
          "new_text": "strlen(path)",
          "old_line_content": "\tif (S_ISGITLINK(mode)) {",
          "new_line_content": "\tint namelen = strlen(path);",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": "lstat",
          "new_api": "memcpy",
          "old_text": "lstat(path, &st)",
          "new_text": "memcpy(ce->name, path, namelen)",
          "old_line_content": "\t\t\tif (lstat(path, &st) < 0)",
          "new_line_content": "\tmemcpy(ce->name, path, namelen);",
          "content_same": false
        },
        {
          "line": 2584,
          "old_api": "die",
          "new_api": "create_ce_mode",
          "old_text": "die(\"unable to stat newly created file %s\",\n\t\t\t\t    path)",
          "new_text": "create_ce_mode(mode)",
          "old_line_content": "\t\t\t\tdie(\"unable to stat newly created file %s\",",
          "new_line_content": "\tce->ce_mode = create_ce_mode(mode);",
          "content_same": false
        },
        {
          "line": 2586,
          "old_api": "fill_stat_cache_info",
          "new_api": "S_ISGITLINK",
          "old_text": "fill_stat_cache_info(ce, &st)",
          "new_text": "S_ISGITLINK(mode)",
          "old_line_content": "\t\t\tfill_stat_cache_info(ce, &st);",
          "new_line_content": "\tif (S_ISGITLINK(mode)) {",
          "content_same": false
        },
        {
          "line": 2589,
          "old_api": "die",
          "new_api": "strlen",
          "old_text": "die(\"unable to create backing store for newly created file %s\", path)",
          "new_text": "strlen(\"Subproject commit \")",
          "old_line_content": "\t\t\tdie(\"unable to create backing store for newly created file %s\", path);",
          "new_line_content": "\t\tif (get_sha1_hex(s + strlen(\"Subproject commit \"), ce->sha1))",
          "content_same": false
        },
        {
          "line": 2602,
          "old_api": "S_ISDIR",
          "new_api": "die",
          "old_text": "S_ISDIR(st.st_mode)",
          "new_text": "die(\"unable to add cache entry for %s\", path)",
          "old_line_content": "\t\tif (!lstat(path, &st) && S_ISDIR(st.st_mode))",
          "new_line_content": "\t\tdie(\"unable to add cache entry for %s\", path);",
          "content_same": false
        },
        {
          "line": 2617,
          "old_api": "strbuf_init",
          "new_api": "S_ISLNK",
          "old_text": "strbuf_init(&nbuf, 0)",
          "new_text": "S_ISLNK(mode)",
          "old_line_content": "\tstrbuf_init(&nbuf, 0);",
          "new_line_content": "\tif (has_symlinks && S_ISLNK(mode))",
          "content_same": false
        },
        {
          "line": 2623,
          "old_api": "strbuf_release",
          "new_api": "open",
          "old_text": "strbuf_release(&nbuf)",
          "new_text": "open(path, O_CREAT | O_EXCL | O_WRONLY, (mode & 0100) ? 0777 : 0666)",
          "old_line_content": "\tstrbuf_release(&nbuf);",
          "new_line_content": "\tfd = open(path, O_CREAT | O_EXCL | O_WRONLY, (mode & 0100) ? 0777 : 0666);",
          "content_same": false
        },
        {
          "line": 2664,
          "old_api": "try_create_file",
          "new_api": "rmdir",
          "old_text": "try_create_file(newpath, mode, buf, size)",
          "new_text": "rmdir(path)",
          "old_line_content": "\t\t\tif (!try_create_file(newpath, mode, buf, size)) {",
          "new_line_content": "\t\tif (!lstat(path, &st) && (!S_ISDIR(st.st_mode) || !rmdir(path)))",
          "content_same": false
        },
        {
          "line": 2675,
          "old_api": "die",
          "new_api": "rename",
          "old_text": "die(\"unable to write file %s mode %o\", path, mode)",
          "new_text": "rename(newpath, path)",
          "old_line_content": "\tdie(\"unable to write file %s mode %o\", path, mode);",
          "new_line_content": "\t\t\t\tif (!rename(newpath, path))",
          "content_same": false
        },
        {
          "line": 2751,
          "old_api": "memcpy",
          "new_api": "say_patch_name",
          "old_text": "memcpy(namebuf, patch->new_name, cnt)",
          "new_text": "say_patch_name(stderr, \"Applying patch \", patch, \" with\")",
          "old_line_content": "\tmemcpy(namebuf, patch->new_name, cnt);",
          "new_line_content": "\tsay_patch_name(stderr, \"Applying patch \", patch, \" with\");",
          "content_same": false
        },
        {
          "line": 2752,
          "old_api": "memcpy",
          "new_api": "fprintf",
          "old_text": "memcpy(namebuf + cnt, \".rej\", 5)",
          "new_text": "fprintf(stderr, \" %d rejects...\\n\", cnt)",
          "old_line_content": "\tmemcpy(namebuf + cnt, \".rej\", 5);",
          "new_line_content": "\tfprintf(stderr, \" %d rejects...\\n\", cnt);",
          "content_same": false
        },
        {
          "line": 2754,
          "old_api": "fopen",
          "new_api": "strlen",
          "old_text": "fopen(namebuf, \"w\")",
          "new_text": "strlen(patch->new_name)",
          "old_line_content": "\trej = fopen(namebuf, \"w\");",
          "new_line_content": "\tcnt = strlen(patch->new_name);",
          "content_same": false
        },
        {
          "line": 2756,
          "old_api": "strerror",
          "new_api": "ARRAY_SIZE",
          "old_text": "strerror(errno)",
          "new_text": "ARRAY_SIZE(namebuf)",
          "old_line_content": "\t\treturn error(\"cannot open %s: %s\", namebuf, strerror(errno));",
          "new_line_content": "\t\tcnt = ARRAY_SIZE(namebuf) - 5;",
          "content_same": false
        },
        {
          "line": 2847,
          "old_api": "prefix_one",
          "new_api": "free",
          "old_text": "prefix_one(&prefixed)",
          "new_text": "free(old_name)",
          "old_line_content": "\t\t\tprefix_one(&prefixed);",
          "new_line_content": "\tfree(old_name);",
          "content_same": false
        },
        {
          "line": 2874,
          "old_api": "parse_chunk",
          "new_api": "strbuf_init",
          "old_text": "parse_chunk(buf.buf + offset, buf.len - offset, patch)",
          "new_text": "strbuf_init(&buf, 0)",
          "old_line_content": "\t\tnr = parse_chunk(buf.buf + offset, buf.len - offset, patch);",
          "new_line_content": "\tstrbuf_init(&buf, 0);",
          "content_same": false
        },
        {
          "line": 2882,
          "old_api": "patch_stats",
          "new_api": "xcalloc",
          "old_text": "patch_stats(patch)",
          "new_text": "xcalloc(1, sizeof(*patch))",
          "old_line_content": "\t\t\tpatch_stats(patch);",
          "new_line_content": "\t\tpatch = xcalloc(1, sizeof(*patch));",
          "content_same": false
        },
        {
          "line": 2888,
          "old_api": "free",
          "new_api": "reverse_patches",
          "old_text": "free(patch)",
          "new_text": "reverse_patches(patch)",
          "old_line_content": "\t\t\tfree(patch);",
          "new_line_content": "\t\t\treverse_patches(patch);",
          "content_same": false
        },
        {
          "line": 2909,
          "old_api": "exit",
          "new_api": "hold_locked_index",
          "old_text": "exit(1)",
          "new_text": "hold_locked_index(&lock_file, 1)",
          "old_line_content": "\t\texit(1);",
          "new_line_content": "\t\tnewfd = hold_locked_index(&lock_file, 1);",
          "content_same": false
        },
        {
          "line": 2912,
          "old_api": "exit",
          "new_api": "read_cache",
          "old_text": "exit(1)",
          "new_text": "read_cache()",
          "old_line_content": "\t\texit(1);",
          "new_line_content": "\t\tif (read_cache() < 0)",
          "content_same": false
        },
        {
          "line": 2921,
          "old_api": "numstat_patch_list",
          "new_api": "write_out_results",
          "old_text": "numstat_patch_list(list)",
          "new_text": "write_out_results(list, skipped_patch)",
          "old_line_content": "\t\tnumstat_patch_list(list);",
          "new_line_content": "\tif (apply && write_out_results(list, skipped_patch))",
          "content_same": false
        },
        {
          "line": 2936,
          "old_api": "git_default_config",
          "new_api": "strbuf_release",
          "old_text": "git_default_config(var, value)",
          "new_text": "strbuf_release(&buf)",
          "old_line_content": "\treturn git_default_config(var, value);",
          "new_line_content": "\tstrbuf_release(&buf);",
          "content_same": false
        },
        {
          "line": 2961,
          "old_api": "strcmp",
          "new_api": "strlen",
          "old_text": "strcmp(arg, \"-\")",
          "new_text": "strlen(prefix)",
          "old_line_content": "\t\tif (!strcmp(arg, \"-\")) {",
          "new_line_content": "\tprefix_length = prefix ? strlen(prefix) : 0;",
          "content_same": false
        },
        {
          "line": 2962,
          "old_api": "apply_patch",
          "new_api": "git_config",
          "old_text": "apply_patch(0, \"<stdin>\", inaccurate_eof)",
          "new_text": "git_config(git_apply_config)",
          "old_line_content": "\t\t\terrs |= apply_patch(0, \"<stdin>\", inaccurate_eof);",
          "new_line_content": "\tgit_config(git_apply_config);",
          "content_same": false
        },
        {
          "line": 3040,
          "old_api": "prefixcmp",
          "new_api": "strcmp",
          "old_text": "prefixcmp(arg, \"--whitespace=\")",
          "new_text": "strcmp(arg, \"-z\")",
          "old_line_content": "\t\tif (!prefixcmp(arg, \"--whitespace=\")) {",
          "new_line_content": "\t\tif (!strcmp(arg, \"-z\")) {",
          "content_same": false
        },
        {
          "line": 3045,
          "old_api": "strcmp",
          "new_api": "strtoul",
          "old_text": "strcmp(arg, \"--reverse\")",
          "new_text": "strtoul(arg + 2, &end, 0)",
          "old_line_content": "\t\tif (!strcmp(arg, \"-R\") || !strcmp(arg, \"--reverse\")) {",
          "new_line_content": "\t\t\tp_context = strtoul(arg + 2, &end, 0);",
          "content_same": false
        },
        {
          "line": 3076,
          "old_api": "set_default_whitespace_mode",
          "new_api": "prefix_filename",
          "old_text": "set_default_whitespace_mode(whitespace_option)",
          "new_text": "prefix_filename(prefix, prefix_length, arg)",
          "old_line_content": "\tset_default_whitespace_mode(whitespace_option);",
          "new_line_content": "\t\t\targ = prefix_filename(prefix, prefix_length, arg);",
          "content_same": false
        },
        {
          "line": 3078,
          "old_api": "apply_patch",
          "new_api": "open",
          "old_text": "apply_patch(0, \"<stdin>\", inaccurate_eof)",
          "new_text": "open(arg, O_RDONLY)",
          "old_line_content": "\t\terrs |= apply_patch(0, \"<stdin>\", inaccurate_eof);",
          "new_line_content": "\t\tfd = open(arg, O_RDONLY);",
          "content_same": false
        },
        {
          "line": 3084,
          "old_api": "fprintf",
          "new_api": "close",
          "old_text": "fprintf(stderr, \"warning: squelched %d \"\n\t\t\t\t\"whitespace error%s\\n\",\n\t\t\t\tsquelched,\n\t\t\t\tsquelched == 1 ? \"\" : \"s\")",
          "new_text": "close(fd)",
          "old_line_content": "\t\t\tfprintf(stderr, \"warning: squelched %d \"",
          "new_line_content": "\t\tclose(fd);",
          "content_same": false
        },
        {
          "line": 3100,
          "old_api": "fprintf",
          "new_api": "die",
          "old_text": "fprintf(stderr, \"warning: %d line%s add%s whitespace errors.\\n\",\n\t\t\t\twhitespace_error,\n\t\t\t\twhitespace_error == 1 ? \"\" : \"s\",\n\t\t\t\twhitespace_error == 1 ? \"s\" : \"\")",
          "new_text": "die(\"%d line%s add%s whitespace errors.\",\n\t\t\t    whitespace_error,\n\t\t\t    whitespace_error == 1 ? \"\" : \"s\",\n\t\t\t    whitespace_error == 1 ? \"s\" : \"\")",
          "old_line_content": "\t\t\tfprintf(stderr, \"warning: %d line%s add%s whitespace errors.\\n\",",
          "new_line_content": "\t\t\tdie(\"%d line%s add%s whitespace errors.\",",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2560,
          "old_api": null,
          "new_api": "strrchr",
          "old_text": null,
          "new_text": "strrchr(name, '/')",
          "old_line_content": "}",
          "new_line_content": "\t\t\tchar *end = strrchr(name, '/');",
          "content_same": false
        },
        {
          "line": 2563,
          "old_api": null,
          "new_api": "rmdir",
          "old_text": null,
          "new_text": "rmdir(name)",
          "old_line_content": "{",
          "new_line_content": "\t\t\t\tif (rmdir(name))",
          "content_same": false
        },
        {
          "line": 2565,
          "old_api": null,
          "new_api": "strrchr",
          "old_text": null,
          "new_text": "strrchr(name, '/')",
          "old_line_content": "\tstruct cache_entry *ce;",
          "new_line_content": "\t\t\t\tend = strrchr(name, '/');",
          "content_same": false
        },
        {
          "line": 2055,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\t\t\t\t     \"'%s' but it is not empty\", name);",
          "new_line_content": "\t\tif (strcmp(sha1_to_hex(sha1), patch->old_sha1_prefix))",
          "content_same": false
        },
        {
          "line": 2056,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"the patch applies to '%s' (%s), \"\n\t\t\t\t     \"which does not match the \"\n\t\t\t\t     \"current contents.\",\n\t\t\t\t     name, sha1_to_hex(sha1))",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\treturn error(\"the patch applies to '%s' (%s), \"",
          "content_same": false
        },
        {
          "line": 3080,
          "old_api": null,
          "new_api": "usage",
          "old_text": null,
          "new_text": "usage(apply_usage)",
          "old_line_content": "\t\tif (squelch_whitespace_errors &&",
          "new_line_content": "\t\t\tusage(apply_usage);",
          "content_same": false
        },
        {
          "line": 3082,
          "old_api": null,
          "new_api": "set_default_whitespace_mode",
          "old_text": null,
          "new_text": "set_default_whitespace_mode(whitespace_option)",
          "old_line_content": "\t\t\tint squelched =",
          "new_line_content": "\t\tset_default_whitespace_mode(whitespace_option);",
          "content_same": false
        },
        {
          "line": 3083,
          "old_api": null,
          "new_api": "apply_patch",
          "old_text": null,
          "new_text": "apply_patch(fd, arg, inaccurate_eof)",
          "old_line_content": "\t\t\t\twhitespace_error - squelch_whitespace_errors;",
          "new_line_content": "\t\terrs |= apply_patch(fd, arg, inaccurate_eof);",
          "content_same": false
        },
        {
          "line": 3086,
          "old_api": null,
          "new_api": "set_default_whitespace_mode",
          "old_text": null,
          "new_text": "set_default_whitespace_mode(whitespace_option)",
          "old_line_content": "\t\t\t\tsquelched,",
          "new_line_content": "\tset_default_whitespace_mode(whitespace_option);",
          "content_same": false
        },
        {
          "line": 3088,
          "old_api": null,
          "new_api": "apply_patch",
          "old_text": null,
          "new_text": "apply_patch(0, \"<stdin>\", inaccurate_eof)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\terrs |= apply_patch(0, \"<stdin>\", inaccurate_eof);",
          "content_same": false
        },
        {
          "line": 2577,
          "old_api": null,
          "new_api": "cache_entry_size",
          "old_text": null,
          "new_text": "cache_entry_size(namelen)",
          "old_line_content": "\t\tconst char *s = buf;",
          "new_line_content": "\tunsigned ce_size = cache_entry_size(namelen);",
          "content_same": false
        },
        {
          "line": 2068,
          "old_api": null,
          "new_api": "get_sha1_hex",
          "old_text": null,
          "new_text": "get_sha1_hex(patch->new_sha1_prefix, sha1)",
          "old_line_content": "\t\tchar *result;",
          "new_line_content": "\tget_sha1_hex(patch->new_sha1_prefix, sha1);",
          "content_same": false
        },
        {
          "line": 2069,
          "old_api": null,
          "new_api": "is_null_sha1",
          "old_text": null,
          "new_text": "is_null_sha1(sha1)",
          "old_line_content": "",
          "new_line_content": "\tif (is_null_sha1(sha1)) {",
          "content_same": false
        },
        {
          "line": 2582,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(1, ce_size)",
          "old_line_content": "\t\tif (!cached) {",
          "new_line_content": "\tce = xcalloc(1, ce_size);",
          "content_same": false
        },
        {
          "line": 3094,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"warning: squelched %d \"\n\t\t\t\t\"whitespace error%s\\n\",\n\t\t\t\tsquelched,\n\t\t\t\tsquelched == 1 ? \"\" : \"s\")",
          "old_line_content": "\t\tif (applied_after_fixing_ws && apply)",
          "new_line_content": "\t\t\tfprintf(stderr, \"warning: squelched %d \"",
          "content_same": false
        },
        {
          "line": 2585,
          "old_api": null,
          "new_api": "htons",
          "old_text": null,
          "new_text": "htons(namelen)",
          "old_line_content": "\t\t\t\t    path);",
          "new_line_content": "\tce->ce_flags = htons(namelen);",
          "content_same": false
        },
        {
          "line": 2074,
          "old_api": null,
          "new_api": "has_sha1_file",
          "old_text": null,
          "new_text": "has_sha1_file(sha1)",
          "old_line_content": "\t\t\t\t     patch->new_sha1_prefix, name);",
          "new_line_content": "\tif (has_sha1_file(sha1)) {",
          "content_same": false
        },
        {
          "line": 2590,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"corrupt patch for subproject %s\", path)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tdie(\"corrupt patch for subproject %s\", path);",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": null,
          "new_api": "read_sha1_file",
          "old_text": null,
          "new_text": "read_sha1_file(sha1, &type, &size)",
          "old_line_content": "\t\t * We have verified buf matches the preimage;",
          "new_line_content": "\t\tresult = read_sha1_file(sha1, &type, &size);",
          "content_same": false
        },
        {
          "line": 2593,
          "old_api": null,
          "new_api": "lstat",
          "old_text": null,
          "new_text": "lstat(path, &st)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tif (lstat(path, &st) < 0)",
          "content_same": false
        },
        {
          "line": 2082,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"the necessary postimage %s for \"\n\t\t\t\t     \"'%s' cannot be read\",\n\t\t\t\t     patch->new_sha1_prefix, name)",
          "old_line_content": "\t\t * in the patch->fragments->{patch,size}.",
          "new_line_content": "\t\t\treturn error(\"the necessary postimage %s for \"",
          "content_same": false
        },
        {
          "line": 2594,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unable to stat newly created file %s\",\n\t\t\t\t    path)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tdie(\"unable to stat newly created file %s\",",
          "content_same": false
        },
        {
          "line": 2596,
          "old_api": null,
          "new_api": "fill_stat_cache_info",
          "old_text": null,
          "new_text": "fill_stat_cache_info(ce, &st)",
          "old_line_content": "{",
          "new_line_content": "\t\t\tfill_stat_cache_info(ce, &st);",
          "content_same": false
        },
        {
          "line": 3105,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"warning: %d line%s applied after\"\n\t\t\t\t\" fixing whitespace errors.\\n\",\n\t\t\t\tapplied_after_fixing_ws,\n\t\t\t\tapplied_after_fixing_ws == 1 ? \"\" : \"s\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tfprintf(stderr, \"warning: %d line%s applied after\"",
          "content_same": false
        },
        {
          "line": 2598,
          "old_api": null,
          "new_api": "write_sha1_file",
          "old_text": null,
          "new_text": "write_sha1_file(buf, size, blob_type, ce->sha1)",
          "old_line_content": "\tstruct strbuf nbuf;",
          "new_line_content": "\t\tif (write_sha1_file(buf, size, blob_type, ce->sha1) < 0)",
          "content_same": false
        },
        {
          "line": 2599,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unable to create backing store for newly created file %s\", path)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"unable to create backing store for newly created file %s\", path);",
          "content_same": false
        },
        {
          "line": 3110,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"warning: %d line%s add%s whitespace errors.\\n\",\n\t\t\t\twhitespace_error,\n\t\t\t\twhitespace_error == 1 ? \"\" : \"s\",\n\t\t\t\twhitespace_error == 1 ? \"s\" : \"\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tfprintf(stderr, \"warning: %d line%s add%s whitespace errors.\\n\",",
          "content_same": false
        },
        {
          "line": 2601,
          "old_api": null,
          "new_api": "add_cache_entry",
          "old_text": null,
          "new_text": "add_cache_entry(ce, ADD_CACHE_OK_TO_ADD)",
          "old_line_content": "\t\tstruct stat st;",
          "new_line_content": "\tif (add_cache_entry(ce, ADD_CACHE_OK_TO_ADD) < 0)",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(patch->old_sha1_prefix)",
          "old_line_content": "\t\t * applies to.",
          "new_line_content": "\tif (strlen(patch->old_sha1_prefix) != 40 ||",
          "content_same": false
        },
        {
          "line": 2043,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(patch->new_sha1_prefix)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t    strlen(patch->new_sha1_prefix) != 40 ||",
          "content_same": false
        },
        {
          "line": 3117,
          "old_api": null,
          "new_api": "write_cache",
          "old_text": null,
          "new_text": "write_cache(newfd, active_cache, active_nr)",
          "old_line_content": "",
          "new_line_content": "\t\tif (write_cache(newfd, active_cache, active_nr) ||",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": null,
          "new_api": "apply_binary_fragment",
          "old_text": null,
          "new_text": "apply_binary_fragment(img, patch)",
          "old_line_content": "",
          "new_line_content": "\t\tif (apply_binary_fragment(img, patch))",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"binary patch does not apply to '%s'\",\n\t\t\t\t     name)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\t\treturn error(\"binary patch does not apply to '%s'\",",
          "content_same": false
        },
        {
          "line": 3118,
          "old_api": null,
          "new_api": "commit_locked_index",
          "old_text": null,
          "new_text": "commit_locked_index(&lock_file)",
          "old_line_content": "",
          "new_line_content": "\t\t    commit_locked_index(&lock_file))",
          "content_same": false
        },
        {
          "line": 3119,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Unable to write new index file\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"Unable to write new index file\");",
          "content_same": false
        },
        {
          "line": 2610,
          "old_api": null,
          "new_api": "S_ISGITLINK",
          "old_text": null,
          "new_text": "S_ISGITLINK(mode)",
          "old_line_content": "\t\t */",
          "new_line_content": "\tif (S_ISGITLINK(mode)) {",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": null,
          "new_api": "hash_sha1_file",
          "old_text": null,
          "new_text": "hash_sha1_file(img->buf, img->len, blob_type, sha1)",
          "old_line_content": "{",
          "new_line_content": "\t\thash_sha1_file(img->buf, img->len, blob_type, sha1);",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\tstruct fragment *frag = patch->fragments;",
          "new_line_content": "\t\tif (strcmp(sha1_to_hex(sha1), patch->new_sha1_prefix))",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"binary patch to '%s' creates incorrect result (expecting %s, got %s)\",\n\t\t\t\tname, patch->new_sha1_prefix, sha1_to_hex(sha1))",
          "old_line_content": "\tconst char *name = patch->old_name ? patch->old_name : patch->new_name;",
          "new_line_content": "\t\t\treturn error(\"binary patch to '%s' creates incorrect result (expecting %s, got %s)\",",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\tunsigned ws_rule = patch->ws_rule;",
          "new_line_content": "\t\t\t\tname, patch->new_sha1_prefix, sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 2612,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(st.st_mode)",
          "old_line_content": "",
          "new_line_content": "\t\tif (!lstat(path, &st) && S_ISDIR(st.st_mode))",
          "content_same": false
        },
        {
          "line": 2614,
          "old_api": null,
          "new_api": "mkdir",
          "old_text": null,
          "new_text": "mkdir(path, 0777)",
          "old_line_content": "\tif (fd < 0)",
          "new_line_content": "\t\treturn mkdir(path, 0777);",
          "content_same": false
        },
        {
          "line": 3063,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--reject\")",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tif (!strcmp(arg, \"--reject\")) {",
          "content_same": false
        },
        {
          "line": 2621,
          "old_api": null,
          "new_api": "symlink",
          "old_text": null,
          "new_text": "symlink(buf, path)",
          "old_line_content": "\t}",
          "new_line_content": "\t\treturn symlink(buf, path);",
          "content_same": false
        },
        {
          "line": 2627,
          "old_api": null,
          "new_api": "strbuf_init",
          "old_text": null,
          "new_text": "strbuf_init(&nbuf, 0)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\tstrbuf_init(&nbuf, 0);",
          "content_same": false
        },
        {
          "line": 2116,
          "old_api": null,
          "new_api": "apply_binary",
          "old_text": null,
          "new_text": "apply_binary(img, patch)",
          "old_line_content": "\t}",
          "new_line_content": "\t\treturn apply_binary(img, patch);",
          "content_same": false
        },
        {
          "line": 2628,
          "old_api": null,
          "new_api": "convert_to_working_tree",
          "old_text": null,
          "new_text": "convert_to_working_tree(path, buf, size, &nbuf)",
          "old_line_content": "}",
          "new_line_content": "\tif (convert_to_working_tree(path, buf, size, &nbuf)) {",
          "content_same": false
        },
        {
          "line": 2119,
          "old_api": null,
          "new_api": "apply_one_fragment",
          "old_text": null,
          "new_text": "apply_one_fragment(img, frag, inaccurate_eof, ws_rule)",
          "old_line_content": "",
          "new_line_content": "\t\tif (apply_one_fragment(img, frag, inaccurate_eof, ws_rule)) {",
          "content_same": false
        },
        {
          "line": 2120,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"patch failed: %s:%ld\", name, frag->oldpos)",
          "old_line_content": "static int read_file_or_gitlink(struct cache_entry *ce, struct strbuf *buf)",
          "new_line_content": "\t\t\terror(\"patch failed: %s:%ld\", name, frag->oldpos);",
          "content_same": false
        },
        {
          "line": 2632,
          "old_api": null,
          "new_api": "write_or_die",
          "old_text": null,
          "new_text": "write_or_die(fd, buf, size)",
          "old_line_content": " * which is true 99% of the time anyway. If they don't,",
          "new_line_content": "\twrite_or_die(fd, buf, size);",
          "content_same": false
        },
        {
          "line": 2633,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&nbuf)",
          "old_line_content": " * we create them and try again.",
          "new_line_content": "\tstrbuf_release(&nbuf);",
          "content_same": false
        },
        {
          "line": 2635,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(fd)",
          "old_line_content": "static void create_one_file(char *path, unsigned mode, const char *buf, unsigned long size)",
          "new_line_content": "\tif (close(fd) < 0)",
          "content_same": false
        },
        {
          "line": 2636,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "{",
          "new_line_content": "\t\tdie(\"closing file %s: %s\", path, strerror(errno));",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": null,
          "new_api": "match_fragment",
          "old_text": null,
          "new_text": "match_fragment(img, preimage, postimage,\n\t\t\t\t   try, try_lno,\n\t\t\t\t   match_beginning, match_end)",
          "old_line_content": "\t\t\tif (backwards_lno == 0) {",
          "new_line_content": "\t\tif (match_fragment(img, preimage, postimage,",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(ce->ce_mode)",
          "old_line_content": "\t\t\treturn -1;",
          "new_line_content": "\tif (S_ISGITLINK(ntohl(ce->ce_mode))) {",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": null,
          "new_api": "strbuf_grow",
          "old_text": null,
          "new_text": "strbuf_grow(buf, 100)",
          "old_line_content": "\t\t/* XXX read_sha1_file NUL-terminates */",
          "new_line_content": "\t\tstrbuf_grow(buf, 100);",
          "content_same": false
        },
        {
          "line": 2649,
          "old_api": null,
          "new_api": "try_create_file",
          "old_text": null,
          "new_text": "try_create_file(path, mode, buf, size)",
          "old_line_content": "\tif (errno == EEXIST || errno == EACCES) {",
          "new_line_content": "\tif (!try_create_file(path, mode, buf, size))",
          "content_same": false
        },
        {
          "line": 3071,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--inaccurate-eof\")",
          "old_line_content": "\t\tread_stdin = 0;",
          "new_line_content": "\t\tif (!strcmp(arg, \"--inaccurate-eof\")) {",
          "content_same": false
        },
        {
          "line": 2653,
          "old_api": null,
          "new_api": "safe_create_leading_directories",
          "old_text": null,
          "new_text": "safe_create_leading_directories(path)",
          "old_line_content": "\t\tstruct stat st;",
          "new_line_content": "\t\tif (safe_create_leading_directories(path))",
          "content_same": false
        },
        {
          "line": 2143,
          "old_api": null,
          "new_api": "read_sha1_file",
          "old_text": null,
          "new_text": "read_sha1_file(ce->sha1, &type, &sz)",
          "old_line_content": "{",
          "new_line_content": "\t\tresult = read_sha1_file(ce->sha1, &type, &sz);",
          "content_same": false
        },
        {
          "line": 2655,
          "old_api": null,
          "new_api": "try_create_file",
          "old_text": null,
          "new_text": "try_create_file(path, mode, buf, size)",
          "old_line_content": "\t\t\terrno = EEXIST;",
          "new_line_content": "\t\tif (!try_create_file(path, mode, buf, size))",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": null,
          "new_api": "strbuf_attach",
          "old_text": null,
          "new_text": "strbuf_attach(buf, result, sz, sz + 1)",
          "old_line_content": "\tchar *img;",
          "new_line_content": "\t\tstrbuf_attach(buf, result, sz, sz + 1);",
          "content_same": false
        },
        {
          "line": 2669,
          "old_api": null,
          "new_api": "getpid",
          "old_text": null,
          "new_text": "getpid()",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\tunsigned int nr = getpid();",
          "content_same": false
        },
        {
          "line": 2159,
          "old_api": null,
          "new_api": "strbuf_init",
          "old_text": null,
          "new_text": "strbuf_init(&buf, 0)",
          "old_line_content": "\t\t\t\t * There is no way to apply subproject",
          "new_line_content": "\tstrbuf_init(&buf, 0);",
          "content_same": false
        },
        {
          "line": 2161,
          "old_api": null,
          "new_api": "read_file_or_gitlink",
          "old_text": null,
          "new_text": "read_file_or_gitlink(ce, &buf)",
          "old_line_content": "\t\t\t\t */",
          "new_line_content": "\t\tif (read_file_or_gitlink(ce, &buf))",
          "content_same": false
        },
        {
          "line": 2162,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"read of %s failed\", patch->old_name)",
          "old_line_content": "\t\t\t\tpatch->fragments = NULL;",
          "new_line_content": "\t\t\treturn error(\"read of %s failed\", patch->old_name);",
          "content_same": false
        },
        {
          "line": 2673,
          "old_api": null,
          "new_api": "mkpath",
          "old_text": null,
          "new_text": "mkpath(\"%s~%u\", path, nr)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tnewpath = mkpath(\"%s~%u\", path, nr);",
          "content_same": false
        },
        {
          "line": 2164,
          "old_api": null,
          "new_api": "S_ISGITLINK",
          "old_text": null,
          "new_text": "S_ISGITLINK(patch->old_mode)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\tif (S_ISGITLINK(patch->old_mode)) {",
          "content_same": false
        },
        {
          "line": 2674,
          "old_api": null,
          "new_api": "try_create_file",
          "old_text": null,
          "new_text": "try_create_file(newpath, mode, buf, size)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tif (!try_create_file(newpath, mode, buf, size)) {",
          "content_same": false
        },
        {
          "line": 2677,
          "old_api": null,
          "new_api": "unlink",
          "old_text": null,
          "new_text": "unlink(newpath)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tunlink(newpath);",
          "content_same": false
        },
        {
          "line": 2685,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unable to write file %s mode %o\", path, mode)",
          "old_line_content": "\tif (!mode)",
          "new_line_content": "\tdie(\"unable to write file %s mode %o\", path, mode);",
          "content_same": false
        },
        {
          "line": 2175,
          "old_api": null,
          "new_api": "read_old_data",
          "old_text": null,
          "new_text": "read_old_data(st, patch->old_name, &buf)",
          "old_line_content": "\tpatch->result = image.buf;",
          "new_line_content": "\t\t\tif (read_old_data(st, patch->old_name, &buf))",
          "content_same": false
        },
        {
          "line": 2176,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"read of %s failed\", patch->old_name)",
          "old_line_content": "\tpatch->resultsize = image.len;",
          "new_line_content": "\t\t\t\treturn error(\"read of %s failed\", patch->old_name);",
          "content_same": false
        },
        {
          "line": 2181,
          "old_api": null,
          "new_api": "prepare_image",
          "old_text": null,
          "new_text": "prepare_image(&image, img, len, !patch->is_binary)",
          "old_line_content": "",
          "new_line_content": "\tprepare_image(&image, img, len, !patch->is_binary);",
          "content_same": false
        },
        {
          "line": 2183,
          "old_api": null,
          "new_api": "apply_fragments",
          "old_text": null,
          "new_text": "apply_fragments(&image, patch)",
          "old_line_content": "}",
          "new_line_content": "\tif (apply_fragments(&image, patch) < 0)",
          "content_same": false
        },
        {
          "line": 1672,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(output, patch + 1, plen)",
          "old_line_content": "\t\t\tadd_nl_to_tail = 1;",
          "new_line_content": "\t\tmemcpy(output, patch + 1, plen);",
          "content_same": false
        },
        {
          "line": 2697,
          "old_api": null,
          "new_api": "create_one_file",
          "old_text": null,
          "new_text": "create_one_file(path, mode, buf, size)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tcreate_one_file(path, mode, buf, size);",
          "content_same": false
        },
        {
          "line": 2698,
          "old_api": null,
          "new_api": "add_index_file",
          "old_text": null,
          "new_text": "add_index_file(path, mode, buf, size)",
          "old_line_content": "\t}",
          "new_line_content": "\tadd_index_file(path, mode, buf, size);",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(image.line_allocated)",
          "old_line_content": "\tstruct stat nst;",
          "new_line_content": "\tfree(image.line_allocated);",
          "content_same": false
        },
        {
          "line": 2190,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"removal patch leaves file contents\")",
          "old_line_content": "\t\t\treturn 0;",
          "new_line_content": "\t\treturn error(\"removal patch leaves file contents\");",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(patch[plen-1])",
          "old_line_content": "\t * Check leading whitespaces (indent)",
          "new_line_content": "\t    (1 < plen && isspace(patch[plen-1]))) {",
          "content_same": false
        },
        {
          "line": 2706,
          "old_api": null,
          "new_api": "remove_file",
          "old_text": null,
          "new_text": "remove_file(patch, 1)",
          "old_line_content": "\t * thing: remove the old, write the new",
          "new_line_content": "\t\t\tremove_file(patch, 1);",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(patch[plen])",
          "old_line_content": "\t\tif (ch == '\\t') {",
          "new_line_content": "\t\twhile (0 < plen && isspace(patch[plen]))",
          "content_same": false
        },
        {
          "line": 2199,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(nst.st_mode)",
          "old_line_content": "\t\t\treturn 0;",
          "new_line_content": "\t\tif (S_ISDIR(nst.st_mode) || ok_if_exists)",
          "content_same": false
        },
        {
          "line": 2719,
          "old_api": null,
          "new_api": "remove_file",
          "old_text": null,
          "new_text": "remove_file(patch, patch->is_rename)",
          "old_line_content": "\tint cnt = 0;",
          "new_line_content": "\t\tremove_file(patch, patch->is_rename);",
          "content_same": false
        },
        {
          "line": 2208,
          "old_api": null,
          "new_api": "has_symlink_leading_path",
          "old_text": null,
          "new_text": "has_symlink_leading_path(new_name, NULL)",
          "old_line_content": "static int verify_index_match(struct cache_entry *ce, struct stat *st)",
          "new_line_content": "\t\tif (has_symlink_leading_path(new_name, NULL))",
          "content_same": false
        },
        {
          "line": 2721,
          "old_api": null,
          "new_api": "create_file",
          "old_text": null,
          "new_text": "create_file(patch)",
          "old_line_content": "\tfor (cnt = 0, frag = patch->fragments; frag; frag = frag->next) {",
          "new_line_content": "\t\tcreate_file(patch);",
          "content_same": false
        },
        {
          "line": 2214,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "\t}",
          "new_line_content": "\t\treturn error(\"%s: %s\", new_name, strerror(errno));",
          "content_same": false
        },
        {
          "line": 2220,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(ce->ce_mode)",
          "old_line_content": "\tstruct stat st;",
          "new_line_content": "\tif (S_ISGITLINK(ntohl(ce->ce_mode))) {",
          "content_same": false
        },
        {
          "line": 2221,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(st->st_mode)",
          "old_line_content": "\tconst char *old_name = patch->old_name;",
          "new_line_content": "\t\tif (!S_ISDIR(st->st_mode))",
          "content_same": false
        },
        {
          "line": 2225,
          "old_api": null,
          "new_api": "ce_match_stat",
          "old_text": null,
          "new_text": "ce_match_stat(ce, st, CE_MATCH_IGNORE_VALID)",
          "old_line_content": "\tint ok_if_exists;",
          "new_line_content": "\treturn ce_match_stat(ce, st, CE_MATCH_IGNORE_VALID);",
          "content_same": false
        },
        {
          "line": 2739,
          "old_api": null,
          "new_api": "say_patch_name",
          "old_text": null,
          "new_text": "say_patch_name(stderr,\n\t\t\t\t       \"Applied patch \", patch, \" cleanly.\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tsay_patch_name(stderr,",
          "content_same": false
        },
        {
          "line": 2748,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"internal error\")",
          "old_line_content": "\t\t\t\"warning: truncating .rej filename to %.*s.rej\",",
          "new_line_content": "\t\tdie(\"internal error\");",
          "content_same": false
        },
        {
          "line": 2755,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(namebuf)",
          "old_line_content": "\tif (!rej)",
          "new_line_content": "\tif (ARRAY_SIZE(namebuf) <= cnt + 5) {",
          "content_same": false
        },
        {
          "line": 2757,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\n\t\t\t\"warning: truncating .rej filename to %.*s.rej\",\n\t\t\tcnt - 1, patch->new_name)",
          "old_line_content": "",
          "new_line_content": "\t\tfprintf(stderr,",
          "content_same": false
        },
        {
          "line": 2761,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(namebuf, patch->new_name, cnt)",
          "old_line_content": "\t * the trailing TAB and some garbage at the end of line ;-).",
          "new_line_content": "\tmemcpy(namebuf, patch->new_name, cnt);",
          "content_same": false
        },
        {
          "line": 2762,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(namebuf + cnt, \".rej\", 5)",
          "old_line_content": "\t */",
          "new_line_content": "\tmemcpy(namebuf + cnt, \".rej\", 5);",
          "content_same": false
        },
        {
          "line": 2252,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(old_name)",
          "old_line_content": "\t\t\t\t/* checkout */",
          "new_line_content": "\t\t\tint pos = cache_name_pos(old_name, strlen(old_name));",
          "content_same": false
        },
        {
          "line": 2764,
          "old_api": null,
          "new_api": "fopen",
          "old_text": null,
          "new_text": "fopen(namebuf, \"w\")",
          "old_line_content": "\t\tpatch->new_name, patch->new_name);",
          "new_line_content": "\trej = fopen(namebuf, \"w\");",
          "content_same": false
        },
        {
          "line": 2254,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: does not exist in index\",\n\t\t\t\t\t     old_name)",
          "old_line_content": "\t\t\t\tcostate.base_dir_len = 0;",
          "new_line_content": "\t\t\t\treturn error(\"%s: does not exist in index\",",
          "content_same": false
        },
        {
          "line": 2766,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "\t     frag;",
          "new_line_content": "\t\treturn error(\"cannot open %s: %s\", namebuf, strerror(errno));",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(output, patch + i, plen)",
          "old_line_content": "\t\t\t struct image *preimage,",
          "new_line_content": "\tmemcpy(output, patch + i, plen);",
          "content_same": false
        },
        {
          "line": 2260,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: %s\", old_name,\n\t\t\t\t\t\t     strerror(errno))",
          "old_line_content": "\t\t\t\t\t\t   &costate,",
          "new_line_content": "\t\t\t\t\treturn error(\"%s: %s\", old_name,",
          "content_same": false
        },
        {
          "line": 2261,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "\t\t\t\t\t\t   NULL) ||",
          "new_line_content": "\t\t\t\t\t\t     strerror(errno));",
          "content_same": false
        },
        {
          "line": 2779,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Hunk #%d applied cleanly.\\n\", cnt)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tfprintf(stderr, \"Hunk #%d applied cleanly.\\n\", cnt);",
          "content_same": false
        },
        {
          "line": 2782,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Rejected hunk #%d.\\n\", cnt)",
          "old_line_content": "{",
          "new_line_content": "\t\tfprintf(stderr, \"Rejected hunk #%d.\\n\", cnt);",
          "content_same": false
        },
        {
          "line": 2783,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(rej, \"%.*s\", frag->size, frag->patch)",
          "old_line_content": "\tint phase;",
          "new_line_content": "\t\tfprintf(rej, \"%.*s\", frag->size, frag->patch);",
          "content_same": false
        },
        {
          "line": 2272,
          "old_api": null,
          "new_api": "lstat",
          "old_text": null,
          "new_text": "lstat(old_name, &st)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t    lstat(old_name, &st))",
          "content_same": false
        },
        {
          "line": 2785,
          "old_api": null,
          "new_api": "fputc",
          "old_text": null,
          "new_text": "fputc('\\n', rej)",
          "old_line_content": "\tstruct patch *l;",
          "new_line_content": "\t\t\tfputc('\\n', rej);",
          "content_same": false
        },
        {
          "line": 2275,
          "old_api": null,
          "new_api": "verify_index_match",
          "old_text": null,
          "new_text": "verify_index_match(ce, &st)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (!cached && verify_index_match(ce, &st))",
          "content_same": false
        },
        {
          "line": 2276,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: does not match index\",\n\t\t\t\t\t     old_name)",
          "old_line_content": "\t\tif (patch->is_new < 0)",
          "new_line_content": "\t\t\t\treturn error(\"%s: does not match index\",",
          "content_same": false
        },
        {
          "line": 2787,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(rej)",
          "old_line_content": "\tif (!list && !skipped_patch)",
          "new_line_content": "\tfclose(rej);",
          "content_same": false
        },
        {
          "line": 2279,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(ce->ce_mode)",
          "old_line_content": "\t\t\tpatch->old_mode = st_mode;",
          "new_line_content": "\t\t\t\tst_mode = ntohl(ce->ce_mode);",
          "content_same": false
        },
        {
          "line": 2284,
          "old_api": null,
          "new_api": "ce_mode_from_stat",
          "old_text": null,
          "new_text": "ce_mode_from_stat(ce, st.st_mode)",
          "old_line_content": "\t\t\t\told_name, st_mode, patch->old_mode);",
          "new_line_content": "\t\t\tst_mode = ntohl(ce_mode_from_stat(ce, st.st_mode));",
          "content_same": false
        },
        {
          "line": 2798,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"No changes\")",
          "old_line_content": "\t\t\t\t\terrs = 1;",
          "new_line_content": "\t\treturn error(\"No changes\");",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(img->len + insert_count - remove_count + 1)",
          "old_line_content": "",
          "new_line_content": "\tresult = xmalloc(img->len + insert_count - remove_count + 1);",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(result, img->buf, applied_at)",
          "old_line_content": "\t/* Adjust the line table */",
          "new_line_content": "\tmemcpy(result, img->buf, applied_at);",
          "content_same": false
        },
        {
          "line": 2291,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: wrong type\", old_name)",
          "old_line_content": "\t\t * delete old, immediately followed by a patch to",
          "new_line_content": "\t\t\treturn error(\"%s: wrong type\", old_name);",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(result + applied_at, postimage->buf, postimage->len)",
          "old_line_content": "\tnr = img->nr + postimage->nr - preimage->nr;",
          "new_line_content": "\tmemcpy(result + applied_at, postimage->buf, postimage->len);",
          "content_same": false
        },
        {
          "line": 2293,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"warning: %s has type %o, expected %o\\n\",\n\t\t\t\told_name, st_mode, patch->old_mode)",
          "old_line_content": "\t\t * it is Ok that the entry to be deleted by the",
          "new_line_content": "\t\t\tfprintf(stderr, \"warning: %s has type %o, expected %o\\n\",",
          "content_same": false
        },
        {
          "line": 2806,
          "old_api": null,
          "new_api": "write_out_one_result",
          "old_text": null,
          "new_text": "write_out_one_result(l, phase)",
          "old_line_content": "static struct lock_file lock_file;",
          "new_line_content": "\t\t\t\twrite_out_one_result(l, phase);",
          "content_same": false
        },
        {
          "line": 2807,
          "old_api": null,
          "new_api": "write_out_one_reject",
          "old_text": null,
          "new_text": "write_out_one_reject(l)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tif (phase == 1 && write_out_one_reject(l))",
          "content_same": false
        },
        {
          "line": 1780,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(result + applied_at + postimage->len,\n\t       img->buf + (applied_at + remove_count),\n\t       img->len - (applied_at + remove_count))",
          "old_line_content": "\tif (preimage->nr < postimage->nr) {",
          "new_line_content": "\tmemcpy(result + applied_at + postimage->len,",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(img->buf)",
          "old_line_content": "\t\t * on anything other than pre/post image.",
          "new_line_content": "\tfree(img->buf);",
          "content_same": false
        },
        {
          "line": 2298,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(prev_patch->old_name, new_name)",
          "old_line_content": "\telse",
          "new_line_content": "\t    !strcmp(prev_patch->old_name, new_name))",
          "content_same": false
        },
        {
          "line": 1795,
          "old_api": null,
          "new_api": "xrealloc",
          "old_text": null,
          "new_text": "xrealloc(img->line, nr * sizeof(*img->line))",
          "old_line_content": "\t       postimage->nr * sizeof(*img->line));",
          "new_line_content": "\t\timg->line = xrealloc(img->line, nr * sizeof(*img->line));",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(img->line + applied_pos + postimage->nr,\n\t\t\timg->line + applied_pos + preimage->nr,\n\t\t\t(img->nr - (applied_pos + preimage->nr)) *\n\t\t\tsizeof(*img->line))",
          "old_line_content": "static int apply_one_fragment(struct image *img, struct fragment *frag,",
          "new_line_content": "\t\tmemmove(img->line + applied_pos + postimage->nr,",
          "content_same": false
        },
        {
          "line": 2314,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(new_name)",
          "old_line_content": "\t\t\t\tpatch->new_mode = S_IFREG | 0644;",
          "new_line_content": "\t\t    cache_name_pos(new_name, strlen(new_name)) >= 0 &&",
          "content_same": false
        },
        {
          "line": 1803,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(img->line + applied_pos,\n\t       postimage->line,\n\t       postimage->nr * sizeof(*img->line))",
          "old_line_content": "\tconst char *patch = frag->patch;",
          "new_line_content": "\tmemcpy(img->line + applied_pos,",
          "content_same": false
        },
        {
          "line": 2316,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: already exists in index\", new_name)",
          "old_line_content": "\t\t\t\tpatch->new_mode = patch->old_mode;",
          "new_line_content": "\t\t\treturn error(\"%s: already exists in index\", new_name);",
          "content_same": false
        },
        {
          "line": 2828,
          "old_api": null,
          "new_api": "fnmatch",
          "old_text": null,
          "new_text": "fnmatch(x->path, pathname, 0)",
          "old_line_content": "\treturn 1;",
          "new_line_content": "\t\tif (fnmatch(x->path, pathname, 0) == 0)",
          "content_same": false
        },
        {
          "line": 2318,
          "old_api": null,
          "new_api": "check_to_create_blob",
          "old_text": null,
          "new_text": "check_to_create_blob(new_name, ok_if_exists)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tint err = check_to_create_blob(new_name, ok_if_exists);",
          "content_same": false
        },
        {
          "line": 2833,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(pathname)",
          "old_line_content": "\tchar *old_name = *name;",
          "new_line_content": "\t\tint pathlen = strlen(pathname);",
          "content_same": false
        },
        {
          "line": 2835,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(prefix, pathname, prefix_length)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\t\t    memcmp(prefix, pathname, prefix_length))",
          "content_same": false
        },
        {
          "line": 1815,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(size)",
          "old_line_content": "\twhile (size > 0) {",
          "new_line_content": "\tchar *old = xmalloc(size);",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(size)",
          "old_line_content": "\t\tchar first;",
          "new_line_content": "\tchar *new = xmalloc(size);",
          "content_same": false
        },
        {
          "line": 2846,
          "old_api": null,
          "new_api": "prefix_filename",
          "old_text": null,
          "new_text": "prefix_filename(prefix, prefix_length, *name)",
          "old_line_content": "\t\t\tchar *prefixed = p->new_name;",
          "new_line_content": "\t*name = xstrdup(prefix_filename(prefix, prefix_length, *name));",
          "content_same": false
        },
        {
          "line": 2335,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"new mode (%o) of %s does not match old mode (%o)%s%s\",\n\t\t\t\tpatch->new_mode, new_name, patch->old_mode,\n\t\t\t\tsame ? \"\" : \" of \", same ? \"\" : old_name)",
          "old_line_content": "",
          "new_line_content": "\t\t\treturn error(\"new mode (%o) of %s does not match old mode (%o)%s%s\",",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": null,
          "new_api": "linelen",
          "old_text": null,
          "new_text": "linelen(patch, size)",
          "old_line_content": "\t\t * first character on the line, but if the line is",
          "new_line_content": "\t\tint len = linelen(patch, size);",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": null,
          "new_api": "apply_data",
          "old_text": null,
          "new_text": "apply_data(patch, &st, ce)",
          "old_line_content": "",
          "new_line_content": "\tif (apply_data(patch, &st, ce) < 0)",
          "content_same": false
        },
        {
          "line": 2341,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: patch does not apply\", name)",
          "old_line_content": "\tfor (prev_patch = NULL; patch ; patch = patch->next) {",
          "new_line_content": "\t\treturn error(\"%s: patch does not apply\", name);",
          "content_same": false
        },
        {
          "line": 2857,
          "old_api": null,
          "new_api": "prefix_one",
          "old_text": null,
          "new_text": "prefix_one(&prefixed)",
          "old_line_content": "static int apply_patch(int fd, const char *filename, int inaccurate_eof)",
          "new_line_content": "\t\t\tprefix_one(&prefixed);",
          "content_same": false
        },
        {
          "line": 2861,
          "old_api": null,
          "new_api": "prefix_one",
          "old_text": null,
          "new_text": "prefix_one(&p->new_name)",
          "old_line_content": "\tstruct patch *list = NULL, **listp = &list;",
          "new_line_content": "\t\t\tprefix_one(&p->new_name);",
          "content_same": false
        },
        {
          "line": 2862,
          "old_api": null,
          "new_api": "prefix_one",
          "old_text": null,
          "new_text": "prefix_one(&p->old_name)",
          "old_line_content": "\tint skipped_patch = 0;",
          "new_line_content": "\t\t\tprefix_one(&p->old_name);",
          "content_same": false
        },
        {
          "line": 2353,
          "old_api": null,
          "new_api": "say_patch_name",
          "old_text": null,
          "new_text": "say_patch_name(stderr,\n\t\t\t\t       \"Checking patch \", patch, \"...\\n\")",
          "old_line_content": "{",
          "new_line_content": "\t\t\tsay_patch_name(stderr,",
          "content_same": false
        },
        {
          "line": 2355,
          "old_api": null,
          "new_api": "check_patch",
          "old_text": null,
          "new_text": "check_patch(patch, prev_patch)",
          "old_line_content": "",
          "new_line_content": "\t\terr |= check_patch(patch, prev_patch);",
          "content_same": false
        },
        {
          "line": 2876,
          "old_api": null,
          "new_api": "read_patch_file",
          "old_text": null,
          "new_text": "read_patch_file(&buf, fd)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\tread_patch_file(&buf, fd);",
          "content_same": false
        },
        {
          "line": 2366,
          "old_api": null,
          "new_api": "read_cache",
          "old_text": null,
          "new_text": "read_cache()",
          "old_line_content": "static void build_fake_ancestor(struct patch *list, const char *filename)",
          "new_line_content": "\tif (read_cache() < 0)",
          "content_same": false
        },
        {
          "line": 2368,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(path)",
          "old_line_content": "\tstruct patch *patch;",
          "new_line_content": "\tpos = cache_name_pos(path, strlen(path));",
          "content_same": false
        },
        {
          "line": 2371,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(sha1, active_cache[pos]->sha1)",
          "old_line_content": "",
          "new_line_content": "\thashcpy(sha1, active_cache[pos]->sha1);",
          "content_same": false
        },
        {
          "line": 2884,
          "old_api": null,
          "new_api": "parse_chunk",
          "old_text": null,
          "new_text": "parse_chunk(buf.buf + offset, buf.len - offset, patch)",
          "old_line_content": "\t\t\tlistp = &patch->next;",
          "new_line_content": "\t\tnr = parse_chunk(buf.buf + offset, buf.len - offset, patch);",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(old + oldsize, patch + 1, plen)",
          "old_line_content": "\t\t\t\tif (first == '+' &&",
          "new_line_content": "\t\t\tmemcpy(old + oldsize, patch + 1, plen);",
          "content_same": false
        },
        {
          "line": 2890,
          "old_api": null,
          "new_api": "prefix_patches",
          "old_text": null,
          "new_text": "prefix_patches(patch)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tprefix_patches(patch);",
          "content_same": false
        },
        {
          "line": 2891,
          "old_api": null,
          "new_api": "use_patch",
          "old_text": null,
          "new_text": "use_patch(patch)",
          "old_line_content": "\t\toffset += nr;",
          "new_line_content": "\t\tif (use_patch(patch)) {",
          "content_same": false
        },
        {
          "line": 2892,
          "old_api": null,
          "new_api": "patch_stats",
          "old_text": null,
          "new_text": "patch_stats(patch)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tpatch_stats(patch);",
          "content_same": false
        },
        {
          "line": 1870,
          "old_api": null,
          "new_api": "apply_line",
          "old_text": null,
          "new_text": "apply_line(new + newsize, patch,\n\t\t\t\t\t\t       plen, ws_rule)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\tint added = apply_line(new + newsize, patch,",
          "content_same": false
        },
        {
          "line": 2898,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(patch)",
          "old_line_content": "\tif (update_index && newfd < 0)",
          "new_line_content": "\t\t\tfree(patch);",
          "content_same": false
        },
        {
          "line": 2394,
          "old_api": null,
          "new_api": "get_sha1",
          "old_text": null,
          "new_text": "get_sha1(patch->old_sha1_prefix, sha1)",
          "old_line_content": "\t\t\t\t\t\"(%s).\", name);",
          "new_line_content": "\t\telse if (get_sha1(patch->old_sha1_prefix, sha1))",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"invalid start of line: '%c'\", first)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\terror(\"invalid start of line: '%c'\", first);",
          "content_same": false
        },
        {
          "line": 2397,
          "old_api": null,
          "new_api": "get_current_sha1",
          "old_text": null,
          "new_text": "get_current_sha1(patch->new_name, sha1)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tif (get_current_sha1(patch->new_name, sha1) ||",
          "content_same": false
        },
        {
          "line": 2913,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unable to read index file\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"unable to read index file\");",
          "content_same": false
        },
        {
          "line": 2917,
          "old_api": null,
          "new_api": "check_patch_list",
          "old_text": null,
          "new_text": "check_patch_list(list)",
          "old_line_content": "\tif (diffstat)",
          "new_line_content": "\t    check_patch_list(list) < 0 &&",
          "content_same": false
        },
        {
          "line": 2919,
          "old_api": null,
          "new_api": "exit",
          "old_text": null,
          "new_text": "exit(1)",
          "old_line_content": "",
          "new_line_content": "\t\texit(1);",
          "content_same": false
        },
        {
          "line": 2408,
          "old_api": null,
          "new_api": "make_cache_entry",
          "old_text": null,
          "new_text": "make_cache_entry(patch->old_mode, sha1_ptr, name, 0, 0)",
          "old_line_content": "}",
          "new_line_content": "\t\tce = make_cache_entry(patch->old_mode, sha1_ptr, name, 0, 0);",
          "content_same": false
        },
        {
          "line": 2409,
          "old_api": null,
          "new_api": "add_index_entry",
          "old_text": null,
          "new_text": "add_index_entry(&result, ce, ADD_CACHE_OK_TO_ADD)",
          "old_line_content": "",
          "new_line_content": "\t\tif (add_index_entry(&result, ce, ADD_CACHE_OK_TO_ADD))",
          "content_same": false
        },
        {
          "line": 2410,
          "old_api": null,
          "new_api": "die (\"Could not add %s to temporary index\", name)",
          "old_text": null,
          "new_text": "die (\"Could not add %s to temporary index\", name)",
          "old_line_content": "static void stat_patch_list(struct patch *patch)",
          "new_line_content": "\t\t\tdie (\"Could not add %s to temporary index\", name);",
          "content_same": false
        },
        {
          "line": 2922,
          "old_api": null,
          "new_api": "exit",
          "old_text": null,
          "new_text": "exit(1)",
          "old_line_content": "",
          "new_line_content": "\t\texit(1);",
          "content_same": false
        },
        {
          "line": 2413,
          "old_api": null,
          "new_api": "open",
          "old_text": null,
          "new_text": "open(filename, O_WRONLY | O_CREAT, 0666)",
          "old_line_content": "",
          "new_line_content": "\tfd = open(filename, O_WRONLY | O_CREAT, 0666);",
          "content_same": false
        },
        {
          "line": 2414,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(fd)",
          "old_line_content": "\tfor (files = adds = dels = 0 ; patch ; patch = patch->next) {",
          "new_line_content": "\tif (fd < 0 || write_index(&result, fd) || close(fd))",
          "content_same": false
        },
        {
          "line": 2415,
          "old_api": null,
          "new_api": "die (\"Could not write temporary index to %s\", filename)",
          "old_text": null,
          "new_text": "die (\"Could not write temporary index to %s\", filename)",
          "old_line_content": "\t\tfiles++;",
          "new_line_content": "\t\tdie (\"Could not write temporary index to %s\", filename);",
          "content_same": false
        },
        {
          "line": 2925,
          "old_api": null,
          "new_api": "build_fake_ancestor",
          "old_text": null,
          "new_text": "build_fake_ancestor(list, fake_ancestor)",
          "old_line_content": "",
          "new_line_content": "\t\tbuild_fake_ancestor(list, fake_ancestor);",
          "content_same": false
        },
        {
          "line": 2417,
          "old_api": null,
          "new_api": "discard_index",
          "old_text": null,
          "new_text": "discard_index(&result)",
          "old_line_content": "\t\tdels += patch->lines_deleted;",
          "new_line_content": "\tdiscard_index(&result);",
          "content_same": false
        },
        {
          "line": 2928,
          "old_api": null,
          "new_api": "stat_patch_list",
          "old_text": null,
          "new_text": "stat_patch_list(list)",
          "old_line_content": "}",
          "new_line_content": "\t\tstat_patch_list(list);",
          "content_same": false
        },
        {
          "line": 2931,
          "old_api": null,
          "new_api": "numstat_patch_list",
          "old_text": null,
          "new_text": "numstat_patch_list(list)",
          "old_line_content": "{",
          "new_line_content": "\t\tnumstat_patch_list(list);",
          "content_same": false
        },
        {
          "line": 2934,
          "old_api": null,
          "new_api": "summary_patch_list",
          "old_text": null,
          "new_text": "summary_patch_list(list)",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\t\tsummary_patch_list(list);",
          "content_same": false
        },
        {
          "line": 2428,
          "old_api": null,
          "new_api": "show_stats",
          "old_text": null,
          "new_text": "show_stats(patch)",
          "old_line_content": "\t\tname = patch->new_name ? patch->new_name : patch->old_name;",
          "new_line_content": "\t\tshow_stats(patch);",
          "content_same": false
        },
        {
          "line": 2942,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(var, \"apply.whitespace\")",
          "old_line_content": "\tint i;",
          "new_line_content": "\tif (!strcmp(var, \"apply.whitespace\")) {",
          "content_same": false
        },
        {
          "line": 2431,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\" %d files changed, %d insertions(+), %d deletions(-)\\n\", files, adds, dels)",
          "old_line_content": "\t\telse",
          "new_line_content": "\tprintf(\" %d files changed, %d insertions(+), %d deletions(-)\\n\", files, adds, dels);",
          "content_same": false
        },
        {
          "line": 2943,
          "old_api": null,
          "new_api": "xstrdup",
          "old_text": null,
          "new_text": "xstrdup(value)",
          "old_line_content": "\tint read_stdin = 1;",
          "new_line_content": "\t\tapply_default_whitespace = xstrdup(value);",
          "content_same": false
        },
        {
          "line": 2946,
          "old_api": null,
          "new_api": "git_default_config",
          "old_text": null,
          "new_text": "git_default_config(var, value)",
          "old_line_content": "\tint is_not_gitdir = 0;",
          "new_line_content": "\treturn git_default_config(var, value);",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": null,
          "new_api": "prepare_image",
          "old_text": null,
          "new_text": "prepare_image(&preimage, oldlines, oldsize, 1)",
          "old_line_content": "\t\t/* Am I at my context limits? */",
          "new_line_content": "\tprepare_image(&preimage, oldlines, oldsize, 1);",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": null,
          "new_api": "prepare_image",
          "old_text": null,
          "new_text": "prepare_image(&postimage, newlines, newsize, 1)",
          "old_line_content": "\t\tif ((leading <= p_context) && (trailing <= p_context))",
          "new_line_content": "\tprepare_image(&postimage, newlines, newsize, 1);",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": null,
          "new_api": "find_pos",
          "old_text": null,
          "new_text": "find_pos(img, &preimage, &postimage,\n\t\t\t\t       pos, match_beginning, match_end)",
          "old_line_content": "\t\t\tmatch_beginning = match_end = 0;",
          "new_line_content": "\t\tapplied_pos = find_pos(img, &preimage, &postimage,",
          "content_same": false
        },
        {
          "line": 2443,
          "old_api": null,
          "new_api": "write_name_quoted",
          "old_text": null,
          "new_text": "write_name_quoted(name, stdout, line_termination)",
          "old_line_content": "}",
          "new_line_content": "\t\twrite_name_quoted(name, stdout, line_termination);",
          "content_same": false
        },
        {
          "line": 2960,
          "old_api": null,
          "new_api": "setup_git_directory_gently",
          "old_text": null,
          "new_text": "setup_git_directory_gently(&is_not_gitdir)",
          "old_line_content": "",
          "new_line_content": "\tprefix = setup_git_directory_gently(&is_not_gitdir);",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\" %s mode %06o %s\\n\", newdelete, mode, name)",
          "old_line_content": "\t\t\t       p->old_mode, p->new_mode, p->new_name);",
          "new_line_content": "\t\tprintf(\" %s mode %06o %s\\n\", newdelete, mode, name);",
          "content_same": false
        },
        {
          "line": 2964,
          "old_api": null,
          "new_api": "parse_whitespace_option",
          "old_text": null,
          "new_text": "parse_whitespace_option(apply_default_whitespace)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tparse_whitespace_option(apply_default_whitespace);",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\" mode change %06o => %06o %s\\n\",\n\t\t\t       p->old_mode, p->new_mode, p->new_name)",
          "old_line_content": "\tconst char *renamecopy = p->is_rename ? \"rename\" : \"copy\";",
          "new_line_content": "\t\t\tprintf(\" mode change %06o => %06o %s\\n\",",
          "content_same": false
        },
        {
          "line": 2971,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"-\")",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tif (!strcmp(arg, \"-\")) {",
          "content_same": false
        },
        {
          "line": 2972,
          "old_api": null,
          "new_api": "apply_patch",
          "old_text": null,
          "new_text": "apply_patch(0, \"<stdin>\", inaccurate_eof)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\terrs |= apply_patch(0, \"<stdin>\", inaccurate_eof);",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\" mode change %06o => %06o\\n\",\n\t\t\t       p->old_mode, p->new_mode)",
          "old_line_content": "\t/* Find common prefix */",
          "new_line_content": "\t\t\tprintf(\" mode change %06o => %06o\\n\",",
          "content_same": false
        },
        {
          "line": 1948,
          "old_api": null,
          "new_api": "remove_first_line",
          "old_text": null,
          "new_text": "remove_first_line(&preimage)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tremove_first_line(&preimage);",
          "content_same": false
        },
        {
          "line": 2976,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(arg, \"--exclude=\")",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tif (!prefixcmp(arg, \"--exclude=\")) {",
          "content_same": false
        },
        {
          "line": 2977,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(sizeof(*x))",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tstruct excludes *x = xmalloc(sizeof(*x));",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": null,
          "new_api": "remove_first_line",
          "old_text": null,
          "new_text": "remove_first_line(&postimage)",
          "old_line_content": "",
          "new_line_content": "\t\t\tremove_first_line(&postimage);",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": null,
          "new_api": "remove_last_line",
          "old_text": null,
          "new_text": "remove_last_line(&preimage)",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tremove_last_line(&preimage);",
          "content_same": false
        },
        {
          "line": 1955,
          "old_api": null,
          "new_api": "remove_last_line",
          "old_text": null,
          "new_text": "remove_last_line(&postimage)",
          "old_line_content": "\t\t\t * If the patch application adds blank lines",
          "new_line_content": "\t\t\tremove_last_line(&postimage);",
          "content_same": false
        },
        {
          "line": 2983,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(arg, \"-p\")",
          "old_line_content": "\t\t\tapply = 0;",
          "new_line_content": "\t\tif (!prefixcmp(arg, \"-p\")) {",
          "content_same": false
        },
        {
          "line": 2984,
          "old_api": null,
          "new_api": "atoi",
          "old_text": null,
          "new_text": "atoi(arg + 2)",
          "old_line_content": "\t\t\tdiffstat = 1;",
          "new_line_content": "\t\t\tp_value = atoi(arg + 2);",
          "content_same": false
        },
        {
          "line": 2477,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(old, '/')",
          "old_line_content": "\t/* p->old_name thru old is the common prefix, and old and new",
          "new_line_content": "\t\tslash_old = strchr(old, '/');",
          "content_same": false
        },
        {
          "line": 2478,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(new, '/')",
          "old_line_content": "\t * through the end of names are renames",
          "new_line_content": "\t\tslash_new = strchr(new, '/');",
          "content_same": false
        },
        {
          "line": 2992,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--stat\")",
          "old_line_content": "\t\t\tapply = 0;",
          "new_line_content": "\t\tif (!strcmp(arg, \"--stat\")) {",
          "content_same": false
        },
        {
          "line": 1971,
          "old_api": null,
          "new_api": "remove_last_line",
          "old_text": null,
          "new_text": "remove_last_line(&postimage)",
          "old_line_content": "\t\t\t\t\" to apply fragment at %d\\n\",",
          "new_line_content": "\t\t\t\tremove_last_line(&postimage);",
          "content_same": false
        },
        {
          "line": 2997,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--allow-binary-replacement\")",
          "old_line_content": "\t\t\tapply = 0;",
          "new_line_content": "\t\tif (!strcmp(arg, \"--allow-binary-replacement\") ||",
          "content_same": false
        },
        {
          "line": 2998,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--binary\")",
          "old_line_content": "\t\t\tsummary = 1;",
          "new_line_content": "\t\t    !strcmp(arg, \"--binary\")) {",
          "content_same": false
        },
        {
          "line": 2491,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\" %s %.*s{%s => %s} (%d%%)\\n\", renamecopy,\n\t\t       (int)(old - p->old_name), p->old_name,\n\t\t       old, new, p->score)",
          "old_line_content": "{",
          "new_line_content": "\t\tprintf(\" %s %.*s{%s => %s} (%d%%)\\n\", renamecopy,",
          "content_same": false
        },
        {
          "line": 1980,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Context reduced to (%ld/%ld)\"\n\t\t\t\t\" to apply fragment at %d\\n\",\n\t\t\t\tleading, trailing, applied_pos+1)",
          "old_line_content": "\tfree(new);",
          "new_line_content": "\t\t\tfprintf(stderr, \"Context reduced to (%ld/%ld)\"",
          "content_same": false
        },
        {
          "line": 2495,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\" %s %s => %s (%d%%)\\n\", renamecopy,\n\t\t       p->old_name, p->new_name, p->score)",
          "old_line_content": "\t\tif (p->is_new)",
          "new_line_content": "\t\tprintf(\" %s %s => %s (%d%%)\\n\", renamecopy,",
          "content_same": false
        },
        {
          "line": 1983,
          "old_api": null,
          "new_api": "update_image",
          "old_text": null,
          "new_text": "update_image(img, applied_pos, &preimage, &postimage)",
          "old_line_content": "",
          "new_line_content": "\t\tupdate_image(img, applied_pos, &preimage, &postimage);",
          "content_same": false
        },
        {
          "line": 2497,
          "old_api": null,
          "new_api": "show_mode_change",
          "old_text": null,
          "new_text": "show_mode_change(p, 0)",
          "old_line_content": "\t\telse if (p->is_delete)",
          "new_line_content": "\tshow_mode_change(p, 0);",
          "content_same": false
        },
        {
          "line": 1986,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"while searching for:\\n%.*s\", oldsize, oldlines)",
          "old_line_content": "",
          "new_line_content": "\t\t\terror(\"while searching for:\\n%.*s\", oldsize, oldlines);",
          "content_same": false
        },
        {
          "line": 3011,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--check\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (!strcmp(arg, \"--check\")) {",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(old)",
          "old_line_content": "\tstruct fragment *fragment = patch->fragments;",
          "new_line_content": "\tfree(old);",
          "content_same": false
        },
        {
          "line": 1991,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(preimage.line_allocated)",
          "old_line_content": "\tvoid *dst;",
          "new_line_content": "\tfree(preimage.line_allocated);",
          "content_same": false
        },
        {
          "line": 3016,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--index\")",
          "old_line_content": "\t\t\tcached = 1;",
          "new_line_content": "\t\tif (!strcmp(arg, \"--index\")) {",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(postimage.line_allocated)",
          "old_line_content": "",
          "new_line_content": "\tfree(postimage.line_allocated);",
          "content_same": false
        },
        {
          "line": 3018,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"--index outside a repository\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tdie(\"--index outside a repository\");",
          "content_same": false
        },
        {
          "line": 2508,
          "old_api": null,
          "new_api": "show_file_mode_name",
          "old_text": null,
          "new_text": "show_file_mode_name(\"delete\", p->old_mode, p->old_name)",
          "old_line_content": "\t\t\t\telse",
          "new_line_content": "\t\t\tshow_file_mode_name(\"delete\", p->old_mode, p->old_name);",
          "content_same": false
        },
        {
          "line": 3022,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--cached\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (!strcmp(arg, \"--cached\")) {",
          "content_same": false
        },
        {
          "line": 2511,
          "old_api": null,
          "new_api": "show_rename_copy",
          "old_text": null,
          "new_text": "show_rename_copy(p)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tshow_rename_copy(p);",
          "content_same": false
        },
        {
          "line": 3024,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"--cached outside a repository\")",
          "old_line_content": "\t\t\tapply = 0;",
          "new_line_content": "\t\t\t\tdie(\"--cached outside a repository\");",
          "content_same": false
        },
        {
          "line": 2514,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\" rewrite %s (%d%%)\\n\",\n\t\t\t\t\t       p->new_name, p->score)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tprintf(\" rewrite %s (%d%%)\\n\",",
          "content_same": false
        },
        {
          "line": 2516,
          "old_api": null,
          "new_api": "show_mode_change",
          "old_text": null,
          "new_text": "show_mode_change(p, 0)",
          "old_line_content": "{",
          "new_line_content": "\t\t\t\t\tshow_mode_change(p, 0);",
          "content_same": false
        },
        {
          "line": 3029,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--apply\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (!strcmp(arg, \"--apply\")) {",
          "content_same": false
        },
        {
          "line": 2006,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"cannot reverse-apply a binary patch \"\n\t\t\t\t     \"without the reverse hunk to '%s'\",\n\t\t\t\t     patch->new_name\n\t\t\t\t     ? patch->new_name : patch->old_name)",
          "old_line_content": "\t\tif (!dst)",
          "new_line_content": "\t\t\treturn error(\"cannot reverse-apply a binary patch \"",
          "content_same": false
        },
        {
          "line": 2519,
          "old_api": null,
          "new_api": "show_mode_change",
          "old_text": null,
          "new_text": "show_mode_change(p, 1)",
          "old_line_content": "\tif (lines > max_change)",
          "new_line_content": "\t\t\t\t\tshow_mode_change(p, 1);",
          "content_same": false
        },
        {
          "line": 3033,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--build-fake-ancestor\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (!strcmp(arg, \"--build-fake-ancestor\")) {",
          "content_same": false
        },
        {
          "line": 3036,
          "old_api": null,
          "new_api": "die (\"need a filename\")",
          "old_text": null,
          "new_text": "die (\"need a filename\")",
          "old_line_content": "\t\t\tif (*end != '\\0')",
          "new_line_content": "\t\t\t\tdie (\"need a filename\");",
          "content_same": false
        },
        {
          "line": 2014,
          "old_api": null,
          "new_api": "patch_delta",
          "old_text": null,
          "new_text": "patch_delta(img->buf, img->len, fragment->patch,\n\t\t\t\t  fragment->size, &len)",
          "old_line_content": "\t\timg->len = fragment->size;",
          "new_line_content": "\t\tdst = patch_delta(img->buf, img->len, fragment->patch,",
          "content_same": false
        },
        {
          "line": 2018,
          "old_api": null,
          "new_api": "clear_image",
          "old_text": null,
          "new_text": "clear_image(img)",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\t\tclear_image(img);",
          "content_same": false
        },
        {
          "line": 2532,
          "old_api": null,
          "new_api": "quote_c_style",
          "old_text": null,
          "new_text": "quote_c_style(patch->old_name, NULL, NULL, 0)",
          "old_line_content": "\t\tif (len > max_len)",
          "new_line_content": "\t\tint len = quote_c_style(patch->old_name, NULL, NULL, 0);",
          "content_same": false
        },
        {
          "line": 3044,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(arg, \"-C\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (!prefixcmp(arg, \"-C\")) {",
          "content_same": false
        },
        {
          "line": 2534,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(patch->old_name)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tlen = strlen(patch->old_name);",
          "content_same": false
        },
        {
          "line": 3047,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unrecognized context count '%s'\", arg + 2)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\t\tdie(\"unrecognized context count '%s'\", arg + 2);",
          "content_same": false
        },
        {
          "line": 2023,
          "old_api": null,
          "new_api": "clear_image",
          "old_text": null,
          "new_text": "clear_image(img)",
          "old_line_content": "static int apply_binary(struct image *img, struct patch *patch)",
          "new_line_content": "\t\tclear_image(img);",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(img->len+1)",
          "old_line_content": "\tconst char *name = patch->old_name ? patch->old_name : patch->new_name;",
          "new_line_content": "\t\timg->buf = xmalloc(img->len+1);",
          "content_same": false
        },
        {
          "line": 3050,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(arg, \"--whitespace=\")",
          "old_line_content": "\t\t\tunidiff_zero = 1;",
          "new_line_content": "\t\tif (!prefixcmp(arg, \"--whitespace=\")) {",
          "content_same": false
        },
        {
          "line": 2539,
          "old_api": null,
          "new_api": "quote_c_style",
          "old_text": null,
          "new_text": "quote_c_style(patch->new_name, NULL, NULL, 0)",
          "old_line_content": "\tif (update_index) {",
          "new_line_content": "\t\tint len = quote_c_style(patch->new_name, NULL, NULL, 0);",
          "content_same": false
        },
        {
          "line": 3052,
          "old_api": null,
          "new_api": "parse_whitespace_option",
          "old_text": null,
          "new_text": "parse_whitespace_option(arg + 13)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tparse_whitespace_option(arg + 13);",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(img->buf, fragment->patch, img->len)",
          "old_line_content": "\tunsigned char sha1[20];",
          "new_line_content": "\t\tmemcpy(img->buf, fragment->patch, img->len);",
          "content_same": false
        },
        {
          "line": 3055,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--reverse\")",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tif (!strcmp(arg, \"-R\") || !strcmp(arg, \"--reverse\")) {",
          "content_same": false
        },
        {
          "line": 3059,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--unidiff-zero\")",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tif (!strcmp(arg, \"--unidiff-zero\")) {",
          "content_same": false
        },
        {
          "line": 2551,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unable to remove %s from index\", patch->old_name)",
          "old_line_content": "\t\t\twhile (end) {",
          "new_line_content": "\t\t\tdie(\"unable to remove %s from index\", patch->old_name);",
          "content_same": false
        },
        {
          "line": 2554,
          "old_api": null,
          "new_api": "S_ISGITLINK",
          "old_text": null,
          "new_text": "S_ISGITLINK(patch->old_mode)",
          "old_line_content": "\t\t\t\t\tbreak;",
          "new_line_content": "\t\tif (S_ISGITLINK(patch->old_mode)) {",
          "content_same": false
        },
        {
          "line": 3067,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"--verbose\")",
          "old_line_content": "",
          "new_line_content": "\t\tif (!strcmp(arg, \"-v\") || !strcmp(arg, \"--verbose\")) {",
          "content_same": false
        },
        {
          "line": 2556,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"unable to remove submodule %s\",\n\t\t\t\t\tpatch->old_name)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\twarning(\"unable to remove submodule %s\",",
          "content_same": false
        },
        {
          "line": 2558,
          "old_api": null,
          "new_api": "unlink",
          "old_text": null,
          "new_text": "unlink(patch->old_name)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t} else if (!unlink(patch->old_name) && rmdir_empty) {",
          "content_same": false
        },
        {
          "line": 2559,
          "old_api": null,
          "new_api": "xstrdup",
          "old_text": null,
          "new_text": "xstrdup(patch->old_name)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tchar *name = xstrdup(patch->old_name);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 3072,
          "old_api": "set_default_whitespace_mode",
          "new_api": null,
          "old_text": "set_default_whitespace_mode(whitespace_option)",
          "new_text": null,
          "old_line_content": "\t\tset_default_whitespace_mode(whitespace_option);",
          "new_line_content": "\t\t\tinaccurate_eof = 1;",
          "content_same": false
        },
        {
          "line": 2049,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t     name, sha1_to_hex(sha1));",
          "new_line_content": "\tif (patch->old_name) {",
          "content_same": false
        },
        {
          "line": 3073,
          "old_api": "apply_patch",
          "new_api": null,
          "old_text": "apply_patch(fd, arg, inaccurate_eof)",
          "new_text": null,
          "old_line_content": "\t\terrs |= apply_patch(fd, arg, inaccurate_eof);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 3074,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(fd)",
          "new_text": null,
          "old_line_content": "\t\tclose(fd);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"cannot apply binary patch to '%s' \"\n\t\t\t     \"without full index line\", name)",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"cannot apply binary patch to '%s' \"",
          "new_line_content": "\tunsigned char sha1[20];",
          "content_same": false
        },
        {
          "line": 2566,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(path)",
          "new_text": null,
          "old_line_content": "\tint namelen = strlen(path);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": "get_sha1_hex",
          "new_api": null,
          "old_text": "get_sha1_hex(patch->new_sha1_prefix, sha1)",
          "new_text": null,
          "old_line_content": "\tget_sha1_hex(patch->new_sha1_prefix, sha1);",
          "new_line_content": "\t\t\t\t     \"current contents.\",",
          "content_same": false
        },
        {
          "line": 2060,
          "old_api": "clear_image",
          "new_api": null,
          "old_text": "clear_image(img)",
          "new_text": null,
          "old_line_content": "\t\tclear_image(img);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2572,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(1, ce_size)",
          "new_text": null,
          "old_line_content": "\tce = xcalloc(1, ce_size);",
          "new_line_content": "static void add_index_file(const char *path, unsigned mode, void *buf, unsigned long size)",
          "content_same": false
        },
        {
          "line": 2573,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(ce->name, path, namelen)",
          "new_text": null,
          "old_line_content": "\tmemcpy(ce->name, path, namelen);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2574,
          "old_api": "create_ce_mode",
          "new_api": null,
          "old_text": "create_ce_mode(mode)",
          "new_text": null,
          "old_line_content": "\tce->ce_mode = create_ce_mode(mode);",
          "new_line_content": "\tstruct stat st;",
          "content_same": false
        },
        {
          "line": 2575,
          "old_api": "htons",
          "new_api": null,
          "old_text": "htons(namelen)",
          "new_text": null,
          "old_line_content": "\tce->ce_flags = htons(namelen);",
          "new_line_content": "\tstruct cache_entry *ce;",
          "content_same": false
        },
        {
          "line": 3090,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"%d line%s add%s whitespace errors.\",\n\t\t\t    whitespace_error,\n\t\t\t    whitespace_error == 1 ? \"\" : \"s\",\n\t\t\t    whitespace_error == 1 ? \"s\" : \"\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"%d line%s add%s whitespace errors.\",",
          "new_line_content": "\t\tif (squelch_whitespace_errors &&",
          "content_same": false
        },
        {
          "line": 2579,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(\"Subproject commit \")",
          "new_text": null,
          "old_line_content": "\t\tif (get_sha1_hex(s + strlen(\"Subproject commit \"), ce->sha1))",
          "new_line_content": "\tif (!update_index)",
          "content_same": false
        },
        {
          "line": 2580,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"corrupt patch for subproject %s\", path)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"corrupt patch for subproject %s\", path);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 3095,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"warning: %d line%s applied after\"\n\t\t\t\t\" fixing whitespace errors.\\n\",\n\t\t\t\tapplied_after_fixing_ws,\n\t\t\t\tapplied_after_fixing_ws == 1 ? \"\" : \"s\")",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, \"warning: %d line%s applied after\"",
          "new_line_content": "\t\t\t\t\"whitespace error%s\\n\",",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"the necessary postimage %s for \"\n\t\t\t\t     \"'%s' cannot be read\",\n\t\t\t\t     patch->new_sha1_prefix, name)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"the necessary postimage %s for \"",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2075,
          "old_api": "clear_image",
          "new_api": null,
          "old_text": "clear_image(img)",
          "new_text": null,
          "old_line_content": "\t\tclear_image(img);",
          "new_line_content": "\t\t/* We already have the postimage */",
          "content_same": false
        },
        {
          "line": 2588,
          "old_api": "write_sha1_file",
          "new_api": null,
          "old_text": "write_sha1_file(buf, size, blob_type, ce->sha1)",
          "new_text": null,
          "old_line_content": "\t\tif (write_sha1_file(buf, size, blob_type, ce->sha1) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2591,
          "old_api": "add_cache_entry",
          "new_api": null,
          "old_text": "add_cache_entry(ce, ADD_CACHE_OK_TO_ADD)",
          "new_text": null,
          "old_line_content": "\tif (add_cache_entry(ce, ADD_CACHE_OK_TO_ADD) < 0)",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 2592,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"unable to add cache entry for %s\", path)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"unable to add cache entry for %s\", path);",
          "new_line_content": "\t\tif (!cached) {",
          "content_same": false
        },
        {
          "line": 3107,
          "old_api": "write_cache",
          "new_api": null,
          "old_text": "write_cache(newfd, active_cache, active_nr)",
          "new_text": null,
          "old_line_content": "\t\tif (write_cache(newfd, active_cache, active_nr) ||",
          "new_line_content": "\t\t\t\tapplied_after_fixing_ws,",
          "content_same": false
        },
        {
          "line": 2084,
          "old_api": "apply_binary_fragment",
          "new_api": null,
          "old_text": "apply_binary_fragment(img, patch)",
          "new_text": null,
          "old_line_content": "\t\tif (apply_binary_fragment(img, patch))",
          "new_line_content": "\t\t\t\t     patch->new_sha1_prefix, name);",
          "content_same": false
        },
        {
          "line": 3108,
          "old_api": "commit_locked_index",
          "new_api": null,
          "old_text": "commit_locked_index(&lock_file)",
          "new_text": null,
          "old_line_content": "\t\t    commit_locked_index(&lock_file))",
          "new_line_content": "\t\t\t\tapplied_after_fixing_ws == 1 ? \"\" : \"s\");",
          "content_same": false
        },
        {
          "line": 3109,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Unable to write new index file\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Unable to write new index file\");",
          "new_line_content": "\t\telse if (whitespace_error)",
          "content_same": false
        },
        {
          "line": 2600,
          "old_api": "S_ISGITLINK",
          "new_api": null,
          "old_text": "S_ISGITLINK(mode)",
          "new_text": null,
          "old_line_content": "\tif (S_ISGITLINK(mode)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2089,
          "old_api": "hash_sha1_file",
          "new_api": null,
          "old_text": "hash_sha1_file(img->buf, img->len, blob_type, sha1)",
          "new_text": null,
          "old_line_content": "\t\thash_sha1_file(img->buf, img->len, blob_type, sha1);",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\tif (strcmp(sha1_to_hex(sha1), patch->new_sha1_prefix))",
          "new_line_content": "\t\t * We have verified buf matches the preimage;",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"binary patch to '%s' creates incorrect result (expecting %s, got %s)\",\n\t\t\t\tname, patch->new_sha1_prefix, sha1_to_hex(sha1))",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"binary patch to '%s' creates incorrect result (expecting %s, got %s)\",",
          "new_line_content": "\t\t * apply the patch data to it, which is stored",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\tname, patch->new_sha1_prefix, sha1_to_hex(sha1));",
          "new_line_content": "\t\t * in the patch->fragments->{patch,size}.",
          "content_same": false
        },
        {
          "line": 2604,
          "old_api": "mkdir",
          "new_api": null,
          "old_text": "mkdir(path, 0777)",
          "new_text": null,
          "old_line_content": "\t\treturn mkdir(path, 0777);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2607,
          "old_api": "S_ISLNK",
          "new_api": null,
          "old_text": "S_ISLNK(mode)",
          "new_text": null,
          "old_line_content": "\tif (has_symlinks && S_ISLNK(mode))",
          "new_line_content": "\tint fd;",
          "content_same": false
        },
        {
          "line": 2611,
          "old_api": "symlink",
          "new_api": null,
          "old_text": "symlink(buf, path)",
          "new_text": null,
          "old_line_content": "\t\treturn symlink(buf, path);",
          "new_line_content": "\t\tstruct stat st;",
          "content_same": false
        },
        {
          "line": 2613,
          "old_api": "open",
          "new_api": null,
          "old_text": "open(path, O_CREAT | O_EXCL | O_WRONLY, (mode & 0100) ? 0777 : 0666)",
          "new_text": null,
          "old_line_content": "\tfd = open(path, O_CREAT | O_EXCL | O_WRONLY, (mode & 0100) ? 0777 : 0666);",
          "new_line_content": "\t\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 2106,
          "old_api": "apply_binary",
          "new_api": null,
          "old_text": "apply_binary(img, patch)",
          "new_text": null,
          "old_line_content": "\t\treturn apply_binary(img, patch);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2618,
          "old_api": "convert_to_working_tree",
          "new_api": null,
          "old_text": "convert_to_working_tree(path, buf, size, &nbuf)",
          "new_text": null,
          "old_line_content": "\tif (convert_to_working_tree(path, buf, size, &nbuf)) {",
          "new_line_content": "\t\t/* Although buf:size is counted string, it also is NUL",
          "content_same": false
        },
        {
          "line": 2109,
          "old_api": "apply_one_fragment",
          "new_api": null,
          "old_text": "apply_one_fragment(img, frag, inaccurate_eof, ws_rule)",
          "new_text": null,
          "old_line_content": "\t\tif (apply_one_fragment(img, frag, inaccurate_eof, ws_rule)) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"patch failed: %s:%ld\", name, frag->oldpos)",
          "new_text": null,
          "old_line_content": "\t\t\terror(\"patch failed: %s:%ld\", name, frag->oldpos);",
          "new_line_content": "\tstruct fragment *frag = patch->fragments;",
          "content_same": false
        },
        {
          "line": 2622,
          "old_api": "write_or_die",
          "new_api": null,
          "old_text": "write_or_die(fd, buf, size)",
          "new_text": null,
          "old_line_content": "\twrite_or_die(fd, buf, size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": "match_fragment",
          "new_api": null,
          "old_text": "match_fragment(img, preimage, postimage,\n\t\t\t\t   try, try_lno,\n\t\t\t\t   match_beginning, match_end)",
          "new_text": null,
          "old_line_content": "\t\tif (match_fragment(img, preimage, postimage,",
          "new_line_content": "\t * There's probably some smart way to do this, but I'll leave",
          "content_same": false
        },
        {
          "line": 2625,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(fd)",
          "new_text": null,
          "old_line_content": "\tif (close(fd) < 0)",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 2626,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"closing file %s: %s\", path, strerror(errno));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": "ntohl",
          "new_api": null,
          "old_text": "ntohl(ce->ce_mode)",
          "new_text": null,
          "old_line_content": "\tif (S_ISGITLINK(ntohl(ce->ce_mode))) {",
          "new_line_content": "\t\tfrag = frag->next;",
          "content_same": false
        },
        {
          "line": 2126,
          "old_api": "strbuf_grow",
          "new_api": null,
          "old_text": "strbuf_grow(buf, 100)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_grow(buf, 100);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2127,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(ce->sha1)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addf(buf, \"Subproject commit %s\\n\", sha1_to_hex(ce->sha1));",
          "new_line_content": "\treturn 0;",
          "content_same": false
        },
        {
          "line": 2639,
          "old_api": "try_create_file",
          "new_api": null,
          "old_text": "try_create_file(path, mode, buf, size)",
          "new_text": null,
          "old_line_content": "\tif (!try_create_file(path, mode, buf, size))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2643,
          "old_api": "safe_create_leading_directories",
          "new_api": null,
          "old_text": "safe_create_leading_directories(path)",
          "new_text": null,
          "old_line_content": "\t\tif (safe_create_leading_directories(path))",
          "new_line_content": " * we create them and try again.",
          "content_same": false
        },
        {
          "line": 2133,
          "old_api": "read_sha1_file",
          "new_api": null,
          "old_text": "read_sha1_file(ce->sha1, &type, &sz)",
          "new_text": null,
          "old_line_content": "\t\tresult = read_sha1_file(ce->sha1, &type, &sz);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 2645,
          "old_api": "try_create_file",
          "new_api": null,
          "old_text": "try_create_file(path, mode, buf, size)",
          "new_text": null,
          "old_line_content": "\t\tif (!try_create_file(path, mode, buf, size))",
          "new_line_content": "static void create_one_file(char *path, unsigned mode, const char *buf, unsigned long size)",
          "content_same": false
        },
        {
          "line": 2654,
          "old_api": "rmdir",
          "new_api": null,
          "old_text": "rmdir(path)",
          "new_text": null,
          "old_line_content": "\t\tif (!lstat(path, &st) && (!S_ISDIR(st.st_mode) || !rmdir(path)))",
          "new_line_content": "\t\t\treturn;",
          "content_same": false
        },
        {
          "line": 2659,
          "old_api": "getpid",
          "new_api": null,
          "old_text": "getpid()",
          "new_text": null,
          "old_line_content": "\t\tunsigned int nr = getpid();",
          "new_line_content": "\tif (errno == EEXIST || errno == EACCES) {",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": "strbuf_init",
          "new_api": null,
          "old_text": "strbuf_init(&buf, 0)",
          "new_text": null,
          "old_line_content": "\tstrbuf_init(&buf, 0);",
          "new_line_content": "\treturn 0;",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": "read_file_or_gitlink",
          "new_api": null,
          "old_text": "read_file_or_gitlink(ce, &buf)",
          "new_text": null,
          "old_line_content": "\t\tif (read_file_or_gitlink(ce, &buf))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"read of %s failed\", patch->old_name)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"read of %s failed\", patch->old_name);",
          "new_line_content": "static int apply_data(struct patch *patch, struct stat *st, struct cache_entry *ce)",
          "content_same": false
        },
        {
          "line": 2663,
          "old_api": "mkpath",
          "new_api": null,
          "old_text": "mkpath(\"%s~%u\", path, nr)",
          "new_text": null,
          "old_line_content": "\t\t\tnewpath = mkpath(\"%s~%u\", path, nr);",
          "new_line_content": "\t\tstruct stat st;",
          "content_same": false
        },
        {
          "line": 2154,
          "old_api": "S_ISGITLINK",
          "new_api": null,
          "old_text": "S_ISGITLINK(patch->old_mode)",
          "new_text": null,
          "old_line_content": "\t\tif (S_ISGITLINK(patch->old_mode)) {",
          "new_line_content": "\tstruct strbuf buf;",
          "content_same": false
        },
        {
          "line": 2665,
          "old_api": "rename",
          "new_api": null,
          "old_text": "rename(newpath, path)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (!rename(newpath, path))",
          "new_line_content": "\t\t\terrno = EEXIST;",
          "content_same": false
        },
        {
          "line": 2156,
          "old_api": "read_file_or_gitlink",
          "new_api": null,
          "old_text": "read_file_or_gitlink(ce, &buf)",
          "new_text": null,
          "old_line_content": "\t\t\t\tread_file_or_gitlink(ce, &buf);",
          "new_line_content": "\tsize_t len;",
          "content_same": false
        },
        {
          "line": 2667,
          "old_api": "unlink",
          "new_api": null,
          "old_text": "unlink(newpath)",
          "new_text": null,
          "old_line_content": "\t\t\t\tunlink(newpath);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2165,
          "old_api": "read_old_data",
          "new_api": null,
          "old_text": "read_old_data(st, patch->old_name, &buf)",
          "new_text": null,
          "old_line_content": "\t\t\tif (read_old_data(st, patch->old_name, &buf))",
          "new_line_content": "\t\t\tif (ce) {",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": "strbuf_detach",
          "new_api": null,
          "old_text": "strbuf_detach(&buf, &len)",
          "new_text": null,
          "old_line_content": "\timg = strbuf_detach(&buf, &len);",
          "new_line_content": "\t\t\t\t * patch without looking at the index.",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": "prepare_image",
          "new_api": null,
          "old_text": "prepare_image(&image, img, len, !patch->is_binary)",
          "new_text": null,
          "old_line_content": "\tprepare_image(&image, img, len, !patch->is_binary);",
          "new_line_content": "\t\t\t\t */",
          "content_same": false
        },
        {
          "line": 2173,
          "old_api": "apply_fragments",
          "new_api": null,
          "old_text": "apply_fragments(&image, patch)",
          "new_text": null,
          "old_line_content": "\tif (apply_fragments(&image, patch) < 0)",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(output, patch + 1, plen)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(output, patch + 1, plen);",
          "new_line_content": "\tint i;",
          "content_same": false
        },
        {
          "line": 2687,
          "old_api": "create_one_file",
          "new_api": null,
          "old_text": "create_one_file(path, mode, buf, size)",
          "new_text": null,
          "old_line_content": "\tcreate_one_file(path, mode, buf, size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2688,
          "old_api": "add_index_file",
          "new_api": null,
          "old_text": "add_index_file(path, mode, buf, size)",
          "new_text": null,
          "old_line_content": "\tadd_index_file(path, mode, buf, size);",
          "new_line_content": "static void create_file(struct patch *patch)",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(image.line_allocated)",
          "new_text": null,
          "old_line_content": "\tfree(image.line_allocated);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1670,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(patch[plen-1])",
          "new_text": null,
          "old_line_content": "\t    (1 < plen && isspace(patch[plen-1]))) {",
          "new_line_content": "\tif ((ws_error_action != correct_ws_error) || !whitespace_error ||",
          "content_same": false
        },
        {
          "line": 2696,
          "old_api": "remove_file",
          "new_api": null,
          "old_text": "remove_file(patch, 1)",
          "new_text": null,
          "old_line_content": "\t\t\tremove_file(patch, 1);",
          "new_line_content": "\t\tmode = S_IFREG | 0644;",
          "content_same": false
        },
        {
          "line": 1674,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(patch[plen])",
          "new_text": null,
          "old_line_content": "\t\twhile (0 < plen && isspace(patch[plen]))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2188,
          "old_api": "lstat",
          "new_api": null,
          "old_text": "lstat(new_name, &nst)",
          "new_text": null,
          "old_line_content": "\tif (!lstat(new_name, &nst)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": "S_ISDIR",
          "new_api": null,
          "old_text": "S_ISDIR(nst.st_mode)",
          "new_text": null,
          "old_line_content": "\t\tif (S_ISDIR(nst.st_mode) || ok_if_exists)",
          "new_line_content": "\tif (0 < patch->is_delete && patch->resultsize)",
          "content_same": false
        },
        {
          "line": 2701,
          "old_api": "create_file",
          "new_api": null,
          "old_text": "create_file(patch)",
          "new_text": null,
          "old_line_content": "\t\t\tcreate_file(patch);",
          "new_line_content": "/* phase zero is to remove, phase one is to create */",
          "content_same": false
        },
        {
          "line": 2709,
          "old_api": "remove_file",
          "new_api": null,
          "old_text": "remove_file(patch, patch->is_rename)",
          "new_text": null,
          "old_line_content": "\t\tremove_file(patch, patch->is_rename);",
          "new_line_content": "\tif (patch->is_new > 0 || patch->is_copy) {",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: already exists in working directory\", new_name)",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"%s: already exists in working directory\", new_name);",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 2204,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"%s: %s\", new_name, strerror(errno));",
          "new_line_content": "\t\t * still pointing at somewhere that has the path.",
          "content_same": false
        },
        {
          "line": 2210,
          "old_api": "ntohl",
          "new_api": null,
          "old_text": "ntohl(ce->ce_mode)",
          "new_text": null,
          "old_line_content": "\tif (S_ISGITLINK(ntohl(ce->ce_mode))) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2215,
          "old_api": "ce_match_stat",
          "new_api": null,
          "old_text": "ce_match_stat(ce, st, CE_MATCH_IGNORE_VALID)",
          "new_text": null,
          "old_line_content": "\treturn ce_match_stat(ce, st, CE_MATCH_IGNORE_VALID);",
          "new_line_content": "\treturn 0;",
          "content_same": false
        },
        {
          "line": 2729,
          "old_api": "say_patch_name",
          "new_api": null,
          "old_text": "say_patch_name(stderr,\n\t\t\t\t       \"Applied patch \", patch, \" cleanly.\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tsay_patch_name(stderr,",
          "new_line_content": "\tint cnt = 0;",
          "content_same": false
        },
        {
          "line": 2738,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"internal error\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"internal error\");",
          "new_line_content": "\t\tif (apply_verbosely)",
          "content_same": false
        },
        {
          "line": 2741,
          "old_api": "say_patch_name",
          "new_api": null,
          "old_text": "say_patch_name(stderr, \"Applying patch \", patch, \" with\")",
          "new_text": null,
          "old_line_content": "\tsay_patch_name(stderr, \"Applying patch \", patch, \" with\");",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 2742,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \" %d rejects...\\n\", cnt)",
          "new_text": null,
          "old_line_content": "\tfprintf(stderr, \" %d rejects...\\n\", cnt);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2744,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(patch->new_name)",
          "new_text": null,
          "old_line_content": "\tcnt = strlen(patch->new_name);",
          "new_line_content": "\t/* This should not happen, because a removal patch that leaves",
          "content_same": false
        },
        {
          "line": 2745,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(namebuf)",
          "new_text": null,
          "old_line_content": "\tif (ARRAY_SIZE(namebuf) <= cnt + 5) {",
          "new_line_content": "\t * contents are marked \"rejected\" at the patch level.",
          "content_same": false
        },
        {
          "line": 2746,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(namebuf)",
          "new_text": null,
          "old_line_content": "\t\tcnt = ARRAY_SIZE(namebuf) - 5;",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2747,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\n\t\t\t\"warning: truncating .rej filename to %.*s.rej\",\n\t\t\tcnt - 1, patch->new_name)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr,",
          "new_line_content": "\tif (!patch->new_name)",
          "content_same": false
        },
        {
          "line": 2240,
          "old_api": "lstat",
          "new_api": null,
          "old_text": "lstat(old_name, &st)",
          "new_text": null,
          "old_line_content": "\t\t\tstat_ret = lstat(old_name, &st);",
          "new_line_content": "\t * Make sure that we do not have local modifications from the",
          "content_same": false
        },
        {
          "line": 2242,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(old_name)",
          "new_text": null,
          "old_line_content": "\t\t\tint pos = cache_name_pos(old_name, strlen(old_name));",
          "new_line_content": "\t * we have the preimage file to be patched in the work tree,",
          "content_same": false
        },
        {
          "line": 2244,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: does not exist in index\",\n\t\t\t\t\t     old_name)",
          "new_text": null,
          "old_line_content": "\t\t\t\treturn error(\"%s: does not exist in index\",",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(output, patch + i, plen)",
          "new_text": null,
          "old_line_content": "\tmemcpy(output, patch + i, plen);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2251,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t     strerror(errno));",
          "new_line_content": "\t\tif (check_index) {",
          "content_same": false
        },
        {
          "line": 2763,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(rej, \"diff a/%s b/%s\\t(rejected hunks)\\n\",\n\t\tpatch->new_name, patch->new_name)",
          "new_text": null,
          "old_line_content": "\tfprintf(rej, \"diff a/%s b/%s\\t(rejected hunks)\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2769,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Hunk #%d applied cleanly.\\n\", cnt)",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, \"Hunk #%d applied cleanly.\\n\", cnt);",
          "new_line_content": "\t * this is a git patch by saying --git nor give extended",
          "content_same": false
        },
        {
          "line": 2259,
          "old_api": "checkout_entry",
          "new_api": null,
          "old_text": "checkout_entry(ce,\n\t\t\t\t\t\t   &costate,\n\t\t\t\t\t\t   NULL)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (checkout_entry(ce,",
          "new_line_content": "\t\t\t\tif (errno != ENOENT)",
          "content_same": false
        },
        {
          "line": 2772,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Rejected hunk #%d.\\n\", cnt)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"Rejected hunk #%d.\\n\", cnt);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2262,
          "old_api": "lstat",
          "new_api": null,
          "old_text": "lstat(old_name, &st)",
          "new_text": null,
          "old_line_content": "\t\t\t\t    lstat(old_name, &st))",
          "new_line_content": "\t\t\t\t/* checkout */",
          "content_same": false
        },
        {
          "line": 2775,
          "old_api": "fputc",
          "new_api": null,
          "old_text": "fputc('\\n', rej)",
          "new_text": null,
          "old_line_content": "\t\t\tfputc('\\n', rej);",
          "new_line_content": "\tfor (cnt = 1, frag = patch->fragments;",
          "content_same": false
        },
        {
          "line": 2265,
          "old_api": "verify_index_match",
          "new_api": null,
          "old_text": "verify_index_match(ce, &st)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!cached && verify_index_match(ce, &st))",
          "new_line_content": "\t\t\t\tcostate.force = 0;",
          "content_same": false
        },
        {
          "line": 2266,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: does not match index\",\n\t\t\t\t\t     old_name)",
          "new_text": null,
          "old_line_content": "\t\t\t\treturn error(\"%s: does not match index\",",
          "new_line_content": "\t\t\t\tcostate.quiet = 0;",
          "content_same": false
        },
        {
          "line": 2777,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(rej)",
          "new_text": null,
          "old_line_content": "\tfclose(rej);",
          "new_line_content": "\t     cnt++, frag = frag->next) {",
          "content_same": false
        },
        {
          "line": 2271,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"%s: %s\", old_name, strerror(errno));",
          "new_line_content": "\t\t\t\t\t\t   NULL) ||",
          "content_same": false
        },
        {
          "line": 2274,
          "old_api": "ce_mode_from_stat",
          "new_api": null,
          "old_text": "ce_mode_from_stat(ce, st.st_mode)",
          "new_text": null,
          "old_line_content": "\t\t\tst_mode = ntohl(ce_mode_from_stat(ce, st.st_mode));",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2788,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"No changes\")",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"No changes\");",
          "new_line_content": "\treturn -1;",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(img->len + insert_count - remove_count + 1)",
          "new_text": null,
          "old_line_content": "\tresult = xmalloc(img->len + insert_count - remove_count + 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(result, img->buf, applied_at)",
          "new_text": null,
          "old_line_content": "\tmemcpy(result, img->buf, applied_at);",
          "new_line_content": "\tfor (i = 0; i < applied_pos; i++)",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(result + applied_at, postimage->buf, postimage->len)",
          "new_text": null,
          "old_line_content": "\tmemcpy(result + applied_at, postimage->buf, postimage->len);",
          "new_line_content": "\t\tapplied_at += img->line[i].len;",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(result + applied_at + postimage->len,\n\t       img->buf + (applied_at + remove_count),\n\t       img->len - (applied_at + remove_count))",
          "new_text": null,
          "old_line_content": "\tmemcpy(result + applied_at + postimage->len,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2283,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"warning: %s has type %o, expected %o\\n\",\n\t\t\t\told_name, st_mode, patch->old_mode)",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, \"warning: %s has type %o, expected %o\\n\",",
          "new_line_content": "\t\tif (!cached)",
          "content_same": false
        },
        {
          "line": 2796,
          "old_api": "write_out_one_result",
          "new_api": null,
          "old_text": "write_out_one_result(l, phase)",
          "new_text": null,
          "old_line_content": "\t\t\t\twrite_out_one_result(l, phase);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2797,
          "old_api": "write_out_one_reject",
          "new_api": null,
          "old_text": "write_out_one_reject(l)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (phase == 1 && write_out_one_reject(l))",
          "new_line_content": "\tif (!list && !skipped_patch)",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(img->buf)",
          "new_text": null,
          "old_line_content": "\tfree(img->buf);",
          "new_line_content": "\t\tremove_count += img->line[applied_pos + i].len;",
          "content_same": false
        },
        {
          "line": 2288,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(prev_patch->old_name, new_name)",
          "new_text": null,
          "old_line_content": "\t    !strcmp(prev_patch->old_name, new_name))",
          "new_line_content": "\t\tif (!patch->old_mode)",
          "content_same": false
        },
        {
          "line": 1785,
          "old_api": "xrealloc",
          "new_api": null,
          "old_text": "xrealloc(img->line, nr * sizeof(*img->line))",
          "new_text": null,
          "old_line_content": "\t\timg->line = xrealloc(img->line, nr * sizeof(*img->line));",
          "new_line_content": "\timg->len += insert_count - remove_count;",
          "content_same": false
        },
        {
          "line": 1789,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(img->line + applied_pos + postimage->nr,\n\t\t\timg->line + applied_pos + preimage->nr,\n\t\t\t(img->nr - (applied_pos + preimage->nr)) *\n\t\t\tsizeof(*img->line))",
          "new_text": null,
          "old_line_content": "\t\tmemmove(img->line + applied_pos + postimage->nr,",
          "new_line_content": "\tnr = img->nr + postimage->nr - preimage->nr;",
          "content_same": false
        },
        {
          "line": 2304,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(new_name)",
          "new_text": null,
          "old_line_content": "\t\t    cache_name_pos(new_name, strlen(new_name)) >= 0 &&",
          "new_line_content": "\t\t * previous patch is still in the working tree and in",
          "content_same": false
        },
        {
          "line": 1793,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(img->line + applied_pos,\n\t       postimage->line,\n\t       postimage->nr * sizeof(*img->line))",
          "new_text": null,
          "old_line_content": "\tmemcpy(img->line + applied_pos,",
          "new_line_content": "\t\t * on anything other than pre/post image.",
          "content_same": false
        },
        {
          "line": 2306,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: already exists in index\", new_name)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"%s: already exists in index\", new_name);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 2818,
          "old_api": "fnmatch",
          "new_api": null,
          "old_text": "fnmatch(x->path, pathname, 0)",
          "new_text": null,
          "old_line_content": "\t\tif (fnmatch(x->path, pathname, 0) == 0)",
          "new_line_content": "static struct excludes {",
          "content_same": false
        },
        {
          "line": 2308,
          "old_api": "check_to_create_blob",
          "new_api": null,
          "old_text": "check_to_create_blob(new_name, ok_if_exists)",
          "new_text": null,
          "old_line_content": "\t\t\tint err = check_to_create_blob(new_name, ok_if_exists);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 2823,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(pathname)",
          "new_text": null,
          "old_line_content": "\t\tint pathlen = strlen(pathname);",
          "new_line_content": "static int use_patch(struct patch *p)",
          "content_same": false
        },
        {
          "line": 2825,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(prefix, pathname, prefix_length)",
          "new_text": null,
          "old_line_content": "\t\t    memcmp(prefix, pathname, prefix_length))",
          "new_line_content": "\tconst char *pathname = p->new_name ? p->new_name : p->old_name;",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(size)",
          "new_text": null,
          "old_line_content": "\tchar *old = xmalloc(size);",
          "new_line_content": "\t       postimage->nr * sizeof(*img->line));",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(size)",
          "new_text": null,
          "old_line_content": "\tchar *new = xmalloc(size);",
          "new_line_content": "\timg->nr = nr;",
          "content_same": false
        },
        {
          "line": 2321,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(old_name, new_name)",
          "new_text": null,
          "old_line_content": "\t\tint same = !strcmp(old_name, new_name);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2836,
          "old_api": "prefix_filename",
          "new_api": null,
          "old_text": "prefix_filename(prefix, prefix_length, *name)",
          "new_text": null,
          "old_line_content": "\t*name = xstrdup(prefix_filename(prefix, prefix_length, *name));",
          "new_line_content": "\t\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 2325,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"new mode (%o) of %s does not match old mode (%o)%s%s\",\n\t\t\t\tpatch->new_mode, new_name, patch->old_mode,\n\t\t\t\tsame ? \"\" : \" of \", same ? \"\" : old_name)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"new mode (%o) of %s does not match old mode (%o)%s%s\",",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 2837,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(old_name)",
          "new_text": null,
          "old_line_content": "\tfree(old_name);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": "linelen",
          "new_api": null,
          "old_text": "linelen(patch, size)",
          "new_text": null,
          "old_line_content": "\t\tint len = linelen(patch, size);",
          "new_line_content": "\tchar *oldlines, *newlines;",
          "content_same": false
        },
        {
          "line": 2330,
          "old_api": "apply_data",
          "new_api": null,
          "old_text": "apply_data(patch, &st, ce)",
          "new_text": null,
          "old_line_content": "\tif (apply_data(patch, &st, ce) < 0)",
          "new_line_content": "\tif (new_name && old_name) {",
          "content_same": false
        },
        {
          "line": 2851,
          "old_api": "prefix_one",
          "new_api": null,
          "old_text": "prefix_one(&p->new_name)",
          "new_text": null,
          "old_line_content": "\t\t\tprefix_one(&p->new_name);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2852,
          "old_api": "prefix_one",
          "new_api": null,
          "old_text": "prefix_one(&p->old_name)",
          "new_text": null,
          "old_line_content": "\t\t\tprefix_one(&p->old_name);",
          "new_line_content": "\tif (!prefix || p->is_toplevel_relative)",
          "content_same": false
        },
        {
          "line": 2343,
          "old_api": "say_patch_name",
          "new_api": null,
          "old_text": "say_patch_name(stderr,\n\t\t\t\t       \"Checking patch \", patch, \"...\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tsay_patch_name(stderr,",
          "new_line_content": "\treturn 0;",
          "content_same": false
        },
        {
          "line": 2345,
          "old_api": "check_patch",
          "new_api": null,
          "old_text": "check_patch(patch, prev_patch)",
          "new_text": null,
          "old_line_content": "\t\terr |= check_patch(patch, prev_patch);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2864,
          "old_api": "strbuf_init",
          "new_api": null,
          "old_text": "strbuf_init(&buf, 0)",
          "new_text": null,
          "old_line_content": "\tstrbuf_init(&buf, 0);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2866,
          "old_api": "read_patch_file",
          "new_api": null,
          "old_text": "read_patch_file(&buf, fd)",
          "new_text": null,
          "old_line_content": "\tread_patch_file(&buf, fd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2356,
          "old_api": "read_cache",
          "new_api": null,
          "old_text": "read_cache()",
          "new_text": null,
          "old_line_content": "\tif (read_cache() < 0)",
          "new_line_content": "\t\tprev_patch = patch;",
          "content_same": false
        },
        {
          "line": 2358,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(path)",
          "new_text": null,
          "old_line_content": "\tpos = cache_name_pos(path, strlen(path));",
          "new_line_content": "\treturn err;",
          "content_same": false
        },
        {
          "line": 2872,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(1, sizeof(*patch))",
          "new_text": null,
          "old_line_content": "\t\tpatch = xcalloc(1, sizeof(*patch));",
          "new_line_content": "\tint skipped_patch = 0;",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(sha1, active_cache[pos]->sha1)",
          "new_text": null,
          "old_line_content": "\thashcpy(sha1, active_cache[pos]->sha1);",
          "new_line_content": "/* This function tries to read the sha1 from the current index */",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(old + oldsize, patch + 1, plen)",
          "new_text": null,
          "old_line_content": "\t\t\tmemcpy(old + oldsize, patch + 1, plen);",
          "new_line_content": "\t\tcase '\\n':",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": "reverse_patches",
          "new_api": null,
          "old_text": "reverse_patches(patch)",
          "new_text": null,
          "old_line_content": "\t\t\treverse_patches(patch);",
          "new_line_content": "\twhile (offset < buf.len) {",
          "content_same": false
        },
        {
          "line": 2880,
          "old_api": "prefix_patches",
          "new_api": null,
          "old_text": "prefix_patches(patch)",
          "new_text": null,
          "old_line_content": "\t\t\tprefix_patches(patch);",
          "new_line_content": "\t\tint nr;",
          "content_same": false
        },
        {
          "line": 2881,
          "old_api": "use_patch",
          "new_api": null,
          "old_text": "use_patch(patch)",
          "new_text": null,
          "old_line_content": "\t\tif (use_patch(patch)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": "apply_line",
          "new_api": null,
          "old_text": "apply_line(new + newsize, patch,\n\t\t\t\t\t\t       plen, ws_rule)",
          "new_text": null,
          "old_line_content": "\t\t\t\tint added = apply_line(new + newsize, patch,",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2384,
          "old_api": "get_sha1",
          "new_api": null,
          "old_text": "get_sha1(patch->old_sha1_prefix, sha1)",
          "new_text": null,
          "old_line_content": "\t\telse if (get_sha1(patch->old_sha1_prefix, sha1))",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1873,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"invalid start of line: '%c'\", first)",
          "new_text": null,
          "old_line_content": "\t\t\t\terror(\"invalid start of line: '%c'\", first);",
          "new_line_content": "\t\t\t\tif (first == '+' &&",
          "content_same": false
        },
        {
          "line": 2387,
          "old_api": "get_current_sha1",
          "new_api": null,
          "old_text": "get_current_sha1(patch->new_name, sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (get_current_sha1(patch->new_name, sha1) ||",
          "new_line_content": "\t\tunsigned char sha1[20];",
          "content_same": false
        },
        {
          "line": 2388,
          "old_api": "get_current_sha1",
          "new_api": null,
          "old_text": "get_current_sha1(patch->old_name, sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t    get_current_sha1(patch->old_name, sha1))",
          "new_line_content": "\t\tstruct cache_entry *ce;",
          "content_same": false
        },
        {
          "line": 2389,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"mode change for %s, which is not \"\n\t\t\t\t\t\t\"in current HEAD\", name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdie(\"mode change for %s, which is not \"",
          "new_line_content": "\t\tconst char *name;",
          "content_same": false
        },
        {
          "line": 2899,
          "old_api": "hold_locked_index",
          "new_api": null,
          "old_text": "hold_locked_index(&lock_file, 1)",
          "new_text": null,
          "old_line_content": "\t\tnewfd = hold_locked_index(&lock_file, 1);",
          "new_line_content": "\t\t\tskipped_patch++;",
          "content_same": false
        },
        {
          "line": 2902,
          "old_api": "read_cache",
          "new_api": null,
          "old_text": "read_cache()",
          "new_text": null,
          "old_line_content": "\t\tif (read_cache() < 0)",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2903,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"unable to read index file\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"unable to read index file\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2393,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"sha1 information is lacking or useless \"\n\t\t\t\t\t\"(%s).\", name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"sha1 information is lacking or useless \"",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2907,
          "old_api": "check_patch_list",
          "new_api": null,
          "old_text": "check_patch_list(list)",
          "new_text": null,
          "old_line_content": "\t    check_patch_list(list) < 0 &&",
          "new_line_content": "\tupdate_index = check_index && apply;",
          "content_same": false
        },
        {
          "line": 2911,
          "old_api": "write_out_results",
          "new_api": null,
          "old_text": "write_out_results(list, skipped_patch)",
          "new_text": null,
          "old_line_content": "\tif (apply && write_out_results(list, skipped_patch))",
          "new_line_content": "\tif (check_index) {",
          "content_same": false
        },
        {
          "line": 2400,
          "old_api": "die (\"Could not add %s to temporary index\", name)",
          "new_api": null,
          "old_text": "die (\"Could not add %s to temporary index\", name)",
          "new_text": null,
          "old_line_content": "\t\t\tdie (\"Could not add %s to temporary index\", name);",
          "new_line_content": "\t\t\t\t\t\t\"in current HEAD\", name);",
          "content_same": false
        },
        {
          "line": 2915,
          "old_api": "build_fake_ancestor",
          "new_api": null,
          "old_text": "build_fake_ancestor(list, fake_ancestor)",
          "new_text": null,
          "old_line_content": "\t\tbuild_fake_ancestor(list, fake_ancestor);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2404,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(fd)",
          "new_text": null,
          "old_line_content": "\tif (fd < 0 || write_index(&result, fd) || close(fd))",
          "new_line_content": "\t\t\t\t\t\"(%s).\", name);",
          "content_same": false
        },
        {
          "line": 2405,
          "old_api": "die (\"Could not write temporary index to %s\", filename)",
          "new_api": null,
          "old_text": "die (\"Could not write temporary index to %s\", filename)",
          "new_text": null,
          "old_line_content": "\t\tdie (\"Could not write temporary index to %s\", filename);",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 2918,
          "old_api": "stat_patch_list",
          "new_api": null,
          "old_text": "stat_patch_list(list)",
          "new_text": null,
          "old_line_content": "\t\tstat_patch_list(list);",
          "new_line_content": "\t    !apply_with_reject)",
          "content_same": false
        },
        {
          "line": 2407,
          "old_api": "discard_index",
          "new_api": null,
          "old_text": "discard_index(&result)",
          "new_text": null,
          "old_line_content": "\tdiscard_index(&result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2924,
          "old_api": "summary_patch_list",
          "new_api": null,
          "old_text": "summary_patch_list(list)",
          "new_text": null,
          "old_line_content": "\t\tsummary_patch_list(list);",
          "new_line_content": "\tif (fake_ancestor)",
          "content_same": false
        },
        {
          "line": 2926,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&buf)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2418,
          "old_api": "show_stats",
          "new_api": null,
          "old_text": "show_stats(patch)",
          "new_text": null,
          "old_line_content": "\t\tshow_stats(patch);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2932,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(var, \"apply.whitespace\")",
          "new_text": null,
          "old_line_content": "\tif (!strcmp(var, \"apply.whitespace\")) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2421,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\" %d files changed, %d insertions(+), %d deletions(-)\\n\", files, adds, dels)",
          "new_text": null,
          "old_line_content": "\tprintf(\" %d files changed, %d insertions(+), %d deletions(-)\\n\", files, adds, dels);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2933,
          "old_api": "xstrdup",
          "new_api": null,
          "old_text": "xstrdup(value)",
          "new_text": null,
          "old_line_content": "\t\tapply_default_whitespace = xstrdup(value);",
          "new_line_content": "\tif (summary)",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": "prepare_image",
          "new_api": null,
          "old_text": "prepare_image(&preimage, oldlines, oldsize, 1)",
          "new_text": null,
          "old_line_content": "\tprepare_image(&preimage, oldlines, oldsize, 1);",
          "new_line_content": "\tif (unidiff_zero) {",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": "prepare_image",
          "new_api": null,
          "old_text": "prepare_image(&postimage, newlines, newsize, 1)",
          "new_text": null,
          "old_line_content": "\tprepare_image(&postimage, newlines, newsize, 1);",
          "new_line_content": "\t\tmatch_beginning = (!leading && !frag->oldpos);",
          "content_same": false
        },
        {
          "line": 2430,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"-\\t-\\t\")",
          "new_text": null,
          "old_line_content": "\t\t\tprintf(\"-\\t-\\t\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": "find_pos",
          "new_api": null,
          "old_text": "find_pos(img, &preimage, &postimage,\n\t\t\t\t       pos, match_beginning, match_end)",
          "new_text": null,
          "old_line_content": "\t\tapplied_pos = find_pos(img, &preimage, &postimage,",
          "new_line_content": "\telse {",
          "content_same": false
        },
        {
          "line": 2432,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"%d\\t%d\\t\", patch->lines_added, patch->lines_deleted)",
          "new_text": null,
          "old_line_content": "\t\t\tprintf(\"%d\\t%d\\t\", patch->lines_added, patch->lines_deleted);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2433,
          "old_api": "write_name_quoted",
          "new_api": null,
          "old_text": "write_name_quoted(name, stdout, line_termination)",
          "new_text": null,
          "old_line_content": "\t\twrite_name_quoted(name, stdout, line_termination);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2950,
          "old_api": "setup_git_directory_gently",
          "new_api": null,
          "old_text": "setup_git_directory_gently(&is_not_gitdir)",
          "new_text": null,
          "old_line_content": "\tprefix = setup_git_directory_gently(&is_not_gitdir);",
          "new_line_content": "int cmd_apply(int argc, const char **argv, const char *unused_prefix)",
          "content_same": false
        },
        {
          "line": 2951,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(prefix)",
          "new_text": null,
          "old_line_content": "\tprefix_length = prefix ? strlen(prefix) : 0;",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2952,
          "old_api": "git_config",
          "new_api": null,
          "old_text": "git_config(git_apply_config)",
          "new_text": null,
          "old_line_content": "\tgit_config(git_apply_config);",
          "new_line_content": "\tint i;",
          "content_same": false
        },
        {
          "line": 2954,
          "old_api": "parse_whitespace_option",
          "new_api": null,
          "old_text": "parse_whitespace_option(apply_default_whitespace)",
          "new_text": null,
          "old_line_content": "\t\tparse_whitespace_option(apply_default_whitespace);",
          "new_line_content": "\tint inaccurate_eof = 0;",
          "content_same": false
        },
        {
          "line": 2449,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\" mode change %06o => %06o %s\\n\",\n\t\t\t       p->old_mode, p->new_mode, p->new_name)",
          "new_text": null,
          "old_line_content": "\t\t\tprintf(\" mode change %06o => %06o %s\\n\",",
          "new_line_content": "\tif (mode)",
          "content_same": false
        },
        {
          "line": 1938,
          "old_api": "remove_first_line",
          "new_api": null,
          "old_text": "remove_first_line(&preimage)",
          "new_text": null,
          "old_line_content": "\t\t\tremove_first_line(&preimage);",
          "new_line_content": "\t\t\tmatch_beginning = match_end = 0;",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": "remove_first_line",
          "new_api": null,
          "old_text": "remove_first_line(&postimage)",
          "new_text": null,
          "old_line_content": "\t\t\tremove_first_line(&postimage);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2966,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(arg, \"--exclude=\")",
          "new_text": null,
          "old_line_content": "\t\tif (!prefixcmp(arg, \"--exclude=\")) {",
          "new_line_content": "\tfor (i = 1; i < argc; i++) {",
          "content_same": false
        },
        {
          "line": 2967,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(sizeof(*x))",
          "new_text": null,
          "old_line_content": "\t\t\tstruct excludes *x = xmalloc(sizeof(*x));",
          "new_line_content": "\t\tconst char *arg = argv[i];",
          "content_same": false
        },
        {
          "line": 1944,
          "old_api": "remove_last_line",
          "new_api": null,
          "old_text": "remove_last_line(&preimage)",
          "new_text": null,
          "old_line_content": "\t\t\tremove_last_line(&preimage);",
          "new_line_content": "\t\t * leading and trailing if they are equal otherwise",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": "remove_last_line",
          "new_api": null,
          "old_text": "remove_last_line(&postimage)",
          "new_text": null,
          "old_line_content": "\t\t\tremove_last_line(&postimage);",
          "new_line_content": "\t\t * just reduce the larger context.",
          "content_same": false
        },
        {
          "line": 2973,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(arg, \"-p\")",
          "new_text": null,
          "old_line_content": "\t\tif (!prefixcmp(arg, \"-p\")) {",
          "new_line_content": "\t\t\tread_stdin = 0;",
          "content_same": false
        },
        {
          "line": 2974,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(arg + 2)",
          "new_text": null,
          "old_line_content": "\t\t\tp_value = atoi(arg + 2);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2978,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--no-add\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"--no-add\")) {",
          "new_line_content": "\t\t\tx->path = arg + 10;",
          "content_same": false
        },
        {
          "line": 2467,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(old, '/')",
          "new_text": null,
          "old_line_content": "\t\tslash_old = strchr(old, '/');",
          "new_line_content": "static void show_rename_copy(struct patch *p)",
          "content_same": false
        },
        {
          "line": 2468,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(new, '/')",
          "new_text": null,
          "old_line_content": "\t\tslash_new = strchr(new, '/');",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2982,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--stat\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"--stat\")) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": "remove_last_line",
          "new_api": null,
          "old_text": "remove_last_line(&postimage)",
          "new_text": null,
          "old_line_content": "\t\t\t\tremove_last_line(&postimage);",
          "new_line_content": "\t\tif (ws_error_action == correct_ws_error &&",
          "content_same": false
        },
        {
          "line": 2987,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--allow-binary-replacement\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"--allow-binary-replacement\") ||",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2991,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--numstat\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"--numstat\")) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2481,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\" %s %.*s{%s => %s} (%d%%)\\n\", renamecopy,\n\t\t       (int)(old - p->old_name), p->old_name,\n\t\t       old, new, p->score)",
          "new_text": null,
          "old_line_content": "\t\tprintf(\" %s %.*s{%s => %s} (%d%%)\\n\", renamecopy,",
          "new_line_content": "\t\t    slash_old - old != slash_new - new ||",
          "content_same": false
        },
        {
          "line": 1970,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Context reduced to (%ld/%ld)\"\n\t\t\t\t\" to apply fragment at %d\\n\",\n\t\t\t\tleading, trailing, applied_pos+1)",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, \"Context reduced to (%ld/%ld)\"",
          "new_line_content": "\t\t\twhile (new_blank_lines_at_end--)",
          "content_same": false
        },
        {
          "line": 2996,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--summary\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"--summary\")) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2485,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\" %s %s => %s (%d%%)\\n\", renamecopy,\n\t\t       p->old_name, p->new_name, p->score)",
          "new_text": null,
          "old_line_content": "\t\tprintf(\" %s %s => %s (%d%%)\\n\", renamecopy,",
          "new_line_content": "\t\tnew = slash_new + 1;",
          "content_same": false
        },
        {
          "line": 1973,
          "old_api": "update_image",
          "new_api": null,
          "old_text": "update_image(img, applied_pos, &preimage, &postimage)",
          "new_text": null,
          "old_line_content": "\t\tupdate_image(img, applied_pos, &preimage, &postimage);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2487,
          "old_api": "show_mode_change",
          "new_api": null,
          "old_text": "show_mode_change(p, 0)",
          "new_text": null,
          "old_line_content": "\tshow_mode_change(p, 0);",
          "new_line_content": "\t/* p->old_name thru old is the common prefix, and old and new",
          "content_same": false
        },
        {
          "line": 1976,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"while searching for:\\n%.*s\", oldsize, oldlines)",
          "new_text": null,
          "old_line_content": "\t\t\terror(\"while searching for:\\n%.*s\", oldsize, oldlines);",
          "new_line_content": "\t\t * of context lines.",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(old)",
          "new_text": null,
          "old_line_content": "\tfree(old);",
          "new_line_content": "\t\t    (trailing != frag->trailing))",
          "content_same": false
        },
        {
          "line": 1981,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(preimage.line_allocated)",
          "new_text": null,
          "old_line_content": "\tfree(preimage.line_allocated);",
          "new_line_content": "\t\t\t\t\" to apply fragment at %d\\n\",",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(postimage.line_allocated)",
          "new_text": null,
          "old_line_content": "\tfree(postimage.line_allocated);",
          "new_line_content": "\t\t\t\tleading, trailing, applied_pos+1);",
          "content_same": false
        },
        {
          "line": 2496,
          "old_api": "show_file_mode_name",
          "new_api": null,
          "old_text": "show_file_mode_name(\"create\", p->new_mode, p->new_name)",
          "new_text": null,
          "old_line_content": "\t\t\tshow_file_mode_name(\"create\", p->new_mode, p->new_name);",
          "new_line_content": "\t\t       p->old_name, p->new_name, p->score);",
          "content_same": false
        },
        {
          "line": 3008,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"--index outside a repository\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"--index outside a repository\");",
          "new_line_content": "\t\t\tsummary = 1;",
          "content_same": false
        },
        {
          "line": 2498,
          "old_api": "show_file_mode_name",
          "new_api": null,
          "old_text": "show_file_mode_name(\"delete\", p->old_mode, p->old_name)",
          "new_text": null,
          "old_line_content": "\t\t\tshow_file_mode_name(\"delete\", p->old_mode, p->old_name);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3012,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--cached\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"--cached\")) {",
          "new_line_content": "\t\t\tapply = 0;",
          "content_same": false
        },
        {
          "line": 2501,
          "old_api": "show_rename_copy",
          "new_api": null,
          "old_text": "show_rename_copy(p)",
          "new_text": null,
          "old_line_content": "\t\t\t\tshow_rename_copy(p);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3014,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"--cached outside a repository\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"--cached outside a repository\");",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2504,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\" rewrite %s (%d%%)\\n\",\n\t\t\t\t\t       p->new_name, p->score)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tprintf(\" rewrite %s (%d%%)\\n\",",
          "new_line_content": "\tfor (p = patch; p; p = p->next) {",
          "content_same": false
        },
        {
          "line": 3019,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--apply\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"--apply\")) {",
          "new_line_content": "\t\t\tcheck_index = 1;",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"cannot reverse-apply a binary patch \"\n\t\t\t\t     \"without the reverse hunk to '%s'\",\n\t\t\t\t     patch->new_name\n\t\t\t\t     ? patch->new_name : patch->old_name)",
          "new_text": null,
          "old_line_content": "\t\t\treturn error(\"cannot reverse-apply a binary patch \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2509,
          "old_api": "show_mode_change",
          "new_api": null,
          "old_text": "show_mode_change(p, 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tshow_mode_change(p, 1);",
          "new_line_content": "\t\telse {",
          "content_same": false
        },
        {
          "line": 3023,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--build-fake-ancestor\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"--build-fake-ancestor\")) {",
          "new_line_content": "\t\t\tif (is_not_gitdir)",
          "content_same": false
        },
        {
          "line": 3026,
          "old_api": "die (\"need a filename\")",
          "new_api": null,
          "old_text": "die (\"need a filename\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie (\"need a filename\");",
          "new_line_content": "\t\t\tcached = 1;",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": "patch_delta",
          "new_api": null,
          "old_text": "patch_delta(img->buf, img->len, fragment->patch,\n\t\t\t\t  fragment->size, &len)",
          "new_text": null,
          "old_line_content": "\t\tdst = patch_delta(img->buf, img->len, fragment->patch,",
          "new_line_content": "\tif (apply_in_reverse) {",
          "content_same": false
        },
        {
          "line": 3030,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"-z\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"-z\")) {",
          "new_line_content": "\t\t\tapply = 1;",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": "clear_image",
          "new_api": null,
          "old_text": "clear_image(img)",
          "new_text": null,
          "old_line_content": "\t\tclear_image(img);",
          "new_line_content": "\t\t\t\t     patch->new_name",
          "content_same": false
        },
        {
          "line": 2522,
          "old_api": "quote_c_style",
          "new_api": null,
          "old_text": "quote_c_style(patch->old_name, NULL, NULL, 0)",
          "new_text": null,
          "old_line_content": "\t\tint len = quote_c_style(patch->old_name, NULL, NULL, 0);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3034,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(arg, \"-C\")",
          "new_text": null,
          "old_line_content": "\t\tif (!prefixcmp(arg, \"-C\")) {",
          "new_line_content": "\t\t\tapply = 0;",
          "content_same": false
        },
        {
          "line": 2524,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(patch->old_name)",
          "new_text": null,
          "old_line_content": "\t\t\tlen = strlen(patch->old_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3035,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(arg + 2, &end, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tp_context = strtoul(arg + 2, &end, 0);",
          "new_line_content": "\t\t\tif (++i >= argc)",
          "content_same": false
        },
        {
          "line": 3037,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"unrecognized context count '%s'\", arg + 2)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"unrecognized context count '%s'\", arg + 2);",
          "new_line_content": "\t\t\tfake_ancestor = argv[i];",
          "content_same": false
        },
        {
          "line": 2013,
          "old_api": "clear_image",
          "new_api": null,
          "old_text": "clear_image(img)",
          "new_text": null,
          "old_line_content": "\t\tclear_image(img);",
          "new_line_content": "\tcase BINARY_DELTA_DEFLATED:",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(img->len+1)",
          "new_text": null,
          "old_line_content": "\t\timg->buf = xmalloc(img->len+1);",
          "new_line_content": "\t\t\t\t  fragment->size, &len);",
          "content_same": false
        },
        {
          "line": 2529,
          "old_api": "quote_c_style",
          "new_api": null,
          "old_text": "quote_c_style(patch->new_name, NULL, NULL, 0)",
          "new_text": null,
          "old_line_content": "\t\tint len = quote_c_style(patch->new_name, NULL, NULL, 0);",
          "new_line_content": "\tif (lines > max_change)",
          "content_same": false
        },
        {
          "line": 3042,
          "old_api": "parse_whitespace_option",
          "new_api": null,
          "old_text": "parse_whitespace_option(arg + 13)",
          "new_text": null,
          "old_line_content": "\t\t\tparse_whitespace_option(arg + 13);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2531,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(patch->new_name)",
          "new_text": null,
          "old_line_content": "\t\t\tlen = strlen(patch->new_name);",
          "new_line_content": "\tif (patch->old_name) {",
          "content_same": false
        },
        {
          "line": 2016,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(img->buf, fragment->patch, img->len)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(img->buf, fragment->patch, img->len);",
          "new_line_content": "\t\tif (!dst)",
          "content_same": false
        },
        {
          "line": 3049,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--unidiff-zero\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"--unidiff-zero\")) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2540,
          "old_api": "remove_file_from_cache",
          "new_api": null,
          "old_text": "remove_file_from_cache(patch->old_name)",
          "new_text": null,
          "old_line_content": "\t\tif (remove_file_from_cache(patch->old_name) < 0)",
          "new_line_content": "\t\tif (!len)",
          "content_same": false
        },
        {
          "line": 3053,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--reject\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"--reject\")) {",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2544,
          "old_api": "S_ISGITLINK",
          "new_api": null,
          "old_text": "S_ISGITLINK(patch->old_mode)",
          "new_text": null,
          "old_line_content": "\t\tif (S_ISGITLINK(patch->old_mode)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2545,
          "old_api": "rmdir",
          "new_api": null,
          "old_text": "rmdir(patch->old_name)",
          "new_text": null,
          "old_line_content": "\t\t\tif (rmdir(patch->old_name))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2546,
          "old_api": "warning",
          "new_api": null,
          "old_text": "warning(\"unable to remove submodule %s\",\n\t\t\t\t\tpatch->old_name)",
          "new_text": null,
          "old_line_content": "\t\t\t\twarning(\"unable to remove submodule %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3057,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--verbose\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"-v\") || !strcmp(arg, \"--verbose\")) {",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2548,
          "old_api": "unlink",
          "new_api": null,
          "old_text": "unlink(patch->old_name)",
          "new_text": null,
          "old_line_content": "\t\t} else if (!unlink(patch->old_name) && rmdir_empty) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2549,
          "old_api": "xstrdup",
          "new_api": null,
          "old_text": "xstrdup(patch->old_name)",
          "new_text": null,
          "old_line_content": "\t\t\tchar *name = xstrdup(patch->old_name);",
          "new_line_content": "\tif (update_index) {",
          "content_same": false
        },
        {
          "line": 3061,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"--inaccurate-eof\")",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(arg, \"--inaccurate-eof\")) {",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(patch->old_sha1_prefix)",
          "new_text": null,
          "old_line_content": "\tif (strlen(patch->old_sha1_prefix) != 40 ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(patch->new_sha1_prefix)",
          "new_text": null,
          "old_line_content": "\t    strlen(patch->new_sha1_prefix) != 40 ||",
          "new_line_content": "static int apply_binary(struct image *img, struct patch *patch)",
          "content_same": false
        },
        {
          "line": 2553,
          "old_api": "rmdir",
          "new_api": null,
          "old_text": "rmdir(name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (rmdir(name))",
          "new_line_content": "\tif (!cached) {",
          "content_same": false
        },
        {
          "line": 3066,
          "old_api": "prefix_filename",
          "new_api": null,
          "old_text": "prefix_filename(prefix, prefix_length, arg)",
          "new_text": null,
          "old_line_content": "\t\t\targ = prefix_filename(prefix, prefix_length, arg);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": "get_sha1_hex",
          "new_api": null,
          "old_text": "get_sha1_hex(patch->old_sha1_prefix, sha1)",
          "new_text": null,
          "old_line_content": "\t    get_sha1_hex(patch->old_sha1_prefix, sha1) ||",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3068,
          "old_api": "open",
          "new_api": null,
          "old_text": "open(arg, O_RDONLY)",
          "new_text": null,
          "old_line_content": "\t\tfd = open(arg, O_RDONLY);",
          "new_line_content": "\t\t\tapply_verbosely = 1;",
          "content_same": false
        },
        {
          "line": 2557,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(name)",
          "new_text": null,
          "old_line_content": "\t\t\tfree(name);",
          "new_line_content": "\t\t\t\t\tpatch->old_name);",
          "content_same": false
        },
        {
          "line": 3070,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(apply_usage)",
          "new_text": null,
          "old_line_content": "\t\t\tusage(apply_usage);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2035,
          "old_api": "get_sha1_hex",
          "new_api": null,
          "old_text": "get_sha1_hex(patch->new_sha1_prefix, sha1)",
          "new_text": null,
          "old_line_content": "\t    get_sha1_hex(patch->new_sha1_prefix, sha1))",
          "new_line_content": "\tconst char *name = patch->old_name ? patch->old_name : patch->new_name;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 54,
      "total_additions": 248,
      "total_deletions": 248,
      "total_api_changes": 550
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 10,
        "api_related_lines": 550,
        "non_api_lines": 10,
        "non_api_line_numbers": [
          1582,
          1583,
          1584,
          1585,
          1586,
          1587,
          1588,
          1589,
          1590,
          1591
        ]
      }
    },
    "api_calls_before": 548,
    "api_calls_after": 548,
    "diff_info": {
      "added_lines": 10,
      "removed_lines": 0,
      "total_diff_lines": 22
    }
  }
}