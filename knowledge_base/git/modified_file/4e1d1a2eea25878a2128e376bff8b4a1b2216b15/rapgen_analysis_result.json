{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/4e1d1a2eea25878a2128e376bff8b4a1b2216b15",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/4e1d1a2eea25878a2128e376bff8b4a1b2216b15/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/4e1d1a2eea25878a2128e376bff8b4a1b2216b15/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/4e1d1a2eea25878a2128e376bff8b4a1b2216b15/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 153,
          "old_api": "get_revision",
          "new_api": "prepare_revision_walk",
          "old_text": "get_revision(rev)",
          "new_text": "prepare_revision_walk(rev)",
          "old_line_content": "\twhile ((commit = get_revision(rev)) != NULL)",
          "new_line_content": "\tif (prepare_revision_walk(rev))",
          "content_same": false
        },
        {
          "line": 154,
          "old_api": "shortlog_add_commit",
          "new_api": "_",
          "old_text": "shortlog_add_commit(log, commit)",
          "new_text": "_(\"revision walk setup failed\")",
          "old_line_content": "\t\tshortlog_add_commit(log, commit);",
          "new_line_content": "\t\tdie(_(\"revision walk setup failed\"));",
          "content_same": false
        },
        {
          "line": 196,
          "old_api": "error",
          "new_api": "parse_uint",
          "old_text": "error(wrap_arg_usage)",
          "new_text": "parse_uint(&arg, '\\0', DEFAULT_INDENT2)",
          "old_line_content": "\t\treturn error(wrap_arg_usage);",
          "new_line_content": "\tlog->in2 = parse_uint(&arg, '\\0', DEFAULT_INDENT2);",
          "content_same": false
        },
        {
          "line": 208,
          "old_api": "read_mailmap",
          "new_api": "memset",
          "old_text": "read_mailmap(&log->mailmap, &log->common_repo_prefix)",
          "new_text": "memset(log, 0, sizeof(*log))",
          "old_line_content": "\tread_mailmap(&log->mailmap, &log->common_repo_prefix);",
          "new_line_content": "\tmemset(log, 0, sizeof(*log));",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": "N_",
          "new_api": "OPT_BOOL",
          "old_text": "N_(\"w[,i1[,i2]]\")",
          "new_text": "OPT_BOOL('e', \"email\", &log.email,\n\t\t\t N_(\"Show the email address of each author\"))",
          "old_line_content": "\t\t{ OPTION_CALLBACK, 'w', NULL, &log, N_(\"w[,i1[,i2]]\"),",
          "new_line_content": "\t\tOPT_BOOL('e', \"email\", &log.email,",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": "OPT_END",
          "new_api": "N_",
          "old_text": "OPT_END()",
          "new_text": "N_(\"w[,i1[,i2]]\")",
          "old_line_content": "\t\tOPT_END(),",
          "new_line_content": "\t\t{ OPTION_CALLBACK, 'w', NULL, &log, N_(\"w[,i1[,i2]]\"),",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": "init_revisions",
          "new_api": "git_config",
          "old_text": "init_revisions(&rev, prefix)",
          "new_text": "git_config(git_default_config, NULL)",
          "old_line_content": "\tinit_revisions(&rev, prefix);",
          "new_line_content": "\tgit_config(git_default_config, NULL);",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "parse_options_start",
          "new_api": "shortlog_init",
          "old_text": "parse_options_start(&ctx, argc, argv, prefix, options,\n\t\t\t    PARSE_OPT_KEEP_DASHDASH | PARSE_OPT_KEEP_ARGV0)",
          "new_text": "shortlog_init(&log)",
          "old_line_content": "\tparse_options_start(&ctx, argc, argv, prefix, options,",
          "new_line_content": "\tshortlog_init(&log);",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": "exit",
          "new_api": "parse_options_step",
          "old_text": "exit(129)",
          "new_text": "parse_options_step(&ctx, options, shortlog_usage)",
          "old_line_content": "\t\t\texit(129);",
          "new_line_content": "\t\tswitch (parse_options_step(&ctx, options, shortlog_usage)) {",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": "setup_revisions",
          "new_api": "parse_options_end",
          "old_text": "setup_revisions(argc, argv, &rev, NULL)",
          "new_text": "parse_options_end(&ctx)",
          "old_line_content": "\tif (setup_revisions(argc, argv, &rev, NULL) != 1) {",
          "new_line_content": "\targc = parse_options_end(&ctx);",
          "content_same": false
        },
        {
          "line": 256,
          "old_api": "usage_with_options",
          "new_api": "setup_revisions",
          "old_text": "usage_with_options(shortlog_usage, options)",
          "new_text": "setup_revisions(argc, argv, &rev, NULL)",
          "old_line_content": "\t\tusage_with_options(shortlog_usage, options);",
          "new_line_content": "\tif (setup_revisions(argc, argv, &rev, NULL) != 1) {",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": "isatty",
          "new_api": "add_head_to_pending",
          "old_text": "isatty(0)",
          "new_text": "add_head_to_pending(&rev)",
          "old_line_content": "\t\tif (isatty(0))",
          "new_line_content": "\t\tadd_head_to_pending(&rev);",
          "content_same": false
        },
        {
          "line": 268,
          "old_api": "read_from_stdin",
          "new_api": "isatty",
          "old_text": "read_from_stdin(&log)",
          "new_text": "isatty(0)",
          "old_line_content": "\t\tread_from_stdin(&log);",
          "new_line_content": "\t\tif (isatty(0))",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "shortlog_output",
          "new_api": "get_from_rev",
          "old_text": "shortlog_output(&log)",
          "new_text": "get_from_rev(&rev, &log)",
          "old_line_content": "\tshortlog_output(&log);",
          "new_line_content": "\t\tget_from_rev(&rev, &log);",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": "fwrite",
          "new_api": "strbuf_reset",
          "old_text": "fwrite(sb.buf, sb.len, 1, stdout)",
          "new_text": "strbuf_reset(&sb)",
          "old_line_content": "\t\t\t\t\tfwrite(sb.buf, sb.len, 1, stdout);",
          "new_line_content": "\t\t\t\t\tstrbuf_reset(&sb);",
          "content_same": false
        },
        {
          "line": 310,
          "old_api": "putchar",
          "new_api": "printf",
          "old_text": "putchar('\\n')",
          "new_text": "printf(\"      %s\\n\", msg)",
          "old_line_content": "\t\t\tputchar('\\n');",
          "new_line_content": "\t\t\t\t\tprintf(\"      %s\\n\", msg);",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": "string_list_clear",
          "new_api": "strbuf_release",
          "old_text": "string_list_clear(&log->list, 1)",
          "new_text": "strbuf_release(&sb)",
          "old_line_content": "\tstring_list_clear(&log->list, 1);",
          "new_line_content": "\tstrbuf_release(&sb);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 257,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"unrecognized argument: %s\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\terror(_(\"unrecognized argument: %s\"), argv[1]);",
          "content_same": false
        },
        {
          "line": 258,
          "old_api": null,
          "new_api": "usage_with_options",
          "old_text": null,
          "new_text": "usage_with_options(shortlog_usage, options)",
          "old_line_content": "",
          "new_line_content": "\t\tusage_with_options(shortlog_usage, options);",
          "content_same": false
        },
        {
          "line": 137,
          "old_api": null,
          "new_api": "pretty_print_commit",
          "old_text": null,
          "new_text": "pretty_print_commit(&ctx, commit, &oneline)",
          "old_line_content": "\telse",
          "new_line_content": "\t\t\tpretty_print_commit(&ctx, commit, &oneline);",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": null,
          "new_api": "isatty",
          "old_text": null,
          "new_text": "isatty(0)",
          "old_line_content": "\tif (rev.pending.nr == 0) {",
          "new_line_content": "\tif (!nongit && !rev.pending.nr && isatty(0))",
          "content_same": false
        },
        {
          "line": 139,
          "old_api": null,
          "new_api": "format_commit_message",
          "old_text": null,
          "new_text": "format_commit_message(commit, \"%s\", &oneline, &ctx)",
          "old_line_content": "",
          "new_line_content": "\t\t\tformat_commit_message(commit, \"%s\", &oneline, &ctx);",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"(reading log message from standard input)\\n\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tfprintf(stderr, _(\"(reading log message from standard input)\\n\"));",
          "content_same": false
        },
        {
          "line": 142,
          "old_api": null,
          "new_api": "insert_one_record",
          "old_text": null,
          "new_text": "insert_one_record(log, author.buf, oneline.len ? oneline.buf : \"<none>\")",
          "old_line_content": "out:",
          "new_line_content": "\tinsert_one_record(log, author.buf, oneline.len ? oneline.buf : \"<none>\");",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": null,
          "new_api": "read_from_stdin",
          "old_text": null,
          "new_text": "read_from_stdin(&log)",
          "old_line_content": "\telse",
          "new_line_content": "\t\tread_from_stdin(&log);",
          "content_same": false
        },
        {
          "line": 145,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&author)",
          "old_line_content": "}",
          "new_line_content": "\tstrbuf_release(&author);",
          "content_same": false
        },
        {
          "line": 146,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&oneline)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&oneline);",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": null,
          "new_api": "shortlog_output",
          "old_text": null,
          "new_text": "shortlog_output(&log)",
          "old_line_content": "}",
          "new_line_content": "\tshortlog_output(&log);",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": null,
          "new_api": "strbuf_add_wrapped_text",
          "old_text": null,
          "new_text": "strbuf_add_wrapped_text(sb, s, log->in1, log->in2, log->wrap)",
          "old_line_content": "}",
          "new_line_content": "\tstrbuf_add_wrapped_text(sb, s, log->in1, log->in2, log->wrap);",
          "content_same": false
        },
        {
          "line": 155,
          "old_api": null,
          "new_api": "get_revision",
          "old_text": null,
          "new_text": "get_revision(rev)",
          "old_line_content": "}",
          "new_line_content": "\twhile ((commit = get_revision(rev)) != NULL)",
          "content_same": false
        },
        {
          "line": 156,
          "old_api": null,
          "new_api": "shortlog_add_commit",
          "old_text": null,
          "new_text": "shortlog_add_commit(log, commit)",
          "old_line_content": "",
          "new_line_content": "\t\tshortlog_add_commit(log, commit);",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": null,
          "new_api": "strbuf_addch",
          "old_text": null,
          "new_text": "strbuf_addch(sb, '\\n')",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_addch(sb, '\\n');",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": null,
          "new_api": "qsort",
          "old_text": null,
          "new_text": "qsort(log->list.items, log->list.nr, sizeof(struct string_list_item),\n\t\t\tcompare_by_number)",
          "old_line_content": "\tfor (i = 0; i < log->list.nr; i++) {",
          "new_line_content": "\t\tqsort(log->list.items, log->list.nr, sizeof(struct string_list_item),",
          "content_same": false
        },
        {
          "line": 165,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(*arg, &endp, 10)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\tul = strtoul(*arg, &endp, 10);",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"%s (%d):\\n\", log->list.items[i].string, onelines->nr)",
          "old_line_content": "\t\t\t\tconst char *msg = onelines->items[j].string;",
          "new_line_content": "\t\t\tprintf(\"%s (%d):\\n\", log->list.items[i].string, onelines->nr);",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": null,
          "new_api": "add_wrapped_shortlog_msg",
          "old_text": null,
          "new_text": "add_wrapped_shortlog_msg(&sb, msg, log)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tadd_wrapped_shortlog_msg(&sb, msg, log);",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": null,
          "new_api": "fwrite",
          "old_text": null,
          "new_text": "fwrite(sb.buf, sb.len, 1, stdout)",
          "old_line_content": "\t\t\t\telse",
          "new_line_content": "\t\t\t\t\tfwrite(sb.buf, sb.len, 1, stdout);",
          "content_same": false
        },
        {
          "line": 312,
          "old_api": null,
          "new_api": "putchar",
          "old_text": null,
          "new_text": "putchar('\\n')",
          "old_line_content": "",
          "new_line_content": "\t\t\tputchar('\\n');",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": null,
          "new_api": "string_list_clear",
          "old_text": null,
          "new_text": "string_list_clear(onelines, 0)",
          "old_line_content": "\t\tlog->list.items[i].util = NULL;",
          "new_line_content": "\t\tstring_list_clear(onelines, 0);",
          "content_same": false
        },
        {
          "line": 317,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(onelines)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tfree(onelines);",
          "content_same": false
        },
        {
          "line": 195,
          "old_api": null,
          "new_api": "parse_uint",
          "old_text": null,
          "new_text": "parse_uint(&arg, ',', DEFAULT_INDENT1)",
          "old_line_content": "\tif (log->wrap < 0 || log->in1 < 0 || log->in2 < 0)",
          "new_line_content": "\tlog->in1 = parse_uint(&arg, ',', DEFAULT_INDENT1);",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": null,
          "new_api": "string_list_clear",
          "old_text": null,
          "new_text": "string_list_clear(&log->list, 1)",
          "old_line_content": "}",
          "new_line_content": "\tstring_list_clear(&log->list, 1);",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": null,
          "new_api": "clear_mailmap",
          "old_text": null,
          "new_text": "clear_mailmap(&log->mailmap)",
          "old_line_content": "",
          "new_line_content": "\tclear_mailmap(&log->mailmap);",
          "content_same": false
        },
        {
          "line": 198,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(wrap_arg_usage)",
          "old_line_content": "\t    ((log->in1 && log->wrap <= log->in1) ||",
          "new_line_content": "\t\treturn error(wrap_arg_usage);",
          "content_same": false
        },
        {
          "line": 202,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(wrap_arg_usage)",
          "old_line_content": "}",
          "new_line_content": "\t\treturn error(wrap_arg_usage);",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": null,
          "new_api": "read_mailmap",
          "old_text": null,
          "new_text": "read_mailmap(&log->mailmap, &log->common_repo_prefix)",
          "old_line_content": "\tlog->list.strdup_strings = 1;",
          "new_line_content": "\tread_mailmap(&log->mailmap, &log->common_repo_prefix);",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": null,
          "new_api": "N_",
          "old_text": null,
          "new_text": "N_(\"Linewrap output\")",
          "old_line_content": "\t};",
          "new_line_content": "\t\t\tN_(\"Linewrap output\"), PARSE_OPT_OPTARG, &parse_wrap_args },",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": null,
          "new_api": "OPT_END",
          "old_text": null,
          "new_text": "OPT_END()",
          "old_line_content": "",
          "new_line_content": "\t\tOPT_END(),",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": null,
          "new_api": "init_revisions",
          "old_text": null,
          "new_text": "init_revisions(&rev, prefix)",
          "old_line_content": "\t\t\t    PARSE_OPT_KEEP_DASHDASH | PARSE_OPT_KEEP_ARGV0);",
          "new_line_content": "\tinit_revisions(&rev, prefix);",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": null,
          "new_api": "parse_options_start",
          "old_text": null,
          "new_text": "parse_options_start(&ctx, argc, argv, prefix, options,\n\t\t\t    PARSE_OPT_KEEP_DASHDASH | PARSE_OPT_KEEP_ARGV0)",
          "old_line_content": "",
          "new_line_content": "\tparse_options_start(&ctx, argc, argv, prefix, options,",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": null,
          "new_api": "exit",
          "old_text": null,
          "new_text": "exit(129)",
          "old_line_content": "\t\t\tgoto parse_done;",
          "new_line_content": "\t\t\texit(129);",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": null,
          "new_api": "parse_revision_opt",
          "old_text": null,
          "new_text": "parse_revision_opt(&rev, &ctx, options, shortlog_usage)",
          "old_line_content": "parse_done:",
          "new_line_content": "\t\tparse_revision_opt(&rev, &ctx, options, shortlog_usage);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 263,
          "old_api": "isatty",
          "new_api": null,
          "old_text": "isatty(0)",
          "new_text": null,
          "old_line_content": "\tif (!nongit && !rev.pending.nr && isatty(0))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 136,
          "old_api": "pretty_print_commit",
          "new_api": null,
          "old_text": "pretty_print_commit(&ctx, commit, &oneline)",
          "new_text": null,
          "old_line_content": "\t\tpretty_print_commit(&ctx, commit, &oneline);",
          "new_line_content": "\t\tif (log->user_format)",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": "add_head_to_pending",
          "new_api": null,
          "old_text": "add_head_to_pending(&rev)",
          "new_text": null,
          "old_line_content": "\t\tadd_head_to_pending(&rev);",
          "new_line_content": "\t/* assume HEAD if from a tty */",
          "content_same": false
        },
        {
          "line": 138,
          "old_api": "format_commit_message",
          "new_api": null,
          "old_text": "format_commit_message(commit, \"%s\", &oneline, &ctx)",
          "new_text": null,
          "old_line_content": "\t\tformat_commit_message(commit, \"%s\", &oneline, &ctx);",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"(reading log message from standard input)\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, _(\"(reading log message from standard input)\\n\"));",
          "new_line_content": "\tif (rev.pending.nr == 0) {",
          "content_same": false
        },
        {
          "line": 140,
          "old_api": "insert_one_record",
          "new_api": null,
          "old_text": "insert_one_record(log, author.buf, oneline.len ? oneline.buf : \"<none>\")",
          "new_text": null,
          "old_line_content": "\tinsert_one_record(log, author.buf, oneline.len ? oneline.buf : \"<none>\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 143,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&author)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&author);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 144,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&oneline)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&oneline);",
          "new_line_content": "out:",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": "get_from_rev",
          "new_api": null,
          "old_text": "get_from_rev(&rev, &log)",
          "new_text": null,
          "old_line_content": "\t\tget_from_rev(&rev, &log);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 151,
          "old_api": "prepare_revision_walk",
          "new_api": null,
          "old_text": "prepare_revision_walk(rev)",
          "new_text": null,
          "old_line_content": "\tif (prepare_revision_walk(rev))",
          "new_line_content": "\tstruct commit *commit;",
          "content_same": false
        },
        {
          "line": 152,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"revision walk setup failed\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"revision walk setup failed\"));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": "strbuf_add_wrapped_text",
          "new_api": null,
          "old_text": "strbuf_add_wrapped_text(sb, s, log->in1, log->in2, log->wrap)",
          "new_text": null,
          "old_line_content": "\tstrbuf_add_wrapped_text(sb, s, log->in1, log->in2, log->wrap);",
          "new_line_content": "\t\t\t\t     const struct shortlog *log)",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": "strbuf_addch",
          "new_api": null,
          "old_text": "strbuf_addch(sb, '\\n')",
          "new_text": null,
          "old_line_content": "\tstrbuf_addch(sb, '\\n');",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": "qsort",
          "new_api": null,
          "old_text": "qsort(log->list.items, log->list.nr, sizeof(struct string_list_item),\n\t\t\tcompare_by_number)",
          "new_text": null,
          "old_line_content": "\t\tqsort(log->list.items, log->list.nr, sizeof(struct string_list_item),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 163,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(*arg, &endp, 10)",
          "new_text": null,
          "old_line_content": "\tul = strtoul(*arg, &endp, 10);",
          "new_line_content": "\tchar *endp;",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"%6d\\t%s\\n\", onelines->nr, log->list.items[i].string)",
          "new_text": null,
          "old_line_content": "\t\t\tprintf(\"%6d\\t%s\\n\", onelines->nr, log->list.items[i].string);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(&sb)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tstrbuf_reset(&sb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": "add_wrapped_shortlog_msg",
          "new_api": null,
          "old_text": "add_wrapped_shortlog_msg(&sb, msg, log)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tadd_wrapped_shortlog_msg(&sb, msg, log);",
          "new_line_content": "\t\t\t\tif (log->wrap_lines) {",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"      %s\\n\", msg)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tprintf(\"      %s\\n\", msg);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": "string_list_clear",
          "new_api": null,
          "old_text": "string_list_clear(onelines, 0)",
          "new_text": null,
          "old_line_content": "\t\tstring_list_clear(onelines, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(onelines)",
          "new_text": null,
          "old_line_content": "\t\tfree(onelines);",
          "new_line_content": "\t\tonelines->strdup_strings = 1;",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&sb)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&sb);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 192,
          "old_api": "parse_uint",
          "new_api": null,
          "old_text": "parse_uint(&arg, ',', DEFAULT_WRAPLEN)",
          "new_text": null,
          "old_line_content": "\tlog->wrap = parse_uint(&arg, ',', DEFAULT_WRAPLEN);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": "parse_uint",
          "new_api": null,
          "old_text": "parse_uint(&arg, ',', DEFAULT_INDENT1)",
          "new_text": null,
          "old_line_content": "\tlog->in1 = parse_uint(&arg, ',', DEFAULT_INDENT1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 322,
          "old_api": "clear_mailmap",
          "new_api": null,
          "old_text": "clear_mailmap(&log->mailmap)",
          "new_text": null,
          "old_line_content": "\tclear_mailmap(&log->mailmap);",
          "new_line_content": "\tlog->list.strdup_strings = 1;",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(wrap_arg_usage)",
          "new_text": null,
          "old_line_content": "\t\treturn error(wrap_arg_usage);",
          "new_line_content": "\t    ((log->in1 && log->wrap <= log->in1) ||",
          "content_same": false
        },
        {
          "line": 206,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(log, 0, sizeof(*log))",
          "new_text": null,
          "old_line_content": "\tmemset(log, 0, sizeof(*log));",
          "new_line_content": "void shortlog_init(struct shortlog *log)",
          "content_same": false
        },
        {
          "line": 223,
          "old_api": "OPT_BOOL",
          "new_api": null,
          "old_text": "OPT_BOOL('n', \"numbered\", &log.sort_by_number,\n\t\t\t N_(\"sort output according to the number of commits per author\"))",
          "new_text": null,
          "old_line_content": "\t\tOPT_BOOL('n', \"numbered\", &log.sort_by_number,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": "N_",
          "new_api": null,
          "old_text": "N_(\"sort output according to the number of commits per author\")",
          "new_text": null,
          "old_line_content": "\t\t\t N_(\"sort output according to the number of commits per author\")),",
          "new_line_content": "\tstatic const struct option options[] = {",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": "git_config",
          "new_api": null,
          "old_text": "git_config(git_default_config, NULL)",
          "new_text": null,
          "old_line_content": "\tgit_config(git_default_config, NULL);",
          "new_line_content": "\tstruct parse_opt_ctx_t ctx;",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": "shortlog_init",
          "new_api": null,
          "old_text": "shortlog_init(&log)",
          "new_text": null,
          "old_line_content": "\tshortlog_init(&log);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 243,
          "old_api": "parse_options_step",
          "new_api": null,
          "old_text": "parse_options_step(&ctx, options, shortlog_usage)",
          "new_text": null,
          "old_line_content": "\t\tswitch (parse_options_step(&ctx, options, shortlog_usage)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 249,
          "old_api": "parse_revision_opt",
          "new_api": null,
          "old_text": "parse_revision_opt(&rev, &ctx, options, shortlog_usage)",
          "new_text": null,
          "old_line_content": "\t\tparse_revision_opt(&rev, &ctx, options, shortlog_usage);",
          "new_line_content": "\t\t\tgoto parse_done;",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": "parse_options_end",
          "new_api": null,
          "old_text": "parse_options_end(&ctx)",
          "new_text": null,
          "old_line_content": "\targc = parse_options_end(&ctx);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"unrecognized argument: %s\")",
          "new_text": null,
          "old_line_content": "\t\terror(_(\"unrecognized argument: %s\"), argv[1]);",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 17,
      "total_additions": 35,
      "total_deletions": 35,
      "total_api_changes": 87
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 87,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          135
        ]
      }
    },
    "api_calls_before": 97,
    "api_calls_after": 97,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 4,
      "total_diff_lines": 22
    }
  }
}