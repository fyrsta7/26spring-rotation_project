{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/c4640fe8d9e25fd3e206a39233c71a6dbb68917e",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/c4640fe8d9e25fd3e206a39233c71a6dbb68917e/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/c4640fe8d9e25fd3e206a39233c71a6dbb68917e/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/c4640fe8d9e25fd3e206a39233c71a6dbb68917e/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 729,
          "old_api": "replace_encoding_header",
          "new_api": "reencode_string",
          "old_text": "replace_encoding_header(out, output_encoding)",
          "new_text": "reencode_string(commit->buffer,\n\t\t\t\t      output_encoding, use_encoding)",
          "old_line_content": "\t\tout = replace_encoding_header(out, output_encoding);",
          "new_line_content": "\t\tout = reencode_string(commit->buffer,",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": "isspace",
          "new_api": "xstrndup",
          "old_text": "isspace(msg[start])",
          "new_text": "xstrndup(msg + start, end - start)",
          "old_line_content": "\tfor (start = end + 1; start < len && isspace(msg[start]); start++)",
          "new_line_content": "\ttable[1].value = xstrndup(msg + start, end - start);",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": "isspace",
          "new_api": "xstrndup",
          "old_text": "isspace(msg[start])",
          "new_text": "xstrndup(msg + start, ep - (msg + start))",
          "old_line_content": "\tfor (start = ep - msg + 1; start < len && isspace(msg[start]); start++)",
          "new_line_content": "\ttable[5].value = xstrndup(msg + start, ep - (msg + start));",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": "strtoul",
          "new_api": "isspace",
          "old_text": "strtoul(msg + start + 1, NULL, 10)",
          "new_text": "isspace(msg[start])",
          "old_line_content": "\t\ttz = strtoul(msg + start + 1, NULL, 10);",
          "new_line_content": "\tfor (start = ep - msg + 1; start < len && isspace(msg[start]); start++)",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": "interp_set_entry",
          "new_api": "die",
          "old_text": "interp_set_entry(table, IRED, \"\\033[31m\")",
          "new_text": "die(\"invalid interp table!\")",
          "old_line_content": "\tinterp_set_entry(table, IRED, \"\\033[31m\");",
          "new_line_content": "\t\tdie(\"invalid interp table!\");",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": "find_unique_abbrev",
          "new_api": "parse_object",
          "old_text": "find_unique_abbrev(commit->object.sha1,\n\t\t\t\tDEFAULT_ABBREV)",
          "new_text": "parse_object(commit->object.sha1)",
          "old_line_content": "\t\t\tfind_unique_abbrev(commit->object.sha1,",
          "new_line_content": "\t\tparse_object(commit->object.sha1);",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "sha1_to_hex",
          "new_api": "interp_set_entry",
          "old_text": "sha1_to_hex(commit->tree->object.sha1)",
          "new_text": "interp_set_entry(table, IHASH_ABBREV,\n\t\t\tfind_unique_abbrev(commit->object.sha1,\n\t\t\t\tDEFAULT_ABBREV))",
          "old_line_content": "\tinterp_set_entry(table, ITREE, sha1_to_hex(commit->tree->object.sha1));",
          "new_line_content": "\tinterp_set_entry(table, IHASH_ABBREV,",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": "interp_set_entry",
          "new_api": "find_unique_abbrev",
          "old_text": "interp_set_entry(table, ITREE_ABBREV,\n\t\t\tfind_unique_abbrev(commit->tree->object.sha1,\n\t\t\t\tDEFAULT_ABBREV))",
          "new_text": "find_unique_abbrev(commit->object.sha1,\n\t\t\t\tDEFAULT_ABBREV)",
          "old_line_content": "\tinterp_set_entry(table, ITREE_ABBREV,",
          "new_line_content": "\t\t\tfind_unique_abbrev(commit->object.sha1,",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": "interp_set_entry",
          "new_api": "snprintf",
          "old_text": "interp_set_entry(table, IPARENTS_ABBREV, parents + 1)",
          "new_text": "snprintf(parents + i, sizeof(parents) - i - 1, \" %s\",\n\t\t\tfind_unique_abbrev(p->item->object.sha1,\n\t\t\t\tDEFAULT_ABBREV))",
          "old_line_content": "\tinterp_set_entry(table, IPARENTS_ABBREV, parents + 1);",
          "new_line_content": "\t\ti += snprintf(parents + i, sizeof(parents) - i - 1, \" %s\",",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": "interp_set_entry",
          "new_api": "xstrdup",
          "old_text": "interp_set_entry(table, i, \"<unknown>\")",
          "new_text": "xstrdup(msg + i)",
          "old_line_content": "\t\t\tinterp_set_entry(table, i, \"<unknown>\");",
          "new_line_content": "\t\ttable[IBODY].value = xstrdup(msg + i);",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": "xrealloc",
          "new_api": "ARRAY_SIZE",
          "old_text": "xrealloc(buf, space)",
          "new_text": "ARRAY_SIZE(table)",
          "old_line_content": "\t\tbuf = xrealloc(buf, space);",
          "new_line_content": "\t\t\t\t    table, ARRAY_SIZE(table));",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": "bound_rfc2047",
          "new_api": "memcmp",
          "old_text": "bound_rfc2047(linelen, encoding)",
          "new_text": "memcmp(line, \"author \", 7)",
          "old_line_content": "\t\t\t\tlen = bound_rfc2047(linelen, encoding);",
          "new_line_content": "\t\tif (!memcmp(line, \"author \", 7)) {",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": "add_user_info",
          "new_api": "bound_rfc2047",
          "old_text": "add_user_info(\"Author\", fmt, dst,\n\t\t\t\t\t\tline + 7, dmode, encoding)",
          "new_text": "bound_rfc2047(linelen, encoding)",
          "old_line_content": "\t\t\t*ofs_p += add_user_info(\"Author\", fmt, dst,",
          "new_line_content": "\t\t\t\tlen = bound_rfc2047(linelen, encoding);",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": "add_user_info",
          "new_api": "bound_rfc2047",
          "old_text": "add_user_info(\"Commit\", fmt, dst,\n\t\t\t\t\t\tline + 10, dmode, encoding)",
          "new_text": "bound_rfc2047(linelen, encoding)",
          "old_line_content": "\t\t\t*ofs_p += add_user_info(\"Commit\", fmt, dst,",
          "new_line_content": "\t\t\t\tlen = bound_rfc2047(linelen, encoding);",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": "get_one_line",
          "new_api": "xmalloc",
          "old_text": "get_one_line(line, *len_p)",
          "new_text": "xmalloc(title_alloc)",
          "old_line_content": "\t\tint linelen = get_one_line(line, *len_p);",
          "new_line_content": "\ttitle = xmalloc(title_alloc);",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": "ALLOC_GROW",
          "new_api": "strlen",
          "old_text": "ALLOC_GROW(*buf_p, title_len + *ofs_p + len, *space_p)",
          "new_text": "strlen(after_subject)",
          "old_line_content": "\tALLOC_GROW(*buf_p, title_len + *ofs_p + len, *space_p);",
          "new_line_content": "\t\tlen += strlen(after_subject);",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": "strlen",
          "new_api": "ALLOC_GROW",
          "old_text": "strlen(subject)",
          "new_text": "ALLOC_GROW(*buf_p, title_len + *ofs_p + len, *space_p)",
          "old_line_content": "\t\tlen = strlen(subject);",
          "new_line_content": "\tALLOC_GROW(*buf_p, title_len + *ofs_p + len, *space_p);",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": "add_rfc2047",
          "new_api": "strlen",
          "old_text": "add_rfc2047(*buf_p + *ofs_p,\n\t\t\t\t      title, title_len, encoding)",
          "new_text": "strlen(subject)",
          "old_line_content": "\t\t*ofs_p += add_rfc2047(*buf_p + *ofs_p,",
          "new_line_content": "\t\tlen = strlen(subject);",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": "memcpy",
          "new_api": "add_rfc2047",
          "old_text": "memcpy(*buf_p + *ofs_p, title, title_len)",
          "new_text": "add_rfc2047(*buf_p + *ofs_p,\n\t\t\t\t      title, title_len, encoding)",
          "old_line_content": "\t\tmemcpy(*buf_p + *ofs_p, title, title_len);",
          "new_line_content": "\t\t*ofs_p += add_rfc2047(*buf_p + *ofs_p,",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "free",
          "new_api": "memcpy",
          "old_text": "free(title)",
          "new_text": "memcpy(*buf_p + *ofs_p, after_subject, len)",
          "old_line_content": "\tfree(title);",
          "new_line_content": "\t\tmemcpy(*buf_p + *ofs_p, after_subject, len);",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "memcpy",
          "new_api": "memset",
          "old_text": "memcpy(*buf_p + *ofs_p, line, linelen)",
          "new_text": "memset(*buf_p + *ofs_p, ' ', indent)",
          "old_line_content": "\t\tmemcpy(*buf_p + *ofs_p, line, linelen);",
          "new_line_content": "\t\t\tmemset(*buf_p + *ofs_p, ' ', indent);",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "strlen",
          "new_api": "logmsg_reencode",
          "old_text": "strlen(reencoded)",
          "new_text": "logmsg_reencode(commit, encoding)",
          "old_line_content": "\t\tlen = strlen(reencoded);",
          "new_line_content": "\treencoded = logmsg_reencode(commit, encoding);",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "isspace",
          "new_api": "pp_remainder",
          "old_text": "isspace((*buf_p)[offset-1])",
          "new_text": "pp_remainder(fmt, &msg, &len, &offset,\n\t\t\t     buf_p, space_p, indent)",
          "old_line_content": "\twhile (offset && isspace((*buf_p)[offset-1]))",
          "new_line_content": "\t\tpp_remainder(fmt, &msg, &len, &offset,",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": "ALLOC_GROW",
          "new_api": "isspace",
          "old_text": "ALLOC_GROW(*buf_p, offset + 20, *space_p)",
          "new_text": "isspace((*buf_p)[offset-1])",
          "old_line_content": "\tALLOC_GROW(*buf_p, offset + 20, *space_p);",
          "new_line_content": "\twhile (offset && isspace((*buf_p)[offset-1]))",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": "commit_list_insert",
          "new_api": "getter",
          "old_text": "commit_list_insert(next->item, insert)",
          "new_text": "getter(next->item)",
          "old_line_content": "\t\t\tinsert = &commit_list_insert(next->item, insert)->next;",
          "new_line_content": "\t\tstruct sort_node * node = (struct sort_node *) getter(next->item);",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": "getter",
          "new_api": "sort_by_date",
          "old_text": "getter(work_item)",
          "new_text": "sort_by_date(&work)",
          "old_line_content": "\t\tstruct sort_node * work_node = (struct sort_node *) getter(work_item);",
          "new_line_content": "\t\tsort_by_date(&work);",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": "parse_commit",
          "new_api": "commit_list_insert",
          "old_text": "parse_commit(two)",
          "new_text": "commit_list_insert(one, &result)",
          "old_line_content": "\tparse_commit(two);",
          "new_line_content": "\t\treturn commit_list_insert(one, &result);",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "interesting",
          "new_api": "insert_by_date",
          "old_text": "interesting(list)",
          "new_text": "insert_by_date(one, &list)",
          "old_line_content": "\twhile (interesting(list)) {",
          "new_line_content": "\tinsert_by_date(one, &list);",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": "free_commit_list",
          "new_api": "xcalloc",
          "old_text": "free_commit_list(result)",
          "new_text": "xcalloc(cnt, sizeof(*rslt))",
          "old_line_content": "\tfree_commit_list(result);",
          "new_line_content": "\trslt = xcalloc(cnt, sizeof(*rslt));",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": "clear_commit_marks",
          "new_api": "free_commit_list",
          "old_text": "clear_commit_marks(two, all_flags)",
          "new_text": "free_commit_list(result)",
          "old_line_content": "\tclear_commit_marks(two, all_flags);",
          "new_line_content": "\tfree_commit_list(result);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1538,
          "old_api": null,
          "new_api": "insert_by_date",
          "old_text": null,
          "new_text": "insert_by_date(rslt[i], &result)",
          "old_line_content": "\treturn result;",
          "new_line_content": "\t\t\tinsert_by_date(rslt[i], &result);",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(rslt)",
          "old_line_content": "",
          "new_line_content": "\tfree(rslt);",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": null,
          "new_api": "get_merge_bases",
          "old_text": null,
          "new_text": "get_merge_bases(commit, *reference, 1)",
          "old_line_content": "\tfor (b = bases; b; b = b->next) {",
          "new_line_content": "\t\tbases = get_merge_bases(commit, *reference, 1);",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"not yet\")",
          "old_line_content": "\t\t\tret = 1;",
          "new_line_content": "\t\tdie(\"not yet\");",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": null,
          "new_api": "hashcmp",
          "old_text": null,
          "new_text": "hashcmp(commit->object.sha1, b->item->object.sha1)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (!hashcmp(commit->object.sha1, b->item->object.sha1)) {",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": null,
          "new_api": "get_one_line",
          "old_text": null,
          "new_text": "get_one_line(line, *len_p)",
          "old_line_content": "",
          "new_line_content": "\t\tint linelen = get_one_line(line, *len_p);",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": null,
          "new_api": "free_commit_list",
          "old_text": null,
          "new_text": "free_commit_list(bases)",
          "old_line_content": "",
          "new_line_content": "\tfree_commit_list(bases);",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": null,
          "new_api": "is_empty_line",
          "old_text": null,
          "new_text": "is_empty_line(line, &linelen)",
          "old_line_content": "\t\tif (title_alloc <= title_len + linelen + 2) {",
          "new_line_content": "\t\tif (!linelen || is_empty_line(line, &linelen))",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": null,
          "new_api": "xrealloc",
          "old_text": null,
          "new_text": "xrealloc(title, title_alloc)",
          "old_line_content": "\t\tif (title_len) {",
          "new_line_content": "\t\t\ttitle = xrealloc(title, title_alloc);",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(title + title_len, line, linelen)",
          "old_line_content": "",
          "new_line_content": "\t\tmemcpy(title + title_len, line, linelen);",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": null,
          "new_api": "bound_rfc2047",
          "old_text": null,
          "new_text": "bound_rfc2047(title_len, encoding)",
          "old_line_content": "\tif (after_subject)",
          "new_line_content": "\tlen = bound_rfc2047(title_len, encoding)+ 1000;",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(subject)",
          "old_line_content": "\tif (encoding)",
          "new_line_content": "\t\tlen += strlen(subject);",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(encoding)",
          "old_line_content": "\tif (subject) {",
          "new_line_content": "\t\tlen += strlen(encoding);",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(*buf_p + *ofs_p, subject, len)",
          "old_line_content": "\t\t\t\t      title, title_len, encoding);",
          "new_line_content": "\t\tmemcpy(*buf_p + *ofs_p, subject, len);",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(*buf_p + *ofs_p, title, title_len)",
          "old_line_content": "\t(*buf_p)[(*ofs_p)++] = '\\n';",
          "new_line_content": "\t\tmemcpy(*buf_p + *ofs_p, title, title_len);",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(*buf_p + *ofs_p,\n\t\t\t\t   *space_p - *ofs_p,\n\t\t\t\t   header_fmt, encoding)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t*ofs_p += snprintf(*buf_p + *ofs_p,",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(after_subject)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tlen = strlen(after_subject);",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(title)",
          "old_line_content": "\t\t(*buf_p)[(*ofs_p)++] = '\\n';",
          "new_line_content": "\tfree(title);",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": null,
          "new_api": "ALLOC_GROW",
          "old_text": null,
          "new_text": "ALLOC_GROW(*buf_p, *ofs_p + 20, *space_p)",
          "old_line_content": "}",
          "new_line_content": "\t\tALLOC_GROW(*buf_p, *ofs_p + 20, *space_p);",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": null,
          "new_api": "get_one_line",
          "old_text": null,
          "new_text": "get_one_line(line, *len_p)",
          "old_line_content": "",
          "new_line_content": "\t\tint linelen = get_one_line(line, *len_p);",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": null,
          "new_api": "is_empty_line",
          "old_text": null,
          "new_text": "is_empty_line(line, &linelen)",
          "old_line_content": "\t\t\tif (fmt == CMIT_FMT_SHORT)",
          "new_line_content": "\t\tif (is_empty_line(line, &linelen)) {",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": null,
          "new_api": "ALLOC_GROW",
          "old_text": null,
          "new_text": "ALLOC_GROW(*buf_p, *ofs_p + linelen + indent + 20, *space_p)",
          "old_line_content": "\t\t\t*ofs_p += indent;",
          "new_line_content": "\t\tALLOC_GROW(*buf_p, *ofs_p + linelen + indent + 20, *space_p);",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(*buf_p + *ofs_p, line, linelen)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmemcpy(*buf_p + *ofs_p, line, linelen);",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "format_commit_message",
          "old_text": null,
          "new_text": "format_commit_message(commit, msg, buf_p, space_p)",
          "old_line_content": "\t\t    ? git_log_output_encoding",
          "new_line_content": "\t\treturn format_commit_message(commit, msg, buf_p, space_p);",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(reencoded)",
          "old_line_content": "\tif (fmt == CMIT_FMT_ONELINE || fmt == CMIT_FMT_EMAIL)",
          "new_line_content": "\t\tlen = strlen(reencoded);",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": null,
          "new_api": "non_ascii",
          "old_text": null,
          "new_text": "non_ascii(ch)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\telse if (non_ascii(ch)) {",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": null,
          "new_api": "pp_header",
          "old_text": null,
          "new_text": "pp_header(fmt, abbrev, dmode, encoding,\n\t\t  commit, &msg, &len,\n\t\t  &offset, buf_p, space_p)",
          "old_line_content": "\tif (fmt != CMIT_FMT_ONELINE && !subject) {",
          "new_line_content": "\tpp_header(fmt, abbrev, dmode, encoding,",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": null,
          "new_api": "ALLOC_GROW",
          "old_text": null,
          "new_text": "ALLOC_GROW(*buf_p, offset + 20, *space_p)",
          "old_line_content": "",
          "new_line_content": "\t\tALLOC_GROW(*buf_p, offset + 20, *space_p);",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": null,
          "new_api": "get_one_line",
          "old_text": null,
          "new_text": "get_one_line(msg, len)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\tint linelen = get_one_line(msg, len);",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": null,
          "new_api": "is_empty_line",
          "old_text": null,
          "new_text": "is_empty_line(msg, &ll)",
          "old_line_content": "\t\tlen -= linelen;",
          "new_line_content": "\t\tif (!is_empty_line(msg, &ll))",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": null,
          "new_api": "pp_title_line",
          "old_text": null,
          "new_text": "pp_title_line(fmt, &msg, &len, &offset,\n\t\t\t      buf_p, space_p, indent,\n\t\t\t      subject, after_subject, encoding,\n\t\t\t      plain_non_ascii)",
          "old_line_content": "\t\t\t      plain_non_ascii);",
          "new_line_content": "\t\tpp_title_line(fmt, &msg, &len, &offset,",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "xstrdup",
          "old_text": null,
          "new_text": "xstrdup(commit->buffer)",
          "old_line_content": "\telse",
          "new_line_content": "\t\t\tout = xstrdup(commit->buffer);",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": null,
          "new_api": "replace_encoding_header",
          "old_text": null,
          "new_text": "replace_encoding_header(out, output_encoding)",
          "old_line_content": "\treturn out;",
          "new_line_content": "\t\tout = replace_encoding_header(out, output_encoding);",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(encoding)",
          "old_line_content": "",
          "new_line_content": "\tfree(encoding);",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": null,
          "new_api": "ALLOC_GROW",
          "old_text": null,
          "new_text": "ALLOC_GROW(*buf_p, offset + 20, *space_p)",
          "old_line_content": "\t/* Make sure there is an EOLN for the non-oneline case */",
          "new_line_content": "\tALLOC_GROW(*buf_p, offset + 20, *space_p);",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(msg[end - 1])",
          "old_line_content": "",
          "new_line_content": "\twhile (end > 0 && isspace(msg[end - 1]))",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(reencoded)",
          "old_line_content": "",
          "new_line_content": "\tfree(reencoded);",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": null,
          "new_api": "xstrndup",
          "old_text": null,
          "new_text": "xstrndup(msg, end)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\ttable[0].value = xstrndup(msg, end);",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(top)",
          "old_line_content": "}",
          "new_line_content": "\t\tfree(top);",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(msg[start])",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tfor (start = end + 1; start < len && isspace(msg[start]); start++)",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(msg + start, &ep, 10)",
          "old_line_content": "",
          "new_line_content": "\tdate = strtoul(msg + start, &ep, 10);",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(msg + start + 1, NULL, 10)",
          "old_line_content": "\t}",
          "new_line_content": "\t\ttz = strtoul(msg + start + 1, NULL, 10);",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": null,
          "new_api": "sort_in_topological_order_fn",
          "old_text": null,
          "new_text": "sort_in_topological_order_fn(list, lifo, topo_sort_default_setter,\n\t\t\t\t     topo_sort_default_getter)",
          "old_line_content": "",
          "new_line_content": "\tsort_in_topological_order_fn(list, lifo, topo_sort_default_setter,",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": null,
          "new_api": "show_date",
          "old_text": null,
          "new_text": "show_date(date, tz, DATE_RFC2822)",
          "old_line_content": "}",
          "new_line_content": "\tinterp_set_entry(table, 3, show_date(date, tz, DATE_RFC2822));",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": null,
          "new_api": "show_date",
          "old_text": null,
          "new_text": "show_date(date, tz, DATE_RELATIVE)",
          "old_line_content": "",
          "new_line_content": "\tinterp_set_entry(table, 4, show_date(date, tz, DATE_RELATIVE));",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": null,
          "new_api": "show_date",
          "old_text": null,
          "new_text": "show_date(date, tz, DATE_ISO8601)",
          "old_line_content": "static long format_commit_message(const struct commit *commit,",
          "new_line_content": "\tinterp_set_entry(table, 6, show_date(date, tz, DATE_ISO8601));",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(count, sizeof(*nodes))",
          "old_line_content": "\tnext=*list;",
          "new_line_content": "\tnodes = xcalloc(count, sizeof(*nodes));",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": null,
          "new_api": "setter",
          "old_text": null,
          "new_text": "setter(next->item, next_nodes)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tsetter(next->item, next_nodes);",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "getter",
          "old_text": null,
          "new_text": "getter(parent)",
          "old_line_content": "\t\t\t\tpn->indegree++;",
          "new_line_content": "\t\t\tstruct sort_node * pn = (struct sort_node *) getter(parent);",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": null,
          "new_api": "commit_list_insert",
          "old_text": null,
          "new_text": "commit_list_insert(next->item, insert)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tinsert = &commit_list_insert(next->item, insert)->next;",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(table)",
          "old_line_content": "\t/* these are independent of the commit */",
          "new_line_content": "\tif (ILEFT_RIGHT + 1 != ARRAY_SIZE(table))",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": null,
          "new_api": "pop_commit",
          "old_text": null,
          "new_text": "pop_commit(&work)",
          "old_line_content": "",
          "new_line_content": "\t\tstruct commit * work_item = pop_commit(&work);",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": null,
          "new_api": "getter",
          "old_text": null,
          "new_text": "getter(work_item)",
          "old_line_content": "\t\twhile (parents) {",
          "new_line_content": "\t\tstruct sort_node * work_node = (struct sort_node *) getter(work_item);",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": null,
          "new_api": "interp_set_entry",
          "old_text": null,
          "new_text": "interp_set_entry(table, IBLUE, \"\\033[34m\")",
          "old_line_content": "",
          "new_line_content": "\tinterp_set_entry(table, IBLUE, \"\\033[34m\");",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": null,
          "new_api": "interp_set_entry",
          "old_text": null,
          "new_text": "interp_set_entry(table, IRESET_COLOR, \"\\033[m\")",
          "old_line_content": "\t/* these depend on the commit */",
          "new_line_content": "\tinterp_set_entry(table, IRESET_COLOR, \"\\033[m\");",
          "content_same": false
        },
        {
          "line": 855,
          "old_api": null,
          "new_api": "interp_set_entry",
          "old_text": null,
          "new_text": "interp_set_entry(table, INEWLINE, \"\\n\")",
          "old_line_content": "\tif (!commit->object.parsed)",
          "new_line_content": "\tinterp_set_entry(table, INEWLINE, \"\\n\");",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": null,
          "new_api": "getter",
          "old_text": null,
          "new_text": "getter(parent)",
          "old_line_content": "\t\t\t\t/*",
          "new_line_content": "\t\t\tstruct sort_node * pn = (struct sort_node *) getter(parent);",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(commit->object.sha1)",
          "old_line_content": "\t\t\t\tDEFAULT_ABBREV));",
          "new_line_content": "\tinterp_set_entry(table, IHASH, sha1_to_hex(commit->object.sha1));",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(commit->tree->object.sha1)",
          "old_line_content": "\t\t\t\tDEFAULT_ABBREV));",
          "new_line_content": "\tinterp_set_entry(table, ITREE, sha1_to_hex(commit->tree->object.sha1));",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": null,
          "new_api": "find_unique_abbrev",
          "old_text": null,
          "new_text": "find_unique_abbrev(commit->tree->object.sha1,\n\t\t\t\tDEFAULT_ABBREV)",
          "old_line_content": "\t\t\t (commit->object.flags & BOUNDARY)",
          "new_line_content": "\t\t\tfind_unique_abbrev(commit->tree->object.sha1,",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": null,
          "new_api": "insert_by_date",
          "old_text": null,
          "new_text": "insert_by_date(parent, &work)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tinsert_by_date(parent, &work);",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": null,
          "new_api": "interp_set_entry",
          "old_text": null,
          "new_text": "interp_set_entry(table, ILEFT_RIGHT,\n\t\t\t (commit->object.flags & BOUNDARY)\n\t\t\t ? \"-\"\n\t\t\t : (commit->object.flags & SYMMETRIC_LEFT)\n\t\t\t ? \"<\"\n\t\t\t : \">\")",
          "old_line_content": "\t\t\t : (commit->object.flags & SYMMETRIC_LEFT)",
          "new_line_content": "\tinterp_set_entry(table, ILEFT_RIGHT,",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": null,
          "new_api": "commit_list_insert",
          "old_text": null,
          "new_text": "commit_list_insert(parent, &work)",
          "old_line_content": "\t\t\tparents=parents->next;",
          "new_line_content": "\t\t\t\t\t\tcommit_list_insert(parent, &work);",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(parents + i, sizeof(parents) - i - 1, \" %s\",\n\t\t\tsha1_to_hex(p->item->object.sha1))",
          "old_line_content": "",
          "new_line_content": "\t\ti += snprintf(parents + i, sizeof(parents) - i - 1, \" %s\",",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(p->item->object.sha1)",
          "old_line_content": "\tparents[1] = 0;",
          "new_line_content": "\t\t\tsha1_to_hex(p->item->object.sha1));",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": null,
          "new_api": "interp_set_entry",
          "old_text": null,
          "new_text": "interp_set_entry(table, IPARENTS, parents + 1)",
          "old_line_content": "\tfor (i = 0, p = commit->parents;",
          "new_line_content": "\tinterp_set_entry(table, IPARENTS, parents + 1);",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": null,
          "new_api": "setter",
          "old_text": null,
          "new_text": "setter(work_item, NULL)",
          "old_line_content": "}",
          "new_line_content": "\t\tsetter(work_item, NULL);",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(nodes)",
          "old_line_content": "/* merge-base stuff */",
          "new_line_content": "\tfree(nodes);",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": null,
          "new_api": "find_unique_abbrev",
          "old_text": null,
          "new_text": "find_unique_abbrev(p->item->object.sha1,\n\t\t\t\tDEFAULT_ABBREV)",
          "old_line_content": "",
          "new_line_content": "\t\t\tfind_unique_abbrev(p->item->object.sha1,",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "interp_set_entry",
          "old_text": null,
          "new_text": "interp_set_entry(table, IPARENTS_ABBREV, parents + 1)",
          "old_line_content": "\t\tint eol;",
          "new_line_content": "\tinterp_set_entry(table, IPARENTS_ABBREV, parents + 1);",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": null,
          "new_api": "xstrndup",
          "old_text": null,
          "new_text": "xstrndup(msg + i, eol - i)",
          "old_line_content": "\t\tif (i == eol) {",
          "new_line_content": "\t\t\ttable[ISUBJECT].value = xstrndup(msg + i, eol - i);",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": null,
          "new_api": "fill_person",
          "old_text": null,
          "new_text": "fill_person(table + ICOMMITTER_NAME,\n\t\t\t\t\tmsg + i + 10, eol - i - 10)",
          "old_line_content": "\t\t\ttable[IENCODING].value =",
          "new_line_content": "\t\t\tfill_person(table + ICOMMITTER_NAME,",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(msg + i, \"encoding \")",
          "old_line_content": "\t\ti = eol;",
          "new_line_content": "\t\telse if (!prefixcmp(msg + i, \"encoding \"))",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": null,
          "new_api": "xstrndup",
          "old_text": null,
          "new_text": "xstrndup(msg + i + 9, eol - i - 9)",
          "old_line_content": "\tif (msg[i])",
          "new_line_content": "\t\t\t\txstrndup(msg + i + 9, eol - i - 9);",
          "content_same": false
        },
        {
          "line": 919,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(table)",
          "old_line_content": "",
          "new_line_content": "\tfor (i = 0; i < ARRAY_SIZE(table); i++)",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": null,
          "new_api": "parse_commit",
          "old_text": null,
          "new_text": "parse_commit(one)",
          "old_line_content": "\tone->object.flags |= PARENT1;",
          "new_line_content": "\tparse_commit(one);",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": null,
          "new_api": "interp_set_entry",
          "old_text": null,
          "new_text": "interp_set_entry(table, i, \"<unknown>\")",
          "old_line_content": "\t\tchar *buf = *buf_p;",
          "new_line_content": "\t\t\tinterp_set_entry(table, i, \"<unknown>\");",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": null,
          "new_api": "parse_commit",
          "old_text": null,
          "new_text": "parse_commit(two)",
          "old_line_content": "\ttwo->object.flags |= PARENT2;",
          "new_line_content": "\tparse_commit(two);",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": null,
          "new_api": "insert_by_date",
          "old_text": null,
          "new_text": "insert_by_date(two, &list)",
          "old_line_content": "\t\tstruct commit *commit;",
          "new_line_content": "\tinsert_by_date(two, &list);",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": null,
          "new_api": "interpolate",
          "old_text": null,
          "new_text": "interpolate(buf, space, user_format,\n\t\t\t\t    table, ARRAY_SIZE(table))",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\tspace = interpolate(buf, space, user_format,",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": null,
          "new_api": "interesting",
          "old_text": null,
          "new_text": "interesting(list)",
          "old_line_content": "\t\tstruct commit_list *n;",
          "new_line_content": "\twhile (interesting(list)) {",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": null,
          "new_api": "xrealloc",
          "old_text": null,
          "new_text": "xrealloc(buf, space)",
          "old_line_content": "\t} while (1);",
          "new_line_content": "\t\tbuf = xrealloc(buf, space);",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(table)",
          "old_line_content": "}",
          "new_line_content": "\tinterp_clear_table(table, ARRAY_SIZE(table));",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(list)",
          "old_line_content": "\t\tflags = commit->object.flags & (PARENT1 | PARENT2 | STALE);",
          "new_line_content": "\t\tfree(list);",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(*buf_p)",
          "old_line_content": "static void pp_header(enum cmit_fmt fmt,",
          "new_line_content": "\treturn strlen(*buf_p);",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": null,
          "new_api": "insert_by_date",
          "old_text": null,
          "new_text": "insert_by_date(commit, &result)",
          "old_line_content": "\t\t\tflags |= STALE;",
          "new_line_content": "\t\t\t\tinsert_by_date(commit, &result);",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": null,
          "new_api": "parse_commit",
          "old_text": null,
          "new_text": "parse_commit(p)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tparse_commit(p);",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": null,
          "new_api": "insert_by_date",
          "old_text": null,
          "new_text": "insert_by_date(p, &list)",
          "old_line_content": "",
          "new_line_content": "\t\t\tinsert_by_date(p, &list);",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": null,
          "new_api": "get_one_line",
          "old_text": null,
          "new_text": "get_one_line(*msg_p, *len_p)",
          "old_line_content": "\t\tif (!linelen)",
          "new_line_content": "\t\tint linelen = get_one_line(*msg_p, *len_p);",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": null,
          "new_api": "free_commit_list",
          "old_text": null,
          "new_text": "free_commit_list(list)",
          "old_line_content": "\t\tstruct commit_list *n = list->next;",
          "new_line_content": "\tfree_commit_list(list);",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": null,
          "new_api": "insert_by_date",
          "old_text": null,
          "new_text": "insert_by_date(list->item, &result)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tinsert_by_date(list->item, &result);",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(list)",
          "old_line_content": "\treturn result;",
          "new_line_content": "\t\tfree(list);",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": null,
          "new_api": "ALLOC_GROW",
          "old_text": null,
          "new_text": "ALLOC_GROW(*buf_p, linelen + *ofs_p + 20, *space_p)",
          "old_line_content": "\t\tif (fmt == CMIT_FMT_RAW) {",
          "new_line_content": "\t\tALLOC_GROW(*buf_p, linelen + *ofs_p + 20, *space_p);",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(dst, line, linelen)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tmemcpy(dst, line, linelen);",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(line, \"parent \", 7)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tif (!memcmp(line, \"parent \", 7)) {",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"bad parent line in commit\")",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tdie(\"bad parent line in commit\");",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": null,
          "new_api": "merge_bases",
          "old_text": null,
          "new_text": "merge_bases(one, two)",
          "old_line_content": "\tif (!result || !result->next) {",
          "new_line_content": "\tresult = merge_bases(one, two);",
          "content_same": false
        },
        {
          "line": 1498,
          "old_api": null,
          "new_api": "clear_commit_marks",
          "old_text": null,
          "new_text": "clear_commit_marks(one, all_flags)",
          "old_line_content": "\t\treturn result;",
          "new_line_content": "\t\t\tclear_commit_marks(one, all_flags);",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": null,
          "new_api": "clear_commit_marks",
          "old_text": null,
          "new_text": "clear_commit_marks(two, all_flags)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tclear_commit_marks(two, all_flags);",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": null,
          "new_api": "ALLOC_GROW",
          "old_text": null,
          "new_text": "ALLOC_GROW(*buf_p, num, *space_p)",
          "old_line_content": "\t\t\tparents_shown = 1;",
          "new_line_content": "\t\t\tALLOC_GROW(*buf_p, num, *space_p);",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": null,
          "new_api": "add_merge_info",
          "old_text": null,
          "new_text": "add_merge_info(fmt, dst, commit, abbrev)",
          "old_line_content": "",
          "new_line_content": "\t\t\t*ofs_p += add_merge_info(fmt, dst, commit, abbrev);",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": null,
          "new_api": "clear_commit_marks",
          "old_text": null,
          "new_text": "clear_commit_marks(one, all_flags)",
          "old_line_content": "\t\tfor (j = i+1; j < cnt; j++) {",
          "new_line_content": "\tclear_commit_marks(one, all_flags);",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": null,
          "new_api": "clear_commit_marks",
          "old_text": null,
          "new_text": "clear_commit_marks(two, all_flags)",
          "old_line_content": "\t\t\tif (!rslt[i] || !rslt[j])",
          "new_line_content": "\tclear_commit_marks(two, all_flags);",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": null,
          "new_api": "ALLOC_GROW",
          "old_text": null,
          "new_text": "ALLOC_GROW(*buf_p, *ofs_p + len + 80, *space_p)",
          "old_line_content": "\t\t\t\t\t\tline + 7, dmode, encoding);",
          "new_line_content": "\t\t\tALLOC_GROW(*buf_p, *ofs_p + len + 80, *space_p);",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": null,
          "new_api": "add_user_info",
          "old_text": null,
          "new_text": "add_user_info(\"Author\", fmt, dst,\n\t\t\t\t\t\tline + 7, dmode, encoding)",
          "old_line_content": "",
          "new_line_content": "\t\t\t*ofs_p += add_user_info(\"Author\", fmt, dst,",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": null,
          "new_api": "merge_bases",
          "old_text": null,
          "new_text": "merge_bases(rslt[i], rslt[j])",
          "old_line_content": "\t\t\tfor (list = result; list; list = list->next) {",
          "new_line_content": "\t\t\tresult = merge_bases(rslt[i], rslt[j]);",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": null,
          "new_api": "clear_commit_marks",
          "old_text": null,
          "new_text": "clear_commit_marks(rslt[i], all_flags)",
          "old_line_content": "\t\t\t\tif (rslt[i] == list->item)",
          "new_line_content": "\t\t\tclear_commit_marks(rslt[i], all_flags);",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": null,
          "new_api": "clear_commit_marks",
          "old_text": null,
          "new_text": "clear_commit_marks(rslt[j], all_flags)",
          "old_line_content": "\t\t\t\t\trslt[i] = NULL;",
          "new_line_content": "\t\t\tclear_commit_marks(rslt[j], all_flags);",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(line, \"committer \", 10)",
          "old_line_content": "\t\t\tif (fmt == CMIT_FMT_EMAIL)",
          "new_line_content": "\t\tif (!memcmp(line, \"committer \", 10) &&",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "ALLOC_GROW",
          "old_text": null,
          "new_text": "ALLOC_GROW(*buf_p, *ofs_p + len + 80, *space_p)",
          "old_line_content": "\t\t\t\t\t\tline + 10, dmode, encoding);",
          "new_line_content": "\t\t\tALLOC_GROW(*buf_p, *ofs_p + len + 80, *space_p);",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": null,
          "new_api": "add_user_info",
          "old_text": null,
          "new_text": "add_user_info(\"Commit\", fmt, dst,\n\t\t\t\t\t\tline + 10, dmode, encoding)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t*ofs_p += add_user_info(\"Commit\", fmt, dst,",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1537,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(rslt)",
          "new_text": null,
          "old_line_content": "\tfree(rslt);",
          "new_line_content": "\t\tif (rslt[i])",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": "get_merge_bases",
          "new_api": null,
          "old_text": "get_merge_bases(commit, *reference, 1)",
          "new_text": null,
          "old_line_content": "\t\tbases = get_merge_bases(commit, *reference, 1);",
          "new_line_content": "\tint ret = 0;",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"not yet\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"not yet\");",
          "new_line_content": "\tif (num == 1)",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": "hashcmp",
          "new_api": null,
          "old_text": "hashcmp(commit->object.sha1, b->item->object.sha1)",
          "new_text": null,
          "old_line_content": "\t\tif (!hashcmp(commit->object.sha1, b->item->object.sha1)) {",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(title_alloc)",
          "new_text": null,
          "old_line_content": "\ttitle = xmalloc(title_alloc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": "free_commit_list",
          "new_api": null,
          "old_text": "free_commit_list(bases)",
          "new_text": null,
          "old_line_content": "\tfree_commit_list(bases);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": "is_empty_line",
          "new_api": null,
          "old_text": "is_empty_line(line, &linelen)",
          "new_text": null,
          "old_line_content": "\t\tif (!linelen || is_empty_line(line, &linelen))",
          "new_line_content": "\t\t*msg_p += linelen;",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": "xrealloc",
          "new_api": null,
          "old_text": "xrealloc(title, title_alloc)",
          "new_text": null,
          "old_line_content": "\t\t\ttitle = xrealloc(title, title_alloc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(title + title_len, line, linelen)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(title + title_len, line, linelen);",
          "new_line_content": "\t\t\tlen++;",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "bound_rfc2047",
          "new_api": null,
          "old_text": "bound_rfc2047(title_len, encoding)",
          "new_text": null,
          "old_line_content": "\tlen = bound_rfc2047(title_len, encoding)+ 1000;",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(subject)",
          "new_text": null,
          "old_line_content": "\t\tlen += strlen(subject);",
          "new_line_content": "\t/* Enough slop for the MIME header and rfc2047 */",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(after_subject)",
          "new_text": null,
          "old_line_content": "\t\tlen += strlen(after_subject);",
          "new_line_content": "\tif (subject)",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(encoding)",
          "new_text": null,
          "old_line_content": "\t\tlen += strlen(encoding);",
          "new_line_content": "\tif (after_subject)",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(*buf_p + *ofs_p, subject, len)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(*buf_p + *ofs_p, subject, len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(*buf_p + *ofs_p,\n\t\t\t\t   *space_p - *ofs_p,\n\t\t\t\t   header_fmt, encoding)",
          "new_text": null,
          "old_line_content": "\t\t*ofs_p += snprintf(*buf_p + *ofs_p,",
          "new_line_content": "\t\t\t\"MIME-Version: 1.0\\n\"",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(after_subject)",
          "new_text": null,
          "old_line_content": "\t\tlen = strlen(after_subject);",
          "new_line_content": "\t\t\t\t   header_fmt, encoding);",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(*buf_p + *ofs_p, after_subject, len)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(*buf_p + *ofs_p, after_subject, len);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "ALLOC_GROW",
          "new_api": null,
          "old_text": "ALLOC_GROW(*buf_p, *ofs_p + 20, *space_p)",
          "new_text": null,
          "old_line_content": "\t\tALLOC_GROW(*buf_p, *ofs_p + 20, *space_p);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": "get_one_line",
          "new_api": null,
          "old_text": "get_one_line(line, *len_p)",
          "new_text": null,
          "old_line_content": "\t\tint linelen = get_one_line(line, *len_p);",
          "new_line_content": "\tint first = 1;",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "is_empty_line",
          "new_api": null,
          "old_text": "is_empty_line(line, &linelen)",
          "new_text": null,
          "old_line_content": "\t\tif (is_empty_line(line, &linelen)) {",
          "new_line_content": "\t\tif (!linelen)",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "ALLOC_GROW",
          "new_api": null,
          "old_text": "ALLOC_GROW(*buf_p, *ofs_p + linelen + indent + 20, *space_p)",
          "new_text": null,
          "old_line_content": "\t\tALLOC_GROW(*buf_p, *ofs_p + linelen + indent + 20, *space_p);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(*buf_p + *ofs_p, ' ', indent)",
          "new_text": null,
          "old_line_content": "\t\t\tmemset(*buf_p + *ofs_p, ' ', indent);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": "format_commit_message",
          "new_api": null,
          "old_text": "format_commit_message(commit, msg, buf_p, space_p)",
          "new_text": null,
          "old_line_content": "\t\treturn format_commit_message(commit, msg, buf_p, space_p);",
          "new_line_content": "\tchar *buf;",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": "logmsg_reencode",
          "new_api": null,
          "old_text": "logmsg_reencode(commit, encoding)",
          "new_text": null,
          "old_line_content": "\treencoded = logmsg_reencode(commit, encoding);",
          "new_line_content": "\t\t    : git_commit_encoding);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "non_ascii",
          "new_api": null,
          "old_text": "non_ascii(ch)",
          "new_text": null,
          "old_line_content": "\t\t\telse if (non_ascii(ch)) {",
          "new_line_content": "\t\t\t\t    i + 1 < len && msg[i+1] == '\\n')",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": "pp_header",
          "new_api": null,
          "old_text": "pp_header(fmt, abbrev, dmode, encoding,\n\t\t  commit, &msg, &len,\n\t\t  &offset, buf_p, space_p)",
          "new_text": null,
          "old_line_content": "\tpp_header(fmt, abbrev, dmode, encoding,",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": "ALLOC_GROW",
          "new_api": null,
          "old_text": "ALLOC_GROW(*buf_p, offset + 20, *space_p)",
          "new_text": null,
          "old_line_content": "\t\tALLOC_GROW(*buf_p, offset + 20, *space_p);",
          "new_line_content": "\t\t  commit, &msg, &len,",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": "get_one_line",
          "new_api": null,
          "old_text": "get_one_line(msg, len)",
          "new_text": null,
          "old_line_content": "\t\tint linelen = get_one_line(msg, len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": "is_empty_line",
          "new_api": null,
          "old_text": "is_empty_line(msg, &ll)",
          "new_text": null,
          "old_line_content": "\t\tif (!is_empty_line(msg, &ll))",
          "new_line_content": "\t\tint ll = linelen;",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "pp_title_line",
          "new_api": null,
          "old_text": "pp_title_line(fmt, &msg, &len, &offset,\n\t\t\t      buf_p, space_p, indent,\n\t\t\t      subject, after_subject, encoding,\n\t\t\t      plain_non_ascii)",
          "new_text": null,
          "old_line_content": "\t\tpp_title_line(fmt, &msg, &len, &offset,",
          "new_line_content": "\t/* These formats treat the title line specially. */",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": "xstrdup",
          "new_api": null,
          "old_text": "xstrdup(commit->buffer)",
          "new_text": null,
          "old_line_content": "\t\tout = xstrdup(commit->buffer);",
          "new_line_content": "\t\tif (encoding) /* we'll strip encoding header later */",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": "pp_remainder",
          "new_api": null,
          "old_text": "pp_remainder(fmt, &msg, &len, &offset,\n\t\t\t     buf_p, space_p, indent)",
          "new_text": null,
          "old_line_content": "\t\tpp_remainder(fmt, &msg, &len, &offset,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": "reencode_string",
          "new_api": null,
          "old_text": "reencode_string(commit->buffer,\n\t\t\t\t      output_encoding, use_encoding)",
          "new_text": null,
          "old_line_content": "\t\tout = reencode_string(commit->buffer,",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(encoding)",
          "new_text": null,
          "old_line_content": "\tfree(encoding);",
          "new_line_content": "\tif (out)",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(msg[end - 1])",
          "new_text": null,
          "old_line_content": "\twhile (end > 0 && isspace(msg[end - 1]))",
          "new_line_content": "\tfor (end = 0; end < len && msg[end] != '<'; end++)",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(reencoded)",
          "new_text": null,
          "old_line_content": "\tfree(reencoded);",
          "new_line_content": "\tif (fmt == CMIT_FMT_EMAIL && offset <= beginning_of_body)",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": "xstrndup",
          "new_api": null,
          "old_text": "xstrndup(msg, end)",
          "new_text": null,
          "old_line_content": "\ttable[0].value = xstrndup(msg, end);",
          "new_line_content": "\tstart = end + 1;",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(top)",
          "new_text": null,
          "old_line_content": "\t\tfree(top);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "xstrndup",
          "new_api": null,
          "old_text": "xstrndup(msg + start, end - start)",
          "new_text": null,
          "old_line_content": "\ttable[1].value = xstrndup(msg + start, end - start);",
          "new_line_content": "\tif (end >= len)",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(msg + start, &ep, 10)",
          "new_text": null,
          "old_line_content": "\tdate = strtoul(msg + start, &ep, 10);",
          "new_line_content": "\t\t; /* do nothing */",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": "xstrndup",
          "new_api": null,
          "old_text": "xstrndup(msg + start, ep - (msg + start))",
          "new_text": null,
          "old_line_content": "\ttable[5].value = xstrndup(msg + start, ep - (msg + start));",
          "new_line_content": "\tif (msg + start == ep)",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "sort_in_topological_order_fn",
          "new_api": null,
          "old_text": "sort_in_topological_order_fn(list, lifo, topo_sort_default_setter,\n\t\t\t\t     topo_sort_default_getter)",
          "new_text": null,
          "old_line_content": "\tsort_in_topological_order_fn(list, lifo, topo_sort_default_setter,",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": "show_date",
          "new_api": null,
          "old_text": "show_date(date, tz, DATE_NORMAL)",
          "new_text": null,
          "old_line_content": "\tinterp_set_entry(table, 2, show_date(date, tz, DATE_NORMAL));",
          "new_line_content": "\t\t\ttz = -tz;",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": "show_date",
          "new_api": null,
          "old_text": "show_date(date, tz, DATE_RFC2822)",
          "new_text": null,
          "old_line_content": "\tinterp_set_entry(table, 3, show_date(date, tz, DATE_RFC2822));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": "show_date",
          "new_api": null,
          "old_text": "show_date(date, tz, DATE_RELATIVE)",
          "new_text": null,
          "old_line_content": "\tinterp_set_entry(table, 4, show_date(date, tz, DATE_RELATIVE));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(count, sizeof(*nodes))",
          "new_text": null,
          "old_line_content": "\tnodes = xcalloc(count, sizeof(*nodes));",
          "new_line_content": "\tif (!count)",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": "setter",
          "new_api": null,
          "old_text": "setter(next->item, next_nodes)",
          "new_text": null,
          "old_line_content": "\t\tsetter(next->item, next_nodes);",
          "new_line_content": "\tnext=*list;",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "getter",
          "new_api": null,
          "old_text": "getter(parent)",
          "new_text": null,
          "old_line_content": "\t\t\tstruct sort_node * pn = (struct sort_node *) getter(parent);",
          "new_line_content": "\t\tstruct commit_list * parents = next->item->parents;",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "getter",
          "new_api": null,
          "old_text": "getter(next->item)",
          "new_text": null,
          "old_line_content": "\t\tstruct sort_node * node = (struct sort_node *) getter(next->item);",
          "new_line_content": "\tnext=*list;",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(table)",
          "new_text": null,
          "old_line_content": "\tif (ILEFT_RIGHT + 1 != ARRAY_SIZE(table))",
          "new_line_content": "\tint i;",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"invalid interp table!\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"invalid interp table!\");",
          "new_line_content": "\tenum { HEADER, SUBJECT, BODY } state;",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": "sort_by_date",
          "new_api": null,
          "old_text": "sort_by_date(&work)",
          "new_text": null,
          "old_line_content": "\t\tsort_by_date(&work);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": "pop_commit",
          "new_api": null,
          "old_text": "pop_commit(&work)",
          "new_text": null,
          "old_line_content": "\t\tstruct commit * work_item = pop_commit(&work);",
          "new_line_content": "\tif (!lifo)",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": "interp_set_entry",
          "new_api": null,
          "old_text": "interp_set_entry(table, IGREEN, \"\\033[32m\")",
          "new_text": null,
          "old_line_content": "\tinterp_set_entry(table, IGREEN, \"\\033[32m\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": "interp_set_entry",
          "new_api": null,
          "old_text": "interp_set_entry(table, IBLUE, \"\\033[34m\")",
          "new_text": null,
          "old_line_content": "\tinterp_set_entry(table, IBLUE, \"\\033[34m\");",
          "new_line_content": "\t/* these are independent of the commit */",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": "getter",
          "new_api": null,
          "old_text": "getter(parent)",
          "new_text": null,
          "old_line_content": "\t\t\tstruct sort_node * pn = (struct sort_node *) getter(parent);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": "parse_object",
          "new_api": null,
          "old_text": "parse_object(commit->object.sha1)",
          "new_text": null,
          "old_line_content": "\t\tparse_object(commit->object.sha1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(commit->object.sha1)",
          "new_text": null,
          "old_line_content": "\tinterp_set_entry(table, IHASH, sha1_to_hex(commit->object.sha1));",
          "new_line_content": "\t/* these depend on the commit */",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": "interp_set_entry",
          "new_api": null,
          "old_text": "interp_set_entry(table, IHASH_ABBREV,\n\t\t\tfind_unique_abbrev(commit->object.sha1,\n\t\t\t\tDEFAULT_ABBREV))",
          "new_text": null,
          "old_line_content": "\tinterp_set_entry(table, IHASH_ABBREV,",
          "new_line_content": "\tif (!commit->object.parsed)",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": "find_unique_abbrev",
          "new_api": null,
          "old_text": "find_unique_abbrev(commit->tree->object.sha1,\n\t\t\t\tDEFAULT_ABBREV)",
          "new_text": null,
          "old_line_content": "\t\t\tfind_unique_abbrev(commit->tree->object.sha1,",
          "new_line_content": "\t\t\t\tDEFAULT_ABBREV));",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": "insert_by_date",
          "new_api": null,
          "old_text": "insert_by_date(parent, &work)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tinsert_by_date(parent, &work);",
          "new_line_content": "\t\t\t\tpn->indegree--;",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": "commit_list_insert",
          "new_api": null,
          "old_text": "commit_list_insert(parent, &work)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tcommit_list_insert(parent, &work);",
          "new_line_content": "\t\t\t\t\tif (!lifo)",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(parents + i, sizeof(parents) - i - 1, \" %s\",\n\t\t\tsha1_to_hex(p->item->object.sha1))",
          "new_text": null,
          "old_line_content": "\t\ti += snprintf(parents + i, sizeof(parents) - i - 1, \" %s\",",
          "new_line_content": "\tfor (i = 0, p = commit->parents;",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(p->item->object.sha1)",
          "new_text": null,
          "old_line_content": "\t\t\tsha1_to_hex(p->item->object.sha1));",
          "new_line_content": "\t\t\tp && i < sizeof(parents) - 1;",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "interp_set_entry",
          "new_api": null,
          "old_text": "interp_set_entry(table, IPARENTS, parents + 1)",
          "new_text": null,
          "old_line_content": "\tinterp_set_entry(table, IPARENTS, parents + 1);",
          "new_line_content": "\t\t\tp = p->next)",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": "setter",
          "new_api": null,
          "old_text": "setter(work_item, NULL)",
          "new_text": null,
          "old_line_content": "\t\tsetter(work_item, NULL);",
          "new_line_content": "\t\t*pptr = work_node->list_item;",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(nodes)",
          "new_text": null,
          "old_line_content": "\tfree(nodes);",
          "new_line_content": "\t\t*pptr = NULL;",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(parents + i, sizeof(parents) - i - 1, \" %s\",\n\t\t\tfind_unique_abbrev(p->item->object.sha1,\n\t\t\t\tDEFAULT_ABBREV))",
          "new_text": null,
          "old_line_content": "\t\ti += snprintf(parents + i, sizeof(parents) - i - 1, \" %s\",",
          "new_line_content": "\tfor (i = 0, p = commit->parents;",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": "find_unique_abbrev",
          "new_api": null,
          "old_text": "find_unique_abbrev(p->item->object.sha1,\n\t\t\t\tDEFAULT_ABBREV)",
          "new_text": null,
          "old_line_content": "\t\t\tfind_unique_abbrev(p->item->object.sha1,",
          "new_line_content": "\t\t\tp && i < sizeof(parents) - 1;",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": "xstrndup",
          "new_api": null,
          "old_text": "xstrndup(msg + i, eol - i)",
          "new_text": null,
          "old_line_content": "\t\t\ttable[ISUBJECT].value = xstrndup(msg + i, eol - i);",
          "new_line_content": "\t\t\t; /* do nothing */",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(msg + i, \"author \")",
          "new_text": null,
          "old_line_content": "\t\t} else if (!prefixcmp(msg + i, \"author \"))",
          "new_line_content": "\t\t\t/* strip empty lines */",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": "fill_person",
          "new_api": null,
          "old_text": "fill_person(table + IAUTHOR_NAME,\n\t\t\t\t\tmsg + i + 7, eol - i - 7)",
          "new_text": null,
          "old_line_content": "\t\t\tfill_person(table + IAUTHOR_NAME,",
          "new_line_content": "\t\t\twhile (msg[eol + 1] == '\\n')",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": "xstrndup",
          "new_api": null,
          "old_text": "xstrndup(msg + i + 9, eol - i - 9)",
          "new_text": null,
          "old_line_content": "\t\t\t\txstrndup(msg + i + 9, eol - i - 9);",
          "new_line_content": "\t\t\t\t\tmsg + i + 10, eol - i - 10);",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "commit_list_insert",
          "new_api": null,
          "old_text": "commit_list_insert(one, &result)",
          "new_text": null,
          "old_line_content": "\t\treturn commit_list_insert(one, &result);",
          "new_line_content": "\t\t/* We do not mark this even with RESULT so we do not",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": "xstrdup",
          "new_api": null,
          "old_text": "xstrdup(msg + i)",
          "new_text": null,
          "old_line_content": "\t\ttable[IBODY].value = xstrdup(msg + i);",
          "new_line_content": "\t\ti = eol;",
          "content_same": false
        },
        {
          "line": 916,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(table)",
          "new_text": null,
          "old_line_content": "\tfor (i = 0; i < ARRAY_SIZE(table); i++)",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": "parse_commit",
          "new_api": null,
          "old_text": "parse_commit(one)",
          "new_text": null,
          "old_line_content": "\tparse_commit(one);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": "insert_by_date",
          "new_api": null,
          "old_text": "insert_by_date(one, &list)",
          "new_text": null,
          "old_line_content": "\tinsert_by_date(one, &list);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "insert_by_date",
          "new_api": null,
          "old_text": "insert_by_date(two, &list)",
          "new_text": null,
          "old_line_content": "\tinsert_by_date(two, &list);",
          "new_line_content": "\tone->object.flags |= PARENT1;",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": "interpolate",
          "new_api": null,
          "old_text": "interpolate(buf, space, user_format,\n\t\t\t\t    table, ARRAY_SIZE(table))",
          "new_text": null,
          "old_line_content": "\t\tspace = interpolate(buf, space, user_format,",
          "new_line_content": "\t\tchar *buf = *buf_p;",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(table)",
          "new_text": null,
          "old_line_content": "\t\t\t\t    table, ARRAY_SIZE(table));",
          "new_line_content": "\t\tunsigned long space = *space_p;",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(table)",
          "new_text": null,
          "old_line_content": "\tinterp_clear_table(table, ARRAY_SIZE(table));",
          "new_line_content": "\t\t*buf_p = buf;",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(list)",
          "new_text": null,
          "old_line_content": "\t\tfree(list);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(*buf_p)",
          "new_text": null,
          "old_line_content": "\treturn strlen(*buf_p);",
          "new_line_content": "\t} while (1);",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": "insert_by_date",
          "new_api": null,
          "old_text": "insert_by_date(commit, &result)",
          "new_text": null,
          "old_line_content": "\t\t\t\tinsert_by_date(commit, &result);",
          "new_line_content": "\t\tif (flags == (PARENT1 | PARENT2)) {",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": "parse_commit",
          "new_api": null,
          "old_text": "parse_commit(p)",
          "new_text": null,
          "old_line_content": "\t\t\tparse_commit(p);",
          "new_line_content": "\t\t\tparents = parents->next;",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": "insert_by_date",
          "new_api": null,
          "old_text": "insert_by_date(p, &list)",
          "new_text": null,
          "old_line_content": "\t\t\tinsert_by_date(p, &list);",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": "get_one_line",
          "new_api": null,
          "old_text": "get_one_line(*msg_p, *len_p)",
          "new_text": null,
          "old_line_content": "\t\tint linelen = get_one_line(*msg_p, *len_p);",
          "new_line_content": "\tfor (;;) {",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": "free_commit_list",
          "new_api": null,
          "old_text": "free_commit_list(list)",
          "new_text": null,
          "old_line_content": "\tfree_commit_list(list);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": "insert_by_date",
          "new_api": null,
          "old_text": "insert_by_date(list->item, &result)",
          "new_text": null,
          "old_line_content": "\t\t\tinsert_by_date(list->item, &result);",
          "new_line_content": "\twhile (list) {",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(list)",
          "new_text": null,
          "old_line_content": "\t\tfree(list);",
          "new_line_content": "\t\tstruct commit_list *n = list->next;",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "ALLOC_GROW",
          "new_api": null,
          "old_text": "ALLOC_GROW(*buf_p, linelen + *ofs_p + 20, *space_p)",
          "new_text": null,
          "old_line_content": "\t\tALLOC_GROW(*buf_p, linelen + *ofs_p + 20, *space_p);",
          "new_line_content": "\t\t\t/* End of header */",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(dst, line, linelen)",
          "new_text": null,
          "old_line_content": "\t\t\tmemcpy(dst, line, linelen);",
          "new_line_content": "\t\tdst = *buf_p + *ofs_p;",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(line, \"parent \", 7)",
          "new_text": null,
          "old_line_content": "\t\tif (!memcmp(line, \"parent \", 7)) {",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"bad parent line in commit\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"bad parent line in commit\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1490,
          "old_api": "merge_bases",
          "new_api": null,
          "old_text": "merge_bases(one, two)",
          "new_text": null,
          "old_line_content": "\tresult = merge_bases(one, two);",
          "new_line_content": "\tstruct commit_list *result;",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": "clear_commit_marks",
          "new_api": null,
          "old_text": "clear_commit_marks(one, all_flags)",
          "new_text": null,
          "old_line_content": "\t\t\tclear_commit_marks(one, all_flags);",
          "new_line_content": "\t\treturn result;",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "clear_commit_marks",
          "new_api": null,
          "old_text": "clear_commit_marks(two, all_flags)",
          "new_text": null,
          "old_line_content": "\t\t\tclear_commit_marks(two, all_flags);",
          "new_line_content": "\tif (!result || !result->next) {",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "ALLOC_GROW",
          "new_api": null,
          "old_text": "ALLOC_GROW(*buf_p, num, *space_p)",
          "new_text": null,
          "old_line_content": "\t\t\tALLOC_GROW(*buf_p, num, *space_p);",
          "new_line_content": "\t\t\t\t;",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "add_merge_info",
          "new_api": null,
          "old_text": "add_merge_info(fmt, dst, commit, abbrev)",
          "new_text": null,
          "old_line_content": "\t\t\t*ofs_p += add_merge_info(fmt, dst, commit, abbrev);",
          "new_line_content": "\t\t\tnum = *ofs_p + num * 50 + 20;",
          "content_same": false
        },
        {
          "line": 1508,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(cnt, sizeof(*rslt))",
          "new_text": null,
          "old_line_content": "\trslt = xcalloc(cnt, sizeof(*rslt));",
          "new_line_content": "\t\tlist = list->next;",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(line, \"author \", 7)",
          "new_text": null,
          "old_line_content": "\t\tif (!memcmp(line, \"author \", 7)) {",
          "new_line_content": "\t\t * FULL shows both authors but not dates.",
          "content_same": false
        },
        {
          "line": 1513,
          "old_api": "clear_commit_marks",
          "new_api": null,
          "old_text": "clear_commit_marks(one, all_flags)",
          "new_text": null,
          "old_line_content": "\tclear_commit_marks(one, all_flags);",
          "new_line_content": "\t\trslt[i++] = list->item;",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": "ALLOC_GROW",
          "new_api": null,
          "old_text": "ALLOC_GROW(*buf_p, *ofs_p + len + 80, *space_p)",
          "new_text": null,
          "old_line_content": "\t\t\tALLOC_GROW(*buf_p, *ofs_p + len + 80, *space_p);",
          "new_line_content": "\t\t\tlen = linelen;",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "merge_bases",
          "new_api": null,
          "old_text": "merge_bases(rslt[i], rslt[j])",
          "new_text": null,
          "old_line_content": "\t\t\tresult = merge_bases(rslt[i], rslt[j]);",
          "new_line_content": "\t\tfor (j = i+1; j < cnt; j++) {",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": "clear_commit_marks",
          "new_api": null,
          "old_text": "clear_commit_marks(rslt[i], all_flags)",
          "new_text": null,
          "old_line_content": "\t\t\tclear_commit_marks(rslt[i], all_flags);",
          "new_line_content": "\t\t\tif (!rslt[i] || !rslt[j])",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "clear_commit_marks",
          "new_api": null,
          "old_text": "clear_commit_marks(rslt[j], all_flags)",
          "new_text": null,
          "old_line_content": "\t\t\tclear_commit_marks(rslt[j], all_flags);",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(line, \"committer \", 10)",
          "new_text": null,
          "old_line_content": "\t\tif (!memcmp(line, \"committer \", 10) &&",
          "new_line_content": "\t\t\t\t\t\tline + 7, dmode, encoding);",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": "bound_rfc2047",
          "new_api": null,
          "old_text": "bound_rfc2047(linelen, encoding)",
          "new_text": null,
          "old_line_content": "\t\t\t\tlen = bound_rfc2047(linelen, encoding);",
          "new_line_content": "\t\t    (fmt == CMIT_FMT_FULL || fmt == CMIT_FMT_FULLER)) {",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": "ALLOC_GROW",
          "new_api": null,
          "old_text": "ALLOC_GROW(*buf_p, *ofs_p + len + 80, *space_p)",
          "new_text": null,
          "old_line_content": "\t\t\tALLOC_GROW(*buf_p, *ofs_p + len + 80, *space_p);",
          "new_line_content": "\t\t\tlen = linelen;",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "insert_by_date",
          "new_api": null,
          "old_text": "insert_by_date(rslt[i], &result)",
          "new_text": null,
          "old_line_content": "\t\t\tinsert_by_date(rslt[i], &result);",
          "new_line_content": "\tresult = NULL;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 30,
      "total_additions": 111,
      "total_deletions": 111,
      "total_api_changes": 252
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 252,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          727
        ]
      }
    },
    "api_calls_before": 294,
    "api_calls_after": 294,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 1,
      "total_diff_lines": 17
    }
  }
}