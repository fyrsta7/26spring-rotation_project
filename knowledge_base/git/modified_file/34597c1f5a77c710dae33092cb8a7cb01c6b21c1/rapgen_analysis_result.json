{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/34597c1f5a77c710dae33092cb8a7cb01c6b21c1",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/34597c1f5a77c710dae33092cb8a7cb01c6b21c1/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/34597c1f5a77c710dae33092cb8a7cb01c6b21c1/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/34597c1f5a77c710dae33092cb8a7cb01c6b21c1/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 3764,
          "old_api": "xdi_diff_outf",
          "new_api": "sha1_to_hex",
          "old_text": "xdi_diff_outf(&mf1, &mf2, patch_id_consume, &data,\n\t\t\t      &xpp, &xecfg)",
          "new_text": "sha1_to_hex(p->two->sha1)",
          "old_line_content": "\t\txdi_diff_outf(&mf1, &mf2, patch_id_consume, &data,",
          "new_line_content": "\t\t\tgit_SHA1_Update(&ctx, sha1_to_hex(p->two->sha1), 40);",
          "content_same": false
        },
        {
          "line": 3847,
          "old_api": "show_numstat",
          "new_api": "memset",
          "old_text": "show_numstat(&diffstat, options)",
          "new_text": "memset(&diffstat, 0, sizeof(struct diffstat_t))",
          "old_line_content": "\t\t\tshow_numstat(&diffstat, options);",
          "new_line_content": "\t\tmemset(&diffstat, 0, sizeof(struct diffstat_t));",
          "content_same": false
        },
        {
          "line": 3851,
          "old_api": "show_shortstats",
          "new_api": "diff_flush_stat",
          "old_text": "show_shortstats(&diffstat, options)",
          "new_text": "diff_flush_stat(p, options, &diffstat)",
          "old_line_content": "\t\t\tshow_shortstats(&diffstat, options);",
          "new_line_content": "\t\t\t\tdiff_flush_stat(p, options, &diffstat);",
          "content_same": false
        },
        {
          "line": 3856,
          "old_api": "show_dirstat",
          "new_api": "show_stats",
          "old_text": "show_dirstat(options)",
          "new_text": "show_stats(&diffstat, options)",
          "old_line_content": "\t\tshow_dirstat(options);",
          "new_line_content": "\t\t\tshow_stats(&diffstat, options);",
          "content_same": false
        },
        {
          "line": 3858,
          "old_api": "is_summary_empty",
          "new_api": "show_shortstats",
          "old_text": "is_summary_empty(q)",
          "new_text": "show_shortstats(&diffstat, options)",
          "old_line_content": "\tif (output_format & DIFF_FORMAT_SUMMARY && !is_summary_empty(q)) {",
          "new_line_content": "\t\t\tshow_shortstats(&diffstat, options);",
          "content_same": false
        },
        {
          "line": 3867,
          "old_api": "DIFF_OPT_TST",
          "new_api": "diff_summary",
          "old_text": "DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)",
          "new_text": "diff_summary(options, q->queue[i])",
          "old_line_content": "\t    DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)) {",
          "new_line_content": "\t\t\tdiff_summary(options, q->queue[i]);",
          "content_same": false
        },
        {
          "line": 3874,
          "old_api": "fclose",
          "new_api": "DIFF_OPT_TST",
          "old_text": "fclose(options->file)",
          "new_text": "DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)",
          "old_line_content": "\t\t\tfclose(options->file);",
          "new_line_content": "\t    DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)) {",
          "content_same": false
        },
        {
          "line": 3881,
          "old_api": "check_pair_status",
          "new_api": "fclose",
          "old_text": "check_pair_status(p)",
          "new_text": "fclose(options->file)",
          "old_line_content": "\t\t\tif (check_pair_status(p))",
          "new_line_content": "\t\t\tfclose(options->file);",
          "content_same": false
        },
        {
          "line": 3882,
          "old_api": "diff_flush_patch",
          "new_api": "fopen",
          "old_text": "diff_flush_patch(p, options)",
          "new_text": "fopen(\"/dev/null\", \"w\")",
          "old_line_content": "\t\t\t\tdiff_flush_patch(p, options);",
          "new_line_content": "\t\toptions->file = fopen(\"/dev/null\", \"w\");",
          "content_same": false
        },
        {
          "line": 3900,
          "old_api": "diff_flush_patch",
          "new_api": "fputs",
          "old_text": "diff_flush_patch(p, options)",
          "new_text": "fputs(options->stat_sep, options->file)",
          "old_line_content": "\t\t\t\tdiff_flush_patch(p, options);",
          "new_line_content": "\t\t\t\tfputs(options->stat_sep, options->file);",
          "content_same": false
        },
        {
          "line": 3920,
          "old_api": "DIFF_OPT_TST",
          "new_api": "fclose",
          "old_text": "DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)",
          "new_text": "fclose(options->file)",
          "old_line_content": "\tif (DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)) {",
          "new_line_content": "\t\tfclose(options->file);",
          "content_same": false
        },
        {
          "line": 3976,
          "old_api": "diff_free_filepair",
          "new_api": "strchr",
          "old_text": "diff_free_filepair(p)",
          "new_text": "strchr(filter, DIFF_STATUS_FILTER_BROKEN)",
          "old_line_content": "\t\t\t\tdiff_free_filepair(p);",
          "new_line_content": "\t\t\t       strchr(filter, DIFF_STATUS_FILTER_BROKEN)) ||",
          "content_same": false
        },
        {
          "line": 4026,
          "old_api": "diff_filespec_is_identical",
          "new_api": "DIFF_FILE_VALID",
          "old_text": "diff_filespec_is_identical(p->one, p->two)",
          "new_text": "DIFF_FILE_VALID(p->one)",
          "old_line_content": "\t\t    !diff_filespec_is_identical(p->one, p->two)) /* (2) */",
          "new_line_content": "\t\tif (!DIFF_FILE_VALID(p->one) || /* (1) */",
          "content_same": false
        },
        {
          "line": 4027,
          "old_api": "diff_q",
          "new_api": "DIFF_FILE_VALID",
          "old_text": "diff_q(&outq, p)",
          "new_text": "DIFF_FILE_VALID(p->two)",
          "old_line_content": "\t\t\tdiff_q(&outq, p);",
          "new_line_content": "\t\t    !DIFF_FILE_VALID(p->two) ||",
          "content_same": false
        },
        {
          "line": 4034,
          "old_api": "DIFF_OPT_TST",
          "new_api": "diff_q",
          "old_text": "DIFF_OPT_TST(diffopt, NO_INDEX)",
          "new_text": "diff_q(&outq, p)",
          "old_line_content": "\t\t\tif (!DIFF_OPT_TST(diffopt, NO_INDEX))",
          "new_line_content": "\t\t\tdiff_q(&outq, p);",
          "content_same": false
        },
        {
          "line": 4080,
          "old_api": "diff_resolve_rename_copy",
          "new_api": "diffcore_rename",
          "old_text": "diff_resolve_rename_copy()",
          "new_text": "diffcore_rename(options)",
          "old_line_content": "\tdiff_resolve_rename_copy();",
          "new_line_content": "\t\tdiffcore_rename(options);",
          "content_same": false
        },
        {
          "line": 4084,
          "old_api": "DIFF_OPT_SET",
          "new_api": "diffcore_pickaxe",
          "old_text": "DIFF_OPT_SET(options, HAS_CHANGES)",
          "new_text": "diffcore_pickaxe(options->pickaxe, options->pickaxe_opts)",
          "old_line_content": "\t\tDIFF_OPT_SET(options, HAS_CHANGES);",
          "new_line_content": "\t\tdiffcore_pickaxe(options->pickaxe, options->pickaxe_opts);",
          "content_same": false
        },
        {
          "line": 4086,
          "old_api": "DIFF_OPT_CLR",
          "new_api": "diffcore_order",
          "old_text": "DIFF_OPT_CLR(options, HAS_CHANGES)",
          "new_text": "diffcore_order(options->orderfile)",
          "old_line_content": "\t\tDIFF_OPT_CLR(options, HAS_CHANGES);",
          "new_line_content": "\t\tdiffcore_order(options->orderfile);",
          "content_same": false
        },
        {
          "line": 4140,
          "old_api": "fill_filespec",
          "new_api": "strncmp",
          "old_text": "fill_filespec(one, sha1, mode)",
          "new_text": "strncmp(concatpath, options->prefix, options->prefix_length)",
          "old_line_content": "\t\tfill_filespec(one, sha1, mode);",
          "new_line_content": "\t    strncmp(concatpath, options->prefix, options->prefix_length))",
          "content_same": false
        },
        {
          "line": 4147,
          "old_api": "DIFF_OPT_TST",
          "new_api": "fill_filespec",
          "old_text": "DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)",
          "new_text": "fill_filespec(one, sha1, mode)",
          "old_line_content": "\tif (!DIFF_OPT_TST(options, DIFF_FROM_CONTENTS))",
          "new_line_content": "\t\tfill_filespec(one, sha1, mode);",
          "content_same": false
        },
        {
          "line": 4184,
          "old_api": "diff_queue",
          "new_api": "alloc_filespec",
          "old_text": "diff_queue(&diff_queued_diff, one, two)",
          "new_text": "alloc_filespec(concatpath)",
          "old_line_content": "\tdiff_queue(&diff_queued_diff, one, two);",
          "new_line_content": "\tone = alloc_filespec(concatpath);",
          "content_same": false
        },
        {
          "line": 4185,
          "old_api": "DIFF_OPT_TST",
          "new_api": "alloc_filespec",
          "old_text": "DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)",
          "new_text": "alloc_filespec(concatpath)",
          "old_line_content": "\tif (!DIFF_OPT_TST(options, DIFF_FROM_CONTENTS))",
          "new_line_content": "\ttwo = alloc_filespec(concatpath);",
          "content_same": false
        },
        {
          "line": 4186,
          "old_api": "DIFF_OPT_SET",
          "new_api": "fill_filespec",
          "old_text": "DIFF_OPT_SET(options, HAS_CHANGES)",
          "new_text": "fill_filespec(one, old_sha1, old_mode)",
          "old_line_content": "\t\tDIFF_OPT_SET(options, HAS_CHANGES);",
          "new_line_content": "\tfill_filespec(one, old_sha1, old_mode);",
          "content_same": false
        },
        {
          "line": 4231,
          "old_api": "close",
          "new_api": "start_command",
          "old_text": "close(child.out)",
          "new_text": "start_command(&child)",
          "old_line_content": "\tclose(child.out);",
          "new_line_content": "\tif (start_command(&child)) {",
          "content_same": false
        },
        {
          "line": 4238,
          "old_api": "remove_tempfile",
          "new_api": "close",
          "old_text": "remove_tempfile()",
          "new_text": "close(child.out)",
          "old_line_content": "\tremove_tempfile();",
          "new_line_content": "\tclose(child.out);",
          "content_same": false
        },
        {
          "line": 4240,
          "old_api": "strbuf_detach",
          "new_api": "finish_command",
          "old_text": "strbuf_detach(&buf, outsize)",
          "new_text": "finish_command(&child)",
          "old_line_content": "\treturn strbuf_detach(&buf, outsize);",
          "new_line_content": "\tif (finish_command(&child) || err) {",
          "content_same": false
        },
        {
          "line": 4261,
          "old_api": "notes_cache_get",
          "new_api": "diff_populate_filespec",
          "old_text": "notes_cache_get(driver->textconv_cache, df->sha1,\n\t\t\t\t\t  &size)",
          "new_text": "diff_populate_filespec(df, 0)",
          "old_line_content": "\t\t*outbuf = notes_cache_get(driver->textconv_cache, df->sha1,",
          "new_line_content": "\t\tif (diff_populate_filespec(df, 0))",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 4104,
          "old_api": null,
          "new_api": "DIFF_OPT_TST",
          "old_text": null,
          "new_text": "DIFF_OPT_TST(opt, EXIT_WITH_STATUS)",
          "old_line_content": "}",
          "new_line_content": "\tif (DIFF_OPT_TST(opt, EXIT_WITH_STATUS) &&",
          "content_same": false
        },
        {
          "line": 4105,
          "old_api": null,
          "new_api": "DIFF_OPT_TST",
          "old_text": null,
          "new_text": "DIFF_OPT_TST(opt, HAS_CHANGES)",
          "old_line_content": "",
          "new_line_content": "\t    DIFF_OPT_TST(opt, HAS_CHANGES))",
          "content_same": false
        },
        {
          "line": 4108,
          "old_api": null,
          "new_api": "DIFF_OPT_TST",
          "old_text": null,
          "new_text": "DIFF_OPT_TST(opt, CHECK_FAILED)",
          "old_line_content": "\t\t    const unsigned char *sha1,",
          "new_line_content": "\t    DIFF_OPT_TST(opt, CHECK_FAILED))",
          "content_same": false
        },
        {
          "line": 4120,
          "old_api": null,
          "new_api": "S_ISGITLINK",
          "old_text": null,
          "new_text": "S_ISGITLINK(mode)",
          "old_line_content": "\t * entries to the diff-core.  They will be prefixed",
          "new_line_content": "\tif (DIFF_OPT_TST(options, IGNORE_SUBMODULES) && S_ISGITLINK(mode))",
          "content_same": false
        },
        {
          "line": 4135,
          "old_api": null,
          "new_api": "DIFF_OPT_TST",
          "old_text": null,
          "new_text": "DIFF_OPT_TST(options, REVERSE_DIFF)",
          "old_line_content": "",
          "new_line_content": "\tif (DIFF_OPT_TST(options, REVERSE_DIFF))",
          "content_same": false
        },
        {
          "line": 4143,
          "old_api": null,
          "new_api": "alloc_filespec",
          "old_text": null,
          "new_text": "alloc_filespec(concatpath)",
          "old_line_content": "\t\ttwo->dirty_submodule = dirty_submodule;",
          "new_line_content": "\tone = alloc_filespec(concatpath);",
          "content_same": false
        },
        {
          "line": 4144,
          "old_api": null,
          "new_api": "alloc_filespec",
          "old_text": null,
          "new_text": "alloc_filespec(concatpath)",
          "old_line_content": "\t}",
          "new_line_content": "\ttwo = alloc_filespec(concatpath);",
          "content_same": false
        },
        {
          "line": 4149,
          "old_api": null,
          "new_api": "fill_filespec",
          "old_text": null,
          "new_text": "fill_filespec(two, sha1, mode)",
          "old_line_content": "}",
          "new_line_content": "\t\tfill_filespec(two, sha1, mode);",
          "content_same": false
        },
        {
          "line": 4153,
          "old_api": null,
          "new_api": "diff_queue",
          "old_text": null,
          "new_text": "diff_queue(&diff_queued_diff, one, two)",
          "old_line_content": "\t\t const unsigned char *old_sha1,",
          "new_line_content": "\tdiff_queue(&diff_queued_diff, one, two);",
          "content_same": false
        },
        {
          "line": 4154,
          "old_api": null,
          "new_api": "DIFF_OPT_TST",
          "old_text": null,
          "new_text": "DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)",
          "old_line_content": "\t\t const unsigned char *new_sha1,",
          "new_line_content": "\tif (!DIFF_OPT_TST(options, DIFF_FROM_CONTENTS))",
          "content_same": false
        },
        {
          "line": 4155,
          "old_api": null,
          "new_api": "DIFF_OPT_SET",
          "old_text": null,
          "new_text": "DIFF_OPT_SET(options, HAS_CHANGES)",
          "old_line_content": "\t\t const char *concatpath,",
          "new_line_content": "\t\tDIFF_OPT_SET(options, HAS_CHANGES);",
          "content_same": false
        },
        {
          "line": 4167,
          "old_api": null,
          "new_api": "S_ISGITLINK",
          "old_text": null,
          "new_text": "S_ISGITLINK(old_mode)",
          "old_line_content": "\t\ttmp = old_mode; old_mode = new_mode; new_mode = tmp;",
          "new_line_content": "\tif (DIFF_OPT_TST(options, IGNORE_SUBMODULES) && S_ISGITLINK(old_mode)",
          "content_same": false
        },
        {
          "line": 4168,
          "old_api": null,
          "new_api": "S_ISGITLINK",
          "old_text": null,
          "new_text": "S_ISGITLINK(new_mode)",
          "old_line_content": "\t\ttmp_c = old_sha1; old_sha1 = new_sha1; new_sha1 = tmp_c;",
          "new_line_content": "\t\t\t&& S_ISGITLINK(new_mode))",
          "content_same": false
        },
        {
          "line": 4171,
          "old_api": null,
          "new_api": "DIFF_OPT_TST",
          "old_text": null,
          "new_text": "DIFF_OPT_TST(options, REVERSE_DIFF)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (DIFF_OPT_TST(options, REVERSE_DIFF)) {",
          "content_same": false
        },
        {
          "line": 4181,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(concatpath, options->prefix, options->prefix_length)",
          "old_line_content": "\tone->dirty_submodule = old_dirty_submodule;",
          "new_line_content": "\t    strncmp(concatpath, options->prefix, options->prefix_length))",
          "content_same": false
        },
        {
          "line": 4187,
          "old_api": null,
          "new_api": "fill_filespec",
          "old_text": null,
          "new_text": "fill_filespec(two, new_sha1, new_mode)",
          "old_line_content": "}",
          "new_line_content": "\tfill_filespec(two, new_sha1, new_mode);",
          "content_same": false
        },
        {
          "line": 4191,
          "old_api": null,
          "new_api": "diff_queue",
          "old_text": null,
          "new_text": "diff_queue(&diff_queued_diff, one, two)",
          "old_line_content": "\t\t  unsigned mode, const unsigned char *sha1)",
          "new_line_content": "\tdiff_queue(&diff_queued_diff, one, two);",
          "content_same": false
        },
        {
          "line": 4192,
          "old_api": null,
          "new_api": "DIFF_OPT_TST",
          "old_text": null,
          "new_text": "DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)",
          "old_line_content": "{",
          "new_line_content": "\tif (!DIFF_OPT_TST(options, DIFF_FROM_CONTENTS))",
          "content_same": false
        },
        {
          "line": 4193,
          "old_api": null,
          "new_api": "DIFF_OPT_SET",
          "old_text": null,
          "new_text": "DIFF_OPT_SET(options, HAS_CHANGES)",
          "old_line_content": "\tstruct diff_filespec *one, *two;",
          "new_line_content": "\t\tDIFF_OPT_SET(options, HAS_CHANGES);",
          "content_same": false
        },
        {
          "line": 4203,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(path, options->prefix, options->prefix_length)",
          "old_line_content": "}",
          "new_line_content": "\t    strncmp(path, options->prefix, options->prefix_length))",
          "content_same": false
        },
        {
          "line": 4206,
          "old_api": null,
          "new_api": "alloc_filespec",
          "old_text": null,
          "new_text": "alloc_filespec(path)",
          "old_line_content": "\t\tsize_t *outsize)",
          "new_line_content": "\tone = alloc_filespec(path);",
          "content_same": false
        },
        {
          "line": 4207,
          "old_api": null,
          "new_api": "alloc_filespec",
          "old_text": null,
          "new_text": "alloc_filespec(path)",
          "old_line_content": "{",
          "new_line_content": "\ttwo = alloc_filespec(path);",
          "content_same": false
        },
        {
          "line": 4208,
          "old_api": null,
          "new_api": "fill_filespec",
          "old_text": null,
          "new_text": "fill_filespec(one, sha1, mode)",
          "old_line_content": "\tstruct diff_tempfile *temp;",
          "new_line_content": "\tfill_filespec(one, sha1, mode);",
          "content_same": false
        },
        {
          "line": 4209,
          "old_api": null,
          "new_api": "diff_queue",
          "old_text": null,
          "new_text": "diff_queue(&diff_queued_diff, one, two)",
          "old_line_content": "\tconst char *argv[3];",
          "new_line_content": "\tdiff_queue(&diff_queued_diff, one, two)->is_unmerged = 1;",
          "content_same": false
        },
        {
          "line": 4222,
          "old_api": null,
          "new_api": "prepare_temp_file",
          "old_text": null,
          "new_text": "prepare_temp_file(spec->path, spec)",
          "old_line_content": "\tchild.argv = argv;",
          "new_line_content": "\ttemp = prepare_temp_file(spec->path, spec);",
          "content_same": false
        },
        {
          "line": 4227,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&child, 0, sizeof(child))",
          "old_line_content": "\t}",
          "new_line_content": "\tmemset(&child, 0, sizeof(child));",
          "content_same": false
        },
        {
          "line": 4232,
          "old_api": null,
          "new_api": "remove_tempfile",
          "old_text": null,
          "new_text": "remove_tempfile()",
          "old_line_content": "",
          "new_line_content": "\t\tremove_tempfile();",
          "content_same": false
        },
        {
          "line": 4236,
          "old_api": null,
          "new_api": "strbuf_read",
          "old_text": null,
          "new_text": "strbuf_read(&buf, child.out, 0)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\tif (strbuf_read(&buf, child.out, 0) < 0)",
          "content_same": false
        },
        {
          "line": 4237,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"error reading from textconv command '%s'\", pgm)",
          "old_line_content": "\t}",
          "new_line_content": "\t\terr = error(\"error reading from textconv command '%s'\", pgm);",
          "content_same": false
        },
        {
          "line": 4241,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&buf)",
          "old_line_content": "}",
          "new_line_content": "\t\tstrbuf_release(&buf);",
          "content_same": false
        },
        {
          "line": 4242,
          "old_api": null,
          "new_api": "remove_tempfile",
          "old_text": null,
          "new_text": "remove_tempfile()",
          "old_line_content": "",
          "new_line_content": "\t\tremove_tempfile();",
          "content_same": false
        },
        {
          "line": 4245,
          "old_api": null,
          "new_api": "remove_tempfile",
          "old_text": null,
          "new_text": "remove_tempfile()",
          "old_line_content": "\t\t     char **outbuf)",
          "new_line_content": "\tremove_tempfile();",
          "content_same": false
        },
        {
          "line": 4247,
          "old_api": null,
          "new_api": "strbuf_detach",
          "old_text": null,
          "new_text": "strbuf_detach(&buf, outsize)",
          "old_line_content": "\tsize_t size;",
          "new_line_content": "\treturn strbuf_detach(&buf, outsize);",
          "content_same": false
        },
        {
          "line": 4257,
          "old_api": null,
          "new_api": "DIFF_FILE_VALID",
          "old_text": null,
          "new_text": "DIFF_FILE_VALID(df)",
          "old_line_content": "\t\treturn df->size;",
          "new_line_content": "\t\tif (!DIFF_FILE_VALID(df)) {",
          "content_same": false
        },
        {
          "line": 4262,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unable to read files to diff\")",
          "old_line_content": "\t\t\t\t\t  &size);",
          "new_line_content": "\t\t\tdie(\"unable to read files to diff\");",
          "content_same": false
        },
        {
          "line": 4268,
          "old_api": null,
          "new_api": "notes_cache_get",
          "old_text": null,
          "new_text": "notes_cache_get(driver->textconv_cache, df->sha1,\n\t\t\t\t\t  &size)",
          "old_line_content": "\tif (!*outbuf)",
          "new_line_content": "\t\t*outbuf = notes_cache_get(driver->textconv_cache, df->sha1,",
          "content_same": false
        },
        {
          "line": 3761,
          "old_api": null,
          "new_api": "diff_filespec_is_binary",
          "old_text": null,
          "new_text": "diff_filespec_is_binary(p->one)",
          "old_line_content": "\t\txpp.flags = 0;",
          "new_line_content": "\t\tif (diff_filespec_is_binary(p->one) ||",
          "content_same": false
        },
        {
          "line": 4274,
          "old_api": null,
          "new_api": "run_textconv",
          "old_text": null,
          "new_text": "run_textconv(driver->textconv, df, &size)",
          "old_line_content": "\t\t\t\tsize);",
          "new_line_content": "\t*outbuf = run_textconv(driver->textconv, df, &size);",
          "content_same": false
        },
        {
          "line": 3762,
          "old_api": null,
          "new_api": "diff_filespec_is_binary",
          "old_text": null,
          "new_text": "diff_filespec_is_binary(p->two)",
          "old_line_content": "\t\txecfg.ctxlen = 3;",
          "new_line_content": "\t\t    diff_filespec_is_binary(p->two)) {",
          "content_same": false
        },
        {
          "line": 4276,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unable to read files to diff\")",
          "old_line_content": "\t\t * we could save up changes and flush them all at the end,",
          "new_line_content": "\t\tdie(\"unable to read files to diff\");",
          "content_same": false
        },
        {
          "line": 3763,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(p->one->sha1)",
          "old_line_content": "\t\txecfg.flags = XDL_EMIT_FUNCNAMES;",
          "new_line_content": "\t\t\tgit_SHA1_Update(&ctx, sha1_to_hex(p->one->sha1), 40);",
          "content_same": false
        },
        {
          "line": 4280,
          "old_api": null,
          "new_api": "notes_cache_put",
          "old_text": null,
          "new_text": "notes_cache_put(driver->textconv_cache, df->sha1, *outbuf,\n\t\t\t\tsize)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tnotes_cache_put(driver->textconv_cache, df->sha1, *outbuf,",
          "content_same": false
        },
        {
          "line": 3771,
          "old_api": null,
          "new_api": "xdi_diff_outf",
          "old_text": null,
          "new_text": "xdi_diff_outf(&mf1, &mf2, patch_id_consume, &data,\n\t\t\t      &xpp, &xecfg)",
          "old_line_content": "",
          "new_line_content": "\t\txdi_diff_outf(&mf1, &mf2, patch_id_consume, &data,",
          "content_same": false
        },
        {
          "line": 3775,
          "old_api": null,
          "new_api": "git_SHA1_Final",
          "old_text": null,
          "new_text": "git_SHA1_Final(sha1, &ctx)",
          "old_line_content": "\tint i;",
          "new_line_content": "\tgit_SHA1_Final(sha1, &ctx);",
          "content_same": false
        },
        {
          "line": 4288,
          "old_api": null,
          "new_api": "notes_cache_write",
          "old_text": null,
          "new_text": "notes_cache_write(driver->textconv_cache)",
          "old_line_content": "",
          "new_line_content": "\t\tnotes_cache_write(driver->textconv_cache);",
          "content_same": false
        },
        {
          "line": 3783,
          "old_api": null,
          "new_api": "diff_get_patch_id",
          "old_text": null,
          "new_text": "diff_get_patch_id(options, sha1)",
          "old_line_content": "",
          "new_line_content": "\tint result = diff_get_patch_id(options, sha1);",
          "content_same": false
        },
        {
          "line": 3786,
          "old_api": null,
          "new_api": "diff_free_filepair",
          "old_text": null,
          "new_text": "diff_free_filepair(q->queue[i])",
          "old_line_content": "",
          "new_line_content": "\t\tdiff_free_filepair(q->queue[i]);",
          "content_same": false
        },
        {
          "line": 3788,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(q->queue)",
          "old_line_content": "{",
          "new_line_content": "\tfree(q->queue);",
          "content_same": false
        },
        {
          "line": 3789,
          "old_api": null,
          "new_api": "DIFF_QUEUE_CLEAR",
          "old_text": null,
          "new_text": "DIFF_QUEUE_CLEAR(q)",
          "old_line_content": "\tint i;",
          "new_line_content": "\tDIFF_QUEUE_CLEAR(q);",
          "content_same": false
        },
        {
          "line": 3838,
          "old_api": null,
          "new_api": "check_pair_status",
          "old_text": null,
          "new_text": "check_pair_status(p)",
          "old_line_content": "\t\tstruct diffstat_t diffstat;",
          "new_line_content": "\t\t\tif (check_pair_status(p))",
          "content_same": false
        },
        {
          "line": 3839,
          "old_api": null,
          "new_api": "flush_one_pair",
          "old_text": null,
          "new_text": "flush_one_pair(p, options)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tflush_one_pair(p, options);",
          "content_same": false
        },
        {
          "line": 3850,
          "old_api": null,
          "new_api": "check_pair_status",
          "old_text": null,
          "new_text": "check_pair_status(p)",
          "old_line_content": "\t\tif (output_format & DIFF_FORMAT_SHORTSTAT)",
          "new_line_content": "\t\t\tif (check_pair_status(p))",
          "content_same": false
        },
        {
          "line": 3854,
          "old_api": null,
          "new_api": "show_numstat",
          "old_text": null,
          "new_text": "show_numstat(&diffstat, options)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tshow_numstat(&diffstat, options);",
          "content_same": false
        },
        {
          "line": 3859,
          "old_api": null,
          "new_api": "free_diffstat_info",
          "old_text": null,
          "new_text": "free_diffstat_info(&diffstat)",
          "old_line_content": "\t\tfor (i = 0; i < q->nr; i++) {",
          "new_line_content": "\t\tfree_diffstat_info(&diffstat);",
          "content_same": false
        },
        {
          "line": 3863,
          "old_api": null,
          "new_api": "show_dirstat",
          "old_text": null,
          "new_text": "show_dirstat(options)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tshow_dirstat(options);",
          "content_same": false
        },
        {
          "line": 3865,
          "old_api": null,
          "new_api": "is_summary_empty",
          "old_text": null,
          "new_text": "is_summary_empty(q)",
          "old_line_content": "\tif (output_format & DIFF_FORMAT_NO_OUTPUT &&",
          "new_line_content": "\tif (output_format & DIFF_FORMAT_SUMMARY && !is_summary_empty(q)) {",
          "content_same": false
        },
        {
          "line": 3873,
          "old_api": null,
          "new_api": "DIFF_OPT_TST",
          "old_text": null,
          "new_text": "DIFF_OPT_TST(options, EXIT_WITH_STATUS)",
          "old_line_content": "\t\tif (options->close_file)",
          "new_line_content": "\t    DIFF_OPT_TST(options, EXIT_WITH_STATUS) &&",
          "content_same": false
        },
        {
          "line": 3884,
          "old_api": null,
          "new_api": "die_errno",
          "old_text": null,
          "new_text": "die_errno(\"Could not open /dev/null\")",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\tdie_errno(\"Could not open /dev/null\");",
          "content_same": false
        },
        {
          "line": 3888,
          "old_api": null,
          "new_api": "check_pair_status",
          "old_text": null,
          "new_text": "check_pair_status(p)",
          "old_line_content": "\tif (output_format & DIFF_FORMAT_PATCH) {",
          "new_line_content": "\t\t\tif (check_pair_status(p))",
          "content_same": false
        },
        {
          "line": 3889,
          "old_api": null,
          "new_api": "diff_flush_patch",
          "old_text": null,
          "new_text": "diff_flush_patch(p, options)",
          "old_line_content": "\t\tif (separator) {",
          "new_line_content": "\t\t\t\tdiff_flush_patch(p, options);",
          "content_same": false
        },
        {
          "line": 3897,
          "old_api": null,
          "new_api": "putc",
          "old_text": null,
          "new_text": "putc(options->line_termination, options->file)",
          "old_line_content": "\t\tfor (i = 0; i < q->nr; i++) {",
          "new_line_content": "\t\t\tputc(options->line_termination, options->file);",
          "content_same": false
        },
        {
          "line": 3906,
          "old_api": null,
          "new_api": "check_pair_status",
          "old_text": null,
          "new_text": "check_pair_status(p)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (check_pair_status(p))",
          "content_same": false
        },
        {
          "line": 3907,
          "old_api": null,
          "new_api": "diff_flush_patch",
          "old_text": null,
          "new_text": "diff_flush_patch(p, options)",
          "old_line_content": "\tfor (i = 0; i < q->nr; i++)",
          "new_line_content": "\t\t\t\tdiff_flush_patch(p, options);",
          "content_same": false
        },
        {
          "line": 3912,
          "old_api": null,
          "new_api": "format_callback",
          "old_text": null,
          "new_text": "options->format_callback(q, options, options->format_callback_data)",
          "old_line_content": "\tif (options->close_file)",
          "new_line_content": "\t\toptions->format_callback(q, options, options->format_callback_data);",
          "content_same": false
        },
        {
          "line": 3915,
          "old_api": null,
          "new_api": "diff_free_filepair",
          "old_text": null,
          "new_text": "diff_free_filepair(q->queue[i])",
          "old_line_content": "\t/*",
          "new_line_content": "\t\tdiff_free_filepair(q->queue[i]);",
          "content_same": false
        },
        {
          "line": 3917,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(q->queue)",
          "old_line_content": "\t * diff_addremove/diff_change does not set the bit when",
          "new_line_content": "\tfree(q->queue);",
          "content_same": false
        },
        {
          "line": 3918,
          "old_api": null,
          "new_api": "DIFF_QUEUE_CLEAR",
          "old_text": null,
          "new_text": "DIFF_QUEUE_CLEAR(q)",
          "old_line_content": "\t * DIFF_FROM_CONTENTS is in effect (e.g. with -w).",
          "new_line_content": "\tDIFF_QUEUE_CLEAR(q);",
          "content_same": false
        },
        {
          "line": 3927,
          "old_api": null,
          "new_api": "DIFF_OPT_TST",
          "old_text": null,
          "new_text": "DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)",
          "old_line_content": "",
          "new_line_content": "\tif (DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)) {",
          "content_same": false
        },
        {
          "line": 3929,
          "old_api": null,
          "new_api": "DIFF_OPT_SET",
          "old_text": null,
          "new_text": "DIFF_OPT_SET(options, HAS_CHANGES)",
          "old_line_content": "{",
          "new_line_content": "\t\t\tDIFF_OPT_SET(options, HAS_CHANGES);",
          "content_same": false
        },
        {
          "line": 3931,
          "old_api": null,
          "new_api": "DIFF_OPT_CLR",
          "old_text": null,
          "new_text": "DIFF_OPT_CLR(options, HAS_CHANGES)",
          "old_line_content": "\tstruct diff_queue_struct *q = &diff_queued_diff;",
          "new_line_content": "\t\t\tDIFF_OPT_CLR(options, HAS_CHANGES);",
          "content_same": false
        },
        {
          "line": 3940,
          "old_api": null,
          "new_api": "DIFF_QUEUE_CLEAR",
          "old_text": null,
          "new_text": "DIFF_QUEUE_CLEAR(&outq)",
          "old_line_content": "\t\tfor (i = found = 0; !found && i < q->nr; i++) {",
          "new_line_content": "\tDIFF_QUEUE_CLEAR(&outq);",
          "content_same": false
        },
        {
          "line": 3945,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(filter, DIFF_STATUS_FILTER_AON)",
          "old_line_content": "\t\t\t      (!p->score &&",
          "new_line_content": "\tif (strchr(filter, DIFF_STATUS_FILTER_AON)) {",
          "content_same": false
        },
        {
          "line": 3951,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(filter, DIFF_STATUS_FILTER_BROKEN)",
          "old_line_content": "\t\tif (found)",
          "new_line_content": "\t\t\t       strchr(filter, DIFF_STATUS_FILTER_BROKEN)) ||",
          "content_same": false
        },
        {
          "line": 3953,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(filter, DIFF_STATUS_MODIFIED)",
          "old_line_content": "",
          "new_line_content": "\t\t\t       strchr(filter, DIFF_STATUS_MODIFIED)))) ||",
          "content_same": false
        },
        {
          "line": 3955,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(filter, p->status)",
          "old_line_content": "\t\t * by copying the empty outq at the end of this",
          "new_line_content": "\t\t\t     strchr(filter, p->status)))",
          "content_same": false
        },
        {
          "line": 3967,
          "old_api": null,
          "new_api": "diff_free_filepair",
          "old_text": null,
          "new_text": "diff_free_filepair(q->queue[i])",
          "old_line_content": "\t\t\tif (((p->status == DIFF_STATUS_MODIFIED) &&",
          "new_line_content": "\t\t\tdiff_free_filepair(q->queue[i]);",
          "content_same": false
        },
        {
          "line": 3978,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(filter, DIFF_STATUS_MODIFIED)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t       strchr(filter, DIFF_STATUS_MODIFIED)))) ||",
          "content_same": false
        },
        {
          "line": 3980,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(filter, p->status)",
          "old_line_content": "\t*q = outq;",
          "new_line_content": "\t\t\t     strchr(filter, p->status)))",
          "content_same": false
        },
        {
          "line": 3981,
          "old_api": null,
          "new_api": "diff_q",
          "old_text": null,
          "new_text": "diff_q(&outq, p)",
          "old_line_content": "}",
          "new_line_content": "\t\t\t\tdiff_q(&outq, p);",
          "content_same": false
        },
        {
          "line": 3983,
          "old_api": null,
          "new_api": "diff_free_filepair",
          "old_text": null,
          "new_text": "diff_free_filepair(p)",
          "old_line_content": "/* Check whether two filespecs with the same mode and size are identical */",
          "new_line_content": "\t\t\t\tdiff_free_filepair(p);",
          "content_same": false
        },
        {
          "line": 3986,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(q->queue)",
          "old_line_content": "{",
          "new_line_content": "\tfree(q->queue);",
          "content_same": false
        },
        {
          "line": 3994,
          "old_api": null,
          "new_api": "S_ISGITLINK",
          "old_text": null,
          "new_text": "S_ISGITLINK(one->mode)",
          "old_line_content": "}",
          "new_line_content": "\tif (S_ISGITLINK(one->mode))",
          "content_same": false
        },
        {
          "line": 3996,
          "old_api": null,
          "new_api": "diff_populate_filespec",
          "old_text": null,
          "new_text": "diff_populate_filespec(one, 0)",
          "old_line_content": "static void diffcore_skip_stat_unmatch(struct diff_options *diffopt)",
          "new_line_content": "\tif (diff_populate_filespec(one, 0))",
          "content_same": false
        },
        {
          "line": 3998,
          "old_api": null,
          "new_api": "diff_populate_filespec",
          "old_text": null,
          "new_text": "diff_populate_filespec(two, 0)",
          "old_line_content": "\tint i;",
          "new_line_content": "\tif (diff_populate_filespec(two, 0))",
          "content_same": false
        },
        {
          "line": 4000,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(one->data, two->data, one->size)",
          "old_line_content": "\tstruct diff_queue_struct outq;",
          "new_line_content": "\treturn !memcmp(one->data, two->data, one->size);",
          "content_same": false
        },
        {
          "line": 4008,
          "old_api": null,
          "new_api": "DIFF_QUEUE_CLEAR",
          "old_text": null,
          "new_text": "DIFF_QUEUE_CLEAR(&outq)",
          "old_line_content": "\t\t *    always have both sides (iow, not create/delete),",
          "new_line_content": "\tDIFF_QUEUE_CLEAR(&outq);",
          "content_same": false
        },
        {
          "line": 4030,
          "old_api": null,
          "new_api": "diff_populate_filespec",
          "old_text": null,
          "new_text": "diff_populate_filespec(p->one, 1)",
          "old_line_content": "\t\t\t * The caller can subtract 1 from skip_stat_unmatch",
          "new_line_content": "\t\t    diff_populate_filespec(p->one, 1) ||",
          "content_same": false
        },
        {
          "line": 4031,
          "old_api": null,
          "new_api": "diff_populate_filespec",
          "old_text": null,
          "new_text": "diff_populate_filespec(p->two, 1)",
          "old_line_content": "\t\t\t * to determine how many paths were dirty only",
          "new_line_content": "\t\t    diff_populate_filespec(p->two, 1) ||",
          "content_same": false
        },
        {
          "line": 4033,
          "old_api": null,
          "new_api": "diff_filespec_is_identical",
          "old_text": null,
          "new_text": "diff_filespec_is_identical(p->one, p->two)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t    !diff_filespec_is_identical(p->one, p->two)) /* (2) */",
          "content_same": false
        },
        {
          "line": 4041,
          "old_api": null,
          "new_api": "DIFF_OPT_TST",
          "old_text": null,
          "new_text": "DIFF_OPT_TST(diffopt, NO_INDEX)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tif (!DIFF_OPT_TST(diffopt, NO_INDEX))",
          "content_same": false
        },
        {
          "line": 4043,
          "old_api": null,
          "new_api": "diff_free_filepair",
          "old_text": null,
          "new_text": "diff_free_filepair(p)",
          "old_line_content": "static int diffnamecmp(const void *a_, const void *b_)",
          "new_line_content": "\t\t\tdiff_free_filepair(p);",
          "content_same": false
        },
        {
          "line": 4046,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(q->queue)",
          "old_line_content": "\tconst struct diff_filepair *b = *((const struct diff_filepair **)b_);",
          "new_line_content": "\tfree(q->queue);",
          "content_same": false
        },
        {
          "line": 4058,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(name_a, name_b)",
          "old_line_content": "}",
          "new_line_content": "\treturn strcmp(name_a, name_b);",
          "content_same": false
        },
        {
          "line": 4064,
          "old_api": null,
          "new_api": "qsort",
          "old_text": null,
          "new_text": "qsort(q->queue, q->nr, sizeof(q->queue[0]), diffnamecmp)",
          "old_line_content": "\t */",
          "new_line_content": "\tqsort(q->queue, q->nr, sizeof(q->queue[0]), diffnamecmp);",
          "content_same": false
        },
        {
          "line": 4076,
          "old_api": null,
          "new_api": "diffcore_skip_stat_unmatch",
          "old_text": null,
          "new_text": "diffcore_skip_stat_unmatch(options)",
          "old_line_content": "\tif (options->pickaxe)",
          "new_line_content": "\t\tdiffcore_skip_stat_unmatch(options);",
          "content_same": false
        },
        {
          "line": 4078,
          "old_api": null,
          "new_api": "diffcore_break",
          "old_text": null,
          "new_text": "diffcore_break(options->break_opt)",
          "old_line_content": "\tif (options->orderfile)",
          "new_line_content": "\t\tdiffcore_break(options->break_opt);",
          "content_same": false
        },
        {
          "line": 4082,
          "old_api": null,
          "new_api": "diffcore_merge_broken",
          "old_text": null,
          "new_text": "diffcore_merge_broken()",
          "old_line_content": "",
          "new_line_content": "\t\tdiffcore_merge_broken();",
          "content_same": false
        },
        {
          "line": 4087,
          "old_api": null,
          "new_api": "diff_resolve_rename_copy",
          "old_text": null,
          "new_text": "diff_resolve_rename_copy()",
          "old_line_content": "",
          "new_line_content": "\tdiff_resolve_rename_copy();",
          "content_same": false
        },
        {
          "line": 4088,
          "old_api": null,
          "new_api": "diffcore_apply_filter",
          "old_text": null,
          "new_text": "diffcore_apply_filter(options->filter)",
          "old_line_content": "\tdiff_queued_diff.run = 1;",
          "new_line_content": "\tdiffcore_apply_filter(options->filter);",
          "content_same": false
        },
        {
          "line": 4090,
          "old_api": null,
          "new_api": "DIFF_OPT_TST",
          "old_text": null,
          "new_text": "DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)",
          "old_line_content": "",
          "new_line_content": "\tif (diff_queued_diff.nr && !DIFF_OPT_TST(options, DIFF_FROM_CONTENTS))",
          "content_same": false
        },
        {
          "line": 4091,
          "old_api": null,
          "new_api": "DIFF_OPT_SET",
          "old_text": null,
          "new_text": "DIFF_OPT_SET(options, HAS_CHANGES)",
          "old_line_content": "int diff_result_code(struct diff_options *opt, int status)",
          "new_line_content": "\t\tDIFF_OPT_SET(options, HAS_CHANGES);",
          "content_same": false
        },
        {
          "line": 4093,
          "old_api": null,
          "new_api": "DIFF_OPT_CLR",
          "old_text": null,
          "new_text": "DIFF_OPT_CLR(options, HAS_CHANGES)",
          "old_line_content": "\tint result = 0;",
          "new_line_content": "\t\tDIFF_OPT_CLR(options, HAS_CHANGES);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 4097,
          "old_api": "DIFF_OPT_TST",
          "new_api": null,
          "old_text": "DIFF_OPT_TST(opt, EXIT_WITH_STATUS)",
          "new_text": null,
          "old_line_content": "\tif (DIFF_OPT_TST(opt, EXIT_WITH_STATUS) &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4098,
          "old_api": "DIFF_OPT_TST",
          "new_api": null,
          "old_text": "DIFF_OPT_TST(opt, HAS_CHANGES)",
          "new_text": null,
          "old_line_content": "\t    DIFF_OPT_TST(opt, HAS_CHANGES))",
          "new_line_content": "int diff_result_code(struct diff_options *opt, int status)",
          "content_same": false
        },
        {
          "line": 4113,
          "old_api": "S_ISGITLINK",
          "new_api": null,
          "old_text": "S_ISGITLINK(mode)",
          "new_text": null,
          "old_line_content": "\tif (DIFF_OPT_TST(options, IGNORE_SUBMODULES) && S_ISGITLINK(mode))",
          "new_line_content": "void diff_addremove(struct diff_options *options,",
          "content_same": false
        },
        {
          "line": 4128,
          "old_api": "DIFF_OPT_TST",
          "new_api": null,
          "old_text": "DIFF_OPT_TST(options, REVERSE_DIFF)",
          "new_text": null,
          "old_line_content": "\tif (DIFF_OPT_TST(options, REVERSE_DIFF))",
          "new_line_content": "\t * with something like '=' or '*' (I haven't decided",
          "content_same": false
        },
        {
          "line": 4133,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(concatpath, options->prefix, options->prefix_length)",
          "new_text": null,
          "old_line_content": "\t    strncmp(concatpath, options->prefix, options->prefix_length))",
          "new_line_content": "\t * merged into rename/copy pairs as appropriate.",
          "content_same": false
        },
        {
          "line": 4136,
          "old_api": "alloc_filespec",
          "new_api": null,
          "old_text": "alloc_filespec(concatpath)",
          "new_text": null,
          "old_line_content": "\tone = alloc_filespec(concatpath);",
          "new_line_content": "\t\taddremove = (addremove == '+' ? '-' :",
          "content_same": false
        },
        {
          "line": 4137,
          "old_api": "alloc_filespec",
          "new_api": null,
          "old_text": "alloc_filespec(concatpath)",
          "new_text": null,
          "old_line_content": "\ttwo = alloc_filespec(concatpath);",
          "new_line_content": "\t\t\t     addremove == '-' ? '+' : addremove);",
          "content_same": false
        },
        {
          "line": 4142,
          "old_api": "fill_filespec",
          "new_api": null,
          "old_text": "fill_filespec(two, sha1, mode)",
          "new_text": null,
          "old_line_content": "\t\tfill_filespec(two, sha1, mode);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4146,
          "old_api": "diff_queue",
          "new_api": null,
          "old_text": "diff_queue(&diff_queued_diff, one, two)",
          "new_text": null,
          "old_line_content": "\tdiff_queue(&diff_queued_diff, one, two);",
          "new_line_content": "\tif (addremove != '+')",
          "content_same": false
        },
        {
          "line": 4148,
          "old_api": "DIFF_OPT_SET",
          "new_api": null,
          "old_text": "DIFF_OPT_SET(options, HAS_CHANGES)",
          "new_text": null,
          "old_line_content": "\t\tDIFF_OPT_SET(options, HAS_CHANGES);",
          "new_line_content": "\tif (addremove != '-') {",
          "content_same": false
        },
        {
          "line": 4160,
          "old_api": "S_ISGITLINK",
          "new_api": null,
          "old_text": "S_ISGITLINK(old_mode)",
          "new_text": null,
          "old_line_content": "\tif (DIFF_OPT_TST(options, IGNORE_SUBMODULES) && S_ISGITLINK(old_mode)",
          "new_line_content": "\t\t const unsigned char *old_sha1,",
          "content_same": false
        },
        {
          "line": 4161,
          "old_api": "S_ISGITLINK",
          "new_api": null,
          "old_text": "S_ISGITLINK(new_mode)",
          "new_text": null,
          "old_line_content": "\t\t\t&& S_ISGITLINK(new_mode))",
          "new_line_content": "\t\t const unsigned char *new_sha1,",
          "content_same": false
        },
        {
          "line": 4164,
          "old_api": "DIFF_OPT_TST",
          "new_api": null,
          "old_text": "DIFF_OPT_TST(options, REVERSE_DIFF)",
          "new_text": null,
          "old_line_content": "\tif (DIFF_OPT_TST(options, REVERSE_DIFF)) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4174,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(concatpath, options->prefix, options->prefix_length)",
          "new_text": null,
          "old_line_content": "\t    strncmp(concatpath, options->prefix, options->prefix_length))",
          "new_line_content": "\t\ttmp = old_mode; old_mode = new_mode; new_mode = tmp;",
          "content_same": false
        },
        {
          "line": 4177,
          "old_api": "alloc_filespec",
          "new_api": null,
          "old_text": "alloc_filespec(concatpath)",
          "new_text": null,
          "old_line_content": "\tone = alloc_filespec(concatpath);",
          "new_line_content": "\t\t\tnew_dirty_submodule = tmp;",
          "content_same": false
        },
        {
          "line": 4178,
          "old_api": "alloc_filespec",
          "new_api": null,
          "old_text": "alloc_filespec(concatpath)",
          "new_text": null,
          "old_line_content": "\ttwo = alloc_filespec(concatpath);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4179,
          "old_api": "fill_filespec",
          "new_api": null,
          "old_text": "fill_filespec(one, old_sha1, old_mode)",
          "new_text": null,
          "old_line_content": "\tfill_filespec(one, old_sha1, old_mode);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4180,
          "old_api": "fill_filespec",
          "new_api": null,
          "old_text": "fill_filespec(two, new_sha1, new_mode)",
          "new_text": null,
          "old_line_content": "\tfill_filespec(two, new_sha1, new_mode);",
          "new_line_content": "\tif (options->prefix &&",
          "content_same": false
        },
        {
          "line": 4196,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(path, options->prefix, options->prefix_length)",
          "new_text": null,
          "old_line_content": "\t    strncmp(path, options->prefix, options->prefix_length))",
          "new_line_content": "void diff_unmerge(struct diff_options *options,",
          "content_same": false
        },
        {
          "line": 4199,
          "old_api": "alloc_filespec",
          "new_api": null,
          "old_text": "alloc_filespec(path)",
          "new_text": null,
          "old_line_content": "\tone = alloc_filespec(path);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4200,
          "old_api": "alloc_filespec",
          "new_api": null,
          "old_text": "alloc_filespec(path)",
          "new_text": null,
          "old_line_content": "\ttwo = alloc_filespec(path);",
          "new_line_content": "\tstruct diff_filespec *one, *two;",
          "content_same": false
        },
        {
          "line": 4201,
          "old_api": "fill_filespec",
          "new_api": null,
          "old_text": "fill_filespec(one, sha1, mode)",
          "new_text": null,
          "old_line_content": "\tfill_filespec(one, sha1, mode);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4202,
          "old_api": "diff_queue",
          "new_api": null,
          "old_text": "diff_queue(&diff_queued_diff, one, two)",
          "new_text": null,
          "old_line_content": "\tdiff_queue(&diff_queued_diff, one, two)->is_unmerged = 1;",
          "new_line_content": "\tif (options->prefix &&",
          "content_same": false
        },
        {
          "line": 4215,
          "old_api": "prepare_temp_file",
          "new_api": null,
          "old_text": "prepare_temp_file(spec->path, spec)",
          "new_text": null,
          "old_line_content": "\ttemp = prepare_temp_file(spec->path, spec);",
          "new_line_content": "\tstruct diff_tempfile *temp;",
          "content_same": false
        },
        {
          "line": 4220,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&child, 0, sizeof(child))",
          "new_text": null,
          "old_line_content": "\tmemset(&child, 0, sizeof(child));",
          "new_line_content": "\tint err = 0;",
          "content_same": false
        },
        {
          "line": 4224,
          "old_api": "start_command",
          "new_api": null,
          "old_text": "start_command(&child)",
          "new_text": null,
          "old_line_content": "\tif (start_command(&child)) {",
          "new_line_content": "\t*arg++ = temp->name;",
          "content_same": false
        },
        {
          "line": 4225,
          "old_api": "remove_tempfile",
          "new_api": null,
          "old_text": "remove_tempfile()",
          "new_text": null,
          "old_line_content": "\t\tremove_tempfile();",
          "new_line_content": "\t*arg = NULL;",
          "content_same": false
        },
        {
          "line": 4229,
          "old_api": "strbuf_read",
          "new_api": null,
          "old_text": "strbuf_read(&buf, child.out, 0)",
          "new_text": null,
          "old_line_content": "\tif (strbuf_read(&buf, child.out, 0) < 0)",
          "new_line_content": "\tchild.argv = argv;",
          "content_same": false
        },
        {
          "line": 4230,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"error reading from textconv command '%s'\", pgm)",
          "new_text": null,
          "old_line_content": "\t\terr = error(\"error reading from textconv command '%s'\", pgm);",
          "new_line_content": "\tchild.out = -1;",
          "content_same": false
        },
        {
          "line": 4233,
          "old_api": "finish_command",
          "new_api": null,
          "old_text": "finish_command(&child)",
          "new_text": null,
          "old_line_content": "\tif (finish_command(&child) || err) {",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 4234,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&buf)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_release(&buf);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4235,
          "old_api": "remove_tempfile",
          "new_api": null,
          "old_text": "remove_tempfile()",
          "new_text": null,
          "old_line_content": "\t\tremove_tempfile();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4250,
          "old_api": "DIFF_FILE_VALID",
          "new_api": null,
          "old_text": "DIFF_FILE_VALID(df)",
          "new_text": null,
          "old_line_content": "\t\tif (!DIFF_FILE_VALID(df)) {",
          "new_line_content": "size_t fill_textconv(struct userdiff_driver *driver,",
          "content_same": false
        },
        {
          "line": 4254,
          "old_api": "diff_populate_filespec",
          "new_api": null,
          "old_text": "diff_populate_filespec(df, 0)",
          "new_text": null,
          "old_line_content": "\t\tif (diff_populate_filespec(df, 0))",
          "new_line_content": "\tsize_t size;",
          "content_same": false
        },
        {
          "line": 4255,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"unable to read files to diff\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"unable to read files to diff\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4267,
          "old_api": "run_textconv",
          "new_api": null,
          "old_text": "run_textconv(driver->textconv, df, &size)",
          "new_text": null,
          "old_line_content": "\t*outbuf = run_textconv(driver->textconv, df, &size);",
          "new_line_content": "\tif (driver->textconv_cache) {",
          "content_same": false
        },
        {
          "line": 4269,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"unable to read files to diff\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"unable to read files to diff\");",
          "new_line_content": "\t\t\t\t\t  &size);",
          "content_same": false
        },
        {
          "line": 4273,
          "old_api": "notes_cache_put",
          "new_api": null,
          "old_text": "notes_cache_put(driver->textconv_cache, df->sha1, *outbuf,\n\t\t\t\tsize)",
          "new_text": null,
          "old_line_content": "\t\tnotes_cache_put(driver->textconv_cache, df->sha1, *outbuf,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3768,
          "old_api": "git_SHA1_Final",
          "new_api": null,
          "old_text": "git_SHA1_Final(sha1, &ctx)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Final(sha1, &ctx);",
          "new_line_content": "\t\txpp.flags = 0;",
          "content_same": false
        },
        {
          "line": 4281,
          "old_api": "notes_cache_write",
          "new_api": null,
          "old_text": "notes_cache_write(driver->textconv_cache)",
          "new_text": null,
          "old_line_content": "\t\tnotes_cache_write(driver->textconv_cache);",
          "new_line_content": "\t\t\t\tsize);",
          "content_same": false
        },
        {
          "line": 3776,
          "old_api": "diff_get_patch_id",
          "new_api": null,
          "old_text": "diff_get_patch_id(options, sha1)",
          "new_text": null,
          "old_line_content": "\tint result = diff_get_patch_id(options, sha1);",
          "new_line_content": "\treturn 0;",
          "content_same": false
        },
        {
          "line": 3779,
          "old_api": "diff_free_filepair",
          "new_api": null,
          "old_text": "diff_free_filepair(q->queue[i])",
          "new_text": null,
          "old_line_content": "\t\tdiff_free_filepair(q->queue[i]);",
          "new_line_content": "int diff_flush_patch_id(struct diff_options *options, unsigned char *sha1)",
          "content_same": false
        },
        {
          "line": 3781,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(q->queue)",
          "new_text": null,
          "old_line_content": "\tfree(q->queue);",
          "new_line_content": "\tstruct diff_queue_struct *q = &diff_queued_diff;",
          "content_same": false
        },
        {
          "line": 3782,
          "old_api": "DIFF_QUEUE_CLEAR",
          "new_api": null,
          "old_text": "DIFF_QUEUE_CLEAR(q)",
          "new_text": null,
          "old_line_content": "\tDIFF_QUEUE_CLEAR(q);",
          "new_line_content": "\tint i;",
          "content_same": false
        },
        {
          "line": 3831,
          "old_api": "check_pair_status",
          "new_api": null,
          "old_text": "check_pair_status(p)",
          "new_text": null,
          "old_line_content": "\t\t\tif (check_pair_status(p))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3832,
          "old_api": "flush_one_pair",
          "new_api": null,
          "old_text": "flush_one_pair(p, options)",
          "new_text": null,
          "old_line_content": "\t\t\t\tflush_one_pair(p, options);",
          "new_line_content": "\tif (output_format & (DIFF_FORMAT_RAW |",
          "content_same": false
        },
        {
          "line": 3840,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&diffstat, 0, sizeof(struct diffstat_t))",
          "new_text": null,
          "old_line_content": "\t\tmemset(&diffstat, 0, sizeof(struct diffstat_t));",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3843,
          "old_api": "check_pair_status",
          "new_api": null,
          "old_text": "check_pair_status(p)",
          "new_text": null,
          "old_line_content": "\t\t\tif (check_pair_status(p))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3844,
          "old_api": "diff_flush_stat",
          "new_api": null,
          "old_text": "diff_flush_stat(p, options, &diffstat)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdiff_flush_stat(p, options, &diffstat);",
          "new_line_content": "\tif (output_format & (DIFF_FORMAT_DIFFSTAT|DIFF_FORMAT_SHORTSTAT|DIFF_FORMAT_NUMSTAT)) {",
          "content_same": false
        },
        {
          "line": 3849,
          "old_api": "show_stats",
          "new_api": null,
          "old_text": "show_stats(&diffstat, options)",
          "new_text": null,
          "old_line_content": "\t\t\tshow_stats(&diffstat, options);",
          "new_line_content": "\t\t\tstruct diff_filepair *p = q->queue[i];",
          "content_same": false
        },
        {
          "line": 3852,
          "old_api": "free_diffstat_info",
          "new_api": null,
          "old_text": "free_diffstat_info(&diffstat)",
          "new_text": null,
          "old_line_content": "\t\tfree_diffstat_info(&diffstat);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3860,
          "old_api": "diff_summary",
          "new_api": null,
          "old_text": "diff_summary(options, q->queue[i])",
          "new_text": null,
          "old_line_content": "\t\t\tdiff_summary(options, q->queue[i]);",
          "new_line_content": "\t\tseparator++;",
          "content_same": false
        },
        {
          "line": 3866,
          "old_api": "DIFF_OPT_TST",
          "new_api": null,
          "old_text": "DIFF_OPT_TST(options, EXIT_WITH_STATUS)",
          "new_text": null,
          "old_line_content": "\t    DIFF_OPT_TST(options, EXIT_WITH_STATUS) &&",
          "new_line_content": "\t\tfor (i = 0; i < q->nr; i++) {",
          "content_same": false
        },
        {
          "line": 3875,
          "old_api": "fopen",
          "new_api": null,
          "old_text": "fopen(\"/dev/null\", \"w\")",
          "new_text": null,
          "old_line_content": "\t\toptions->file = fopen(\"/dev/null\", \"w\");",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 3877,
          "old_api": "die_errno",
          "new_api": null,
          "old_text": "die_errno(\"Could not open /dev/null\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie_errno(\"Could not open /dev/null\");",
          "new_line_content": "\t\t * options->file to /dev/null should be safe, becaue we",
          "content_same": false
        },
        {
          "line": 3890,
          "old_api": "putc",
          "new_api": null,
          "old_text": "putc(options->line_termination, options->file)",
          "new_text": null,
          "old_line_content": "\t\t\tputc(options->line_termination, options->file);",
          "new_line_content": "\t\t\tif (options->found_changes)",
          "content_same": false
        },
        {
          "line": 3893,
          "old_api": "fputs",
          "new_api": null,
          "old_text": "fputs(options->stat_sep, options->file)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfputs(options->stat_sep, options->file);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3899,
          "old_api": "check_pair_status",
          "new_api": null,
          "old_text": "check_pair_status(p)",
          "new_text": null,
          "old_line_content": "\t\t\tif (check_pair_status(p))",
          "new_line_content": "\t\t\t\t/* attach patch instead of inline */",
          "content_same": false
        },
        {
          "line": 3905,
          "old_api": "format_callback",
          "new_api": null,
          "old_text": "options->format_callback(q, options, options->format_callback_data)",
          "new_text": null,
          "old_line_content": "\t\toptions->format_callback(q, options, options->format_callback_data);",
          "new_line_content": "\t\t\tstruct diff_filepair *p = q->queue[i];",
          "content_same": false
        },
        {
          "line": 3908,
          "old_api": "diff_free_filepair",
          "new_api": null,
          "old_text": "diff_free_filepair(q->queue[i])",
          "new_text": null,
          "old_line_content": "\t\tdiff_free_filepair(q->queue[i]);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3910,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(q->queue)",
          "new_text": null,
          "old_line_content": "\tfree(q->queue);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3911,
          "old_api": "DIFF_QUEUE_CLEAR",
          "new_api": null,
          "old_text": "DIFF_QUEUE_CLEAR(q)",
          "new_text": null,
          "old_line_content": "\tDIFF_QUEUE_CLEAR(q);",
          "new_line_content": "\tif (output_format & DIFF_FORMAT_CALLBACK)",
          "content_same": false
        },
        {
          "line": 3913,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(options->file)",
          "new_text": null,
          "old_line_content": "\t\tfclose(options->file);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3922,
          "old_api": "DIFF_OPT_SET",
          "new_api": null,
          "old_text": "DIFF_OPT_SET(options, HAS_CHANGES)",
          "new_text": null,
          "old_line_content": "\t\t\tDIFF_OPT_SET(options, HAS_CHANGES);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 3924,
          "old_api": "DIFF_OPT_CLR",
          "new_api": null,
          "old_text": "DIFF_OPT_CLR(options, HAS_CHANGES)",
          "new_text": null,
          "old_line_content": "\t\t\tDIFF_OPT_CLR(options, HAS_CHANGES);",
          "new_line_content": "\t * diff_addremove/diff_change does not set the bit when",
          "content_same": false
        },
        {
          "line": 3933,
          "old_api": "DIFF_QUEUE_CLEAR",
          "new_api": null,
          "old_text": "DIFF_QUEUE_CLEAR(&outq)",
          "new_text": null,
          "old_line_content": "\tDIFF_QUEUE_CLEAR(&outq);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3938,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(filter, DIFF_STATUS_FILTER_AON)",
          "new_text": null,
          "old_line_content": "\tif (strchr(filter, DIFF_STATUS_FILTER_AON)) {",
          "new_line_content": "\tstruct diff_queue_struct *q = &diff_queued_diff;",
          "content_same": false
        },
        {
          "line": 3944,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(filter, DIFF_STATUS_FILTER_BROKEN)",
          "new_text": null,
          "old_line_content": "\t\t\t       strchr(filter, DIFF_STATUS_FILTER_BROKEN)) ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3946,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(filter, DIFF_STATUS_MODIFIED)",
          "new_text": null,
          "old_line_content": "\t\t\t       strchr(filter, DIFF_STATUS_MODIFIED)))) ||",
          "new_line_content": "\t\tint found;",
          "content_same": false
        },
        {
          "line": 3948,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(filter, p->status)",
          "new_text": null,
          "old_line_content": "\t\t\t     strchr(filter, p->status)))",
          "new_line_content": "\t\t\tstruct diff_filepair *p = q->queue[i];",
          "content_same": false
        },
        {
          "line": 3960,
          "old_api": "diff_free_filepair",
          "new_api": null,
          "old_text": "diff_free_filepair(q->queue[i])",
          "new_text": null,
          "old_line_content": "\t\t\tdiff_free_filepair(q->queue[i]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3969,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(filter, DIFF_STATUS_FILTER_BROKEN)",
          "new_text": null,
          "old_line_content": "\t\t\t       strchr(filter, DIFF_STATUS_FILTER_BROKEN)) ||",
          "new_line_content": "\telse {",
          "content_same": false
        },
        {
          "line": 3971,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(filter, DIFF_STATUS_MODIFIED)",
          "new_text": null,
          "old_line_content": "\t\t\t       strchr(filter, DIFF_STATUS_MODIFIED)))) ||",
          "new_line_content": "\t\tfor (i = 0; i < q->nr; i++) {",
          "content_same": false
        },
        {
          "line": 3973,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(filter, p->status)",
          "new_text": null,
          "old_line_content": "\t\t\t     strchr(filter, p->status)))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3974,
          "old_api": "diff_q",
          "new_api": null,
          "old_text": "diff_q(&outq, p)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdiff_q(&outq, p);",
          "new_line_content": "\t\t\tif (((p->status == DIFF_STATUS_MODIFIED) &&",
          "content_same": false
        },
        {
          "line": 3979,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(q->queue)",
          "new_text": null,
          "old_line_content": "\tfree(q->queue);",
          "new_line_content": "\t\t\t    ((p->status != DIFF_STATUS_MODIFIED) &&",
          "content_same": false
        },
        {
          "line": 3987,
          "old_api": "S_ISGITLINK",
          "new_api": null,
          "old_text": "S_ISGITLINK(one->mode)",
          "new_text": null,
          "old_line_content": "\tif (S_ISGITLINK(one->mode))",
          "new_line_content": "\t*q = outq;",
          "content_same": false
        },
        {
          "line": 3989,
          "old_api": "diff_populate_filespec",
          "new_api": null,
          "old_text": "diff_populate_filespec(one, 0)",
          "new_text": null,
          "old_line_content": "\tif (diff_populate_filespec(one, 0))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3991,
          "old_api": "diff_populate_filespec",
          "new_api": null,
          "old_text": "diff_populate_filespec(two, 0)",
          "new_text": null,
          "old_line_content": "\tif (diff_populate_filespec(two, 0))",
          "new_line_content": "static int diff_filespec_is_identical(struct diff_filespec *one,",
          "content_same": false
        },
        {
          "line": 3993,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(one->data, two->data, one->size)",
          "new_text": null,
          "old_line_content": "\treturn !memcmp(one->data, two->data, one->size);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4001,
          "old_api": "DIFF_QUEUE_CLEAR",
          "new_api": null,
          "old_text": "DIFF_QUEUE_CLEAR(&outq)",
          "new_text": null,
          "old_line_content": "\tDIFF_QUEUE_CLEAR(&outq);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4019,
          "old_api": "DIFF_FILE_VALID",
          "new_api": null,
          "old_text": "DIFF_FILE_VALID(p->one)",
          "new_text": null,
          "old_line_content": "\t\tif (!DIFF_FILE_VALID(p->one) || /* (1) */",
          "new_line_content": "\t\t *    differences.",
          "content_same": false
        },
        {
          "line": 4020,
          "old_api": "DIFF_FILE_VALID",
          "new_api": null,
          "old_text": "DIFF_FILE_VALID(p->two)",
          "new_text": null,
          "old_line_content": "\t\t    !DIFF_FILE_VALID(p->two) ||",
          "new_line_content": "\t\t *",
          "content_same": false
        },
        {
          "line": 4023,
          "old_api": "diff_populate_filespec",
          "new_api": null,
          "old_text": "diff_populate_filespec(p->one, 1)",
          "new_text": null,
          "old_line_content": "\t\t    diff_populate_filespec(p->one, 1) ||",
          "new_line_content": "\t\t *    name of one side is unknown.  Need to inspect",
          "content_same": false
        },
        {
          "line": 4024,
          "old_api": "diff_populate_filespec",
          "new_api": null,
          "old_text": "diff_populate_filespec(p->two, 1)",
          "new_text": null,
          "old_line_content": "\t\t    diff_populate_filespec(p->two, 1) ||",
          "new_line_content": "\t\t *    the identical contents.",
          "content_same": false
        },
        {
          "line": 4036,
          "old_api": "diff_free_filepair",
          "new_api": null,
          "old_text": "diff_free_filepair(p)",
          "new_text": null,
          "old_line_content": "\t\t\tdiff_free_filepair(p);",
          "new_line_content": "\t\t\t/*",
          "content_same": false
        },
        {
          "line": 4039,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(q->queue)",
          "new_text": null,
          "old_line_content": "\tfree(q->queue);",
          "new_line_content": "\t\t\t * due to stat info mismatch.",
          "content_same": false
        },
        {
          "line": 4051,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(name_a, name_b)",
          "new_text": null,
          "old_line_content": "\treturn strcmp(name_a, name_b);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4057,
          "old_api": "qsort",
          "new_api": null,
          "old_text": "qsort(q->queue, q->nr, sizeof(q->queue[0]), diffnamecmp)",
          "new_text": null,
          "old_line_content": "\tqsort(q->queue, q->nr, sizeof(q->queue[0]), diffnamecmp);",
          "new_line_content": "\tname_b = b->one ? b->one->path : b->two->path;",
          "content_same": false
        },
        {
          "line": 4069,
          "old_api": "diffcore_skip_stat_unmatch",
          "new_api": null,
          "old_text": "diffcore_skip_stat_unmatch(options)",
          "new_text": null,
          "old_line_content": "\t\tdiffcore_skip_stat_unmatch(options);",
          "new_line_content": "\t/* We never run this function more than one time, because the",
          "content_same": false
        },
        {
          "line": 4071,
          "old_api": "diffcore_break",
          "new_api": null,
          "old_text": "diffcore_break(options->break_opt)",
          "new_text": null,
          "old_line_content": "\t\tdiffcore_break(options->break_opt);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4073,
          "old_api": "diffcore_rename",
          "new_api": null,
          "old_text": "diffcore_rename(options)",
          "new_text": null,
          "old_line_content": "\t\tdiffcore_rename(options);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 4075,
          "old_api": "diffcore_merge_broken",
          "new_api": null,
          "old_text": "diffcore_merge_broken()",
          "new_text": null,
          "old_line_content": "\t\tdiffcore_merge_broken();",
          "new_line_content": "\tif (options->skip_stat_unmatch)",
          "content_same": false
        },
        {
          "line": 4077,
          "old_api": "diffcore_pickaxe",
          "new_api": null,
          "old_text": "diffcore_pickaxe(options->pickaxe, options->pickaxe_opts)",
          "new_text": null,
          "old_line_content": "\t\tdiffcore_pickaxe(options->pickaxe, options->pickaxe_opts);",
          "new_line_content": "\tif (options->break_opt != -1)",
          "content_same": false
        },
        {
          "line": 4079,
          "old_api": "diffcore_order",
          "new_api": null,
          "old_text": "diffcore_order(options->orderfile)",
          "new_text": null,
          "old_line_content": "\t\tdiffcore_order(options->orderfile);",
          "new_line_content": "\tif (options->detect_rename)",
          "content_same": false
        },
        {
          "line": 4081,
          "old_api": "diffcore_apply_filter",
          "new_api": null,
          "old_text": "diffcore_apply_filter(options->filter)",
          "new_text": null,
          "old_line_content": "\tdiffcore_apply_filter(options->filter);",
          "new_line_content": "\tif (options->break_opt != -1)",
          "content_same": false
        },
        {
          "line": 4083,
          "old_api": "DIFF_OPT_TST",
          "new_api": null,
          "old_text": "DIFF_OPT_TST(options, DIFF_FROM_CONTENTS)",
          "new_text": null,
          "old_line_content": "\tif (diff_queued_diff.nr && !DIFF_OPT_TST(options, DIFF_FROM_CONTENTS))",
          "new_line_content": "\tif (options->pickaxe)",
          "content_same": false
        },
        {
          "line": 4094,
          "old_api": "DIFF_OPT_TST",
          "new_api": null,
          "old_text": "DIFF_OPT_TST(opt, EXIT_WITH_STATUS)",
          "new_text": null,
          "old_line_content": "\tif (!DIFF_OPT_TST(opt, EXIT_WITH_STATUS) &&",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 27,
      "total_additions": 102,
      "total_deletions": 98,
      "total_api_changes": 227
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 7,
        "api_related_lines": 227,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          3765,
          3766,
          3767
        ]
      }
    },
    "api_calls_before": 1087,
    "api_calls_after": 1093,
    "diff_info": {
      "added_lines": 7,
      "removed_lines": 0,
      "total_diff_lines": 19
    }
  }
}