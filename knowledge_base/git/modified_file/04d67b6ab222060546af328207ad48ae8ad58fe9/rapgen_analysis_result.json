{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/04d67b6ab222060546af328207ad48ae8ad58fe9",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/04d67b6ab222060546af328207ad48ae8ad58fe9/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/04d67b6ab222060546af328207ad48ae8ad58fe9/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/04d67b6ab222060546af328207ad48ae8ad58fe9/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 864,
          "old_api": "free",
          "new_api": "close_pack",
          "old_text": "free(p)",
          "new_text": "close_pack(p)",
          "old_line_content": "\t\t\tfree(p);",
          "new_line_content": "\t\t\tclose_pack(p);",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "strbuf_release",
          "new_api": "stop_progress",
          "old_text": "strbuf_release(&packname)",
          "new_text": "stop_progress(&oids.progress)",
          "old_line_content": "\t\tstrbuf_release(&packname);",
          "new_line_content": "\t\tstop_progress(&oids.progress);",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": "_",
          "new_api": "start_delayed_progress",
          "old_text": "_(\"Finding commits for commit graph\")",
          "new_text": "start_delayed_progress(\n\t\t\t\t_(\"Finding commits for commit graph\"),\n\t\t\t\tcommit_hex->nr)",
          "old_line_content": "\t\t\t\t_(\"Finding commits for commit graph\"),",
          "new_line_content": "\t\t\tprogress = start_delayed_progress(",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": "oidcpy",
          "new_api": "ALLOC_GROW",
          "old_text": "oidcpy(&oids.list[oids.nr], &(result->object.oid))",
          "new_text": "ALLOC_GROW(oids.list, oids.nr + 1, oids.alloc)",
          "old_line_content": "\t\t\t\toidcpy(&oids.list[oids.nr], &(result->object.oid));",
          "new_line_content": "\t\t\t\tALLOC_GROW(oids.list, oids.nr + 1, oids.alloc);",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": "_",
          "new_api": "start_delayed_progress",
          "old_text": "_(\"Finding commits for commit graph\")",
          "new_text": "start_delayed_progress(\n\t\t\t\t_(\"Finding commits for commit graph\"), 0)",
          "old_line_content": "\t\t\t\t_(\"Finding commits for commit graph\"), 0);",
          "new_line_content": "\t\t\toids.progress = start_delayed_progress(",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": "for_each_packed_object",
          "new_api": "_",
          "old_text": "for_each_packed_object(add_packed_commits, &oids, 0)",
          "new_text": "_(\"Finding commits for commit graph\")",
          "old_line_content": "\t\tfor_each_packed_object(add_packed_commits, &oids, 0);",
          "new_line_content": "\t\t\t\t_(\"Finding commits for commit graph\"), 0);",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": "stop_progress",
          "new_api": "for_each_packed_object",
          "old_text": "stop_progress(&oids.progress)",
          "new_text": "for_each_packed_object(add_packed_commits, &oids,\n\t\t\t\t       FOR_EACH_OBJECT_PACK_ORDER)",
          "old_line_content": "\t\tstop_progress(&oids.progress);",
          "new_line_content": "\t\tfor_each_packed_object(add_packed_commits, &oids,",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": "QSORT",
          "new_api": "close_reachable",
          "old_text": "QSORT(oids.list, oids.nr, commit_compare)",
          "new_text": "close_reachable(&oids, report_progress)",
          "old_line_content": "\tQSORT(oids.list, oids.nr, commit_compare);",
          "new_line_content": "\tclose_reachable(&oids, report_progress);",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": "compute_generation_numbers",
          "new_api": "_",
          "old_text": "compute_generation_numbers(&commits, report_progress)",
          "new_text": "_(\"too many commits to write graph\")",
          "old_line_content": "\tcompute_generation_numbers(&commits, report_progress);",
          "new_line_content": "\t\tdie(_(\"too many commits to write graph\"));",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": "get_commit_graph_filename",
          "new_api": "compute_generation_numbers",
          "old_text": "get_commit_graph_filename(obj_dir)",
          "new_text": "compute_generation_numbers(&commits, report_progress)",
          "old_line_content": "\tgraph_name = get_commit_graph_filename(obj_dir);",
          "new_line_content": "\tcompute_generation_numbers(&commits, report_progress);",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": "UNLEAK",
          "new_api": "get_commit_graph_filename",
          "old_text": "UNLEAK(graph_name)",
          "new_text": "get_commit_graph_filename(obj_dir)",
          "old_line_content": "\t\tUNLEAK(graph_name);",
          "new_line_content": "\tgraph_name = get_commit_graph_filename(obj_dir);",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "_",
          "new_api": "safe_create_leading_directories",
          "old_text": "_(\"unable to create leading directories of %s\")",
          "new_text": "safe_create_leading_directories(graph_name)",
          "old_line_content": "\t\tdie_errno(_(\"unable to create leading directories of %s\"),",
          "new_line_content": "\tif (safe_create_leading_directories(graph_name)) {",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": "hashwrite_be32",
          "new_api": "hashfd",
          "old_text": "hashwrite_be32(f, GRAPH_SIGNATURE)",
          "new_text": "hashfd(lk.tempfile->fd, lk.tempfile->filename.buf)",
          "old_line_content": "\thashwrite_be32(f, GRAPH_SIGNATURE);",
          "new_line_content": "\tf = hashfd(lk.tempfile->fd, lk.tempfile->filename.buf);",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": "hashwrite_u8",
          "new_api": "hashwrite_be32",
          "old_text": "hashwrite_u8(f, GRAPH_VERSION)",
          "new_text": "hashwrite_be32(f, GRAPH_SIGNATURE)",
          "old_line_content": "\thashwrite_u8(f, GRAPH_VERSION);",
          "new_line_content": "\thashwrite_be32(f, GRAPH_SIGNATURE);",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": "hashwrite_u8",
          "new_api": "oid_version",
          "old_text": "hashwrite_u8(f, 0)",
          "new_text": "oid_version()",
          "old_line_content": "\thashwrite_u8(f, 0); /* unused padding byte */",
          "new_line_content": "\thashwrite_u8(f, oid_version());",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": "hashwrite",
          "new_api": "htonl",
          "old_text": "hashwrite(f, chunk_write, 12)",
          "new_text": "htonl(chunk_offsets[i] >> 32)",
          "old_line_content": "\t\thashwrite(f, chunk_write, 12);",
          "new_line_content": "\t\tchunk_write[1] = htonl(chunk_offsets[i] >> 32);",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "write_graph_chunk_data",
          "new_api": "write_graph_chunk_fanout",
          "old_text": "write_graph_chunk_data(f, hashsz, commits.list, commits.nr)",
          "new_text": "write_graph_chunk_fanout(f, commits.list, commits.nr)",
          "old_line_content": "\twrite_graph_chunk_data(f, hashsz, commits.list, commits.nr);",
          "new_line_content": "\twrite_graph_chunk_fanout(f, commits.list, commits.nr);",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": "write_graph_chunk_large_edges",
          "new_api": "write_graph_chunk_oids",
          "old_text": "write_graph_chunk_large_edges(f, commits.list, commits.nr)",
          "new_text": "write_graph_chunk_oids(f, hashsz, commits.list, commits.nr)",
          "old_line_content": "\twrite_graph_chunk_large_edges(f, commits.list, commits.nr);",
          "new_line_content": "\twrite_graph_chunk_oids(f, hashsz, commits.list, commits.nr);",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "close_commit_graph",
          "new_api": "write_graph_chunk_large_edges",
          "old_text": "close_commit_graph(the_repository)",
          "new_text": "write_graph_chunk_large_edges(f, commits.list, commits.nr)",
          "old_line_content": "\tclose_commit_graph(the_repository);",
          "new_line_content": "\twrite_graph_chunk_large_edges(f, commits.list, commits.nr);",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": "commit_lock_file",
          "new_api": "close_commit_graph",
          "old_text": "commit_lock_file(&lk)",
          "new_text": "close_commit_graph(the_repository)",
          "old_line_content": "\tcommit_lock_file(&lk);",
          "new_line_content": "\tclose_commit_graph(the_repository);",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": "free",
          "new_api": "commit_lock_file",
          "old_text": "free(graph_name)",
          "new_text": "commit_lock_file(&lk)",
          "old_line_content": "\tfree(graph_name);",
          "new_line_content": "\tcommit_lock_file(&lk);",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": "fprintf",
          "new_api": "va_start",
          "old_text": "fprintf(stderr, \"\\n\")",
          "new_text": "va_start(ap, fmt)",
          "old_line_content": "\tfprintf(stderr, \"\\n\");",
          "new_line_content": "\tva_start(ap, fmt);",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": "va_end",
          "new_api": "vfprintf",
          "old_text": "va_end(ap)",
          "new_text": "vfprintf(stderr, fmt, ap)",
          "old_line_content": "\tva_end(ap);",
          "new_line_content": "\tvfprintf(stderr, fmt, ap);",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": "hashwrite",
          "new_api": "open",
          "old_text": "hashwrite(f, g->data, g->data_len - g->hash_len)",
          "new_text": "open(\"/dev/null\", O_WRONLY)",
          "old_line_content": "\thashwrite(f, g->data, g->data_len - g->hash_len);",
          "new_line_content": "\tdevnull = open(\"/dev/null\", O_WRONLY);",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": "finalize_hashfile",
          "new_api": "hashfd",
          "old_text": "finalize_hashfile(f, checksum.hash, CSUM_CLOSE)",
          "new_text": "hashfd(devnull, NULL)",
          "old_line_content": "\tfinalize_hashfile(f, checksum.hash, CSUM_CLOSE);",
          "new_line_content": "\tf = hashfd(devnull, NULL);",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": "hasheq",
          "new_api": "hashwrite",
          "old_text": "hasheq(checksum.hash, g->data + g->data_len - g->hash_len)",
          "new_text": "hashwrite(f, g->data, g->data_len - g->hash_len)",
          "old_line_content": "\tif (!hasheq(checksum.hash, g->data + g->data_len - g->hash_len)) {",
          "new_line_content": "\thashwrite(f, g->data, g->data_len - g->hash_len);",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": "_",
          "new_api": "finalize_hashfile",
          "old_text": "_(\"the commit-graph file has incorrect checksum and is likely corrupt\")",
          "new_text": "finalize_hashfile(f, checksum.hash, CSUM_CLOSE)",
          "old_line_content": "\t\tgraph_report(_(\"the commit-graph file has incorrect checksum and is likely corrupt\"));",
          "new_line_content": "\tfinalize_hashfile(f, checksum.hash, CSUM_CLOSE);",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "oidcmp",
          "new_api": "hashcpy",
          "old_text": "oidcmp(&prev_oid, &cur_oid)",
          "new_text": "hashcpy(cur_oid.hash, g->chunk_oid_lookup + g->hash_len * i)",
          "old_line_content": "\t\tif (i && oidcmp(&prev_oid, &cur_oid) >= 0)",
          "new_line_content": "\t\thashcpy(cur_oid.hash, g->chunk_oid_lookup + g->hash_len * i);",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "oid_to_hex",
          "new_api": "oidcmp",
          "old_text": "oid_to_hex(&prev_oid)",
          "new_text": "oidcmp(&prev_oid, &cur_oid)",
          "old_line_content": "\t\t\t\t     oid_to_hex(&prev_oid),",
          "new_line_content": "\t\tif (i && oidcmp(&prev_oid, &cur_oid) >= 0)",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": "oid_to_hex",
          "new_api": "graph_report",
          "old_text": "oid_to_hex(&cur_oid)",
          "new_text": "graph_report(\"commit-graph has incorrect OID order: %s then %s\",\n\t\t\t\t     oid_to_hex(&prev_oid),\n\t\t\t\t     oid_to_hex(&cur_oid))",
          "old_line_content": "\t\t\t\t     oid_to_hex(&cur_oid));",
          "new_line_content": "\t\t\tgraph_report(\"commit-graph has incorrect OID order: %s then %s\",",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": "oidcpy",
          "new_api": "oid_to_hex",
          "old_text": "oidcpy(&prev_oid, &cur_oid)",
          "new_text": "oid_to_hex(&cur_oid)",
          "old_line_content": "\t\toidcpy(&prev_oid, &cur_oid);",
          "new_line_content": "\t\t\t\t     oid_to_hex(&cur_oid));",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": "graph_report",
          "new_api": "lookup_commit",
          "old_text": "graph_report(\"failed to parse %s from commit-graph\",\n\t\t\t\t     oid_to_hex(&cur_oid))",
          "new_text": "lookup_commit(r, &cur_oid)",
          "old_line_content": "\t\t\tgraph_report(\"failed to parse %s from commit-graph\",",
          "new_line_content": "\t\tgraph_commit = lookup_commit(r, &cur_oid);",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": "oid_to_hex",
          "new_api": "parse_commit_in_graph_one",
          "old_text": "oid_to_hex(&cur_oid)",
          "new_text": "parse_commit_in_graph_one(r, g, graph_commit)",
          "old_line_content": "\t\t\t\t     oid_to_hex(&cur_oid));",
          "new_line_content": "\t\tif (!parse_commit_in_graph_one(r, g, graph_commit))",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "lookup_commit",
          "new_api": "hashcpy",
          "old_text": "lookup_commit(r, &cur_oid)",
          "new_text": "hashcpy(cur_oid.hash, g->chunk_oid_lookup + g->hash_len * i)",
          "old_line_content": "\t\tgraph_commit = lookup_commit(r, &cur_oid);",
          "new_line_content": "\t\thashcpy(cur_oid.hash, g->chunk_oid_lookup + g->hash_len * i);",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "parse_commit_internal",
          "new_api": "lookup_commit",
          "old_text": "parse_commit_internal(odb_commit, 0, 0)",
          "new_text": "lookup_commit(r, &cur_oid)",
          "old_line_content": "\t\tif (parse_commit_internal(odb_commit, 0, 0)) {",
          "new_line_content": "\t\tgraph_commit = lookup_commit(r, &cur_oid);",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": "graph_report",
          "new_api": "alloc_commit_node",
          "old_text": "graph_report(\"failed to parse %s from object database\",\n\t\t\t\t     oid_to_hex(&cur_oid))",
          "new_text": "alloc_commit_node(r)",
          "old_line_content": "\t\t\tgraph_report(\"failed to parse %s from object database\",",
          "new_line_content": "\t\todb_commit = (struct commit *)create_object(r, cur_oid.hash, alloc_commit_node(r));",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": "oid_to_hex",
          "new_api": "parse_commit_internal",
          "old_text": "oid_to_hex(&cur_oid)",
          "new_text": "parse_commit_internal(odb_commit, 0, 0)",
          "old_line_content": "\t\t\t\t     oid_to_hex(&cur_oid));",
          "new_line_content": "\t\tif (parse_commit_internal(odb_commit, 0, 0)) {",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": "graph_report",
          "new_api": "get_commit_tree_in_graph_one",
          "old_text": "graph_report(\"root tree OID for commit %s in commit-graph is %s != %s\",\n\t\t\t\t     oid_to_hex(&cur_oid),\n\t\t\t\t     oid_to_hex(get_commit_tree_oid(graph_commit)),\n\t\t\t\t     oid_to_hex(get_commit_tree_oid(odb_commit)))",
          "new_text": "get_commit_tree_in_graph_one(r, g, graph_commit)",
          "old_line_content": "\t\t\tgraph_report(\"root tree OID for commit %s in commit-graph is %s != %s\",",
          "new_line_content": "\t\tif (!oideq(&get_commit_tree_in_graph_one(r, g, graph_commit)->object.oid,",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": "oid_to_hex",
          "new_api": "get_commit_tree_oid",
          "old_text": "oid_to_hex(&cur_oid)",
          "new_text": "get_commit_tree_oid(odb_commit)",
          "old_line_content": "\t\t\t\t     oid_to_hex(&cur_oid),",
          "new_line_content": "\t\t\t   get_commit_tree_oid(odb_commit)))",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "get_commit_tree_oid",
          "new_api": "graph_report",
          "old_text": "get_commit_tree_oid(graph_commit)",
          "new_text": "graph_report(\"root tree OID for commit %s in commit-graph is %s != %s\",\n\t\t\t\t     oid_to_hex(&cur_oid),\n\t\t\t\t     oid_to_hex(get_commit_tree_oid(graph_commit)),\n\t\t\t\t     oid_to_hex(get_commit_tree_oid(odb_commit)))",
          "old_line_content": "\t\t\t\t     oid_to_hex(get_commit_tree_oid(graph_commit)),",
          "new_line_content": "\t\t\tgraph_report(\"root tree OID for commit %s in commit-graph is %s != %s\",",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": "get_commit_tree_oid",
          "new_api": "oid_to_hex",
          "old_text": "get_commit_tree_oid(odb_commit)",
          "new_text": "oid_to_hex(&cur_oid)",
          "old_line_content": "\t\t\t\t     oid_to_hex(get_commit_tree_oid(odb_commit)));",
          "new_line_content": "\t\t\t\t     oid_to_hex(&cur_oid),",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "oid_to_hex",
          "new_api": "oideq",
          "old_text": "oid_to_hex(&cur_oid)",
          "new_text": "oideq(&graph_parents->item->object.oid, &odb_parents->item->object.oid)",
          "old_line_content": "\t\t\t\t\t     oid_to_hex(&cur_oid),",
          "new_line_content": "\t\t\tif (!oideq(&graph_parents->item->object.oid, &odb_parents->item->object.oid))",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "oid_to_hex",
          "new_api": "graph_report",
          "old_text": "oid_to_hex(&graph_parents->item->object.oid)",
          "new_text": "graph_report(\"commit-graph parent for %s is %s != %s\",\n\t\t\t\t\t     oid_to_hex(&cur_oid),\n\t\t\t\t\t     oid_to_hex(&graph_parents->item->object.oid),\n\t\t\t\t\t     oid_to_hex(&odb_parents->item->object.oid))",
          "old_line_content": "\t\t\t\t\t     oid_to_hex(&graph_parents->item->object.oid),",
          "new_line_content": "\t\t\t\tgraph_report(\"commit-graph parent for %s is %s != %s\",",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": "close",
          "new_api": "munmap",
          "old_text": "close(g->graph_fd)",
          "new_text": "munmap((void *)g->data, g->data_len)",
          "old_line_content": "\t\tclose(g->graph_fd);",
          "new_line_content": "\t\tmunmap((void *)g->data, g->data_len);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": "free",
          "new_api": "close",
          "old_text": "free(g)",
          "new_text": "close(g->graph_fd)",
          "old_line_content": "\tfree(g);",
          "new_line_content": "\t\tclose(g->graph_fd);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1153,
          "old_api": null,
          "new_api": "graph_report",
          "old_text": null,
          "new_text": "graph_report(\"commit-graph has non-zero generation number for commit %s, but zero elsewhere\",\n\t\t\t\t     oid_to_hex(&cur_oid))",
          "old_line_content": "",
          "new_line_content": "\t\t\tgraph_report(\"commit-graph has non-zero generation number for commit %s, but zero elsewhere\",",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&cur_oid)",
          "old_line_content": "\t\tif (generation_zero == GENERATION_ZERO_EXISTS)",
          "new_line_content": "\t\t\t\t     oid_to_hex(&cur_oid));",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": null,
          "new_api": "graph_report",
          "old_text": null,
          "new_text": "graph_report(\"no commit-graph file loaded\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tgraph_report(\"no commit-graph file loaded\");",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": null,
          "new_api": "stop_progress",
          "old_text": null,
          "new_text": "stop_progress(&oids.progress)",
          "old_line_content": "",
          "new_line_content": "\t\tstop_progress(&oids.progress);",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": null,
          "new_api": "QSORT",
          "old_text": null,
          "new_text": "QSORT(oids.list, oids.nr, commit_compare)",
          "old_line_content": "\tcount_distinct = 1;",
          "new_line_content": "\tQSORT(oids.list, oids.nr, commit_compare);",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "graph_report",
          "old_text": null,
          "new_text": "graph_report(\"commit-graph generation for commit %s is %u != %u\",\n\t\t\t\t     oid_to_hex(&cur_oid),\n\t\t\t\t     graph_commit->generation,\n\t\t\t\t     max_generation + 1)",
          "old_line_content": "\t\t\t\t     graph_commit->generation,",
          "new_line_content": "\t\t\tgraph_report(\"commit-graph generation for commit %s is %u != %u\",",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": null,
          "new_api": "graph_report",
          "old_text": null,
          "new_text": "graph_report(\"commit-graph is missing the Commit Data chunk\")",
          "old_line_content": "\tif (verify_commit_graph_error)",
          "new_line_content": "\t\tgraph_report(\"commit-graph is missing the Commit Data chunk\");",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&cur_oid)",
          "old_line_content": "\t\t\t\t     max_generation + 1);",
          "new_line_content": "\t\t\t\t     oid_to_hex(&cur_oid),",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": null,
          "new_api": "stop_progress",
          "old_text": null,
          "new_text": "stop_progress(&progress)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstop_progress(&progress);",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": null,
          "new_api": "oideq",
          "old_text": null,
          "new_text": "oideq(&oids.list[i - 1], &oids.list[i])",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (!oideq(&oids.list[i - 1], &oids.list[i]))",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"the commit graph format cannot write %d commits\")",
          "old_line_content": "\tcommits.nr = 0;",
          "new_line_content": "\t\tdie(_(\"the commit graph format cannot write %d commits\"), count_distinct);",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": null,
          "new_api": "graph_report",
          "old_text": null,
          "new_text": "graph_report(\"commit date for commit %s in commit-graph is %\"PRItime\" != %\"PRItime,\n\t\t\t\t     oid_to_hex(&cur_oid),\n\t\t\t\t     graph_commit->date,\n\t\t\t\t     odb_commit->date)",
          "old_line_content": "\t\t\t\t     graph_commit->date,",
          "new_line_content": "\t\t\tgraph_report(\"commit date for commit %s in commit-graph is %\"PRItime\" != %\"PRItime,",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&cur_oid)",
          "old_line_content": "\t\t\t\t     odb_commit->date);",
          "new_line_content": "\t\t\t\t     oid_to_hex(&cur_oid),",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": null,
          "new_api": "ALLOC_ARRAY",
          "old_text": null,
          "new_text": "ALLOC_ARRAY(commits.list, commits.alloc)",
          "old_line_content": "\tnum_extra_edges = 0;",
          "new_line_content": "\tALLOC_ARRAY(commits.list, commits.alloc);",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": null,
          "new_api": "hasheq",
          "old_text": null,
          "new_text": "hasheq(checksum.hash, g->data + g->data_len - g->hash_len)",
          "old_line_content": "\t\tverify_commit_graph_error = VERIFY_COMMIT_GRAPH_ERROR_HASH;",
          "new_line_content": "\tif (!hasheq(checksum.hash, g->data + g->data_len - g->hash_len)) {",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"the commit-graph file has incorrect checksum and is likely corrupt\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tgraph_report(_(\"the commit-graph file has incorrect checksum and is likely corrupt\"));",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": null,
          "new_api": "stop_progress",
          "old_text": null,
          "new_text": "stop_progress(&progress)",
          "old_line_content": "\treturn verify_commit_graph_error;",
          "new_line_content": "\tstop_progress(&progress);",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": null,
          "new_api": "oideq",
          "old_text": null,
          "new_text": "oideq(&oids.list[i - 1], &oids.list[i])",
          "old_line_content": "",
          "new_line_content": "\t\tif (i > 0 && oideq(&oids.list[i - 1], &oids.list[i]))",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": null,
          "new_api": "lookup_commit",
          "old_text": null,
          "new_text": "lookup_commit(the_repository, &oids.list[i])",
          "old_line_content": "",
          "new_line_content": "\t\tcommits.list[commits.nr] = lookup_commit(the_repository, &oids.list[i]);",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": null,
          "new_api": "parse_commit",
          "old_text": null,
          "new_text": "parse_commit(commits.list[commits.nr])",
          "old_line_content": "\t\tfor (parent = commits.list[commits.nr]->parents;",
          "new_line_content": "\t\tparse_commit(commits.list[commits.nr]);",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&prev_oid)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t     oid_to_hex(&prev_oid),",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": null,
          "new_api": "oidcpy",
          "old_text": null,
          "new_text": "oidcpy(&prev_oid, &cur_oid)",
          "old_line_content": "\t\twhile (cur_oid.hash[0] > cur_fanout_pos) {",
          "new_line_content": "\t\toidcpy(&prev_oid, &cur_oid);",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(g)",
          "old_line_content": "",
          "new_line_content": "\tfree(g);",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": null,
          "new_api": "get_be32",
          "old_text": null,
          "new_text": "get_be32(g->chunk_oid_fanout + cur_fanout_pos)",
          "old_line_content": "\t\t\tif (i != fanout_value)",
          "new_line_content": "\t\t\tuint32_t fanout_value = get_be32(g->chunk_oid_fanout + cur_fanout_pos);",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": null,
          "new_api": "graph_report",
          "old_text": null,
          "new_text": "graph_report(\"commit-graph has incorrect fanout value: fanout[%d] = %u != %u\",\n\t\t\t\t\t     cur_fanout_pos, fanout_value, i)",
          "old_line_content": "\t\t\tcur_fanout_pos++;",
          "new_line_content": "\t\t\t\tgraph_report(\"commit-graph has incorrect fanout value: fanout[%d] = %u != %u\",",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": null,
          "new_api": "graph_report",
          "old_text": null,
          "new_text": "graph_report(\"failed to parse %s from commit-graph\",\n\t\t\t\t     oid_to_hex(&cur_oid))",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tgraph_report(\"failed to parse %s from commit-graph\",",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&cur_oid)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t     oid_to_hex(&cur_oid));",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": null,
          "new_api": "UNLEAK",
          "old_text": null,
          "new_text": "UNLEAK(graph_name)",
          "old_line_content": "\t\t\t  graph_name);",
          "new_line_content": "\t\tUNLEAK(graph_name);",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"unable to create leading directories of %s\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tdie_errno(_(\"unable to create leading directories of %s\"),",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": null,
          "new_api": "get_be32",
          "old_text": null,
          "new_text": "get_be32(g->chunk_oid_fanout + cur_fanout_pos)",
          "old_line_content": "\t\tif (g->num_commits != fanout_value)",
          "new_line_content": "\t\tuint32_t fanout_value = get_be32(g->chunk_oid_fanout + cur_fanout_pos);",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": null,
          "new_api": "hold_lock_file_for_update",
          "old_text": null,
          "new_text": "hold_lock_file_for_update(&lk, graph_name, LOCK_DIE_ON_ERROR)",
          "old_line_content": "",
          "new_line_content": "\thold_lock_file_for_update(&lk, graph_name, LOCK_DIE_ON_ERROR);",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": null,
          "new_api": "graph_report",
          "old_text": null,
          "new_text": "graph_report(\"commit-graph has incorrect fanout value: fanout[%d] = %u != %u\",\n\t\t\t\t     cur_fanout_pos, fanout_value, i)",
          "old_line_content": "",
          "new_line_content": "\t\t\tgraph_report(\"commit-graph has incorrect fanout value: fanout[%d] = %u != %u\",",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": null,
          "new_api": "hashwrite_u8",
          "old_text": null,
          "new_text": "hashwrite_u8(f, num_chunks)",
          "old_line_content": "",
          "new_line_content": "\thashwrite_u8(f, num_chunks);",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": null,
          "new_api": "hashwrite_u8",
          "old_text": null,
          "new_text": "hashwrite_u8(f, 0)",
          "old_line_content": "\tchunk_ids[0] = GRAPH_CHUNKID_OIDFANOUT;",
          "new_line_content": "\thashwrite_u8(f, 0); /* unused padding byte */",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Verifying commits in commit graph\")",
          "old_line_content": "\tfor (i = 0; i < g->num_commits; i++) {",
          "new_line_content": "\tprogress = start_progress(_(\"Verifying commits in commit graph\"),",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": null,
          "new_api": "display_progress",
          "old_text": null,
          "new_text": "display_progress(progress, i + 1)",
          "old_line_content": "",
          "new_line_content": "\t\tdisplay_progress(progress, i + 1);",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": null,
          "new_api": "graph_report",
          "old_text": null,
          "new_text": "graph_report(\"failed to parse %s from object database\",\n\t\t\t\t     oid_to_hex(&cur_oid))",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\tgraph_report(\"failed to parse %s from object database\",",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&cur_oid)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t     oid_to_hex(&cur_oid));",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(chunk_offsets[i] & 0xffffffff)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tchunk_write[2] = htonl(chunk_offsets[i] & 0xffffffff);",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": null,
          "new_api": "hashwrite",
          "old_text": null,
          "new_text": "hashwrite(f, chunk_write, 12)",
          "old_line_content": "",
          "new_line_content": "\t\thashwrite(f, chunk_write, 12);",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": null,
          "new_api": "get_commit_tree_oid",
          "old_text": null,
          "new_text": "get_commit_tree_oid(graph_commit)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t     oid_to_hex(get_commit_tree_oid(graph_commit)),",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": null,
          "new_api": "get_commit_tree_oid",
          "old_text": null,
          "new_text": "get_commit_tree_oid(odb_commit)",
          "old_line_content": "\t\tgraph_parents = graph_commit->parents;",
          "new_line_content": "\t\t\t\t     oid_to_hex(get_commit_tree_oid(odb_commit)));",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": null,
          "new_api": "write_graph_chunk_data",
          "old_text": null,
          "new_text": "write_graph_chunk_data(f, hashsz, commits.list, commits.nr)",
          "old_line_content": "",
          "new_line_content": "\twrite_graph_chunk_data(f, hashsz, commits.list, commits.nr);",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(p)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tfree(p);",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": null,
          "new_api": "finalize_hashfile",
          "old_text": null,
          "new_text": "finalize_hashfile(f, NULL, CSUM_HASH_IN_STREAM | CSUM_FSYNC)",
          "old_line_content": "",
          "new_line_content": "\tfinalize_hashfile(f, NULL, CSUM_HASH_IN_STREAM | CSUM_FSYNC);",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&packname)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstrbuf_release(&packname);",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": null,
          "new_api": "graph_report",
          "old_text": null,
          "new_text": "graph_report(\"commit-graph parent list for commit %s is too long\",\n\t\t\t\t\t     oid_to_hex(&cur_oid))",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tgraph_report(\"commit-graph parent list for commit %s is too long\",",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&cur_oid)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\t     oid_to_hex(&cur_oid));",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(commits.list)",
          "old_line_content": "}",
          "new_line_content": "\tfree(commits.list);",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(oids.list)",
          "old_line_content": "",
          "new_line_content": "\tfree(oids.list);",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Finding commits for commit graph\")",
          "old_line_content": "\t\t\t\tcommit_hex->nr);",
          "new_line_content": "\t\t\t\t_(\"Finding commits for commit graph\"),",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&graph_parents->item->object.oid)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t     oid_to_hex(&graph_parents->item->object.oid),",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&odb_parents->item->object.oid)",
          "old_line_content": "\t\t\tif (graph_parents->item->generation > max_generation)",
          "new_line_content": "\t\t\t\t\t     oid_to_hex(&odb_parents->item->object.oid));",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": null,
          "new_api": "display_progress",
          "old_text": null,
          "new_text": "display_progress(progress, i + 1)",
          "old_line_content": "\t\t\tif (commit_hex->items[i].string &&",
          "new_line_content": "\t\t\tdisplay_progress(progress, i + 1);",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": null,
          "new_api": "parse_oid_hex",
          "old_text": null,
          "new_text": "parse_oid_hex(commit_hex->items[i].string, &oid, &end)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\t    parse_oid_hex(commit_hex->items[i].string, &oid, &end))",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"\\n\")",
          "old_line_content": "}",
          "new_line_content": "\tfprintf(stderr, \"\\n\");",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": null,
          "new_api": "lookup_commit_reference_gently",
          "old_text": null,
          "new_text": "lookup_commit_reference_gently(the_repository, &oid, 1)",
          "old_line_content": "",
          "new_line_content": "\t\t\tresult = lookup_commit_reference_gently(the_repository, &oid, 1);",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(ap)",
          "old_line_content": "",
          "new_line_content": "\tva_end(ap);",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": null,
          "new_api": "graph_report",
          "old_text": null,
          "new_text": "graph_report(\"commit-graph parent list for commit %s terminates early\",\n\t\t\t\t     oid_to_hex(&cur_oid))",
          "old_line_content": "",
          "new_line_content": "\t\t\tgraph_report(\"commit-graph parent list for commit %s terminates early\",",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&cur_oid)",
          "old_line_content": "\t\tif (!graph_commit->generation) {",
          "new_line_content": "\t\t\t\t     oid_to_hex(&cur_oid));",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "oidcpy",
          "old_text": null,
          "new_text": "oidcpy(&oids.list[oids.nr], &(result->object.oid))",
          "old_line_content": "\t\t\t\toids.nr++;",
          "new_line_content": "\t\t\t\toidcpy(&oids.list[oids.nr], &(result->object.oid));",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": null,
          "new_api": "graph_report",
          "old_text": null,
          "new_text": "graph_report(\"commit-graph has generation number zero for commit %s, but non-zero elsewhere\",\n\t\t\t\t\t     oid_to_hex(&cur_oid))",
          "old_line_content": "\t\t\tgeneration_zero = GENERATION_ZERO_EXISTS;",
          "new_line_content": "\t\t\t\tgraph_report(\"commit-graph has generation number zero for commit %s, but non-zero elsewhere\",",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&cur_oid)",
          "old_line_content": "\t\t} else if (generation_zero == GENERATION_ZERO_EXISTS)",
          "new_line_content": "\t\t\t\t\t     oid_to_hex(&cur_oid));",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1152,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&cur_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t     oid_to_hex(&cur_oid));",
          "new_line_content": "\t\t} else if (generation_zero == GENERATION_ZERO_EXISTS)",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": "start_delayed_progress",
          "new_api": null,
          "old_text": "start_delayed_progress(\n\t\t\t\t_(\"Finding commits for commit graph\"), 0)",
          "new_text": null,
          "old_line_content": "\t\t\toids.progress = start_delayed_progress(",
          "new_line_content": "\t\tif (report_progress)",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": "graph_report",
          "new_api": null,
          "old_text": "graph_report(\"no commit-graph file loaded\")",
          "new_text": null,
          "old_line_content": "\t\tgraph_report(\"no commit-graph file loaded\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": "close_reachable",
          "new_api": null,
          "old_text": "close_reachable(&oids, report_progress)",
          "new_text": null,
          "old_line_content": "\tclose_reachable(&oids, report_progress);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": "graph_report",
          "new_api": null,
          "old_text": "graph_report(\"commit-graph is missing the OID Fanout chunk\")",
          "new_text": null,
          "old_line_content": "\t\tgraph_report(\"commit-graph is missing the OID Fanout chunk\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": "graph_report",
          "new_api": null,
          "old_text": "graph_report(\"commit-graph generation for commit %s is %u != %u\",\n\t\t\t\t     oid_to_hex(&cur_oid),\n\t\t\t\t     graph_commit->generation,\n\t\t\t\t     max_generation + 1)",
          "new_text": null,
          "old_line_content": "\t\t\tgraph_report(\"commit-graph generation for commit %s is %u != %u\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&cur_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t     oid_to_hex(&cur_oid),",
          "new_line_content": "\t\tif (graph_commit->generation != max_generation + 1)",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "oideq",
          "new_api": null,
          "old_text": "oideq(&oids.list[i - 1], &oids.list[i])",
          "new_text": null,
          "old_line_content": "\t\tif (!oideq(&oids.list[i - 1], &oids.list[i]))",
          "new_line_content": "\tcount_distinct = 1;",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"the commit graph format cannot write %d commits\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"the commit graph format cannot write %d commits\"), count_distinct);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": "open",
          "new_api": null,
          "old_text": "open(\"/dev/null\", O_WRONLY)",
          "new_text": null,
          "old_line_content": "\tdevnull = open(\"/dev/null\", O_WRONLY);",
          "new_line_content": "\t\treturn verify_commit_graph_error;",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "hashfd",
          "new_api": null,
          "old_text": "hashfd(devnull, NULL)",
          "new_text": null,
          "old_line_content": "\tf = hashfd(devnull, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": "graph_report",
          "new_api": null,
          "old_text": "graph_report(\"commit date for commit %s in commit-graph is %\"PRItime\" != %\"PRItime,\n\t\t\t\t     oid_to_hex(&cur_oid),\n\t\t\t\t     graph_commit->date,\n\t\t\t\t     odb_commit->date)",
          "new_text": null,
          "old_line_content": "\t\t\tgraph_report(\"commit date for commit %s in commit-graph is %\"PRItime\" != %\"PRItime,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&cur_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t     oid_to_hex(&cur_oid),",
          "new_line_content": "\t\tif (graph_commit->date != odb_commit->date)",
          "content_same": false
        },
        {
          "line": 919,
          "old_api": "ALLOC_ARRAY",
          "new_api": null,
          "old_text": "ALLOC_ARRAY(commits.list, commits.alloc)",
          "new_text": null,
          "old_line_content": "\tALLOC_ARRAY(commits.list, commits.alloc);",
          "new_line_content": "\tcommits.nr = 0;",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": "stop_progress",
          "new_api": null,
          "old_text": "stop_progress(&progress)",
          "new_text": null,
          "old_line_content": "\tstop_progress(&progress);",
          "new_line_content": "\t\t\t\t     odb_commit->date);",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": "oideq",
          "new_api": null,
          "old_text": "oideq(&oids.list[i - 1], &oids.list[i])",
          "new_text": null,
          "old_line_content": "\t\tif (i > 0 && oideq(&oids.list[i - 1], &oids.list[i]))",
          "new_line_content": "\tfor (i = 0; i < oids.nr; i++) {",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": "lookup_commit",
          "new_api": null,
          "old_text": "lookup_commit(the_repository, &oids.list[i])",
          "new_text": null,
          "old_line_content": "\t\tcommits.list[commits.nr] = lookup_commit(the_repository, &oids.list[i]);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(cur_oid.hash, g->chunk_oid_lookup + g->hash_len * i)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(cur_oid.hash, g->chunk_oid_lookup + g->hash_len * i);",
          "new_line_content": "\t\tstruct commit *graph_commit;",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": "parse_commit",
          "new_api": null,
          "old_text": "parse_commit(commits.list[commits.nr])",
          "new_text": null,
          "old_line_content": "\t\tparse_commit(commits.list[commits.nr]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "graph_report",
          "new_api": null,
          "old_text": "graph_report(\"commit-graph has incorrect OID order: %s then %s\",\n\t\t\t\t     oid_to_hex(&prev_oid),\n\t\t\t\t     oid_to_hex(&cur_oid))",
          "new_text": null,
          "old_line_content": "\t\t\tgraph_report(\"commit-graph has incorrect OID order: %s then %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "munmap",
          "new_api": null,
          "old_text": "munmap((void *)g->data, g->data_len)",
          "new_text": null,
          "old_line_content": "\t\tmunmap((void *)g->data, g->data_len);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "get_be32",
          "new_api": null,
          "old_text": "get_be32(g->chunk_oid_fanout + cur_fanout_pos)",
          "new_text": null,
          "old_line_content": "\t\t\tuint32_t fanout_value = get_be32(g->chunk_oid_fanout + cur_fanout_pos);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "graph_report",
          "new_api": null,
          "old_text": "graph_report(\"commit-graph has incorrect fanout value: fanout[%d] = %u != %u\",\n\t\t\t\t\t     cur_fanout_pos, fanout_value, i)",
          "new_text": null,
          "old_line_content": "\t\t\t\tgraph_report(\"commit-graph has incorrect fanout value: fanout[%d] = %u != %u\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"too many commits to write graph\")",
          "new_text": null,
          "old_line_content": "\t\tdie(_(\"too many commits to write graph\"));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": "lookup_commit",
          "new_api": null,
          "old_text": "lookup_commit(r, &cur_oid)",
          "new_text": null,
          "old_line_content": "\t\tgraph_commit = lookup_commit(r, &cur_oid);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": "parse_commit_in_graph_one",
          "new_api": null,
          "old_text": "parse_commit_in_graph_one(r, g, graph_commit)",
          "new_text": null,
          "old_line_content": "\t\tif (!parse_commit_in_graph_one(r, g, graph_commit))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": "safe_create_leading_directories",
          "new_api": null,
          "old_text": "safe_create_leading_directories(graph_name)",
          "new_text": null,
          "old_line_content": "\tif (safe_create_leading_directories(graph_name)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": "get_be32",
          "new_api": null,
          "old_text": "get_be32(g->chunk_oid_fanout + cur_fanout_pos)",
          "new_text": null,
          "old_line_content": "\t\tuint32_t fanout_value = get_be32(g->chunk_oid_fanout + cur_fanout_pos);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": "hold_lock_file_for_update",
          "new_api": null,
          "old_text": "hold_lock_file_for_update(&lk, graph_name, LOCK_DIE_ON_ERROR)",
          "new_text": null,
          "old_line_content": "\thold_lock_file_for_update(&lk, graph_name, LOCK_DIE_ON_ERROR);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "hashfd",
          "new_api": null,
          "old_text": "hashfd(lk.tempfile->fd, lk.tempfile->filename.buf)",
          "new_text": null,
          "old_line_content": "\tf = hashfd(lk.tempfile->fd, lk.tempfile->filename.buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": "graph_report",
          "new_api": null,
          "old_text": "graph_report(\"commit-graph has incorrect fanout value: fanout[%d] = %u != %u\",\n\t\t\t\t     cur_fanout_pos, fanout_value, i)",
          "new_text": null,
          "old_line_content": "\t\t\tgraph_report(\"commit-graph has incorrect fanout value: fanout[%d] = %u != %u\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": "oid_version",
          "new_api": null,
          "old_text": "oid_version()",
          "new_text": null,
          "old_line_content": "\thashwrite_u8(f, oid_version());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Verifying commits in commit graph\")",
          "new_text": null,
          "old_line_content": "\tprogress = start_progress(_(\"Verifying commits in commit graph\"),",
          "new_line_content": "\t\treturn verify_commit_graph_error;",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "display_progress",
          "new_api": null,
          "old_text": "display_progress(progress, i + 1)",
          "new_text": null,
          "old_line_content": "\t\tdisplay_progress(progress, i + 1);",
          "new_line_content": "\t\tuint32_t max_generation = 0;",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(cur_oid.hash, g->chunk_oid_lookup + g->hash_len * i)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(cur_oid.hash, g->chunk_oid_lookup + g->hash_len * i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": "alloc_commit_node",
          "new_api": null,
          "old_text": "alloc_commit_node(r)",
          "new_text": null,
          "old_line_content": "\t\todb_commit = (struct commit *)create_object(r, cur_oid.hash, alloc_commit_node(r));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(chunk_ids[i])",
          "new_text": null,
          "old_line_content": "\t\tchunk_write[0] = htonl(chunk_ids[i]);",
          "new_line_content": "\t\tuint32_t chunk_write[3];",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(chunk_offsets[i] >> 32)",
          "new_text": null,
          "old_line_content": "\t\tchunk_write[1] = htonl(chunk_offsets[i] >> 32);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": "get_commit_tree_in_graph_one",
          "new_api": null,
          "old_text": "get_commit_tree_in_graph_one(r, g, graph_commit)",
          "new_text": null,
          "old_line_content": "\t\tif (!oideq(&get_commit_tree_in_graph_one(r, g, graph_commit)->object.oid,",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": "get_commit_tree_oid",
          "new_api": null,
          "old_text": "get_commit_tree_oid(odb_commit)",
          "new_text": null,
          "old_line_content": "\t\t\t   get_commit_tree_oid(odb_commit)))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": "write_graph_chunk_fanout",
          "new_api": null,
          "old_text": "write_graph_chunk_fanout(f, commits.list, commits.nr)",
          "new_text": null,
          "old_line_content": "\twrite_graph_chunk_fanout(f, commits.list, commits.nr);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": "write_graph_chunk_oids",
          "new_api": null,
          "old_text": "write_graph_chunk_oids(f, hashsz, commits.list, commits.nr)",
          "new_text": null,
          "old_line_content": "\twrite_graph_chunk_oids(f, hashsz, commits.list, commits.nr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": "close_pack",
          "new_api": null,
          "old_text": "close_pack(p)",
          "new_text": null,
          "old_line_content": "\t\t\tclose_pack(p);",
          "new_line_content": "\t\t\t\t\t\tFOR_EACH_OBJECT_PACK_ORDER);",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": "finalize_hashfile",
          "new_api": null,
          "old_text": "finalize_hashfile(f, NULL, CSUM_HASH_IN_STREAM | CSUM_FSYNC)",
          "new_text": null,
          "old_line_content": "\tfinalize_hashfile(f, NULL, CSUM_HASH_IN_STREAM | CSUM_FSYNC);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": "stop_progress",
          "new_api": null,
          "old_text": "stop_progress(&oids.progress)",
          "new_text": null,
          "old_line_content": "\t\tstop_progress(&oids.progress);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "graph_report",
          "new_api": null,
          "old_text": "graph_report(\"commit-graph parent list for commit %s is too long\",\n\t\t\t\t\t     oid_to_hex(&cur_oid))",
          "new_text": null,
          "old_line_content": "\t\t\t\tgraph_report(\"commit-graph parent list for commit %s is too long\",",
          "new_line_content": "\t\twhile (graph_parents) {",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&cur_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t     oid_to_hex(&cur_oid));",
          "new_line_content": "\t\t\tif (odb_parents == NULL) {",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(commits.list)",
          "new_text": null,
          "old_line_content": "\tfree(commits.list);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "oideq",
          "new_api": null,
          "old_text": "oideq(&graph_parents->item->object.oid, &odb_parents->item->object.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!oideq(&graph_parents->item->object.oid, &odb_parents->item->object.oid))",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "graph_report",
          "new_api": null,
          "old_text": "graph_report(\"commit-graph parent for %s is %s != %s\",\n\t\t\t\t\t     oid_to_hex(&cur_oid),\n\t\t\t\t\t     oid_to_hex(&graph_parents->item->object.oid),\n\t\t\t\t\t     oid_to_hex(&odb_parents->item->object.oid))",
          "new_text": null,
          "old_line_content": "\t\t\t\tgraph_report(\"commit-graph parent for %s is %s != %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": "start_delayed_progress",
          "new_api": null,
          "old_text": "start_delayed_progress(\n\t\t\t\t_(\"Finding commits for commit graph\"),\n\t\t\t\tcommit_hex->nr)",
          "new_text": null,
          "old_line_content": "\t\t\tprogress = start_delayed_progress(",
          "new_line_content": "\t\tif (report_progress)",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "display_progress",
          "new_api": null,
          "old_text": "display_progress(progress, i + 1)",
          "new_text": null,
          "old_line_content": "\t\t\tdisplay_progress(progress, i + 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(ap, fmt)",
          "new_text": null,
          "old_line_content": "\tva_start(ap, fmt);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": "parse_oid_hex",
          "new_api": null,
          "old_text": "parse_oid_hex(commit_hex->items[i].string, &oid, &end)",
          "new_text": null,
          "old_line_content": "\t\t\t    parse_oid_hex(commit_hex->items[i].string, &oid, &end))",
          "new_line_content": "\t\t\tif (commit_hex->items[i].string &&",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": "vfprintf",
          "new_api": null,
          "old_text": "vfprintf(stderr, fmt, ap)",
          "new_text": null,
          "old_line_content": "\tvfprintf(stderr, fmt, ap);",
          "new_line_content": "\tverify_commit_graph_error = 1;",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": "lookup_commit_reference_gently",
          "new_api": null,
          "old_text": "lookup_commit_reference_gently(the_repository, &oid, 1)",
          "new_text": null,
          "old_line_content": "\t\t\tresult = lookup_commit_reference_gently(the_repository, &oid, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "graph_report",
          "new_api": null,
          "old_text": "graph_report(\"commit-graph parent list for commit %s terminates early\",\n\t\t\t\t     oid_to_hex(&cur_oid))",
          "new_text": null,
          "old_line_content": "\t\t\tgraph_report(\"commit-graph parent list for commit %s terminates early\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&cur_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t     oid_to_hex(&cur_oid));",
          "new_line_content": "\t\tif (odb_parents != NULL)",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": "ALLOC_GROW",
          "new_api": null,
          "old_text": "ALLOC_GROW(oids.list, oids.nr + 1, oids.alloc)",
          "new_text": null,
          "old_line_content": "\t\t\t\tALLOC_GROW(oids.list, oids.nr + 1, oids.alloc);",
          "new_line_content": "\t\t\tif (result) {",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "graph_report",
          "new_api": null,
          "old_text": "graph_report(\"commit-graph has generation number zero for commit %s, but non-zero elsewhere\",\n\t\t\t\t\t     oid_to_hex(&cur_oid))",
          "new_text": null,
          "old_line_content": "\t\t\t\tgraph_report(\"commit-graph has generation number zero for commit %s, but non-zero elsewhere\",",
          "new_line_content": "\t\tif (!graph_commit->generation) {",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&cur_oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t     oid_to_hex(&cur_oid));",
          "new_line_content": "\t\t\tif (generation_zero == GENERATION_NUMBER_EXISTS)",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": "stop_progress",
          "new_api": null,
          "old_text": "stop_progress(&progress)",
          "new_text": null,
          "old_line_content": "\t\tstop_progress(&progress);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "graph_report",
          "new_api": null,
          "old_text": "graph_report(\"commit-graph has non-zero generation number for commit %s, but zero elsewhere\",\n\t\t\t\t     oid_to_hex(&cur_oid))",
          "new_text": null,
          "old_line_content": "\t\t\tgraph_report(\"commit-graph has non-zero generation number for commit %s, but zero elsewhere\",",
          "new_line_content": "\t\t\tgeneration_zero = GENERATION_ZERO_EXISTS;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 45,
      "total_additions": 63,
      "total_deletions": 63,
      "total_api_changes": 171
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 171,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          905,
          907
        ]
      }
    },
    "api_calls_before": 287,
    "api_calls_after": 287,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 3,
      "total_diff_lines": 44
    }
  }
}