{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/b6723e4671acdc6a06ef7672144106cfac4a234f",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/b6723e4671acdc6a06ef7672144106cfac4a234f/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/b6723e4671acdc6a06ef7672144106cfac4a234f/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/b6723e4671acdc6a06ef7672144106cfac4a234f/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 650,
          "old_api": "parse_commit",
          "new_api": "add_object_array",
          "old_text": "parse_commit(from_iter->item)",
          "new_text": "add_object_array(&from_iter->item->object, NULL, &from_objs)",
          "old_line_content": "\t\tif (!parse_commit(from_iter->item)) {",
          "new_line_content": "\t\tadd_object_array(&from_iter->item->object, NULL, &from_objs);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 610,
          "old_api": null,
          "new_api": "parse_commit",
          "old_text": null,
          "new_text": "parse_commit(parent->item)",
          "old_line_content": "\t\t\t\t\t    parent->item->generation < min_generation)",
          "new_line_content": "\t\t\t\t\tif (parse_commit(parent->item) ||",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": null,
          "new_api": "can_all_from_reach_with_flag",
          "old_text": null,
          "new_text": "can_all_from_reach_with_flag(&from_objs, PARENT2, PARENT1,\n\t\t\t\t\t      min_commit_date, min_generation)",
          "old_line_content": "",
          "new_line_content": "\tresult = can_all_from_reach_with_flag(&from_objs, PARENT2, PARENT1,",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": null,
          "new_api": "commit_list_insert",
          "old_text": null,
          "new_text": "commit_list_insert(parent->item, &stack)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tcommit_list_insert(parent->item, &stack);",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": null,
          "new_api": "clear_commit_marks",
          "old_text": null,
          "new_text": "clear_commit_marks(from->item, PARENT1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tclear_commit_marks(from->item, PARENT1);",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": null,
          "new_api": "parse_commit",
          "old_text": null,
          "new_text": "parse_commit(from_iter->item)",
          "old_line_content": "\t\t\t\tmin_commit_date = from_iter->item->date;",
          "new_line_content": "\t\tif (!parse_commit(from_iter->item)) {",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": null,
          "new_api": "pop_commit",
          "old_text": null,
          "new_text": "pop_commit(&stack)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tpop_commit(&stack);",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": null,
          "new_api": "parse_commit",
          "old_text": null,
          "new_text": "parse_commit(to_iter->item)",
          "old_line_content": "\t\t\t\tmin_commit_date = to_iter->item->date;",
          "new_line_content": "\t\tif (!parse_commit(to_iter->item)) {",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": null,
          "new_api": "clear_commit_marks",
          "old_text": null,
          "new_text": "clear_commit_marks(to->item, PARENT2)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tclear_commit_marks(to->item, PARENT2);",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": null,
          "new_api": "object_array_clear",
          "old_text": null,
          "new_text": "object_array_clear(&from_objs)",
          "old_line_content": "}",
          "new_line_content": "\tobject_array_clear(&from_objs);",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": null,
          "new_api": "clear_commit_marks_many",
          "old_text": null,
          "new_text": "clear_commit_marks_many(nr_commits, list, RESULT | assign_flag)",
          "old_line_content": "",
          "new_line_content": "\tclear_commit_marks_many(nr_commits, list, RESULT | assign_flag);",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(list)",
          "old_line_content": "\tfor (i = 0; i < from->nr; i++)",
          "new_line_content": "\tfree(list);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 608,
          "old_api": "parse_commit",
          "new_api": null,
          "old_text": "parse_commit(parent->item)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (parse_commit(parent->item) ||",
          "new_line_content": "\t\t\t\t\tparent->item->object.flags |= assign_flag;",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "can_all_from_reach_with_flag",
          "new_api": null,
          "old_text": "can_all_from_reach_with_flag(&from_objs, PARENT2, PARENT1,\n\t\t\t\t\t      min_commit_date, min_generation)",
          "new_text": null,
          "old_line_content": "\tresult = can_all_from_reach_with_flag(&from_objs, PARENT2, PARENT1,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": "commit_list_insert",
          "new_api": null,
          "old_text": "commit_list_insert(parent->item, &stack)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tcommit_list_insert(parent->item, &stack);",
          "new_line_content": "\t\t\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": "clear_commit_marks",
          "new_api": null,
          "old_text": "clear_commit_marks(from->item, PARENT1)",
          "new_text": null,
          "old_line_content": "\t\tclear_commit_marks(from->item, PARENT1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "add_object_array",
          "new_api": null,
          "old_text": "add_object_array(&from_iter->item->object, NULL, &from_objs)",
          "new_text": null,
          "old_line_content": "\t\tadd_object_array(&from_iter->item->object, NULL, &from_objs);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "pop_commit",
          "new_api": null,
          "old_text": "pop_commit(&stack)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpop_commit(&stack);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": "clear_commit_marks",
          "new_api": null,
          "old_text": "clear_commit_marks(to->item, PARENT2)",
          "new_text": null,
          "old_line_content": "\t\tclear_commit_marks(to->item, PARENT2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": "object_array_clear",
          "new_api": null,
          "old_text": "object_array_clear(&from_objs)",
          "new_text": null,
          "old_line_content": "\tobject_array_clear(&from_objs);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": "clear_commit_marks_many",
          "new_api": null,
          "old_text": "clear_commit_marks_many(nr_commits, list, RESULT | assign_flag)",
          "new_text": null,
          "old_line_content": "\tclear_commit_marks_many(nr_commits, list, RESULT | assign_flag);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(list)",
          "new_text": null,
          "old_line_content": "\tfree(list);",
          "new_line_content": "cleanup:",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": "parse_commit",
          "new_api": null,
          "old_text": "parse_commit(to_iter->item)",
          "new_text": null,
          "old_line_content": "\t\tif (!parse_commit(to_iter->item)) {",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 1,
      "total_additions": 11,
      "total_deletions": 11,
      "total_api_changes": 23
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 23,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          596,
          598,
          599
        ]
      }
    },
    "api_calls_before": 104,
    "api_calls_after": 104,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 1,
      "total_diff_lines": 17
    }
  }
}