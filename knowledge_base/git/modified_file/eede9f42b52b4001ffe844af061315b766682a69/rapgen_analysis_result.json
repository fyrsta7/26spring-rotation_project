{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/eede9f42b52b4001ffe844af061315b766682a69",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/eede9f42b52b4001ffe844af061315b766682a69/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/eede9f42b52b4001ffe844af061315b766682a69/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/eede9f42b52b4001ffe844af061315b766682a69/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1744,
          "old_api": "free",
          "new_api": "start_progress",
          "old_text": "free(delta_list)",
          "new_text": "start_progress(\"Compressing objects\",\n\t\t\t\t\t\t\tnr_deltas)",
          "old_line_content": "\tfree(delta_list);",
          "new_line_content": "\t\t\tprogress_state = start_progress(\"Compressing objects\",",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": "git_config_int",
          "new_api": "die",
          "old_text": "git_config_int(k, v)",
          "new_text": "die(\"inconsistency with delta count\")",
          "old_line_content": "\t\twindow = git_config_int(k, v);",
          "new_line_content": "\t\t\tdie(\"inconsistency with delta count\");",
          "content_same": false
        },
        {
          "line": 1762,
          "old_api": "git_config_int",
          "new_api": "git_config_ulong",
          "old_text": "git_config_int(k, v)",
          "new_text": "git_config_ulong(k, v)",
          "old_line_content": "\t\tint level = git_config_int(k, v);",
          "new_line_content": "\t\twindow_memory_limit = git_config_ulong(k, v);",
          "content_same": false
        },
        {
          "line": 1766,
          "old_api": "die",
          "new_api": "git_config_int",
          "old_text": "die(\"bad pack compression level %d\", level)",
          "new_text": "git_config_int(k, v)",
          "old_line_content": "\t\t\tdie(\"bad pack compression level %d\", level);",
          "new_line_content": "\t\tdepth = git_config_int(k, v);",
          "content_same": false
        },
        {
          "line": 1790,
          "old_api": "strcmp",
          "new_api": "die",
          "old_text": "strcmp(k, \"pack.indexversion\")",
          "new_text": "die(\"invalid number of threads specified (%d)\",\n\t\t\t    delta_search_threads)",
          "old_line_content": "\tif (!strcmp(k, \"pack.indexversion\")) {",
          "new_line_content": "\t\t\tdie(\"invalid number of threads specified (%d)\",",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": "git_config_ulong",
          "new_api": "strcmp",
          "old_text": "git_config_ulong(k, v)",
          "new_text": "strcmp(k, \"pack.indexversion\")",
          "old_line_content": "\t\tpack_size_limit_cfg = git_config_ulong(k, v);",
          "new_line_content": "\tif (!strcmp(k, \"pack.indexversion\")) {",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": "git_default_config",
          "new_api": "die",
          "old_text": "git_default_config(k, v, cb)",
          "new_text": "die(\"bad pack.indexversion=%\"PRIu32,\n\t\t\t\tpack_idx_default_version)",
          "old_line_content": "\treturn git_default_config(k, v, cb);",
          "new_line_content": "\t\t\tdie(\"bad pack.indexversion=%\"PRIu32,",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": "get_sha1_hex",
          "new_api": "ferror",
          "old_text": "get_sha1_hex(line+1, sha1)",
          "new_text": "ferror(stdin)",
          "old_line_content": "\t\t\tif (get_sha1_hex(line+1, sha1))",
          "new_line_content": "\t\t\tif (!ferror(stdin))",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": "add_preferred_base",
          "new_api": "strerror",
          "old_text": "add_preferred_base(sha1)",
          "new_text": "strerror(errno)",
          "old_line_content": "\t\t\tadd_preferred_base(sha1);",
          "new_line_content": "\t\t\t\tdie(\"fgets: %s\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": "add_preferred_base_object",
          "new_api": "die",
          "old_text": "add_preferred_base_object(line+41)",
          "new_text": "die(\"expected edge sha1, got garbage:\\n %s\",\n\t\t\t\t    line)",
          "old_line_content": "\t\tadd_preferred_base_object(line+41);",
          "new_line_content": "\t\t\t\tdie(\"expected edge sha1, got garbage:\\n %s\",",
          "content_same": false
        },
        {
          "line": 1911,
          "old_api": "ALLOC_GROW",
          "new_api": "matches_pack_name",
          "old_text": "ALLOC_GROW(in_pack.array,\n\t\t\t   in_pack.nr + p->num_objects,\n\t\t\t   in_pack.alloc)",
          "new_text": "matches_pack_name(p, revs->ignore_packed[i])",
          "old_line_content": "\t\tALLOC_GROW(in_pack.array,",
          "new_line_content": "\t\t\tif (matches_pack_name(p, revs->ignore_packed[i]))",
          "content_same": false
        },
        {
          "line": 1916,
          "old_api": "nth_packed_object_sha1",
          "new_api": "open_pack_index",
          "old_text": "nth_packed_object_sha1(p, i)",
          "new_text": "open_pack_index(p)",
          "old_line_content": "\t\t\tsha1 = nth_packed_object_sha1(p, i);",
          "new_line_content": "\t\tif (open_pack_index(p))",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": "lookup_unknown_object",
          "new_api": "die",
          "old_text": "lookup_unknown_object(sha1)",
          "new_text": "die(\"cannot open pack index\")",
          "old_line_content": "\t\t\to = lookup_unknown_object(sha1);",
          "new_line_content": "\t\t\tdie(\"cannot open pack index\");",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": "mark_in_pack_object",
          "new_api": "ALLOC_GROW",
          "old_text": "mark_in_pack_object(o, p, &in_pack)",
          "new_text": "ALLOC_GROW(in_pack.array,\n\t\t\t   in_pack.nr + p->num_objects,\n\t\t\t   in_pack.alloc)",
          "old_line_content": "\t\t\t\tmark_in_pack_object(o, p, &in_pack);",
          "new_line_content": "\t\tALLOC_GROW(in_pack.array,",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": "qsort",
          "new_api": "lookup_unknown_object",
          "old_text": "qsort(in_pack.array, in_pack.nr, sizeof(in_pack.array[0]),\n\t\t      ofscmp)",
          "new_text": "lookup_unknown_object(sha1)",
          "old_line_content": "\t\tqsort(in_pack.array, in_pack.nr, sizeof(in_pack.array[0]),",
          "new_line_content": "\t\t\to = lookup_unknown_object(sha1);",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": "mark_edges_uninteresting",
          "new_api": "die",
          "old_text": "mark_edges_uninteresting(revs.commits, &revs, show_edge)",
          "new_text": "die(\"not a rev '%s'\", line)",
          "old_line_content": "\tmark_edges_uninteresting(revs.commits, &revs, show_edge);",
          "new_line_content": "\t\t\tdie(\"not a rev '%s'\", line);",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": "loosen_unused_packed_objects",
          "new_api": "prepare_revision_walk",
          "old_text": "loosen_unused_packed_objects(&revs)",
          "new_text": "prepare_revision_walk(&revs)",
          "old_line_content": "\t\tloosen_unused_packed_objects(&revs);",
          "new_line_content": "\tif (prepare_revision_walk(&revs))",
          "content_same": false
        },
        {
          "line": 2044,
          "old_api": "prefixcmp",
          "new_api": "strcmp",
          "old_text": "prefixcmp(arg, \"--compression=\")",
          "new_text": "strcmp(\"--local\", arg)",
          "old_line_content": "\t\tif (!prefixcmp(arg, \"--compression=\")) {",
          "new_line_content": "\t\tif (!strcmp(\"--local\", arg)) {",
          "content_same": false
        },
        {
          "line": 2048,
          "old_api": "usage",
          "new_api": "strcmp",
          "old_text": "usage(pack_usage)",
          "new_text": "strcmp(\"--incremental\", arg)",
          "old_line_content": "\t\t\t\tusage(pack_usage);",
          "new_line_content": "\t\tif (!strcmp(\"--incremental\", arg)) {",
          "content_same": false
        },
        {
          "line": 2052,
          "old_api": "die",
          "new_api": "prefixcmp",
          "old_text": "die(\"bad pack compression level %d\", level)",
          "new_text": "prefixcmp(arg, \"--compression=\")",
          "old_line_content": "\t\t\t\tdie(\"bad pack compression level %d\", level);",
          "new_line_content": "\t\tif (!prefixcmp(arg, \"--compression=\")) {",
          "content_same": false
        },
        {
          "line": 2056,
          "old_api": "prefixcmp",
          "new_api": "usage",
          "old_text": "prefixcmp(arg, \"--max-pack-size=\")",
          "new_text": "usage(pack_usage)",
          "old_line_content": "\t\tif (!prefixcmp(arg, \"--max-pack-size=\")) {",
          "new_line_content": "\t\t\t\tusage(pack_usage);",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": "git_parse_ulong",
          "new_api": "prefixcmp",
          "old_text": "git_parse_ulong(arg+16, &window_memory_limit)",
          "new_text": "prefixcmp(arg, \"--window=\")",
          "old_line_content": "\t\t\tif (!git_parse_ulong(arg+16, &window_memory_limit))",
          "new_line_content": "\t\tif (!prefixcmp(arg, \"--window=\")) {",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": "prefixcmp",
          "new_api": "usage",
          "old_text": "prefixcmp(arg, \"--threads=\")",
          "new_text": "usage(pack_usage)",
          "old_line_content": "\t\tif (!prefixcmp(arg, \"--threads=\")) {",
          "new_line_content": "\t\t\t\tusage(pack_usage);",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": "usage",
          "new_api": "git_parse_ulong",
          "old_text": "usage(pack_usage)",
          "new_text": "git_parse_ulong(arg+16, &window_memory_limit)",
          "old_line_content": "\t\t\t\tusage(pack_usage);",
          "new_line_content": "\t\t\tif (!git_parse_ulong(arg+16, &window_memory_limit))",
          "content_same": false
        },
        {
          "line": 2088,
          "old_api": "prefixcmp",
          "new_api": "usage",
          "old_text": "prefixcmp(arg, \"--depth=\")",
          "new_text": "usage(pack_usage)",
          "old_line_content": "\t\tif (!prefixcmp(arg, \"--depth=\")) {",
          "new_line_content": "\t\t\t\tusage(pack_usage);",
          "content_same": false
        },
        {
          "line": 2160,
          "old_api": "strtoul",
          "new_api": "strcmp",
          "old_text": "strtoul(arg + 16, &c, 10)",
          "new_text": "strcmp(\"--thin\", arg)",
          "old_line_content": "\t\t\tpack_idx_default_version = strtoul(arg + 16, &c, 10);",
          "new_line_content": "\t\tif (!strcmp(\"--thin\", arg)) {",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": "die",
          "new_api": "prefixcmp",
          "old_text": "die(\"bad %s\", arg)",
          "new_text": "prefixcmp(arg, \"--index-version=\")",
          "old_line_content": "\t\t\t\tdie(\"bad %s\", arg);",
          "new_line_content": "\t\tif (!prefixcmp(arg, \"--index-version=\")) {",
          "content_same": false
        },
        {
          "line": 2213,
          "old_api": "read_object_list_from_stdin",
          "new_api": "online_cpus",
          "old_text": "read_object_list_from_stdin()",
          "new_text": "online_cpus()",
          "old_line_content": "\t\tread_object_list_from_stdin();",
          "new_line_content": "\t\tdelta_search_threads = online_cpus();",
          "content_same": false
        },
        {
          "line": 2216,
          "old_api": "get_object_list",
          "new_api": "prepare_packed_git",
          "old_text": "get_object_list(rp_ac, rp_av)",
          "new_text": "prepare_packed_git()",
          "old_line_content": "\t\tget_object_list(rp_ac, rp_av);",
          "new_line_content": "\tprepare_packed_git();",
          "content_same": false
        },
        {
          "line": 2219,
          "old_api": "for_each_ref",
          "new_api": "start_progress",
          "old_text": "for_each_ref(add_ref_tag, NULL)",
          "new_text": "start_progress(\"Counting objects\", 0)",
          "old_line_content": "\t\tfor_each_ref(add_ref_tag, NULL);",
          "new_line_content": "\t\tprogress_state = start_progress(\"Counting objects\", 0);",
          "content_same": false
        },
        {
          "line": 2228,
          "old_api": "\"Total %\"PRIu32\" (delta %\"PRIu32\")",
          "new_api": "stop_progress",
          "old_text": "\"Total %\"PRIu32\" (delta %\"PRIu32\")",
          "new_text": "stop_progress(&progress_state)",
          "old_line_content": "\t\tfprintf(stderr, \"Total %\"PRIu32\" (delta %\"PRIu32\"),\"",
          "new_line_content": "\tstop_progress(&progress_state);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2054,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(arg+14, &end, 0)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\tint level = strtoul(arg+14, &end, 0);",
          "content_same": false
        },
        {
          "line": 2060,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"bad pack compression level %d\", level)",
          "old_line_content": "\t\t\tif (!arg[16] || *end)",
          "new_line_content": "\t\t\t\tdie(\"bad pack compression level %d\", level);",
          "content_same": false
        },
        {
          "line": 2067,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(arg+16, &end, 0)",
          "old_line_content": "\t\t\tif (!arg[9] || *end)",
          "new_line_content": "\t\t\tpack_size_limit = strtoul(arg+16, &end, 0) * 1024 * 1024;",
          "content_same": false
        },
        {
          "line": 2069,
          "old_api": null,
          "new_api": "usage",
          "old_text": null,
          "new_text": "usage(pack_usage)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\t\tusage(pack_usage);",
          "content_same": false
        },
        {
          "line": 2074,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(arg+9, &end, 0)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\twindow = strtoul(arg+9, &end, 0);",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(arg, \"--window-memory=\")",
          "old_line_content": "\t\t\tif (!arg[10] || *end || delta_search_threads < 0)",
          "new_line_content": "\t\tif (!prefixcmp(arg, \"--window-memory=\")) {",
          "content_same": false
        },
        {
          "line": 2081,
          "old_api": null,
          "new_api": "usage",
          "old_text": null,
          "new_text": "usage(pack_usage)",
          "old_line_content": "#ifndef THREADED_DELTA_SEARCH",
          "new_line_content": "\t\t\t\tusage(pack_usage);",
          "content_same": false
        },
        {
          "line": 2084,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(arg, \"--threads=\")",
          "old_line_content": "\t\t\t\t\t\"ignoring %s\", arg);",
          "new_line_content": "\t\tif (!prefixcmp(arg, \"--threads=\")) {",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(arg+10, &end, 0)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\tdelta_search_threads = strtoul(arg+10, &end, 0);",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"no threads support, \"\n\t\t\t\t\t\"ignoring %s\", arg)",
          "old_line_content": "\t\t\tif (!arg[8] || *end)",
          "new_line_content": "\t\t\t\twarning(\"no threads support, \"",
          "content_same": false
        },
        {
          "line": 2096,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(arg, \"--depth=\")",
          "old_line_content": "\t\t\tprogress = 1;",
          "new_line_content": "\t\tif (!prefixcmp(arg, \"--depth=\")) {",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(arg+8, &end, 0)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tdepth = strtoul(arg+8, &end, 0);",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": null,
          "new_api": "usage",
          "old_text": null,
          "new_text": "usage(pack_usage)",
          "old_line_content": "\t\t\tprogress = 2;",
          "new_line_content": "\t\t\t\tusage(pack_usage);",
          "content_same": false
        },
        {
          "line": 2143,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\"--include-tag\", arg)",
          "old_line_content": "\t\t\tuse_internal_rev_list = 1;",
          "new_line_content": "\t\tif (!strcmp(\"--include-tag\", arg)) {",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\"--unpacked\", arg)",
          "old_line_content": "\t\t\t\t\t\t rp_ac_alloc * sizeof(*rp_av));",
          "new_line_content": "\t\tif (!strcmp(\"--unpacked\", arg) ||",
          "content_same": false
        },
        {
          "line": 2148,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(arg, \"--unpacked=\")",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t    !prefixcmp(arg, \"--unpacked=\") ||",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\"--reflog\", arg)",
          "old_line_content": "\t\t\trp_av[rp_ac++] = arg;",
          "new_line_content": "\t\t    !strcmp(\"--reflog\", arg) ||",
          "content_same": false
        },
        {
          "line": 2150,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\"--all\", arg)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t    !strcmp(\"--all\", arg)) {",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": null,
          "new_api": "alloc_nr",
          "old_text": null,
          "new_text": "alloc_nr(rp_ac_alloc)",
          "old_line_content": "\t\t\tuse_internal_rev_list = 1;",
          "new_line_content": "\t\t\t\trp_ac_alloc = alloc_nr(rp_ac_alloc);",
          "content_same": false
        },
        {
          "line": 2154,
          "old_api": null,
          "new_api": "xrealloc",
          "old_text": null,
          "new_text": "xrealloc(rp_av,\n\t\t\t\t\t\t rp_ac_alloc * sizeof(*rp_av))",
          "old_line_content": "\t\t\tthin = 1;",
          "new_line_content": "\t\t\t\trp_av = xrealloc(rp_av,",
          "content_same": false
        },
        {
          "line": 2168,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(arg + 16, &c, 10)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tpack_idx_default_version = strtoul(arg + 16, &c, 10);",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"bad %s\", arg)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\tdie(\"bad %s\", arg);",
          "content_same": false
        },
        {
          "line": 2172,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(c+1, &c, 0)",
          "old_line_content": "\t/* Traditionally \"pack-objects [options] base extra\" failed;",
          "new_line_content": "\t\t\t\tpack_idx_off32_limit = strtoul(c+1, &c, 0);",
          "content_same": false
        },
        {
          "line": 2174,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"bad %s\", arg)",
          "old_line_content": "\t * have been given to upstream rev-list ourselves, which means",
          "new_line_content": "\t\t\t\tdie(\"bad %s\", arg);",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": null,
          "new_api": "usage",
          "old_text": null,
          "new_text": "usage(pack_usage)",
          "old_line_content": "\t *",
          "new_line_content": "\t\tusage(pack_usage);",
          "content_same": false
        },
        {
          "line": 2197,
          "old_api": null,
          "new_api": "usage",
          "old_text": null,
          "new_text": "usage(pack_usage)",
          "old_line_content": "\tif (!pack_to_stdout && thin)",
          "new_line_content": "\t\tusage(pack_usage);",
          "content_same": false
        },
        {
          "line": 2203,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"--max-pack-size cannot be used to build a pack for transfer.\")",
          "old_line_content": "#ifdef THREADED_DELTA_SEARCH",
          "new_line_content": "\t\tdie(\"--max-pack-size cannot be used to build a pack for transfer.\");",
          "content_same": false
        },
        {
          "line": 2206,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"--thin cannot be used to build an indexable pack.\")",
          "old_line_content": "#endif",
          "new_line_content": "\t\tdie(\"--thin cannot be used to build an indexable pack.\");",
          "content_same": false
        },
        {
          "line": 2209,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"--keep-unreachable and --unpack-unreachable are incompatible.\")",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"--keep-unreachable and --unpack-unreachable are incompatible.\");",
          "content_same": false
        },
        {
          "line": 2221,
          "old_api": null,
          "new_api": "read_object_list_from_stdin",
          "old_text": null,
          "new_text": "read_object_list_from_stdin()",
          "old_line_content": "",
          "new_line_content": "\t\tread_object_list_from_stdin();",
          "content_same": false
        },
        {
          "line": 2224,
          "old_api": null,
          "new_api": "get_object_list",
          "old_text": null,
          "new_text": "get_object_list(rp_ac, rp_av)",
          "old_line_content": "\tif (nr_result)",
          "new_line_content": "\t\tget_object_list(rp_ac, rp_av);",
          "content_same": false
        },
        {
          "line": 2227,
          "old_api": null,
          "new_api": "for_each_ref",
          "old_text": null,
          "new_text": "for_each_ref(add_ref_tag, NULL)",
          "old_line_content": "\tif (progress)",
          "new_line_content": "\t\tfor_each_ref(add_ref_tag, NULL);",
          "content_same": false
        },
        {
          "line": 2233,
          "old_api": null,
          "new_api": "prepare_pack",
          "old_text": null,
          "new_text": "prepare_pack(window, depth)",
          "old_line_content": "",
          "new_line_content": "\t\tprepare_pack(window, depth);",
          "content_same": false
        },
        {
          "line": 2234,
          "old_api": null,
          "new_api": "write_pack_file",
          "old_text": null,
          "new_text": "write_pack_file()",
          "old_line_content": "",
          "new_line_content": "\twrite_pack_file();",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": null,
          "new_api": "\"Total %\"PRIu32\" (delta %\"PRIu32\")",
          "old_text": null,
          "new_text": "\"Total %\"PRIu32\" (delta %\"PRIu32\")",
          "old_line_content": "",
          "new_line_content": "\t\tfprintf(stderr, \"Total %\"PRIu32\" (delta %\"PRIu32\"),\"",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": null,
          "new_api": "qsort",
          "old_text": null,
          "new_text": "qsort(delta_list, n, sizeof(*delta_list), type_size_sort)",
          "old_line_content": "",
          "new_line_content": "\t\tqsort(delta_list, n, sizeof(*delta_list), type_size_sort);",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": null,
          "new_api": "ll_find_deltas",
          "old_text": null,
          "new_text": "ll_find_deltas(delta_list, n, window+1, depth, &nr_done)",
          "old_line_content": "static int git_pack_config(const char *k, const char *v, void *cb)",
          "new_line_content": "\t\tll_find_deltas(delta_list, n, window+1, depth, &nr_done);",
          "content_same": false
        },
        {
          "line": 1748,
          "old_api": null,
          "new_api": "stop_progress",
          "old_text": null,
          "new_text": "stop_progress(&progress_state)",
          "old_line_content": "{",
          "new_line_content": "\t\tstop_progress(&progress_state);",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(delta_list)",
          "old_line_content": "\t}",
          "new_line_content": "\tfree(delta_list);",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(k, \"pack.depth\")",
          "old_line_content": "\t\telse if (level < 0 || level > Z_BEST_COMPRESSION)",
          "new_line_content": "\tif (!strcmp(k, \"pack.depth\")) {",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(k, \"pack.compression\")",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\tif (!strcmp(k, \"pack.compression\")) {",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": null,
          "new_api": "git_config_int",
          "old_text": null,
          "new_text": "git_config_int(k, v)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tint level = git_config_int(k, v);",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"bad pack compression level %d\", level)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tdie(\"bad pack compression level %d\", level);",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(k, \"pack.deltacachelimit\")",
          "old_line_content": "\t\t\t    delta_search_threads);",
          "new_line_content": "\tif (!strcmp(k, \"pack.deltacachelimit\")) {",
          "content_same": false
        },
        {
          "line": 1784,
          "old_api": null,
          "new_api": "git_config_int",
          "old_text": null,
          "new_text": "git_config_int(k, v)",
          "old_line_content": "#ifndef THREADED_DELTA_SEARCH",
          "new_line_content": "\t\tcache_max_small_delta_size = git_config_int(k, v);",
          "content_same": false
        },
        {
          "line": 1787,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(k, \"pack.threads\")",
          "old_line_content": "#endif",
          "new_line_content": "\tif (!strcmp(k, \"pack.threads\")) {",
          "content_same": false
        },
        {
          "line": 1788,
          "old_api": null,
          "new_api": "git_config_int",
          "old_text": null,
          "new_text": "git_config_int(k, v)",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\t\tdelta_search_threads = git_config_int(k, v);",
          "content_same": false
        },
        {
          "line": 1794,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"no threads support, ignoring %s\", k)",
          "old_line_content": "\t\t\t\tpack_idx_default_version);",
          "new_line_content": "\t\t\twarning(\"no threads support, ignoring %s\", k);",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": null,
          "new_api": "git_config_int",
          "old_text": null,
          "new_text": "git_config_int(k, v)",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\t\tpack_idx_default_version = git_config_int(k, v);",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(k, \"pack.packsizelimit\")",
          "old_line_content": "{",
          "new_line_content": "\tif (!strcmp(k, \"pack.packsizelimit\")) {",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": null,
          "new_api": "git_config_ulong",
          "old_text": null,
          "new_text": "git_config_ulong(k, v)",
          "old_line_content": "\tchar line[40 + 1 + PATH_MAX + 2];",
          "new_line_content": "\t\tpack_size_limit_cfg = git_config_ulong(k, v);",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": null,
          "new_api": "git_default_config",
          "old_text": null,
          "new_text": "git_default_config(k, v, cb)",
          "old_line_content": "\tfor (;;) {",
          "new_line_content": "\treturn git_default_config(k, v, cb);",
          "content_same": false
        },
        {
          "line": 1818,
          "old_api": null,
          "new_api": "fgets",
          "old_text": null,
          "new_text": "fgets(line, sizeof(line), stdin)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tif (!fgets(line, sizeof(line), stdin)) {",
          "content_same": false
        },
        {
          "line": 1819,
          "old_api": null,
          "new_api": "feof",
          "old_text": null,
          "new_text": "feof(stdin)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tif (feof(stdin))",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": null,
          "new_api": "clearerr",
          "old_text": null,
          "new_text": "clearerr(stdin)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\tclearerr(stdin);",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": null,
          "new_api": "get_sha1_hex",
          "old_text": null,
          "new_text": "get_sha1_hex(line+1, sha1)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (get_sha1_hex(line+1, sha1))",
          "content_same": false
        },
        {
          "line": 1832,
          "old_api": null,
          "new_api": "add_preferred_base",
          "old_text": null,
          "new_text": "add_preferred_base(sha1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tadd_preferred_base(sha1);",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": null,
          "new_api": "get_sha1_hex",
          "old_text": null,
          "new_text": "get_sha1_hex(line, sha1)",
          "old_line_content": "#define OBJECT_ADDED (1u<<20)",
          "new_line_content": "\t\tif (get_sha1_hex(line, sha1))",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"expected sha1, got garbage:\\n %s\", line)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"expected sha1, got garbage:\\n %s\", line);",
          "content_same": false
        },
        {
          "line": 1838,
          "old_api": null,
          "new_api": "add_preferred_base_object",
          "old_text": null,
          "new_text": "add_preferred_base_object(line+41)",
          "old_line_content": "{",
          "new_line_content": "\t\tadd_preferred_base_object(line+41);",
          "content_same": false
        },
        {
          "line": 1847,
          "old_api": null,
          "new_api": "add_object_entry",
          "old_text": null,
          "new_text": "add_object_entry(commit->object.sha1, OBJ_COMMIT, NULL, 0)",
          "old_line_content": "\tp->item->flags |= OBJECT_ADDED;",
          "new_line_content": "\tadd_object_entry(commit->object.sha1, OBJ_COMMIT, NULL, 0);",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": null,
          "new_api": "add_preferred_base_object",
          "old_text": null,
          "new_text": "add_preferred_base_object(p->name)",
          "old_line_content": "}",
          "new_line_content": "\tadd_preferred_base_object(p->name);",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": null,
          "new_api": "add_object_entry",
          "old_text": null,
          "new_text": "add_object_entry(p->item->sha1, p->item->type, p->name, 0)",
          "old_line_content": "",
          "new_line_content": "\tadd_object_entry(p->item->sha1, p->item->type, p->name, 0);",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": null,
          "new_api": "add_preferred_base",
          "old_text": null,
          "new_text": "add_preferred_base(commit->object.sha1)",
          "old_line_content": "struct in_pack {",
          "new_line_content": "\tadd_preferred_base(commit->object.sha1);",
          "content_same": false
        },
        {
          "line": 1876,
          "old_api": null,
          "new_api": "find_pack_entry_one",
          "old_text": null,
          "new_text": "find_pack_entry_one(object->sha1, p)",
          "old_line_content": " */",
          "new_line_content": "\tin_pack->array[in_pack->nr].offset = find_pack_entry_one(object->sha1, p);",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": null,
          "new_api": "hashcmp",
          "old_text": null,
          "new_text": "hashcmp(a->object->sha1, b->object->sha1)",
          "old_line_content": "",
          "new_line_content": "\t\treturn hashcmp(a->object->sha1, b->object->sha1);",
          "content_same": false
        },
        {
          "line": 1904,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&in_pack, 0, sizeof(in_pack))",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\tmemset(&in_pack, 0, sizeof(in_pack));",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": null,
          "new_api": "nth_packed_object_sha1",
          "old_text": null,
          "new_text": "nth_packed_object_sha1(p, i)",
          "old_line_content": "\tif (in_pack.nr) {",
          "new_line_content": "\t\t\tsha1 = nth_packed_object_sha1(p, i);",
          "content_same": false
        },
        {
          "line": 1927,
          "old_api": null,
          "new_api": "mark_in_pack_object",
          "old_text": null,
          "new_text": "mark_in_pack_object(o, p, &in_pack)",
          "old_line_content": "\t\tfor (i = 0; i < in_pack.nr; i++) {",
          "new_line_content": "\t\t\t\tmark_in_pack_object(o, p, &in_pack);",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": null,
          "new_api": "qsort",
          "old_text": null,
          "new_text": "qsort(in_pack.array, in_pack.nr, sizeof(in_pack.array[0]),\n\t\t      ofscmp)",
          "old_line_content": "}",
          "new_line_content": "\t\tqsort(in_pack.array, in_pack.nr, sizeof(in_pack.array[0]),",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": null,
          "new_api": "add_object_entry",
          "old_text": null,
          "new_text": "add_object_entry(o->sha1, o->type, \"\", 0)",
          "old_line_content": "\tstruct packed_git *p;",
          "new_line_content": "\t\t\tadd_object_entry(o->sha1, o->type, \"\", 0);",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(in_pack.array)",
          "old_line_content": "",
          "new_line_content": "\tfree(in_pack.array);",
          "content_same": false
        },
        {
          "line": 1951,
          "old_api": null,
          "new_api": "matches_pack_name",
          "old_text": null,
          "new_text": "matches_pack_name(p, revs->ignore_packed[i])",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (matches_pack_name(p, revs->ignore_packed[i]))",
          "content_same": false
        },
        {
          "line": 1957,
          "old_api": null,
          "new_api": "open_pack_index",
          "old_text": null,
          "new_text": "open_pack_index(p)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (open_pack_index(p))",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"cannot open pack index\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tdie(\"cannot open pack index\");",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": null,
          "new_api": "nth_packed_object_sha1",
          "old_text": null,
          "new_text": "nth_packed_object_sha1(p, i)",
          "old_line_content": "static void get_object_list(int ac, const char **av)",
          "new_line_content": "\t\t\tsha1 = nth_packed_object_sha1(p, i);",
          "content_same": false
        },
        {
          "line": 1962,
          "old_api": null,
          "new_api": "locate_object_entry",
          "old_text": null,
          "new_text": "locate_object_entry(sha1)",
          "old_line_content": "{",
          "new_line_content": "\t\t\tif (!locate_object_entry(sha1))",
          "content_same": false
        },
        {
          "line": 1963,
          "old_api": null,
          "new_api": "force_object_loose",
          "old_text": null,
          "new_text": "force_object_loose(sha1, p->mtime)",
          "old_line_content": "\tstruct rev_info revs;",
          "new_line_content": "\t\t\t\tif (force_object_loose(sha1, p->mtime))",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unable to force loose object\")",
          "old_line_content": "\tchar line[1000];",
          "new_line_content": "\t\t\t\t\tdie(\"unable to force loose object\");",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": null,
          "new_api": "init_revisions",
          "old_text": null,
          "new_text": "init_revisions(&revs, NULL)",
          "old_line_content": "\t\tif (!len)",
          "new_line_content": "\tinit_revisions(&revs, NULL);",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": null,
          "new_api": "setup_revisions",
          "old_text": null,
          "new_text": "setup_revisions(ac, av, &revs, NULL)",
          "old_line_content": "\t\tif (*line == '-') {",
          "new_line_content": "\tsetup_revisions(ac, av, &revs, NULL);",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": null,
          "new_api": "fgets",
          "old_text": null,
          "new_text": "fgets(line, sizeof(line), stdin)",
          "old_line_content": "\t\t\t\tflags ^= UNINTERESTING;",
          "new_line_content": "\twhile (fgets(line, sizeof(line), stdin) != NULL) {",
          "content_same": false
        },
        {
          "line": 1980,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(line)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\tint len = strlen(line);",
          "content_same": false
        },
        {
          "line": 1986,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(line, \"--not\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tif (!strcmp(line, \"--not\")) {",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": null,
          "new_api": "handle_revision_arg",
          "old_text": null,
          "new_text": "handle_revision_arg(line, &revs, flags, 1)",
          "old_line_content": "",
          "new_line_content": "\t\tif (handle_revision_arg(line, &revs, flags, 1))",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"bad revision '%s'\", line)",
          "old_line_content": "\tif (keep_unreachable)",
          "new_line_content": "\t\t\tdie(\"bad revision '%s'\", line);",
          "content_same": false
        },
        {
          "line": 1997,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"revision walk setup failed\")",
          "old_line_content": "}",
          "new_line_content": "\t\tdie(\"revision walk setup failed\");",
          "content_same": false
        },
        {
          "line": 1998,
          "old_api": null,
          "new_api": "mark_edges_uninteresting",
          "old_text": null,
          "new_text": "mark_edges_uninteresting(revs.commits, &revs, show_edge)",
          "old_line_content": "",
          "new_line_content": "\tmark_edges_uninteresting(revs.commits, &revs, show_edge);",
          "content_same": false
        },
        {
          "line": 1999,
          "old_api": null,
          "new_api": "traverse_commit_list",
          "old_text": null,
          "new_text": "traverse_commit_list(&revs, show_commit, show_object)",
          "old_line_content": "static int adjust_perm(const char *path, mode_t mode)",
          "new_line_content": "\ttraverse_commit_list(&revs, show_commit, show_object);",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": null,
          "new_api": "add_objects_in_unpacked_packs",
          "old_text": null,
          "new_text": "add_objects_in_unpacked_packs(&revs)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\t\tadd_objects_in_unpacked_packs(&revs);",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": null,
          "new_api": "loosen_unused_packed_objects",
          "old_text": null,
          "new_text": "loosen_unused_packed_objects(&revs)",
          "old_line_content": "}",
          "new_line_content": "\t\tloosen_unused_packed_objects(&revs);",
          "content_same": false
        },
        {
          "line": 2009,
          "old_api": null,
          "new_api": "chmod",
          "old_text": null,
          "new_text": "chmod(path, mode)",
          "old_line_content": "\tint thin = 0;",
          "new_line_content": "\tif (chmod(path, mode))",
          "content_same": false
        },
        {
          "line": 2011,
          "old_api": null,
          "new_api": "adjust_shared_perm",
          "old_text": null,
          "new_text": "adjust_shared_perm(path)",
          "old_line_content": "\tconst char **rp_av;",
          "new_line_content": "\treturn adjust_shared_perm(path);",
          "content_same": false
        },
        {
          "line": 2023,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(rp_ac_alloc, sizeof(*rp_av))",
          "old_line_content": "\t\tpack_compression_level = core_compression_level;",
          "new_line_content": "\trp_av = xcalloc(rp_ac_alloc, sizeof(*rp_av));",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": null,
          "new_api": "git_config",
          "old_text": null,
          "new_text": "git_config(git_pack_config, NULL)",
          "old_line_content": "\t\tif (*arg != '-')",
          "new_line_content": "\tgit_config(git_pack_config, NULL);",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": null,
          "new_api": "isatty",
          "old_text": null,
          "new_text": "isatty(2)",
          "old_line_content": "\t\t\tnon_empty = 1;",
          "new_line_content": "\tprogress = isatty(2);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2059,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(arg+16, &end, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tpack_size_limit = strtoul(arg+16, &end, 0) * 1024 * 1024;",
          "new_line_content": "\t\t\telse if (level < 0 || level > Z_BEST_COMPRESSION)",
          "content_same": false
        },
        {
          "line": 2061,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(pack_usage)",
          "new_text": null,
          "old_line_content": "\t\t\t\tusage(pack_usage);",
          "new_line_content": "\t\t\tpack_compression_level = level;",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(arg+9, &end, 0)",
          "new_text": null,
          "old_line_content": "\t\t\twindow = strtoul(arg+9, &end, 0);",
          "new_line_content": "\t\t\tpack_size_limit_cfg = 0;",
          "content_same": false
        },
        {
          "line": 2068,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(pack_usage)",
          "new_text": null,
          "old_line_content": "\t\t\t\tusage(pack_usage);",
          "new_line_content": "\t\t\tif (!arg[16] || *end)",
          "content_same": false
        },
        {
          "line": 2071,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(arg, \"--window-memory=\")",
          "new_text": null,
          "old_line_content": "\t\tif (!prefixcmp(arg, \"--window-memory=\")) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2073,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(pack_usage)",
          "new_text": null,
          "old_line_content": "\t\t\t\tusage(pack_usage);",
          "new_line_content": "\t\t\tchar *end;",
          "content_same": false
        },
        {
          "line": 2078,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(arg+10, &end, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tdelta_search_threads = strtoul(arg+10, &end, 0);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2083,
          "old_api": "warning",
          "new_api": null,
          "old_text": "warning(\"no threads support, \"\n\t\t\t\t\t\"ignoring %s\", arg)",
          "new_text": null,
          "old_line_content": "\t\t\t\twarning(\"no threads support, \"",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(arg+8, &end, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tdepth = strtoul(arg+8, &end, 0);",
          "new_line_content": "\t\t\tif (delta_search_threads != 1)",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(pack_usage)",
          "new_text": null,
          "old_line_content": "\t\t\t\tusage(pack_usage);",
          "new_line_content": "\t\t\t\t\t\"ignoring %s\", arg);",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"--progress\", arg)",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(\"--progress\", arg)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"--all-progress\", arg)",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(\"--all-progress\", arg)) {",
          "new_line_content": "\t\t\tif (!arg[8] || *end)",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(arg, \"--unpacked=\")",
          "new_text": null,
          "old_line_content": "\t\t    !prefixcmp(arg, \"--unpacked=\") ||",
          "new_line_content": "\t\t\tunpack_unreachable = 1;",
          "content_same": false
        },
        {
          "line": 2141,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"--reflog\", arg)",
          "new_text": null,
          "old_line_content": "\t\t    !strcmp(\"--reflog\", arg) ||",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2142,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"--all\", arg)",
          "new_text": null,
          "old_line_content": "\t\t    !strcmp(\"--all\", arg)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2145,
          "old_api": "alloc_nr",
          "new_api": null,
          "old_text": "alloc_nr(rp_ac_alloc)",
          "new_text": null,
          "old_line_content": "\t\t\t\trp_ac_alloc = alloc_nr(rp_ac_alloc);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": "xrealloc",
          "new_api": null,
          "old_text": "xrealloc(rp_av,\n\t\t\t\t\t\t rp_ac_alloc * sizeof(*rp_av))",
          "new_text": null,
          "old_line_content": "\t\t\t\trp_av = xrealloc(rp_av,",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"--thin\", arg)",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(\"--thin\", arg)) {",
          "new_line_content": "\t\t\tif (rp_ac >= rp_ac_alloc - 1) {",
          "content_same": false
        },
        {
          "line": 2158,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(arg, \"--index-version=\")",
          "new_text": null,
          "old_line_content": "\t\tif (!prefixcmp(arg, \"--index-version=\")) {",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2162,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"bad %s\", arg)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"bad %s\", arg);",
          "new_line_content": "\t\t\tthin = 1;",
          "content_same": false
        },
        {
          "line": 2164,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(c+1, &c, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpack_idx_off32_limit = strtoul(c+1, &c, 0);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2169,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(pack_usage)",
          "new_text": null,
          "old_line_content": "\t\tusage(pack_usage);",
          "new_line_content": "\t\t\tif (pack_idx_default_version > 2)",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(pack_usage)",
          "new_text": null,
          "old_line_content": "\t\tusage(pack_usage);",
          "new_line_content": "\t * base_name and send everything else to the internal revision",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"--max-pack-size cannot be used to build a pack for transfer.\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"--max-pack-size cannot be used to build a pack for transfer.\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"--thin cannot be used to build an indexable pack.\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"--thin cannot be used to build an indexable pack.\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"--keep-unreachable and --unpack-unreachable are incompatible.\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"--keep-unreachable and --unpack-unreachable are incompatible.\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2205,
          "old_api": "online_cpus",
          "new_api": null,
          "old_text": "online_cpus()",
          "new_text": null,
          "old_line_content": "\t\tdelta_search_threads = online_cpus();",
          "new_line_content": "\tif (!pack_to_stdout && thin)",
          "content_same": false
        },
        {
          "line": 2208,
          "old_api": "prepare_packed_git",
          "new_api": null,
          "old_text": "prepare_packed_git()",
          "new_text": null,
          "old_line_content": "\tprepare_packed_git();",
          "new_line_content": "\tif (keep_unreachable && unpack_unreachable)",
          "content_same": false
        },
        {
          "line": 2211,
          "old_api": "start_progress",
          "new_api": null,
          "old_text": "start_progress(\"Counting objects\", 0)",
          "new_text": null,
          "old_line_content": "\t\tprogress_state = start_progress(\"Counting objects\", 0);",
          "new_line_content": "#ifdef THREADED_DELTA_SEARCH",
          "content_same": false
        },
        {
          "line": 2220,
          "old_api": "stop_progress",
          "new_api": null,
          "old_text": "stop_progress(&progress_state)",
          "new_text": null,
          "old_line_content": "\tstop_progress(&progress_state);",
          "new_line_content": "\tif (!use_internal_rev_list)",
          "content_same": false
        },
        {
          "line": 2225,
          "old_api": "prepare_pack",
          "new_api": null,
          "old_text": "prepare_pack(window, depth)",
          "new_text": null,
          "old_line_content": "\t\tprepare_pack(window, depth);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2226,
          "old_api": "write_pack_file",
          "new_api": null,
          "old_text": "write_pack_file()",
          "new_text": null,
          "old_line_content": "\twrite_pack_file();",
          "new_line_content": "\tif (include_tag && nr_result)",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": "start_progress",
          "new_api": null,
          "old_text": "start_progress(\"Compressing objects\",\n\t\t\t\t\t\t\tnr_deltas)",
          "new_text": null,
          "old_line_content": "\t\t\tprogress_state = start_progress(\"Compressing objects\",",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "qsort",
          "new_api": null,
          "old_text": "qsort(delta_list, n, sizeof(*delta_list), type_size_sort)",
          "new_text": null,
          "old_line_content": "\t\tqsort(delta_list, n, sizeof(*delta_list), type_size_sort);",
          "new_line_content": "\t\tdelta_list[n++] = entry;",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": "ll_find_deltas",
          "new_api": null,
          "old_text": "ll_find_deltas(delta_list, n, window+1, depth, &nr_done)",
          "new_text": null,
          "old_line_content": "\t\tll_find_deltas(delta_list, n, window+1, depth, &nr_done);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": "stop_progress",
          "new_api": null,
          "old_text": "stop_progress(&progress_state)",
          "new_text": null,
          "old_line_content": "\t\tstop_progress(&progress_state);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1742,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"inconsistency with delta count\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"inconsistency with delta count\");",
          "new_line_content": "\t\tunsigned nr_done = 0;",
          "content_same": false
        },
        {
          "line": 1749,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(k, \"pack.window\")",
          "new_text": null,
          "old_line_content": "\tif(!strcmp(k, \"pack.window\")) {",
          "new_line_content": "\t\tif (nr_done != nr_deltas)",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(k, \"pack.windowmemory\")",
          "new_text": null,
          "old_line_content": "\tif (!strcmp(k, \"pack.windowmemory\")) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": "git_config_ulong",
          "new_api": null,
          "old_text": "git_config_ulong(k, v)",
          "new_text": null,
          "old_line_content": "\t\twindow_memory_limit = git_config_ulong(k, v);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(k, \"pack.deltacachesize\")",
          "new_text": null,
          "old_line_content": "\tif (!strcmp(k, \"pack.deltacachesize\")) {",
          "new_line_content": "\t\tif (level == -1)",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "git_config_int",
          "new_api": null,
          "old_text": "git_config_int(k, v)",
          "new_text": null,
          "old_line_content": "\t\tmax_delta_cache_size = git_config_int(k, v);",
          "new_line_content": "\t\t\tlevel = Z_DEFAULT_COMPRESSION;",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(k, \"pack.deltacachelimit\")",
          "new_text": null,
          "old_line_content": "\tif (!strcmp(k, \"pack.deltacachelimit\")) {",
          "new_line_content": "\t\tpack_compression_level = level;",
          "content_same": false
        },
        {
          "line": 1776,
          "old_api": "git_config_int",
          "new_api": null,
          "old_text": "git_config_int(k, v)",
          "new_text": null,
          "old_line_content": "\t\tcache_max_small_delta_size = git_config_int(k, v);",
          "new_line_content": "\t\tpack_compression_seen = 1;",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"invalid number of threads specified (%d)\",\n\t\t\t    delta_search_threads)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"invalid number of threads specified (%d)\",",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1786,
          "old_api": "warning",
          "new_api": null,
          "old_text": "warning(\"no threads support, ignoring %s\", k)",
          "new_text": null,
          "old_line_content": "\t\t\twarning(\"no threads support, ignoring %s\", k);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1791,
          "old_api": "git_config_int",
          "new_api": null,
          "old_text": "git_config_int(k, v)",
          "new_text": null,
          "old_line_content": "\t\tpack_idx_default_version = git_config_int(k, v);",
          "new_line_content": "\t\t\t    delta_search_threads);",
          "content_same": false
        },
        {
          "line": 1793,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"bad pack.indexversion=%\"PRIu32,\n\t\t\t\tpack_idx_default_version)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"bad pack.indexversion=%\"PRIu32,",
          "new_line_content": "\t\tif (delta_search_threads != 1)",
          "content_same": false
        },
        {
          "line": 1797,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(k, \"pack.packsizelimit\")",
          "new_text": null,
          "old_line_content": "\tif (!strcmp(k, \"pack.packsizelimit\")) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": "fgets",
          "new_api": null,
          "old_text": "fgets(line, sizeof(line), stdin)",
          "new_text": null,
          "old_line_content": "\t\tif (!fgets(line, sizeof(line), stdin)) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1811,
          "old_api": "feof",
          "new_api": null,
          "old_text": "feof(stdin)",
          "new_text": null,
          "old_line_content": "\t\t\tif (feof(stdin))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1813,
          "old_api": "ferror",
          "new_api": null,
          "old_text": "ferror(stdin)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!ferror(stdin))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1814,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"fgets returned NULL, not EOF, not error!\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"fgets returned NULL, not EOF, not error!\");",
          "new_line_content": "\tchar line[40 + 1 + PATH_MAX + 2];",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"fgets: %s\", strerror(errno));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": "clearerr",
          "new_api": null,
          "old_text": "clearerr(stdin)",
          "new_text": null,
          "old_line_content": "\t\t\tclearerr(stdin);",
          "new_line_content": "\tfor (;;) {",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": "get_sha1_hex",
          "new_api": null,
          "old_text": "get_sha1_hex(line, sha1)",
          "new_text": null,
          "old_line_content": "\t\tif (get_sha1_hex(line, sha1))",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"expected sha1, got garbage:\\n %s\", line)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"expected sha1, got garbage:\\n %s\", line);",
          "new_line_content": "\t\tif (line[0] == '-') {",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": "add_object_entry",
          "new_api": null,
          "old_text": "add_object_entry(sha1, 0, line+41, 0)",
          "new_text": null,
          "old_line_content": "\t\tadd_object_entry(sha1, 0, line+41, 0);",
          "new_line_content": "\t\t\t\t    line);",
          "content_same": false
        },
        {
          "line": 1845,
          "old_api": "add_preferred_base_object",
          "new_api": null,
          "old_text": "add_preferred_base_object(p->name)",
          "new_text": null,
          "old_line_content": "\tadd_preferred_base_object(p->name);",
          "new_line_content": "static void show_commit(struct commit *commit)",
          "content_same": false
        },
        {
          "line": 1846,
          "old_api": "add_object_entry",
          "new_api": null,
          "old_text": "add_object_entry(p->item->sha1, p->item->type, p->name, 0)",
          "new_text": null,
          "old_line_content": "\tadd_object_entry(p->item->sha1, p->item->type, p->name, 0);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1852,
          "old_api": "add_preferred_base",
          "new_api": null,
          "old_text": "add_preferred_base(commit->object.sha1)",
          "new_text": null,
          "old_line_content": "\tadd_preferred_base(commit->object.sha1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": "find_pack_entry_one",
          "new_api": null,
          "old_text": "find_pack_entry_one(object->sha1, p)",
          "new_text": null,
          "old_line_content": "\tin_pack->array[in_pack->nr].offset = find_pack_entry_one(object->sha1, p);",
          "new_line_content": "struct in_pack {",
          "content_same": false
        },
        {
          "line": 1887,
          "old_api": "hashcmp",
          "new_api": null,
          "old_text": "hashcmp(a->object->sha1, b->object->sha1)",
          "new_text": null,
          "old_line_content": "\t\treturn hashcmp(a->object->sha1, b->object->sha1);",
          "new_line_content": "\tstruct in_pack_object *a = (struct in_pack_object *)a_;",
          "content_same": false
        },
        {
          "line": 1896,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&in_pack, 0, sizeof(in_pack))",
          "new_text": null,
          "old_line_content": "\tmemset(&in_pack, 0, sizeof(in_pack));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1903,
          "old_api": "matches_pack_name",
          "new_api": null,
          "old_text": "matches_pack_name(p, revs->ignore_packed[i])",
          "new_text": null,
          "old_line_content": "\t\t\tif (matches_pack_name(p, revs->ignore_packed[i]))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1908,
          "old_api": "open_pack_index",
          "new_api": null,
          "old_text": "open_pack_index(p)",
          "new_text": null,
          "old_line_content": "\t\tif (open_pack_index(p))",
          "new_line_content": "\t\tstruct object *o;",
          "content_same": false
        },
        {
          "line": 1909,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"cannot open pack index\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"cannot open pack index\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": "add_object_entry",
          "new_api": null,
          "old_text": "add_object_entry(o->sha1, o->type, \"\", 0)",
          "new_text": null,
          "old_line_content": "\t\t\tadd_object_entry(o->sha1, o->type, \"\", 0);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1932,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(in_pack.array)",
          "new_text": null,
          "old_line_content": "\tfree(in_pack.array);",
          "new_line_content": "\tif (in_pack.nr) {",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": "matches_pack_name",
          "new_api": null,
          "old_text": "matches_pack_name(p, revs->ignore_packed[i])",
          "new_text": null,
          "old_line_content": "\t\t\tif (matches_pack_name(p, revs->ignore_packed[i]))",
          "new_line_content": "static void loosen_unused_packed_objects(struct rev_info *revs)",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": "open_pack_index",
          "new_api": null,
          "old_text": "open_pack_index(p)",
          "new_text": null,
          "old_line_content": "\t\tif (open_pack_index(p))",
          "new_line_content": "\tfor (p = packed_git; p; p = p->next) {",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"cannot open pack index\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"cannot open pack index\");",
          "new_line_content": "\t\tfor (i = 0; i < revs->num_ignore_packed; i++) {",
          "content_same": false
        },
        {
          "line": 1953,
          "old_api": "nth_packed_object_sha1",
          "new_api": null,
          "old_text": "nth_packed_object_sha1(p, i)",
          "new_text": null,
          "old_line_content": "\t\t\tsha1 = nth_packed_object_sha1(p, i);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": "locate_object_entry",
          "new_api": null,
          "old_text": "locate_object_entry(sha1)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!locate_object_entry(sha1))",
          "new_line_content": "\t\tif (revs->num_ignore_packed <= i)",
          "content_same": false
        },
        {
          "line": 1955,
          "old_api": "force_object_loose",
          "new_api": null,
          "old_text": "force_object_loose(sha1, p->mtime)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (force_object_loose(sha1, p->mtime))",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"unable to force loose object\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdie(\"unable to force loose object\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": "init_revisions",
          "new_api": null,
          "old_text": "init_revisions(&revs, NULL)",
          "new_text": null,
          "old_line_content": "\tinit_revisions(&revs, NULL);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": "setup_revisions",
          "new_api": null,
          "old_text": "setup_revisions(ac, av, &revs, NULL)",
          "new_text": null,
          "old_line_content": "\tsetup_revisions(ac, av, &revs, NULL);",
          "new_line_content": "static void get_object_list(int ac, const char **av)",
          "content_same": false
        },
        {
          "line": 1971,
          "old_api": "fgets",
          "new_api": null,
          "old_text": "fgets(line, sizeof(line), stdin)",
          "new_text": null,
          "old_line_content": "\twhile (fgets(line, sizeof(line), stdin) != NULL) {",
          "new_line_content": "\tstruct rev_info revs;",
          "content_same": false
        },
        {
          "line": 1972,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(line)",
          "new_text": null,
          "old_line_content": "\t\tint len = strlen(line);",
          "new_line_content": "\tchar line[1000];",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(line, \"--not\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(line, \"--not\")) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"not a rev '%s'\", line)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"not a rev '%s'\", line);",
          "new_line_content": "\t\t\tline[--len] = 0;",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": "handle_revision_arg",
          "new_api": null,
          "old_text": "handle_revision_arg(line, &revs, flags, 1)",
          "new_text": null,
          "old_line_content": "\t\tif (handle_revision_arg(line, &revs, flags, 1))",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"bad revision '%s'\", line)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"bad revision '%s'\", line);",
          "new_line_content": "\t\tif (*line == '-') {",
          "content_same": false
        },
        {
          "line": 1988,
          "old_api": "prepare_revision_walk",
          "new_api": null,
          "old_text": "prepare_revision_walk(&revs)",
          "new_text": null,
          "old_line_content": "\tif (prepare_revision_walk(&revs))",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"revision walk setup failed\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"revision walk setup failed\");",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1991,
          "old_api": "traverse_commit_list",
          "new_api": null,
          "old_text": "traverse_commit_list(&revs, show_commit, show_object)",
          "new_text": null,
          "old_line_content": "\ttraverse_commit_list(&revs, show_commit, show_object);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": "add_objects_in_unpacked_packs",
          "new_api": null,
          "old_text": "add_objects_in_unpacked_packs(&revs)",
          "new_text": null,
          "old_line_content": "\t\tadd_objects_in_unpacked_packs(&revs);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2001,
          "old_api": "chmod",
          "new_api": null,
          "old_text": "chmod(path, mode)",
          "new_text": null,
          "old_line_content": "\tif (chmod(path, mode))",
          "new_line_content": "\tif (keep_unreachable)",
          "content_same": false
        },
        {
          "line": 2003,
          "old_api": "adjust_shared_perm",
          "new_api": null,
          "old_text": "adjust_shared_perm(path)",
          "new_text": null,
          "old_line_content": "\treturn adjust_shared_perm(path);",
          "new_line_content": "\tif (unpack_unreachable)",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(rp_ac_alloc, sizeof(*rp_av))",
          "new_text": null,
          "old_line_content": "\trp_av = xcalloc(rp_ac_alloc, sizeof(*rp_av));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": "git_config",
          "new_api": null,
          "old_text": "git_config(git_pack_config, NULL)",
          "new_text": null,
          "old_line_content": "\tgit_config(git_pack_config, NULL);",
          "new_line_content": "\tint rp_ac;",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": "isatty",
          "new_api": null,
          "old_text": "isatty(2)",
          "new_text": null,
          "old_line_content": "\tprogress = isatty(2);",
          "new_line_content": "\trp_av[0] = \"pack-objects\";",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"--non-empty\", arg)",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(\"--non-empty\", arg)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"--local\", arg)",
          "new_text": null,
          "old_line_content": "\t\tif (!strcmp(\"--local\", arg)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(arg+14, &end, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tint level = strtoul(arg+14, &end, 0);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 31,
      "total_additions": 96,
      "total_deletions": 96,
      "total_api_changes": 223
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 8,
        "api_related_lines": 223,
        "non_api_lines": 8,
        "non_api_line_numbers": [
          1728,
          1729,
          1730,
          1731,
          1732,
          1733,
          1734,
          1735
        ]
      }
    },
    "api_calls_before": 422,
    "api_calls_after": 422,
    "diff_info": {
      "added_lines": 8,
      "removed_lines": 0,
      "total_diff_lines": 20
    }
  }
}