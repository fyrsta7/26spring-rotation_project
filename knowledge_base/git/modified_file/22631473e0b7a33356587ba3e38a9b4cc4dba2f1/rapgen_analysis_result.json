{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/22631473e0b7a33356587ba3e38a9b4cc4dba2f1",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/22631473e0b7a33356587ba3e38a9b4cc4dba2f1/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/22631473e0b7a33356587ba3e38a9b4cc4dba2f1/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/22631473e0b7a33356587ba3e38a9b4cc4dba2f1/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 93,
          "old_api": "htons",
          "new_api": "ce_match_stat",
          "old_text": "htons(len)",
          "new_text": "ce_match_stat(old, st, 0)",
          "old_line_content": "\tce->ce_flags = htons(len);",
          "new_line_content": "\tif (old && !ce_stage(old) && !ce_match_stat(old, st, 0))",
          "content_same": false
        },
        {
          "line": 97,
          "old_api": "index_path",
          "new_api": "xcalloc",
          "old_text": "index_path(ce->sha1, path, st, !info_only)",
          "new_text": "xcalloc(1, size)",
          "old_line_content": "\tif (index_path(ce->sha1, path, st, !info_only))",
          "new_line_content": "\tce = xcalloc(1, size);",
          "content_same": false
        },
        {
          "line": 101,
          "old_api": "add_cache_entry",
          "new_api": "ce_mode_from_stat",
          "old_text": "add_cache_entry(ce, option)",
          "new_text": "ce_mode_from_stat(old, st->st_mode)",
          "old_line_content": "\tif (add_cache_entry(ce, option))",
          "new_line_content": "\tce->ce_mode = ce_mode_from_stat(old, st->st_mode);",
          "content_same": false
        },
        {
          "line": 143,
          "old_api": "add_one_path",
          "new_api": "ntohl",
          "old_text": "add_one_path(ce, path, len, st)",
          "new_text": "ntohl(ce->ce_mode)",
          "old_line_content": "\t\t\treturn add_one_path(ce, path, len, st);",
          "new_line_content": "\t\tif (S_ISGITLINK(ntohl(ce->ce_mode))) {",
          "content_same": false
        },
        {
          "line": 146,
          "old_api": "remove_one_path",
          "new_api": "resolve_gitlink_ref",
          "old_text": "remove_one_path(path)",
          "new_text": "resolve_gitlink_ref(path, \"HEAD\", sha1)",
          "old_line_content": "\t\treturn remove_one_path(path);",
          "new_line_content": "\t\t\tif (resolve_gitlink_ref(path, \"HEAD\", sha1) < 0)",
          "content_same": false
        },
        {
          "line": 184,
          "old_api": "add_one_path",
          "new_api": "cache_name_pos",
          "old_text": "add_one_path(ce, path, len, st)",
          "new_text": "cache_name_pos(path, len)",
          "old_line_content": "\treturn add_one_path(ce, path, len, st);",
          "new_line_content": "\tint pos = cache_name_pos(path, len);",
          "content_same": false
        },
        {
          "line": 201,
          "old_api": "lstat",
          "new_api": "cache_tree_invalidate_path",
          "old_text": "lstat(path, &st)",
          "new_text": "cache_tree_invalidate_path(active_cache_tree, path)",
          "old_line_content": "\tif (lstat(path, &st) < 0)",
          "new_line_content": "\tcache_tree_invalidate_path(active_cache_tree, path);",
          "content_same": false
        },
        {
          "line": 208,
          "old_api": "process_file",
          "new_api": "process_lstat_error",
          "old_text": "process_file(path, len, &st)",
          "new_text": "process_lstat_error(path, errno)",
          "old_line_content": "\treturn process_file(path, len, &st);",
          "new_line_content": "\t\treturn process_lstat_error(path, errno);",
          "content_same": false
        },
        {
          "line": 226,
          "old_api": "create_ce_flags",
          "new_api": "strlen",
          "old_text": "create_ce_flags(len, stage)",
          "new_text": "strlen(path)",
          "old_line_content": "\tce->ce_flags = create_ce_flags(len, stage);",
          "new_line_content": "\tlen = strlen(path);",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": "create_ce_mode",
          "new_api": "cache_entry_size",
          "old_text": "create_ce_mode(mode)",
          "new_text": "cache_entry_size(len)",
          "old_line_content": "\tce->ce_mode = create_ce_mode(mode);",
          "new_line_content": "\tsize = cache_entry_size(len);",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": "add_cache_entry",
          "new_api": "create_ce_flags",
          "old_text": "add_cache_entry(ce, option)",
          "new_text": "create_ce_flags(len, stage)",
          "old_line_content": "\tif (add_cache_entry(ce, option))",
          "new_line_content": "\tce->ce_flags = create_ce_flags(len, stage);",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": "error",
          "new_api": "create_ce_mode",
          "old_text": "error(\"%s: cannot add to the index - missing --add option?\",\n\t\t\t     path)",
          "new_text": "create_ce_mode(mode)",
          "old_line_content": "\t\treturn error(\"%s: cannot add to the index - missing --add option?\",",
          "new_line_content": "\tce->ce_mode = create_ce_mode(mode);",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": "report",
          "new_api": "htons",
          "old_text": "report(\"add '%s'\", path)",
          "new_text": "htons(CE_VALID)",
          "old_line_content": "\treport(\"add '%s'\", path);",
          "new_line_content": "\t\tce->ce_flags |= htons(CE_VALID);",
          "content_same": false
        },
        {
          "line": 257,
          "old_api": "htonl",
          "new_api": "S_ISREG",
          "old_text": "htonl(~0111)",
          "new_text": "S_ISREG(mode)",
          "old_line_content": "\t\tce->ce_mode &= htonl(~0111); break;",
          "new_line_content": "\tif (!S_ISREG(mode))",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": "cache_tree_invalidate_path",
          "new_api": "htonl",
          "old_text": "cache_tree_invalidate_path(active_cache_tree, path)",
          "new_text": "htonl(0111)",
          "old_line_content": "\tcache_tree_invalidate_path(active_cache_tree, path);",
          "new_line_content": "\t\tce->ce_mode |= htonl(0111); break;",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": "report",
          "new_api": "htonl",
          "old_text": "report(\"chmod %cx '%s'\", flip, path)",
          "new_text": "htonl(~0111)",
          "old_line_content": "\treport(\"chmod %cx '%s'\", flip, path);",
          "new_line_content": "\t\tce->ce_mode &= htonl(~0111); break;",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": "verify_path",
          "new_api": "die",
          "old_text": "verify_path(p)",
          "new_text": "die(\"git-update-index: cannot chmod %cx '%s'\", flip, path)",
          "old_line_content": "\tif (!verify_path(p)) {",
          "new_line_content": "\tdie(\"git-update-index: cannot chmod %cx '%s'\", flip, path);",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": "mark_valid",
          "new_api": "prefix_path",
          "old_text": "mark_valid(p)",
          "new_text": "prefix_path(prefix, prefix_length, path)",
          "old_line_content": "\t\tif (mark_valid(p))",
          "new_line_content": "\tconst char *p = prefix_path(prefix, prefix_length, path);",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": "die",
          "new_api": "verify_path",
          "old_text": "die(\"Unable to mark file %s\", path)",
          "new_text": "verify_path(p)",
          "old_line_content": "\t\t\tdie(\"Unable to mark file %s\", path);",
          "new_line_content": "\tif (!verify_path(p)) {",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": "remove_file_from_cache",
          "new_api": "die",
          "old_text": "remove_file_from_cache(p)",
          "new_text": "die(\"Unable to mark file %s\", path)",
          "old_line_content": "\t\tif (remove_file_from_cache(p))",
          "new_line_content": "\t\t\tdie(\"Unable to mark file %s\", path);",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": "die",
          "new_api": "remove_file_from_cache",
          "old_text": "die(\"Unable to process path %s\", path)",
          "new_text": "remove_file_from_cache(p)",
          "old_line_content": "\t\tdie(\"Unable to process path %s\", path);",
          "new_line_content": "\t\tif (remove_file_from_cache(p))",
          "content_same": false
        },
        {
          "line": 291,
          "old_api": "report",
          "new_api": "die",
          "old_text": "report(\"add '%s'\", path)",
          "new_text": "die(\"git-update-index: unable to remove %s\", path)",
          "old_line_content": "\treport(\"add '%s'\", path);",
          "new_line_content": "\t\t\tdie(\"git-update-index: unable to remove %s\", path);",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": "strbuf_init",
          "new_api": "free",
          "old_text": "strbuf_init(&buf)",
          "new_text": "free((char*)p)",
          "old_line_content": "\tstrbuf_init(&buf);",
          "new_line_content": "\t\tfree((char*)p);",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "strchr",
          "new_api": "strtoul",
          "old_text": "strchr(ptr, '\\t')",
          "new_text": "strtoul(buf.buf, &ptr, 8)",
          "old_line_content": "\t\ttab = strchr(ptr, '\\t');",
          "new_line_content": "\t\tul = strtoul(buf.buf, &ptr, 8);",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": "cache_tree_invalidate_path",
          "new_api": "verify_path",
          "old_text": "cache_tree_invalidate_path(active_cache_tree, path_name)",
          "new_text": "verify_path(path_name)",
          "old_line_content": "\t\tcache_tree_invalidate_path(active_cache_tree, path_name);",
          "new_line_content": "\t\tif (!verify_path(path_name)) {",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": "hashcpy",
          "new_api": "error",
          "old_text": "hashcpy(ce->sha1, sha1)",
          "new_text": "error(\"%s: not a blob in %s branch.\", path, which)",
          "old_line_content": "\thashcpy(ce->sha1, sha1);",
          "new_line_content": "\t\t\terror(\"%s: not a blob in %s branch.\", path, which);",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "create_ce_mode",
          "new_api": "cache_entry_size",
          "old_text": "create_ce_mode(mode)",
          "new_text": "cache_entry_size(namelen)",
          "old_line_content": "\tce->ce_mode = create_ce_mode(mode);",
          "new_line_content": "\tsize = cache_entry_size(namelen);",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": "strlen",
          "new_api": "create_ce_mode",
          "old_text": "strlen(path)",
          "new_text": "create_ce_mode(mode)",
          "old_line_content": "\tint namelen = strlen(path);",
          "new_line_content": "\tce->ce_mode = create_ce_mode(mode);",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": "cache_name_pos",
          "new_api": "strlen",
          "old_text": "cache_name_pos(path, namelen)",
          "new_text": "strlen(path)",
          "old_line_content": "\tpos = cache_name_pos(path, namelen);",
          "new_line_content": "\tint namelen = strlen(path);",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "hashcmp",
          "new_api": "read_one_ent",
          "old_text": "hashcmp(ce_2->sha1, ce_3->sha1)",
          "new_text": "read_one_ent(\"their\", merge_head_sha1, path, namelen, 3)",
          "old_line_content": "\tif (!hashcmp(ce_2->sha1, ce_3->sha1) &&",
          "new_line_content": "\tce_3 = read_one_ent(\"their\", merge_head_sha1, path, namelen, 3);",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "remove_file_from_cache",
          "new_api": "fprintf",
          "old_text": "remove_file_from_cache(path)",
          "new_text": "fprintf(stderr, \"%s: identical in both, skipping.\\n\",\n\t\t\tpath)",
          "old_line_content": "\tremove_file_from_cache(path);",
          "new_line_content": "\t\tfprintf(stderr, \"%s: identical in both, skipping.\\n\",",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": "add_cache_entry",
          "new_api": "remove_file_from_cache",
          "old_text": "add_cache_entry(ce_3, ADD_CACHE_OK_TO_ADD)",
          "new_text": "remove_file_from_cache(path)",
          "old_line_content": "\tif (!add_cache_entry(ce_3, ADD_CACHE_OK_TO_ADD))",
          "new_line_content": "\tremove_file_from_cache(path);",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": "free",
          "new_api": "add_cache_entry",
          "old_text": "free(ce_3)",
          "new_text": "add_cache_entry(ce_3, ADD_CACHE_OK_TO_ADD)",
          "old_line_content": "\tfree(ce_3);",
          "new_line_content": "\tif (!add_cache_entry(ce_3, ADD_CACHE_OK_TO_ADD))",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": "read_ref",
          "new_api": "free",
          "old_text": "read_ref(\"HEAD\", head_sha1)",
          "new_text": "free(ce_3)",
          "old_line_content": "\tif (read_ref(\"HEAD\", head_sha1))",
          "new_line_content": "\tfree(ce_3);",
          "content_same": false
        },
        {
          "line": 513,
          "old_api": "strlen",
          "new_api": "read_head_pointers",
          "old_text": "strlen(arg)",
          "new_text": "read_head_pointers()",
          "old_line_content": "\t\tif (p < arg || p > arg + strlen(arg))",
          "new_line_content": "\tread_head_pointers();",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": "hashcmp",
          "new_api": "ce_path_match",
          "old_text": "hashcmp(ce->sha1, old->sha1)",
          "new_text": "ce_path_match(ce, pathspec)",
          "old_line_content": "\t\t    !hashcmp(ce->sha1, old->sha1)) {",
          "new_line_content": "\t\tif (ce_stage(ce) || !ce_path_match(ce, pathspec))",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": "git_config",
          "new_api": "strlen",
          "old_text": "git_config(git_default_config)",
          "new_text": "strlen(prefix)",
          "old_line_content": "\tgit_config(git_default_config);",
          "new_line_content": "\tint prefix_length = prefix ? strlen(prefix) : 0;",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": "read_cache",
          "new_api": "xcalloc",
          "old_text": "read_cache()",
          "new_text": "xcalloc(1, sizeof(struct lock_file))",
          "old_line_content": "\tentries = read_cache();",
          "new_line_content": "\tlock_file = xcalloc(1, sizeof(struct lock_file));",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": "die",
          "new_api": "hold_locked_index",
          "old_text": "die(\"cache corrupted\")",
          "new_text": "hold_locked_index(lock_file, 0)",
          "old_line_content": "\t\tdie(\"cache corrupted\");",
          "new_line_content": "\tnewfd = hold_locked_index(lock_file, 0);",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "strcmp",
          "new_api": "add_cacheinfo",
          "old_text": "strcmp(path, \"--chmod=-x\")",
          "new_text": "add_cacheinfo(mode, sha1, argv[i+3], 0)",
          "old_line_content": "\t\t\tif (!strcmp(path, \"--chmod=-x\") ||",
          "new_line_content": "\t\t\t\t    add_cacheinfo(mode, sha1, argv[i+3], 0))",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": "strcmp",
          "new_api": "die",
          "old_text": "strcmp(path, \"--chmod=+x\")",
          "new_text": "die(\"git-update-index: --cacheinfo\"\n\t\t\t\t\t    \" cannot add %s\", argv[i+3])",
          "old_line_content": "\t\t\t    !strcmp(path, \"--chmod=+x\")) {",
          "new_line_content": "\t\t\t\t\tdie(\"git-update-index: --cacheinfo\"",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": "die",
          "new_api": "strcmp",
          "old_text": "die(\"--stdin must be at the end\")",
          "new_text": "strcmp(path, \"-z\")",
          "old_line_content": "\t\t\t\t\tdie(\"--stdin must be at the end\");",
          "new_line_content": "\t\t\tif (!strcmp(path, \"-z\")) {",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": "do_unresolve",
          "new_api": "die",
          "old_text": "do_unresolve(argc - i, argv + i,\n\t\t\t\t\t\t\t  prefix, prefix_length)",
          "new_text": "die(\"--index-info must be at the end\")",
          "old_line_content": "\t\t\t\thas_errors = do_unresolve(argc - i, argv + i,",
          "new_line_content": "\t\t\t\t\tdie(\"--index-info must be at the end\");",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": "strcmp",
          "new_api": "do_unresolve",
          "old_text": "strcmp(path, \"-g\")",
          "new_text": "do_unresolve(argc - i, argv + i,\n\t\t\t\t\t\t\t  prefix, prefix_length)",
          "old_line_content": "\t\t\tif (!strcmp(path, \"--again\") || !strcmp(path, \"-g\")) {",
          "new_line_content": "\t\t\t\thas_errors = do_unresolve(argc - i, argv + i,",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": "strcmp",
          "new_api": "do_reupdate",
          "old_text": "strcmp(path, \"--ignore-missing\")",
          "new_text": "do_reupdate(argc - i, argv + i,\n\t\t\t\t\t\t\t prefix, prefix_length)",
          "old_line_content": "\t\t\tif (!strcmp(path, \"--ignore-missing\")) {",
          "new_line_content": "\t\t\t\thas_errors = do_reupdate(argc - i, argv + i,",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": "die",
          "new_api": "strcmp",
          "old_text": "die(\"unknown option %s\", path)",
          "new_text": "strcmp(path, \"--verbose\")",
          "old_line_content": "\t\t\tdie(\"unknown option %s\", path);",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--verbose\")) {",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": "chmod_path",
          "new_api": "usage",
          "old_text": "chmod_path(set_executable_bit, p)",
          "new_text": "usage(update_index_usage)",
          "old_line_content": "\t\t\tchmod_path(set_executable_bit, p);",
          "new_line_content": "\t\t\t\tusage(update_index_usage);",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": "strlen",
          "new_api": "die",
          "old_text": "strlen(path)",
          "new_text": "die(\"unknown option %s\", path)",
          "old_line_content": "\t\tif (p < path || p > path + strlen(path))",
          "new_line_content": "\t\t\tdie(\"unknown option %s\", path);",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": "strbuf_init",
          "new_api": "chmod_path",
          "old_text": "strbuf_init(&buf)",
          "new_text": "chmod_path(set_executable_bit, p)",
          "old_line_content": "\t\tstrbuf_init(&buf);",
          "new_line_content": "\t\t\tchmod_path(set_executable_bit, p);",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "chmod_path",
          "new_api": "unquote_c_style",
          "old_text": "chmod_path(set_executable_bit, p)",
          "new_text": "unquote_c_style(buf.buf, NULL)",
          "old_line_content": "\t\t\t\tchmod_path(set_executable_bit, p);",
          "new_line_content": "\t\t\t\tpath_name = unquote_c_style(buf.buf, NULL);",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": "free",
          "new_api": "update_one",
          "old_text": "free(path_name)",
          "new_text": "update_one(p, NULL, 0)",
          "old_line_content": "\t\t\t\tfree(path_name);",
          "new_line_content": "\t\t\tupdate_one(p, NULL, 0);",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": "die",
          "new_api": "exit",
          "old_text": "die(\"Unable to write new index file\")",
          "new_text": "exit(128)",
          "old_line_content": "\t\t\tdie(\"Unable to write new index file\");",
          "new_line_content": "\t\t\t\texit(128);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 517,
          "old_api": null,
          "new_api": "prefix_path",
          "old_text": null,
          "new_text": "prefix_path(prefix, prefix_length, arg)",
          "old_line_content": "}",
          "new_line_content": "\t\tconst char *p = prefix_path(prefix, prefix_length, arg);",
          "content_same": false
        },
        {
          "line": 518,
          "old_api": null,
          "new_api": "unresolve_one",
          "old_text": null,
          "new_text": "unresolve_one(p)",
          "old_line_content": "",
          "new_line_content": "\t\terr |= unresolve_one(p);",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(arg)",
          "old_line_content": "static int do_reupdate(int ac, const char **av,",
          "new_line_content": "\t\tif (p < arg || p > arg + strlen(arg))",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free((char*)p)",
          "old_line_content": "\t\t       const char *prefix, int prefix_length)",
          "new_line_content": "\t\t\tfree((char*)p);",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": null,
          "new_api": "get_pathspec",
          "old_text": null,
          "new_text": "get_pathspec(prefix, av + 1)",
          "old_line_content": "\t\thas_head = 0;",
          "new_line_content": "\tconst char **pathspec = get_pathspec(prefix, av + 1);",
          "content_same": false
        },
        {
          "line": 535,
          "old_api": null,
          "new_api": "read_ref",
          "old_text": null,
          "new_text": "read_ref(\"HEAD\", head_sha1)",
          "old_line_content": "\tfor (pos = 0; pos < active_nr; pos++) {",
          "new_line_content": "\tif (read_ref(\"HEAD\", head_sha1))",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": null,
          "new_api": "read_one_ent",
          "old_text": null,
          "new_text": "read_one_ent(NULL, head_sha1,\n\t\t\t\t\t   ce->name, ce_namelen(ce), 0)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\told = read_one_ent(NULL, head_sha1,",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": null,
          "new_api": "ce_namelen",
          "old_text": null,
          "new_text": "ce_namelen(ce)",
          "old_line_content": "\t\t/* Be careful.  The working tree may not have the",
          "new_line_content": "\t\t\t\t\t   ce->name, ce_namelen(ce), 0);",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": null,
          "new_api": "hashcmp",
          "old_text": null,
          "new_text": "hashcmp(ce->sha1, old->sha1)",
          "old_line_content": "\t\t * or worse yet 'allow_replace', active_nr may decrease.",
          "new_line_content": "\t\t    !hashcmp(ce->sha1, old->sha1)) {",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(old)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\t\tfree(old);",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": null,
          "new_api": "update_one",
          "old_text": null,
          "new_text": "update_one(ce->name + prefix_length, prefix, prefix_length)",
          "old_line_content": "",
          "new_line_content": "\t\tupdate_one(ce->name + prefix_length, prefix, prefix_length);",
          "content_same": false
        },
        {
          "line": 579,
          "old_api": null,
          "new_api": "git_config",
          "old_text": null,
          "new_text": "git_config(git_default_config)",
          "old_line_content": "\tif (newfd < 0)",
          "new_line_content": "\tgit_config(git_default_config);",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": null,
          "new_api": "read_cache",
          "old_text": null,
          "new_text": "read_cache()",
          "old_line_content": "\t\tconst char *p;",
          "new_line_content": "\tentries = read_cache();",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"cache corrupted\")",
          "old_line_content": "\t\tif (allow_options && *path == '-') {",
          "new_line_content": "\t\tdie(\"cache corrupted\");",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--\")) {",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"-q\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(path, \"-q\")) {",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--add\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--add\")) {",
          "content_same": false
        },
        {
          "line": 96,
          "old_api": null,
          "new_api": "cache_entry_size",
          "old_text": null,
          "new_text": "cache_entry_size(len)",
          "old_line_content": "",
          "new_line_content": "\tsize = cache_entry_size(len);",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--replace\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--replace\")) {",
          "content_same": false
        },
        {
          "line": 98,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(ce->name, path, len)",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\tmemcpy(ce->name, path, len);",
          "content_same": false
        },
        {
          "line": 99,
          "old_api": null,
          "new_api": "htons",
          "old_text": null,
          "new_text": "htons(len)",
          "old_line_content": "\toption = allow_add ? ADD_CACHE_OK_TO_ADD : 0;",
          "new_line_content": "\tce->ce_flags = htons(len);",
          "content_same": false
        },
        {
          "line": 100,
          "old_api": null,
          "new_api": "fill_stat_cache_info",
          "old_text": null,
          "new_text": "fill_stat_cache_info(ce, st)",
          "old_line_content": "\toption |= allow_replace ? ADD_CACHE_OK_TO_REPLACE : 0;",
          "new_line_content": "\tfill_stat_cache_info(ce, st);",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--remove\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--remove\")) {",
          "content_same": false
        },
        {
          "line": 103,
          "old_api": null,
          "new_api": "index_path",
          "old_text": null,
          "new_text": "index_path(ce->sha1, path, st, !info_only)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\tif (index_path(ce->sha1, path, st, !info_only))",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--unmerged\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--unmerged\")) {",
          "content_same": false
        },
        {
          "line": 107,
          "old_api": null,
          "new_api": "add_cache_entry",
          "old_text": null,
          "new_text": "add_cache_entry(ce, option)",
          "old_line_content": " * Handle a path that was a directory. Four cases:",
          "new_line_content": "\tif (add_cache_entry(ce, option))",
          "content_same": false
        },
        {
          "line": 108,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: cannot add to the index - missing --add option?\", path)",
          "old_line_content": " *",
          "new_line_content": "\t\treturn error(\"%s: cannot add to the index - missing --add option?\", path);",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--refresh\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--refresh\")) {",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": null,
          "new_api": "refresh_cache",
          "old_text": null,
          "new_text": "refresh_cache(refresh_flags)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\thas_errors |= refresh_cache(refresh_flags);",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--really-refresh\")",
          "old_line_content": "\t\t\t\tunsigned int mode;",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--really-refresh\")) {",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": null,
          "new_api": "refresh_cache",
          "old_text": null,
          "new_text": "refresh_cache(REFRESH_REALLY | refresh_flags)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\thas_errors |= refresh_cache(REFRESH_REALLY | refresh_flags);",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--cacheinfo\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--cacheinfo\")) {",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"git-update-index: --cacheinfo <mode> <sha1> <path>\")",
          "old_line_content": "\t\t\t\t\t    \" cannot add %s\", argv[i+3]);",
          "new_line_content": "\t\t\t\t\tdie(\"git-update-index: --cacheinfo <mode> <sha1> <path>\");",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "strtoul_ui",
          "old_text": null,
          "new_text": "strtoul_ui(argv[i+1], 8, &mode)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\t\tif (strtoul_ui(argv[i+1], 8, &mode) ||",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "get_sha1_hex",
          "old_text": null,
          "new_text": "get_sha1_hex(argv[i+2], sha1)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t    get_sha1_hex(argv[i+2], sha1) ||",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--chmod=-x\")",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--chmod=-x\") ||",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"git-update-index: %s <path>\", path)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\t\t\tdie(\"git-update-index: %s <path>\", path);",
          "content_same": false
        },
        {
          "line": 138,
          "old_api": null,
          "new_api": "cache_name_pos",
          "old_text": null,
          "new_text": "cache_name_pos(path, len)",
          "old_line_content": "",
          "new_line_content": "\tint pos = cache_name_pos(path, len);",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--assume-unchanged\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--assume-unchanged\")) {",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--no-assume-unchanged\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--no-assume-unchanged\")) {",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--info-only\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--info-only\")) {",
          "content_same": false
        },
        {
          "line": 149,
          "old_api": null,
          "new_api": "add_one_path",
          "old_text": null,
          "new_text": "add_one_path(ce, path, len, st)",
          "old_line_content": "\t/* Inexact match: is there perhaps a subdirectory match? */",
          "new_line_content": "\t\t\treturn add_one_path(ce, path, len, st);",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--force-remove\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--force-remove\")) {",
          "content_same": false
        },
        {
          "line": 152,
          "old_api": null,
          "new_api": "remove_one_path",
          "old_text": null,
          "new_text": "remove_one_path(path)",
          "old_line_content": "\t\tstruct cache_entry *ce = active_cache[pos++];",
          "new_line_content": "\t\treturn remove_one_path(path);",
          "content_same": false
        },
        {
          "line": 160,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(ce->name, path, len)",
          "old_line_content": "",
          "new_line_content": "\t\tif (strncmp(ce->name, path, len))",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--index-info\")",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--index-info\")) {",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: is a directory - add individual files instead\", path)",
          "old_line_content": "",
          "new_line_content": "\t\treturn error(\"%s: is a directory - add individual files instead\", path);",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": null,
          "new_api": "read_index_info",
          "old_text": null,
          "new_text": "read_index_info(line_termination)",
          "old_line_content": "\t\t\t\tif (has_errors)",
          "new_line_content": "\t\t\t\tread_index_info(line_termination);",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": null,
          "new_api": "resolve_gitlink_ref",
          "old_text": null,
          "new_text": "resolve_gitlink_ref(path, \"HEAD\", sha1)",
          "old_line_content": "",
          "new_line_content": "\tif (!resolve_gitlink_ref(path, \"HEAD\", sha1))",
          "content_same": false
        },
        {
          "line": 173,
          "old_api": null,
          "new_api": "add_one_path",
          "old_text": null,
          "new_text": "add_one_path(NULL, path, len, st)",
          "old_line_content": "/*",
          "new_line_content": "\t\treturn add_one_path(NULL, path, len, st);",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--unresolve\")",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--unresolve\")) {",
          "content_same": false
        },
        {
          "line": 176,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: is a directory - add files inside instead\", path)",
          "old_line_content": "static int process_file(const char *path, int len, struct stat *st)",
          "new_line_content": "\treturn error(\"%s: is a directory - add files inside instead\", path);",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"-g\")",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--again\") || !strcmp(path, \"-g\")) {",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--ignore-missing\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(path, \"--ignore-missing\")) {",
          "content_same": false
        },
        {
          "line": 187,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(ce->ce_mode)",
          "old_line_content": "static int process_path(const char *path)",
          "new_line_content": "\tif (ce && S_ISGITLINK(ntohl(ce->ce_mode)))",
          "content_same": false
        },
        {
          "line": 188,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s is already a gitlink, not replacing\", path)",
          "old_line_content": "{",
          "new_line_content": "\t\treturn error(\"%s is already a gitlink, not replacing\", path);",
          "content_same": false
        },
        {
          "line": 190,
          "old_api": null,
          "new_api": "add_one_path",
          "old_text": null,
          "new_text": "add_one_path(ce, path, len, st)",
          "old_line_content": "\tstruct stat st;",
          "new_line_content": "\treturn add_one_path(ce, path, len, st);",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(path, \"--help\")",
          "old_line_content": "\t\tif (set_executable_bit)",
          "new_line_content": "\t\t\tif (!strcmp(path, \"-h\") || !strcmp(path, \"--help\"))",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": null,
          "new_api": "prefix_path",
          "old_text": null,
          "new_text": "prefix_path(prefix, prefix_length, path)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tp = prefix_path(prefix, prefix_length, path);",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": null,
          "new_api": "update_one",
          "old_text": null,
          "new_text": "update_one(p, NULL, 0)",
          "old_line_content": "\tif (read_from_stdin) {",
          "new_line_content": "\t\tupdate_one(p, NULL, 0);",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(path)",
          "old_line_content": "\t\twhile (1) {",
          "new_line_content": "\t\tif (p < path || p > path + strlen(path))",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free((char*)p)",
          "old_line_content": "\t\t\tchar *path_name;",
          "new_line_content": "\t\t\tfree((char*)p);",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": null,
          "new_api": "lstat",
          "old_text": null,
          "new_text": "lstat(path, &st)",
          "old_line_content": "",
          "new_line_content": "\tif (lstat(path, &st) < 0)",
          "content_same": false
        },
        {
          "line": 719,
          "old_api": null,
          "new_api": "strbuf_init",
          "old_text": null,
          "new_text": "strbuf_init(&buf)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\tstrbuf_init(&buf);",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(path)",
          "old_line_content": "",
          "new_line_content": "\tlen = strlen(path);",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(st.st_mode)",
          "old_line_content": "static int add_cacheinfo(unsigned int mode, const unsigned char *sha1,",
          "new_line_content": "\tif (S_ISDIR(st.st_mode))",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": null,
          "new_api": "process_directory",
          "old_text": null,
          "new_text": "process_directory(path, len, &st)",
          "old_line_content": "\t\t\t const char *path, int stage)",
          "new_line_content": "\t\treturn process_directory(path, len, &st);",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": null,
          "new_api": "read_line",
          "old_text": null,
          "new_text": "read_line(&buf, stdin, line_termination)",
          "old_line_content": "\t\t\t\tpath_name = buf.buf;",
          "new_line_content": "\t\t\tread_line(&buf, stdin, line_termination);",
          "content_same": false
        },
        {
          "line": 214,
          "old_api": null,
          "new_api": "process_file",
          "old_text": null,
          "new_text": "process_file(path, len, &st)",
          "old_line_content": "\tint size, len, option;",
          "new_line_content": "\treturn process_file(path, len, &st);",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": null,
          "new_api": "prefix_path",
          "old_text": null,
          "new_text": "prefix_path(prefix, prefix_length, path_name)",
          "old_line_content": "\t\t\tif (path_name != buf.buf)",
          "new_line_content": "\t\t\tp = prefix_path(prefix, prefix_length, path_name);",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": null,
          "new_api": "chmod_path",
          "old_text": null,
          "new_text": "chmod_path(set_executable_bit, p)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\tchmod_path(set_executable_bit, p);",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(path_name)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (p < path_name || p > path_name + strlen(path_name))",
          "content_same": false
        },
        {
          "line": 223,
          "old_api": null,
          "new_api": "verify_path",
          "old_text": null,
          "new_text": "verify_path(path)",
          "old_line_content": "",
          "new_line_content": "\tif (!verify_path(path))",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free((char*) p)",
          "old_line_content": " finish:",
          "new_line_content": "\t\t\t\tfree((char*) p);",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(path_name)",
          "old_line_content": "\t\tif (newfd < 0) {",
          "new_line_content": "\t\t\t\tfree(path_name);",
          "content_same": false
        },
        {
          "line": 228,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(1, size)",
          "old_line_content": "\tif (assume_unchanged)",
          "new_line_content": "\tce = xcalloc(1, size);",
          "content_same": false
        },
        {
          "line": 230,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(ce->sha1, sha1)",
          "old_line_content": "\toption = allow_add ? ADD_CACHE_OK_TO_ADD : 0;",
          "new_line_content": "\thashcpy(ce->sha1, sha1);",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(ce->name, path, len)",
          "old_line_content": "\toption |= allow_replace ? ADD_CACHE_OK_TO_REPLACE : 0;",
          "new_line_content": "\tmemcpy(ce->name, path, len);",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unable to create '%s.lock': %s\",\n\t\t\t    get_index_file(), strerror(lock_error))",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tdie(\"unable to create '%s.lock': %s\",",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(lock_error)",
          "old_line_content": "",
          "new_line_content": "\t\t\t    get_index_file(), strerror(lock_error));",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": null,
          "new_api": "write_cache",
          "old_text": null,
          "new_text": "write_cache(newfd, active_cache, active_nr)",
          "old_line_content": "",
          "new_line_content": "\t\tif (write_cache(newfd, active_cache, active_nr) ||",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": null,
          "new_api": "add_cache_entry",
          "old_text": null,
          "new_text": "add_cache_entry(ce, option)",
          "old_line_content": "}",
          "new_line_content": "\tif (add_cache_entry(ce, option))",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: cannot add to the index - missing --add option?\",\n\t\t\t     path)",
          "old_line_content": "",
          "new_line_content": "\t\treturn error(\"%s: cannot add to the index - missing --add option?\",",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": null,
          "new_api": "commit_locked_index",
          "old_text": null,
          "new_text": "commit_locked_index(lock_file)",
          "old_line_content": "\treturn has_errors ? 1 : 0;",
          "new_line_content": "\t\t    close(newfd) || commit_locked_index(lock_file))",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": null,
          "new_api": "report",
          "old_text": null,
          "new_text": "report(\"add '%s'\", path)",
          "old_line_content": "{",
          "new_line_content": "\treport(\"add '%s'\", path);",
          "content_same": false
        },
        {
          "line": 242,
          "old_api": null,
          "new_api": "cache_tree_invalidate_path",
          "old_text": null,
          "new_text": "cache_tree_invalidate_path(active_cache_tree, path)",
          "old_line_content": "\tint pos;",
          "new_line_content": "\tcache_tree_invalidate_path(active_cache_tree, path);",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Unable to write new index file\")",
          "old_line_content": "}",
          "new_line_content": "\t\t\tdie(\"Unable to write new index file\");",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": null,
          "new_api": "rollback_lock_file",
          "old_text": null,
          "new_text": "rollback_lock_file(lock_file)",
          "old_line_content": "",
          "new_line_content": "\trollback_lock_file(lock_file);",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(path)",
          "old_line_content": "\t\tgoto fail;",
          "new_line_content": "\tpos = cache_name_pos(path, strlen(path));",
          "content_same": false
        },
        {
          "line": 256,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(ce->ce_mode)",
          "old_line_content": "\tcase '-':",
          "new_line_content": "\tmode = ntohl(ce->ce_mode);",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": null,
          "new_api": "cache_tree_invalidate_path",
          "old_text": null,
          "new_text": "cache_tree_invalidate_path(active_cache_tree, path)",
          "old_line_content": "}",
          "new_line_content": "\tcache_tree_invalidate_path(active_cache_tree, path);",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": null,
          "new_api": "report",
          "old_text": null,
          "new_text": "report(\"chmod %cx '%s'\", flip, path)",
          "old_line_content": "static void update_one(const char *path, const char *prefix, int prefix_length)",
          "new_line_content": "\treport(\"chmod %cx '%s'\", flip, path);",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Ignoring path %s\\n\", path)",
          "old_line_content": "\t\tgoto free_return;",
          "new_line_content": "\t\tfprintf(stderr, \"Ignoring path %s\\n\", path);",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": null,
          "new_api": "mark_valid",
          "old_text": null,
          "new_text": "mark_valid(p)",
          "old_line_content": "\tif (force_remove) {",
          "new_line_content": "\t\tif (mark_valid(p))",
          "content_same": false
        },
        {
          "line": 287,
          "old_api": null,
          "new_api": "cache_tree_invalidate_path",
          "old_text": null,
          "new_text": "cache_tree_invalidate_path(active_cache_tree, path)",
          "old_line_content": "\t\tgoto free_return;",
          "new_line_content": "\tcache_tree_invalidate_path(active_cache_tree, path);",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": null,
          "new_api": "report",
          "old_text": null,
          "new_text": "report(\"remove '%s'\", path)",
          "old_line_content": " free_return:",
          "new_line_content": "\t\treport(\"remove '%s'\", path);",
          "content_same": false
        },
        {
          "line": 295,
          "old_api": null,
          "new_api": "process_path",
          "old_text": null,
          "new_text": "process_path(p)",
          "old_line_content": "}",
          "new_line_content": "\tif (process_path(p))",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Unable to process path %s\", path)",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"Unable to process path %s\", path);",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": null,
          "new_api": "report",
          "old_text": null,
          "new_text": "report(\"add '%s'\", path)",
          "old_line_content": "static void read_index_info(int line_termination)",
          "new_line_content": "\treport(\"add '%s'\", path);",
          "content_same": false
        },
        {
          "line": 299,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(path)",
          "old_line_content": "\tstruct strbuf buf;",
          "new_line_content": "\tif (p < path || p > path + strlen(path))",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": null,
          "new_api": "strbuf_init",
          "old_text": null,
          "new_text": "strbuf_init(&buf)",
          "old_line_content": "\t\tunsigned long ul;",
          "new_line_content": "\tstrbuf_init(&buf);",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": null,
          "new_api": "read_line",
          "old_text": null,
          "new_text": "read_line(&buf, stdin, line_termination)",
          "old_line_content": "\t\tif (ptr == buf.buf || *ptr != ' '",
          "new_line_content": "\t\tread_line(&buf, stdin, line_termination);",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(ptr, '\\t')",
          "old_line_content": "\t\t\tptr = tab + 1; /* point at the head of path */",
          "new_line_content": "\t\ttab = strchr(ptr, '\\t');",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": null,
          "new_api": "get_sha1_hex",
          "old_text": null,
          "new_text": "get_sha1_hex(tab - 40, sha1)",
          "old_line_content": "\t\t\tpath_name = ptr;",
          "new_line_content": "\t\tif (get_sha1_hex(tab - 40, sha1) || tab[-41] != ' ')",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": null,
          "new_api": "unquote_c_style",
          "old_text": null,
          "new_text": "unquote_c_style(ptr, NULL)",
          "old_line_content": "\t\t\tif (path_name != ptr)",
          "new_line_content": "\t\t\tpath_name = unquote_c_style(ptr, NULL);",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Ignoring path %s\\n\", path_name)",
          "old_line_content": "",
          "new_line_content": "\t\t\tfprintf(stderr, \"Ignoring path %s\\n\", path_name);",
          "content_same": false
        },
        {
          "line": 367,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(path_name)",
          "old_line_content": "\t\t\t/* mode == 0 means there is no such path -- remove */",
          "new_line_content": "\t\t\t\tfree(path_name);",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": null,
          "new_api": "cache_tree_invalidate_path",
          "old_text": null,
          "new_text": "cache_tree_invalidate_path(active_cache_tree, path_name)",
          "old_line_content": "\t\t\t\t    ptr);",
          "new_line_content": "\t\tcache_tree_invalidate_path(active_cache_tree, path_name);",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": null,
          "new_api": "remove_file_from_cache",
          "old_text": null,
          "new_text": "remove_file_from_cache(path_name)",
          "old_line_content": "\t\t\t * ptr[-1] points at tab,",
          "new_line_content": "\t\t\tif (remove_file_from_cache(path_name))",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"git-update-index: unable to remove %s\",\n\t\t\t\t    ptr)",
          "old_line_content": "\t\t\t * ptr[-41] is at the beginning of sha1",
          "new_line_content": "\t\t\t\tdie(\"git-update-index: unable to remove %s\",",
          "content_same": false
        },
        {
          "line": 384,
          "old_api": null,
          "new_api": "add_cacheinfo",
          "old_text": null,
          "new_text": "add_cacheinfo(mode, sha1, path_name, stage)",
          "old_line_content": "\t\tcontinue;",
          "new_line_content": "\t\t\tif (add_cacheinfo(mode, sha1, path_name, stage))",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"git-update-index: unable to update %s\",\n\t\t\t\t    path_name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tdie(\"git-update-index: unable to update %s\",",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(path_name)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tfree(path_name);",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"malformed index info %s\", buf.buf)",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"malformed index info %s\", buf.buf);",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": null,
          "new_api": "get_tree_entry",
          "old_text": null,
          "new_text": "get_tree_entry(ent, path, sha1, &mode)",
          "old_line_content": "\t\tif (which)",
          "new_line_content": "\tif (get_tree_entry(ent, path, sha1, &mode)) {",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: not in %s branch.\", path, which)",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\t\t\terror(\"%s: not in %s branch.\", path, which);",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(1, size)",
          "old_line_content": "\treturn ce;",
          "new_line_content": "\tce = xcalloc(1, size);",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(ce->sha1, sha1)",
          "old_line_content": "",
          "new_line_content": "\thashcpy(ce->sha1, sha1);",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(ce->name, path, namelen)",
          "old_line_content": "static int unresolve_one(const char *path)",
          "new_line_content": "\tmemcpy(ce->name, path, namelen);",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": null,
          "new_api": "create_ce_flags",
          "old_text": null,
          "new_text": "create_ce_flags(namelen, stage)",
          "old_line_content": "{",
          "new_line_content": "\tce->ce_flags = create_ce_flags(namelen, stage);",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": null,
          "new_api": "cache_name_pos",
          "old_text": null,
          "new_text": "cache_name_pos(path, namelen)",
          "old_line_content": "\t\tpos = -pos-1;",
          "new_line_content": "\tpos = cache_name_pos(path, namelen);",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": null,
          "new_api": "ce_namelen",
          "old_text": null,
          "new_text": "ce_namelen(ce)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (ce_namelen(ce) == namelen &&",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(ce->name, path, namelen)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t    !memcmp(ce->name, path, namelen)) {",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\n\t\t\t\t\t\"%s: skipping still unmerged path.\\n\",\n\t\t\t\t\tpath)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\tfprintf(stderr,",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": null,
          "new_api": "read_one_ent",
          "old_text": null,
          "new_text": "read_one_ent(\"our\", head_sha1, path, namelen, 2)",
          "old_line_content": "\t}",
          "new_line_content": "\tce_2 = read_one_ent(\"our\", head_sha1, path, namelen, 2);",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": null,
          "new_api": "hashcmp",
          "old_text": null,
          "new_text": "hashcmp(ce_2->sha1, ce_3->sha1)",
          "old_line_content": "",
          "new_line_content": "\tif (!hashcmp(ce_2->sha1, ce_3->sha1) &&",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": null,
          "new_api": "cache_tree_invalidate_path",
          "old_text": null,
          "new_text": "cache_tree_invalidate_path(active_cache_tree, path)",
          "old_line_content": "\t}",
          "new_line_content": "\tcache_tree_invalidate_path(active_cache_tree, path);",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": null,
          "new_api": "add_cache_entry",
          "old_text": null,
          "new_text": "add_cache_entry(ce_2, ADD_CACHE_OK_TO_ADD)",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\tif (add_cache_entry(ce_2, ADD_CACHE_OK_TO_ADD)) {",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: cannot add their version to the index.\", path)",
          "old_line_content": "}",
          "new_line_content": "\terror(\"%s: cannot add their version to the index.\", path);",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(ce_2)",
          "old_line_content": "{",
          "new_line_content": "\tfree(ce_2);",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": null,
          "new_api": "read_ref",
          "old_text": null,
          "new_text": "read_ref(\"HEAD\", head_sha1)",
          "old_line_content": "}",
          "new_line_content": "\tif (read_ref(\"HEAD\", head_sha1))",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"No HEAD -- no initial commit yet?\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"No HEAD -- no initial commit yet?\\n\");",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": null,
          "new_api": "read_ref",
          "old_text": null,
          "new_text": "read_ref(\"MERGE_HEAD\", merge_head_sha1)",
          "old_line_content": "static int do_unresolve(int ac, const char **av,",
          "new_line_content": "\tif (read_ref(\"MERGE_HEAD\", merge_head_sha1)) {",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Not in the middle of a merge.\\n\")",
          "old_line_content": "\t\t\tconst char *prefix, int prefix_length)",
          "new_line_content": "\t\tfprintf(stderr, \"Not in the middle of a merge.\\n\");",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": null,
          "new_api": "exit",
          "old_text": null,
          "new_text": "exit(0)",
          "old_line_content": "{",
          "new_line_content": "\t\texit(0);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 512,
          "old_api": "unresolve_one",
          "new_api": null,
          "old_text": "unresolve_one(p)",
          "new_text": null,
          "old_line_content": "\t\terr |= unresolve_one(p);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 514,
          "old_api": "free",
          "new_api": null,
          "old_text": "free((char*)p)",
          "new_text": null,
          "old_line_content": "\t\t\tfree((char*)p);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": "get_pathspec",
          "new_api": null,
          "old_text": "get_pathspec(prefix, av + 1)",
          "new_text": null,
          "old_line_content": "\tconst char **pathspec = get_pathspec(prefix, av + 1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "read_ref",
          "new_api": null,
          "old_text": "read_ref(\"HEAD\", head_sha1)",
          "new_text": null,
          "old_line_content": "\tif (read_ref(\"HEAD\", head_sha1))",
          "new_line_content": "\t * merged and already different between index and HEAD.",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": "ce_path_match",
          "new_api": null,
          "old_text": "ce_path_match(ce, pathspec)",
          "new_text": null,
          "old_line_content": "\t\tif (ce_stage(ce) || !ce_path_match(ce, pathspec))",
          "new_line_content": " redo:",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": "read_one_ent",
          "new_api": null,
          "old_text": "read_one_ent(NULL, head_sha1,\n\t\t\t\t\t   ce->name, ce_namelen(ce), 0)",
          "new_text": null,
          "old_line_content": "\t\t\told = read_one_ent(NULL, head_sha1,",
          "new_line_content": "\t\tstruct cache_entry *old = NULL;",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": "ce_namelen",
          "new_api": null,
          "old_text": "ce_namelen(ce)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t   ce->name, ce_namelen(ce), 0);",
          "new_line_content": "\t\tint save_nr;",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(old)",
          "new_text": null,
          "old_line_content": "\t\t\tfree(old);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": "update_one",
          "new_api": null,
          "old_text": "update_one(ce->name + prefix_length, prefix, prefix_length)",
          "new_text": null,
          "old_line_content": "\t\tupdate_one(ce->name + prefix_length, prefix, prefix_length);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(prefix)",
          "new_text": null,
          "old_line_content": "\tint prefix_length = prefix ? strlen(prefix) : 0;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(1, sizeof(struct lock_file))",
          "new_text": null,
          "old_line_content": "\tlock_file = xcalloc(1, sizeof(struct lock_file));",
          "new_line_content": "\tint lock_error = 0;",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": "hold_locked_index",
          "new_api": null,
          "old_text": "hold_locked_index(lock_file, 0)",
          "new_text": null,
          "old_line_content": "\tnewfd = hold_locked_index(lock_file, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--\")) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"-q\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"-q\")) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--add\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--add\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 89,
          "old_api": "cache_entry_size",
          "new_api": null,
          "old_text": "cache_entry_size(len)",
          "new_text": null,
          "old_line_content": "\tint option, size = cache_entry_size(len);",
          "new_line_content": "\tint option, size;",
          "content_same": false
        },
        {
          "line": 90,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(1, size)",
          "new_text": null,
          "old_line_content": "\tstruct cache_entry *ce = xcalloc(1, size);",
          "new_line_content": "\tstruct cache_entry *ce;",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--replace\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--replace\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 92,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(ce->name, path, len)",
          "new_text": null,
          "old_line_content": "\tmemcpy(ce->name, path, len);",
          "new_line_content": "\t/* Was the old index entry already up-to-date? */",
          "content_same": false
        },
        {
          "line": 94,
          "old_api": "fill_stat_cache_info",
          "new_api": null,
          "old_text": "fill_stat_cache_info(ce, st)",
          "new_text": null,
          "old_line_content": "\tfill_stat_cache_info(ce, st);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 95,
          "old_api": "ce_mode_from_stat",
          "new_api": null,
          "old_text": "ce_mode_from_stat(old, st->st_mode)",
          "new_text": null,
          "old_line_content": "\tce->ce_mode = ce_mode_from_stat(old, st->st_mode);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--remove\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--remove\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--unmerged\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--unmerged\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 102,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: cannot add to the index - missing --add option?\", path)",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"%s: cannot add to the index - missing --add option?\", path);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--refresh\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--refresh\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": "refresh_cache",
          "new_api": null,
          "old_text": "refresh_cache(refresh_flags)",
          "new_text": null,
          "old_line_content": "\t\t\t\thas_errors |= refresh_cache(refresh_flags);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--really-refresh\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--really-refresh\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": "refresh_cache",
          "new_api": null,
          "old_text": "refresh_cache(REFRESH_REALLY | refresh_flags)",
          "new_text": null,
          "old_line_content": "\t\t\t\thas_errors |= refresh_cache(REFRESH_REALLY | refresh_flags);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--cacheinfo\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--cacheinfo\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"git-update-index: --cacheinfo <mode> <sha1> <path>\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdie(\"git-update-index: --cacheinfo <mode> <sha1> <path>\");",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "strtoul_ui",
          "new_api": null,
          "old_text": "strtoul_ui(argv[i+1], 8, &mode)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (strtoul_ui(argv[i+1], 8, &mode) ||",
          "new_line_content": "\t\t\t\tunsigned char sha1[20];",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": "get_sha1_hex",
          "new_api": null,
          "old_text": "get_sha1_hex(argv[i+2], sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t    get_sha1_hex(argv[i+2], sha1) ||",
          "new_line_content": "\t\t\t\tunsigned int mode;",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": "add_cacheinfo",
          "new_api": null,
          "old_text": "add_cacheinfo(mode, sha1, argv[i+3], 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t    add_cacheinfo(mode, sha1, argv[i+3], 0))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"git-update-index: --cacheinfo\"\n\t\t\t\t\t    \" cannot add %s\", argv[i+3])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdie(\"git-update-index: --cacheinfo\"",
          "new_line_content": "\t\t\t\tif (i+3 >= argc)",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"git-update-index: %s <path>\", path)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdie(\"git-update-index: %s <path>\", path);",
          "new_line_content": "\t\t\t\ti += 3;",
          "content_same": false
        },
        {
          "line": 132,
          "old_api": "cache_name_pos",
          "new_api": null,
          "old_text": "cache_name_pos(path, len)",
          "new_text": null,
          "old_line_content": "\tint pos = cache_name_pos(path, len);",
          "new_line_content": " *  - it doesn't exist at all in the index, but it is a valid",
          "content_same": false
        },
        {
          "line": 137,
          "old_api": "ntohl",
          "new_api": null,
          "old_text": "ntohl(ce->ce_mode)",
          "new_text": null,
          "old_line_content": "\t\tif (S_ISGITLINK(ntohl(ce->ce_mode))) {",
          "new_line_content": "\tunsigned char sha1[20];",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--no-assume-unchanged\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--no-assume-unchanged\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 140,
          "old_api": "resolve_gitlink_ref",
          "new_api": null,
          "old_text": "resolve_gitlink_ref(path, \"HEAD\", sha1)",
          "new_text": null,
          "old_line_content": "\t\t\tif (resolve_gitlink_ref(path, \"HEAD\", sha1) < 0)",
          "new_line_content": "\t/* Exact match: file or existing gitlink */",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--info-only\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--info-only\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--force-remove\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--force-remove\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"-z\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"-z\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--stdin\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--stdin\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 154,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(ce->name, path, len)",
          "new_text": null,
          "old_line_content": "\t\tif (strncmp(ce->name, path, len))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 162,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: is a directory - add individual files instead\", path)",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"%s: is a directory - add individual files instead\", path);",
          "new_line_content": "\t\tif (ce->name[len] > '/')",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "read_index_info",
          "new_api": null,
          "old_text": "read_index_info(line_termination)",
          "new_text": null,
          "old_line_content": "\t\t\t\tread_index_info(line_termination);",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": "resolve_gitlink_ref",
          "new_api": null,
          "old_text": "resolve_gitlink_ref(path, \"HEAD\", sha1)",
          "new_text": null,
          "old_line_content": "\tif (!resolve_gitlink_ref(path, \"HEAD\", sha1))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 167,
          "old_api": "add_one_path",
          "new_api": null,
          "old_text": "add_one_path(NULL, path, len, st)",
          "new_text": null,
          "old_line_content": "\t\treturn add_one_path(NULL, path, len, st);",
          "new_line_content": "\t\t/* Subdirectory match - error out */",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--unresolve\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--unresolve\")) {",
          "new_line_content": "\t\t\t\tif (i != argc - 1)",
          "content_same": false
        },
        {
          "line": 170,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: is a directory - add files inside instead\", path)",
          "new_text": null,
          "old_line_content": "\treturn error(\"%s: is a directory - add files inside instead\", path);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": "do_reupdate",
          "new_api": null,
          "old_text": "do_reupdate(argc - i, argv + i,\n\t\t\t\t\t\t\t prefix, prefix_length)",
          "new_text": null,
          "old_line_content": "\t\t\t\thas_errors = do_reupdate(argc - i, argv + i,",
          "new_line_content": "\t\t\t\t\t\t\t  prefix, prefix_length);",
          "content_same": false
        },
        {
          "line": 178,
          "old_api": "cache_name_pos",
          "new_api": null,
          "old_text": "cache_name_pos(path, len)",
          "new_text": null,
          "old_line_content": "\tint pos = cache_name_pos(path, len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 181,
          "old_api": "ntohl",
          "new_api": null,
          "old_text": "ntohl(ce->ce_mode)",
          "new_text": null,
          "old_line_content": "\tif (ce && S_ISGITLINK(ntohl(ce->ce_mode)))",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 182,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s is already a gitlink, not replacing\", path)",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"%s is already a gitlink, not replacing\", path);",
          "new_line_content": "static int process_file(const char *path, int len, struct stat *st)",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--verbose\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"--verbose\")) {",
          "new_line_content": "\t\t\t\tgoto finish;",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(path, \"--help\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(path, \"-h\") || !strcmp(path, \"--help\"))",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(update_index_usage)",
          "new_text": null,
          "old_line_content": "\t\t\t\tusage(update_index_usage);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "prefix_path",
          "new_api": null,
          "old_text": "prefix_path(prefix, prefix_length, path)",
          "new_text": null,
          "old_line_content": "\t\tp = prefix_path(prefix, prefix_length, path);",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "update_one",
          "new_api": null,
          "old_text": "update_one(p, NULL, 0)",
          "new_text": null,
          "old_line_content": "\t\tupdate_one(p, NULL, 0);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 195,
          "old_api": "cache_tree_invalidate_path",
          "new_api": null,
          "old_text": "cache_tree_invalidate_path(active_cache_tree, path)",
          "new_text": null,
          "old_line_content": "\tcache_tree_invalidate_path(active_cache_tree, path);",
          "new_line_content": "\tint len;",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": "free",
          "new_api": null,
          "old_text": "free((char*)p)",
          "new_text": null,
          "old_line_content": "\t\t\tfree((char*)p);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 202,
          "old_api": "process_lstat_error",
          "new_api": null,
          "old_text": "process_lstat_error(path, errno)",
          "new_text": null,
          "old_line_content": "\t\treturn process_lstat_error(path, errno);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 204,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(path)",
          "new_text": null,
          "old_line_content": "\tlen = strlen(path);",
          "new_line_content": "\t * First things first: get the stat information, to decide",
          "content_same": false
        },
        {
          "line": 205,
          "old_api": "S_ISDIR",
          "new_api": null,
          "old_text": "S_ISDIR(st.st_mode)",
          "new_text": null,
          "old_line_content": "\tif (S_ISDIR(st.st_mode))",
          "new_line_content": "\t * what to do about the pathname!",
          "content_same": false
        },
        {
          "line": 206,
          "old_api": "process_directory",
          "new_api": null,
          "old_text": "process_directory(path, len, &st)",
          "new_text": null,
          "old_line_content": "\t\treturn process_directory(path, len, &st);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": "read_line",
          "new_api": null,
          "old_text": "read_line(&buf, stdin, line_termination)",
          "new_text": null,
          "old_line_content": "\t\t\tread_line(&buf, stdin, line_termination);",
          "new_line_content": "\tif (read_from_stdin) {",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": "unquote_c_style",
          "new_api": null,
          "old_text": "unquote_c_style(buf.buf, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpath_name = unquote_c_style(buf.buf, NULL);",
          "new_line_content": "\t\t\tchar *path_name;",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": "prefix_path",
          "new_api": null,
          "old_text": "prefix_path(prefix, prefix_length, path_name)",
          "new_text": null,
          "old_line_content": "\t\t\tp = prefix_path(prefix, prefix_length, path_name);",
          "new_line_content": "\t\t\tif (buf.eof)",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": "update_one",
          "new_api": null,
          "old_text": "update_one(p, NULL, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tupdate_one(p, NULL, 0);",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(path_name)",
          "new_text": null,
          "old_line_content": "\t\t\tif (p < path_name || p > path_name + strlen(path_name))",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 217,
          "old_api": "verify_path",
          "new_api": null,
          "old_text": "verify_path(path)",
          "new_text": null,
          "old_line_content": "\tif (!verify_path(path))",
          "new_line_content": "static int add_cacheinfo(unsigned int mode, const unsigned char *sha1,",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": "free",
          "new_api": null,
          "old_text": "free((char*) p)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfree((char*) p);",
          "new_line_content": "\t\t\t\tpath_name = buf.buf;",
          "content_same": false
        },
        {
          "line": 220,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(path)",
          "new_text": null,
          "old_line_content": "\tlen = strlen(path);",
          "new_line_content": "\tint size, len, option;",
          "content_same": false
        },
        {
          "line": 221,
          "old_api": "cache_entry_size",
          "new_api": null,
          "old_text": "cache_entry_size(len)",
          "new_text": null,
          "old_line_content": "\tsize = cache_entry_size(len);",
          "new_line_content": "\tstruct cache_entry *ce;",
          "content_same": false
        },
        {
          "line": 222,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(1, size)",
          "new_text": null,
          "old_line_content": "\tce = xcalloc(1, size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(ce->sha1, sha1)",
          "new_text": null,
          "old_line_content": "\thashcpy(ce->sha1, sha1);",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 225,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(ce->name, path, len)",
          "new_text": null,
          "old_line_content": "\tmemcpy(ce->name, path, len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": "exit",
          "new_api": null,
          "old_text": "exit(128)",
          "new_text": null,
          "old_line_content": "\t\t\t\texit(128);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"unable to create '%s.lock': %s\",\n\t\t\t    get_index_file(), strerror(lock_error))",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"unable to create '%s.lock': %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": "htons",
          "new_api": null,
          "old_text": "htons(CE_VALID)",
          "new_text": null,
          "old_line_content": "\t\tce->ce_flags |= htons(CE_VALID);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(lock_error)",
          "new_text": null,
          "old_line_content": "\t\t\t    get_index_file(), strerror(lock_error));",
          "new_line_content": " finish:",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": "write_cache",
          "new_api": null,
          "old_text": "write_cache(newfd, active_cache, active_nr)",
          "new_text": null,
          "old_line_content": "\t\tif (write_cache(newfd, active_cache, active_nr) ||",
          "new_line_content": "\t\tif (newfd < 0) {",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "commit_locked_index",
          "new_api": null,
          "old_text": "commit_locked_index(lock_file)",
          "new_text": null,
          "old_line_content": "\t\t    close(newfd) || commit_locked_index(lock_file))",
          "new_line_content": "\t\t\tif (refresh_flags & REFRESH_QUIET)",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": "cache_tree_invalidate_path",
          "new_api": null,
          "old_text": "cache_tree_invalidate_path(active_cache_tree, path)",
          "new_text": null,
          "old_line_content": "\tcache_tree_invalidate_path(active_cache_tree, path);",
          "new_line_content": "\toption = allow_add ? ADD_CACHE_OK_TO_ADD : 0;",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": "rollback_lock_file",
          "new_api": null,
          "old_text": "rollback_lock_file(lock_file)",
          "new_text": null,
          "old_line_content": "\trollback_lock_file(lock_file);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 246,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(path)",
          "new_text": null,
          "old_line_content": "\tpos = cache_name_pos(path, strlen(path));",
          "new_line_content": "static void chmod_path(int flip, const char *path)",
          "content_same": false
        },
        {
          "line": 250,
          "old_api": "ntohl",
          "new_api": null,
          "old_text": "ntohl(ce->ce_mode)",
          "new_text": null,
          "old_line_content": "\tmode = ntohl(ce->ce_mode);",
          "new_line_content": "\tunsigned int mode;",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": "S_ISREG",
          "new_api": null,
          "old_text": "S_ISREG(mode)",
          "new_text": null,
          "old_line_content": "\tif (!S_ISREG(mode))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(0111)",
          "new_text": null,
          "old_line_content": "\t\tce->ce_mode |= htonl(0111); break;",
          "new_line_content": "\tce = active_cache[pos];",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"git-update-index: cannot chmod %cx '%s'\", flip, path)",
          "new_text": null,
          "old_line_content": "\tdie(\"git-update-index: cannot chmod %cx '%s'\", flip, path);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": "prefix_path",
          "new_api": null,
          "old_text": "prefix_path(prefix, prefix_length, path)",
          "new_text": null,
          "old_line_content": "\tconst char *p = prefix_path(prefix, prefix_length, path);",
          "new_line_content": " fail:",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Ignoring path %s\\n\", path)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"Ignoring path %s\\n\", path);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": "cache_tree_invalidate_path",
          "new_api": null,
          "old_text": "cache_tree_invalidate_path(active_cache_tree, path)",
          "new_text": null,
          "old_line_content": "\tcache_tree_invalidate_path(active_cache_tree, path);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 285,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"git-update-index: unable to remove %s\", path)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"git-update-index: unable to remove %s\", path);",
          "new_line_content": "\t\tgoto free_return;",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": "report",
          "new_api": null,
          "old_text": "report(\"remove '%s'\", path)",
          "new_text": null,
          "old_line_content": "\t\treport(\"remove '%s'\", path);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 289,
          "old_api": "process_path",
          "new_api": null,
          "old_text": "process_path(p)",
          "new_text": null,
          "old_line_content": "\tif (process_path(p))",
          "new_line_content": "\tif (force_remove) {",
          "content_same": false
        },
        {
          "line": 293,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(path)",
          "new_text": null,
          "old_line_content": "\tif (p < path || p > path + strlen(path))",
          "new_line_content": "\t\tgoto free_return;",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": "free",
          "new_api": null,
          "old_text": "free((char*)p)",
          "new_text": null,
          "old_line_content": "\t\tfree((char*)p);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": "read_line",
          "new_api": null,
          "old_text": "read_line(&buf, stdin, line_termination)",
          "new_text": null,
          "old_line_content": "\t\tread_line(&buf, stdin, line_termination);",
          "new_line_content": "\t\t * into the index file.",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(buf.buf, &ptr, 8)",
          "new_text": null,
          "old_line_content": "\t\tul = strtoul(buf.buf, &ptr, 8);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": "get_sha1_hex",
          "new_api": null,
          "old_text": "get_sha1_hex(tab - 40, sha1)",
          "new_text": null,
          "old_line_content": "\t\tif (get_sha1_hex(tab - 40, sha1) || tab[-41] != ' ')",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 354,
          "old_api": "unquote_c_style",
          "new_api": null,
          "old_text": "unquote_c_style(ptr, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\tpath_name = unquote_c_style(ptr, NULL);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "verify_path",
          "new_api": null,
          "old_text": "verify_path(path_name)",
          "new_text": null,
          "old_line_content": "\t\tif (!verify_path(path_name)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Ignoring path %s\\n\", path_name)",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, \"Ignoring path %s\\n\", path_name);",
          "new_line_content": "\t\tif (line_termination && ptr[0] == '\"')",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(path_name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfree(path_name);",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": "remove_file_from_cache",
          "new_api": null,
          "old_text": "remove_file_from_cache(path_name)",
          "new_text": null,
          "old_line_content": "\t\t\tif (remove_file_from_cache(path_name))",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"git-update-index: unable to remove %s\",\n\t\t\t\t    ptr)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"git-update-index: unable to remove %s\",",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": "add_cacheinfo",
          "new_api": null,
          "old_text": "add_cacheinfo(mode, sha1, path_name, stage)",
          "new_text": null,
          "old_line_content": "\t\t\tif (add_cacheinfo(mode, sha1, path_name, stage))",
          "new_line_content": "\t\telse {",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"git-update-index: unable to update %s\",\n\t\t\t\t    path_name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"git-update-index: unable to update %s\",",
          "new_line_content": "\t\t\t/* mode ' ' sha1 '\\t' name",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(path_name)",
          "new_text": null,
          "old_line_content": "\t\t\tfree(path_name);",
          "new_line_content": "\t\t\tptr[-42] = ptr[-1] = 0;",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"malformed index info %s\", buf.buf)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"malformed index info %s\", buf.buf);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 406,
          "old_api": "get_tree_entry",
          "new_api": null,
          "old_text": "get_tree_entry(ent, path, sha1, &mode)",
          "new_text": null,
          "old_line_content": "\tif (get_tree_entry(ent, path, sha1, &mode)) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: not in %s branch.\", path, which)",
          "new_text": null,
          "old_line_content": "\t\t\terror(\"%s: not in %s branch.\", path, which);",
          "new_line_content": "\tunsigned char sha1[20];",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: not a blob in %s branch.\", path, which)",
          "new_text": null,
          "old_line_content": "\t\t\terror(\"%s: not a blob in %s branch.\", path, which);",
          "new_line_content": "\t\tif (which)",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": "cache_entry_size",
          "new_api": null,
          "old_text": "cache_entry_size(namelen)",
          "new_text": null,
          "old_line_content": "\tsize = cache_entry_size(namelen);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(1, size)",
          "new_text": null,
          "old_line_content": "\tce = xcalloc(1, size);",
          "new_line_content": "\tif (mode == S_IFDIR) {",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(ce->name, path, namelen)",
          "new_text": null,
          "old_line_content": "\tmemcpy(ce->name, path, namelen);",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "create_ce_flags",
          "new_api": null,
          "old_text": "create_ce_flags(namelen, stage)",
          "new_text": null,
          "old_line_content": "\tce->ce_flags = create_ce_flags(namelen, stage);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": "ce_namelen",
          "new_api": null,
          "old_text": "ce_namelen(ce)",
          "new_text": null,
          "old_line_content": "\t\t\tif (ce_namelen(ce) == namelen &&",
          "new_line_content": "\t\t * resolved as \"removed\" by mistake.  We do not",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(ce->name, path, namelen)",
          "new_text": null,
          "old_line_content": "\t\t\t    !memcmp(ce->name, path, namelen)) {",
          "new_line_content": "\t\t * want to do anything in the former case.",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\n\t\t\t\t\t\"%s: skipping still unmerged path.\\n\",\n\t\t\t\t\tpath)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfprintf(stderr,",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "read_one_ent",
          "new_api": null,
          "old_text": "read_one_ent(\"our\", head_sha1, path, namelen, 2)",
          "new_text": null,
          "old_line_content": "\tce_2 = read_one_ent(\"our\", head_sha1, path, namelen, 2);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": "read_one_ent",
          "new_api": null,
          "old_text": "read_one_ent(\"their\", merge_head_sha1, path, namelen, 3)",
          "new_text": null,
          "old_line_content": "\tce_3 = read_one_ent(\"their\", merge_head_sha1, path, namelen, 3);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"%s: identical in both, skipping.\\n\",\n\t\t\tpath)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"%s: identical in both, skipping.\\n\",",
          "new_line_content": "\tif (!ce_2 || !ce_3) {",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": "cache_tree_invalidate_path",
          "new_api": null,
          "old_text": "cache_tree_invalidate_path(active_cache_tree, path)",
          "new_text": null,
          "old_line_content": "\tcache_tree_invalidate_path(active_cache_tree, path);",
          "new_line_content": "\t    ce_2->ce_mode == ce_3->ce_mode) {",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "add_cache_entry",
          "new_api": null,
          "old_text": "add_cache_entry(ce_2, ADD_CACHE_OK_TO_ADD)",
          "new_text": null,
          "old_line_content": "\tif (add_cache_entry(ce_2, ADD_CACHE_OK_TO_ADD)) {",
          "new_line_content": "\t\t\tpath);",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: cannot add our version to the index.\", path)",
          "new_text": null,
          "old_line_content": "\t\terror(\"%s: cannot add our version to the index.\", path);",
          "new_line_content": "\t\tgoto free_return;",
          "content_same": false
        },
        {
          "line": 483,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(ce_2)",
          "new_text": null,
          "old_line_content": "\tfree(ce_2);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"No HEAD -- no initial commit yet?\\n\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"No HEAD -- no initial commit yet?\\n\");",
          "new_line_content": "\treturn ret;",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": "read_ref",
          "new_api": null,
          "old_text": "read_ref(\"MERGE_HEAD\", merge_head_sha1)",
          "new_text": null,
          "old_line_content": "\tif (read_ref(\"MERGE_HEAD\", merge_head_sha1)) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Not in the middle of a merge.\\n\")",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"Not in the middle of a merge.\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": "exit",
          "new_api": null,
          "old_text": "exit(0)",
          "new_text": null,
          "old_line_content": "\t\texit(0);",
          "new_line_content": "static void read_head_pointers(void)",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": "read_head_pointers",
          "new_api": null,
          "old_text": "read_head_pointers()",
          "new_text": null,
          "old_line_content": "\tread_head_pointers();",
          "new_line_content": "\tint i;",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": "prefix_path",
          "new_api": null,
          "old_text": "prefix_path(prefix, prefix_length, arg)",
          "new_text": null,
          "old_line_content": "\t\tconst char *p = prefix_path(prefix, prefix_length, arg);",
          "new_line_content": "\t * are not doing a merge, so exit with success status.",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 52,
      "total_additions": 135,
      "total_deletions": 134,
      "total_api_changes": 321
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 8,
        "api_related_lines": 321,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          91
        ]
      }
    },
    "api_calls_before": 213,
    "api_calls_after": 215,
    "diff_info": {
      "added_lines": 8,
      "removed_lines": 2,
      "total_diff_lines": 23
    }
  }
}