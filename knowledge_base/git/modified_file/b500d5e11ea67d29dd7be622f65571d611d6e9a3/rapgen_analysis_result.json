{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/b500d5e11ea67d29dd7be622f65571d611d6e9a3",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/b500d5e11ea67d29dd7be622f65571d611d6e9a3/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/b500d5e11ea67d29dd7be622f65571d611d6e9a3/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/b500d5e11ea67d29dd7be622f65571d611d6e9a3/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1064,
          "old_api": "deflateBound",
          "new_api": "deflateEnd",
          "old_text": "deflateBound(&s, s.avail_in)",
          "new_text": "deflateEnd(&s)",
          "old_line_content": "\ts.avail_out = deflateBound(&s, s.avail_in);",
          "new_line_content": "\tdeflateEnd(&s);",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": "cycle_packfile",
          "new_api": "free",
          "old_text": "cycle_packfile()",
          "new_text": "free(delta)",
          "old_line_content": "\t\tcycle_packfile();",
          "new_line_content": "\t\t\tfree(delta);",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "free",
          "new_api": "deflateInit",
          "old_text": "free(delta)",
          "new_text": "deflateInit(&s, pack_compression_level)",
          "old_line_content": "\t\t\tfree(delta);",
          "new_line_content": "\t\t\tdeflateInit(&s, pack_compression_level);",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": "memset",
          "new_api": "deflateBound",
          "old_text": "memset(&s, 0, sizeof(s))",
          "new_text": "deflateBound(&s, s.avail_in)",
          "old_line_content": "\t\t\tmemset(&s, 0, sizeof(s));",
          "new_line_content": "\t\t\ts.avail_out = deflateBound(&s, s.avail_in);",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": "deflateInit",
          "new_api": "xrealloc",
          "old_text": "deflateInit(&s, pack_compression_level)",
          "new_text": "xrealloc(out, s.avail_out)",
          "old_line_content": "\t\t\tdeflateInit(&s, pack_compression_level);",
          "new_line_content": "\t\t\ts.next_out = out = xrealloc(out, s.avail_out);",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": "deflateBound",
          "new_api": "deflateEnd",
          "old_text": "deflateBound(&s, s.avail_in)",
          "new_text": "deflateEnd(&s)",
          "old_line_content": "\t\t\ts.avail_out = deflateBound(&s, s.avail_in);",
          "new_line_content": "\t\t\tdeflateEnd(&s);",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": "sha1write",
          "new_api": "encode_header",
          "old_text": "sha1write(pack_file, hdr + pos, sizeof(hdr) - pos)",
          "new_text": "encode_header(type, dat->len, hdr)",
          "old_line_content": "\t\tsha1write(pack_file, hdr + pos, sizeof(hdr) - pos);",
          "new_line_content": "\t\thdrlen = encode_header(type, dat->len, hdr);",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "snprintf",
          "new_api": "git_SHA1_Init",
          "old_text": "snprintf((char *)out_buf, out_sz, \"blob %\" PRIuMAX, len)",
          "new_text": "git_SHA1_Init(&c)",
          "old_line_content": "\thdrlen = snprintf((char *)out_buf, out_sz, \"blob %\" PRIuMAX, len) + 1;",
          "new_line_content": "\tgit_SHA1_Init(&c);",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "git_SHA1_Update",
          "new_api": "memset",
          "old_text": "git_SHA1_Update(&c, out_buf, hdrlen)",
          "new_text": "memset(&s, 0, sizeof(s))",
          "old_line_content": "\tgit_SHA1_Update(&c, out_buf, hdrlen);",
          "new_line_content": "\tmemset(&s, 0, sizeof(s));",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "deflateInit",
          "new_api": "die",
          "old_text": "deflateInit(&s, pack_compression_level)",
          "new_text": "die(\"impossibly large object header\")",
          "old_line_content": "\tdeflateInit(&s, pack_compression_level);",
          "new_line_content": "\t\tdie(\"impossibly large object header\");",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "fread",
          "new_api": "git_SHA1_Update",
          "old_text": "fread(in_buf, 1, cnt, stdin)",
          "new_text": "git_SHA1_Update(&c, in_buf, n)",
          "old_line_content": "\t\t\tsize_t n = fread(in_buf, 1, cnt, stdin);",
          "new_line_content": "\t\t\tgit_SHA1_Update(&c, in_buf, n);",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": "deflate",
          "new_api": "sha1write",
          "old_text": "deflate(&s, len ? 0 : Z_FINISH)",
          "new_text": "sha1write(pack_file, out_buf, n)",
          "old_line_content": "\t\tstatus = deflate(&s, len ? 0 : Z_FINISH);",
          "new_line_content": "\t\t\tsha1write(pack_file, out_buf, n);",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "die",
          "new_api": "git_SHA1_Final",
          "old_text": "die(\"unexpected deflate failure: %d\", status)",
          "new_text": "git_SHA1_Final(sha1, &c)",
          "old_line_content": "\t\t\tdie(\"unexpected deflate failure: %d\", status);",
          "new_line_content": "\tgit_SHA1_Final(sha1, &c);",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": "deflateEnd",
          "new_api": "hashcpy",
          "old_text": "deflateEnd(&s)",
          "new_text": "hashcpy(sha1out, sha1)",
          "old_line_content": "\tdeflateEnd(&s);",
          "new_line_content": "\t\thashcpy(sha1out, sha1);",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": "insert_mark",
          "new_api": "truncate_pack",
          "old_text": "insert_mark(mark, e)",
          "new_text": "truncate_pack(offset, &pack_file_ctx)",
          "old_line_content": "\t\tinsert_mark(mark, e);",
          "new_line_content": "\t\ttruncate_pack(offset, &pack_file_ctx);",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": "new_tree_content",
          "new_api": "find_object",
          "old_text": "new_tree_content(8)",
          "new_text": "find_object(sha1)",
          "old_line_content": "\troot->tree = t = new_tree_content(8);",
          "new_line_content": "\tmyoe = find_object(sha1);",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": "grow_tree_content",
          "new_api": "get_mode",
          "old_text": "grow_tree_content(t, t->entry_count)",
          "new_text": "get_mode(c, &e->versions[1].mode)",
          "old_line_content": "\t\t\troot->tree = t = grow_tree_content(t, t->entry_count);",
          "new_line_content": "\t\tc = get_mode(c, &e->versions[1].mode);",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": "get_mode",
          "new_api": "strlen",
          "old_text": "get_mode(c, &e->versions[1].mode)",
          "new_text": "strlen(c)",
          "old_line_content": "\t\tc = get_mode(c, &e->versions[1].mode);",
          "new_line_content": "\t\te->name = to_atom(c, strlen(c));",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": "sha1_to_hex",
          "new_api": "hashcpy",
          "old_text": "sha1_to_hex(sha1)",
          "new_text": "hashcpy(e->versions[0].sha1, (unsigned char *)c)",
          "old_line_content": "\t\t\tdie(\"Corrupt mode in %s\", sha1_to_hex(sha1));",
          "new_line_content": "\t\thashcpy(e->versions[0].sha1, (unsigned char *)c);",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": "hashcpy",
          "new_api": "free",
          "old_text": "hashcpy(e->versions[0].sha1, (unsigned char *)c)",
          "new_text": "free(buf)",
          "old_line_content": "\t\thashcpy(e->versions[0].sha1, (unsigned char *)c);",
          "new_line_content": "\tfree(buf);",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": "store_tree",
          "new_api": "S_ISDIR",
          "old_text": "store_tree(t->entries[i])",
          "new_text": "S_ISDIR(root->versions[0].mode)",
          "old_line_content": "\t\t\tstore_tree(t->entries[i]);",
          "new_line_content": "\tif (S_ISDIR(root->versions[0].mode) && le && le->pack_id == pack_id) {",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": "strchr",
          "new_api": "strlen",
          "old_text": "strchr(p, '/')",
          "new_text": "strlen(p)",
          "old_line_content": "\tslash1 = strchr(p, '/');",
          "new_line_content": "\t\tn = strlen(p);",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": "strlen",
          "new_api": "die",
          "old_text": "strlen(p)",
          "new_text": "die(\"Non-directories cannot have subtrees\")",
          "old_line_content": "\t\tn = strlen(p);",
          "new_line_content": "\t\tdie(\"Non-directories cannot have subtrees\");",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": "die",
          "new_api": "strncmp",
          "old_text": "die(\"Non-directories cannot have subtrees\")",
          "new_text": "strncmp(p, e->name->str_dat, n)",
          "old_line_content": "\t\tdie(\"Non-directories cannot have subtrees\");",
          "new_line_content": "\t\tif (e->name->str_len == n && !strncmp(p, e->name->str_dat, n)) {",
          "content_same": false
        },
        {
          "line": 1491,
          "old_api": "strncmp",
          "new_api": "hashcmp",
          "old_text": "strncmp(p, e->name->str_dat, n)",
          "new_text": "hashcmp(e->versions[1].sha1, sha1)",
          "old_line_content": "\t\tif (e->name->str_len == n && !strncmp(p, e->name->str_dat, n)) {",
          "new_line_content": "\t\t\t\t\t\t&& !hashcmp(e->versions[1].sha1, sha1))",
          "content_same": false
        },
        {
          "line": 1498,
          "old_api": "hashcpy",
          "new_api": "hashclr",
          "old_text": "hashcpy(e->versions[1].sha1, sha1)",
          "new_text": "hashclr(root->versions[1].sha1)",
          "old_line_content": "\t\t\t\thashcpy(e->versions[1].sha1, sha1);",
          "new_line_content": "\t\t\t\thashclr(root->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": "hashclr",
          "new_api": "new_tree_content",
          "old_text": "hashclr(root->versions[1].sha1)",
          "new_text": "new_tree_content(8)",
          "old_line_content": "\t\t\t\thashclr(root->versions[1].sha1);",
          "new_line_content": "\t\t\t\te->tree = new_tree_content(8);",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": "new_tree_content",
          "new_api": "load_tree",
          "old_text": "new_tree_content(8)",
          "new_text": "load_tree(e)",
          "old_line_content": "\t\t\t\te->tree = new_tree_content(8);",
          "new_line_content": "\t\t\t\tload_tree(e);",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": "grow_tree_content",
          "new_api": "hashclr",
          "old_text": "grow_tree_content(t, t->entry_count)",
          "new_text": "hashclr(e->versions[0].sha1)",
          "old_line_content": "\t\troot->tree = t = grow_tree_content(t, t->entry_count);",
          "new_line_content": "\thashclr(e->versions[0].sha1);",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": "tree_content_set",
          "new_api": "hashcpy",
          "old_text": "tree_content_set(e, slash1 + 1, sha1, mode, subtree)",
          "new_text": "hashcpy(e->versions[1].sha1, sha1)",
          "old_line_content": "\t\ttree_content_set(e, slash1 + 1, sha1, mode, subtree);",
          "new_line_content": "\t\thashcpy(e->versions[1].sha1, sha1);",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": "strchr",
          "new_api": "strlen",
          "old_text": "strchr(p, '/')",
          "new_text": "strlen(p)",
          "old_line_content": "\tslash1 = strchr(p, '/');",
          "new_line_content": "\t\tn = strlen(p);",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "strlen",
          "new_api": "strncmp",
          "old_text": "strlen(p)",
          "new_text": "strncmp(p, e->name->str_dat, n)",
          "old_line_content": "\t\tn = strlen(p);",
          "new_line_content": "\t\tif (e->name->str_len == n && !strncmp(p, e->name->str_dat, n)) {",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": "strncmp",
          "new_api": "load_tree",
          "old_text": "strncmp(p, e->name->str_dat, n)",
          "new_text": "load_tree(e)",
          "old_line_content": "\t\tif (e->name->str_len == n && !strncmp(p, e->name->str_dat, n)) {",
          "new_line_content": "\t\t\t\tload_tree(e);",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "S_ISDIR",
          "new_api": "tree_content_remove",
          "old_text": "S_ISDIR(e->versions[1].mode)",
          "new_text": "tree_content_remove(e, slash1 + 1, backup_leaf)",
          "old_line_content": "\t\t\tif (!slash1 || !S_ISDIR(e->versions[1].mode))",
          "new_line_content": "\t\t\tif (tree_content_remove(e, slash1 + 1, backup_leaf)) {",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": "load_tree",
          "new_api": "hashclr",
          "old_text": "load_tree(e)",
          "new_text": "hashclr(root->versions[1].sha1)",
          "old_line_content": "\t\t\t\tload_tree(e);",
          "new_line_content": "\t\t\t\t\t\thashclr(root->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": "release_tree_content_recursive",
          "new_api": "hashclr",
          "old_text": "release_tree_content_recursive(e->tree)",
          "new_text": "hashclr(root->versions[1].sha1)",
          "old_line_content": "\t\trelease_tree_content_recursive(e->tree);",
          "new_line_content": "\thashclr(root->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": "strchr",
          "new_api": "strlen",
          "old_text": "strchr(p, '/')",
          "new_text": "strlen(p)",
          "old_line_content": "\tslash1 = strchr(p, '/');",
          "new_line_content": "\t\tn = strlen(p);",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": "strlen",
          "new_api": "strncmp",
          "old_text": "strlen(p)",
          "new_text": "strncmp(p, e->name->str_dat, n)",
          "old_line_content": "\t\tn = strlen(p);",
          "new_line_content": "\t\tif (e->name->str_len == n && !strncmp(p, e->name->str_dat, n)) {",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "strncmp",
          "new_api": "dup_tree_content",
          "old_text": "strncmp(p, e->name->str_dat, n)",
          "new_text": "dup_tree_content(e->tree)",
          "old_line_content": "\t\tif (e->name->str_len == n && !strncmp(p, e->name->str_dat, n)) {",
          "new_line_content": "\t\t\t\t\tleaf->tree = dup_tree_content(e->tree);",
          "content_same": false
        },
        {
          "line": 1616,
          "old_api": "S_ISDIR",
          "new_api": "tree_content_get",
          "old_text": "S_ISDIR(e->versions[1].mode)",
          "new_text": "tree_content_get(e, slash1 + 1, leaf)",
          "old_line_content": "\t\t\tif (!S_ISDIR(e->versions[1].mode))",
          "new_line_content": "\t\t\treturn tree_content_get(e, slash1 + 1, leaf);",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": "is_null_sha1",
          "new_api": "lock_any_ref_for_update",
          "old_text": "is_null_sha1(b->sha1)",
          "new_text": "lock_any_ref_for_update(b->name, old_sha1, 0)",
          "old_line_content": "\tif (is_null_sha1(b->sha1))",
          "new_line_content": "\tlock = lock_any_ref_for_update(b->name, old_sha1, 0);",
          "content_same": false
        },
        {
          "line": 1634,
          "old_api": "read_ref",
          "new_api": "error",
          "old_text": "read_ref(b->name, old_sha1)",
          "new_text": "error(\"Unable to lock %s\", b->name)",
          "old_line_content": "\tif (read_ref(b->name, old_sha1))",
          "new_line_content": "\t\treturn error(\"Unable to lock %s\", b->name);",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": "hashclr",
          "new_api": "is_null_sha1",
          "old_text": "hashclr(old_sha1)",
          "new_text": "is_null_sha1(old_sha1)",
          "old_line_content": "\t\thashclr(old_sha1);",
          "new_line_content": "\tif (!force_update && !is_null_sha1(old_sha1)) {",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": "error",
          "new_api": "lookup_commit_reference_gently",
          "old_text": "error(\"Unable to lock %s\", b->name)",
          "new_text": "lookup_commit_reference_gently(old_sha1, 0)",
          "old_line_content": "\t\treturn error(\"Unable to lock %s\", b->name);",
          "new_line_content": "\t\told_cmit = lookup_commit_reference_gently(old_sha1, 0);",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": "is_null_sha1",
          "new_api": "lookup_commit_reference_gently",
          "old_text": "is_null_sha1(old_sha1)",
          "new_text": "lookup_commit_reference_gently(b->sha1, 0)",
          "old_line_content": "\tif (!force_update && !is_null_sha1(old_sha1)) {",
          "new_line_content": "\t\tnew_cmit = lookup_commit_reference_gently(b->sha1, 0);",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": "lookup_commit_reference_gently",
          "new_api": "error",
          "old_text": "lookup_commit_reference_gently(old_sha1, 0)",
          "new_text": "error(\"Branch %s is missing commits.\", b->name)",
          "old_line_content": "\t\told_cmit = lookup_commit_reference_gently(old_sha1, 0);",
          "new_line_content": "\t\t\treturn error(\"Branch %s is missing commits.\", b->name);",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": "unlock_ref",
          "new_api": "in_merge_bases",
          "old_text": "unlock_ref(lock)",
          "new_text": "in_merge_bases(old_cmit, &new_cmit, 1)",
          "old_line_content": "\t\t\tunlock_ref(lock);",
          "new_line_content": "\t\tif (!in_merge_bases(old_cmit, &new_cmit, 1)) {",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": "error",
          "new_api": "unlock_ref",
          "old_text": "error(\"Branch %s is missing commits.\", b->name)",
          "new_text": "unlock_ref(lock)",
          "old_line_content": "\t\t\treturn error(\"Branch %s is missing commits.\", b->name);",
          "new_line_content": "\t\t\tunlock_ref(lock);",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": "in_merge_bases",
          "new_api": "sha1_to_hex",
          "old_text": "in_merge_bases(old_cmit, &new_cmit, 1)",
          "new_text": "sha1_to_hex(old_sha1)",
          "old_line_content": "\t\tif (!in_merge_bases(old_cmit, &new_cmit, 1)) {",
          "new_line_content": "\t\t\t\tb->name, sha1_to_hex(b->sha1), sha1_to_hex(old_sha1));",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": "sha1_to_hex",
          "new_api": "write_ref_sha1",
          "old_text": "sha1_to_hex(old_sha1)",
          "new_text": "write_ref_sha1(lock, b->sha1, msg)",
          "old_line_content": "\t\t\t\tb->name, sha1_to_hex(b->sha1), sha1_to_hex(old_sha1));",
          "new_line_content": "\tif (write_ref_sha1(lock, b->sha1, msg) < 0)",
          "content_same": false
        },
        {
          "line": 1720,
          "old_api": "strerror",
          "new_api": "fdopen",
          "old_text": "strerror(errno)",
          "new_text": "fdopen(mark_fd, \"w\")",
          "old_line_content": "\t\t\texport_marks_file, strerror(errno));",
          "new_line_content": "\tf = fdopen(mark_fd, \"w\");",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": "fdopen",
          "new_api": "error",
          "old_text": "fdopen(mark_fd, \"w\")",
          "new_text": "error(\"Unable to write marks file %s: %s\",\n\t\t\texport_marks_file, strerror(saved_errno))",
          "old_line_content": "\tf = fdopen(mark_fd, \"w\");",
          "new_line_content": "\t\tfailure |= error(\"Unable to write marks file %s: %s\",",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": "dump_marks_helper",
          "new_api": "error",
          "old_text": "dump_marks_helper(f, 0, marks)",
          "new_text": "error(\"Unable to write marks file %s: %s\",\n\t\t\texport_marks_file, strerror(saved_errno))",
          "old_line_content": "\tdump_marks_helper(f, 0, marks);",
          "new_line_content": "\t\tfailure |= error(\"Unable to write marks file %s: %s\",",
          "content_same": false
        },
        {
          "line": 1741,
          "old_api": "fclose",
          "new_api": "strerror",
          "old_text": "fclose(f)",
          "new_text": "strerror(saved_errno)",
          "old_line_content": "\tif (ferror(f) || fclose(f)) {",
          "new_line_content": "\t\t\texport_marks_file, strerror(saved_errno));",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "strerror",
          "new_api": "commit_lock_file",
          "old_text": "strerror(saved_errno)",
          "new_text": "commit_lock_file(&mark_lock)",
          "old_line_content": "\t\t\texport_marks_file, strerror(saved_errno));",
          "new_line_content": "\tif (commit_lock_file(&mark_lock)) {",
          "content_same": false
        },
        {
          "line": 1749,
          "old_api": "commit_lock_file",
          "new_api": "strerror",
          "old_text": "commit_lock_file(&mark_lock)",
          "new_text": "strerror(saved_errno)",
          "old_line_content": "\tif (commit_lock_file(&mark_lock)) {",
          "new_line_content": "\t\t\texport_marks_file, strerror(saved_errno));",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": "strchr",
          "new_api": "strtoumax",
          "old_text": "strchr(line, '\\n')",
          "new_text": "strtoumax(line + 1, &end, 10)",
          "old_line_content": "\t\tend = strchr(line, '\\n');",
          "new_line_content": "\t\tmark = strtoumax(line + 1, &end, 10);",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "die",
          "new_api": "get_sha1",
          "old_text": "die(\"corrupt mark line: %s\", line)",
          "new_text": "get_sha1(end + 1, sha1)",
          "old_line_content": "\t\t\tdie(\"corrupt mark line: %s\", line);",
          "new_line_content": "\t\t\t|| *end != ' ' || get_sha1(end + 1, sha1))",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": "strtoumax",
          "new_api": "find_object",
          "old_text": "strtoumax(line + 1, &end, 10)",
          "new_text": "find_object(sha1)",
          "old_line_content": "\t\tmark = strtoumax(line + 1, &end, 10);",
          "new_line_content": "\t\te = find_object(sha1);",
          "content_same": false
        },
        {
          "line": 1776,
          "old_api": "get_sha1",
          "new_api": "sha1_object_info",
          "old_text": "get_sha1(end + 1, sha1)",
          "new_text": "sha1_object_info(sha1, NULL)",
          "old_line_content": "\t\t\t|| *end != ' ' || get_sha1(end + 1, sha1))",
          "new_line_content": "\t\t\tenum object_type type = sha1_object_info(sha1, NULL);",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": "find_object",
          "new_api": "sha1_to_hex",
          "old_text": "find_object(sha1)",
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\t\te = find_object(sha1);",
          "new_line_content": "\t\t\t\tdie(\"object not found: %s\", sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 1862,
          "old_api": "prefixcmp",
          "new_api": "xstrdup",
          "old_text": "prefixcmp(command_buf.buf, \"data \")",
          "new_text": "xstrdup(command_buf.buf + 5 + 2)",
          "old_line_content": "\tif (prefixcmp(command_buf.buf, \"data \"))",
          "new_line_content": "\t\tchar *term = xstrdup(command_buf.buf + 5 + 2);",
          "content_same": false
        },
        {
          "line": 1865,
          "old_api": "prefixcmp",
          "new_api": "strbuf_detach",
          "old_text": "prefixcmp(command_buf.buf + 5, \"<<\")",
          "new_text": "strbuf_detach(&command_buf, NULL)",
          "old_line_content": "\tif (!prefixcmp(command_buf.buf + 5, \"<<\")) {",
          "new_line_content": "\t\tstrbuf_detach(&command_buf, NULL);",
          "content_same": false
        },
        {
          "line": 1872,
          "old_api": "die",
          "new_api": "strbuf_addbuf",
          "old_text": "die(\"EOF in data (terminator '%s' not found)\", term)",
          "new_text": "strbuf_addbuf(sb, &command_buf)",
          "old_line_content": "\t\t\t\tdie(\"EOF in data (terminator '%s' not found)\", term);",
          "new_line_content": "\t\t\tstrbuf_addbuf(sb, &command_buf);",
          "content_same": false
        },
        {
          "line": 1890,
          "old_api": "die",
          "new_api": "feof",
          "old_text": "die(\"data is too large to use in this context\")",
          "new_text": "feof(stdin)",
          "old_line_content": "\t\t\tdie(\"data is too large to use in this context\");",
          "new_line_content": "\t\t\tif (!s && feof(stdin))",
          "content_same": false
        },
        {
          "line": 1942,
          "old_api": "die",
          "new_api": "strncpy",
          "old_text": "die(\"Missing space after > in ident string: %s\", buf)",
          "new_text": "strncpy(ident, buf, name_len)",
          "old_line_content": "\t\tdie(\"Missing space after > in ident string: %s\", buf);",
          "new_line_content": "\tstrncpy(ident, buf, name_len);",
          "content_same": false
        },
        {
          "line": 1946,
          "old_api": "strncpy",
          "new_api": "validate_raw_date",
          "old_text": "strncpy(ident, buf, name_len)",
          "new_text": "validate_raw_date(gt, ident + name_len, 24)",
          "old_line_content": "\tstrncpy(ident, buf, name_len);",
          "new_line_content": "\t\tif (validate_raw_date(gt, ident + name_len, 24) < 0)",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": "validate_raw_date",
          "new_api": "parse_date",
          "old_text": "validate_raw_date(gt, ident + name_len, 24)",
          "new_text": "parse_date(gt, ident + name_len, 24)",
          "old_line_content": "\t\tif (validate_raw_date(gt, ident + name_len, 24) < 0)",
          "new_line_content": "\t\tif (parse_date(gt, ident + name_len, 24) < 0)",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": "parse_date",
          "new_api": "strcmp",
          "old_text": "parse_date(gt, ident + name_len, 24)",
          "new_text": "strcmp(\"now\", gt)",
          "old_line_content": "\t\tif (parse_date(gt, ident + name_len, 24) < 0)",
          "new_line_content": "\t\tif (strcmp(\"now\", gt))",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": "parse_data",
          "new_api": "strbuf_release",
          "old_text": "parse_data(&buf, big_file_threshold, &len)",
          "new_text": "strbuf_release(&last->data)",
          "old_line_content": "\tif (parse_data(&buf, big_file_threshold, &len))",
          "new_line_content": "\t\t\tstrbuf_release(&last->data);",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": "strbuf_release",
          "new_api": "stream_blob",
          "old_text": "strbuf_release(&last->data)",
          "new_text": "stream_blob(len, sha1out, mark)",
          "old_line_content": "\t\t\tstrbuf_release(&last->data);",
          "new_line_content": "\t\tstream_blob(len, sha1out, mark);",
          "content_same": false
        },
        {
          "line": 2116,
          "old_api": "tree_content_set",
          "new_api": "S_ISDIR",
          "old_text": "tree_content_set(orig_root, realpath,\n\t\t\t\tleaf.versions[1].sha1,\n\t\t\t\tleaf.versions[1].mode,\n\t\t\t\tleaf.tree)",
          "new_text": "S_ISDIR(e->versions[1].mode)",
          "old_line_content": "\t\t\ttree_content_set(orig_root, realpath,",
          "new_line_content": "\t\t} else if (S_ISDIR(e->versions[1].mode)) {",
          "content_same": false
        },
        {
          "line": 2120,
          "old_api": "S_ISDIR",
          "new_api": "do_change_note_fanout",
          "old_text": "S_ISDIR(e->versions[1].mode)",
          "new_text": "do_change_note_fanout(orig_root, e,\n\t\t\t\thex_sha1, tmp_hex_sha1_len,\n\t\t\t\tfullpath, tmp_fullpath_len, fanout)",
          "old_line_content": "\t\t} else if (S_ISDIR(e->versions[1].mode)) {",
          "new_line_content": "\t\t\tnum_notes += do_change_note_fanout(orig_root, e,",
          "content_same": false
        },
        {
          "line": 2173,
          "old_api": "prefixcmp",
          "new_api": "get_sha1_hex",
          "old_text": "prefixcmp(p, \"inline\")",
          "new_text": "get_sha1_hex(p, sha1)",
          "old_line_content": "\t} else if (!prefixcmp(p, \"inline\")) {",
          "new_line_content": "\t\tif (get_sha1_hex(p, sha1))",
          "content_same": false
        },
        {
          "line": 2179,
          "old_api": "find_object",
          "new_api": "die",
          "old_text": "find_object(sha1)",
          "new_text": "die(\"Missing space after SHA1: %s\", command_buf.buf)",
          "old_line_content": "\t\toe = find_object(sha1);",
          "new_line_content": "\t\tdie(\"Missing space after SHA1: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2188,
          "old_api": "die",
          "new_api": "S_ISGITLINK",
          "old_text": "die(\"Garbage after path in: %s\", command_buf.buf)",
          "new_text": "S_ISGITLINK(mode)",
          "old_line_content": "\t\t\tdie(\"Garbage after path in: %s\", command_buf.buf);",
          "new_line_content": "\tif (S_ISGITLINK(mode)) {",
          "content_same": false
        },
        {
          "line": 2207,
          "old_api": "strbuf_addstr",
          "new_api": "parse_and_store_blob",
          "old_text": "strbuf_addstr(&uq, p)",
          "new_text": "parse_and_store_blob(&last_blob, sha1, 0)",
          "old_line_content": "\t\t\tstrbuf_addstr(&uq, p);",
          "new_line_content": "\t\tparse_and_store_blob(&last_blob, sha1, 0);",
          "content_same": false
        },
        {
          "line": 2210,
          "old_api": "read_next_command",
          "new_api": "die",
          "old_text": "read_next_command()",
          "new_text": "die(\"Not a blob (actually a %s): %s\",\n\t\t\t\ttypename(oe->type), command_buf.buf)",
          "old_line_content": "\t\tread_next_command();",
          "new_line_content": "\t\t\tdie(\"Not a blob (actually a %s): %s\",",
          "content_same": false
        },
        {
          "line": 2211,
          "old_api": "parse_and_store_blob",
          "new_api": "typename",
          "old_text": "parse_and_store_blob(&last_blob, sha1, 0)",
          "new_text": "typename(oe->type)",
          "old_line_content": "\t\tparse_and_store_blob(&last_blob, sha1, 0);",
          "new_line_content": "\t\t\t\ttypename(oe->type), command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2215,
          "old_api": "typename",
          "new_api": "die",
          "old_text": "typename(oe->type)",
          "new_text": "die(\"Blob not found: %s\", command_buf.buf)",
          "old_line_content": "\t\t\t\ttypename(oe->type), command_buf.buf);",
          "new_line_content": "\t\t\tdie(\"Blob not found: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2217,
          "old_api": "sha1_object_info",
          "new_api": "die",
          "old_text": "sha1_object_info(sha1, NULL)",
          "new_text": "die(\"Not a blob (actually a %s): %s\",\n\t\t\t    typename(type), command_buf.buf)",
          "old_line_content": "\t\tenum object_type type = sha1_object_info(sha1, NULL);",
          "new_line_content": "\t\t\tdie(\"Not a blob (actually a %s): %s\",",
          "content_same": false
        },
        {
          "line": 2221,
          "old_api": "die",
          "new_api": "tree_content_set",
          "old_text": "die(\"Not a blob (actually a %s): %s\",\n\t\t\t    typename(type), command_buf.buf)",
          "new_text": "tree_content_set(&b->branch_tree, p, sha1, mode, NULL)",
          "old_line_content": "\t\t\tdie(\"Not a blob (actually a %s): %s\",",
          "new_line_content": "\ttree_content_set(&b->branch_tree, p, sha1, mode, NULL);",
          "content_same": false
        },
        {
          "line": 2253,
          "old_api": "unquote_c_style",
          "new_api": "strchr",
          "old_text": "unquote_c_style(&s_uq, s, &endp)",
          "new_text": "strchr(s, ' ')",
          "old_line_content": "\tif (!unquote_c_style(&s_uq, s, &endp)) {",
          "new_line_content": "\t\tendp = strchr(s, ' ');",
          "content_same": false
        },
        {
          "line": 2266,
          "old_api": "die",
          "new_api": "unquote_c_style",
          "old_text": "die(\"Missing dest: %s\", command_buf.buf)",
          "new_text": "unquote_c_style(&d_uq, d, &endp)",
          "old_line_content": "\t\tdie(\"Missing dest: %s\", command_buf.buf);",
          "new_line_content": "\tif (!unquote_c_style(&d_uq, d, &endp)) {",
          "content_same": false
        },
        {
          "line": 2272,
          "old_api": "die",
          "new_api": "memset",
          "old_text": "die(\"Garbage after dest in: %s\", command_buf.buf)",
          "new_text": "memset(&leaf, 0, sizeof(leaf))",
          "old_line_content": "\t\t\tdie(\"Garbage after dest in: %s\", command_buf.buf);",
          "new_line_content": "\tmemset(&leaf, 0, sizeof(leaf));",
          "content_same": false
        },
        {
          "line": 2276,
          "old_api": "memset",
          "new_api": "tree_content_get",
          "old_text": "memset(&leaf, 0, sizeof(leaf))",
          "new_text": "tree_content_get(&b->branch_tree, s, &leaf)",
          "old_line_content": "\tmemset(&leaf, 0, sizeof(leaf));",
          "new_line_content": "\t\ttree_content_get(&b->branch_tree, s, &leaf);",
          "content_same": false
        },
        {
          "line": 2278,
          "old_api": "tree_content_remove",
          "new_api": "die",
          "old_text": "tree_content_remove(&b->branch_tree, s, &leaf)",
          "new_text": "die(\"Path %s not in branch\", s)",
          "old_line_content": "\t\ttree_content_remove(&b->branch_tree, s, &leaf);",
          "new_line_content": "\t\tdie(\"Path %s not in branch\", s);",
          "content_same": false
        },
        {
          "line": 2306,
          "old_api": "prefixcmp",
          "new_api": "get_sha1_hex",
          "old_text": "prefixcmp(p, \"inline\")",
          "new_text": "get_sha1_hex(p, sha1)",
          "old_line_content": "\t} else if (!prefixcmp(p, \"inline\")) {",
          "new_line_content": "\t\tif (get_sha1_hex(p, sha1))",
          "content_same": false
        },
        {
          "line": 2312,
          "old_api": "find_object",
          "new_api": "die",
          "old_text": "find_object(sha1)",
          "new_text": "die(\"Missing space after SHA1: %s\", command_buf.buf)",
          "old_line_content": "\t\toe = find_object(sha1);",
          "new_line_content": "\t\tdie(\"Missing space after SHA1: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": "lookup_branch",
          "new_api": "strtoumax",
          "old_text": "lookup_branch(p)",
          "new_text": "strtoumax(p + 1, NULL, 10)",
          "old_line_content": "\ts = lookup_branch(p);",
          "new_line_content": "\t\tuintmax_t commit_mark = strtoumax(p + 1, NULL, 10);",
          "content_same": false
        },
        {
          "line": 2323,
          "old_api": "strtoumax",
          "new_api": "hashcpy",
          "old_text": "strtoumax(p + 1, NULL, 10)",
          "new_text": "hashcpy(commit_sha1, commit_oe->idx.sha1)",
          "old_line_content": "\t\tuintmax_t commit_mark = strtoumax(p + 1, NULL, 10);",
          "new_line_content": "\t\thashcpy(commit_sha1, commit_oe->idx.sha1);",
          "content_same": false
        },
        {
          "line": 2324,
          "old_api": "find_mark",
          "new_api": "get_sha1",
          "old_text": "find_mark(commit_mark)",
          "new_text": "get_sha1(p, commit_sha1)",
          "old_line_content": "\t\tstruct object_entry *commit_oe = find_mark(commit_mark);",
          "new_line_content": "\t} else if (!get_sha1(p, commit_sha1)) {",
          "content_same": false
        },
        {
          "line": 2326,
          "old_api": "die",
          "new_api": "read_object_with_reference",
          "old_text": "die(\"Mark :%\" PRIuMAX \" not a commit\", commit_mark)",
          "new_text": "read_object_with_reference(commit_sha1,\n\t\t\tcommit_type, &size, commit_sha1)",
          "old_line_content": "\t\t\tdie(\"Mark :%\" PRIuMAX \" not a commit\", commit_mark);",
          "new_line_content": "\t\tchar *buf = read_object_with_reference(commit_sha1,",
          "content_same": false
        },
        {
          "line": 2330,
          "old_api": "read_object_with_reference",
          "new_api": "free",
          "old_text": "read_object_with_reference(commit_sha1,\n\t\t\tcommit_type, &size, commit_sha1)",
          "new_text": "free(buf)",
          "old_line_content": "\t\tchar *buf = read_object_with_reference(commit_sha1,",
          "new_line_content": "\t\tfree(buf);",
          "content_same": false
        },
        {
          "line": 2336,
          "old_api": "die",
          "new_api": "strbuf_addstr",
          "old_text": "die(\"Invalid ref name or SHA1 expression: %s\", p)",
          "new_text": "strbuf_addstr(&uq, p)",
          "old_line_content": "\t\tdie(\"Invalid ref name or SHA1 expression: %s\", p);",
          "new_line_content": "\t\t\tstrbuf_addstr(&uq, p);",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": "strbuf_addstr",
          "new_api": "parse_and_store_blob",
          "old_text": "strbuf_addstr(&uq, p)",
          "new_text": "parse_and_store_blob(&last_blob, sha1, 0)",
          "old_line_content": "\t\t\tstrbuf_addstr(&uq, p);",
          "new_line_content": "\t\tparse_and_store_blob(&last_blob, sha1, 0);",
          "content_same": false
        },
        {
          "line": 2343,
          "old_api": "read_next_command",
          "new_api": "die",
          "old_text": "read_next_command()",
          "new_text": "die(\"Not a blob (actually a %s): %s\",\n\t\t\t\ttypename(oe->type), command_buf.buf)",
          "old_line_content": "\t\tread_next_command();",
          "new_line_content": "\t\t\tdie(\"Not a blob (actually a %s): %s\",",
          "content_same": false
        },
        {
          "line": 2344,
          "old_api": "parse_and_store_blob",
          "new_api": "typename",
          "old_text": "parse_and_store_blob(&last_blob, sha1, 0)",
          "new_text": "typename(oe->type)",
          "old_line_content": "\t\tparse_and_store_blob(&last_blob, sha1, 0);",
          "new_line_content": "\t\t\t\ttypename(oe->type), command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2348,
          "old_api": "typename",
          "new_api": "die",
          "old_text": "typename(oe->type)",
          "new_text": "die(\"Blob not found: %s\", command_buf.buf)",
          "old_line_content": "\t\t\t\ttypename(oe->type), command_buf.buf);",
          "new_line_content": "\t\t\tdie(\"Blob not found: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2350,
          "old_api": "sha1_object_info",
          "new_api": "die",
          "old_text": "sha1_object_info(sha1, NULL)",
          "new_text": "die(\"Not a blob (actually a %s): %s\",\n\t\t\t    typename(type), command_buf.buf)",
          "old_line_content": "\t\tenum object_type type = sha1_object_info(sha1, NULL);",
          "new_line_content": "\t\t\tdie(\"Not a blob (actually a %s): %s\",",
          "content_same": false
        },
        {
          "line": 2354,
          "old_api": "die",
          "new_api": "sha1_to_hex",
          "old_text": "die(\"Not a blob (actually a %s): %s\",\n\t\t\t    typename(type), command_buf.buf)",
          "new_text": "sha1_to_hex(commit_sha1)",
          "old_line_content": "\t\t\tdie(\"Not a blob (actually a %s): %s\",",
          "new_line_content": "\tconstruct_path_with_fanout(sha1_to_hex(commit_sha1), old_fanout, path);",
          "content_same": false
        },
        {
          "line": 2355,
          "old_api": "typename",
          "new_api": "tree_content_remove",
          "old_text": "typename(type)",
          "new_text": "tree_content_remove(&b->branch_tree, path, NULL)",
          "old_line_content": "\t\t\t    typename(type), command_buf.buf);",
          "new_line_content": "\tif (tree_content_remove(&b->branch_tree, path, NULL))",
          "content_same": false
        },
        {
          "line": 2358,
          "old_api": "sha1_to_hex",
          "new_api": "is_null_sha1",
          "old_text": "sha1_to_hex(commit_sha1)",
          "new_text": "is_null_sha1(sha1)",
          "old_line_content": "\tconstruct_path_with_fanout(sha1_to_hex(commit_sha1), old_fanout, path);",
          "new_line_content": "\tif (is_null_sha1(sha1))",
          "content_same": false
        },
        {
          "line": 2362,
          "old_api": "is_null_sha1",
          "new_api": "convert_num_notes_to_fanout",
          "old_text": "is_null_sha1(sha1)",
          "new_text": "convert_num_notes_to_fanout(b->num_notes)",
          "old_line_content": "\tif (is_null_sha1(sha1))",
          "new_line_content": "\tnew_fanout = convert_num_notes_to_fanout(b->num_notes);",
          "content_same": false
        },
        {
          "line": 2383,
          "old_api": "sha1_to_hex",
          "new_api": "hashcpy",
          "old_text": "sha1_to_hex(b->sha1)",
          "new_text": "hashcpy(b->branch_tree.versions[0].sha1,\n\t\tb->branch_tree.versions[1].sha1)",
          "old_line_content": "\t\tdie(\"Not a valid commit: %s\", sha1_to_hex(b->sha1));",
          "new_line_content": "\thashcpy(b->branch_tree.versions[0].sha1,",
          "content_same": false
        },
        {
          "line": 2412,
          "old_api": "prefixcmp",
          "new_api": "release_tree_content_recursive",
          "old_text": "prefixcmp(command_buf.buf, \"from \")",
          "new_text": "release_tree_content_recursive(b->branch_tree.tree)",
          "old_line_content": "\tif (prefixcmp(command_buf.buf, \"from \"))",
          "new_line_content": "\t\trelease_tree_content_recursive(b->branch_tree.tree);",
          "content_same": false
        },
        {
          "line": 2416,
          "old_api": "release_tree_content_recursive",
          "new_api": "strchr",
          "old_text": "release_tree_content_recursive(b->branch_tree.tree)",
          "new_text": "strchr(command_buf.buf, ' ')",
          "old_line_content": "\t\trelease_tree_content_recursive(b->branch_tree.tree);",
          "new_line_content": "\tfrom = strchr(command_buf.buf, ' ') + 1;",
          "content_same": false
        },
        {
          "line": 2423,
          "old_api": "die",
          "new_api": "hashcpy",
          "old_text": "die(\"Can't create a branch from itself: %s\", b->name)",
          "new_text": "hashcpy(b->branch_tree.versions[0].sha1, t)",
          "old_line_content": "\t\tdie(\"Can't create a branch from itself: %s\", b->name);",
          "new_line_content": "\t\thashcpy(b->branch_tree.versions[0].sha1, t);",
          "content_same": false
        },
        {
          "line": 2426,
          "old_api": "hashcpy",
          "new_api": "strtoumax",
          "old_text": "hashcpy(b->sha1, s->sha1)",
          "new_text": "strtoumax(from + 1, NULL, 10)",
          "old_line_content": "\t\thashcpy(b->sha1, s->sha1);",
          "new_line_content": "\t\tuintmax_t idnum = strtoumax(from + 1, NULL, 10);",
          "content_same": false
        },
        {
          "line": 2427,
          "old_api": "hashcpy",
          "new_api": "find_mark",
          "old_text": "hashcpy(b->branch_tree.versions[0].sha1, t)",
          "new_text": "find_mark(idnum)",
          "old_line_content": "\t\thashcpy(b->branch_tree.versions[0].sha1, t);",
          "new_line_content": "\t\tstruct object_entry *oe = find_mark(idnum);",
          "content_same": false
        },
        {
          "line": 2430,
          "old_api": "strtoumax",
          "new_api": "hashcpy",
          "old_text": "strtoumax(from + 1, NULL, 10)",
          "new_text": "hashcpy(b->sha1, oe->idx.sha1)",
          "old_line_content": "\t\tuintmax_t idnum = strtoumax(from + 1, NULL, 10);",
          "new_line_content": "\t\thashcpy(b->sha1, oe->idx.sha1);",
          "content_same": false
        },
        {
          "line": 2433,
          "old_api": "die",
          "new_api": "gfi_unpack_entry",
          "old_text": "die(\"Mark :%\" PRIuMAX \" not a commit\", idnum)",
          "new_text": "gfi_unpack_entry(oe, &size)",
          "old_line_content": "\t\t\tdie(\"Mark :%\" PRIuMAX \" not a commit\", idnum);",
          "new_line_content": "\t\t\tchar *buf = gfi_unpack_entry(oe, &size);",
          "content_same": false
        },
        {
          "line": 2434,
          "old_api": "hashcpy",
          "new_api": "parse_from_commit",
          "old_text": "hashcpy(b->sha1, oe->idx.sha1)",
          "new_text": "parse_from_commit(b, buf, size)",
          "old_line_content": "\t\thashcpy(b->sha1, oe->idx.sha1);",
          "new_line_content": "\t\t\tparse_from_commit(b, buf, size);",
          "content_same": false
        },
        {
          "line": 2437,
          "old_api": "gfi_unpack_entry",
          "new_api": "parse_from_existing",
          "old_text": "gfi_unpack_entry(oe, &size)",
          "new_text": "parse_from_existing(b)",
          "old_line_content": "\t\t\tchar *buf = gfi_unpack_entry(oe, &size);",
          "new_line_content": "\t\t\tparse_from_existing(b);",
          "content_same": false
        },
        {
          "line": 2438,
          "old_api": "parse_from_commit",
          "new_api": "get_sha1",
          "old_text": "parse_from_commit(b, buf, size)",
          "new_text": "get_sha1(from, b->sha1)",
          "old_line_content": "\t\t\tparse_from_commit(b, buf, size);",
          "new_line_content": "\t} else if (!get_sha1(from, b->sha1))",
          "content_same": false
        },
        {
          "line": 2439,
          "old_api": "free",
          "new_api": "parse_from_existing",
          "old_text": "free(buf)",
          "new_text": "parse_from_existing(b)",
          "old_line_content": "\t\t\tfree(buf);",
          "new_line_content": "\t\tparse_from_existing(b);",
          "content_same": false
        },
        {
          "line": 2441,
          "old_api": "parse_from_existing",
          "new_api": "die",
          "old_text": "parse_from_existing(b)",
          "new_text": "die(\"Invalid ref name or SHA1 expression: %s\", from)",
          "old_line_content": "\t\t\tparse_from_existing(b);",
          "new_line_content": "\t\tdie(\"Invalid ref name or SHA1 expression: %s\", from);",
          "content_same": false
        },
        {
          "line": 2443,
          "old_api": "parse_from_existing",
          "new_api": "read_next_command",
          "old_text": "parse_from_existing(b)",
          "new_text": "read_next_command()",
          "old_line_content": "\t\tparse_from_existing(b);",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": "strchr",
          "new_api": "hashcpy",
          "old_text": "strchr(command_buf.buf, ' ')",
          "new_text": "hashcpy(n->sha1, s->sha1)",
          "old_line_content": "\t\tfrom = strchr(command_buf.buf, ' ') + 1;",
          "new_line_content": "\t\t\thashcpy(n->sha1, s->sha1);",
          "content_same": false
        },
        {
          "line": 2461,
          "old_api": "lookup_branch",
          "new_api": "strtoumax",
          "old_text": "lookup_branch(from)",
          "new_text": "strtoumax(from + 1, NULL, 10)",
          "old_line_content": "\t\ts = lookup_branch(from);",
          "new_line_content": "\t\t\tuintmax_t idnum = strtoumax(from + 1, NULL, 10);",
          "content_same": false
        },
        {
          "line": 2465,
          "old_api": "strtoumax",
          "new_api": "hashcpy",
          "old_text": "strtoumax(from + 1, NULL, 10)",
          "new_text": "hashcpy(n->sha1, oe->idx.sha1)",
          "old_line_content": "\t\t\tuintmax_t idnum = strtoumax(from + 1, NULL, 10);",
          "new_line_content": "\t\t\thashcpy(n->sha1, oe->idx.sha1);",
          "content_same": false
        },
        {
          "line": 2466,
          "old_api": "find_mark",
          "new_api": "get_sha1",
          "old_text": "find_mark(idnum)",
          "new_text": "get_sha1(from, n->sha1)",
          "old_line_content": "\t\t\tstruct object_entry *oe = find_mark(idnum);",
          "new_line_content": "\t\t} else if (!get_sha1(from, n->sha1)) {",
          "content_same": false
        },
        {
          "line": 2468,
          "old_api": "die",
          "new_api": "read_object_with_reference",
          "old_text": "die(\"Mark :%\" PRIuMAX \" not a commit\", idnum)",
          "new_text": "read_object_with_reference(n->sha1,\n\t\t\t\tcommit_type, &size, n->sha1)",
          "old_line_content": "\t\t\t\tdie(\"Mark :%\" PRIuMAX \" not a commit\", idnum);",
          "new_line_content": "\t\t\tchar *buf = read_object_with_reference(n->sha1,",
          "content_same": false
        },
        {
          "line": 2472,
          "old_api": "read_object_with_reference",
          "new_api": "free",
          "old_text": "read_object_with_reference(n->sha1,\n\t\t\t\tcommit_type, &size, n->sha1)",
          "new_text": "free(buf)",
          "old_line_content": "\t\t\tchar *buf = read_object_with_reference(n->sha1,",
          "new_line_content": "\t\t\tfree(buf);",
          "content_same": false
        },
        {
          "line": 2505,
          "old_api": "lookup_branch",
          "new_api": "read_next_command",
          "old_text": "lookup_branch(sp)",
          "new_text": "read_next_command()",
          "old_line_content": "\tb = lookup_branch(sp);",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 2507,
          "old_api": "new_branch",
          "new_api": "prefixcmp",
          "old_text": "new_branch(sp)",
          "new_text": "prefixcmp(command_buf.buf, \"author \")",
          "old_line_content": "\t\tb = new_branch(sp);",
          "new_line_content": "\tif (!prefixcmp(command_buf.buf, \"author \")) {",
          "content_same": false
        },
        {
          "line": 2516,
          "old_api": "parse_ident",
          "new_api": "die",
          "old_text": "parse_ident(command_buf.buf + 10)",
          "new_text": "die(\"Expected committer but didn't get one\")",
          "old_line_content": "\t\tcommitter = parse_ident(command_buf.buf + 10);",
          "new_line_content": "\t\tdie(\"Expected committer but didn't get one\");",
          "content_same": false
        },
        {
          "line": 2517,
          "old_api": "read_next_command",
          "new_api": "parse_data",
          "old_text": "read_next_command()",
          "new_text": "parse_data(&msg, 0, NULL)",
          "old_line_content": "\t\tread_next_command();",
          "new_line_content": "\tparse_data(&msg, 0, NULL);",
          "content_same": false
        },
        {
          "line": 2520,
          "old_api": "die",
          "new_api": "parse_merge",
          "old_text": "die(\"Expected committer but didn't get one\")",
          "new_text": "parse_merge(&merge_count)",
          "old_line_content": "\t\tdie(\"Expected committer but didn't get one\");",
          "new_line_content": "\tmerge_list = parse_merge(&merge_count);",
          "content_same": false
        },
        {
          "line": 2524,
          "old_api": "parse_merge",
          "new_api": "unload_one_branch",
          "old_text": "parse_merge(&merge_count)",
          "new_text": "unload_one_branch()",
          "old_line_content": "\tmerge_list = parse_merge(&merge_count);",
          "new_line_content": "\t\tunload_one_branch();",
          "content_same": false
        },
        {
          "line": 2528,
          "old_api": "unload_one_branch",
          "new_api": "convert_num_notes_to_fanout",
          "old_text": "unload_one_branch()",
          "new_text": "convert_num_notes_to_fanout(b->num_notes)",
          "old_line_content": "\t\tunload_one_branch();",
          "new_line_content": "\tprev_fanout = convert_num_notes_to_fanout(b->num_notes);",
          "content_same": false
        },
        {
          "line": 2532,
          "old_api": "convert_num_notes_to_fanout",
          "new_api": "prefixcmp",
          "old_text": "convert_num_notes_to_fanout(b->num_notes)",
          "new_text": "prefixcmp(command_buf.buf, \"M \")",
          "old_line_content": "\tprev_fanout = convert_num_notes_to_fanout(b->num_notes);",
          "new_line_content": "\t\tif (!prefixcmp(command_buf.buf, \"M \"))",
          "content_same": false
        },
        {
          "line": 2537,
          "old_api": "file_change_m",
          "new_api": "file_change_cr",
          "old_text": "file_change_m(b)",
          "new_text": "file_change_cr(b, 1)",
          "old_line_content": "\t\t\tfile_change_m(b);",
          "new_line_content": "\t\t\tfile_change_cr(b, 1);",
          "content_same": false
        },
        {
          "line": 2539,
          "old_api": "file_change_d",
          "new_api": "file_change_cr",
          "old_text": "file_change_d(b)",
          "new_text": "file_change_cr(b, 0)",
          "old_line_content": "\t\t\tfile_change_d(b);",
          "new_line_content": "\t\t\tfile_change_cr(b, 0);",
          "content_same": false
        },
        {
          "line": 2541,
          "old_api": "file_change_cr",
          "new_api": "note_change_n",
          "old_text": "file_change_cr(b, 1)",
          "new_text": "note_change_n(b, prev_fanout)",
          "old_line_content": "\t\t\tfile_change_cr(b, 1);",
          "new_line_content": "\t\t\tnote_change_n(b, prev_fanout);",
          "content_same": false
        },
        {
          "line": 2542,
          "old_api": "prefixcmp",
          "new_api": "strcmp",
          "old_text": "prefixcmp(command_buf.buf, \"C \")",
          "new_text": "strcmp(\"deleteall\", command_buf.buf)",
          "old_line_content": "\t\telse if (!prefixcmp(command_buf.buf, \"C \"))",
          "new_line_content": "\t\telse if (!strcmp(\"deleteall\", command_buf.buf))",
          "content_same": false
        },
        {
          "line": 2543,
          "old_api": "file_change_cr",
          "new_api": "file_change_deleteall",
          "old_text": "file_change_cr(b, 0)",
          "new_text": "file_change_deleteall(b)",
          "old_line_content": "\t\t\tfile_change_cr(b, 0);",
          "new_line_content": "\t\t\tfile_change_deleteall(b);",
          "content_same": false
        },
        {
          "line": 2552,
          "old_api": "read_next_command",
          "new_api": "convert_num_notes_to_fanout",
          "old_text": "read_next_command()",
          "new_text": "convert_num_notes_to_fanout(b->num_notes)",
          "old_line_content": "\t\tif (read_next_command() == EOF)",
          "new_line_content": "\tnew_fanout = convert_num_notes_to_fanout(b->num_notes);",
          "content_same": false
        },
        {
          "line": 2558,
          "old_api": "change_note_fanout",
          "new_api": "hashcpy",
          "old_text": "change_note_fanout(&b->branch_tree, new_fanout)",
          "new_text": "hashcpy(b->branch_tree.versions[0].sha1,\n\t\tb->branch_tree.versions[1].sha1)",
          "old_line_content": "\t\tb->num_notes = change_note_fanout(&b->branch_tree, new_fanout);",
          "new_line_content": "\thashcpy(b->branch_tree.versions[0].sha1,",
          "content_same": false
        },
        {
          "line": 2561,
          "old_api": "store_tree",
          "new_api": "strbuf_reset",
          "old_text": "store_tree(&b->branch_tree)",
          "new_text": "strbuf_reset(&new_data)",
          "old_line_content": "\tstore_tree(&b->branch_tree);",
          "new_line_content": "\tstrbuf_reset(&new_data);",
          "content_same": false
        },
        {
          "line": 2562,
          "old_api": "hashcpy",
          "new_api": "strbuf_addf",
          "old_text": "hashcpy(b->branch_tree.versions[0].sha1,\n\t\tb->branch_tree.versions[1].sha1)",
          "new_text": "strbuf_addf(&new_data, \"tree %s\\n\",\n\t\tsha1_to_hex(b->branch_tree.versions[1].sha1))",
          "old_line_content": "\thashcpy(b->branch_tree.versions[0].sha1,",
          "new_line_content": "\tstrbuf_addf(&new_data, \"tree %s\\n\",",
          "content_same": false
        },
        {
          "line": 2565,
          "old_api": "strbuf_reset",
          "new_api": "sha1_to_hex",
          "old_text": "strbuf_reset(&new_data)",
          "new_text": "sha1_to_hex(b->sha1)",
          "old_line_content": "\tstrbuf_reset(&new_data);",
          "new_line_content": "\t\tstrbuf_addf(&new_data, \"parent %s\\n\", sha1_to_hex(b->sha1));",
          "content_same": false
        },
        {
          "line": 2568,
          "old_api": "is_null_sha1",
          "new_api": "sha1_to_hex",
          "old_text": "is_null_sha1(b->sha1)",
          "new_text": "sha1_to_hex(merge_list->sha1)",
          "old_line_content": "\tif (!is_null_sha1(b->sha1))",
          "new_line_content": "\t\tstrbuf_addf(&new_data, \"parent %s\\n\", sha1_to_hex(merge_list->sha1));",
          "content_same": false
        },
        {
          "line": 2569,
          "old_api": "sha1_to_hex",
          "new_api": "free",
          "old_text": "sha1_to_hex(b->sha1)",
          "new_text": "free(merge_list)",
          "old_line_content": "\t\tstrbuf_addf(&new_data, \"parent %s\\n\", sha1_to_hex(b->sha1));",
          "new_line_content": "\t\tfree(merge_list);",
          "content_same": false
        },
        {
          "line": 2572,
          "old_api": "sha1_to_hex",
          "new_api": "strbuf_addf",
          "old_text": "sha1_to_hex(merge_list->sha1)",
          "new_text": "strbuf_addf(&new_data,\n\t\t\"author %s\\n\"\n\t\t\"committer %s\\n\"\n\t\t\"\\n\",\n\t\tauthor ? author : committer, committer)",
          "old_line_content": "\t\tstrbuf_addf(&new_data, \"parent %s\\n\", sha1_to_hex(merge_list->sha1));",
          "new_line_content": "\tstrbuf_addf(&new_data,",
          "content_same": false
        },
        {
          "line": 2581,
          "old_api": "strbuf_addbuf",
          "new_api": "store_object",
          "old_text": "strbuf_addbuf(&new_data, &msg)",
          "new_text": "store_object(OBJ_COMMIT, &new_data, NULL, b->sha1, next_mark)",
          "old_line_content": "\tstrbuf_addbuf(&new_data, &msg);",
          "new_line_content": "\tif (!store_object(OBJ_COMMIT, &new_data, NULL, b->sha1, next_mark))",
          "content_same": false
        },
        {
          "line": 2612,
          "old_api": "read_next_command",
          "new_api": "die",
          "old_text": "read_next_command()",
          "new_text": "die(\"Expected from command, got %s\", command_buf.buf)",
          "old_line_content": "\tread_next_command();",
          "new_line_content": "\t\tdie(\"Expected from command, got %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2616,
          "old_api": "die",
          "new_api": "hashcpy",
          "old_text": "die(\"Expected from command, got %s\", command_buf.buf)",
          "new_text": "hashcpy(sha1, s->sha1)",
          "old_line_content": "\t\tdie(\"Expected from command, got %s\", command_buf.buf);",
          "new_line_content": "\t\thashcpy(sha1, s->sha1);",
          "content_same": false
        },
        {
          "line": 2620,
          "old_api": "hashcpy",
          "new_api": "strtoumax",
          "old_text": "hashcpy(sha1, s->sha1)",
          "new_text": "strtoumax(from + 1, NULL, 10)",
          "old_line_content": "\t\thashcpy(sha1, s->sha1);",
          "new_line_content": "\t\tfrom_mark = strtoumax(from + 1, NULL, 10);",
          "content_same": false
        },
        {
          "line": 2624,
          "old_api": "strtoumax",
          "new_api": "get_sha1",
          "old_text": "strtoumax(from + 1, NULL, 10)",
          "new_text": "get_sha1(from, sha1)",
          "old_line_content": "\t\tfrom_mark = strtoumax(from + 1, NULL, 10);",
          "new_line_content": "\t} else if (!get_sha1(from, sha1)) {",
          "content_same": false
        },
        {
          "line": 2628,
          "old_api": "get_sha1",
          "new_api": "read_sha1_file",
          "old_text": "get_sha1(from, sha1)",
          "new_text": "read_sha1_file(sha1, &type, &size)",
          "old_line_content": "\t} else if (!get_sha1(from, sha1)) {",
          "new_line_content": "\t\tbuf = read_sha1_file(sha1, &type, &size);",
          "content_same": false
        },
        {
          "line": 2634,
          "old_api": "die",
          "new_api": "read_next_command",
          "old_text": "die(\"Not a valid commit: %s\", from)",
          "new_text": "read_next_command()",
          "old_line_content": "\t\t\tdie(\"Not a valid commit: %s\", from);",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 2637,
          "old_api": "die",
          "new_api": "prefixcmp",
          "old_text": "die(\"Invalid ref name or SHA1 expression: %s\", from)",
          "new_text": "prefixcmp(command_buf.buf, \"tagger \")",
          "old_line_content": "\t\tdie(\"Invalid ref name or SHA1 expression: %s\", from);",
          "new_line_content": "\tif (!prefixcmp(command_buf.buf, \"tagger \")) {",
          "content_same": false
        },
        {
          "line": 2638,
          "old_api": "read_next_command",
          "new_api": "parse_ident",
          "old_text": "read_next_command()",
          "new_text": "parse_ident(command_buf.buf + 7)",
          "old_line_content": "\tread_next_command();",
          "new_line_content": "\t\ttagger = parse_ident(command_buf.buf + 7);",
          "content_same": false
        },
        {
          "line": 2653,
          "old_api": "strbuf_addf",
          "new_api": "typename",
          "old_text": "strbuf_addf(&new_data,\n\t\t    \"object %s\\n\"\n\t\t    \"type %s\\n\"\n\t\t    \"tag %s\\n\",\n\t\t    sha1_to_hex(sha1), typename(type), t->name)",
          "new_text": "typename(type)",
          "old_line_content": "\tstrbuf_addf(&new_data,",
          "new_line_content": "\t\t    sha1_to_hex(sha1), typename(type), t->name);",
          "content_same": false
        },
        {
          "line": 2657,
          "old_api": "typename",
          "new_api": "strbuf_addch",
          "old_text": "typename(type)",
          "new_text": "strbuf_addch(&new_data, '\\n')",
          "old_line_content": "\t\t    sha1_to_hex(sha1), typename(type), t->name);",
          "new_line_content": "\tstrbuf_addch(&new_data, '\\n');",
          "content_same": false
        },
        {
          "line": 2659,
          "old_api": "strbuf_addf",
          "new_api": "free",
          "old_text": "strbuf_addf(&new_data,\n\t\t\t    \"tagger %s\\n\", tagger)",
          "new_text": "free(tagger)",
          "old_line_content": "\t\tstrbuf_addf(&new_data,",
          "new_line_content": "\tfree(tagger);",
          "content_same": false
        },
        {
          "line": 2661,
          "old_api": "strbuf_addch",
          "new_api": "store_object",
          "old_text": "strbuf_addch(&new_data, '\\n')",
          "new_text": "store_object(OBJ_TAG, &new_data, NULL, t->sha1, 0)",
          "old_line_content": "\tstrbuf_addch(&new_data, '\\n');",
          "new_line_content": "\tif (store_object(OBJ_TAG, &new_data, NULL, t->sha1, 0))",
          "content_same": false
        },
        {
          "line": 2677,
          "old_api": "strchr",
          "new_api": "hashclr",
          "old_text": "strchr(command_buf.buf, ' ')",
          "new_text": "hashclr(b->branch_tree.versions[0].sha1)",
          "old_line_content": "\tsp = strchr(command_buf.buf, ' ') + 1;",
          "new_line_content": "\t\thashclr(b->branch_tree.versions[0].sha1);",
          "content_same": false
        },
        {
          "line": 2678,
          "old_api": "lookup_branch",
          "new_api": "hashclr",
          "old_text": "lookup_branch(sp)",
          "new_text": "hashclr(b->branch_tree.versions[1].sha1)",
          "old_line_content": "\tb = lookup_branch(sp);",
          "new_line_content": "\t\thashclr(b->branch_tree.versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 2680,
          "old_api": "hashclr",
          "new_api": "release_tree_content_recursive",
          "old_text": "hashclr(b->sha1)",
          "new_text": "release_tree_content_recursive(b->branch_tree.tree)",
          "old_line_content": "\t\thashclr(b->sha1);",
          "new_line_content": "\t\t\trelease_tree_content_recursive(b->branch_tree.tree);",
          "content_same": false
        },
        {
          "line": 2700,
          "old_api": "dump_branches",
          "new_api": "skip_optional_lf",
          "old_text": "dump_branches()",
          "new_text": "skip_optional_lf()",
          "old_line_content": "\t\tdump_branches();",
          "new_line_content": "\tskip_optional_lf();",
          "content_same": false
        },
        {
          "line": 2729,
          "old_api": "die",
          "new_api": "read_marks",
          "old_text": "die(\"Only one import-marks command allowed per stream\")",
          "new_text": "read_marks()",
          "old_line_content": "\t\t\tdie(\"Only one import-marks command allowed per stream\");",
          "new_line_content": "\t\t\tread_marks();",
          "content_same": false
        },
        {
          "line": 2788,
          "old_api": "warning",
          "new_api": "prefixcmp",
          "old_text": "warning(\"minimum max-pack-size is 1 MiB\")",
          "new_text": "prefixcmp(option, \"big-file-threshold=\")",
          "old_line_content": "\t\t\twarning(\"minimum max-pack-size is 1 MiB\");",
          "new_line_content": "\t} else if (!prefixcmp(option, \"big-file-threshold=\")) {",
          "content_same": false
        },
        {
          "line": 2794,
          "old_api": "git_parse_ulong",
          "new_api": "option_depth",
          "old_text": "git_parse_ulong(option + 19, &v)",
          "new_text": "option_depth(option + 6)",
          "old_line_content": "\t\tif (!git_parse_ulong(option + 19, &v))",
          "new_line_content": "\t\toption_depth(option + 6);",
          "content_same": false
        },
        {
          "line": 2798,
          "old_api": "option_depth",
          "new_api": "option_export_pack_edges",
          "old_text": "option_depth(option + 6)",
          "new_text": "option_export_pack_edges(option + 18)",
          "old_line_content": "\t\toption_depth(option + 6);",
          "new_line_content": "\t\toption_export_pack_edges(option + 18);",
          "content_same": false
        },
        {
          "line": 2817,
          "old_api": "option_date_format",
          "new_api": "option_export_marks",
          "old_text": "option_date_format(feature + 12)",
          "new_text": "option_export_marks(feature + 13)",
          "old_line_content": "\t\toption_date_format(feature + 12);",
          "new_line_content": "\t\toption_export_marks(feature + 13);",
          "content_same": false
        },
        {
          "line": 2870,
          "old_api": "git_config_int",
          "new_api": "die",
          "old_text": "git_config_int(k, v)",
          "new_text": "die(\"bad pack compression level %d\", level)",
          "old_line_content": "\t\tint level = git_config_int(k, v);",
          "new_line_content": "\t\t\tdie(\"bad pack compression level %d\", level);",
          "content_same": false
        },
        {
          "line": 2882,
          "old_api": "die",
          "new_api": "strcmp",
          "old_text": "die(\"bad pack.indexversion=%\"PRIu32,\n\t\t\t    pack_idx_default_version)",
          "new_text": "strcmp(k, \"pack.packsizelimit\")",
          "old_line_content": "\t\t\tdie(\"bad pack.indexversion=%\"PRIu32,",
          "new_line_content": "\tif (!strcmp(k, \"pack.packsizelimit\")) {",
          "content_same": false
        },
        {
          "line": 2887,
          "old_api": "git_config_ulong",
          "new_api": "git_config_int",
          "old_text": "git_config_ulong(k, v)",
          "new_text": "git_config_int(k, v)",
          "old_line_content": "\t\tmax_packsize = git_config_ulong(k, v);",
          "new_line_content": "\t\tlong n = git_config_int(k, v);",
          "content_same": false
        },
        {
          "line": 2890,
          "old_api": "strcmp",
          "new_api": "git_default_config",
          "old_text": "strcmp(k, \"core.bigfilethreshold\")",
          "new_text": "git_default_config(k, v, cb)",
          "old_line_content": "\tif (!strcmp(k, \"core.bigfilethreshold\")) {",
          "new_line_content": "\treturn git_default_config(k, v, cb);",
          "content_same": false
        },
        {
          "line": 2919,
          "old_api": "usage",
          "new_api": "read_marks",
          "old_text": "usage(fast_import_usage)",
          "new_text": "read_marks()",
          "old_line_content": "\t\tusage(fast_import_usage);",
          "new_line_content": "\t\tread_marks();",
          "content_same": false
        },
        {
          "line": 2932,
          "old_api": "strcmp",
          "new_api": "git_config",
          "old_text": "strcmp(argv[1], \"-h\")",
          "new_text": "git_config(git_pack_config, NULL)",
          "old_line_content": "\tif (argc == 2 && !strcmp(argv[1], \"-h\"))",
          "new_line_content": "\tgit_config(git_pack_config, NULL);",
          "content_same": false
        },
        {
          "line": 2936,
          "old_api": "git_config",
          "new_api": "alloc_objects",
          "old_text": "git_config(git_pack_config, NULL)",
          "new_text": "alloc_objects(object_entry_alloc)",
          "old_line_content": "\tgit_config(git_pack_config, NULL);",
          "new_line_content": "\talloc_objects(object_entry_alloc);",
          "content_same": false
        },
        {
          "line": 2940,
          "old_api": "alloc_objects",
          "new_api": "xcalloc",
          "old_text": "alloc_objects(object_entry_alloc)",
          "new_text": "xcalloc(avail_tree_table_sz, sizeof(struct avail_tree_content*))",
          "old_line_content": "\talloc_objects(object_entry_alloc);",
          "new_line_content": "\tavail_tree_table = xcalloc(avail_tree_table_sz, sizeof(struct avail_tree_content*));",
          "content_same": false
        },
        {
          "line": 2941,
          "old_api": "strbuf_init",
          "new_api": "pool_calloc",
          "old_text": "strbuf_init(&command_buf, 0)",
          "new_text": "pool_calloc(1, sizeof(struct mark_set))",
          "old_line_content": "\tstrbuf_init(&command_buf, 0);",
          "new_line_content": "\tmarks = pool_calloc(1, sizeof(struct mark_set));",
          "content_same": false
        },
        {
          "line": 2955,
          "old_api": "prepare_packed_git",
          "new_api": "strcmp",
          "old_text": "prepare_packed_git()",
          "new_text": "strcmp(\"blob\", command_buf.buf)",
          "old_line_content": "\tprepare_packed_git();",
          "new_line_content": "\t\tif (!strcmp(\"blob\", command_buf.buf))",
          "content_same": false
        },
        {
          "line": 2956,
          "old_api": "start_packfile",
          "new_api": "parse_new_blob",
          "old_text": "start_packfile()",
          "new_text": "parse_new_blob()",
          "old_line_content": "\tstart_packfile();",
          "new_line_content": "\t\t\tparse_new_blob();",
          "content_same": false
        },
        {
          "line": 2957,
          "old_api": "set_die_routine",
          "new_api": "prefixcmp",
          "old_text": "set_die_routine(die_nicely)",
          "new_text": "prefixcmp(command_buf.buf, \"commit \")",
          "old_line_content": "\tset_die_routine(die_nicely);",
          "new_line_content": "\t\telse if (!prefixcmp(command_buf.buf, \"commit \"))",
          "content_same": false
        },
        {
          "line": 2958,
          "old_api": "read_next_command",
          "new_api": "parse_new_commit",
          "old_text": "read_next_command()",
          "new_text": "parse_new_commit()",
          "old_line_content": "\twhile (read_next_command() != EOF) {",
          "new_line_content": "\t\t\tparse_new_commit();",
          "content_same": false
        },
        {
          "line": 2959,
          "old_api": "strcmp",
          "new_api": "prefixcmp",
          "old_text": "strcmp(\"blob\", command_buf.buf)",
          "new_text": "prefixcmp(command_buf.buf, \"tag \")",
          "old_line_content": "\t\tif (!strcmp(\"blob\", command_buf.buf))",
          "new_line_content": "\t\telse if (!prefixcmp(command_buf.buf, \"tag \"))",
          "content_same": false
        },
        {
          "line": 2960,
          "old_api": "parse_new_blob",
          "new_api": "parse_new_tag",
          "old_text": "parse_new_blob()",
          "new_text": "parse_new_tag()",
          "old_line_content": "\t\t\tparse_new_blob();",
          "new_line_content": "\t\t\tparse_new_tag();",
          "content_same": false
        },
        {
          "line": 2962,
          "old_api": "parse_new_commit",
          "new_api": "parse_reset_branch",
          "old_text": "parse_new_commit()",
          "new_text": "parse_reset_branch()",
          "old_line_content": "\t\t\tparse_new_commit();",
          "new_line_content": "\t\t\tparse_reset_branch();",
          "content_same": false
        },
        {
          "line": 2963,
          "old_api": "prefixcmp",
          "new_api": "strcmp",
          "old_text": "prefixcmp(command_buf.buf, \"tag \")",
          "new_text": "strcmp(\"checkpoint\", command_buf.buf)",
          "old_line_content": "\t\telse if (!prefixcmp(command_buf.buf, \"tag \"))",
          "new_line_content": "\t\telse if (!strcmp(\"checkpoint\", command_buf.buf))",
          "content_same": false
        },
        {
          "line": 2964,
          "old_api": "parse_new_tag",
          "new_api": "parse_checkpoint",
          "old_text": "parse_new_tag()",
          "new_text": "parse_checkpoint()",
          "old_line_content": "\t\t\tparse_new_tag();",
          "new_line_content": "\t\t\tparse_checkpoint();",
          "content_same": false
        },
        {
          "line": 2966,
          "old_api": "parse_reset_branch",
          "new_api": "parse_progress",
          "old_text": "parse_reset_branch()",
          "new_text": "parse_progress()",
          "old_line_content": "\t\t\tparse_reset_branch();",
          "new_line_content": "\t\t\tparse_progress();",
          "content_same": false
        },
        {
          "line": 2967,
          "old_api": "strcmp",
          "new_api": "prefixcmp",
          "old_text": "strcmp(\"checkpoint\", command_buf.buf)",
          "new_text": "prefixcmp(command_buf.buf, \"feature \")",
          "old_line_content": "\t\telse if (!strcmp(\"checkpoint\", command_buf.buf))",
          "new_line_content": "\t\telse if (!prefixcmp(command_buf.buf, \"feature \"))",
          "content_same": false
        },
        {
          "line": 2968,
          "old_api": "parse_checkpoint",
          "new_api": "parse_feature",
          "old_text": "parse_checkpoint()",
          "new_text": "parse_feature()",
          "old_line_content": "\t\t\tparse_checkpoint();",
          "new_line_content": "\t\t\tparse_feature();",
          "content_same": false
        },
        {
          "line": 2970,
          "old_api": "parse_progress",
          "new_api": "parse_option",
          "old_text": "parse_progress()",
          "new_text": "parse_option()",
          "old_line_content": "\t\t\tparse_progress();",
          "new_line_content": "\t\t\tparse_option();",
          "content_same": false
        },
        {
          "line": 2974,
          "old_api": "parse_option",
          "new_api": "die",
          "old_text": "parse_option()",
          "new_text": "die(\"Unsupported command: %s\", command_buf.buf)",
          "old_line_content": "\t\t\tparse_option();",
          "new_line_content": "\t\t\tdie(\"Unsupported command: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2983,
          "old_api": "parse_argv",
          "new_api": "dump_branches",
          "old_text": "parse_argv()",
          "new_text": "dump_branches()",
          "old_line_content": "\t\tparse_argv();",
          "new_line_content": "\tdump_branches();",
          "content_same": false
        },
        {
          "line": 2985,
          "old_api": "end_packfile",
          "new_api": "unkeep_all_packs",
          "old_text": "end_packfile()",
          "new_text": "unkeep_all_packs()",
          "old_line_content": "\tend_packfile();",
          "new_line_content": "\tunkeep_all_packs();",
          "content_same": false
        },
        {
          "line": 2989,
          "old_api": "unkeep_all_packs",
          "new_api": "fclose",
          "old_text": "unkeep_all_packs()",
          "new_text": "fclose(pack_edges)",
          "old_line_content": "\tunkeep_all_packs();",
          "new_line_content": "\t\tfclose(pack_edges);",
          "content_same": false
        },
        {
          "line": 2993,
          "old_api": "fclose",
          "new_api": "ARRAY_SIZE",
          "old_text": "fclose(pack_edges)",
          "new_text": "ARRAY_SIZE(object_count_by_type)",
          "old_line_content": "\t\tfclose(pack_edges);",
          "new_line_content": "\t\tfor (i = 0; i < ARRAY_SIZE(object_count_by_type); i++)",
          "content_same": false
        },
        {
          "line": 2999,
          "old_api": "ARRAY_SIZE",
          "new_api": "fprintf",
          "old_text": "ARRAY_SIZE(duplicate_count_by_type)",
          "new_text": "fprintf(stderr, \"---------------------------------------------------------------------\\n\")",
          "old_line_content": "\t\tfor (i = 0; i < ARRAY_SIZE(duplicate_count_by_type); i++)",
          "new_line_content": "\t\tfprintf(stderr, \"---------------------------------------------------------------------\\n\");",
          "content_same": false
        },
        {
          "line": 3013,
          "old_api": "fprintf",
          "new_api": "pack_report",
          "old_text": "fprintf(stderr, \"Memory total:    %10\" PRIuMAX \" KiB\\n\", (total_allocd + alloc_count*sizeof(struct object_entry))/1024)",
          "new_text": "pack_report()",
          "old_line_content": "\t\tfprintf(stderr, \"Memory total:    %10\" PRIuMAX \" KiB\\n\", (total_allocd + alloc_count*sizeof(struct object_entry))/1024);",
          "new_line_content": "\t\tpack_report();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2048,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Too large fanout (%u)\", fanout)",
          "old_line_content": "\t\tunsigned char fanout, char *path)",
          "new_line_content": "\t\tdie(\"Too large fanout (%u)\", fanout);",
          "content_same": false
        },
        {
          "line": 2055,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(path + i, hex_sha1 + j, 40 - j)",
          "old_line_content": "\t\tpath[i++] = hex_sha1[j++];",
          "new_line_content": "\tmemcpy(path + i, hex_sha1 + j, 40 - j);",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(hex_sha1 + hex_sha1_len, e->name->str_dat,\n\t\t       e->name->str_len)",
          "old_line_content": "\t\t    e->name->str_len % 2)",
          "new_line_content": "\t\tmemcpy(hex_sha1 + hex_sha1_len, e->name->str_dat,",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": null,
          "new_api": "get_sha1_hex",
          "old_text": null,
          "new_text": "get_sha1_hex(hex_sha1, sha1)",
          "old_line_content": "\t\t       e->name->str_len);",
          "new_line_content": "\t\tif (tmp_hex_sha1_len == 40 && !get_sha1_hex(hex_sha1, sha1)) {",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": null,
          "new_api": "construct_path_with_fanout",
          "old_text": null,
          "new_text": "construct_path_with_fanout(hex_sha1, fanout, realpath)",
          "old_line_content": "\t\tfullpath[tmp_fullpath_len] = '\\0';",
          "new_line_content": "\t\t\tconstruct_path_with_fanout(hex_sha1, fanout, realpath);",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(fullpath, realpath)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (!strcmp(fullpath, realpath)) {",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": null,
          "new_api": "tree_content_remove",
          "old_text": null,
          "new_text": "tree_content_remove(orig_root, fullpath, &leaf)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!tree_content_remove(orig_root, fullpath, &leaf))",
          "content_same": false
        },
        {
          "line": 2111,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Failed to remove path %s\", fullpath)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tdie(\"Failed to remove path %s\", fullpath);",
          "content_same": false
        },
        {
          "line": 2112,
          "old_api": null,
          "new_api": "tree_content_set",
          "old_text": null,
          "new_text": "tree_content_set(orig_root, realpath,\n\t\t\t\tleaf.versions[1].sha1,\n\t\t\t\tleaf.versions[1].mode,\n\t\t\t\tleaf.tree)",
          "old_line_content": "",
          "new_line_content": "\t\t\ttree_content_set(orig_root, realpath,",
          "content_same": false
        },
        {
          "line": 2119,
          "old_api": null,
          "new_api": "load_tree",
          "old_text": null,
          "new_text": "load_tree(e)",
          "old_line_content": "\t\t\t\tleaf.tree);",
          "new_line_content": "\t\t\t\tload_tree(e);",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": null,
          "new_api": "do_change_note_fanout",
          "old_text": null,
          "new_text": "do_change_note_fanout(root, root, hex_sha1, 0, path, 0, fanout)",
          "old_line_content": "static uintmax_t change_note_fanout(struct tree_entry *root,",
          "new_line_content": "\treturn do_change_note_fanout(root, root, hex_sha1, 0, path, 0, fanout);",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": null,
          "new_api": "get_mode",
          "old_text": null,
          "new_text": "get_mode(p, &mode)",
          "old_line_content": "\tstruct object_entry *oe = oe;",
          "new_line_content": "\tp = get_mode(p, &mode);",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Corrupt mode: %s\", command_buf.buf)",
          "old_line_content": "\tuint16_t mode, inline_data = 0;",
          "new_line_content": "\t\tdie(\"Corrupt mode: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2161,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Corrupt mode: %s\", command_buf.buf)",
          "old_line_content": "\tcase S_IFGITLINK:",
          "new_line_content": "\t\tdie(\"Corrupt mode: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": null,
          "new_api": "strtoumax",
          "old_text": null,
          "new_text": "strtoumax(p + 1, &x, 10)",
          "old_line_content": "\t}",
          "new_line_content": "\t\toe = find_mark(strtoumax(p + 1, &x, 10));",
          "content_same": false
        },
        {
          "line": 2167,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(sha1, oe->idx.sha1)",
          "old_line_content": "",
          "new_line_content": "\t\thashcpy(sha1, oe->idx.sha1);",
          "content_same": false
        },
        {
          "line": 2169,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(p, \"inline\")",
          "old_line_content": "\t\tchar *x;",
          "new_line_content": "\t} else if (!prefixcmp(p, \"inline\")) {",
          "content_same": false
        },
        {
          "line": 2174,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Invalid SHA1: %s\", command_buf.buf)",
          "old_line_content": "\t\tinline_data = 1;",
          "new_line_content": "\t\t\tdie(\"Invalid SHA1: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2175,
          "old_api": null,
          "new_api": "find_object",
          "old_text": null,
          "new_text": "find_object(sha1)",
          "old_line_content": "\t\tp += 6;",
          "new_line_content": "\t\toe = find_object(sha1);",
          "content_same": false
        },
        {
          "line": 2181,
          "old_api": null,
          "new_api": "strbuf_reset",
          "old_text": null,
          "new_text": "strbuf_reset(&uq)",
          "old_line_content": "\t}",
          "new_line_content": "\tstrbuf_reset(&uq);",
          "content_same": false
        },
        {
          "line": 2182,
          "old_api": null,
          "new_api": "unquote_c_style",
          "old_text": null,
          "new_text": "unquote_c_style(&uq, p, &endp)",
          "old_line_content": "\tif (*p++ != ' ')",
          "new_line_content": "\tif (!unquote_c_style(&uq, p, &endp)) {",
          "content_same": false
        },
        {
          "line": 2184,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Garbage after path in: %s\", command_buf.buf)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"Garbage after path in: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2190,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Git links cannot be specified 'inline': %s\",\n\t\t\t\tcommand_buf.buf)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tdie(\"Git links cannot be specified 'inline': %s\",",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": null,
          "new_api": "typename",
          "old_text": null,
          "new_text": "typename(oe->type)",
          "old_line_content": "\t\t\t\tcommand_buf.buf);",
          "new_line_content": "\t\t\t\t\ttypename(oe->type), command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2203,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(&uq, p)",
          "old_line_content": "\t\t * another repository.",
          "new_line_content": "\t\t\tstrbuf_addstr(&uq, p);",
          "content_same": false
        },
        {
          "line": 2206,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "\t\tif (p != uq.buf) {",
          "new_line_content": "\t\tread_next_command();",
          "content_same": false
        },
        {
          "line": 2213,
          "old_api": null,
          "new_api": "sha1_object_info",
          "old_text": null,
          "new_text": "sha1_object_info(sha1, NULL)",
          "old_line_content": "\t\tif (oe->type != OBJ_BLOB)",
          "new_line_content": "\t\tenum object_type type = sha1_object_info(sha1, NULL);",
          "content_same": false
        },
        {
          "line": 2218,
          "old_api": null,
          "new_api": "typename",
          "old_text": null,
          "new_text": "typename(type)",
          "old_line_content": "\t\tif (type < 0)",
          "new_line_content": "\t\t\t    typename(type), command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2230,
          "old_api": null,
          "new_api": "strbuf_reset",
          "old_text": null,
          "new_text": "strbuf_reset(&uq)",
          "old_line_content": "\tconst char *p = command_buf.buf + 2;",
          "new_line_content": "\tstrbuf_reset(&uq);",
          "content_same": false
        },
        {
          "line": 2231,
          "old_api": null,
          "new_api": "unquote_c_style",
          "old_text": null,
          "new_text": "unquote_c_style(&uq, p, &endp)",
          "old_line_content": "\tstatic struct strbuf uq = STRBUF_INIT;",
          "new_line_content": "\tif (!unquote_c_style(&uq, p, &endp)) {",
          "content_same": false
        },
        {
          "line": 2233,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Garbage after path in: %s\", command_buf.buf)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"Garbage after path in: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": null,
          "new_api": "tree_content_remove",
          "old_text": null,
          "new_text": "tree_content_remove(&b->branch_tree, p, NULL)",
          "old_line_content": "\t\tif (*endp)",
          "new_line_content": "\ttree_content_remove(&b->branch_tree, p, NULL);",
          "content_same": false
        },
        {
          "line": 2248,
          "old_api": null,
          "new_api": "strbuf_reset",
          "old_text": null,
          "new_text": "strbuf_reset(&s_uq)",
          "old_line_content": "\tconst char *endp;",
          "new_line_content": "\tstrbuf_reset(&s_uq);",
          "content_same": false
        },
        {
          "line": 2249,
          "old_api": null,
          "new_api": "unquote_c_style",
          "old_text": null,
          "new_text": "unquote_c_style(&s_uq, s, &endp)",
          "old_line_content": "\tstruct tree_entry leaf;",
          "new_line_content": "\tif (!unquote_c_style(&s_uq, s, &endp)) {",
          "content_same": false
        },
        {
          "line": 2251,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Missing space after source: %s\", command_buf.buf)",
          "old_line_content": "\ts = command_buf.buf + 2;",
          "new_line_content": "\t\t\tdie(\"Missing space after source: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2256,
          "old_api": null,
          "new_api": "strbuf_add",
          "old_text": null,
          "new_text": "strbuf_add(&s_uq, s, endp - s)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tstrbuf_add(&s_uq, s, endp - s);",
          "content_same": false
        },
        {
          "line": 2262,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Missing dest: %s\", command_buf.buf)",
          "old_line_content": "\ts = s_uq.buf;",
          "new_line_content": "\t\tdie(\"Missing dest: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2265,
          "old_api": null,
          "new_api": "strbuf_reset",
          "old_text": null,
          "new_text": "strbuf_reset(&d_uq)",
          "old_line_content": "\tif (!*endp)",
          "new_line_content": "\tstrbuf_reset(&d_uq);",
          "content_same": false
        },
        {
          "line": 2268,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Garbage after dest in: %s\", command_buf.buf)",
          "old_line_content": "\td = endp;",
          "new_line_content": "\t\t\tdie(\"Garbage after dest in: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2274,
          "old_api": null,
          "new_api": "tree_content_remove",
          "old_text": null,
          "new_text": "tree_content_remove(&b->branch_tree, s, &leaf)",
          "old_line_content": "\t}",
          "new_line_content": "\t\ttree_content_remove(&b->branch_tree, s, &leaf);",
          "content_same": false
        },
        {
          "line": 2279,
          "old_api": null,
          "new_api": "tree_content_set",
          "old_text": null,
          "new_text": "tree_content_set(&b->branch_tree, d,\n\t\tleaf.versions[1].sha1,\n\t\tleaf.versions[1].mode,\n\t\tleaf.tree)",
          "old_line_content": "\telse",
          "new_line_content": "\ttree_content_set(&b->branch_tree, d,",
          "content_same": false
        },
        {
          "line": 2299,
          "old_api": null,
          "new_api": "strtoumax",
          "old_text": null,
          "new_text": "strtoumax(p + 1, &x, 10)",
          "old_line_content": "",
          "new_line_content": "\t\toe = find_mark(strtoumax(p + 1, &x, 10));",
          "content_same": false
        },
        {
          "line": 2300,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(sha1, oe->idx.sha1)",
          "old_line_content": "\t/* <dataref> or 'inline' */",
          "new_line_content": "\t\thashcpy(sha1, oe->idx.sha1);",
          "content_same": false
        },
        {
          "line": 2302,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(p, \"inline\")",
          "old_line_content": "\t\tchar *x;",
          "new_line_content": "\t} else if (!prefixcmp(p, \"inline\")) {",
          "content_same": false
        },
        {
          "line": 2307,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Invalid SHA1: %s\", command_buf.buf)",
          "old_line_content": "\t\tinline_data = 1;",
          "new_line_content": "\t\t\tdie(\"Invalid SHA1: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2308,
          "old_api": null,
          "new_api": "find_object",
          "old_text": null,
          "new_text": "find_object(sha1)",
          "old_line_content": "\t\tp += 6;",
          "new_line_content": "\t\toe = find_object(sha1);",
          "content_same": false
        },
        {
          "line": 2315,
          "old_api": null,
          "new_api": "lookup_branch",
          "old_text": null,
          "new_text": "lookup_branch(p)",
          "old_line_content": "\tif (*p++ != ' ')",
          "new_line_content": "\ts = lookup_branch(p);",
          "content_same": false
        },
        {
          "line": 2317,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(commit_sha1, s->sha1)",
          "old_line_content": "",
          "new_line_content": "\t\thashcpy(commit_sha1, s->sha1);",
          "content_same": false
        },
        {
          "line": 2320,
          "old_api": null,
          "new_api": "find_mark",
          "old_text": null,
          "new_text": "find_mark(commit_mark)",
          "old_line_content": "\tif (s) {",
          "new_line_content": "\t\tstruct object_entry *commit_oe = find_mark(commit_mark);",
          "content_same": false
        },
        {
          "line": 2322,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Mark :%\" PRIuMAX \" not a commit\", commit_mark)",
          "old_line_content": "\t} else if (*p == ':') {",
          "new_line_content": "\t\t\tdie(\"Mark :%\" PRIuMAX \" not a commit\", commit_mark);",
          "content_same": false
        },
        {
          "line": 2329,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Not a valid commit: %s\", p)",
          "old_line_content": "\t\tunsigned long size;",
          "new_line_content": "\t\t\tdie(\"Not a valid commit: %s\", p);",
          "content_same": false
        },
        {
          "line": 2332,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Invalid ref name or SHA1 expression: %s\", p)",
          "old_line_content": "\t\tif (!buf || size < 46)",
          "new_line_content": "\t\tdie(\"Invalid ref name or SHA1 expression: %s\", p);",
          "content_same": false
        },
        {
          "line": 2339,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "\t\tif (p != uq.buf) {",
          "new_line_content": "\t\tread_next_command();",
          "content_same": false
        },
        {
          "line": 2345,
          "old_api": null,
          "new_api": "is_null_sha1",
          "old_text": null,
          "new_text": "is_null_sha1(sha1)",
          "old_line_content": "\t} else if (oe) {",
          "new_line_content": "\t} else if (!is_null_sha1(sha1)) {",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": null,
          "new_api": "sha1_object_info",
          "old_text": null,
          "new_text": "sha1_object_info(sha1, NULL)",
          "old_line_content": "\t\tif (oe->type != OBJ_BLOB)",
          "new_line_content": "\t\tenum object_type type = sha1_object_info(sha1, NULL);",
          "content_same": false
        },
        {
          "line": 2351,
          "old_api": null,
          "new_api": "typename",
          "old_text": null,
          "new_text": "typename(type)",
          "old_line_content": "\t\tif (type < 0)",
          "new_line_content": "\t\t\t    typename(type), command_buf.buf);",
          "content_same": false
        },
        {
          "line": 2363,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(commit_sha1)",
          "old_line_content": "\t\treturn; /* nothing to insert */",
          "new_line_content": "\tconstruct_path_with_fanout(sha1_to_hex(commit_sha1), new_fanout, path);",
          "content_same": false
        },
        {
          "line": 2364,
          "old_api": null,
          "new_api": "tree_content_set",
          "old_text": null,
          "new_text": "tree_content_set(&b->branch_tree, path, sha1, S_IFREG | 0644, NULL)",
          "old_line_content": "",
          "new_line_content": "\ttree_content_set(&b->branch_tree, path, sha1, S_IFREG | 0644, NULL);",
          "content_same": false
        },
        {
          "line": 2369,
          "old_api": null,
          "new_api": "release_tree_content_recursive",
          "old_text": null,
          "new_text": "release_tree_content_recursive(b->branch_tree.tree)",
          "old_line_content": "}",
          "new_line_content": "\trelease_tree_content_recursive(b->branch_tree.tree);",
          "content_same": false
        },
        {
          "line": 2370,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(b->branch_tree.versions[0].sha1)",
          "old_line_content": "",
          "new_line_content": "\thashclr(b->branch_tree.versions[0].sha1);",
          "content_same": false
        },
        {
          "line": 2371,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(b->branch_tree.versions[1].sha1)",
          "old_line_content": "static void file_change_deleteall(struct branch *b)",
          "new_line_content": "\thashclr(b->branch_tree.versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 2372,
          "old_api": null,
          "new_api": "load_tree",
          "old_text": null,
          "new_text": "load_tree(&b->branch_tree)",
          "old_line_content": "{",
          "new_line_content": "\tload_tree(&b->branch_tree);",
          "content_same": false
        },
        {
          "line": 2379,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(b->sha1)",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"Not a valid commit: %s\", sha1_to_hex(b->sha1));",
          "content_same": false
        },
        {
          "line": 2380,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(\"tree \", buf, 5)",
          "old_line_content": "static void parse_from_commit(struct branch *b, char *buf, unsigned long size)",
          "new_line_content": "\tif (memcmp(\"tree \", buf, 5)",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": null,
          "new_api": "get_sha1_hex",
          "old_text": null,
          "new_text": "get_sha1_hex(buf + 5, b->branch_tree.versions[1].sha1)",
          "old_line_content": "{",
          "new_line_content": "\t\t|| get_sha1_hex(buf + 5, b->branch_tree.versions[1].sha1))",
          "content_same": false
        },
        {
          "line": 2382,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(b->sha1)",
          "old_line_content": "\tif (!buf || size < 46)",
          "new_line_content": "\t\tdie(\"The commit %s is corrupt\", sha1_to_hex(b->sha1));",
          "content_same": false
        },
        {
          "line": 2389,
          "old_api": null,
          "new_api": "is_null_sha1",
          "old_text": null,
          "new_text": "is_null_sha1(b->sha1)",
          "old_line_content": "}",
          "new_line_content": "\tif (is_null_sha1(b->sha1)) {",
          "content_same": false
        },
        {
          "line": 2390,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(b->branch_tree.versions[0].sha1)",
          "old_line_content": "",
          "new_line_content": "\t\thashclr(b->branch_tree.versions[0].sha1);",
          "content_same": false
        },
        {
          "line": 2391,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(b->branch_tree.versions[1].sha1)",
          "old_line_content": "static void parse_from_existing(struct branch *b)",
          "new_line_content": "\t\thashclr(b->branch_tree.versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 2396,
          "old_api": null,
          "new_api": "read_object_with_reference",
          "old_text": null,
          "new_text": "read_object_with_reference(b->sha1,\n\t\t\tcommit_type, &size, b->sha1)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tbuf = read_object_with_reference(b->sha1,",
          "content_same": false
        },
        {
          "line": 2398,
          "old_api": null,
          "new_api": "parse_from_commit",
          "old_text": null,
          "new_text": "parse_from_commit(b, buf, size)",
          "old_line_content": "\t\tchar *buf;",
          "new_line_content": "\t\tparse_from_commit(b, buf, size);",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(buf)",
          "old_line_content": "",
          "new_line_content": "\t\tfree(buf);",
          "content_same": false
        },
        {
          "line": 2408,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(command_buf.buf, \"from \")",
          "old_line_content": "{",
          "new_line_content": "\tif (prefixcmp(command_buf.buf, \"from \"))",
          "content_same": false
        },
        {
          "line": 2417,
          "old_api": null,
          "new_api": "lookup_branch",
          "old_text": null,
          "new_text": "lookup_branch(from)",
          "old_line_content": "\t\tb->branch_tree.tree = NULL;",
          "new_line_content": "\ts = lookup_branch(from);",
          "content_same": false
        },
        {
          "line": 2419,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Can't create a branch from itself: %s\", b->name)",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"Can't create a branch from itself: %s\", b->name);",
          "content_same": false
        },
        {
          "line": 2422,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(b->sha1, s->sha1)",
          "old_line_content": "\tif (b == s)",
          "new_line_content": "\t\thashcpy(b->sha1, s->sha1);",
          "content_same": false
        },
        {
          "line": 2424,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(b->branch_tree.versions[1].sha1, t)",
          "old_line_content": "\telse if (s) {",
          "new_line_content": "\t\thashcpy(b->branch_tree.versions[1].sha1, t);",
          "content_same": false
        },
        {
          "line": 2429,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Mark :%\" PRIuMAX \" not a commit\", idnum)",
          "old_line_content": "\t} else if (*from == ':') {",
          "new_line_content": "\t\t\tdie(\"Mark :%\" PRIuMAX \" not a commit\", idnum);",
          "content_same": false
        },
        {
          "line": 2435,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(buf)",
          "old_line_content": "\t\tif (oe->pack_id != MAX_PACK_ID) {",
          "new_line_content": "\t\t\tfree(buf);",
          "content_same": false
        },
        {
          "line": 2454,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(command_buf.buf, \"merge \")",
          "old_line_content": "\tconst char *from;",
          "new_line_content": "\twhile (!prefixcmp(command_buf.buf, \"merge \")) {",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(command_buf.buf, ' ')",
          "old_line_content": "\tstruct branch *s;",
          "new_line_content": "\t\tfrom = strchr(command_buf.buf, ' ') + 1;",
          "content_same": false
        },
        {
          "line": 2456,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(sizeof(*n))",
          "old_line_content": "",
          "new_line_content": "\t\tn = xmalloc(sizeof(*n));",
          "content_same": false
        },
        {
          "line": 2457,
          "old_api": null,
          "new_api": "lookup_branch",
          "old_text": null,
          "new_text": "lookup_branch(from)",
          "old_line_content": "\t*count = 0;",
          "new_line_content": "\t\ts = lookup_branch(from);",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": null,
          "new_api": "find_mark",
          "old_text": null,
          "new_text": "find_mark(idnum)",
          "old_line_content": "\t\tif (s)",
          "new_line_content": "\t\t\tstruct object_entry *oe = find_mark(idnum);",
          "content_same": false
        },
        {
          "line": 2464,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Mark :%\" PRIuMAX \" not a commit\", idnum)",
          "old_line_content": "\t\telse if (*from == ':') {",
          "new_line_content": "\t\t\t\tdie(\"Mark :%\" PRIuMAX \" not a commit\", idnum);",
          "content_same": false
        },
        {
          "line": 2471,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Not a valid commit: %s\", from)",
          "old_line_content": "\t\t\tunsigned long size;",
          "new_line_content": "\t\t\t\tdie(\"Not a valid commit: %s\", from);",
          "content_same": false
        },
        {
          "line": 2474,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Invalid ref name or SHA1 expression: %s\", from)",
          "old_line_content": "\t\t\tif (!buf || size < 46)",
          "new_line_content": "\t\t\tdie(\"Invalid ref name or SHA1 expression: %s\", from);",
          "content_same": false
        },
        {
          "line": 2483,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\tread_next_command();",
          "content_same": false
        },
        {
          "line": 2500,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(command_buf.buf, ' ')",
          "old_line_content": "\tunsigned int merge_count;",
          "new_line_content": "\tsp = strchr(command_buf.buf, ' ') + 1;",
          "content_same": false
        },
        {
          "line": 2501,
          "old_api": null,
          "new_api": "lookup_branch",
          "old_text": null,
          "new_text": "lookup_branch(sp)",
          "old_line_content": "\tunsigned char prev_fanout, new_fanout;",
          "new_line_content": "\tb = lookup_branch(sp);",
          "content_same": false
        },
        {
          "line": 2503,
          "old_api": null,
          "new_api": "new_branch",
          "old_text": null,
          "new_text": "new_branch(sp)",
          "old_line_content": "\t/* Obtain the branch name from the rest of our command */",
          "new_line_content": "\t\tb = new_branch(sp);",
          "content_same": false
        },
        {
          "line": 2506,
          "old_api": null,
          "new_api": "parse_mark",
          "old_text": null,
          "new_text": "parse_mark()",
          "old_line_content": "\tif (!b)",
          "new_line_content": "\tparse_mark();",
          "content_same": false
        },
        {
          "line": 2508,
          "old_api": null,
          "new_api": "parse_ident",
          "old_text": null,
          "new_text": "parse_ident(command_buf.buf + 7)",
          "old_line_content": "",
          "new_line_content": "\t\tauthor = parse_ident(command_buf.buf + 7);",
          "content_same": false
        },
        {
          "line": 2518,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "\t}",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 2519,
          "old_api": null,
          "new_api": "parse_from",
          "old_text": null,
          "new_text": "parse_from(b)",
          "old_line_content": "\tif (!committer)",
          "new_line_content": "\tparse_from(b);",
          "content_same": false
        },
        {
          "line": 2525,
          "old_api": null,
          "new_api": "load_branch",
          "old_text": null,
          "new_text": "load_branch(b)",
          "old_line_content": "",
          "new_line_content": "\t\tload_branch(b);",
          "content_same": false
        },
        {
          "line": 2533,
          "old_api": null,
          "new_api": "file_change_m",
          "old_text": null,
          "new_text": "file_change_m(b)",
          "old_line_content": "",
          "new_line_content": "\t\t\tfile_change_m(b);",
          "content_same": false
        },
        {
          "line": 2534,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(command_buf.buf, \"D \")",
          "old_line_content": "\t/* file_change* */",
          "new_line_content": "\t\telse if (!prefixcmp(command_buf.buf, \"D \"))",
          "content_same": false
        },
        {
          "line": 2535,
          "old_api": null,
          "new_api": "file_change_d",
          "old_text": null,
          "new_text": "file_change_d(b)",
          "old_line_content": "\twhile (command_buf.len > 0) {",
          "new_line_content": "\t\t\tfile_change_d(b);",
          "content_same": false
        },
        {
          "line": 2548,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "\t\telse {",
          "new_line_content": "\t\tif (read_next_command() == EOF)",
          "content_same": false
        },
        {
          "line": 2554,
          "old_api": null,
          "new_api": "change_note_fanout",
          "old_text": null,
          "new_text": "change_note_fanout(&b->branch_tree, new_fanout)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tb->num_notes = change_note_fanout(&b->branch_tree, new_fanout);",
          "content_same": false
        },
        {
          "line": 2557,
          "old_api": null,
          "new_api": "store_tree",
          "old_text": null,
          "new_text": "store_tree(&b->branch_tree)",
          "old_line_content": "\tif (new_fanout != prev_fanout)",
          "new_line_content": "\tstore_tree(&b->branch_tree);",
          "content_same": false
        },
        {
          "line": 2563,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(b->branch_tree.versions[1].sha1)",
          "old_line_content": "\t\tb->branch_tree.versions[1].sha1);",
          "new_line_content": "\t\tsha1_to_hex(b->branch_tree.versions[1].sha1));",
          "content_same": false
        },
        {
          "line": 2564,
          "old_api": null,
          "new_api": "is_null_sha1",
          "old_text": null,
          "new_text": "is_null_sha1(b->sha1)",
          "old_line_content": "",
          "new_line_content": "\tif (!is_null_sha1(b->sha1))",
          "content_same": false
        },
        {
          "line": 2577,
          "old_api": null,
          "new_api": "strbuf_addbuf",
          "old_text": null,
          "new_text": "strbuf_addbuf(&new_data, &msg)",
          "old_line_content": "\t\t\"author %s\\n\"",
          "new_line_content": "\tstrbuf_addbuf(&new_data, &msg);",
          "content_same": false
        },
        {
          "line": 2578,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(author)",
          "old_line_content": "\t\t\"committer %s\\n\"",
          "new_line_content": "\tfree(author);",
          "content_same": false
        },
        {
          "line": 2579,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(committer)",
          "old_line_content": "\t\t\"\\n\",",
          "new_line_content": "\tfree(committer);",
          "content_same": false
        },
        {
          "line": 2599,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(command_buf.buf, ' ')",
          "old_line_content": "\tunsigned char sha1[20];",
          "new_line_content": "\tsp = strchr(command_buf.buf, ' ') + 1;",
          "content_same": false
        },
        {
          "line": 2600,
          "old_api": null,
          "new_api": "pool_alloc",
          "old_text": null,
          "new_text": "pool_alloc(sizeof(struct tag))",
          "old_line_content": "\tenum object_type type;",
          "new_line_content": "\tt = pool_alloc(sizeof(struct tag));",
          "content_same": false
        },
        {
          "line": 2602,
          "old_api": null,
          "new_api": "pool_strdup",
          "old_text": null,
          "new_text": "pool_strdup(sp)",
          "old_line_content": "\t/* Obtain the new tag name from the rest of our command */",
          "new_line_content": "\tt->name = pool_strdup(sp);",
          "content_same": false
        },
        {
          "line": 2608,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "\t\tlast_tag->next_tag = t;",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 2611,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(command_buf.buf, \"from \")",
          "old_line_content": "\tlast_tag = t;",
          "new_line_content": "\tif (prefixcmp(command_buf.buf, \"from \"))",
          "content_same": false
        },
        {
          "line": 2613,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(command_buf.buf, ' ')",
          "old_line_content": "",
          "new_line_content": "\tfrom = strchr(command_buf.buf, ' ') + 1;",
          "content_same": false
        },
        {
          "line": 2614,
          "old_api": null,
          "new_api": "lookup_branch",
          "old_text": null,
          "new_text": "lookup_branch(from)",
          "old_line_content": "\t/* from ... */",
          "new_line_content": "\ts = lookup_branch(from);",
          "content_same": false
        },
        {
          "line": 2621,
          "old_api": null,
          "new_api": "find_mark",
          "old_text": null,
          "new_text": "find_mark(from_mark)",
          "old_line_content": "\t\ttype = OBJ_COMMIT;",
          "new_line_content": "\t\toe = find_mark(from_mark);",
          "content_same": false
        },
        {
          "line": 2623,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(sha1, oe->idx.sha1)",
          "old_line_content": "\t\tstruct object_entry *oe;",
          "new_line_content": "\t\thashcpy(sha1, oe->idx.sha1);",
          "content_same": false
        },
        {
          "line": 2630,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Not a valid commit: %s\", from)",
          "old_line_content": "\t\tchar *buf;",
          "new_line_content": "\t\t\tdie(\"Not a valid commit: %s\", from);",
          "content_same": false
        },
        {
          "line": 2631,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(buf)",
          "old_line_content": "",
          "new_line_content": "\t\tfree(buf);",
          "content_same": false
        },
        {
          "line": 2633,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Invalid ref name or SHA1 expression: %s\", from)",
          "old_line_content": "\t\tif (!buf || size < 46)",
          "new_line_content": "\t\tdie(\"Invalid ref name or SHA1 expression: %s\", from);",
          "content_same": false
        },
        {
          "line": 2639,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "",
          "new_line_content": "\t\tread_next_command();",
          "content_same": false
        },
        {
          "line": 2644,
          "old_api": null,
          "new_api": "parse_data",
          "old_text": null,
          "new_text": "parse_data(&msg, 0, NULL)",
          "old_line_content": "\t} else",
          "new_line_content": "\tparse_data(&msg, 0, NULL);",
          "content_same": false
        },
        {
          "line": 2647,
          "old_api": null,
          "new_api": "strbuf_reset",
          "old_text": null,
          "new_text": "strbuf_reset(&new_data)",
          "old_line_content": "\t/* tag payload/message */",
          "new_line_content": "\tstrbuf_reset(&new_data);",
          "content_same": false
        },
        {
          "line": 2649,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(&new_data,\n\t\t    \"object %s\\n\"\n\t\t    \"type %s\\n\"\n\t\t    \"tag %s\\n\",\n\t\t    sha1_to_hex(sha1), typename(type), t->name)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_addf(&new_data,",
          "content_same": false
        },
        {
          "line": 2655,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(&new_data,\n\t\t\t    \"tagger %s\\n\", tagger)",
          "old_line_content": "\t\t    \"type %s\\n\"",
          "new_line_content": "\t\tstrbuf_addf(&new_data,",
          "content_same": false
        },
        {
          "line": 2658,
          "old_api": null,
          "new_api": "strbuf_addbuf",
          "old_text": null,
          "new_text": "strbuf_addbuf(&new_data, &msg)",
          "old_line_content": "\tif (tagger)",
          "new_line_content": "\tstrbuf_addbuf(&new_data, &msg);",
          "content_same": false
        },
        {
          "line": 2673,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(command_buf.buf, ' ')",
          "old_line_content": "\tstruct branch *b;",
          "new_line_content": "\tsp = strchr(command_buf.buf, ' ') + 1;",
          "content_same": false
        },
        {
          "line": 2674,
          "old_api": null,
          "new_api": "lookup_branch",
          "old_text": null,
          "new_text": "lookup_branch(sp)",
          "old_line_content": "\tchar *sp;",
          "new_line_content": "\tb = lookup_branch(sp);",
          "content_same": false
        },
        {
          "line": 2676,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(b->sha1)",
          "old_line_content": "\t/* Obtain the branch name from the rest of our command */",
          "new_line_content": "\t\thashclr(b->sha1);",
          "content_same": false
        },
        {
          "line": 2685,
          "old_api": null,
          "new_api": "new_branch",
          "old_text": null,
          "new_text": "new_branch(sp)",
          "old_line_content": "\t\t\tb->branch_tree.tree = NULL;",
          "new_line_content": "\t\tb = new_branch(sp);",
          "content_same": false
        },
        {
          "line": 2686,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "\t\t}",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 2687,
          "old_api": null,
          "new_api": "parse_from",
          "old_text": null,
          "new_text": "parse_from(b)",
          "old_line_content": "\t}",
          "new_line_content": "\tparse_from(b);",
          "content_same": false
        },
        {
          "line": 2695,
          "old_api": null,
          "new_api": "cycle_packfile",
          "old_text": null,
          "new_text": "cycle_packfile()",
          "old_line_content": "",
          "new_line_content": "\t\tcycle_packfile();",
          "content_same": false
        },
        {
          "line": 2696,
          "old_api": null,
          "new_api": "dump_branches",
          "old_text": null,
          "new_text": "dump_branches()",
          "old_line_content": "static void parse_checkpoint(void)",
          "new_line_content": "\t\tdump_branches();",
          "content_same": false
        },
        {
          "line": 2697,
          "old_api": null,
          "new_api": "dump_tags",
          "old_text": null,
          "new_text": "dump_tags()",
          "old_line_content": "{",
          "new_line_content": "\t\tdump_tags();",
          "content_same": false
        },
        {
          "line": 2698,
          "old_api": null,
          "new_api": "dump_marks",
          "old_text": null,
          "new_text": "dump_marks()",
          "old_line_content": "\tif (object_count) {",
          "new_line_content": "\t\tdump_marks();",
          "content_same": false
        },
        {
          "line": 2705,
          "old_api": null,
          "new_api": "fwrite",
          "old_text": null,
          "new_text": "fwrite(command_buf.buf, 1, command_buf.len, stdout)",
          "old_line_content": "}",
          "new_line_content": "\tfwrite(command_buf.buf, 1, command_buf.len, stdout);",
          "content_same": false
        },
        {
          "line": 2706,
          "old_api": null,
          "new_api": "fputc",
          "old_text": null,
          "new_text": "fputc('\\n', stdout)",
          "old_line_content": "",
          "new_line_content": "\tfputc('\\n', stdout);",
          "content_same": false
        },
        {
          "line": 2707,
          "old_api": null,
          "new_api": "fflush",
          "old_text": null,
          "new_text": "fflush(stdout)",
          "old_line_content": "static void parse_progress(void)",
          "new_line_content": "\tfflush(stdout);",
          "content_same": false
        },
        {
          "line": 2708,
          "old_api": null,
          "new_api": "skip_optional_lf",
          "old_text": null,
          "new_text": "skip_optional_lf()",
          "old_line_content": "{",
          "new_line_content": "\tskip_optional_lf();",
          "content_same": false
        },
        {
          "line": 2715,
          "old_api": null,
          "new_api": "is_absolute_path",
          "old_text": null,
          "new_text": "is_absolute_path(path)",
          "old_line_content": "static char* make_fast_import_path(const char *path)",
          "new_line_content": "\tif (!relative_marks_paths || is_absolute_path(path))",
          "content_same": false
        },
        {
          "line": 2716,
          "old_api": null,
          "new_api": "xstrdup",
          "old_text": null,
          "new_text": "xstrdup(path)",
          "old_line_content": "{",
          "new_line_content": "\t\treturn xstrdup(path);",
          "content_same": false
        },
        {
          "line": 2717,
          "old_api": null,
          "new_api": "get_git_dir",
          "old_text": null,
          "new_text": "get_git_dir()",
          "old_line_content": "\tstruct strbuf abs_path = STRBUF_INIT;",
          "new_line_content": "\tstrbuf_addf(&abs_path, \"%s/info/fast-import/%s\", get_git_dir(), path);",
          "content_same": false
        },
        {
          "line": 2718,
          "old_api": null,
          "new_api": "strbuf_detach",
          "old_text": null,
          "new_text": "strbuf_detach(&abs_path, NULL)",
          "old_line_content": "",
          "new_line_content": "\treturn strbuf_detach(&abs_path, NULL);",
          "content_same": false
        },
        {
          "line": 2725,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Only one import-marks command allowed per stream\")",
          "old_line_content": "static void option_import_marks(const char *marks, int from_stream)",
          "new_line_content": "\t\t\tdie(\"Only one import-marks command allowed per stream\");",
          "content_same": false
        },
        {
          "line": 2732,
          "old_api": null,
          "new_api": "make_fast_import_path",
          "old_text": null,
          "new_text": "make_fast_import_path(marks)",
          "old_line_content": "\t\tif(!import_marks_file_from_stream)",
          "new_line_content": "\timport_marks_file = make_fast_import_path(marks);",
          "content_same": false
        },
        {
          "line": 2738,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(fmt, \"raw\")",
          "old_line_content": "}",
          "new_line_content": "\tif (!strcmp(fmt, \"raw\"))",
          "content_same": false
        },
        {
          "line": 2740,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(fmt, \"rfc2822\")",
          "old_line_content": "static void option_date_format(const char *fmt)",
          "new_line_content": "\telse if (!strcmp(fmt, \"rfc2822\"))",
          "content_same": false
        },
        {
          "line": 2745,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unknown --date-format argument %s\", fmt)",
          "old_line_content": "\t\twhenspec = WHENSPEC_RFC2822;",
          "new_line_content": "\t\tdie(\"unknown --date-format argument %s\", fmt);",
          "content_same": false
        },
        {
          "line": 2750,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(depth, NULL, 0)",
          "old_line_content": "}",
          "new_line_content": "\tmax_depth = strtoul(depth, NULL, 0);",
          "content_same": false
        },
        {
          "line": 2752,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"--depth cannot exceed %u\", MAX_DEPTH)",
          "old_line_content": "static void option_depth(const char *depth)",
          "new_line_content": "\t\tdie(\"--depth cannot exceed %u\", MAX_DEPTH);",
          "content_same": false
        },
        {
          "line": 2757,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(branches, NULL, 0)",
          "old_line_content": "}",
          "new_line_content": "\tmax_active_branches = strtoul(branches, NULL, 0);",
          "content_same": false
        },
        {
          "line": 2762,
          "old_api": null,
          "new_api": "make_fast_import_path",
          "old_text": null,
          "new_text": "make_fast_import_path(marks)",
          "old_line_content": "}",
          "new_line_content": "\texport_marks_file = make_fast_import_path(marks);",
          "content_same": false
        },
        {
          "line": 2768,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(pack_edges)",
          "old_line_content": "",
          "new_line_content": "\t\tfclose(pack_edges);",
          "content_same": false
        },
        {
          "line": 2769,
          "old_api": null,
          "new_api": "fopen",
          "old_text": null,
          "new_text": "fopen(edges, \"a\")",
          "old_line_content": "static void option_export_pack_edges(const char *edges)",
          "new_line_content": "\tpack_edges = fopen(edges, \"a\");",
          "content_same": false
        },
        {
          "line": 2771,
          "old_api": null,
          "new_api": "die_errno",
          "old_text": null,
          "new_text": "die_errno(\"Cannot open '%s'\", edges)",
          "old_line_content": "\tif (pack_edges)",
          "new_line_content": "\t\tdie_errno(\"Cannot open '%s'\", edges);",
          "content_same": false
        },
        {
          "line": 2776,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(option, \"max-pack-size=\")",
          "old_line_content": "}",
          "new_line_content": "\tif (!prefixcmp(option, \"max-pack-size=\")) {",
          "content_same": false
        },
        {
          "line": 2778,
          "old_api": null,
          "new_api": "git_parse_ulong",
          "old_text": null,
          "new_text": "git_parse_ulong(option + 14, &v)",
          "old_line_content": "static int parse_one_option(const char *option)",
          "new_line_content": "\t\tif (!git_parse_ulong(option + 14, &v))",
          "content_same": false
        },
        {
          "line": 2781,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"max-pack-size is now in bytes, assuming --max-pack-size=%lum\", v)",
          "old_line_content": "\t\tunsigned long v;",
          "new_line_content": "\t\t\twarning(\"max-pack-size is now in bytes, assuming --max-pack-size=%lum\", v);",
          "content_same": false
        },
        {
          "line": 2784,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"minimum max-pack-size is 1 MiB\")",
          "old_line_content": "\t\tif (v < 8192) {",
          "new_line_content": "\t\t\twarning(\"minimum max-pack-size is 1 MiB\");",
          "content_same": false
        },
        {
          "line": 2790,
          "old_api": null,
          "new_api": "git_parse_ulong",
          "old_text": null,
          "new_text": "git_parse_ulong(option + 19, &v)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (!git_parse_ulong(option + 19, &v))",
          "content_same": false
        },
        {
          "line": 2793,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(option, \"depth=\")",
          "old_line_content": "\t\tunsigned long v;",
          "new_line_content": "\t} else if (!prefixcmp(option, \"depth=\")) {",
          "content_same": false
        },
        {
          "line": 2795,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(option, \"active-branches=\")",
          "old_line_content": "\t\t\treturn 0;",
          "new_line_content": "\t} else if (!prefixcmp(option, \"active-branches=\")) {",
          "content_same": false
        },
        {
          "line": 2796,
          "old_api": null,
          "new_api": "option_active_branches",
          "old_text": null,
          "new_text": "option_active_branches(option + 16)",
          "old_line_content": "\t\tbig_file_threshold = v;",
          "new_line_content": "\t\toption_active_branches(option + 16);",
          "content_same": false
        },
        {
          "line": 2812,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(feature, \"date-format=\")",
          "old_line_content": "}",
          "new_line_content": "\tif (!prefixcmp(feature, \"date-format=\")) {",
          "content_same": false
        },
        {
          "line": 2813,
          "old_api": null,
          "new_api": "option_date_format",
          "old_text": null,
          "new_text": "option_date_format(feature + 12)",
          "old_line_content": "",
          "new_line_content": "\t\toption_date_format(feature + 12);",
          "content_same": false
        },
        {
          "line": 2814,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(feature, \"import-marks=\")",
          "old_line_content": "static int parse_one_feature(const char *feature, int from_stream)",
          "new_line_content": "\t} else if (!prefixcmp(feature, \"import-marks=\")) {",
          "content_same": false
        },
        {
          "line": 2815,
          "old_api": null,
          "new_api": "option_import_marks",
          "old_text": null,
          "new_text": "option_import_marks(feature + 13, from_stream)",
          "old_line_content": "{",
          "new_line_content": "\t\toption_import_marks(feature + 13, from_stream);",
          "content_same": false
        },
        {
          "line": 2836,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Got feature command '%s' after data command\", feature)",
          "old_line_content": "{",
          "new_line_content": "\t\tdie(\"Got feature command '%s' after data command\", feature);",
          "content_same": false
        },
        {
          "line": 2838,
          "old_api": null,
          "new_api": "parse_one_feature",
          "old_text": null,
          "new_text": "parse_one_feature(feature, 1)",
          "old_line_content": "",
          "new_line_content": "\tif (parse_one_feature(feature, 1))",
          "content_same": false
        },
        {
          "line": 2841,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"This version of fast-import does not support feature %s.\", feature)",
          "old_line_content": "",
          "new_line_content": "\tdie(\"This version of fast-import does not support feature %s.\", feature);",
          "content_same": false
        },
        {
          "line": 2849,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Got option command '%s' after data command\", option)",
          "old_line_content": "{",
          "new_line_content": "\t\tdie(\"Got option command '%s' after data command\", option);",
          "content_same": false
        },
        {
          "line": 2851,
          "old_api": null,
          "new_api": "parse_one_option",
          "old_text": null,
          "new_text": "parse_one_option(option)",
          "old_line_content": "",
          "new_line_content": "\tif (parse_one_option(option))",
          "content_same": false
        },
        {
          "line": 2854,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"This version of fast-import does not support option: %s\", option)",
          "old_line_content": "",
          "new_line_content": "\tdie(\"This version of fast-import does not support option: %s\", option);",
          "content_same": false
        },
        {
          "line": 2859,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(k, \"pack.depth\")",
          "old_line_content": "}",
          "new_line_content": "\tif (!strcmp(k, \"pack.depth\")) {",
          "content_same": false
        },
        {
          "line": 2860,
          "old_api": null,
          "new_api": "git_config_int",
          "old_text": null,
          "new_text": "git_config_int(k, v)",
          "old_line_content": "",
          "new_line_content": "\t\tmax_depth = git_config_int(k, v);",
          "content_same": false
        },
        {
          "line": 2865,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(k, \"pack.compression\")",
          "old_line_content": "\t\tif (max_depth > MAX_DEPTH)",
          "new_line_content": "\tif (!strcmp(k, \"pack.compression\")) {",
          "content_same": false
        },
        {
          "line": 2866,
          "old_api": null,
          "new_api": "git_config_int",
          "old_text": null,
          "new_text": "git_config_int(k, v)",
          "old_line_content": "\t\t\tmax_depth = MAX_DEPTH;",
          "new_line_content": "\t\tint level = git_config_int(k, v);",
          "content_same": false
        },
        {
          "line": 2875,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(k, \"pack.indexversion\")",
          "old_line_content": "\t\tpack_compression_level = level;",
          "new_line_content": "\tif (!strcmp(k, \"pack.indexversion\")) {",
          "content_same": false
        },
        {
          "line": 2876,
          "old_api": null,
          "new_api": "git_config_int",
          "old_text": null,
          "new_text": "git_config_int(k, v)",
          "old_line_content": "\t\tpack_compression_seen = 1;",
          "new_line_content": "\t\tpack_idx_default_version = git_config_int(k, v);",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"bad pack.indexversion=%\"PRIu32,\n\t\t\t    pack_idx_default_version)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tdie(\"bad pack.indexversion=%\"PRIu32,",
          "content_same": false
        },
        {
          "line": 2883,
          "old_api": null,
          "new_api": "git_config_ulong",
          "old_text": null,
          "new_text": "git_config_ulong(k, v)",
          "old_line_content": "\t\t\t    pack_idx_default_version);",
          "new_line_content": "\t\tmax_packsize = git_config_ulong(k, v);",
          "content_same": false
        },
        {
          "line": 2903,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(a, \"--\")",
          "old_line_content": "",
          "new_line_content": "\t\tif (*a != '-' || !strcmp(a, \"--\"))",
          "content_same": false
        },
        {
          "line": 2906,
          "old_api": null,
          "new_api": "parse_one_option",
          "old_text": null,
          "new_text": "parse_one_option(a + 2)",
          "old_line_content": "",
          "new_line_content": "\t\tif (parse_one_option(a + 2))",
          "content_same": false
        },
        {
          "line": 2909,
          "old_api": null,
          "new_api": "parse_one_feature",
          "old_text": null,
          "new_text": "parse_one_feature(a + 2, 0)",
          "old_line_content": "",
          "new_line_content": "\t\tif (parse_one_feature(a + 2, 0))",
          "content_same": false
        },
        {
          "line": 2912,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unknown option %s\", a)",
          "old_line_content": "",
          "new_line_content": "\t\tdie(\"unknown option %s\", a);",
          "content_same": false
        },
        {
          "line": 2915,
          "old_api": null,
          "new_api": "usage",
          "old_text": null,
          "new_text": "usage(fast_import_usage)",
          "old_line_content": "",
          "new_line_content": "\t\tusage(fast_import_usage);",
          "content_same": false
        },
        {
          "line": 2926,
          "old_api": null,
          "new_api": "git_extract_argv0_path",
          "old_text": null,
          "new_text": "git_extract_argv0_path(argv[0])",
          "old_line_content": "int main(int argc, const char **argv)",
          "new_line_content": "\tgit_extract_argv0_path(argv[0]);",
          "content_same": false
        },
        {
          "line": 2928,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(argv[1], \"-h\")",
          "old_line_content": "\tunsigned int i;",
          "new_line_content": "\tif (argc == 2 && !strcmp(argv[1], \"-h\"))",
          "content_same": false
        },
        {
          "line": 2929,
          "old_api": null,
          "new_api": "usage",
          "old_text": null,
          "new_text": "usage(fast_import_usage)",
          "old_line_content": "",
          "new_line_content": "\t\tusage(fast_import_usage);",
          "content_same": false
        },
        {
          "line": 2931,
          "old_api": null,
          "new_api": "setup_git_directory",
          "old_text": null,
          "new_text": "setup_git_directory()",
          "old_line_content": "",
          "new_line_content": "\tsetup_git_directory();",
          "content_same": false
        },
        {
          "line": 2937,
          "old_api": null,
          "new_api": "strbuf_init",
          "old_text": null,
          "new_text": "strbuf_init(&command_buf, 0)",
          "old_line_content": "\tif (!pack_compression_seen && core_compression_seen)",
          "new_line_content": "\tstrbuf_init(&command_buf, 0);",
          "content_same": false
        },
        {
          "line": 2938,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(atom_table_sz, sizeof(struct atom_str*))",
          "old_line_content": "\t\tpack_compression_level = core_compression_level;",
          "new_line_content": "\tatom_table = xcalloc(atom_table_sz, sizeof(struct atom_str*));",
          "content_same": false
        },
        {
          "line": 2939,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(branch_table_sz, sizeof(struct branch*))",
          "old_line_content": "",
          "new_line_content": "\tbranch_table = xcalloc(branch_table_sz, sizeof(struct branch*));",
          "content_same": false
        },
        {
          "line": 2946,
          "old_api": null,
          "new_api": "pool_alloc",
          "old_text": null,
          "new_text": "pool_alloc(cmd_save * sizeof(*rc_free))",
          "old_line_content": "",
          "new_line_content": "\trc_free = pool_alloc(cmd_save * sizeof(*rc_free));",
          "content_same": false
        },
        {
          "line": 2951,
          "old_api": null,
          "new_api": "prepare_packed_git",
          "old_text": null,
          "new_text": "prepare_packed_git()",
          "old_line_content": "\tfor (i = 0; i < (cmd_save - 1); i++)",
          "new_line_content": "\tprepare_packed_git();",
          "content_same": false
        },
        {
          "line": 2952,
          "old_api": null,
          "new_api": "start_packfile",
          "old_text": null,
          "new_text": "start_packfile()",
          "old_line_content": "\t\trc_free[i].next = &rc_free[i + 1];",
          "new_line_content": "\tstart_packfile();",
          "content_same": false
        },
        {
          "line": 2953,
          "old_api": null,
          "new_api": "set_die_routine",
          "old_text": null,
          "new_text": "set_die_routine(die_nicely)",
          "old_line_content": "\trc_free[cmd_save - 1].next = NULL;",
          "new_line_content": "\tset_die_routine(die_nicely);",
          "content_same": false
        },
        {
          "line": 2954,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "",
          "new_line_content": "\twhile (read_next_command() != EOF) {",
          "content_same": false
        },
        {
          "line": 2979,
          "old_api": null,
          "new_api": "parse_argv",
          "old_text": null,
          "new_text": "parse_argv()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tparse_argv();",
          "content_same": false
        },
        {
          "line": 2981,
          "old_api": null,
          "new_api": "end_packfile",
          "old_text": null,
          "new_text": "end_packfile()",
          "old_line_content": "\t/* argv hasn't been parsed yet, do so */",
          "new_line_content": "\tend_packfile();",
          "content_same": false
        },
        {
          "line": 2984,
          "old_api": null,
          "new_api": "dump_tags",
          "old_text": null,
          "new_text": "dump_tags()",
          "old_line_content": "",
          "new_line_content": "\tdump_tags();",
          "content_same": false
        },
        {
          "line": 2986,
          "old_api": null,
          "new_api": "dump_marks",
          "old_text": null,
          "new_text": "dump_marks()",
          "old_line_content": "",
          "new_line_content": "\tdump_marks();",
          "content_same": false
        },
        {
          "line": 2995,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(duplicate_count_by_type)",
          "old_line_content": "\tif (show_stats) {",
          "new_line_content": "\t\tfor (i = 0; i < ARRAY_SIZE(duplicate_count_by_type); i++)",
          "content_same": false
        },
        {
          "line": 2998,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"%s statistics:\\n\", argv[0])",
          "old_line_content": "\t\t\ttotal_count += object_count_by_type[i];",
          "new_line_content": "\t\tfprintf(stderr, \"%s statistics:\\n\", argv[0]);",
          "content_same": false
        },
        {
          "line": 3000,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Alloc'd objects: %10\" PRIuMAX \"\\n\", alloc_count)",
          "old_line_content": "\t\t\tduplicate_count += duplicate_count_by_type[i];",
          "new_line_content": "\t\tfprintf(stderr, \"Alloc'd objects: %10\" PRIuMAX \"\\n\", alloc_count);",
          "content_same": false
        },
        {
          "line": 3001,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Total objects:   %10\" PRIuMAX \" (%10\" PRIuMAX \" duplicates                  )\\n\", total_count, duplicate_count)",
          "old_line_content": "",
          "new_line_content": "\t\tfprintf(stderr, \"Total objects:   %10\" PRIuMAX \" (%10\" PRIuMAX \" duplicates                  )\\n\", total_count, duplicate_count);",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&s, 0, sizeof(s))",
          "old_line_content": "\t\t}",
          "new_line_content": "\tmemset(&s, 0, sizeof(s));",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": null,
          "new_api": "deflateInit",
          "old_text": null,
          "new_text": "deflateInit(&s, pack_compression_level)",
          "old_line_content": "\t} else",
          "new_line_content": "\tdeflateInit(&s, pack_compression_level);",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": null,
          "new_api": "deflateBound",
          "old_text": null,
          "new_text": "deflateBound(&s, s.avail_in)",
          "old_line_content": "\t} else {",
          "new_line_content": "\ts.avail_out = deflateBound(&s, s.avail_in);",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(s.avail_out)",
          "old_line_content": "\t\ts.next_in = (void *)dat->buf;",
          "new_line_content": "\ts.next_out = out = xmalloc(s.avail_out);",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": null,
          "new_api": "deflate",
          "old_text": null,
          "new_text": "deflate(&s, Z_FINISH)",
          "old_line_content": "\t\ts.avail_in = dat->len;",
          "new_line_content": "\twhile (deflate(&s, Z_FINISH) == Z_OK)",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": null,
          "new_api": "cycle_packfile",
          "old_text": null,
          "new_text": "cycle_packfile()",
          "old_line_content": "\t\t|| (pack_size + 60 + s.total_out) < pack_size) {",
          "new_line_content": "\t\tcycle_packfile();",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&s, 0, sizeof(s))",
          "old_line_content": "\t\tif (delta) {",
          "new_line_content": "\t\t\tmemset(&s, 0, sizeof(s));",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": null,
          "new_api": "deflate",
          "old_text": null,
          "new_text": "deflate(&s, Z_FINISH)",
          "old_line_content": "\t\t\ts.next_in = (void *)dat->buf;",
          "new_line_content": "\t\t\twhile (deflate(&s, Z_FINISH) == Z_OK)",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": null,
          "new_api": "crc32_begin",
          "old_text": null,
          "new_text": "crc32_begin(pack_file)",
          "old_line_content": "\te->idx.offset = pack_size;",
          "new_line_content": "\tcrc32_begin(pack_file);",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "encode_header",
          "old_text": null,
          "new_text": "encode_header(OBJ_OFS_DELTA, deltalen, hdr)",
          "old_line_content": "",
          "new_line_content": "\t\thdrlen = encode_header(OBJ_OFS_DELTA, deltalen, hdr);",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": null,
          "new_api": "sha1write",
          "old_text": null,
          "new_text": "sha1write(pack_file, hdr, hdrlen)",
          "old_line_content": "\t\tdelta_count_by_type[type]++;",
          "new_line_content": "\t\tsha1write(pack_file, hdr, hdrlen);",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": null,
          "new_api": "sha1write",
          "old_text": null,
          "new_text": "sha1write(pack_file, hdr + pos, sizeof(hdr) - pos)",
          "old_line_content": "",
          "new_line_content": "\t\tsha1write(pack_file, hdr + pos, sizeof(hdr) - pos);",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": null,
          "new_api": "sha1write",
          "old_text": null,
          "new_text": "sha1write(pack_file, hdr, hdrlen)",
          "old_line_content": "\t\tpack_size += sizeof(hdr) - pos;",
          "new_line_content": "\t\tsha1write(pack_file, hdr, hdrlen);",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": null,
          "new_api": "crc32_end",
          "old_text": null,
          "new_text": "crc32_end(pack_file)",
          "old_line_content": "",
          "new_line_content": "\te->idx.crc32 = crc32_end(pack_file);",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(out)",
          "old_line_content": "\tpack_size += s.total_out;",
          "new_line_content": "\tfree(out);",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(delta)",
          "old_line_content": "",
          "new_line_content": "\tfree(delta);",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "strbuf_swap",
          "old_text": null,
          "new_text": "strbuf_swap(&last->data, dat)",
          "old_line_content": "\tif (last) {",
          "new_line_content": "\t\t\tstrbuf_swap(&last->data, dat);",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": null,
          "new_api": "ftruncate",
          "old_text": null,
          "new_text": "ftruncate(pack_data->pack_fd, to)",
          "old_line_content": "}",
          "new_line_content": "\tif (ftruncate(pack_data->pack_fd, to)",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": null,
          "new_api": "lseek",
          "old_text": null,
          "new_text": "lseek(pack_data->pack_fd, to, SEEK_SET)",
          "old_line_content": "",
          "new_line_content": "\t || lseek(pack_data->pack_fd, to, SEEK_SET) != to)",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "die_errno",
          "old_text": null,
          "new_text": "die_errno(\"cannot truncate pack to skip duplicate\")",
          "old_line_content": "static void truncate_pack(off_t to, git_SHA_CTX *ctx)",
          "new_line_content": "\t\tdie_errno(\"cannot truncate pack to skip duplicate\");",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(in_sz)",
          "old_line_content": "",
          "new_line_content": "\tunsigned char *in_buf = xmalloc(in_sz);",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(out_sz)",
          "old_line_content": "static void stream_blob(uintmax_t len, unsigned char *sha1out, uintmax_t mark)",
          "new_line_content": "\tunsigned char *out_buf = xmalloc(out_sz);",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": null,
          "new_api": "cycle_packfile",
          "old_text": null,
          "new_text": "cycle_packfile()",
          "old_line_content": "",
          "new_line_content": "\t\tcycle_packfile();",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": null,
          "new_api": "sha1flush",
          "old_text": null,
          "new_text": "sha1flush(pack_file)",
          "old_line_content": "",
          "new_line_content": "\tsha1flush(pack_file);",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf((char *)out_buf, out_sz, \"blob %\" PRIuMAX, len)",
          "old_line_content": "\t/* preserve the pack_file SHA1 ctx in case we have to truncate later */",
          "new_line_content": "\thdrlen = snprintf((char *)out_buf, out_sz, \"blob %\" PRIuMAX, len) + 1;",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"impossibly large object header\")",
          "old_line_content": "\tpack_file_ctx = pack_file->ctx;",
          "new_line_content": "\t\tdie(\"impossibly large object header\");",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": null,
          "new_api": "git_SHA1_Update",
          "old_text": null,
          "new_text": "git_SHA1_Update(&c, out_buf, hdrlen)",
          "old_line_content": "\tif (out_sz <= hdrlen)",
          "new_line_content": "\tgit_SHA1_Update(&c, out_buf, hdrlen);",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": null,
          "new_api": "crc32_begin",
          "old_text": null,
          "new_text": "crc32_begin(pack_file)",
          "old_line_content": "",
          "new_line_content": "\tcrc32_begin(pack_file);",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": null,
          "new_api": "deflateInit",
          "old_text": null,
          "new_text": "deflateInit(&s, pack_compression_level)",
          "old_line_content": "",
          "new_line_content": "\tdeflateInit(&s, pack_compression_level);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": null,
          "new_api": "encode_header",
          "old_text": null,
          "new_text": "encode_header(OBJ_BLOB, len, out_buf)",
          "old_line_content": "",
          "new_line_content": "\thdrlen = encode_header(OBJ_BLOB, len, out_buf);",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(in_buf, 1, cnt, stdin)",
          "old_line_content": "",
          "new_line_content": "\t\t\tsize_t n = fread(in_buf, 1, cnt, stdin);",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": null,
          "new_api": "feof",
          "old_text": null,
          "new_text": "feof(stdin)",
          "old_line_content": "\twhile (status != Z_STREAM_END) {",
          "new_line_content": "\t\t\tif (!n && feof(stdin))",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"EOF in data (%\" PRIuMAX \" bytes remaining)\", len)",
          "old_line_content": "\t\tif (0 < len && !s.avail_in) {",
          "new_line_content": "\t\t\t\tdie(\"EOF in data (%\" PRIuMAX \" bytes remaining)\", len);",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": null,
          "new_api": "deflate",
          "old_text": null,
          "new_text": "deflate(&s, len ? 0 : Z_FINISH)",
          "old_line_content": "\t\t\ts.avail_in = n;",
          "new_line_content": "\t\tstatus = deflate(&s, len ? 0 : Z_FINISH);",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"unexpected deflate failure: %d\", status)",
          "old_line_content": "\t\tcase Z_BUF_ERROR:",
          "new_line_content": "\t\t\tdie(\"unexpected deflate failure: %d\", status);",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": null,
          "new_api": "deflateEnd",
          "old_text": null,
          "new_text": "deflateEnd(&s)",
          "old_line_content": "\t\tdefault:",
          "new_line_content": "\tdeflateEnd(&s);",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": null,
          "new_api": "insert_object",
          "old_text": null,
          "new_text": "insert_object(sha1)",
          "old_line_content": "",
          "new_line_content": "\te = insert_object(sha1);",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": null,
          "new_api": "insert_mark",
          "old_text": null,
          "new_text": "insert_mark(mark, e)",
          "old_line_content": "",
          "new_line_content": "\t\tinsert_mark(mark, e);",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": null,
          "new_api": "find_sha1_pack",
          "old_text": null,
          "new_text": "find_sha1_pack(sha1, packed_git)",
          "old_line_content": "\tif (e->idx.offset) {",
          "new_line_content": "\t} else if (find_sha1_pack(sha1, packed_git)) {",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": null,
          "new_api": "truncate_pack",
          "old_text": null,
          "new_text": "truncate_pack(offset, &pack_file_ctx)",
          "old_line_content": "\t\te->type = OBJ_BLOB;",
          "new_line_content": "\t\ttruncate_pack(offset, &pack_file_ctx);",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": null,
          "new_api": "crc32_end",
          "old_text": null,
          "new_text": "crc32_end(pack_file)",
          "old_line_content": "\t\te->depth = 0;",
          "new_line_content": "\t\te->idx.crc32 = crc32_end(pack_file);",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(in_buf)",
          "old_line_content": "\t\tobject_count++;",
          "new_line_content": "\tfree(in_buf);",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(out_buf)",
          "old_line_content": "\t\tobject_count_by_type[OBJ_BLOB]++;",
          "new_line_content": "\tfree(out_buf);",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": null,
          "new_api": "close_pack_windows",
          "old_text": null,
          "new_text": "close_pack_windows(p)",
          "old_line_content": "\t\t * data is stale and is not valid.  Closing all windows",
          "new_line_content": "\t\tclose_pack_windows(p);",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": null,
          "new_api": "sha1flush",
          "old_text": null,
          "new_text": "sha1flush(pack_file)",
          "old_line_content": "\t\t * and updating the packfile length ensures we can read",
          "new_line_content": "\t\tsha1flush(pack_file);",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": null,
          "new_api": "unpack_entry",
          "old_text": null,
          "new_text": "unpack_entry(p, oe->idx.offset, &type, sizep)",
          "old_line_content": "\t\t * we don't actually create the footer here.",
          "new_line_content": "\treturn unpack_entry(p, oe->idx.offset, &type, sizep);",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": null,
          "new_api": "new_tree_content",
          "old_text": null,
          "new_text": "new_tree_content(8)",
          "old_line_content": "\tunsigned long size;",
          "new_line_content": "\troot->tree = t = new_tree_content(8);",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": null,
          "new_api": "is_null_sha1",
          "old_text": null,
          "new_text": "is_null_sha1(sha1)",
          "old_line_content": "\tchar *buf;",
          "new_line_content": "\tif (is_null_sha1(sha1))",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"Not a tree: %s\", sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": null,
          "new_api": "gfi_unpack_entry",
          "old_text": null,
          "new_text": "gfi_unpack_entry(myoe, &size)",
          "old_line_content": "\tif (myoe && myoe->pack_id != MAX_PACK_ID) {",
          "new_line_content": "\t\tbuf = gfi_unpack_entry(myoe, &size);",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": null,
          "new_api": "read_sha1_file",
          "old_text": null,
          "new_text": "read_sha1_file(sha1, &type, &size)",
          "old_line_content": "\t\tif (!buf)",
          "new_line_content": "\t\tbuf = read_sha1_file(sha1, &type, &size);",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\t\tdie(\"Can't load tree %s\", sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": null,
          "new_api": "new_tree_entry",
          "old_text": null,
          "new_text": "new_tree_entry()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstruct tree_entry *e = new_tree_entry();",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": null,
          "new_api": "grow_tree_content",
          "old_text": null,
          "new_text": "grow_tree_content(t, t->entry_count)",
          "old_line_content": "\twhile (c != (buf + size)) {",
          "new_line_content": "\t\t\troot->tree = t = grow_tree_content(t, t->entry_count);",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(sha1)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"Corrupt mode in %s\", sha1_to_hex(sha1));",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(e->versions[1].sha1, (unsigned char *)c)",
          "old_line_content": "\t\te->versions[0].mode = e->versions[1].mode;",
          "new_line_content": "\t\thashcpy(e->versions[1].sha1, (unsigned char *)c);",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": null,
          "new_api": "base_name_compare",
          "old_text": null,
          "new_text": "base_name_compare(\n\t\ta->name->str_dat, a->name->str_len, a->versions[0].mode,\n\t\tb->name->str_dat, b->name->str_len, b->versions[0].mode)",
          "old_line_content": "static int tecmp0 (const void *_a, const void *_b)",
          "new_line_content": "\treturn base_name_compare(",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": null,
          "new_api": "base_name_compare",
          "old_text": null,
          "new_text": "base_name_compare(\n\t\ta->name->str_dat, a->name->str_len, a->versions[1].mode,\n\t\tb->name->str_dat, b->name->str_len, b->versions[1].mode)",
          "old_line_content": "static int tecmp1 (const void *_a, const void *_b)",
          "new_line_content": "\treturn base_name_compare(",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": null,
          "new_api": "qsort",
          "old_text": null,
          "new_text": "qsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp0)",
          "old_line_content": "\tsize_t maxlen = 0;",
          "new_line_content": "\t\tqsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp0);",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "qsort",
          "old_text": null,
          "new_text": "qsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp1)",
          "old_line_content": "",
          "new_line_content": "\t\tqsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp1);",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": null,
          "new_api": "strbuf_reset",
          "old_text": null,
          "new_text": "strbuf_reset(b)",
          "old_line_content": "\t\tif (t->entries[i]->versions[v].mode)",
          "new_line_content": "\tstrbuf_reset(b);",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": null,
          "new_api": "strbuf_grow",
          "old_text": null,
          "new_text": "strbuf_grow(b, maxlen)",
          "old_line_content": "\t\t\tmaxlen += t->entries[i]->name->str_len + 34;",
          "new_line_content": "\tstrbuf_grow(b, maxlen);",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(b, \"%o %s%c\", (unsigned int)e->versions[v].mode,\n\t\t\t\t\te->name->str_dat, '\\0')",
          "old_line_content": "\tfor (i = 0; i < t->entry_count; i++) {",
          "new_line_content": "\t\tstrbuf_addf(b, \"%o %s%c\", (unsigned int)e->versions[v].mode,",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": null,
          "new_api": "strbuf_add",
          "old_text": null,
          "new_text": "strbuf_add(b, e->versions[v].sha1, 20)",
          "old_line_content": "\t\tif (!e->versions[v].mode)",
          "new_line_content": "\t\tstrbuf_add(b, e->versions[v].sha1, 20);",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": null,
          "new_api": "is_null_sha1",
          "old_text": null,
          "new_text": "is_null_sha1(root->versions[1].sha1)",
          "old_line_content": "\tunsigned int i, j, del;",
          "new_line_content": "\tif (!is_null_sha1(root->versions[1].sha1))",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": null,
          "new_api": "store_tree",
          "old_text": null,
          "new_text": "store_tree(t->entries[i])",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\t\t\tstore_tree(t->entries[i]);",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": null,
          "new_api": "find_object",
          "old_text": null,
          "new_text": "find_object(root->versions[0].sha1)",
          "old_line_content": "\t\tif (t->entries[i]->tree)",
          "new_line_content": "\tle = find_object(root->versions[0].sha1);",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": null,
          "new_api": "mktree",
          "old_text": null,
          "new_text": "mktree(t, 0, &old_tree)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmktree(t, 0, &old_tree);",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": null,
          "new_api": "mktree",
          "old_text": null,
          "new_text": "mktree(t, 1, &new_tree)",
          "old_line_content": "\t\tlo.offset = le->idx.offset;",
          "new_line_content": "\tmktree(t, 1, &new_tree);",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": null,
          "new_api": "store_object",
          "old_text": null,
          "new_text": "store_object(OBJ_TREE, &new_tree, &lo, root->versions[1].sha1, 0)",
          "old_line_content": "\t\tlo.depth = t->delta_depth;",
          "new_line_content": "\tstore_object(OBJ_TREE, &new_tree, &lo, root->versions[1].sha1, 0);",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(e->versions[0].sha1, e->versions[1].sha1)",
          "old_line_content": "\tfor (i = 0, j = 0, del = 0; i < t->entry_count; i++) {",
          "new_line_content": "\t\t\thashcpy(e->versions[0].sha1, e->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": null,
          "new_api": "release_tree_entry",
          "old_text": null,
          "new_text": "release_tree_entry(e)",
          "old_line_content": "\t\t\te->versions[0].mode = e->versions[1].mode;",
          "new_line_content": "\t\t\trelease_tree_entry(e);",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p, '/')",
          "old_line_content": "\tconst char *slash1;",
          "new_line_content": "\tslash1 = strchr(p, '/');",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Empty path component found in input\")",
          "old_line_content": "\t\tn = slash1 - p;",
          "new_line_content": "\t\tdie(\"Empty path component found in input\");",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(mode)",
          "old_line_content": "\telse",
          "new_line_content": "\tif (!slash1 && !S_ISDIR(mode) && subtree)",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(mode)",
          "old_line_content": "\tfor (i = 0; i < t->entry_count; i++) {",
          "new_line_content": "\t\t\t\tif (!S_ISDIR(mode)",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(e->versions[1].sha1, sha1)",
          "old_line_content": "\t\t\t\t\t\t&& e->versions[1].mode == mode",
          "new_line_content": "\t\t\t\thashcpy(e->versions[1].sha1, sha1);",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": null,
          "new_api": "release_tree_content_recursive",
          "old_text": null,
          "new_text": "release_tree_content_recursive(e->tree)",
          "old_line_content": "\t\t\t\t\treturn 0;",
          "new_line_content": "\t\t\t\t\trelease_tree_content_recursive(e->tree);",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(e->versions[1].mode)",
          "old_line_content": "\t\t\t\te->tree = subtree;",
          "new_line_content": "\t\t\tif (!S_ISDIR(e->versions[1].mode)) {",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": null,
          "new_api": "tree_content_set",
          "old_text": null,
          "new_text": "tree_content_set(e, slash1 + 1, sha1, mode, subtree)",
          "old_line_content": "\t\t\t\te->versions[1].mode = S_IFDIR;",
          "new_line_content": "\t\t\tif (tree_content_set(e, slash1 + 1, sha1, mode, subtree)) {",
          "content_same": false
        },
        {
          "line": 1508,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(root->versions[1].sha1)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\thashclr(root->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": null,
          "new_api": "grow_tree_content",
          "old_text": null,
          "new_text": "grow_tree_content(t, t->entry_count)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\troot->tree = t = grow_tree_content(t, t->entry_count);",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": null,
          "new_api": "new_tree_entry",
          "old_text": null,
          "new_text": "new_tree_entry()",
          "old_line_content": "\t}",
          "new_line_content": "\te = new_tree_entry();",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": null,
          "new_api": "to_atom",
          "old_text": null,
          "new_text": "to_atom(p, n)",
          "old_line_content": "",
          "new_line_content": "\te->name = to_atom(p, n);",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": null,
          "new_api": "new_tree_content",
          "old_text": null,
          "new_text": "new_tree_content(8)",
          "old_line_content": "\te->versions[0].mode = 0;",
          "new_line_content": "\t\te->tree = new_tree_content(8);",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": null,
          "new_api": "tree_content_set",
          "old_text": null,
          "new_text": "tree_content_set(e, slash1 + 1, sha1, mode, subtree)",
          "old_line_content": "\tt->entries[t->entry_count++] = e;",
          "new_line_content": "\t\ttree_content_set(e, slash1 + 1, sha1, mode, subtree);",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(root->versions[1].sha1)",
          "old_line_content": "\t\te->tree = subtree;",
          "new_line_content": "\thashclr(root->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p, '/')",
          "old_line_content": "\tconst char *slash1;",
          "new_line_content": "\tslash1 = strchr(p, '/');",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(e->versions[1].mode)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (!slash1 || !S_ISDIR(e->versions[1].mode))",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(backup_leaf, e, sizeof(*backup_leaf))",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\tmemcpy(backup_leaf, e, sizeof(*backup_leaf));",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": null,
          "new_api": "release_tree_content_recursive",
          "old_text": null,
          "new_text": "release_tree_content_recursive(e->tree)",
          "old_line_content": "del_entry:",
          "new_line_content": "\t\trelease_tree_content_recursive(e->tree);",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(e->versions[1].sha1)",
          "old_line_content": "\telse if (e->tree)",
          "new_line_content": "\thashclr(e->versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p, '/')",
          "old_line_content": "\tconst char *slash1;",
          "new_line_content": "\tslash1 = strchr(p, '/');",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(leaf, e, sizeof(*leaf))",
          "old_line_content": "\tfor (i = 0; i < t->entry_count; i++) {",
          "new_line_content": "\t\t\t\tmemcpy(leaf, e, sizeof(*leaf));",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": null,
          "new_api": "is_null_sha1",
          "old_text": null,
          "new_text": "is_null_sha1(e->versions[1].sha1)",
          "old_line_content": "\t\te = t->entries[i];",
          "new_line_content": "\t\t\t\tif (e->tree && is_null_sha1(e->versions[1].sha1))",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(e->versions[1].mode)",
          "old_line_content": "\t\t\t\telse",
          "new_line_content": "\t\t\tif (!S_ISDIR(e->versions[1].mode))",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": null,
          "new_api": "load_tree",
          "old_text": null,
          "new_text": "load_tree(e)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tload_tree(e);",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": null,
          "new_api": "is_null_sha1",
          "old_text": null,
          "new_text": "is_null_sha1(b->sha1)",
          "old_line_content": "\tstatic const char *msg = \"fast-import\";",
          "new_line_content": "\tif (is_null_sha1(b->sha1))",
          "content_same": false
        },
        {
          "line": 1630,
          "old_api": null,
          "new_api": "read_ref",
          "old_text": null,
          "new_text": "read_ref(b->name, old_sha1)",
          "old_line_content": "\tunsigned char old_sha1[20];",
          "new_line_content": "\tif (read_ref(b->name, old_sha1))",
          "content_same": false
        },
        {
          "line": 1631,
          "old_api": null,
          "new_api": "hashclr",
          "old_text": null,
          "new_text": "hashclr(old_sha1)",
          "old_line_content": "",
          "new_line_content": "\t\thashclr(old_sha1);",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": null,
          "new_api": "unlock_ref",
          "old_text": null,
          "new_text": "unlock_ref(lock)",
          "old_line_content": "",
          "new_line_content": "\t\t\tunlock_ref(lock);",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"Not updating %s\"\n\t\t\t\t\" (new tip %s does not contain %s)\",\n\t\t\t\tb->name, sha1_to_hex(b->sha1), sha1_to_hex(old_sha1))",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\twarning(\"Not updating %s\"",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"Unable to update %s\", b->name)",
          "old_line_content": "\t\t\treturn -1;",
          "new_line_content": "\t\treturn error(\"Unable to update %s\", b->name);",
          "content_same": false
        },
        {
          "line": 1665,
          "old_api": null,
          "new_api": "update_branch",
          "old_text": null,
          "new_text": "update_branch(b)",
          "old_line_content": "\tstruct branch *b;",
          "new_line_content": "\t\t\tfailure |= update_branch(b);",
          "content_same": false
        },
        {
          "line": 1677,
          "old_api": null,
          "new_api": "sprintf",
          "old_text": null,
          "new_text": "sprintf(ref_name, \"tags/%s\", t->name)",
          "old_line_content": "\tstruct ref_lock *lock;",
          "new_line_content": "\t\tsprintf(ref_name, \"tags/%s\", t->name);",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": null,
          "new_api": "lock_ref_sha1",
          "old_text": null,
          "new_text": "lock_ref_sha1(ref_name, NULL)",
          "old_line_content": "\tchar ref_name[PATH_MAX];",
          "new_line_content": "\t\tlock = lock_ref_sha1(ref_name, NULL);",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": null,
          "new_api": "write_ref_sha1",
          "old_text": null,
          "new_text": "write_ref_sha1(lock, t->sha1, msg)",
          "old_line_content": "",
          "new_line_content": "\t\tif (!lock || write_ref_sha1(lock, t->sha1, msg) < 0)",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"Unable to update %s\", ref_name)",
          "old_line_content": "\tfor (t = first_tag; t; t = t->next_tag) {",
          "new_line_content": "\t\t\tfailure |= error(\"Unable to update %s\", ref_name);",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": null,
          "new_api": "dump_marks_helper",
          "old_text": null,
          "new_text": "dump_marks_helper(f, (base + k) << m->shift,\n\t\t\t\t\tm->data.sets[k])",
          "old_line_content": "\tuintmax_t k;",
          "new_line_content": "\t\t\t\tdump_marks_helper(f, (base + k) << m->shift,",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(f, \":%\" PRIuMAX \" %s\\n\", base + k,\n\t\t\t\t\tsha1_to_hex(m->data.marked[k]->idx.sha1))",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tfprintf(f, \":%\" PRIuMAX \" %s\\n\", base + k,",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(m->data.marked[k]->idx.sha1)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\t\t\t\tsha1_to_hex(m->data.marked[k]->idx.sha1));",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": null,
          "new_api": "hold_lock_file_for_update",
          "old_text": null,
          "new_text": "hold_lock_file_for_update(&mark_lock, export_marks_file, 0)",
          "old_line_content": "",
          "new_line_content": "\tmark_fd = hold_lock_file_for_update(&mark_lock, export_marks_file, 0);",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"Unable to write marks file %s: %s\",\n\t\t\texport_marks_file, strerror(errno))",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\t\tfailure |= error(\"Unable to write marks file %s: %s\",",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "",
          "new_line_content": "\t\t\texport_marks_file, strerror(errno));",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": null,
          "new_api": "rollback_lock_file",
          "old_text": null,
          "new_text": "rollback_lock_file(&mark_lock)",
          "old_line_content": "",
          "new_line_content": "\t\trollback_lock_file(&mark_lock);",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(saved_errno)",
          "old_line_content": "\tif (!f) {",
          "new_line_content": "\t\t\texport_marks_file, strerror(saved_errno));",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": null,
          "new_api": "dump_marks_helper",
          "old_text": null,
          "new_text": "dump_marks_helper(f, 0, marks)",
          "old_line_content": "\t * won't try to close() it.",
          "new_line_content": "\tdump_marks_helper(f, 0, marks);",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(f)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (ferror(f) || fclose(f)) {",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": null,
          "new_api": "rollback_lock_file",
          "old_text": null,
          "new_text": "rollback_lock_file(&mark_lock)",
          "old_line_content": "",
          "new_line_content": "\t\trollback_lock_file(&mark_lock);",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": null,
          "new_api": "rollback_lock_file",
          "old_text": null,
          "new_text": "rollback_lock_file(&mark_lock)",
          "old_line_content": "\t}",
          "new_line_content": "\t\trollback_lock_file(&mark_lock);",
          "content_same": false
        },
        {
          "line": 1748,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"Unable to commit marks file %s: %s\",\n\t\t\texport_marks_file, strerror(saved_errno))",
          "old_line_content": "",
          "new_line_content": "\t\tfailure |= error(\"Unable to commit marks file %s: %s\",",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": null,
          "new_api": "fopen",
          "old_text": null,
          "new_text": "fopen(import_marks_file, \"r\")",
          "old_line_content": "",
          "new_line_content": "\tFILE *f = fopen(import_marks_file, \"r\");",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": null,
          "new_api": "die_errno",
          "old_text": null,
          "new_text": "die_errno(\"cannot read '%s'\", import_marks_file)",
          "old_line_content": "{",
          "new_line_content": "\t\tdie_errno(\"cannot read '%s'\", import_marks_file);",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": null,
          "new_api": "fgets",
          "old_text": null,
          "new_text": "fgets(line, sizeof(line), f)",
          "old_line_content": "\tchar line[512];",
          "new_line_content": "\twhile (fgets(line, sizeof(line), f)) {",
          "content_same": false
        },
        {
          "line": 1766,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(line, '\\n')",
          "old_line_content": "\t\tchar *end;",
          "new_line_content": "\t\tend = strchr(line, '\\n');",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"corrupt mark line: %s\", line)",
          "old_line_content": "\t\tstruct object_entry *e;",
          "new_line_content": "\t\t\tdie(\"corrupt mark line: %s\", line);",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"corrupt mark line: %s\", line)",
          "old_line_content": "\t\t*end = 0;",
          "new_line_content": "\t\t\tdie(\"corrupt mark line: %s\", line);",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": null,
          "new_api": "insert_object",
          "old_text": null,
          "new_text": "insert_object(sha1)",
          "old_line_content": "\t\tif (!e) {",
          "new_line_content": "\t\t\te = insert_object(sha1);",
          "content_same": false
        },
        {
          "line": 1784,
          "old_api": null,
          "new_api": "insert_mark",
          "old_text": null,
          "new_text": "insert_mark(mark, e)",
          "old_line_content": "\t\t\te->type = type;",
          "new_line_content": "\t\tinsert_mark(mark, e);",
          "content_same": false
        },
        {
          "line": 1786,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(f)",
          "old_line_content": "\t\t\te->idx.offset = 1; /* just not zero! */",
          "new_line_content": "\tfclose(f);",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": null,
          "new_api": "strbuf_detach",
          "old_text": null,
          "new_text": "strbuf_detach(&command_buf, NULL)",
          "old_line_content": "\t\t\tunread_command_buf = 0;",
          "new_line_content": "\t\t\tstrbuf_detach(&command_buf, NULL);",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": null,
          "new_api": "strbuf_getline",
          "old_text": null,
          "new_text": "strbuf_getline(&command_buf, stdin, '\\n')",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\tstdin_eof = strbuf_getline(&command_buf, stdin, '\\n');",
          "content_same": false
        },
        {
          "line": 1811,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(command_buf.buf, \"feature \")",
          "old_line_content": "\t\t\tif (stdin_eof)",
          "new_line_content": "\t\t\t\t&& prefixcmp(command_buf.buf, \"feature \")",
          "content_same": false
        },
        {
          "line": 1812,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(command_buf.buf, \"option \")",
          "old_line_content": "\t\t\t\treturn EOF;",
          "new_line_content": "\t\t\t\t&& prefixcmp(command_buf.buf, \"option \")) {",
          "content_same": false
        },
        {
          "line": 1813,
          "old_api": null,
          "new_api": "parse_argv",
          "old_text": null,
          "new_text": "parse_argv()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tparse_argv();",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(rc->buf)",
          "old_line_content": "\t\t\telse {",
          "new_line_content": "\t\t\t\tfree(rc->buf);",
          "content_same": false
        },
        {
          "line": 1839,
          "old_api": null,
          "new_api": "fgetc",
          "old_text": null,
          "new_text": "fgetc(stdin)",
          "old_line_content": "}",
          "new_line_content": "\tint term_char = fgetc(stdin);",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": null,
          "new_api": "ungetc",
          "old_text": null,
          "new_text": "ungetc(term_char, stdin)",
          "old_line_content": "static void skip_optional_lf(void)",
          "new_line_content": "\t\tungetc(term_char, stdin);",
          "content_same": false
        },
        {
          "line": 1846,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(command_buf.buf, \"mark :\")",
          "old_line_content": "}",
          "new_line_content": "\tif (!prefixcmp(command_buf.buf, \"mark :\")) {",
          "content_same": false
        },
        {
          "line": 1847,
          "old_api": null,
          "new_api": "strtoumax",
          "old_text": null,
          "new_text": "strtoumax(command_buf.buf + 6, NULL, 10)",
          "old_line_content": "",
          "new_line_content": "\t\tnext_mark = strtoumax(command_buf.buf + 6, NULL, 10);",
          "content_same": false
        },
        {
          "line": 1848,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "static void parse_mark(void)",
          "new_line_content": "\t\tread_next_command();",
          "content_same": false
        },
        {
          "line": 1856,
          "old_api": null,
          "new_api": "strbuf_reset",
          "old_text": null,
          "new_text": "strbuf_reset(sb)",
          "old_line_content": "}",
          "new_line_content": "\tstrbuf_reset(sb);",
          "content_same": false
        },
        {
          "line": 1858,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(command_buf.buf, \"data \")",
          "old_line_content": "static int parse_data(struct strbuf *sb, uintmax_t limit, uintmax_t *len_res)",
          "new_line_content": "\tif (prefixcmp(command_buf.buf, \"data \"))",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Expected 'data n' command, found: %s\", command_buf.buf)",
          "old_line_content": "{",
          "new_line_content": "\t\tdie(\"Expected 'data n' command, found: %s\", command_buf.buf);",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(command_buf.buf + 5, \"<<\")",
          "old_line_content": "",
          "new_line_content": "\tif (!prefixcmp(command_buf.buf + 5, \"<<\")) {",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": null,
          "new_api": "strbuf_getline",
          "old_text": null,
          "new_text": "strbuf_getline(&command_buf, stdin, '\\n')",
          "old_line_content": "\t\tsize_t term_len = command_buf.len - 5 - 2;",
          "new_line_content": "\t\t\tif (strbuf_getline(&command_buf, stdin, '\\n') == EOF)",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"EOF in data (terminator '%s' not found)\", term)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tdie(\"EOF in data (terminator '%s' not found)\", term);",
          "content_same": false
        },
        {
          "line": 1870,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(term, command_buf.buf)",
          "old_line_content": "\t\tfor (;;) {",
          "new_line_content": "\t\t\t\t&& !strcmp(term, command_buf.buf))",
          "content_same": false
        },
        {
          "line": 1873,
          "old_api": null,
          "new_api": "strbuf_addch",
          "old_text": null,
          "new_text": "strbuf_addch(sb, '\\n')",
          "old_line_content": "\t\t\tif (term_len == command_buf.len",
          "new_line_content": "\t\t\tstrbuf_addch(sb, '\\n');",
          "content_same": false
        },
        {
          "line": 1875,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(term)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\tfree(term);",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": null,
          "new_api": "strtoumax",
          "old_text": null,
          "new_text": "strtoumax(command_buf.buf + 5, NULL, 10)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tuintmax_t len = strtoumax(command_buf.buf + 5, NULL, 10);",
          "content_same": false
        },
        {
          "line": 1886,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"data is too large to use in this context\")",
          "old_line_content": "\t\t\t*len_res = len;",
          "new_line_content": "\t\t\tdie(\"data is too large to use in this context\");",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": null,
          "new_api": "strbuf_fread",
          "old_text": null,
          "new_text": "strbuf_fread(sb, length - n, stdin)",
          "old_line_content": "\t\tif (length < len)",
          "new_line_content": "\t\t\tsize_t s = strbuf_fread(sb, length - n, stdin);",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"EOF in data (%lu bytes remaining)\",\n\t\t\t\t\t(unsigned long)(length - n))",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tdie(\"EOF in data (%lu bytes remaining)\",",
          "content_same": false
        },
        {
          "line": 1897,
          "old_api": null,
          "new_api": "skip_optional_lf",
          "old_text": null,
          "new_text": "skip_optional_lf()",
          "old_line_content": "\t\t\tn += s;",
          "new_line_content": "\tskip_optional_lf();",
          "content_same": false
        },
        {
          "line": 1909,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(src, &endp, 10)",
          "old_line_content": "\tunsigned long num;",
          "new_line_content": "\tnum = strtoul(src, &endp, 10);",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(src + 1, &endp, 10)",
          "old_line_content": "\tsrc = endp + 1;",
          "new_line_content": "\tnum = strtoul(src + 1, &endp, 10);",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(result, orig_src)",
          "old_line_content": "\tif (errno || endp == src + 1 || *endp || (endp - orig_src) >= maxlen ||",
          "new_line_content": "\tstrcpy(result, orig_src);",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": null,
          "new_api": "strrchr",
          "old_text": null,
          "new_text": "strrchr(buf, '>')",
          "old_line_content": "\tconst char *gt;",
          "new_line_content": "\tgt = strrchr(buf, '>');",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Missing > in ident string: %s\", buf)",
          "old_line_content": "\tchar *ident;",
          "new_line_content": "\t\tdie(\"Missing > in ident string: %s\", buf);",
          "content_same": false
        },
        {
          "line": 1938,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Missing space after > in ident string: %s\", buf)",
          "old_line_content": "\tif (!gt)",
          "new_line_content": "\t\tdie(\"Missing space after > in ident string: %s\", buf);",
          "content_same": false
        },
        {
          "line": 1941,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(name_len + 24)",
          "old_line_content": "\tif (*gt != ' ')",
          "new_line_content": "\tident = xmalloc(name_len + 24);",
          "content_same": false
        },
        {
          "line": 1947,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Invalid raw date \\\"%s\\\" in ident: %s\", gt, buf)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdie(\"Invalid raw date \\\"%s\\\" in ident: %s\", gt, buf);",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": null,
          "new_api": "datestamp",
          "old_text": null,
          "new_text": "datestamp(ident + name_len, 24)",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "\t\tdatestamp(ident + name_len, 24);",
          "content_same": false
        },
        {
          "line": 1971,
          "old_api": null,
          "new_api": "parse_data",
          "old_text": null,
          "new_text": "parse_data(&buf, big_file_threshold, &len)",
          "old_line_content": "{",
          "new_line_content": "\tif (parse_data(&buf, big_file_threshold, &len))",
          "content_same": false
        },
        {
          "line": 1972,
          "old_api": null,
          "new_api": "store_object",
          "old_text": null,
          "new_text": "store_object(OBJ_BLOB, &buf, last, sha1out, mark)",
          "old_line_content": "\tstatic struct strbuf buf = STRBUF_INIT;",
          "new_line_content": "\t\tstore_object(OBJ_BLOB, &buf, last, sha1out, mark);",
          "content_same": false
        },
        {
          "line": 1980,
          "old_api": null,
          "new_api": "skip_optional_lf",
          "old_text": null,
          "new_text": "skip_optional_lf()",
          "old_line_content": "\t\t\tlast->offset = 0;",
          "new_line_content": "\t\tskip_optional_lf();",
          "content_same": false
        },
        {
          "line": 1986,
          "old_api": null,
          "new_api": "read_next_command",
          "old_text": null,
          "new_text": "read_next_command()",
          "old_line_content": "}",
          "new_line_content": "\tread_next_command();",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": null,
          "new_api": "parse_mark",
          "old_text": null,
          "new_text": "parse_mark()",
          "old_line_content": "",
          "new_line_content": "\tparse_mark();",
          "content_same": false
        },
        {
          "line": 1988,
          "old_api": null,
          "new_api": "parse_and_store_blob",
          "old_text": null,
          "new_text": "parse_and_store_blob(&last_blob, NULL, next_mark)",
          "old_line_content": "static void parse_new_blob(void)",
          "new_line_content": "\tparse_and_store_blob(&last_blob, NULL, next_mark);",
          "content_same": false
        },
        {
          "line": 2016,
          "old_api": null,
          "new_api": "release_tree_content_recursive",
          "old_text": null,
          "new_text": "release_tree_content_recursive(e->branch_tree.tree)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\trelease_tree_content_recursive(e->branch_tree.tree);",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": null,
          "new_api": "load_tree",
          "old_text": null,
          "new_text": "load_tree(&b->branch_tree)",
          "old_line_content": "}",
          "new_line_content": "\tload_tree(&b->branch_tree);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2052,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Too large fanout (%u)\", fanout)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Too large fanout (%u)\", fanout);",
          "new_line_content": "\t\tpath[i++] = '/';",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(path + i, hex_sha1 + j, 40 - j)",
          "new_text": null,
          "old_line_content": "\tmemcpy(path + i, hex_sha1 + j, 40 - j);",
          "new_line_content": "static uintmax_t do_change_note_fanout(",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(fullpath + tmp_fullpath_len, e->name->str_dat,\n\t\t       e->name->str_len)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(fullpath + tmp_fullpath_len, e->name->str_dat,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": "get_sha1_hex",
          "new_api": null,
          "old_text": "get_sha1_hex(hex_sha1, sha1)",
          "new_text": null,
          "old_line_content": "\t\tif (tmp_hex_sha1_len == 40 && !get_sha1_hex(hex_sha1, sha1)) {",
          "new_line_content": "\t\t\t\t/* Note entry is in correct location */",
          "content_same": false
        },
        {
          "line": 2106,
          "old_api": "construct_path_with_fanout",
          "new_api": null,
          "old_text": "construct_path_with_fanout(hex_sha1, fanout, realpath)",
          "new_text": null,
          "old_line_content": "\t\t\tconstruct_path_with_fanout(hex_sha1, fanout, realpath);",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2107,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(fullpath, realpath)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(fullpath, realpath)) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2114,
          "old_api": "tree_content_remove",
          "new_api": null,
          "old_text": "tree_content_remove(orig_root, fullpath, &leaf)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!tree_content_remove(orig_root, fullpath, &leaf))",
          "new_line_content": "\t\t\t\tleaf.versions[1].mode,",
          "content_same": false
        },
        {
          "line": 2115,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Failed to remove path %s\", fullpath)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"Failed to remove path %s\", fullpath);",
          "new_line_content": "\t\t\t\tleaf.tree);",
          "content_same": false
        },
        {
          "line": 2123,
          "old_api": "load_tree",
          "new_api": null,
          "old_text": "load_tree(e)",
          "new_text": null,
          "old_line_content": "\t\t\t\tload_tree(e);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": "do_change_note_fanout",
          "new_api": null,
          "old_text": "do_change_note_fanout(orig_root, e,\n\t\t\t\thex_sha1, tmp_hex_sha1_len,\n\t\t\t\tfullpath, tmp_fullpath_len, fanout)",
          "new_text": null,
          "old_line_content": "\t\t\tnum_notes += do_change_note_fanout(orig_root, e,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2139,
          "old_api": "do_change_note_fanout",
          "new_api": null,
          "old_text": "do_change_note_fanout(root, root, hex_sha1, 0, path, 0, fanout)",
          "new_text": null,
          "old_line_content": "\treturn do_change_note_fanout(root, root, hex_sha1, 0, path, 0, fanout);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": "get_mode",
          "new_api": null,
          "old_text": "get_mode(p, &mode)",
          "new_text": null,
          "old_line_content": "\tp = get_mode(p, &mode);",
          "new_line_content": "\tcase 0644:",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Corrupt mode: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Corrupt mode: %s\", command_buf.buf);",
          "new_line_content": "\t\tmode |= S_IFREG;",
          "content_same": false
        },
        {
          "line": 2165,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Corrupt mode: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Corrupt mode: %s\", command_buf.buf);",
          "new_line_content": "\t\tchar *x;",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": "strtoumax",
          "new_api": null,
          "old_text": "strtoumax(p + 1, &x, 10)",
          "new_text": null,
          "old_line_content": "\t\toe = find_mark(strtoumax(p + 1, &x, 10));",
          "new_line_content": "\t\tinline_data = 1;",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(sha1, oe->idx.sha1)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(sha1, oe->idx.sha1);",
          "new_line_content": "\t\tp += 6;",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": "get_sha1_hex",
          "new_api": null,
          "old_text": "get_sha1_hex(p, sha1)",
          "new_text": null,
          "old_line_content": "\t\tif (get_sha1_hex(p, sha1))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2178,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Invalid SHA1: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Invalid SHA1: %s\", command_buf.buf);",
          "new_line_content": "\tif (*p++ != ' ')",
          "content_same": false
        },
        {
          "line": 2183,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Missing space after SHA1: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Missing space after SHA1: %s\", command_buf.buf);",
          "new_line_content": "\t\tif (*endp)",
          "content_same": false
        },
        {
          "line": 2185,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(&uq)",
          "new_text": null,
          "old_line_content": "\tstrbuf_reset(&uq);",
          "new_line_content": "\t\tp = uq.buf;",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": "unquote_c_style",
          "new_api": null,
          "old_text": "unquote_c_style(&uq, p, &endp)",
          "new_text": null,
          "old_line_content": "\tif (!unquote_c_style(&uq, p, &endp)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2192,
          "old_api": "S_ISGITLINK",
          "new_api": null,
          "old_text": "S_ISGITLINK(mode)",
          "new_text": null,
          "old_line_content": "\tif (S_ISGITLINK(mode)) {",
          "new_line_content": "\t\telse if (oe) {",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Not a commit (actually a %s): %s\",\n\t\t\t\t\ttypename(oe->type), command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"Not a commit (actually a %s): %s\",",
          "new_line_content": "\t\t * Accept the sha1 without checking; it expected to be in",
          "content_same": false
        },
        {
          "line": 2199,
          "old_api": "typename",
          "new_api": null,
          "old_text": "typename(oe->type)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\ttypename(oe->type), command_buf.buf);",
          "new_line_content": "\t\t * another repository.",
          "content_same": false
        },
        {
          "line": 2214,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Not a blob (actually a %s): %s\",\n\t\t\t\ttypename(oe->type), command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Not a blob (actually a %s): %s\",",
          "new_line_content": "\t\tif (type < 0)",
          "content_same": false
        },
        {
          "line": 2219,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Blob not found: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Blob not found: %s\", command_buf.buf);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2222,
          "old_api": "typename",
          "new_api": null,
          "old_text": "typename(type)",
          "new_text": null,
          "old_line_content": "\t\t\t    typename(type), command_buf.buf);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2225,
          "old_api": "tree_content_set",
          "new_api": null,
          "old_text": "tree_content_set(&b->branch_tree, p, sha1, mode, NULL)",
          "new_text": null,
          "old_line_content": "\ttree_content_set(&b->branch_tree, p, sha1, mode, NULL);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2234,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(&uq)",
          "new_text": null,
          "old_line_content": "\tstrbuf_reset(&uq);",
          "new_line_content": "\t\tp = uq.buf;",
          "content_same": false
        },
        {
          "line": 2235,
          "old_api": "unquote_c_style",
          "new_api": null,
          "old_text": "unquote_c_style(&uq, p, &endp)",
          "new_text": null,
          "old_line_content": "\tif (!unquote_c_style(&uq, p, &endp)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2237,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Garbage after path in: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Garbage after path in: %s\", command_buf.buf);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2240,
          "old_api": "tree_content_remove",
          "new_api": null,
          "old_text": "tree_content_remove(&b->branch_tree, p, NULL)",
          "new_text": null,
          "old_line_content": "\ttree_content_remove(&b->branch_tree, p, NULL);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2252,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(&s_uq)",
          "new_text": null,
          "old_line_content": "\tstrbuf_reset(&s_uq);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 2257,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(s, ' ')",
          "new_text": null,
          "old_line_content": "\t\tendp = strchr(s, ' ');",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2259,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Missing space after source: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Missing space after source: %s\", command_buf.buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2260,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(&s_uq, s, endp - s)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_add(&s_uq, s, endp - s);",
          "new_line_content": "\tendp++;",
          "content_same": false
        },
        {
          "line": 2269,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(&d_uq)",
          "new_text": null,
          "old_line_content": "\tstrbuf_reset(&d_uq);",
          "new_line_content": "\t\td = d_uq.buf;",
          "content_same": false
        },
        {
          "line": 2270,
          "old_api": "unquote_c_style",
          "new_api": null,
          "old_text": "unquote_c_style(&d_uq, d, &endp)",
          "new_text": null,
          "old_line_content": "\tif (!unquote_c_style(&d_uq, d, &endp)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2280,
          "old_api": "tree_content_get",
          "new_api": null,
          "old_text": "tree_content_get(&b->branch_tree, s, &leaf)",
          "new_text": null,
          "old_line_content": "\t\ttree_content_get(&b->branch_tree, s, &leaf);",
          "new_line_content": "\t\tleaf.versions[1].sha1,",
          "content_same": false
        },
        {
          "line": 2282,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Path %s not in branch\", s)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Path %s not in branch\", s);",
          "new_line_content": "\t\tleaf.tree);",
          "content_same": false
        },
        {
          "line": 2283,
          "old_api": "tree_content_set",
          "new_api": null,
          "old_text": "tree_content_set(&b->branch_tree, d,\n\t\tleaf.versions[1].sha1,\n\t\tleaf.versions[1].mode,\n\t\tleaf.tree)",
          "new_text": null,
          "old_line_content": "\ttree_content_set(&b->branch_tree, d,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2303,
          "old_api": "strtoumax",
          "new_api": null,
          "old_text": "strtoumax(p + 1, &x, 10)",
          "new_text": null,
          "old_line_content": "\t\toe = find_mark(strtoumax(p + 1, &x, 10));",
          "new_line_content": "\t\tinline_data = 1;",
          "content_same": false
        },
        {
          "line": 2304,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(sha1, oe->idx.sha1)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(sha1, oe->idx.sha1);",
          "new_line_content": "\t\tp += 6;",
          "content_same": false
        },
        {
          "line": 2310,
          "old_api": "get_sha1_hex",
          "new_api": null,
          "old_text": "get_sha1_hex(p, sha1)",
          "new_text": null,
          "old_line_content": "\t\tif (get_sha1_hex(p, sha1))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2311,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Invalid SHA1: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Invalid SHA1: %s\", command_buf.buf);",
          "new_line_content": "\tif (*p++ != ' ')",
          "content_same": false
        },
        {
          "line": 2316,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Missing space after SHA1: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Missing space after SHA1: %s\", command_buf.buf);",
          "new_line_content": "\tif (s) {",
          "content_same": false
        },
        {
          "line": 2321,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(commit_sha1, s->sha1)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(commit_sha1, s->sha1);",
          "new_line_content": "\t\tif (commit_oe->type != OBJ_COMMIT)",
          "content_same": false
        },
        {
          "line": 2327,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(commit_sha1, commit_oe->idx.sha1)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(commit_sha1, commit_oe->idx.sha1);",
          "new_line_content": "\t\t\tcommit_type, &size, commit_sha1);",
          "content_same": false
        },
        {
          "line": 2328,
          "old_api": "get_sha1",
          "new_api": null,
          "old_text": "get_sha1(p, commit_sha1)",
          "new_text": null,
          "old_line_content": "\t} else if (!get_sha1(p, commit_sha1)) {",
          "new_line_content": "\t\tif (!buf || size < 46)",
          "content_same": false
        },
        {
          "line": 2333,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Not a valid commit: %s\", p)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Not a valid commit: %s\", p);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2334,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buf)",
          "new_text": null,
          "old_line_content": "\t\tfree(buf);",
          "new_line_content": "\tif (inline_data) {",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Not a blob (actually a %s): %s\",\n\t\t\t\ttypename(oe->type), command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Not a blob (actually a %s): %s\",",
          "new_line_content": "\t\tif (type < 0)",
          "content_same": false
        },
        {
          "line": 2349,
          "old_api": "is_null_sha1",
          "new_api": null,
          "old_text": "is_null_sha1(sha1)",
          "new_text": null,
          "old_line_content": "\t} else if (!is_null_sha1(sha1)) {",
          "new_line_content": "\t\tif (type != OBJ_BLOB)",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Blob not found: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Blob not found: %s\", command_buf.buf);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2359,
          "old_api": "tree_content_remove",
          "new_api": null,
          "old_text": "tree_content_remove(&b->branch_tree, path, NULL)",
          "new_text": null,
          "old_line_content": "\tif (tree_content_remove(&b->branch_tree, path, NULL))",
          "new_line_content": "\t\treturn; /* nothing to insert */",
          "content_same": false
        },
        {
          "line": 2366,
          "old_api": "convert_num_notes_to_fanout",
          "new_api": null,
          "old_text": "convert_num_notes_to_fanout(b->num_notes)",
          "new_text": null,
          "old_line_content": "\tnew_fanout = convert_num_notes_to_fanout(b->num_notes);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2367,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(commit_sha1)",
          "new_text": null,
          "old_line_content": "\tconstruct_path_with_fanout(sha1_to_hex(commit_sha1), new_fanout, path);",
          "new_line_content": "static void file_change_deleteall(struct branch *b)",
          "content_same": false
        },
        {
          "line": 2368,
          "old_api": "tree_content_set",
          "new_api": null,
          "old_text": "tree_content_set(&b->branch_tree, path, sha1, S_IFREG | 0644, NULL)",
          "new_text": null,
          "old_line_content": "\ttree_content_set(&b->branch_tree, path, sha1, S_IFREG | 0644, NULL);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2373,
          "old_api": "release_tree_content_recursive",
          "new_api": null,
          "old_text": "release_tree_content_recursive(b->branch_tree.tree)",
          "new_text": null,
          "old_line_content": "\trelease_tree_content_recursive(b->branch_tree.tree);",
          "new_line_content": "\tb->num_notes = 0;",
          "content_same": false
        },
        {
          "line": 2374,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(b->branch_tree.versions[0].sha1)",
          "new_text": null,
          "old_line_content": "\thashclr(b->branch_tree.versions[0].sha1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(b->branch_tree.versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\thashclr(b->branch_tree.versions[1].sha1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2376,
          "old_api": "load_tree",
          "new_api": null,
          "old_text": "load_tree(&b->branch_tree)",
          "new_text": null,
          "old_line_content": "\tload_tree(&b->branch_tree);",
          "new_line_content": "static void parse_from_commit(struct branch *b, char *buf, unsigned long size)",
          "content_same": false
        },
        {
          "line": 2384,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(\"tree \", buf, 5)",
          "new_text": null,
          "old_line_content": "\tif (memcmp(\"tree \", buf, 5)",
          "new_line_content": "\t\tb->branch_tree.versions[1].sha1);",
          "content_same": false
        },
        {
          "line": 2385,
          "old_api": "get_sha1_hex",
          "new_api": null,
          "old_text": "get_sha1_hex(buf + 5, b->branch_tree.versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\t\t|| get_sha1_hex(buf + 5, b->branch_tree.versions[1].sha1))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2386,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(b->sha1)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"The commit %s is corrupt\", sha1_to_hex(b->sha1));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2387,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(b->branch_tree.versions[0].sha1,\n\t\tb->branch_tree.versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\thashcpy(b->branch_tree.versions[0].sha1,",
          "new_line_content": "static void parse_from_existing(struct branch *b)",
          "content_same": false
        },
        {
          "line": 2393,
          "old_api": "is_null_sha1",
          "new_api": null,
          "old_text": "is_null_sha1(b->sha1)",
          "new_text": null,
          "old_line_content": "\tif (is_null_sha1(b->sha1)) {",
          "new_line_content": "\t\tunsigned long size;",
          "content_same": false
        },
        {
          "line": 2394,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(b->branch_tree.versions[0].sha1)",
          "new_text": null,
          "old_line_content": "\t\thashclr(b->branch_tree.versions[0].sha1);",
          "new_line_content": "\t\tchar *buf;",
          "content_same": false
        },
        {
          "line": 2395,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(b->branch_tree.versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\t\thashclr(b->branch_tree.versions[1].sha1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2400,
          "old_api": "read_object_with_reference",
          "new_api": null,
          "old_text": "read_object_with_reference(b->sha1,\n\t\t\tcommit_type, &size, b->sha1)",
          "new_text": null,
          "old_line_content": "\t\tbuf = read_object_with_reference(b->sha1,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2402,
          "old_api": "parse_from_commit",
          "new_api": null,
          "old_text": "parse_from_commit(b, buf, size)",
          "new_text": null,
          "old_line_content": "\t\tparse_from_commit(b, buf, size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2403,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buf)",
          "new_text": null,
          "old_line_content": "\t\tfree(buf);",
          "new_line_content": "static int parse_from(struct branch *b)",
          "content_same": false
        },
        {
          "line": 2420,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(command_buf.buf, ' ')",
          "new_text": null,
          "old_line_content": "\tfrom = strchr(command_buf.buf, ' ') + 1;",
          "new_line_content": "\telse if (s) {",
          "content_same": false
        },
        {
          "line": 2421,
          "old_api": "lookup_branch",
          "new_api": null,
          "old_text": "lookup_branch(from)",
          "new_text": null,
          "old_line_content": "\ts = lookup_branch(from);",
          "new_line_content": "\t\tunsigned char *t = s->branch_tree.versions[1].sha1;",
          "content_same": false
        },
        {
          "line": 2428,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(b->branch_tree.versions[1].sha1, t)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(b->branch_tree.versions[1].sha1, t);",
          "new_line_content": "\t\tif (oe->type != OBJ_COMMIT)",
          "content_same": false
        },
        {
          "line": 2431,
          "old_api": "find_mark",
          "new_api": null,
          "old_text": "find_mark(idnum)",
          "new_text": null,
          "old_line_content": "\t\tstruct object_entry *oe = find_mark(idnum);",
          "new_line_content": "\t\tif (oe->pack_id != MAX_PACK_ID) {",
          "content_same": false
        },
        {
          "line": 2442,
          "old_api": "get_sha1",
          "new_api": null,
          "old_text": "get_sha1(from, b->sha1)",
          "new_text": null,
          "old_line_content": "\t} else if (!get_sha1(from, b->sha1))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2445,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Invalid ref name or SHA1 expression: %s\", from)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Invalid ref name or SHA1 expression: %s\", from);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2447,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\tread_next_command();",
          "new_line_content": "static struct hash_list *parse_merge(unsigned int *count)",
          "content_same": false
        },
        {
          "line": 2458,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(command_buf.buf, \"merge \")",
          "new_text": null,
          "old_line_content": "\twhile (!prefixcmp(command_buf.buf, \"merge \")) {",
          "new_line_content": "\t\tif (s)",
          "content_same": false
        },
        {
          "line": 2460,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(sizeof(*n))",
          "new_text": null,
          "old_line_content": "\t\tn = xmalloc(sizeof(*n));",
          "new_line_content": "\t\telse if (*from == ':') {",
          "content_same": false
        },
        {
          "line": 2463,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(n->sha1, s->sha1)",
          "new_text": null,
          "old_line_content": "\t\t\thashcpy(n->sha1, s->sha1);",
          "new_line_content": "\t\t\tif (oe->type != OBJ_COMMIT)",
          "content_same": false
        },
        {
          "line": 2469,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(n->sha1, oe->idx.sha1)",
          "new_text": null,
          "old_line_content": "\t\t\thashcpy(n->sha1, oe->idx.sha1);",
          "new_line_content": "\t\t\t\tcommit_type, &size, n->sha1);",
          "content_same": false
        },
        {
          "line": 2470,
          "old_api": "get_sha1",
          "new_api": null,
          "old_text": "get_sha1(from, n->sha1)",
          "new_text": null,
          "old_line_content": "\t\t} else if (!get_sha1(from, n->sha1)) {",
          "new_line_content": "\t\t\tif (!buf || size < 46)",
          "content_same": false
        },
        {
          "line": 2475,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Not a valid commit: %s\", from)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"Not a valid commit: %s\", from);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2476,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buf)",
          "new_text": null,
          "old_line_content": "\t\t\tfree(buf);",
          "new_line_content": "\t\tn->next = NULL;",
          "content_same": false
        },
        {
          "line": 2478,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Invalid ref name or SHA1 expression: %s\", from)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Invalid ref name or SHA1 expression: %s\", from);",
          "new_line_content": "\t\t\te->next = n;",
          "content_same": false
        },
        {
          "line": 2487,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\t\tread_next_command();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2504,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(command_buf.buf, ' ')",
          "new_text": null,
          "old_line_content": "\tsp = strchr(command_buf.buf, ' ') + 1;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2510,
          "old_api": "parse_mark",
          "new_api": null,
          "old_text": "parse_mark()",
          "new_text": null,
          "old_line_content": "\tparse_mark();",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2515,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(command_buf.buf, \"committer \")",
          "new_text": null,
          "old_line_content": "\tif (!prefixcmp(command_buf.buf, \"committer \")) {",
          "new_line_content": "\tif (!committer)",
          "content_same": false
        },
        {
          "line": 2521,
          "old_api": "parse_data",
          "new_api": null,
          "old_text": "parse_data(&msg, 0, NULL)",
          "new_text": null,
          "old_line_content": "\tparse_data(&msg, 0, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2522,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\tread_next_command();",
          "new_line_content": "\t/* ensure the branch is active/loaded */",
          "content_same": false
        },
        {
          "line": 2523,
          "old_api": "parse_from",
          "new_api": null,
          "old_text": "parse_from(b)",
          "new_text": null,
          "old_line_content": "\tparse_from(b);",
          "new_line_content": "\tif (!b->branch_tree.tree || !max_active_branches) {",
          "content_same": false
        },
        {
          "line": 2529,
          "old_api": "load_branch",
          "new_api": null,
          "old_text": "load_branch(b)",
          "new_text": null,
          "old_line_content": "\t\tload_branch(b);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2544,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(command_buf.buf, \"N \")",
          "new_text": null,
          "old_line_content": "\t\telse if (!prefixcmp(command_buf.buf, \"N \"))",
          "new_line_content": "\t\telse {",
          "content_same": false
        },
        {
          "line": 2545,
          "old_api": "note_change_n",
          "new_api": null,
          "old_text": "note_change_n(b, prev_fanout)",
          "new_text": null,
          "old_line_content": "\t\t\tnote_change_n(b, prev_fanout);",
          "new_line_content": "\t\t\tunread_command_buf = 1;",
          "content_same": false
        },
        {
          "line": 2546,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"deleteall\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\telse if (!strcmp(\"deleteall\", command_buf.buf))",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2547,
          "old_api": "file_change_deleteall",
          "new_api": null,
          "old_text": "file_change_deleteall(b)",
          "new_text": null,
          "old_line_content": "\t\t\tfile_change_deleteall(b);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2556,
          "old_api": "convert_num_notes_to_fanout",
          "new_api": null,
          "old_text": "convert_num_notes_to_fanout(b->num_notes)",
          "new_text": null,
          "old_line_content": "\tnew_fanout = convert_num_notes_to_fanout(b->num_notes);",
          "new_line_content": "\t/* build the tree and the commit */",
          "content_same": false
        },
        {
          "line": 2566,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(&new_data, \"tree %s\\n\",\n\t\tsha1_to_hex(b->branch_tree.versions[1].sha1))",
          "new_text": null,
          "old_line_content": "\tstrbuf_addf(&new_data, \"tree %s\\n\",",
          "new_line_content": "\twhile (merge_list) {",
          "content_same": false
        },
        {
          "line": 2567,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(b->branch_tree.versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\t\tsha1_to_hex(b->branch_tree.versions[1].sha1));",
          "new_line_content": "\t\tstruct hash_list *next = merge_list->next;",
          "content_same": false
        },
        {
          "line": 2573,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(merge_list)",
          "new_text": null,
          "old_line_content": "\t\tfree(merge_list);",
          "new_line_content": "\t\t\"author %s\\n\"",
          "content_same": false
        },
        {
          "line": 2576,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(&new_data,\n\t\t\"author %s\\n\"\n\t\t\"committer %s\\n\"\n\t\t\"\\n\",\n\t\tauthor ? author : committer, committer)",
          "new_text": null,
          "old_line_content": "\tstrbuf_addf(&new_data,",
          "new_line_content": "\t\tauthor ? author : committer, committer);",
          "content_same": false
        },
        {
          "line": 2582,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(author)",
          "new_text": null,
          "old_line_content": "\tfree(author);",
          "new_line_content": "\t\tb->pack_id = pack_id;",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(committer)",
          "new_text": null,
          "old_line_content": "\tfree(committer);",
          "new_line_content": "\tb->last_commit = object_count_by_type[OBJ_COMMIT];",
          "content_same": false
        },
        {
          "line": 2585,
          "old_api": "store_object",
          "new_api": null,
          "old_text": "store_object(OBJ_COMMIT, &new_data, NULL, b->sha1, next_mark)",
          "new_text": null,
          "old_line_content": "\tif (!store_object(OBJ_COMMIT, &new_data, NULL, b->sha1, next_mark))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2603,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(command_buf.buf, ' ')",
          "new_text": null,
          "old_line_content": "\tsp = strchr(command_buf.buf, ' ') + 1;",
          "new_line_content": "\tif (last_tag)",
          "content_same": false
        },
        {
          "line": 2604,
          "old_api": "pool_alloc",
          "new_api": null,
          "old_text": "pool_alloc(sizeof(struct tag))",
          "new_text": null,
          "old_line_content": "\tt = pool_alloc(sizeof(struct tag));",
          "new_line_content": "\t\tlast_tag->next_tag = t;",
          "content_same": false
        },
        {
          "line": 2606,
          "old_api": "pool_strdup",
          "new_api": null,
          "old_text": "pool_strdup(sp)",
          "new_text": null,
          "old_line_content": "\tt->name = pool_strdup(sp);",
          "new_line_content": "\t\tfirst_tag = t;",
          "content_same": false
        },
        {
          "line": 2615,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(command_buf.buf, \"from \")",
          "new_text": null,
          "old_line_content": "\tif (prefixcmp(command_buf.buf, \"from \"))",
          "new_line_content": "\tif (s) {",
          "content_same": false
        },
        {
          "line": 2617,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(command_buf.buf, ' ')",
          "new_text": null,
          "old_line_content": "\tfrom = strchr(command_buf.buf, ' ') + 1;",
          "new_line_content": "\t\ttype = OBJ_COMMIT;",
          "content_same": false
        },
        {
          "line": 2618,
          "old_api": "lookup_branch",
          "new_api": null,
          "old_text": "lookup_branch(from)",
          "new_text": null,
          "old_line_content": "\ts = lookup_branch(from);",
          "new_line_content": "\t} else if (*from == ':') {",
          "content_same": false
        },
        {
          "line": 2625,
          "old_api": "find_mark",
          "new_api": null,
          "old_text": "find_mark(from_mark)",
          "new_text": null,
          "old_line_content": "\t\toe = find_mark(from_mark);",
          "new_line_content": "\t\tunsigned long size;",
          "content_same": false
        },
        {
          "line": 2627,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(sha1, oe->idx.sha1)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(sha1, oe->idx.sha1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2632,
          "old_api": "read_sha1_file",
          "new_api": null,
          "old_text": "read_sha1_file(sha1, &type, &size)",
          "new_text": null,
          "old_line_content": "\t\tbuf = read_sha1_file(sha1, &type, &size);",
          "new_line_content": "\t} else",
          "content_same": false
        },
        {
          "line": 2635,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buf)",
          "new_text": null,
          "old_line_content": "\t\tfree(buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2641,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(command_buf.buf, \"tagger \")",
          "new_text": null,
          "old_line_content": "\tif (!prefixcmp(command_buf.buf, \"tagger \")) {",
          "new_line_content": "\t\ttagger = NULL;",
          "content_same": false
        },
        {
          "line": 2642,
          "old_api": "parse_ident",
          "new_api": null,
          "old_text": "parse_ident(command_buf.buf + 7)",
          "new_text": null,
          "old_line_content": "\t\ttagger = parse_ident(command_buf.buf + 7);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2643,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\t\tread_next_command();",
          "new_line_content": "\t/* tag payload/message */",
          "content_same": false
        },
        {
          "line": 2648,
          "old_api": "parse_data",
          "new_api": null,
          "old_text": "parse_data(&msg, 0, NULL)",
          "new_text": null,
          "old_line_content": "\tparse_data(&msg, 0, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2651,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(&new_data)",
          "new_text": null,
          "old_line_content": "\tstrbuf_reset(&new_data);",
          "new_line_content": "\t\t    \"type %s\\n\"",
          "content_same": false
        },
        {
          "line": 2662,
          "old_api": "strbuf_addbuf",
          "new_api": null,
          "old_text": "strbuf_addbuf(&new_data, &msg)",
          "new_text": null,
          "old_line_content": "\tstrbuf_addbuf(&new_data, &msg);",
          "new_line_content": "\t\tt->pack_id = MAX_PACK_ID;",
          "content_same": false
        },
        {
          "line": 2663,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(tagger)",
          "new_text": null,
          "old_line_content": "\tfree(tagger);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 2665,
          "old_api": "store_object",
          "new_api": null,
          "old_text": "store_object(OBJ_TAG, &new_data, NULL, t->sha1, 0)",
          "new_text": null,
          "old_line_content": "\tif (store_object(OBJ_TAG, &new_data, NULL, t->sha1, 0))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2681,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(b->branch_tree.versions[0].sha1)",
          "new_text": null,
          "old_line_content": "\t\thashclr(b->branch_tree.versions[0].sha1);",
          "new_line_content": "\t\t\tb->branch_tree.tree = NULL;",
          "content_same": false
        },
        {
          "line": 2682,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(b->branch_tree.versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\t\thashclr(b->branch_tree.versions[1].sha1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2684,
          "old_api": "release_tree_content_recursive",
          "new_api": null,
          "old_text": "release_tree_content_recursive(b->branch_tree.tree)",
          "new_text": null,
          "old_line_content": "\t\t\trelease_tree_content_recursive(b->branch_tree.tree);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 2689,
          "old_api": "new_branch",
          "new_api": null,
          "old_text": "new_branch(sp)",
          "new_text": null,
          "old_line_content": "\t\tb = new_branch(sp);",
          "new_line_content": "\t\tunread_command_buf = 1;",
          "content_same": false
        },
        {
          "line": 2690,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\tread_next_command();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2691,
          "old_api": "parse_from",
          "new_api": null,
          "old_text": "parse_from(b)",
          "new_text": null,
          "old_line_content": "\tparse_from(b);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2699,
          "old_api": "cycle_packfile",
          "new_api": null,
          "old_text": "cycle_packfile()",
          "new_text": null,
          "old_line_content": "\t\tcycle_packfile();",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2701,
          "old_api": "dump_tags",
          "new_api": null,
          "old_text": "dump_tags()",
          "new_text": null,
          "old_line_content": "\t\tdump_tags();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2702,
          "old_api": "dump_marks",
          "new_api": null,
          "old_text": "dump_marks()",
          "new_text": null,
          "old_line_content": "\t\tdump_marks();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2704,
          "old_api": "skip_optional_lf",
          "new_api": null,
          "old_text": "skip_optional_lf()",
          "new_text": null,
          "old_line_content": "\tskip_optional_lf();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2709,
          "old_api": "fwrite",
          "new_api": null,
          "old_text": "fwrite(command_buf.buf, 1, command_buf.len, stdout)",
          "new_text": null,
          "old_line_content": "\tfwrite(command_buf.buf, 1, command_buf.len, stdout);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2710,
          "old_api": "fputc",
          "new_api": null,
          "old_text": "fputc('\\n', stdout)",
          "new_text": null,
          "old_line_content": "\tfputc('\\n', stdout);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2711,
          "old_api": "fflush",
          "new_api": null,
          "old_text": "fflush(stdout)",
          "new_text": null,
          "old_line_content": "\tfflush(stdout);",
          "new_line_content": "static char* make_fast_import_path(const char *path)",
          "content_same": false
        },
        {
          "line": 2712,
          "old_api": "skip_optional_lf",
          "new_api": null,
          "old_text": "skip_optional_lf()",
          "new_text": null,
          "old_line_content": "\tskip_optional_lf();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2719,
          "old_api": "is_absolute_path",
          "new_api": null,
          "old_text": "is_absolute_path(path)",
          "new_text": null,
          "old_line_content": "\tif (!relative_marks_paths || is_absolute_path(path))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2720,
          "old_api": "xstrdup",
          "new_api": null,
          "old_text": "xstrdup(path)",
          "new_text": null,
          "old_line_content": "\t\treturn xstrdup(path);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2721,
          "old_api": "get_git_dir",
          "new_api": null,
          "old_text": "get_git_dir()",
          "new_text": null,
          "old_line_content": "\tstrbuf_addf(&abs_path, \"%s/info/fast-import/%s\", get_git_dir(), path);",
          "new_line_content": "static void option_import_marks(const char *marks, int from_stream)",
          "content_same": false
        },
        {
          "line": 2722,
          "old_api": "strbuf_detach",
          "new_api": null,
          "old_text": "strbuf_detach(&abs_path, NULL)",
          "new_text": null,
          "old_line_content": "\treturn strbuf_detach(&abs_path, NULL);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2733,
          "old_api": "read_marks",
          "new_api": null,
          "old_text": "read_marks()",
          "new_text": null,
          "old_line_content": "\t\t\tread_marks();",
          "new_line_content": "\timport_marks_file_from_stream = from_stream;",
          "content_same": false
        },
        {
          "line": 2736,
          "old_api": "make_fast_import_path",
          "new_api": null,
          "old_text": "make_fast_import_path(marks)",
          "new_text": null,
          "old_line_content": "\timport_marks_file = make_fast_import_path(marks);",
          "new_line_content": "static void option_date_format(const char *fmt)",
          "content_same": false
        },
        {
          "line": 2744,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(fmt, \"rfc2822\")",
          "new_text": null,
          "old_line_content": "\telse if (!strcmp(fmt, \"rfc2822\"))",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 2746,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(fmt, \"now\")",
          "new_text": null,
          "old_line_content": "\telse if (!strcmp(fmt, \"now\"))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2749,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"unknown --date-format argument %s\", fmt)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"unknown --date-format argument %s\", fmt);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2754,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(depth, NULL, 0)",
          "new_text": null,
          "old_line_content": "\tmax_depth = strtoul(depth, NULL, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2756,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"--depth cannot exceed %u\", MAX_DEPTH)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"--depth cannot exceed %u\", MAX_DEPTH);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2761,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(branches, NULL, 0)",
          "new_text": null,
          "old_line_content": "\tmax_active_branches = strtoul(branches, NULL, 0);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2766,
          "old_api": "make_fast_import_path",
          "new_api": null,
          "old_text": "make_fast_import_path(marks)",
          "new_text": null,
          "old_line_content": "\texport_marks_file = make_fast_import_path(marks);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2772,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(pack_edges)",
          "new_text": null,
          "old_line_content": "\t\tfclose(pack_edges);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2773,
          "old_api": "fopen",
          "new_api": null,
          "old_text": "fopen(edges, \"a\")",
          "new_text": null,
          "old_line_content": "\tpack_edges = fopen(edges, \"a\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2775,
          "old_api": "die_errno",
          "new_api": null,
          "old_text": "die_errno(\"Cannot open '%s'\", edges)",
          "new_text": null,
          "old_line_content": "\t\tdie_errno(\"Cannot open '%s'\", edges);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2780,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(option, \"max-pack-size=\")",
          "new_text": null,
          "old_line_content": "\tif (!prefixcmp(option, \"max-pack-size=\")) {",
          "new_line_content": "\t\tif (v < 8192) {",
          "content_same": false
        },
        {
          "line": 2782,
          "old_api": "git_parse_ulong",
          "new_api": null,
          "old_text": "git_parse_ulong(option + 14, &v)",
          "new_text": null,
          "old_line_content": "\t\tif (!git_parse_ulong(option + 14, &v))",
          "new_line_content": "\t\t\tv *= 1024 * 1024;",
          "content_same": false
        },
        {
          "line": 2785,
          "old_api": "warning",
          "new_api": null,
          "old_text": "warning(\"max-pack-size is now in bytes, assuming --max-pack-size=%lum\", v)",
          "new_text": null,
          "old_line_content": "\t\t\twarning(\"max-pack-size is now in bytes, assuming --max-pack-size=%lum\", v);",
          "new_line_content": "\t\t\tv = 1024 * 1024;",
          "content_same": false
        },
        {
          "line": 2792,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(option, \"big-file-threshold=\")",
          "new_text": null,
          "old_line_content": "\t} else if (!prefixcmp(option, \"big-file-threshold=\")) {",
          "new_line_content": "\t\tbig_file_threshold = v;",
          "content_same": false
        },
        {
          "line": 2800,
          "old_api": "option_active_branches",
          "new_api": null,
          "old_text": "option_active_branches(option + 16)",
          "new_text": null,
          "old_line_content": "\t\toption_active_branches(option + 16);",
          "new_line_content": "\t\tshow_stats = 0;",
          "content_same": false
        },
        {
          "line": 2802,
          "old_api": "option_export_pack_edges",
          "new_api": null,
          "old_text": "option_export_pack_edges(option + 18)",
          "new_text": null,
          "old_line_content": "\t\toption_export_pack_edges(option + 18);",
          "new_line_content": "\t\tshow_stats = 1;",
          "content_same": false
        },
        {
          "line": 2803,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(option, \"quiet\")",
          "new_text": null,
          "old_line_content": "\t} else if (!prefixcmp(option, \"quiet\")) {",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 2805,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(option, \"stats\")",
          "new_text": null,
          "old_line_content": "\t} else if (!prefixcmp(option, \"stats\")) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2819,
          "old_api": "option_import_marks",
          "new_api": null,
          "old_text": "option_import_marks(feature + 13, from_stream)",
          "new_text": null,
          "old_line_content": "\t\toption_import_marks(feature + 13, from_stream);",
          "new_line_content": "\t\trelative_marks_paths = 1;",
          "content_same": false
        },
        {
          "line": 2821,
          "old_api": "option_export_marks",
          "new_api": null,
          "old_text": "option_export_marks(feature + 13)",
          "new_text": null,
          "old_line_content": "\t\toption_export_marks(feature + 13);",
          "new_line_content": "\t\trelative_marks_paths = 0;",
          "content_same": false
        },
        {
          "line": 2824,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(feature, \"no-relative-marks\")",
          "new_text": null,
          "old_line_content": "\t} else if (!prefixcmp(feature, \"no-relative-marks\")) {",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 2826,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(feature, \"force\")",
          "new_text": null,
          "old_line_content": "\t} else if (!prefixcmp(feature, \"force\")) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2840,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Got feature command '%s' after data command\", feature)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Got feature command '%s' after data command\", feature);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2842,
          "old_api": "parse_one_feature",
          "new_api": null,
          "old_text": "parse_one_feature(feature, 1)",
          "new_text": null,
          "old_line_content": "\tif (parse_one_feature(feature, 1))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2845,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"This version of fast-import does not support feature %s.\", feature)",
          "new_text": null,
          "old_line_content": "\tdie(\"This version of fast-import does not support feature %s.\", feature);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2853,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Got option command '%s' after data command\", option)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Got option command '%s' after data command\", option);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2855,
          "old_api": "parse_one_option",
          "new_api": null,
          "old_text": "parse_one_option(option)",
          "new_text": null,
          "old_line_content": "\tif (parse_one_option(option))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2858,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"This version of fast-import does not support option: %s\", option)",
          "new_text": null,
          "old_line_content": "\tdie(\"This version of fast-import does not support option: %s\", option);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2863,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(k, \"pack.depth\")",
          "new_text": null,
          "old_line_content": "\tif (!strcmp(k, \"pack.depth\")) {",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 2864,
          "old_api": "git_config_int",
          "new_api": null,
          "old_text": "git_config_int(k, v)",
          "new_text": null,
          "old_line_content": "\t\tmax_depth = git_config_int(k, v);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2869,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(k, \"pack.compression\")",
          "new_text": null,
          "old_line_content": "\tif (!strcmp(k, \"pack.compression\")) {",
          "new_line_content": "\t\telse if (level < 0 || level > Z_BEST_COMPRESSION)",
          "content_same": false
        },
        {
          "line": 2874,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"bad pack compression level %d\", level)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"bad pack compression level %d\", level);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2879,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(k, \"pack.indexversion\")",
          "new_text": null,
          "old_line_content": "\tif (!strcmp(k, \"pack.indexversion\")) {",
          "new_line_content": "\t\t\t    pack_idx_default_version);",
          "content_same": false
        },
        {
          "line": 2880,
          "old_api": "git_config_int",
          "new_api": null,
          "old_text": "git_config_int(k, v)",
          "new_text": null,
          "old_line_content": "\t\tpack_idx_default_version = git_config_int(k, v);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 2891,
          "old_api": "git_config_int",
          "new_api": null,
          "old_text": "git_config_int(k, v)",
          "new_text": null,
          "old_line_content": "\t\tlong n = git_config_int(k, v);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2894,
          "old_api": "git_default_config",
          "new_api": null,
          "old_text": "git_default_config(k, v, cb)",
          "new_text": null,
          "old_line_content": "\treturn git_default_config(k, v, cb);",
          "new_line_content": "\"git fast-import [--date-format=f] [--max-pack-size=n] [--big-file-threshold=n] [--depth=n] [--active-branches=n] [--export-marks=marks.file]\";",
          "content_same": false
        },
        {
          "line": 2907,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(a, \"--\")",
          "new_text": null,
          "old_line_content": "\t\tif (*a != '-' || !strcmp(a, \"--\"))",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2910,
          "old_api": "parse_one_option",
          "new_api": null,
          "old_text": "parse_one_option(a + 2)",
          "new_text": null,
          "old_line_content": "\t\tif (parse_one_option(a + 2))",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2913,
          "old_api": "parse_one_feature",
          "new_api": null,
          "old_text": "parse_one_feature(a + 2, 0)",
          "new_text": null,
          "old_line_content": "\t\tif (parse_one_feature(a + 2, 0))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2916,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"unknown option %s\", a)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"unknown option %s\", a);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2923,
          "old_api": "read_marks",
          "new_api": null,
          "old_text": "read_marks()",
          "new_text": null,
          "old_line_content": "\t\tread_marks();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2930,
          "old_api": "git_extract_argv0_path",
          "new_api": null,
          "old_text": "git_extract_argv0_path(argv[0])",
          "new_text": null,
          "old_line_content": "\tgit_extract_argv0_path(argv[0]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2933,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(fast_import_usage)",
          "new_text": null,
          "old_line_content": "\t\tusage(fast_import_usage);",
          "new_line_content": "\tif (!pack_compression_seen && core_compression_seen)",
          "content_same": false
        },
        {
          "line": 2935,
          "old_api": "setup_git_directory",
          "new_api": null,
          "old_text": "setup_git_directory()",
          "new_text": null,
          "old_line_content": "\tsetup_git_directory();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2942,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(atom_table_sz, sizeof(struct atom_str*))",
          "new_text": null,
          "old_line_content": "\tatom_table = xcalloc(atom_table_sz, sizeof(struct atom_str*));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2943,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(branch_table_sz, sizeof(struct branch*))",
          "new_text": null,
          "old_line_content": "\tbranch_table = xcalloc(branch_table_sz, sizeof(struct branch*));",
          "new_line_content": "\tglobal_argc = argc;",
          "content_same": false
        },
        {
          "line": 2944,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(avail_tree_table_sz, sizeof(struct avail_tree_content*))",
          "new_text": null,
          "old_line_content": "\tavail_tree_table = xcalloc(avail_tree_table_sz, sizeof(struct avail_tree_content*));",
          "new_line_content": "\tglobal_argv = argv;",
          "content_same": false
        },
        {
          "line": 2945,
          "old_api": "pool_calloc",
          "new_api": null,
          "old_text": "pool_calloc(1, sizeof(struct mark_set))",
          "new_text": null,
          "old_line_content": "\tmarks = pool_calloc(1, sizeof(struct mark_set));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2950,
          "old_api": "pool_alloc",
          "new_api": null,
          "old_text": "pool_alloc(cmd_save * sizeof(*rc_free))",
          "new_text": null,
          "old_line_content": "\trc_free = pool_alloc(cmd_save * sizeof(*rc_free));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2972,
          "old_api": "parse_feature",
          "new_api": null,
          "old_text": "parse_feature()",
          "new_text": null,
          "old_line_content": "\t\t\tparse_feature();",
          "new_line_content": "\t\t\t/* ignore non-git options*/;",
          "content_same": false
        },
        {
          "line": 2973,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(command_buf.buf, \"option git \")",
          "new_text": null,
          "old_line_content": "\t\telse if (!prefixcmp(command_buf.buf, \"option git \"))",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 2975,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(command_buf.buf, \"option \")",
          "new_text": null,
          "old_line_content": "\t\telse if (!prefixcmp(command_buf.buf, \"option \"))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2978,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Unsupported command: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Unsupported command: %s\", command_buf.buf);",
          "new_line_content": "\tif (!seen_data_command)",
          "content_same": false
        },
        {
          "line": 2987,
          "old_api": "dump_branches",
          "new_api": null,
          "old_text": "dump_branches()",
          "new_text": null,
          "old_line_content": "\tdump_branches();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2988,
          "old_api": "dump_tags",
          "new_api": null,
          "old_text": "dump_tags()",
          "new_text": null,
          "old_line_content": "\tdump_tags();",
          "new_line_content": "\tif (pack_edges)",
          "content_same": false
        },
        {
          "line": 2990,
          "old_api": "dump_marks",
          "new_api": null,
          "old_text": "dump_marks()",
          "new_text": null,
          "old_line_content": "\tdump_marks();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2997,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(object_count_by_type)",
          "new_text": null,
          "old_line_content": "\t\tfor (i = 0; i < ARRAY_SIZE(object_count_by_type); i++)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3016,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"---------------------------------------------------------------------\\n\")",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"---------------------------------------------------------------------\\n\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3017,
          "old_api": "pack_report",
          "new_api": null,
          "old_text": "pack_report()",
          "new_text": null,
          "old_line_content": "\t\tpack_report();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3018,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"---------------------------------------------------------------------\\n\")",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"---------------------------------------------------------------------\\n\");",
          "new_line_content": "\treturn failure ? 1 : 0;",
          "content_same": false
        },
        {
          "line": 3019,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"\\n\")",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"\\n\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(delta)",
          "new_text": null,
          "old_line_content": "\t\t\tfree(delta);",
          "new_line_content": "\t\tdelta = NULL;",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&s, 0, sizeof(s))",
          "new_text": null,
          "old_line_content": "\tmemset(&s, 0, sizeof(s));",
          "new_line_content": "\t\ts.avail_in = deltalen;",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": "deflateInit",
          "new_api": null,
          "old_text": "deflateInit(&s, pack_compression_level)",
          "new_text": null,
          "old_line_content": "\tdeflateInit(&s, pack_compression_level);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(s.avail_out)",
          "new_text": null,
          "old_line_content": "\ts.next_out = out = xmalloc(s.avail_out);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "deflate",
          "new_api": null,
          "old_text": "deflate(&s, Z_FINISH)",
          "new_text": null,
          "old_line_content": "\twhile (deflate(&s, Z_FINISH) == Z_OK)",
          "new_line_content": "\t/* Determine if we should auto-checkpoint. */",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "deflateEnd",
          "new_api": null,
          "old_text": "deflateEnd(&s)",
          "new_text": null,
          "old_line_content": "\tdeflateEnd(&s);",
          "new_line_content": "\t\t|| (pack_size + 60 + s.total_out) < pack_size) {",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": "xrealloc",
          "new_api": null,
          "old_text": "xrealloc(out, s.avail_out)",
          "new_text": null,
          "old_line_content": "\t\t\ts.next_out = out = xrealloc(out, s.avail_out);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "deflate",
          "new_api": null,
          "old_text": "deflate(&s, Z_FINISH)",
          "new_text": null,
          "old_line_content": "\t\t\twhile (deflate(&s, Z_FINISH) == Z_OK)",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": "deflateEnd",
          "new_api": null,
          "old_text": "deflateEnd(&s)",
          "new_text": null,
          "old_line_content": "\t\t\tdeflateEnd(&s);",
          "new_line_content": "\te->type = type;",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": "crc32_begin",
          "new_api": null,
          "old_text": "crc32_begin(pack_file)",
          "new_text": null,
          "old_line_content": "\tcrc32_begin(pack_file);",
          "new_line_content": "\t\tunsigned pos = sizeof(hdr) - 1;",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": "encode_header",
          "new_api": null,
          "old_text": "encode_header(OBJ_OFS_DELTA, deltalen, hdr)",
          "new_text": null,
          "old_line_content": "\t\thdrlen = encode_header(OBJ_OFS_DELTA, deltalen, hdr);",
          "new_line_content": "\t\thdr[pos] = ofs & 127;",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": "sha1write",
          "new_api": null,
          "old_text": "sha1write(pack_file, hdr, hdrlen)",
          "new_text": null,
          "old_line_content": "\t\tsha1write(pack_file, hdr, hdrlen);",
          "new_line_content": "\t\twhile (ofs >>= 7)",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": "encode_header",
          "new_api": null,
          "old_text": "encode_header(type, dat->len, hdr)",
          "new_text": null,
          "old_line_content": "\t\thdrlen = encode_header(type, dat->len, hdr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "sha1write",
          "new_api": null,
          "old_text": "sha1write(pack_file, out, s.total_out)",
          "new_text": null,
          "old_line_content": "\tsha1write(pack_file, out, s.total_out);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "crc32_end",
          "new_api": null,
          "old_text": "crc32_end(pack_file)",
          "new_text": null,
          "old_line_content": "\te->idx.crc32 = crc32_end(pack_file);",
          "new_line_content": "\tif (last) {",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(out)",
          "new_text": null,
          "old_line_content": "\tfree(out);",
          "new_line_content": "\t\t\tlast->data = *dat;",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(delta)",
          "new_text": null,
          "old_line_content": "\tfree(delta);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "strbuf_swap",
          "new_api": null,
          "old_text": "strbuf_swap(&last->data, dat)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_swap(&last->data, dat);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "ftruncate",
          "new_api": null,
          "old_text": "ftruncate(pack_data->pack_fd, to)",
          "new_text": null,
          "old_line_content": "\tif (ftruncate(pack_data->pack_fd, to)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "lseek",
          "new_api": null,
          "old_text": "lseek(pack_data->pack_fd, to, SEEK_SET)",
          "new_text": null,
          "old_line_content": "\t || lseek(pack_data->pack_fd, to, SEEK_SET) != to)",
          "new_line_content": "\t/* yes this is a layering violation */",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": "die_errno",
          "new_api": null,
          "old_text": "die_errno(\"cannot truncate pack to skip duplicate\")",
          "new_text": null,
          "old_line_content": "\t\tdie_errno(\"cannot truncate pack to skip duplicate\");",
          "new_line_content": "\tpack_file->total = to;",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(in_sz)",
          "new_text": null,
          "old_line_content": "\tunsigned char *in_buf = xmalloc(in_sz);",
          "new_line_content": "\tunsigned long hdrlen;",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(out_sz)",
          "new_text": null,
          "old_line_content": "\tunsigned char *out_buf = xmalloc(out_sz);",
          "new_line_content": "\toff_t offset;",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "cycle_packfile",
          "new_api": null,
          "old_text": "cycle_packfile()",
          "new_text": null,
          "old_line_content": "\t\tcycle_packfile();",
          "new_line_content": "\t/* preserve the pack_file SHA1 ctx in case we have to truncate later */",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "sha1flush",
          "new_api": null,
          "old_text": "sha1flush(pack_file)",
          "new_text": null,
          "old_line_content": "\tsha1flush(pack_file);",
          "new_line_content": "\tif (out_sz <= hdrlen)",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"impossibly large object header\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"impossibly large object header\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "git_SHA1_Init",
          "new_api": null,
          "old_text": "git_SHA1_Init(&c)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Init(&c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": "crc32_begin",
          "new_api": null,
          "old_text": "crc32_begin(pack_file)",
          "new_text": null,
          "old_line_content": "\tcrc32_begin(pack_file);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&s, 0, sizeof(s))",
          "new_text": null,
          "old_line_content": "\tmemset(&s, 0, sizeof(s));",
          "new_line_content": "\tif (out_sz <= hdrlen)",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "encode_header",
          "new_api": null,
          "old_text": "encode_header(OBJ_BLOB, len, out_buf)",
          "new_text": null,
          "old_line_content": "\thdrlen = encode_header(OBJ_BLOB, len, out_buf);",
          "new_line_content": "\ts.next_out = out_buf + hdrlen;",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"impossibly large object header\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"impossibly large object header\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "feof",
          "new_api": null,
          "old_text": "feof(stdin)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!n && feof(stdin))",
          "new_line_content": "\t\t\ts.next_in = in_buf;",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"EOF in data (%\" PRIuMAX \" bytes remaining)\", len)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"EOF in data (%\" PRIuMAX \" bytes remaining)\", len);",
          "new_line_content": "\t\t\ts.avail_in = n;",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "git_SHA1_Update",
          "new_api": null,
          "old_text": "git_SHA1_Update(&c, in_buf, n)",
          "new_text": null,
          "old_line_content": "\t\t\tgit_SHA1_Update(&c, in_buf, n);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": "sha1write",
          "new_api": null,
          "old_text": "sha1write(pack_file, out_buf, n)",
          "new_text": null,
          "old_line_content": "\t\t\tsha1write(pack_file, out_buf, n);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": "git_SHA1_Final",
          "new_api": null,
          "old_text": "git_SHA1_Final(sha1, &c)",
          "new_text": null,
          "old_line_content": "\tgit_SHA1_Final(sha1, &c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(sha1out, sha1)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(sha1out, sha1);",
          "new_line_content": "\tif (mark)",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "insert_object",
          "new_api": null,
          "old_text": "insert_object(sha1)",
          "new_text": null,
          "old_line_content": "\te = insert_object(sha1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": "truncate_pack",
          "new_api": null,
          "old_text": "truncate_pack(offset, &pack_file_ctx)",
          "new_text": null,
          "old_line_content": "\t\ttruncate_pack(offset, &pack_file_ctx);",
          "new_line_content": "\t\te->pack_id = MAX_PACK_ID;",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "find_sha1_pack",
          "new_api": null,
          "old_text": "find_sha1_pack(sha1, packed_git)",
          "new_text": null,
          "old_line_content": "\t} else if (find_sha1_pack(sha1, packed_git)) {",
          "new_line_content": "\t\tduplicate_count_by_type[OBJ_BLOB]++;",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": "truncate_pack",
          "new_api": null,
          "old_text": "truncate_pack(offset, &pack_file_ctx)",
          "new_text": null,
          "old_line_content": "\t\ttruncate_pack(offset, &pack_file_ctx);",
          "new_line_content": "\t\te->type = OBJ_BLOB;",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": "crc32_end",
          "new_api": null,
          "old_text": "crc32_end(pack_file)",
          "new_text": null,
          "old_line_content": "\t\te->idx.crc32 = crc32_end(pack_file);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(in_buf)",
          "new_text": null,
          "old_line_content": "\tfree(in_buf);",
          "new_line_content": "/* All calls must be guarded by find_object() or find_mark() to",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(out_buf)",
          "new_text": null,
          "old_line_content": "\tfree(out_buf);",
          "new_line_content": " * ensure the 'struct object_entry' passed was written by this",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": "close_pack_windows",
          "new_api": null,
          "old_text": "close_pack_windows(p)",
          "new_text": null,
          "old_line_content": "\t\tclose_pack_windows(p);",
          "new_line_content": "\t\t * the packfile as the core unpacker code assumes the",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": "sha1flush",
          "new_api": null,
          "old_text": "sha1flush(pack_file)",
          "new_text": null,
          "old_line_content": "\t\tsha1flush(pack_file);",
          "new_line_content": "\t\t * footer is present at the file end and must promise",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": "unpack_entry",
          "new_api": null,
          "old_text": "unpack_entry(p, oe->idx.offset, &type, sizep)",
          "new_text": null,
          "old_line_content": "\treturn unpack_entry(p, oe->idx.offset, &type, sizep);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": "is_null_sha1",
          "new_api": null,
          "old_text": "is_null_sha1(sha1)",
          "new_text": null,
          "old_line_content": "\tif (is_null_sha1(sha1))",
          "new_line_content": "\tif (myoe && myoe->pack_id != MAX_PACK_ID) {",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "find_object",
          "new_api": null,
          "old_text": "find_object(sha1)",
          "new_text": null,
          "old_line_content": "\tmyoe = find_object(sha1);",
          "new_line_content": "\t\tt->delta_depth = myoe->depth;",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "gfi_unpack_entry",
          "new_api": null,
          "old_text": "gfi_unpack_entry(myoe, &size)",
          "new_text": null,
          "old_line_content": "\t\tbuf = gfi_unpack_entry(myoe, &size);",
          "new_line_content": "\t\tenum object_type type;",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Can't load tree %s\", sha1_to_hex(sha1));",
          "new_line_content": "\t\tif (!buf || type != OBJ_TREE)",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": "read_sha1_file",
          "new_api": null,
          "old_text": "read_sha1_file(sha1, &type, &size)",
          "new_text": null,
          "old_line_content": "\t\tbuf = read_sha1_file(sha1, &type, &size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Can't load tree %s\", sha1_to_hex(sha1));",
          "new_line_content": "\twhile (c != (buf + size)) {",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "new_tree_entry",
          "new_api": null,
          "old_text": "new_tree_entry()",
          "new_text": null,
          "old_line_content": "\t\tstruct tree_entry *e = new_tree_entry();",
          "new_line_content": "\t\tt->entries[t->entry_count++] = e;",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(c)",
          "new_text": null,
          "old_line_content": "\t\te->name = to_atom(c, strlen(c));",
          "new_line_content": "\t\tc += 20;",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(e->versions[1].sha1, (unsigned char *)c)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(e->versions[1].sha1, (unsigned char *)c);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buf)",
          "new_text": null,
          "old_line_content": "\tfree(buf);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": "base_name_compare",
          "new_api": null,
          "old_text": "base_name_compare(\n\t\ta->name->str_dat, a->name->str_len, a->versions[0].mode,\n\t\tb->name->str_dat, b->name->str_len, b->versions[0].mode)",
          "new_text": null,
          "old_line_content": "\treturn base_name_compare(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": "base_name_compare",
          "new_api": null,
          "old_text": "base_name_compare(\n\t\ta->name->str_dat, a->name->str_len, a->versions[1].mode,\n\t\tb->name->str_dat, b->name->str_len, b->versions[1].mode)",
          "new_text": null,
          "old_line_content": "\treturn base_name_compare(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "qsort",
          "new_api": null,
          "old_text": "qsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp0)",
          "new_text": null,
          "old_line_content": "\t\tqsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp0);",
          "new_line_content": "\tfor (i = 0; i < t->entry_count; i++) {",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": "qsort",
          "new_api": null,
          "old_text": "qsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp1)",
          "new_text": null,
          "old_line_content": "\t\tqsort(t->entries,t->entry_count,sizeof(t->entries[0]),tecmp1);",
          "new_line_content": "\t\t\tmaxlen += t->entries[i]->name->str_len + 34;",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(b)",
          "new_text": null,
          "old_line_content": "\tstrbuf_reset(b);",
          "new_line_content": "\t\tif (!e->versions[v].mode)",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": "strbuf_grow",
          "new_api": null,
          "old_text": "strbuf_grow(b, maxlen)",
          "new_text": null,
          "old_line_content": "\tstrbuf_grow(b, maxlen);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(b, \"%o %s%c\", (unsigned int)e->versions[v].mode,\n\t\t\t\t\te->name->str_dat, '\\0')",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addf(b, \"%o %s%c\", (unsigned int)e->versions[v].mode,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(b, e->versions[v].sha1, 20)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_add(b, e->versions[v].sha1, 20);",
          "new_line_content": "static void store_tree(struct tree_entry *root)",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": "is_null_sha1",
          "new_api": null,
          "old_text": "is_null_sha1(root->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\tif (!is_null_sha1(root->versions[1].sha1))",
          "new_line_content": "\t\tif (t->entries[i]->tree)",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "find_object",
          "new_api": null,
          "old_text": "find_object(root->versions[0].sha1)",
          "new_text": null,
          "old_line_content": "\tle = find_object(root->versions[0].sha1);",
          "new_line_content": "\t\tlo.offset = le->idx.offset;",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": "S_ISDIR",
          "new_api": null,
          "old_text": "S_ISDIR(root->versions[0].mode)",
          "new_text": null,
          "old_line_content": "\tif (S_ISDIR(root->versions[0].mode) && le && le->pack_id == pack_id) {",
          "new_line_content": "\t\tlo.depth = t->delta_depth;",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": "mktree",
          "new_api": null,
          "old_text": "mktree(t, 0, &old_tree)",
          "new_text": null,
          "old_line_content": "\t\tmktree(t, 0, &old_tree);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": "mktree",
          "new_api": null,
          "old_text": "mktree(t, 1, &new_tree)",
          "new_text": null,
          "old_line_content": "\tmktree(t, 1, &new_tree);",
          "new_line_content": "\tfor (i = 0, j = 0, del = 0; i < t->entry_count; i++) {",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "store_object",
          "new_api": null,
          "old_text": "store_object(OBJ_TREE, &new_tree, &lo, root->versions[1].sha1, 0)",
          "new_text": null,
          "old_line_content": "\tstore_object(OBJ_TREE, &new_tree, &lo, root->versions[1].sha1, 0);",
          "new_line_content": "\t\tstruct tree_entry *e = t->entries[i];",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(e->versions[0].sha1, e->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\t\t\thashcpy(e->versions[0].sha1, e->versions[1].sha1);",
          "new_line_content": "\t\t\tdel++;",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": "release_tree_entry",
          "new_api": null,
          "old_text": "release_tree_entry(e)",
          "new_text": null,
          "old_line_content": "\t\t\trelease_tree_entry(e);",
          "new_line_content": "\tt->entry_count -= del;",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Empty path component found in input\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Empty path component found in input\");",
          "new_line_content": "\tfor (i = 0; i < t->entry_count; i++) {",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": "S_ISDIR",
          "new_api": null,
          "old_text": "S_ISDIR(mode)",
          "new_text": null,
          "old_line_content": "\tif (!slash1 && !S_ISDIR(mode) && subtree)",
          "new_line_content": "\t\te = t->entries[i];",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": "S_ISDIR",
          "new_api": null,
          "old_text": "S_ISDIR(mode)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (!S_ISDIR(mode)",
          "new_line_content": "\t\t\t\te->versions[1].mode = mode;",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": "hashcmp",
          "new_api": null,
          "old_text": "hashcmp(e->versions[1].sha1, sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t&& !hashcmp(e->versions[1].sha1, sha1))",
          "new_line_content": "\t\t\t\tif (e->tree)",
          "content_same": false
        },
        {
          "line": 1500,
          "old_api": "release_tree_content_recursive",
          "new_api": null,
          "old_text": "release_tree_content_recursive(e->tree)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\trelease_tree_content_recursive(e->tree);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": "S_ISDIR",
          "new_api": null,
          "old_text": "S_ISDIR(e->versions[1].mode)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!S_ISDIR(e->versions[1].mode)) {",
          "new_line_content": "\t\t\tif (!e->tree)",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": "load_tree",
          "new_api": null,
          "old_text": "load_tree(e)",
          "new_text": null,
          "old_line_content": "\t\t\t\tload_tree(e);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": "tree_content_set",
          "new_api": null,
          "old_text": "tree_content_set(e, slash1 + 1, sha1, mode, subtree)",
          "new_text": null,
          "old_line_content": "\t\t\tif (tree_content_set(e, slash1 + 1, sha1, mode, subtree)) {",
          "new_line_content": "\t\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(root->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\thashclr(root->versions[1].sha1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "new_tree_entry",
          "new_api": null,
          "old_text": "new_tree_entry()",
          "new_text": null,
          "old_line_content": "\te = new_tree_entry();",
          "new_line_content": "\tt->entries[t->entry_count++] = e;",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": "to_atom",
          "new_api": null,
          "old_text": "to_atom(p, n)",
          "new_text": null,
          "old_line_content": "\te->name = to_atom(p, n);",
          "new_line_content": "\tif (slash1) {",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(e->versions[0].sha1)",
          "new_text": null,
          "old_line_content": "\thashclr(e->versions[0].sha1);",
          "new_line_content": "\t\te->versions[1].mode = S_IFDIR;",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": "new_tree_content",
          "new_api": null,
          "old_text": "new_tree_content(8)",
          "new_text": null,
          "old_line_content": "\t\te->tree = new_tree_content(8);",
          "new_line_content": "\t\te->tree = subtree;",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(e->versions[1].sha1, sha1)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(e->versions[1].sha1, sha1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(root->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\thashclr(root->versions[1].sha1);",
          "new_line_content": "static int tree_content_remove(",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": "tree_content_remove",
          "new_api": null,
          "old_text": "tree_content_remove(e, slash1 + 1, backup_leaf)",
          "new_text": null,
          "old_line_content": "\t\t\tif (tree_content_remove(e, slash1 + 1, backup_leaf)) {",
          "new_line_content": "\t\t\t\t\t\treturn 1;",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(root->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\thashclr(root->versions[1].sha1);",
          "new_line_content": "\t\t\t\tbackup_leaf = NULL;",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(backup_leaf, e, sizeof(*backup_leaf))",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(backup_leaf, e, sizeof(*backup_leaf));",
          "new_line_content": "\te->versions[1].mode = 0;",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(e->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\thashclr(e->versions[1].sha1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1585,
          "old_api": "hashclr",
          "new_api": null,
          "old_text": "hashclr(root->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\thashclr(root->versions[1].sha1);",
          "new_line_content": "static int tree_content_get(",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(leaf, e, sizeof(*leaf))",
          "new_text": null,
          "old_line_content": "\t\t\t\tmemcpy(leaf, e, sizeof(*leaf));",
          "new_line_content": "\t\t\t\t\tleaf->tree = NULL;",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": "is_null_sha1",
          "new_api": null,
          "old_text": "is_null_sha1(e->versions[1].sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (e->tree && is_null_sha1(e->versions[1].sha1))",
          "new_line_content": "\t\t\t\treturn 1;",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": "dup_tree_content",
          "new_api": null,
          "old_text": "dup_tree_content(e->tree)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tleaf->tree = dup_tree_content(e->tree);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": "load_tree",
          "new_api": null,
          "old_text": "load_tree(e)",
          "new_text": null,
          "old_line_content": "\t\t\t\tload_tree(e);",
          "new_line_content": "\treturn 0;",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": "tree_content_get",
          "new_api": null,
          "old_text": "tree_content_get(e, slash1 + 1, leaf)",
          "new_text": null,
          "old_line_content": "\t\t\treturn tree_content_get(e, slash1 + 1, leaf);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": "lock_any_ref_for_update",
          "new_api": null,
          "old_text": "lock_any_ref_for_update(b->name, old_sha1, 0)",
          "new_text": null,
          "old_line_content": "\tlock = lock_any_ref_for_update(b->name, old_sha1, 0);",
          "new_line_content": "\t\tstruct commit *old_cmit, *new_cmit;",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": "lookup_commit_reference_gently",
          "new_api": null,
          "old_text": "lookup_commit_reference_gently(b->sha1, 0)",
          "new_text": null,
          "old_line_content": "\t\tnew_cmit = lookup_commit_reference_gently(b->sha1, 0);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1650,
          "old_api": "unlock_ref",
          "new_api": null,
          "old_text": "unlock_ref(lock)",
          "new_text": null,
          "old_line_content": "\t\t\tunlock_ref(lock);",
          "new_line_content": "\t\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "warning",
          "new_api": null,
          "old_text": "warning(\"Not updating %s\"\n\t\t\t\t\" (new tip %s does not contain %s)\",\n\t\t\t\tb->name, sha1_to_hex(b->sha1), sha1_to_hex(old_sha1))",
          "new_text": null,
          "old_line_content": "\t\t\twarning(\"Not updating %s\"",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": "write_ref_sha1",
          "new_api": null,
          "old_text": "write_ref_sha1(lock, b->sha1, msg)",
          "new_text": null,
          "old_line_content": "\tif (write_ref_sha1(lock, b->sha1, msg) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1658,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Unable to update %s\", b->name)",
          "new_text": null,
          "old_line_content": "\t\treturn error(\"Unable to update %s\", b->name);",
          "new_line_content": "static void dump_branches(void)",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": "update_branch",
          "new_api": null,
          "old_text": "update_branch(b)",
          "new_text": null,
          "old_line_content": "\t\t\tfailure |= update_branch(b);",
          "new_line_content": "static void dump_tags(void)",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(ref_name, \"tags/%s\", t->name)",
          "new_text": null,
          "old_line_content": "\t\tsprintf(ref_name, \"tags/%s\", t->name);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": "lock_ref_sha1",
          "new_api": null,
          "old_text": "lock_ref_sha1(ref_name, NULL)",
          "new_text": null,
          "old_line_content": "\t\tlock = lock_ref_sha1(ref_name, NULL);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": "write_ref_sha1",
          "new_api": null,
          "old_text": "write_ref_sha1(lock, t->sha1, msg)",
          "new_text": null,
          "old_line_content": "\t\tif (!lock || write_ref_sha1(lock, t->sha1, msg) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Unable to update %s\", ref_name)",
          "new_text": null,
          "old_line_content": "\t\t\tfailure |= error(\"Unable to update %s\", ref_name);",
          "new_line_content": "static void dump_marks_helper(FILE *f,",
          "content_same": false
        },
        {
          "line": 1696,
          "old_api": "dump_marks_helper",
          "new_api": null,
          "old_text": "dump_marks_helper(f, (base + k) << m->shift,\n\t\t\t\t\tm->data.sets[k])",
          "new_text": null,
          "old_line_content": "\t\t\t\tdump_marks_helper(f, (base + k) << m->shift,",
          "new_line_content": "\t\tfor (k = 0; k < 1024; k++) {",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(f, \":%\" PRIuMAX \" %s\\n\", base + k,\n\t\t\t\t\tsha1_to_hex(m->data.marked[k]->idx.sha1))",
          "new_text": null,
          "old_line_content": "\t\t\t\tfprintf(f, \":%\" PRIuMAX \" %s\\n\", base + k,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(m->data.marked[k]->idx.sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tsha1_to_hex(m->data.marked[k]->idx.sha1));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1717,
          "old_api": "hold_lock_file_for_update",
          "new_api": null,
          "old_text": "hold_lock_file_for_update(&mark_lock, export_marks_file, 0)",
          "new_text": null,
          "old_line_content": "\tmark_fd = hold_lock_file_for_update(&mark_lock, export_marks_file, 0);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Unable to write marks file %s: %s\",\n\t\t\texport_marks_file, strerror(errno))",
          "new_text": null,
          "old_line_content": "\t\tfailure |= error(\"Unable to write marks file %s: %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1727,
          "old_api": "rollback_lock_file",
          "new_api": null,
          "old_text": "rollback_lock_file(&mark_lock)",
          "new_text": null,
          "old_line_content": "\t\trollback_lock_file(&mark_lock);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Unable to write marks file %s: %s\",\n\t\t\texport_marks_file, strerror(saved_errno))",
          "new_text": null,
          "old_line_content": "\t\tfailure |= error(\"Unable to write marks file %s: %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1729,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(saved_errno)",
          "new_text": null,
          "old_line_content": "\t\t\texport_marks_file, strerror(saved_errno));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": "rollback_lock_file",
          "new_api": null,
          "old_text": "rollback_lock_file(&mark_lock)",
          "new_text": null,
          "old_line_content": "\t\trollback_lock_file(&mark_lock);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1744,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Unable to write marks file %s: %s\",\n\t\t\texport_marks_file, strerror(saved_errno))",
          "new_text": null,
          "old_line_content": "\t\tfailure |= error(\"Unable to write marks file %s: %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1751,
          "old_api": "rollback_lock_file",
          "new_api": null,
          "old_text": "rollback_lock_file(&mark_lock)",
          "new_text": null,
          "old_line_content": "\t\trollback_lock_file(&mark_lock);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Unable to commit marks file %s: %s\",\n\t\t\texport_marks_file, strerror(saved_errno))",
          "new_text": null,
          "old_line_content": "\t\tfailure |= error(\"Unable to commit marks file %s: %s\",",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(saved_errno)",
          "new_text": null,
          "old_line_content": "\t\t\texport_marks_file, strerror(saved_errno));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": "fopen",
          "new_api": null,
          "old_text": "fopen(import_marks_file, \"r\")",
          "new_text": null,
          "old_line_content": "\tFILE *f = fopen(import_marks_file, \"r\");",
          "new_line_content": "\t\tuintmax_t mark;",
          "content_same": false
        },
        {
          "line": 1763,
          "old_api": "die_errno",
          "new_api": null,
          "old_text": "die_errno(\"cannot read '%s'\", import_marks_file)",
          "new_text": null,
          "old_line_content": "\t\tdie_errno(\"cannot read '%s'\", import_marks_file);",
          "new_line_content": "\t\tunsigned char sha1[20];",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": "fgets",
          "new_api": null,
          "old_text": "fgets(line, sizeof(line), f)",
          "new_text": null,
          "old_line_content": "\twhile (fgets(line, sizeof(line), f)) {",
          "new_line_content": "\t\tstruct object_entry *e;",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"corrupt mark line: %s\", line)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"corrupt mark line: %s\", line);",
          "new_line_content": "\t\t\tif (type < 0)",
          "content_same": false
        },
        {
          "line": 1780,
          "old_api": "sha1_object_info",
          "new_api": null,
          "old_text": "sha1_object_info(sha1, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\tenum object_type type = sha1_object_info(sha1, NULL);",
          "new_line_content": "\t\t\te->type = type;",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"object not found: %s\", sha1_to_hex(sha1));",
          "new_line_content": "\t\t\te->idx.offset = 1; /* just not zero! */",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": "insert_object",
          "new_api": null,
          "old_text": "insert_object(sha1)",
          "new_text": null,
          "old_line_content": "\t\t\te = insert_object(sha1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1788,
          "old_api": "insert_mark",
          "new_api": null,
          "old_text": "insert_mark(mark, e)",
          "new_text": null,
          "old_line_content": "\t\tinsert_mark(mark, e);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1790,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(f)",
          "new_text": null,
          "old_line_content": "\tfclose(f);",
          "new_line_content": "static int read_next_command(void)",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": "strbuf_detach",
          "new_api": null,
          "old_text": "strbuf_detach(&command_buf, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_detach(&command_buf, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": "strbuf_getline",
          "new_api": null,
          "old_text": "strbuf_getline(&command_buf, stdin, '\\n')",
          "new_text": null,
          "old_line_content": "\t\t\tstdin_eof = strbuf_getline(&command_buf, stdin, '\\n');",
          "new_line_content": "\t\t\tif (!seen_data_command",
          "content_same": false
        },
        {
          "line": 1815,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(command_buf.buf, \"feature \")",
          "new_text": null,
          "old_line_content": "\t\t\t\t&& prefixcmp(command_buf.buf, \"feature \")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(command_buf.buf, \"option \")",
          "new_text": null,
          "old_line_content": "\t\t\t\t&& prefixcmp(command_buf.buf, \"option \")) {",
          "new_line_content": "\t\t\trc = rc_free;",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": "parse_argv",
          "new_api": null,
          "old_text": "parse_argv()",
          "new_text": null,
          "old_line_content": "\t\t\t\tparse_argv();",
          "new_line_content": "\t\t\tif (rc)",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(rc->buf)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfree(rc->buf);",
          "new_line_content": "\t\t\trc->prev = cmd_tail;",
          "content_same": false
        },
        {
          "line": 1843,
          "old_api": "fgetc",
          "new_api": null,
          "old_text": "fgetc(stdin)",
          "new_text": null,
          "old_line_content": "\tint term_char = fgetc(stdin);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1845,
          "old_api": "ungetc",
          "new_api": null,
          "old_text": "ungetc(term_char, stdin)",
          "new_text": null,
          "old_line_content": "\t\tungetc(term_char, stdin);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1850,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(command_buf.buf, \"mark :\")",
          "new_text": null,
          "old_line_content": "\tif (!prefixcmp(command_buf.buf, \"mark :\")) {",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": "strtoumax",
          "new_api": null,
          "old_text": "strtoumax(command_buf.buf + 6, NULL, 10)",
          "new_text": null,
          "old_line_content": "\t\tnext_mark = strtoumax(command_buf.buf + 6, NULL, 10);",
          "new_line_content": "\t\tnext_mark = 0;",
          "content_same": false
        },
        {
          "line": 1852,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\t\tread_next_command();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(sb)",
          "new_text": null,
          "old_line_content": "\tstrbuf_reset(sb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Expected 'data n' command, found: %s\", command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Expected 'data n' command, found: %s\", command_buf.buf);",
          "new_line_content": "\t\tsize_t term_len = command_buf.len - 5 - 2;",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": "xstrdup",
          "new_api": null,
          "old_text": "xstrdup(command_buf.buf + 5 + 2)",
          "new_text": null,
          "old_line_content": "\t\tchar *term = xstrdup(command_buf.buf + 5 + 2);",
          "new_line_content": "\t\tfor (;;) {",
          "content_same": false
        },
        {
          "line": 1869,
          "old_api": "strbuf_detach",
          "new_api": null,
          "old_text": "strbuf_detach(&command_buf, NULL)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_detach(&command_buf, NULL);",
          "new_line_content": "\t\t\tif (term_len == command_buf.len",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": "strbuf_getline",
          "new_api": null,
          "old_text": "strbuf_getline(&command_buf, stdin, '\\n')",
          "new_text": null,
          "old_line_content": "\t\t\tif (strbuf_getline(&command_buf, stdin, '\\n') == EOF)",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(term, command_buf.buf)",
          "new_text": null,
          "old_line_content": "\t\t\t\t&& !strcmp(term, command_buf.buf))",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1876,
          "old_api": "strbuf_addbuf",
          "new_api": null,
          "old_text": "strbuf_addbuf(sb, &command_buf)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_addbuf(sb, &command_buf);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1877,
          "old_api": "strbuf_addch",
          "new_api": null,
          "old_text": "strbuf_addch(sb, '\\n')",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_addch(sb, '\\n');",
          "new_line_content": "\telse {",
          "content_same": false
        },
        {
          "line": 1879,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(term)",
          "new_text": null,
          "old_line_content": "\t\tfree(term);",
          "new_line_content": "\t\tsize_t n = 0, length = (size_t)len;",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": "strtoumax",
          "new_api": null,
          "old_text": "strtoumax(command_buf.buf + 5, NULL, 10)",
          "new_text": null,
          "old_line_content": "\t\tuintmax_t len = strtoumax(command_buf.buf + 5, NULL, 10);",
          "new_line_content": "\t\t\t*len_res = len;",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": "strbuf_fread",
          "new_api": null,
          "old_text": "strbuf_fread(sb, length - n, stdin)",
          "new_text": null,
          "old_line_content": "\t\t\tsize_t s = strbuf_fread(sb, length - n, stdin);",
          "new_line_content": "\t\t\tn += s;",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": "feof",
          "new_api": null,
          "old_text": "feof(stdin)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!s && feof(stdin))",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"EOF in data (%lu bytes remaining)\",\n\t\t\t\t\t(unsigned long)(length - n))",
          "new_text": null,
          "old_line_content": "\t\t\t\tdie(\"EOF in data (%lu bytes remaining)\",",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1901,
          "old_api": "skip_optional_lf",
          "new_api": null,
          "old_text": "skip_optional_lf()",
          "new_text": null,
          "old_line_content": "\tskip_optional_lf();",
          "new_line_content": "static int validate_raw_date(const char *src, char *result, int maxlen)",
          "content_same": false
        },
        {
          "line": 1913,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(src, &endp, 10)",
          "new_text": null,
          "old_line_content": "\tnum = strtoul(src, &endp, 10);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1922,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(src + 1, &endp, 10)",
          "new_text": null,
          "old_line_content": "\tnum = strtoul(src + 1, &endp, 10);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1927,
          "old_api": "strcpy",
          "new_api": null,
          "old_text": "strcpy(result, orig_src)",
          "new_text": null,
          "old_line_content": "\tstrcpy(result, orig_src);",
          "new_line_content": "static char *parse_ident(const char *buf)",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": "strrchr",
          "new_api": null,
          "old_text": "strrchr(buf, '>')",
          "new_text": null,
          "old_line_content": "\tgt = strrchr(buf, '>');",
          "new_line_content": "\tif (*gt != ' ')",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Missing > in ident string: %s\", buf)",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Missing > in ident string: %s\", buf);",
          "new_line_content": "\tgt++;",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(name_len + 24)",
          "new_text": null,
          "old_line_content": "\tident = xmalloc(name_len + 24);",
          "new_line_content": "\tcase WHENSPEC_RAW:",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"now\", gt)",
          "new_text": null,
          "old_line_content": "\t\tif (strcmp(\"now\", gt))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1959,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Date in ident must be 'now': %s\", buf)",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"Date in ident must be 'now': %s\", buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": "datestamp",
          "new_api": null,
          "old_text": "datestamp(ident + name_len, 24)",
          "new_text": null,
          "old_line_content": "\t\tdatestamp(ident + name_len, 24);",
          "new_line_content": "\treturn ident;",
          "content_same": false
        },
        {
          "line": 1976,
          "old_api": "store_object",
          "new_api": null,
          "old_text": "store_object(OBJ_BLOB, &buf, last, sha1out, mark)",
          "new_text": null,
          "old_line_content": "\t\tstore_object(OBJ_BLOB, &buf, last, sha1out, mark);",
          "new_line_content": "\t\t\tlast->offset = 0;",
          "content_same": false
        },
        {
          "line": 1983,
          "old_api": "stream_blob",
          "new_api": null,
          "old_text": "stream_blob(len, sha1out, mark)",
          "new_text": null,
          "old_line_content": "\t\tstream_blob(len, sha1out, mark);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": "skip_optional_lf",
          "new_api": null,
          "old_text": "skip_optional_lf()",
          "new_text": null,
          "old_line_content": "\t\tskip_optional_lf();",
          "new_line_content": "static void parse_new_blob(void)",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": "read_next_command",
          "new_api": null,
          "old_text": "read_next_command()",
          "new_text": null,
          "old_line_content": "\tread_next_command();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1991,
          "old_api": "parse_mark",
          "new_api": null,
          "old_text": "parse_mark()",
          "new_text": null,
          "old_line_content": "\tparse_mark();",
          "new_line_content": "static void unload_one_branch(void)",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": "parse_and_store_blob",
          "new_api": null,
          "old_text": "parse_and_store_blob(&last_blob, NULL, next_mark)",
          "new_text": null,
          "old_line_content": "\tparse_and_store_blob(&last_blob, NULL, next_mark);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2020,
          "old_api": "release_tree_content_recursive",
          "new_api": null,
          "old_text": "release_tree_content_recursive(e->branch_tree.tree)",
          "new_text": null,
          "old_line_content": "\t\t\trelease_tree_content_recursive(e->branch_tree.tree);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": "load_tree",
          "new_api": null,
          "old_text": "load_tree(&b->branch_tree)",
          "new_text": null,
          "old_line_content": "\tload_tree(&b->branch_tree);",
          "new_line_content": "\t\tactive_branches = b;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 196,
      "total_additions": 378,
      "total_deletions": 379,
      "total_api_changes": 953
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 953,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          1048,
          1050,
          1044,
          1047
        ]
      }
    },
    "api_calls_before": 830,
    "api_calls_after": 829,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 6,
      "total_diff_lines": 22
    }
  }
}