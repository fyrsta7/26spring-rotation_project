{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/f2cba9299be45f8e027f7b45c6e4a3cae55576c6",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/f2cba9299be45f8e027f7b45c6e4a3cae55576c6/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/f2cba9299be45f8e027f7b45c6e4a3cae55576c6/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/f2cba9299be45f8e027f7b45c6e4a3cae55576c6/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 398,
          "old_api": "fprintf",
          "new_api": "send_request",
          "old_text": "fprintf(stderr, \"done\\n\")",
          "new_text": "send_request(fd[1], &req_buf)",
          "old_line_content": "\t\tfprintf(stderr, \"done\\n\");",
          "new_line_content": "\tsend_request(fd[1], &req_buf);",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": "consume_shallow_list",
          "new_api": "strbuf_release",
          "old_text": "consume_shallow_list(fd[0])",
          "new_text": "strbuf_release(&req_buf)",
          "old_line_content": "\tconsume_shallow_list(fd[0]);",
          "new_line_content": "\tstrbuf_release(&req_buf);",
          "content_same": false
        },
        {
          "line": 407,
          "old_api": "get_ack",
          "new_api": "consume_shallow_list",
          "old_text": "get_ack(fd[0], result_sha1)",
          "new_text": "consume_shallow_list(fd[0])",
          "old_line_content": "\t\tint ack = get_ack(fd[0], result_sha1);",
          "new_line_content": "\tconsume_shallow_list(fd[0]);",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": "pop_most_recent_commit",
          "new_api": "fprintf",
          "old_text": "pop_most_recent_commit(&complete, COMPLETE)",
          "new_text": "fprintf(stderr, \"Marking %s as complete\\n\",\n\t\t\t\tsha1_to_hex(complete->item->object.sha1))",
          "old_line_content": "\t\tpop_most_recent_commit(&complete, COMPLETE);",
          "new_line_content": "\t\t\tfprintf(stderr, \"Marking %s as complete\\n\",",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": "mark_recent_complete_commits",
          "new_api": "for_each_ref",
          "old_text": "mark_recent_complete_commits(cutoff)",
          "new_text": "for_each_ref(mark_complete, NULL)",
          "old_line_content": "\t\t\tmark_recent_complete_commits(cutoff);",
          "new_line_content": "\t\tfor_each_ref(mark_complete, NULL);",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": "mark_common",
          "new_api": "rev_list_push",
          "old_text": "mark_common((struct commit *)o, 1, 1)",
          "new_text": "rev_list_push((struct commit *)o, COMMON_REF | SEEN)",
          "old_line_content": "\t\t\tmark_common((struct commit *)o, 1, 1);",
          "new_line_content": "\t\t\trev_list_push((struct commit *)o, COMMON_REF | SEEN);",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": "snprintf",
          "new_api": "read_pack_header",
          "old_text": "snprintf(hdr_arg, sizeof(hdr_arg),\n\t\t\t \"--pack_header=%\"PRIu32\",%\"PRIu32,\n\t\t\t ntohl(header.hdr_version), ntohl(header.hdr_entries))",
          "new_text": "read_pack_header(demux.out, &header)",
          "old_line_content": "\t\tsnprintf(hdr_arg, sizeof(hdr_arg),",
          "new_line_content": "\t\tif (read_pack_header(demux.out, &header))",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": "ntohl",
          "new_api": "snprintf",
          "old_text": "ntohl(header.hdr_entries)",
          "new_text": "snprintf(hdr_arg, sizeof(hdr_arg),\n\t\t\t \"--pack_header=%\"PRIu32\",%\"PRIu32,\n\t\t\t ntohl(header.hdr_version), ntohl(header.hdr_entries))",
          "old_line_content": "\t\t\t ntohl(header.hdr_version), ntohl(header.hdr_entries));",
          "new_line_content": "\t\tsnprintf(hdr_arg, sizeof(hdr_arg),",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": "gethostname",
          "new_api": "sprintf",
          "old_text": "gethostname(keep_arg + s, sizeof(keep_arg) - s)",
          "new_text": "sprintf(keep_arg,\n\t\t\t\t\t\"--keep=fetch-pack %\"PRIuMAX \" on \", (uintmax_t) getpid())",
          "old_line_content": "\t\t\tif (gethostname(keep_arg + s, sizeof(keep_arg) - s))",
          "new_line_content": "\t\t\tint s = sprintf(keep_arg,",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": "strcpy",
          "new_api": "getpid",
          "old_text": "strcpy(keep_arg + s, \"localhost\")",
          "new_text": "getpid()",
          "old_line_content": "\t\t\t\tstrcpy(keep_arg + s, \"localhost\");",
          "new_line_content": "\t\t\t\t\t\"--keep=fetch-pack %\"PRIuMAX \" on \", (uintmax_t) getpid());",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": "index_pack_lockfile",
          "new_api": "die",
          "old_text": "index_pack_lockfile(cmd.out)",
          "new_text": "die(\"fetch-pack: unable to fork off %s\", argv[0])",
          "old_line_content": "\t\t*pack_lockfile = index_pack_lockfile(cmd.out);",
          "new_line_content": "\t\tdie(\"fetch-pack: unable to fork off %s\", argv[0]);",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": "finish_async",
          "new_api": "finish_command",
          "old_text": "finish_async(&demux)",
          "new_text": "finish_command(&cmd)",
          "old_line_content": "\tif (use_sideband && finish_async(&demux))",
          "new_line_content": "\tif (finish_command(&cmd))",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": "fprintf",
          "new_api": "server_supports",
          "old_text": "fprintf(stderr, \"Server supports multi_ack_detailed\\n\")",
          "new_text": "server_supports(\"multi_ack_detailed\")",
          "old_line_content": "\t\t\tfprintf(stderr, \"Server supports multi_ack_detailed\\n\");",
          "new_line_content": "\tif (server_supports(\"multi_ack_detailed\")) {",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": "fprintf",
          "new_api": "server_supports",
          "old_text": "fprintf(stderr, \"Server supports multi_ack\\n\")",
          "new_text": "server_supports(\"multi_ack\")",
          "old_line_content": "\t\t\tfprintf(stderr, \"Server supports multi_ack\\n\");",
          "new_line_content": "\telse if (server_supports(\"multi_ack\")) {",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": "fprintf",
          "new_api": "server_supports",
          "old_text": "fprintf(stderr, \"Server supports side-band-64k\\n\")",
          "new_text": "server_supports(\"side-band-64k\")",
          "old_line_content": "\t\t\tfprintf(stderr, \"Server supports side-band-64k\\n\");",
          "new_line_content": "\tif (server_supports(\"side-band-64k\")) {",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": "fprintf",
          "new_api": "server_supports",
          "old_text": "fprintf(stderr, \"Server supports side-band\\n\")",
          "new_text": "server_supports(\"side-band\")",
          "old_line_content": "\t\t\tfprintf(stderr, \"Server supports side-band\\n\");",
          "new_line_content": "\telse if (server_supports(\"side-band\")) {",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": "fprintf",
          "new_api": "server_supports",
          "old_text": "fprintf(stderr, \"Server supports ofs-delta\\n\")",
          "new_text": "server_supports(\"ofs-delta\")",
          "old_line_content": "\t\t\tfprintf(stderr, \"Server supports ofs-delta\\n\");",
          "new_line_content": "\tif (server_supports(\"ofs-delta\")) {",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": "die",
          "new_api": "packet_flush",
          "old_text": "die(\"git fetch-pack: fetch failed.\")",
          "new_text": "packet_flush(fd[1])",
          "old_line_content": "\t\tdie(\"git fetch-pack: fetch failed.\");",
          "new_line_content": "\t\tpacket_flush(fd[1]);",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "fetch_pack",
          "new_api": "get_remote_heads",
          "old_text": "fetch_pack(&args, fd, conn, ref, dest,\n\t\tnr_heads, heads, pack_lockfile_ptr)",
          "new_text": "get_remote_heads(fd[0], &ref, 0, NULL, 0, NULL)",
          "old_line_content": "\tref = fetch_pack(&args, fd, conn, ref, dest,",
          "new_line_content": "\tget_remote_heads(fd[0], &ref, 0, NULL, 0, NULL);",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": "close",
          "new_api": "fflush",
          "old_text": "close(fd[0])",
          "new_text": "fflush(stdout)",
          "old_line_content": "\tclose(fd[0]);",
          "new_line_content": "\t\tfflush(stdout);",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": "finish_connect",
          "new_api": "close",
          "old_text": "finish_connect(conn)",
          "new_text": "close(fd[0])",
          "old_line_content": "\tif (finish_connect(conn))",
          "new_line_content": "\tclose(fd[0]);",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": "memcpy",
          "new_api": "fetch_pack_setup",
          "old_text": "memcpy(&args, my_args, sizeof(args))",
          "new_text": "fetch_pack_setup()",
          "old_line_content": "\t\tmemcpy(&args, my_args, sizeof(args));",
          "new_line_content": "\tfetch_pack_setup();",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": "git_path",
          "new_api": "memcpy",
          "old_text": "git_path(\"shallow\")",
          "new_text": "memcpy(&args, my_args, sizeof(args))",
          "old_line_content": "\t\tif (stat(git_path(\"shallow\"), &st))",
          "new_line_content": "\t\tmemcpy(&args, my_args, sizeof(args));",
          "content_same": false
        },
        {
          "line": 939,
          "old_api": "packet_flush",
          "new_api": "remove_duplicates",
          "old_text": "packet_flush(fd[1])",
          "new_text": "remove_duplicates(nr_heads, heads)",
          "old_line_content": "\t\tpacket_flush(fd[1]);",
          "new_line_content": "\t\tnr_heads = remove_duplicates(nr_heads, heads);",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": "do_fetch_pack",
          "new_api": "die",
          "old_text": "do_fetch_pack(fd, ref, nr_heads, heads, pack_lockfile)",
          "new_text": "die(\"no matching remote head\")",
          "old_line_content": "\tref_cpy = do_fetch_pack(fd, ref, nr_heads, heads, pack_lockfile);",
          "new_line_content": "\t\tdie(\"no matching remote head\");",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "die",
          "new_api": "stat",
          "old_text": "die(\"shallow file was removed during fetch\")",
          "new_text": "stat(shallow, &st)",
          "old_line_content": "\t\t\t\tdie(\"shallow file was removed during fetch\");",
          "new_line_content": "\t\tif (stat(shallow, &st)) {",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": "hold_lock_file_for_update",
          "new_api": "die",
          "old_text": "hold_lock_file_for_update(&lock, shallow,\n\t\t\t\t\t       LOCK_DIE_ON_ERROR)",
          "new_text": "die(\"shallow file was changed during fetch\")",
          "old_line_content": "\t\tfd = hold_lock_file_for_update(&lock, shallow,",
          "new_line_content": "\t\t\tdie(\"shallow file was changed during fetch\");",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": "write_shallow_commits",
          "new_api": "hold_lock_file_for_update",
          "old_text": "write_shallow_commits(&sb, 0)",
          "new_text": "hold_lock_file_for_update(&lock, shallow,\n\t\t\t\t\t       LOCK_DIE_ON_ERROR)",
          "old_line_content": "\t\tif (!write_shallow_commits(&sb, 0)",
          "new_line_content": "\t\tfd = hold_lock_file_for_update(&lock, shallow,",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": "unlink_or_warn",
          "new_api": "write_shallow_commits",
          "old_text": "unlink_or_warn(shallow)",
          "new_text": "write_shallow_commits(&sb, 0)",
          "old_line_content": "\t\t\tunlink_or_warn(shallow);",
          "new_line_content": "\t\tif (!write_shallow_commits(&sb, 0)",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": "rollback_lock_file",
          "new_api": "write_in_full",
          "old_text": "rollback_lock_file(&lock)",
          "new_text": "write_in_full(fd, sb.buf, sb.len)",
          "old_line_content": "\t\t\trollback_lock_file(&lock);",
          "new_line_content": "\t\t || write_in_full(fd, sb.buf, sb.len) != sb.len) {",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": "commit_lock_file",
          "new_api": "rollback_lock_file",
          "old_text": "commit_lock_file(&lock)",
          "new_text": "rollback_lock_file(&lock)",
          "old_line_content": "\t\t\tcommit_lock_file(&lock);",
          "new_line_content": "\t\t\trollback_lock_file(&lock);",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": "strbuf_release",
          "new_api": "commit_lock_file",
          "old_text": "strbuf_release(&sb)",
          "new_text": "commit_lock_file(&lock)",
          "old_line_content": "\t\tstrbuf_release(&sb);",
          "new_line_content": "\t\t\tcommit_lock_file(&lock);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 524,
          "old_api": null,
          "new_api": "parse_object",
          "old_text": null,
          "new_text": "parse_object(ref->old_sha1)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\to = parse_object(ref->old_sha1);",
          "content_same": false
        },
        {
          "line": 542,
          "old_api": null,
          "new_api": "mark_recent_complete_commits",
          "old_text": null,
          "new_text": "mark_recent_complete_commits(cutoff)",
          "old_line_content": "",
          "new_line_content": "\t\t\tmark_recent_complete_commits(cutoff);",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": null,
          "new_api": "lookup_object",
          "old_text": null,
          "new_text": "lookup_object(ref->old_sha1)",
          "old_line_content": "",
          "new_line_content": "\t\tstruct object *o = deref_tag(lookup_object(ref->old_sha1),",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": null,
          "new_api": "mark_common",
          "old_text": null,
          "new_text": "mark_common((struct commit *)o, 1, 1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tmark_common((struct commit *)o, 1, 1);",
          "content_same": false
        },
        {
          "line": 563,
          "old_api": null,
          "new_api": "filter_refs",
          "old_text": null,
          "new_text": "filter_refs(refs, nr_match, match)",
          "old_line_content": "\tfor (retval = 1, ref = *refs; ref ; ref = ref->next) {",
          "new_line_content": "\tfilter_refs(refs, nr_match, match);",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": null,
          "new_api": "lookup_object",
          "old_text": null,
          "new_text": "lookup_object(remote)",
          "old_line_content": "\t\t\tretval = 0;",
          "new_line_content": "\t\to = lookup_object(remote);",
          "content_same": false
        },
        {
          "line": 575,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\n\t\t\t\t\"want %s (%s)\\n\", sha1_to_hex(remote),\n\t\t\t\tref->name)",
          "old_line_content": "\t\t\t\tref->name);",
          "new_line_content": "\t\t\tfprintf(stderr,",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(remote)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\t\t\"want %s (%s)\\n\", sha1_to_hex(remote),",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": null,
          "new_api": "hashcpy",
          "old_text": null,
          "new_text": "hashcpy(ref->new_sha1, local)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\thashcpy(ref->new_sha1, local);",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\n\t\t\t\"already have %s (%s)\\n\", sha1_to_hex(remote),\n\t\t\tref->name)",
          "old_line_content": "\t\t\tref->name);",
          "new_line_content": "\t\tfprintf(stderr,",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(remote)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\"already have %s (%s)\\n\", sha1_to_hex(remote),",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": null,
          "new_api": "recv_sideband",
          "old_text": null,
          "new_text": "recv_sideband(\"fetch-pack\", xd[0], out)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\tint ret = recv_sideband(\"fetch-pack\", xd[0], out);",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(out)",
          "old_line_content": "}",
          "new_line_content": "\tclose(out);",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&demux, 0, sizeof(demux))",
          "old_line_content": "\t\t/* xd[] is talking with upload-pack; subprocess reads from",
          "new_line_content": "\tmemset(&demux, 0, sizeof(demux));",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": null,
          "new_api": "start_async",
          "old_text": null,
          "new_text": "start_async(&demux)",
          "old_line_content": "\t\t\t    \" demultiplexer\");",
          "new_line_content": "\t\tif (start_async(&demux))",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"fetch-pack: unable to fork off sideband\"\n\t\t\t    \" demultiplexer\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tdie(\"fetch-pack: unable to fork off sideband\"",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&cmd, 0, sizeof(cmd))",
          "old_line_content": "\tav = argv;",
          "new_line_content": "\tmemset(&cmd, 0, sizeof(cmd));",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"protocol error: bad pack header\")",
          "old_line_content": "\t\t\t \"--pack_header=%\"PRIu32\",%\"PRIu32,",
          "new_line_content": "\t\t\tdie(\"protocol error: bad pack header\");",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(header.hdr_entries)",
          "old_line_content": "\t\t\tdo_keep = 0;",
          "new_line_content": "\t\t\t ntohl(header.hdr_version), ntohl(header.hdr_entries));",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": null,
          "new_api": "ntohl",
          "old_text": null,
          "new_text": "ntohl(header.hdr_entries)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\tif (ntohl(header.hdr_entries) < unpack_limit)",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "gethostname",
          "old_text": null,
          "new_text": "gethostname(keep_arg + s, sizeof(keep_arg) - s)",
          "old_line_content": "\t\t\t*av++ = keep_arg;",
          "new_line_content": "\t\t\tif (gethostname(keep_arg + s, sizeof(keep_arg) - s))",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(keep_arg + s, \"localhost\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tstrcpy(keep_arg + s, \"localhost\");",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "start_command",
          "old_text": null,
          "new_text": "start_command(&cmd)",
          "old_line_content": "\tif (do_keep && pack_lockfile) {",
          "new_line_content": "\tif (start_command(&cmd))",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": null,
          "new_api": "index_pack_lockfile",
          "old_text": null,
          "new_text": "index_pack_lockfile(cmd.out)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t*pack_lockfile = index_pack_lockfile(cmd.out);",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(cmd.out)",
          "old_line_content": "",
          "new_line_content": "\t\tclose(cmd.out);",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": null,
          "new_api": "finish_async",
          "old_text": null,
          "new_text": "finish_async(&demux)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\tif (use_sideband && finish_async(&demux))",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"error in sideband demultiplexer\")",
          "old_line_content": "}",
          "new_line_content": "\t\tdie(\"error in sideband demultiplexer\");",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": null,
          "new_api": "copy_ref_list",
          "old_text": null,
          "new_text": "copy_ref_list(orig_ref)",
          "old_line_content": "",
          "new_line_content": "\tstruct ref *ref = copy_ref_list(orig_ref);",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"Server does not support shallow clients\")",
          "old_line_content": "\t\tif (args.verbose)",
          "new_line_content": "\t\tdie(\"Server does not support shallow clients\");",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Server supports multi_ack_detailed\\n\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tfprintf(stderr, \"Server supports multi_ack_detailed\\n\");",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Server supports multi_ack\\n\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tfprintf(stderr, \"Server supports multi_ack\\n\");",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Server supports side-band-64k\\n\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tfprintf(stderr, \"Server supports side-band-64k\\n\");",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Server supports side-band\\n\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tfprintf(stderr, \"Server supports side-band\\n\");",
          "content_same": false
        },
        {
          "line": 719,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Server supports ofs-delta\\n\")",
          "old_line_content": "\t\tprefer_ofs_delta = 0;",
          "new_line_content": "\t\t\tfprintf(stderr, \"Server supports ofs-delta\\n\");",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": null,
          "new_api": "everything_local",
          "old_text": null,
          "new_text": "everything_local(&ref, nr_match, match)",
          "old_line_content": "\t\tgoto all_done;",
          "new_line_content": "\tif (everything_local(&ref, nr_match, match)) {",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": null,
          "new_api": "packet_flush",
          "old_text": null,
          "new_text": "packet_flush(fd[1])",
          "old_line_content": "\t}",
          "new_line_content": "\t\tpacket_flush(fd[1]);",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": null,
          "new_api": "find_common",
          "old_text": null,
          "new_text": "find_common(fd, sha1, ref)",
          "old_line_content": "\t\t\t/* When cloning, it is not unusual to have",
          "new_line_content": "\tif (find_common(fd, sha1, ref) < 0)",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": null,
          "new_api": "warning",
          "old_text": null,
          "new_text": "warning(\"no common commits\")",
          "old_line_content": "\tif (args.stateless_rpc)",
          "new_line_content": "\t\t\twarning(\"no common commits\");",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": null,
          "new_api": "get_pack",
          "old_text": null,
          "new_text": "get_pack(fd, pack_lockfile)",
          "old_line_content": "",
          "new_line_content": "\tif (get_pack(fd, pack_lockfile))",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"git fetch-pack: fetch failed.\")",
          "old_line_content": " all_done:",
          "new_line_content": "\t\tdie(\"git fetch-pack: fetch failed.\");",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(heads[i], heads[src])",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tif (!strcmp(heads[i], heads[src]))",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(var, \"fetch.unpacklimit\")",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\tif (strcmp(var, \"fetch.unpacklimit\") == 0) {",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": null,
          "new_api": "git_config_int",
          "old_text": null,
          "new_text": "git_config_int(var, value)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tfetch_unpack_limit = git_config_int(var, value);",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(var, \"transfer.unpacklimit\")",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\tif (strcmp(var, \"transfer.unpacklimit\") == 0) {",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": null,
          "new_api": "git_config_int",
          "old_text": null,
          "new_text": "git_config_int(var, value)",
          "old_line_content": "\t}",
          "new_line_content": "\t\ttransfer_unpack_limit = git_config_int(var, value);",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(var, \"repack.usedeltabaseoffset\")",
          "old_line_content": "\t\treturn 0;",
          "new_line_content": "\tif (strcmp(var, \"repack.usedeltabaseoffset\") == 0) {",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": null,
          "new_api": "git_config_bool",
          "old_text": null,
          "new_text": "git_config_bool(var, value)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tprefer_ofs_delta = git_config_bool(var, value);",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": null,
          "new_api": "git_default_config",
          "old_text": null,
          "new_text": "git_default_config(var, value, cb)",
          "old_line_content": "",
          "new_line_content": "\treturn git_default_config(var, value, cb);",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": null,
          "new_api": "git_config",
          "old_text": null,
          "new_text": "git_config(fetch_pack_config, NULL)",
          "old_line_content": "\t\tunpack_limit = transfer_unpack_limit;",
          "new_line_content": "\tgit_config(fetch_pack_config, NULL);",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(arg, \"--upload-pack=\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!prefixcmp(arg, \"--upload-pack=\")) {",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(arg, \"--exec=\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!prefixcmp(arg, \"--exec=\")) {",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\"-q\", arg)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(\"--quiet\", arg) || !strcmp(\"-q\", arg)) {",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\"-k\", arg)",
          "old_line_content": "\t\t\t\targs.keep_pack = 1;",
          "new_line_content": "\t\t\tif (!strcmp(\"--keep\", arg) || !strcmp(\"-k\", arg)) {",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\"--thin\", arg)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(\"--thin\", arg)) {",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\"--include-tag\", arg)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(\"--include-tag\", arg)) {",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\"--all\", arg)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(\"--all\", arg)) {",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\"-v\", arg)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(\"-v\", arg)) {",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(arg, \"--depth=\")",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!prefixcmp(arg, \"--depth=\")) {",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(arg + 8, NULL, 0)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\targs.depth = strtol(arg + 8, NULL, 0);",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\"--no-progress\", arg)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(\"--no-progress\", arg)) {",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\"--stateless-rpc\", arg)",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\tif (!strcmp(\"--stateless-rpc\", arg)) {",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\"--lock-pack\", arg)",
          "old_line_content": "\t\t\t\tpack_lockfile_ptr = &pack_lockfile;",
          "new_line_content": "\t\t\tif (!strcmp(\"--lock-pack\", arg)) {",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": null,
          "new_api": "usage",
          "old_text": null,
          "new_text": "usage(fetch_pack_usage)",
          "old_line_content": "\t\tdest = (char *)arg;",
          "new_line_content": "\t\t\tusage(fetch_pack_usage);",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": null,
          "new_api": "usage",
          "old_text": null,
          "new_text": "usage(fetch_pack_usage)",
          "old_line_content": "\tif (args.stateless_rpc) {",
          "new_line_content": "\t\tusage(fetch_pack_usage);",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": null,
          "new_api": "git_connect",
          "old_text": null,
          "new_text": "git_connect(fd, (char *)dest, args.uploadpack,\n\t\t\t\t   args.verbose ? CONNECT_VERBOSE : 0)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tconn = git_connect(fd, (char *)dest, args.uploadpack,",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": null,
          "new_api": "fetch_pack",
          "old_text": null,
          "new_text": "fetch_pack(&args, fd, conn, ref, dest,\n\t\tnr_heads, heads, pack_lockfile_ptr)",
          "old_line_content": "\tif (pack_lockfile) {",
          "new_line_content": "\tref = fetch_pack(&args, fd, conn, ref, dest,",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"lock %s\\n\", pack_lockfile)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tprintf(\"lock %s\\n\", pack_lockfile);",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(fd[1])",
          "old_line_content": "\t\tref = NULL;",
          "new_line_content": "\tclose(fd[1]);",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": null,
          "new_api": "finish_connect",
          "old_text": null,
          "new_text": "finish_connect(conn)",
          "old_line_content": "\tret = !ref;",
          "new_line_content": "\tif (finish_connect(conn))",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"giving up\\n\")",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tfprintf(stderr, \"giving up\\n\");",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"no such remote ref %s\", heads[i])",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\terror(\"no such remote ref %s\", heads[i]);",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": null,
          "new_api": "packet_buf_write",
          "old_text": null,
          "new_text": "packet_buf_write(&req_buf, \"done\\n\")",
          "old_line_content": "\tif (args.verbose)",
          "new_line_content": "\tpacket_buf_write(&req_buf, \"done\\n\");",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"%s %s\\n\",\n\t\t       sha1_to_hex(ref->old_sha1), ref->name)",
          "old_line_content": "\t\tref = ref->next;",
          "new_line_content": "\t\tprintf(\"%s %s\\n\",",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"done\\n\")",
          "old_line_content": "\t\tmulti_ack = 0;",
          "new_line_content": "\t\tfprintf(stderr, \"done\\n\");",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(ref->old_sha1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t       sha1_to_hex(ref->old_sha1), ref->name);",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": null,
          "new_api": "get_ack",
          "old_text": null,
          "new_text": "get_ack(fd[0], result_sha1)",
          "old_line_content": "\t\t\tif (args.verbose)",
          "new_line_content": "\t\tint ack = get_ack(fd[0], result_sha1);",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"got ack (%d) %s\\n\", ack,\n\t\t\t\t\tsha1_to_hex(result_sha1))",
          "old_line_content": "\t\t\tif (ack == ACK)",
          "new_line_content": "\t\t\t\tfprintf(stderr, \"got ack (%d) %s\\n\", ack,",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(result_sha1)",
          "old_line_content": "\t\t\t\treturn 0;",
          "new_line_content": "\t\t\t\t\tsha1_to_hex(result_sha1));",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": null,
          "new_api": "git_path",
          "old_text": null,
          "new_text": "git_path(\"shallow\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (stat(git_path(\"shallow\"), &st))",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": null,
          "new_api": "parse_object",
          "old_text": null,
          "new_text": "parse_object(sha1)",
          "old_line_content": "\twhile (o && o->type == OBJ_TAG) {",
          "new_line_content": "\tstruct object *o = parse_object(sha1);",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": null,
          "new_api": "packet_flush",
          "old_text": null,
          "new_text": "packet_flush(fd[1])",
          "old_line_content": "\t}",
          "new_line_content": "\t\tpacket_flush(fd[1]);",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "do_fetch_pack",
          "old_text": null,
          "new_text": "do_fetch_pack(fd, ref, nr_heads, heads, pack_lockfile)",
          "old_line_content": "\tif (args.depth > 0) {",
          "new_line_content": "\tref_cpy = do_fetch_pack(fd, ref, nr_heads, heads, pack_lockfile);",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": null,
          "new_api": "parse_object",
          "old_text": null,
          "new_text": "parse_object(t->tagged->sha1)",
          "old_line_content": "\tif (o && o->type == OBJ_COMMIT) {",
          "new_line_content": "\t\to = parse_object(t->tagged->sha1);",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": null,
          "new_api": "git_path",
          "old_text": null,
          "new_text": "git_path(\"shallow\")",
          "old_line_content": "",
          "new_line_content": "\t\tchar *shallow = git_path(\"shallow\");",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": null,
          "new_api": "commit_list_insert_by_date",
          "old_text": null,
          "new_text": "commit_list_insert_by_date(commit, &complete)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\tcommit_list_insert_by_date(commit, &complete);",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": null,
          "new_api": "ST_MTIME_NSEC",
          "old_text": null,
          "new_text": "ST_MTIME_NSEC(st)",
          "old_line_content": "\t\t\tif (mtime.sec)",
          "new_line_content": "\t\tmtime.nsec = ST_MTIME_NSEC(st);",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": null,
          "new_api": "die",
          "old_text": null,
          "new_text": "die(\"shallow file was removed during fetch\")",
          "old_line_content": "#ifdef USE_NSEC",
          "new_line_content": "\t\t\t\tdie(\"shallow file was removed during fetch\");",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": null,
          "new_api": "ST_MTIME_NSEC",
          "old_text": null,
          "new_text": "ST_MTIME_NSEC(st)",
          "old_line_content": "\t\t\t  )",
          "new_line_content": "\t\t\t\t|| ST_MTIME_NSEC(st) != mtime.nsec",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": null,
          "new_api": "sha1_to_hex",
          "old_text": null,
          "new_text": "sha1_to_hex(complete->item->object.sha1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\tsha1_to_hex(complete->item->object.sha1));",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": null,
          "new_api": "pop_most_recent_commit",
          "old_text": null,
          "new_text": "pop_most_recent_commit(&complete, COMPLETE)",
          "old_line_content": "}",
          "new_line_content": "\t\tpop_most_recent_commit(&complete, COMPLETE);",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": null,
          "new_api": "unlink_or_warn",
          "old_text": null,
          "new_text": "unlink_or_warn(shallow)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\tunlink_or_warn(shallow);",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&sb)",
          "old_line_content": "",
          "new_line_content": "\t\tstrbuf_release(&sb);",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": null,
          "new_api": "reprepare_packed_git",
          "old_text": null,
          "new_text": "reprepare_packed_git()",
          "old_line_content": "}",
          "new_line_content": "\treprepare_packed_git();",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": null,
          "new_api": "ARRAY_SIZE",
          "old_text": null,
          "new_text": "ARRAY_SIZE(fastarray)",
          "old_line_content": "\t\telse {",
          "new_line_content": "\t\tif (ARRAY_SIZE(fastarray) < nr_match)",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(nr_match, sizeof(struct ref *))",
          "old_line_content": "\t\t\treturn_refs = fastarray;",
          "new_line_content": "\t\t\treturn_refs = xcalloc(nr_match, sizeof(struct ref *));",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(return_refs, 0, sizeof(struct ref *) * nr_match)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tmemset(return_refs, 0, sizeof(struct ref *) * nr_match);",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(ref->name, \"refs/\", 5)",
          "old_line_content": "\t\t\t; /* trash */",
          "new_line_content": "\t\tif (!memcmp(ref->name, \"refs/\", 5) &&",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": null,
          "new_api": "check_ref_format",
          "old_text": null,
          "new_text": "check_ref_format(ref->name + 5)",
          "old_line_content": "\t\telse if (args.fetch_all &&",
          "new_line_content": "\t\t    check_ref_format(ref->name + 5))",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": null,
          "new_api": "prefixcmp",
          "old_text": null,
          "new_text": "prefixcmp(ref->name, \"refs/tags/\")",
          "old_line_content": "\t\t\tref->next = NULL;",
          "new_line_content": "\t\t\t (!args.depth || prefixcmp(ref->name, \"refs/tags/\") )) {",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": null,
          "new_api": "path_match",
          "old_text": null,
          "new_text": "path_match(ref->name, nr_match, match)",
          "old_line_content": "\t\t\t\treturn_refs[order-1] = ref;",
          "new_line_content": "\t\t\tint order = path_match(ref->name, nr_match, match);",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(ref)",
          "old_line_content": "",
          "new_line_content": "\t\tfree(ref);",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(return_refs)",
          "old_line_content": "\t*refs = newlist;",
          "new_line_content": "\t\t\tfree(return_refs);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 522,
          "old_api": "parse_object",
          "new_api": null,
          "old_text": "parse_object(ref->old_sha1)",
          "new_text": null,
          "old_line_content": "\t\to = parse_object(ref->old_sha1);",
          "new_line_content": "\t\tstruct object *o;",
          "content_same": false
        },
        {
          "line": 538,
          "old_api": "for_each_ref",
          "new_api": null,
          "old_text": "for_each_ref(mark_complete, NULL)",
          "new_text": null,
          "old_line_content": "\t\tfor_each_ref(mark_complete, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": "lookup_object",
          "new_api": null,
          "old_text": "lookup_object(ref->old_sha1)",
          "new_text": null,
          "old_line_content": "\t\tstruct object *o = deref_tag(lookup_object(ref->old_sha1),",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": "rev_list_push",
          "new_api": null,
          "old_text": "rev_list_push((struct commit *)o, COMMON_REF | SEEN)",
          "new_text": null,
          "old_line_content": "\t\t\trev_list_push((struct commit *)o, COMMON_REF | SEEN);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": "filter_refs",
          "new_api": null,
          "old_text": "filter_refs(refs, nr_match, match)",
          "new_text": null,
          "old_line_content": "\tfilter_refs(refs, nr_match, match);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": "lookup_object",
          "new_api": null,
          "old_text": "lookup_object(remote)",
          "new_text": null,
          "old_line_content": "\t\to = lookup_object(remote);",
          "new_line_content": "\t\tstruct object *o;",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\n\t\t\t\t\"want %s (%s)\\n\", sha1_to_hex(remote),\n\t\t\t\tref->name)",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr,",
          "new_line_content": "\t\t\tif (!args.verbose)",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(remote)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\"want %s (%s)\\n\", sha1_to_hex(remote),",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 579,
          "old_api": "hashcpy",
          "new_api": null,
          "old_text": "hashcpy(ref->new_sha1, local)",
          "new_text": null,
          "old_line_content": "\t\thashcpy(ref->new_sha1, local);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\n\t\t\t\"already have %s (%s)\\n\", sha1_to_hex(remote),\n\t\t\tref->name)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr,",
          "new_line_content": "\t\tif (!args.verbose)",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(remote)",
          "new_text": null,
          "old_line_content": "\t\t\t\"already have %s (%s)\\n\", sha1_to_hex(remote),",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 593,
          "old_api": "recv_sideband",
          "new_api": null,
          "old_text": "recv_sideband(\"fetch-pack\", xd[0], out)",
          "new_text": null,
          "old_line_content": "\tint ret = recv_sideband(\"fetch-pack\", xd[0], out);",
          "new_line_content": "\tint *xd = data;",
          "content_same": false
        },
        {
          "line": 594,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(out)",
          "new_text": null,
          "old_line_content": "\tclose(out);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&demux, 0, sizeof(demux))",
          "new_text": null,
          "old_line_content": "\tmemset(&demux, 0, sizeof(demux));",
          "new_line_content": "\tstruct child_process cmd;",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "start_async",
          "new_api": null,
          "old_text": "start_async(&demux)",
          "new_text": null,
          "old_line_content": "\t\tif (start_async(&demux))",
          "new_line_content": "\t\tdemux.data = xd;",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"fetch-pack: unable to fork off sideband\"\n\t\t\t    \" demultiplexer\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"fetch-pack: unable to fork off sideband\"",
          "new_line_content": "\t\tdemux.out = -1;",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&cmd, 0, sizeof(cmd))",
          "new_text": null,
          "old_line_content": "\tmemset(&cmd, 0, sizeof(cmd));",
          "new_line_content": "\t\tdemux.out = xd[0];",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": "read_pack_header",
          "new_api": null,
          "old_text": "read_pack_header(demux.out, &header)",
          "new_text": null,
          "old_line_content": "\t\tif (read_pack_header(demux.out, &header))",
          "new_line_content": "\t\tstruct pack_header header;",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"protocol error: bad pack header\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"protocol error: bad pack header\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "ntohl",
          "new_api": null,
          "old_text": "ntohl(header.hdr_entries)",
          "new_text": null,
          "old_line_content": "\t\tif (ntohl(header.hdr_entries) < unpack_limit)",
          "new_line_content": "\t\t\t \"--pack_header=%\"PRIu32\",%\"PRIu32,",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(keep_arg,\n\t\t\t\t\t\"--keep=fetch-pack %\"PRIuMAX \" on \", (uintmax_t) getpid())",
          "new_text": null,
          "old_line_content": "\t\t\tint s = sprintf(keep_arg,",
          "new_line_content": "\t\t\t*av++ = \"--fix-thin\";",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": "getpid",
          "new_api": null,
          "old_text": "getpid()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\"--keep=fetch-pack %\"PRIuMAX \" on \", (uintmax_t) getpid());",
          "new_line_content": "\t\tif (args.lock_pack || unpack_limit) {",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": "start_command",
          "new_api": null,
          "old_text": "start_command(&cmd)",
          "new_text": null,
          "old_line_content": "\tif (start_command(&cmd))",
          "new_line_content": "\tcmd.in = demux.out;",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"fetch-pack: unable to fork off %s\", argv[0])",
          "new_text": null,
          "old_line_content": "\t\tdie(\"fetch-pack: unable to fork off %s\", argv[0]);",
          "new_line_content": "\tcmd.git_cmd = 1;",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(cmd.out)",
          "new_text": null,
          "old_line_content": "\t\tclose(cmd.out);",
          "new_line_content": "\tif (do_keep && pack_lockfile) {",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": "finish_command",
          "new_api": null,
          "old_text": "finish_command(&cmd)",
          "new_text": null,
          "old_line_content": "\tif (finish_command(&cmd))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"%s failed\", argv[0])",
          "new_text": null,
          "old_line_content": "\t\tdie(\"%s failed\", argv[0]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": "copy_ref_list",
          "new_api": null,
          "old_text": "copy_ref_list(orig_ref)",
          "new_text": null,
          "old_line_content": "\tstruct ref *ref = copy_ref_list(orig_ref);",
          "new_line_content": "\t\tchar **pack_lockfile)",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"shallow\")",
          "new_text": null,
          "old_line_content": "\tif (is_repository_shallow() && !server_supports(\"shallow\"))",
          "new_line_content": "\tunsigned char sha1[20];",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"Server does not support shallow clients\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"Server does not support shallow clients\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"multi_ack\")",
          "new_text": null,
          "old_line_content": "\telse if (server_supports(\"multi_ack\")) {",
          "new_line_content": "\t\tmulti_ack = 2;",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"side-band-64k\")",
          "new_text": null,
          "old_line_content": "\tif (server_supports(\"side-band-64k\")) {",
          "new_line_content": "\t\tmulti_ack = 1;",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"side-band\")",
          "new_text": null,
          "old_line_content": "\telse if (server_supports(\"side-band\")) {",
          "new_line_content": "\t\tuse_sideband = 2;",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": "server_supports",
          "new_api": null,
          "old_text": "server_supports(\"ofs-delta\")",
          "new_text": null,
          "old_line_content": "\tif (server_supports(\"ofs-delta\")) {",
          "new_line_content": "\t\tuse_sideband = 1;",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": "everything_local",
          "new_api": null,
          "old_text": "everything_local(&ref, nr_match, match)",
          "new_text": null,
          "old_line_content": "\tif (everything_local(&ref, nr_match, match)) {",
          "new_line_content": "\t} else",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": "packet_flush",
          "new_api": null,
          "old_text": "packet_flush(fd[1])",
          "new_text": null,
          "old_line_content": "\t\tpacket_flush(fd[1]);",
          "new_line_content": "\t\tprefer_ofs_delta = 0;",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": "find_common",
          "new_api": null,
          "old_text": "find_common(fd, sha1, ref)",
          "new_text": null,
          "old_line_content": "\tif (find_common(fd, sha1, ref) < 0)",
          "new_line_content": "\t\tgoto all_done;",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": "warning",
          "new_api": null,
          "old_text": "warning(\"no common commits\")",
          "new_text": null,
          "old_line_content": "\t\t\twarning(\"no common commits\");",
          "new_line_content": "\t\t\t * no common commit.",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": "packet_flush",
          "new_api": null,
          "old_text": "packet_flush(fd[1])",
          "new_text": null,
          "old_line_content": "\t\tpacket_flush(fd[1]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": "get_pack",
          "new_api": null,
          "old_text": "get_pack(fd, pack_lockfile)",
          "new_text": null,
          "old_line_content": "\tif (get_pack(fd, pack_lockfile))",
          "new_line_content": "\tif (args.stateless_rpc)",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(heads[i], heads[src])",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(heads[i], heads[src]))",
          "new_line_content": "\t\tint i;",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(var, \"fetch.unpacklimit\")",
          "new_text": null,
          "old_line_content": "\tif (strcmp(var, \"fetch.unpacklimit\") == 0) {",
          "new_line_content": "static int fetch_pack_config(const char *var, const char *value, void *cb)",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": "git_config_int",
          "new_api": null,
          "old_text": "git_config_int(var, value)",
          "new_text": null,
          "old_line_content": "\t\tfetch_unpack_limit = git_config_int(var, value);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(var, \"transfer.unpacklimit\")",
          "new_text": null,
          "old_line_content": "\tif (strcmp(var, \"transfer.unpacklimit\") == 0) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": "git_config_int",
          "new_api": null,
          "old_text": "git_config_int(var, value)",
          "new_text": null,
          "old_line_content": "\t\ttransfer_unpack_limit = git_config_int(var, value);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(var, \"repack.usedeltabaseoffset\")",
          "new_text": null,
          "old_line_content": "\tif (strcmp(var, \"repack.usedeltabaseoffset\") == 0) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "git_config_bool",
          "new_api": null,
          "old_text": "git_config_bool(var, value)",
          "new_text": null,
          "old_line_content": "\t\tprefer_ofs_delta = git_config_bool(var, value);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": "git_default_config",
          "new_api": null,
          "old_text": "git_default_config(var, value, cb)",
          "new_text": null,
          "old_line_content": "\treturn git_default_config(var, value, cb);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 789,
          "old_api": "git_config",
          "new_api": null,
          "old_text": "git_config(fetch_pack_config, NULL)",
          "new_text": null,
          "old_line_content": "\tgit_config(fetch_pack_config, NULL);",
          "new_line_content": "\tif (did_setup)",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(arg, \"--upload-pack=\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!prefixcmp(arg, \"--upload-pack=\")) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(arg, \"--exec=\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!prefixcmp(arg, \"--exec=\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"-q\", arg)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(\"--quiet\", arg) || !strcmp(\"-q\", arg)) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 825,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"-k\", arg)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(\"--keep\", arg) || !strcmp(\"-k\", arg)) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 830,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"--thin\", arg)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(\"--thin\", arg)) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"--include-tag\", arg)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(\"--include-tag\", arg)) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"--all\", arg)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(\"--all\", arg)) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"-v\", arg)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(\"-v\", arg)) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(arg, \"--depth=\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (!prefixcmp(arg, \"--depth=\")) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(arg + 8, NULL, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\targs.depth = strtol(arg + 8, NULL, 0);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"--no-progress\", arg)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(\"--no-progress\", arg)) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"--stateless-rpc\", arg)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(\"--stateless-rpc\", arg)) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\"--lock-pack\", arg)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!strcmp(\"--lock-pack\", arg)) {",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(fetch_pack_usage)",
          "new_text": null,
          "old_line_content": "\t\t\tusage(fetch_pack_usage);",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": "usage",
          "new_api": null,
          "old_text": "usage(fetch_pack_usage)",
          "new_text": null,
          "old_line_content": "\t\tusage(fetch_pack_usage);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "git_connect",
          "new_api": null,
          "old_text": "git_connect(fd, (char *)dest, args.uploadpack,\n\t\t\t\t   args.verbose ? CONNECT_VERBOSE : 0)",
          "new_text": null,
          "old_line_content": "\t\tconn = git_connect(fd, (char *)dest, args.uploadpack,",
          "new_line_content": "\t\tfd[1] = 1;",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": "get_remote_heads",
          "new_api": null,
          "old_text": "get_remote_heads(fd[0], &ref, 0, NULL, 0, NULL)",
          "new_text": null,
          "old_line_content": "\tget_remote_heads(fd[0], &ref, 0, NULL, 0, NULL);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"lock %s\\n\", pack_lockfile)",
          "new_text": null,
          "old_line_content": "\t\tprintf(\"lock %s\\n\", pack_lockfile);",
          "new_line_content": "\t\tnr_heads, heads, pack_lockfile_ptr);",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": "fflush",
          "new_api": null,
          "old_text": "fflush(stdout)",
          "new_text": null,
          "old_line_content": "\t\tfflush(stdout);",
          "new_line_content": "\tif (pack_lockfile) {",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(fd[1])",
          "new_text": null,
          "old_line_content": "\tclose(fd[1]);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"giving up\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tfprintf(stderr, \"giving up\\n\");",
          "new_line_content": "\t\t\tif (got_continue && MAX_IN_VAIN < in_vain) {",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"no such remote ref %s\", heads[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\terror(\"no such remote ref %s\", heads[i]);",
          "new_line_content": "\t\tfor (i = 0; i < nr_heads; i++)",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "packet_buf_write",
          "new_api": null,
          "old_text": "packet_buf_write(&req_buf, \"done\\n\")",
          "new_text": null,
          "old_line_content": "\tpacket_buf_write(&req_buf, \"done\\n\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": "send_request",
          "new_api": null,
          "old_text": "send_request(fd[1], &req_buf)",
          "new_text": null,
          "old_line_content": "\tsend_request(fd[1], &req_buf);",
          "new_line_content": "done:",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"%s %s\\n\",\n\t\t       sha1_to_hex(ref->old_sha1), ref->name)",
          "new_text": null,
          "old_line_content": "\t\tprintf(\"%s %s\\n\",",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(ref->old_sha1)",
          "new_text": null,
          "old_line_content": "\t\t       sha1_to_hex(ref->old_sha1), ref->name);",
          "new_line_content": "\twhile (ref) {",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&req_buf)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&req_buf);",
          "new_line_content": "\t\tflushes++;",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"got ack (%d) %s\\n\", ack,\n\t\t\t\t\tsha1_to_hex(result_sha1))",
          "new_text": null,
          "old_line_content": "\t\t\t\tfprintf(stderr, \"got ack (%d) %s\\n\", ack,",
          "new_line_content": "\t\tif (ack) {",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(result_sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tsha1_to_hex(result_sha1));",
          "new_line_content": "\t\t\tif (args.verbose)",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": "fetch_pack_setup",
          "new_api": null,
          "old_text": "fetch_pack_setup()",
          "new_text": null,
          "old_line_content": "\tfetch_pack_setup();",
          "new_line_content": "\tstruct ref *ref_cpy;",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": "remove_duplicates",
          "new_api": null,
          "old_text": "remove_duplicates(nr_heads, heads)",
          "new_text": null,
          "old_line_content": "\t\tnr_heads = remove_duplicates(nr_heads, heads);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "parse_object",
          "new_api": null,
          "old_text": "parse_object(sha1)",
          "new_text": null,
          "old_line_content": "\tstruct object *o = parse_object(sha1);",
          "new_line_content": "static int mark_complete(const char *path, const unsigned char *sha1, int flag, void *cb_data)",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"no matching remote head\")",
          "new_text": null,
          "old_line_content": "\t\tdie(\"no matching remote head\");",
          "new_line_content": "\tif (!ref) {",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": "parse_object",
          "new_api": null,
          "old_text": "parse_object(t->tagged->sha1)",
          "new_text": null,
          "old_line_content": "\t\to = parse_object(t->tagged->sha1);",
          "new_line_content": "\t\t\tbreak; /* broken repository */",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": "git_path",
          "new_api": null,
          "old_text": "git_path(\"shallow\")",
          "new_text": null,
          "old_line_content": "\t\tchar *shallow = git_path(\"shallow\");",
          "new_line_content": "\t\tstruct cache_time mtime;",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": "commit_list_insert_by_date",
          "new_api": null,
          "old_text": "commit_list_insert_by_date(commit, &complete)",
          "new_text": null,
          "old_line_content": "\t\tcommit_list_insert_by_date(commit, &complete);",
          "new_line_content": "\t\tstruct commit *commit = (struct commit *)o;",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": "ST_MTIME_NSEC",
          "new_api": null,
          "old_text": "ST_MTIME_NSEC(st)",
          "new_text": null,
          "old_line_content": "\t\tmtime.nsec = ST_MTIME_NSEC(st);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": "stat",
          "new_api": null,
          "old_text": "stat(shallow, &st)",
          "new_text": null,
          "old_line_content": "\t\tif (stat(shallow, &st)) {",
          "new_line_content": "\t\tmtime.sec = st.st_mtime;",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "ST_MTIME_NSEC",
          "new_api": null,
          "old_text": "ST_MTIME_NSEC(st)",
          "new_text": null,
          "old_line_content": "\t\t\t\t|| ST_MTIME_NSEC(st) != mtime.nsec",
          "new_line_content": "\t\t} else if (st.st_mtime != mtime.sec",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Marking %s as complete\\n\",\n\t\t\t\tsha1_to_hex(complete->item->object.sha1))",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, \"Marking %s as complete\\n\",",
          "new_line_content": "\twhile (complete && cutoff <= complete->item->date) {",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": "sha1_to_hex",
          "new_api": null,
          "old_text": "sha1_to_hex(complete->item->object.sha1)",
          "new_text": null,
          "old_line_content": "\t\t\t\tsha1_to_hex(complete->item->object.sha1));",
          "new_line_content": "\t\tif (args.verbose)",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": "die",
          "new_api": null,
          "old_text": "die(\"shallow file was changed during fetch\")",
          "new_text": null,
          "old_line_content": "\t\t\tdie(\"shallow file was changed during fetch\");",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "write_in_full",
          "new_api": null,
          "old_text": "write_in_full(fd, sb.buf, sb.len)",
          "new_text": null,
          "old_line_content": "\t\t || write_in_full(fd, sb.buf, sb.len) != sb.len) {",
          "new_line_content": "\t\t\t\t\t       LOCK_DIE_ON_ERROR);",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "reprepare_packed_git",
          "new_api": null,
          "old_text": "reprepare_packed_git()",
          "new_text": null,
          "old_line_content": "\treprepare_packed_git();",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": "ARRAY_SIZE",
          "new_api": null,
          "old_text": "ARRAY_SIZE(fastarray)",
          "new_text": null,
          "old_line_content": "\t\tif (ARRAY_SIZE(fastarray) < nr_match)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(nr_match, sizeof(struct ref *))",
          "new_text": null,
          "old_line_content": "\t\t\treturn_refs = xcalloc(nr_match, sizeof(struct ref *));",
          "new_line_content": "\tif (nr_match && !args.fetch_all) {",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(return_refs, 0, sizeof(struct ref *) * nr_match)",
          "new_text": null,
          "old_line_content": "\t\t\tmemset(return_refs, 0, sizeof(struct ref *) * nr_match);",
          "new_line_content": "\t\telse {",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(ref->name, \"refs/\", 5)",
          "new_text": null,
          "old_line_content": "\t\tif (!memcmp(ref->name, \"refs/\", 5) &&",
          "new_line_content": "\tfor (ref = *refs; ref; ref = next) {",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": "check_ref_format",
          "new_api": null,
          "old_text": "check_ref_format(ref->name + 5)",
          "new_text": null,
          "old_line_content": "\t\t    check_ref_format(ref->name + 5))",
          "new_line_content": "\t\tnext = ref->next;",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": "prefixcmp",
          "new_api": null,
          "old_text": "prefixcmp(ref->name, \"refs/tags/\")",
          "new_text": null,
          "old_line_content": "\t\t\t (!args.depth || prefixcmp(ref->name, \"refs/tags/\") )) {",
          "new_line_content": "\t\t\t; /* trash */",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": "path_match",
          "new_api": null,
          "old_text": "path_match(ref->name, nr_match, match)",
          "new_text": null,
          "old_line_content": "\t\t\tint order = path_match(ref->name, nr_match, match);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(ref)",
          "new_text": null,
          "old_line_content": "\t\tfree(ref);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(return_refs)",
          "new_text": null,
          "old_line_content": "\t\t\tfree(return_refs);",
          "new_line_content": "\t\t}",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 32,
      "total_additions": 102,
      "total_deletions": 102,
      "total_api_changes": 236
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 2,
        "api_related_lines": 236,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          382,
          383
        ]
      }
    },
    "api_calls_before": 228,
    "api_calls_after": 228,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 0,
      "total_diff_lines": 14
    }
  }
}