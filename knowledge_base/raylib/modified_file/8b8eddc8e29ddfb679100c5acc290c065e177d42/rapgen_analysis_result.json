{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/raylib/modified_file/8b8eddc8e29ddfb679100c5acc290c065e177d42",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/raylib/modified_file/8b8eddc8e29ddfb679100c5acc290c065e177d42/before.h",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/raylib/modified_file/8b8eddc8e29ddfb679100c5acc290c065e177d42/after.h",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/raylib/modified_file/8b8eddc8e29ddfb679100c5acc290c065e177d42/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1830,
          "old_api": "fabsf",
          "new_api": "sqrtf",
          "old_text": "fabsf(sinHalfTheta)",
          "new_text": "sqrtf(1.0f - cosHalfTheta*cosHalfTheta)",
          "old_line_content": "        if (fabsf(sinHalfTheta) < 0.001f)",
          "new_line_content": "        float sinHalfTheta = sqrtf(1.0f - cosHalfTheta*cosHalfTheta);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1415,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(-angle.x)",
          "old_line_content": "",
          "new_line_content": "    float cosx = cosf(-angle.x);",
          "content_same": false
        },
        {
          "line": 1800,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w)",
          "old_line_content": "    float ilength = 1.0f/length;",
          "new_line_content": "    float length = sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w);",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "sinf",
          "old_text": null,
          "new_text": "sinf(-angle.x)",
          "old_line_content": "    result.m0 = cosz*cosy;",
          "new_line_content": "    float sinx = sinf(-angle.x);",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(length)",
          "old_line_content": "        if (length < min)",
          "new_line_content": "        length = sqrtf(length);",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(axis.x * axis.x + axis.y * axis.y + axis.z * axis.z)",
          "old_line_content": "    float ilength = 1.0f / length;",
          "new_line_content": "    float length = sqrtf(axis.x * axis.x + axis.y * axis.y + axis.z * axis.z);",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(roll*0.5f)",
          "old_line_content": "",
          "new_line_content": "    float z0 = cosf(roll*0.5f);",
          "content_same": false
        },
        {
          "line": 2073,
          "old_api": null,
          "new_api": "sinf",
          "old_text": null,
          "new_text": "sinf(roll*0.5f)",
          "old_line_content": "    result.x = x1*y0*z0 - x0*y1*z1;",
          "new_line_content": "    float z1 = sinf(roll*0.5f);",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(lengthSquared)",
          "old_line_content": "        y *= ilength;",
          "new_line_content": "        float ilength = 1.0f/sqrtf(lengthSquared);",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": null,
          "new_api": "sinf",
          "old_text": null,
          "new_text": "sinf(angle)",
          "old_line_content": "    float c = axis.y * a;",
          "new_line_content": "    float a = sinf(angle);",
          "content_same": false
        },
        {
          "line": 1695,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w)",
          "old_line_content": "    return result;",
          "new_line_content": "    float result = sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w);",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": null,
          "new_api": "fabsf",
          "old_text": null,
          "new_text": "fabsf(cosHalfTheta)",
          "old_line_content": "    else",
          "new_line_content": "    if (fabsf(cosHalfTheta) >= 1.0f) result = q1;",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(angle)",
          "old_line_content": "",
          "new_line_content": "    a = cosf(angle);",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": null,
          "new_api": "sinf",
          "old_text": null,
          "new_text": "sinf(angle)",
          "old_line_content": "    float t = 1.0f - cosres;",
          "new_line_content": "    float sinres = sinf(angle);",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(angle)",
          "old_line_content": "",
          "new_line_content": "    float cosres = cosf(angle);",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": null,
          "new_api": "fabsf",
          "old_text": null,
          "new_text": "fabsf(q.y)",
          "old_line_content": "",
          "new_line_content": "                  ((fabsf(p.y - q.y)) <= (EPSILON*fmaxf(1.0f, fmaxf(fabsf(p.y), fabsf(q.y))))) &&",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": null,
          "new_api": "fabsf",
          "old_text": null,
          "new_text": "fabsf(q.z)",
          "old_line_content": "    return result;",
          "new_line_content": "                  ((fabsf(p.z - q.z)) <= (EPSILON*fmaxf(1.0f, fmaxf(fabsf(p.z), fabsf(q.z)))));",
          "content_same": false
        },
        {
          "line": 1826,
          "old_api": null,
          "new_api": "QuaternionNlerp",
          "old_text": null,
          "new_text": "QuaternionNlerp(q1, q2, amount)",
          "old_line_content": "    {",
          "new_line_content": "    else if (cosHalfTheta > 0.95f) result = QuaternionNlerp(q1, q2, amount);",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": null,
          "new_api": "acosf",
          "old_text": null,
          "new_text": "acosf(cosHalfTheta)",
          "old_line_content": "",
          "new_line_content": "        float halfTheta = acosf(cosHalfTheta);",
          "content_same": false
        },
        {
          "line": 1705,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w)",
          "old_line_content": "    float ilength = 1.0f/length;",
          "new_line_content": "    float length = sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w);",
          "content_same": false
        },
        {
          "line": 1832,
          "old_api": null,
          "new_api": "fabsf",
          "old_text": null,
          "new_text": "fabsf(sinHalfTheta)",
          "old_line_content": "            result.x = (q1.x*0.5f + q2.x*0.5f);",
          "new_line_content": "        if (fabsf(sinHalfTheta) < 0.001f)",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(angle.x)",
          "old_line_content": "",
          "new_line_content": "    float cx = cosf(angle.x);",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": null,
          "new_api": "atan2f",
          "old_text": null,
          "new_text": "atan2f(x0, x1)",
          "old_line_content": "    // Pitch (y-axis rotation)",
          "new_line_content": "    result.x = atan2f(x0, x1);",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(v.x*v.x + v.y*v.y + v.z*v.z)",
          "old_line_content": "    ilength = 1.0f/length;",
          "new_line_content": "    length = sqrtf(v.x*v.x + v.y*v.y + v.z*v.z);",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": null,
          "new_api": "sinf",
          "old_text": null,
          "new_text": "sinf((1 - amount)*halfTheta)",
          "old_line_content": "",
          "new_line_content": "            float ratioA = sinf((1 - amount)*halfTheta)/sinHalfTheta;",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": null,
          "new_api": "asinf",
          "old_text": null,
          "new_text": "asinf(y0)",
          "old_line_content": "    // Yaw (z-axis rotation)",
          "new_line_content": "    result.y = asinf(y0);",
          "content_same": false
        },
        {
          "line": 1842,
          "old_api": null,
          "new_api": "sinf",
          "old_text": null,
          "new_text": "sinf(amount*halfTheta)",
          "old_line_content": "            result.x = (q1.x*ratioA + q2.x*ratioB);",
          "new_line_content": "            float ratioB = sinf(amount*halfTheta)/sinHalfTheta;",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": null,
          "new_api": "atan2f",
          "old_text": null,
          "new_text": "atan2f(z0, z1)",
          "old_line_content": "    return result;",
          "new_line_content": "    result.z = atan2f(z0, z1);",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(v.x*v.x + v.y*v.y + v.z*v.z)",
          "old_line_content": "    ilength = 1.0f/length;",
          "new_line_content": "    length = sqrtf(v.x*v.x + v.y*v.y + v.z*v.z);",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(d)",
          "old_line_content": "        v.y = r*v.y - (r*dot + d)*n.y;",
          "new_line_content": "        d = sqrtf(d);",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(axis.x*axis.x + axis.y*axis.y + axis.z*axis.z)",
          "old_line_content": "    if (axisLength != 0.0f)",
          "new_line_content": "    float axisLength = sqrtf(axis.x*axis.x + axis.y*axis.y + axis.z*axis.z);",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(angle)",
          "old_line_content": "",
          "new_line_content": "    float cosres = cosf(angle);",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": null,
          "new_api": "sinf",
          "old_text": null,
          "new_text": "sinf(angle)",
          "old_line_content": "    result.m5 = cosres;",
          "new_line_content": "    float sinres = sinf(angle);",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(v.x*v.x + v.y*v.y + v.z*v.z)",
          "old_line_content": "        ilength = 1.0f/length;",
          "new_line_content": "        length = sqrtf(v.x*v.x + v.y*v.y + v.z*v.z);",
          "content_same": false
        },
        {
          "line": 1870,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w)",
          "old_line_content": "    float ilength = 1.0f/length;",
          "new_line_content": "    float length = sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w);",
          "content_same": false
        },
        {
          "line": 2130,
          "old_api": null,
          "new_api": "fabsf",
          "old_text": null,
          "new_text": "fabsf(q.z)",
          "old_line_content": "",
          "new_line_content": "                  ((fabsf(p.z + q.z)) <= (EPSILON*fmaxf(1.0f, fmaxf(fabsf(p.z), fabsf(q.z))))) &&",
          "content_same": false
        },
        {
          "line": 2131,
          "old_api": null,
          "new_api": "fabsf",
          "old_text": null,
          "new_text": "fabsf(q.w)",
          "old_line_content": "    return result;",
          "new_line_content": "                  ((fabsf(p.w + q.w)) <= (EPSILON*fmaxf(1.0f, fmaxf(fabsf(p.w), fabsf(q.w))))));",
          "content_same": false
        },
        {
          "line": 2003,
          "old_api": null,
          "new_api": "sinf",
          "old_text": null,
          "new_text": "sinf(angle)",
          "old_line_content": "",
          "new_line_content": "        float sinres = sinf(angle);",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(angle)",
          "old_line_content": "        result.x = axis.x*sinres;",
          "new_line_content": "        float cosres = cosf(angle);",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(v.x*v.x + v.y*v.y + v.z*v.z)",
          "old_line_content": "    ilength = 1.0f/length;",
          "new_line_content": "    length = sqrtf(v.x*v.x + v.y*v.y + v.z*v.z);",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(angle)",
          "old_line_content": "",
          "new_line_content": "    float cosres = cosf(angle);",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": null,
          "new_api": "sinf",
          "old_text": null,
          "new_text": "sinf(angle)",
          "old_line_content": "    result.m0 = cosres;",
          "new_line_content": "    float sinres = sinf(angle);",
          "content_same": false
        },
        {
          "line": 2013,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w)",
          "old_line_content": "        ilength = 1.0f/length;",
          "new_line_content": "        length = sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w);",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": null,
          "new_api": "sinf",
          "old_text": null,
          "new_text": "sinf(angle.x)",
          "old_line_content": "    result.m0 = cz*cy;",
          "new_line_content": "    float sx = sinf(angle.x);",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(v.x*v.x + v.y*v.y + v.z*v.z)",
          "old_line_content": "    ilength = 1.0f/length;",
          "new_line_content": "    length = sqrtf(v.x*v.x + v.y*v.y + v.z*v.z);",
          "content_same": false
        },
        {
          "line": 869,
          "old_api": null,
          "new_api": "fminf",
          "old_text": null,
          "new_text": "fminf(v1.y, v2.y)",
          "old_line_content": "",
          "new_line_content": "    result.y = fminf(v1.y, v2.y);",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": null,
          "new_api": "fminf",
          "old_text": null,
          "new_text": "fminf(v1.z, v2.z)",
          "old_line_content": "    return result;",
          "new_line_content": "    result.z = fminf(v1.z, v2.z);",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": null,
          "new_api": "fabsf",
          "old_text": null,
          "new_text": "fabsf(q.w)",
          "old_line_content": "        // QuaternionNormalize(q);",
          "new_line_content": "    if (fabsf(q.w) > 1.0f)",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(angle)",
          "old_line_content": "",
          "new_line_content": "    float cosres = cosf(angle);",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": null,
          "new_api": "sinf",
          "old_text": null,
          "new_text": "sinf(angle)",
          "old_line_content": "    result.m0 = cosres;",
          "new_line_content": "    float sinres = sinf(angle);",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": null,
          "new_api": "tan",
          "old_text": null,
          "new_text": "tan(fovy*0.5)",
          "old_line_content": "    double right = top*aspect;",
          "new_line_content": "    double top = near*tan(fovy*0.5);",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": null,
          "new_api": "fmaxf",
          "old_text": null,
          "new_text": "fmaxf(v1.y, v2.y)",
          "old_line_content": "",
          "new_line_content": "    result.y = fmaxf(v1.y, v2.y);",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": null,
          "new_api": "fmaxf",
          "old_text": null,
          "new_text": "fmaxf(v1.z, v2.z)",
          "old_line_content": "    return result;",
          "new_line_content": "    result.z = fmaxf(v1.z, v2.z);",
          "content_same": false
        },
        {
          "line": 2031,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w)",
          "old_line_content": "        float ilength = 1.0f/length;",
          "new_line_content": "        float length = sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w);",
          "content_same": false
        },
        {
          "line": 1912,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(fourBiggestSquaredMinus1 + 1.0f)",
          "old_line_content": "",
          "new_line_content": "    float biggestVal = sqrtf(fourBiggestSquaredMinus1 + 1.0f) * 0.5f;",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": null,
          "new_api": "acosf",
          "old_text": null,
          "new_text": "acosf(q.w)",
          "old_line_content": "",
          "new_line_content": "    float resAngle = 2.0f*acosf(q.w);",
          "content_same": false
        },
        {
          "line": 2043,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(1.0f - q.w*q.w)",
          "old_line_content": "    if (den > 0.0001f)",
          "new_line_content": "    float den = sqrtf(1.0f - q.w*q.w);",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": null,
          "new_api": "fmaxf",
          "old_text": null,
          "new_text": "fmaxf(min.y, v.y)",
          "old_line_content": "",
          "new_line_content": "    result.y = fminf(max.y, fmaxf(min.y, v.y));",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": null,
          "new_api": "fmaxf",
          "old_text": null,
          "new_text": "fmaxf(min.z, v.z)",
          "old_line_content": "    return result;",
          "new_line_content": "    result.z = fminf(max.z, fmaxf(min.z, v.z));",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1409,
          "old_api": "cosf",
          "new_api": null,
          "old_text": "cosf(-angle.z)",
          "new_text": null,
          "old_line_content": "    float cosz = cosf(-angle.z);",
          "new_line_content": "                      0.0f, 0.0f, 0.0f, 1.0f }; // MatrixIdentity()",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(-angle.z)",
          "new_text": null,
          "old_line_content": "    float sinz = sinf(-angle.z);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w)",
          "new_text": null,
          "old_line_content": "    float length = sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w);",
          "new_line_content": "    // QuaternionNormalize(q);",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(length)",
          "new_text": null,
          "old_line_content": "        length = sqrtf(length);",
          "new_line_content": "    if (length > 0.0f)",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": "cosf",
          "new_api": null,
          "old_text": "cosf(pitch*0.5f)",
          "new_text": null,
          "old_line_content": "    float x0 = cosf(pitch*0.5f);",
          "new_line_content": "    Quaternion result = { 0 };",
          "content_same": false
        },
        {
          "line": 2067,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(pitch*0.5f)",
          "new_text": null,
          "old_line_content": "    float x1 = sinf(pitch*0.5f);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(axis.x * axis.x + axis.y * axis.y + axis.z * axis.z)",
          "new_text": null,
          "old_line_content": "    float length = sqrtf(axis.x * axis.x + axis.y * axis.y + axis.z * axis.z);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(lengthSquared)",
          "new_text": null,
          "old_line_content": "        float ilength = 1.0f/sqrtf(lengthSquared);",
          "new_line_content": "    if ((lengthSquared != 1.0f) && (lengthSquared != 0.0f))",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(angle)",
          "new_text": null,
          "old_line_content": "    float a = sinf(angle);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w)",
          "new_text": null,
          "old_line_content": "    float result = sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w);",
          "new_line_content": "RMAPI float QuaternionLength(Quaternion q)",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": "cosf",
          "new_api": null,
          "old_text": "cosf(angle.z)",
          "new_text": null,
          "old_line_content": "    float cz = cosf(angle.z);",
          "new_line_content": "    Matrix result = { 0 };",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": "fabsf",
          "new_api": null,
          "old_text": "fabsf(cosHalfTheta)",
          "new_text": null,
          "old_line_content": "    if (fabsf(cosHalfTheta) >= 1.0f) result = q1;",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": "cosf",
          "new_api": null,
          "old_text": "cosf(angle)",
          "new_text": null,
          "old_line_content": "    a = cosf(angle);",
          "new_line_content": "    float c = axis.y * a;",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(angle)",
          "new_text": null,
          "old_line_content": "    float sinres = sinf(angle);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "fabsf",
          "new_api": null,
          "old_text": "fabsf(q.x)",
          "new_text": null,
          "old_line_content": "    int result = ((fabsf(p.x - q.x)) <= (EPSILON*fmaxf(1.0f, fmaxf(fabsf(p.x), fabsf(q.x))))) &&",
          "new_line_content": "RMAPI int Vector3Equals(Vector3 p, Vector3 q)",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "fabsf",
          "new_api": null,
          "old_text": "fabsf(q.y)",
          "new_text": null,
          "old_line_content": "                  ((fabsf(p.y - q.y)) <= (EPSILON*fmaxf(1.0f, fmaxf(fabsf(p.y), fabsf(q.y))))) &&",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": "cosf",
          "new_api": null,
          "old_text": "cosf(angle)",
          "new_text": null,
          "old_line_content": "    float cosres = cosf(angle);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": "QuaternionNlerp",
          "new_api": null,
          "old_text": "QuaternionNlerp(q1, q2, amount)",
          "new_text": null,
          "old_line_content": "    else if (cosHalfTheta > 0.95f) result = QuaternionNlerp(q1, q2, amount);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": "acosf",
          "new_api": null,
          "old_text": "acosf(cosHalfTheta)",
          "new_text": null,
          "old_line_content": "        float halfTheta = acosf(cosHalfTheta);",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w)",
          "new_text": null,
          "old_line_content": "    float length = sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w);",
          "new_line_content": "    Quaternion result = { 0 };",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(1.0f - cosHalfTheta*cosHalfTheta)",
          "new_text": null,
          "old_line_content": "        float sinHalfTheta = sqrtf(1.0f - cosHalfTheta*cosHalfTheta);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": "atan2f",
          "new_api": null,
          "old_text": "atan2f(x0, x1)",
          "new_text": null,
          "old_line_content": "    result.x = atan2f(x0, x1);",
          "new_line_content": "    float x0 = 2.0f*(q.w*q.x + q.y*q.z);",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(v.x*v.x + v.y*v.y + v.z*v.z)",
          "new_text": null,
          "old_line_content": "    length = sqrtf(v.x*v.x + v.y*v.y + v.z*v.z);",
          "new_line_content": "    // Vector3Normalize(vz)",
          "content_same": false
        },
        {
          "line": 1839,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf((1 - amount)*halfTheta)",
          "new_text": null,
          "old_line_content": "            float ratioA = sinf((1 - amount)*halfTheta)/sinHalfTheta;",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 2096,
          "old_api": "asinf",
          "new_api": null,
          "old_text": "asinf(y0)",
          "new_text": null,
          "old_line_content": "    result.y = asinf(y0);",
          "new_line_content": "    y0 = y0 > 1.0f ? 1.0f : y0;",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(amount*halfTheta)",
          "new_text": null,
          "old_line_content": "            float ratioB = sinf(amount*halfTheta)/sinHalfTheta;",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": "atan2f",
          "new_api": null,
          "old_text": "atan2f(z0, z1)",
          "new_text": null,
          "old_line_content": "    result.z = atan2f(z0, z1);",
          "new_line_content": "    float z0 = 2.0f*(q.w*q.z + q.x*q.y);",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(v.x*v.x + v.y*v.y + v.z*v.z)",
          "new_text": null,
          "old_line_content": "    length = sqrtf(v.x*v.x + v.y*v.y + v.z*v.z);",
          "new_line_content": "    // Vector3Normalize(x)",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(d)",
          "new_text": null,
          "old_line_content": "        d = sqrtf(d);",
          "new_line_content": "    if (d >= 0.0f)",
          "content_same": false
        },
        {
          "line": 1983,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(axis.x*axis.x + axis.y*axis.y + axis.z*axis.z)",
          "new_text": null,
          "old_line_content": "    float axisLength = sqrtf(axis.x*axis.x + axis.y*axis.y + axis.z*axis.z);",
          "new_line_content": "    Quaternion result = { 0.0f, 0.0f, 0.0f, 1.0f };",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(angle.z)",
          "new_text": null,
          "old_line_content": "    float sz = sinf(angle.z);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": "cosf",
          "new_api": null,
          "old_text": "cosf(angle)",
          "new_text": null,
          "old_line_content": "    float cosres = cosf(angle);",
          "new_line_content": "                      0.0f, 0.0f, 0.0f, 1.0f }; // MatrixIdentity()",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(angle)",
          "new_text": null,
          "old_line_content": "    float sinres = sinf(angle);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2122,
          "old_api": "fabsf",
          "new_api": null,
          "old_text": "fabsf(q.x)",
          "new_text": null,
          "old_line_content": "    int result = (((fabsf(p.x - q.x)) <= (EPSILON*fmaxf(1.0f, fmaxf(fabsf(p.x), fabsf(q.x))))) &&",
          "new_line_content": "RMAPI int QuaternionEquals(Quaternion p, Quaternion q)",
          "content_same": false
        },
        {
          "line": 2123,
          "old_api": "fabsf",
          "new_api": null,
          "old_text": "fabsf(q.y)",
          "new_text": null,
          "old_line_content": "                  ((fabsf(p.y - q.y)) <= (EPSILON*fmaxf(1.0f, fmaxf(fabsf(p.y), fabsf(q.y))))) &&",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w)",
          "new_text": null,
          "old_line_content": "    float length = sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w);",
          "new_line_content": "    // NOTE: Normalize to essentially nlerp the original and identity to 0.5",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(v.x*v.x + v.y*v.y + v.z*v.z)",
          "new_text": null,
          "old_line_content": "        length = sqrtf(v.x*v.x + v.y*v.y + v.z*v.z);",
          "new_line_content": "        // Vector3Normalize(axis)",
          "content_same": false
        },
        {
          "line": 2001,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(angle)",
          "new_text": null,
          "old_line_content": "        float sinres = sinf(angle);",
          "new_line_content": "        axis.z *= ilength;",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": "cosf",
          "new_api": null,
          "old_text": "cosf(angle)",
          "new_text": null,
          "old_line_content": "        float cosres = cosf(angle);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(v.x*v.x + v.y*v.y + v.z*v.z)",
          "new_text": null,
          "old_line_content": "    length = sqrtf(v.x*v.x + v.y*v.y + v.z*v.z);",
          "new_line_content": "    // Vector3Normalize(*v1);",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": "cosf",
          "new_api": null,
          "old_text": "cosf(angle)",
          "new_text": null,
          "old_line_content": "    float cosres = cosf(angle);",
          "new_line_content": "                      0.0f, 0.0f, 0.0f, 1.0f }; // MatrixIdentity()",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(angle)",
          "new_text": null,
          "old_line_content": "    float sinres = sinf(angle);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2011,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w)",
          "new_text": null,
          "old_line_content": "        length = sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w);",
          "new_line_content": "        // QuaternionNormalize(q);",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(v.x*v.x + v.y*v.y + v.z*v.z)",
          "new_text": null,
          "old_line_content": "    length = sqrtf(v.x*v.x + v.y*v.y + v.z*v.z);",
          "new_line_content": "    // Vector3Normalize(vn1);",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": "fminf",
          "new_api": null,
          "old_text": "fminf(v1.x, v2.x)",
          "new_text": null,
          "old_line_content": "    result.x = fminf(v1.x, v2.x);",
          "new_line_content": "    Vector3 result = { 0 };",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "fminf",
          "new_api": null,
          "old_text": "fminf(v1.y, v2.y)",
          "new_text": null,
          "old_line_content": "    result.y = fminf(v1.y, v2.y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": "fabsf",
          "new_api": null,
          "old_text": "fabsf(q.w)",
          "new_text": null,
          "old_line_content": "    if (fabsf(q.w) > 1.0f)",
          "new_line_content": "RMAPI void QuaternionToAxisAngle(Quaternion q, Vector3 *outAxis, float *outAngle)",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "cosf",
          "new_api": null,
          "old_text": "cosf(angle)",
          "new_text": null,
          "old_line_content": "    float cosres = cosf(angle);",
          "new_line_content": "                      0.0f, 0.0f, 0.0f, 1.0f }; // MatrixIdentity()",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(angle)",
          "new_text": null,
          "old_line_content": "    float sinres = sinf(angle);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "fmaxf",
          "new_api": null,
          "old_text": "fmaxf(v1.x, v2.x)",
          "new_text": null,
          "old_line_content": "    result.x = fmaxf(v1.x, v2.x);",
          "new_line_content": "    Vector3 result = { 0 };",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "fmaxf",
          "new_api": null,
          "old_text": "fmaxf(v1.y, v2.y)",
          "new_text": null,
          "old_line_content": "    result.y = fmaxf(v1.y, v2.y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": "tan",
          "new_api": null,
          "old_text": "tan(fovy*0.5)",
          "new_text": null,
          "old_line_content": "    double top = near*tan(fovy*0.5);",
          "new_line_content": "    Matrix result = { 0 };",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w)",
          "new_text": null,
          "old_line_content": "        float length = sqrtf(q.x*q.x + q.y*q.y + q.z*q.z + q.w*q.w);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1910,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(fourBiggestSquaredMinus1 + 1.0f)",
          "new_text": null,
          "old_line_content": "    float biggestVal = sqrtf(fourBiggestSquaredMinus1 + 1.0f) * 0.5f;",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": "acosf",
          "new_api": null,
          "old_text": "acosf(q.w)",
          "new_text": null,
          "old_line_content": "    float resAngle = 2.0f*acosf(q.w);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2041,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(1.0f - q.w*q.w)",
          "new_text": null,
          "old_line_content": "    float den = sqrtf(1.0f - q.w*q.w);",
          "new_line_content": "    Vector3 resAxis = { 0.0f, 0.0f, 0.0f };",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "fmaxf",
          "new_api": null,
          "old_text": "fmaxf(min.x, v.x)",
          "new_text": null,
          "old_line_content": "    result.x = fminf(max.x, fmaxf(min.x, v.x));",
          "new_line_content": "    Vector3 result = { 0 };",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "fmaxf",
          "new_api": null,
          "old_text": "fmaxf(min.y, v.y)",
          "new_text": null,
          "old_line_content": "    result.y = fminf(max.y, fmaxf(min.y, v.y));",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 1,
      "total_additions": 58,
      "total_deletions": 58,
      "total_api_changes": 117
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 8,
        "api_related_lines": 117,
        "non_api_lines": 8,
        "non_api_line_numbers": [
          706,
          707,
          708,
          709,
          710,
          711,
          712,
          713
        ]
      }
    },
    "api_calls_before": 166,
    "api_calls_after": 166,
    "diff_info": {
      "added_lines": 7,
      "removed_lines": 5,
      "total_diff_lines": 25
    }
  }
}