diff --git a/src/mongo/db/time_proof_service.cpp b/src/mongo/db/time_proof_service.cpp
index 078a82da135..fc208d342e9 100644
--- a/src/mongo/db/time_proof_service.cpp
+++ b/src/mongo/db/time_proof_service.cpp
@@ -57,11 +57,11 @@ TimeProofService::Key TimeProofService::generateRandomKey() {
 
 TimeProofService::TimeProof TimeProofService::getProof(LogicalTime time, const Key& key) {
     stdx::lock_guard<stdx::mutex> lk(_cacheMutex);
-    if (_cache && _cache->hasProof(time, key)) {
+    auto timeCeil = LogicalTime(Timestamp(time.asTimestamp().asULL() | kRangeMask));
+    if (_cache && _cache->hasProof(timeCeil, key)) {
         return _cache->_proof;
     }
 
-    auto timeCeil = LogicalTime(Timestamp(time.asTimestamp().asULL() | kRangeMask));
     auto unsignedTimeArray = timeCeil.toUnsignedArray();
     // update cache
     _cache =
