{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mongo/modified_file/a5afcff3247eee5baba8be0c7afd7051fc1f73dd",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mongo/modified_file/a5afcff3247eee5baba8be0c7afd7051fc1f73dd/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mongo/modified_file/a5afcff3247eee5baba8be0c7afd7051fc1f73dd/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mongo/modified_file/a5afcff3247eee5baba8be0c7afd7051fc1f73dd/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 753,
          "old_api": "c_str",
          "new_api": "strlen",
          "old_text": "left.c_str()",
          "new_text": "strlen(name)",
          "old_line_content": "        BSONElement sub = getField(left.c_str());",
          "new_line_content": "            name = name + strlen(name);",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": "type",
          "new_api": "eoo",
          "old_text": "sub.type()",
          "new_text": "sub.eoo()",
          "old_line_content": "        else if ( sub.type() == Array || name[0] == '\\0')",
          "new_line_content": "        if ( sub.eoo() )",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": "eoo",
          "new_api": "moreWithEOO",
          "old_text": "e.eoo()",
          "new_text": "i.moreWithEOO()",
          "old_line_content": "            if ( e.eoo() )",
          "new_line_content": "        while ( i.moreWithEOO() ) {",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": "fieldName",
          "new_api": "eoo",
          "old_text": "e.fieldName()",
          "new_text": "e.eoo()",
          "old_line_content": "            BSONElement x = getField(e.fieldName());",
          "new_line_content": "            if ( e.eoo() )",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": "appendAs",
          "new_api": "fieldName",
          "old_text": "b.appendAs(x, \"\")",
          "new_text": "e.fieldName()",
          "old_line_content": "                b.appendAs(x, \"\");",
          "new_line_content": "            BSONElement x = getField(e.fieldName());",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "obj",
          "new_api": "appendAs",
          "old_text": "b.obj()",
          "new_text": "b.appendAs(x, \"\")",
          "old_line_content": "        return b.obj();",
          "new_line_content": "                b.appendAs(x, \"\");",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": "eoo",
          "new_api": "moreWithEOO",
          "old_text": "e.eoo()",
          "new_text": "i.moreWithEOO()",
          "old_line_content": "            if ( e.eoo() )",
          "new_line_content": "        while ( i.moreWithEOO() ) {",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "fieldName",
          "new_api": "eoo",
          "old_text": "e.fieldName()",
          "new_text": "e.eoo()",
          "old_line_content": "            BSONElement x = getFieldDotted(e.fieldName());",
          "new_line_content": "            if ( e.eoo() )",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "obj",
          "new_api": "fieldName",
          "old_text": "b.obj()",
          "new_text": "e.fieldName()",
          "old_line_content": "        return b.obj();",
          "new_line_content": "                b.appendNull( e.fieldName() );",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": "eoo",
          "new_api": "moreWithEOO",
          "old_text": "e.eoo()",
          "new_text": "i.moreWithEOO()",
          "old_line_content": "            if ( e.eoo() )",
          "new_line_content": "        while( i.moreWithEOO() ) {",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": "fieldName",
          "new_api": "eoo",
          "old_text": "e.fieldName()",
          "new_text": "e.eoo()",
          "old_line_content": "            BSONElement x = filter.getField( e.fieldName() );",
          "new_line_content": "            if ( e.eoo() )",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": "eoo",
          "new_api": "fieldName",
          "old_text": "x.eoo()",
          "new_text": "e.fieldName()",
          "old_line_content": "                    ( !x.eoo() && inFilter ) )",
          "new_line_content": "            BSONElement x = filter.getField( e.fieldName() );",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "append",
          "new_api": "eoo",
          "old_text": "b.append( e )",
          "new_text": "x.eoo()",
          "old_line_content": "                b.append( e );",
          "new_line_content": "            if ( ( x.eoo() && !inFilter ) ||",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": "obj",
          "new_api": "append",
          "old_text": "b.obj()",
          "new_text": "b.append( e )",
          "old_line_content": "        return b.obj();",
          "new_line_content": "                b.append( e );",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": "eoo",
          "new_api": "moreWithEOO",
          "old_text": "f.eoo()",
          "new_text": "i.moreWithEOO()",
          "old_line_content": "            if ( f.eoo() )",
          "new_line_content": "        while( i.moreWithEOO() ) {",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": "BSONElement",
          "new_api": "next",
          "old_text": "BSONElement()",
          "new_text": "i.next()",
          "old_line_content": "                return BSONElement();",
          "new_line_content": "            BSONElement f = i.next();",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "fieldName",
          "new_api": "eoo",
          "old_text": "f.fieldName()",
          "new_text": "f.eoo()",
          "old_line_content": "            if ( strcmp( f.fieldName(), fieldName ) == 0 )",
          "new_line_content": "            if ( f.eoo() )",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": "eoo",
          "new_api": "moreWithEOO",
          "old_text": "g.eoo()",
          "new_text": "k.moreWithEOO()",
          "old_line_content": "            if ( g.eoo() )",
          "new_line_content": "        while( k.moreWithEOO() ) {",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "BSONElement",
          "new_api": "next",
          "old_text": "BSONElement()",
          "new_text": "k.next()",
          "old_line_content": "                return BSONElement();",
          "new_line_content": "            BSONElement g = k.next();",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": "eoo",
          "new_api": "moreWithEOO",
          "old_text": "e.eoo()",
          "new_text": "i.moreWithEOO()",
          "old_line_content": "            if ( e.eoo() )",
          "new_line_content": "        while ( i.moreWithEOO() ) {",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "fieldName",
          "new_api": "eoo",
          "old_text": "e.fieldName()",
          "new_text": "e.eoo()",
          "old_line_content": "            fields.insert(e.fieldName());",
          "new_line_content": "            if ( e.eoo() )",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "fieldName",
          "new_api": "moreWithEOO",
          "old_text": "e.fieldName()",
          "new_text": "i.moreWithEOO()",
          "old_line_content": "            const char *fname = e.fieldName();",
          "new_line_content": "        while ( i.moreWithEOO() ) {",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": "count",
          "new_api": "next",
          "old_text": "fields.count(fname)",
          "new_text": "i.next()",
          "old_line_content": "            if ( fields.count(fname) ) {",
          "new_line_content": "            BSONElement e = i.next();",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": "append",
          "new_api": "fieldName",
          "old_text": "b.append(e)",
          "new_text": "e.fieldName()",
          "old_line_content": "                b.append(e);",
          "new_line_content": "            const char *fname = e.fieldName();",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": "strcmp",
          "new_api": "append",
          "old_text": "strcmp(fname, \"_id\")",
          "new_text": "b.append(e)",
          "old_line_content": "                gotId = gotId || strcmp(fname, \"_id\")==0;",
          "new_line_content": "                b.append(e);",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "eoo",
          "new_api": "moreWithEOO",
          "old_text": "e.eoo()",
          "new_text": "i.moreWithEOO()",
          "old_line_content": "            if ( e.eoo() )",
          "new_line_content": "        while( i.moreWithEOO() ) {",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": "type",
          "new_api": "eoo",
          "old_text": "e.type()",
          "new_text": "e.eoo()",
          "old_line_content": "            switch( e.type() ) {",
          "new_line_content": "            if ( e.eoo() )",
          "content_same": false
        },
        {
          "line": 938,
          "old_api": "next",
          "new_api": "firstElement",
          "old_text": "i.next()",
          "new_text": "BSONObj().firstElement()",
          "old_line_content": "            BSONElement e = i.next();",
          "new_line_content": "        BSONElement f = j.moreWithEOO() ? j.next() : BSONObj().firstElement();",
          "content_same": false
        },
        {
          "line": 939,
          "old_api": "eoo",
          "new_api": "moreWithEOO",
          "old_text": "e.eoo()",
          "new_text": "i.moreWithEOO()",
          "old_line_content": "            if ( e.eoo() )",
          "new_line_content": "        while( i.moreWithEOO() ) {",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": "next",
          "new_api": "eoo",
          "old_text": "j.next()",
          "new_text": "f.eoo()",
          "old_line_content": "                f = j.next();",
          "new_line_content": "            if ( !f.eoo() ) {",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": "fieldName",
          "new_api": "more",
          "old_text": "e.fieldName()",
          "new_text": "i.more()",
          "old_line_content": "            const char * name = e.fieldName();",
          "new_line_content": "        while ( i.more() ) {",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": "strchr",
          "new_api": "fieldName",
          "old_text": "strchr( name , '.' )",
          "new_text": "e.fieldName()",
          "old_line_content": "            if ( strchr( name , '.' ) ||",
          "new_line_content": "            const char * name = e.fieldName();",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": "strcmp",
          "new_api": "strchr",
          "old_text": "strcmp( name , \"$ref\" )",
          "new_text": "strchr( name , '$' )",
          "old_line_content": "                    strcmp( name , \"$ref\" ) == 0 ||",
          "new_line_content": "                    strchr( name , '$' ) ) {",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "objsize",
          "new_api": "out",
          "old_text": "objsize()",
          "new_text": "out()",
          "old_line_content": "        for ( int i = 0; i < objsize(); i++ ) {",
          "new_line_content": "        out() << hex;",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": "out",
          "new_api": "objdata",
          "old_text": "out()",
          "new_text": "objdata()",
          "old_line_content": "            out() << i << '\\t' << ( 0xff & ( (unsigned) *p ) );",
          "new_line_content": "        const char *p = objdata();",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": "width",
          "new_api": "objsize",
          "old_text": "ss.width( 2 )",
          "new_text": "objsize()",
          "old_line_content": "            ss.width( 2 );",
          "new_line_content": "        int size = objsize();",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": "type",
          "new_api": "more",
          "old_text": "e.type()",
          "new_text": "it.more()",
          "old_line_content": "            if (e.type() == Object) {",
          "new_line_content": "        while (it.more()) {",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "fieldName",
          "new_api": "next",
          "old_text": "e.fieldName()",
          "new_text": "it.next()",
          "old_line_content": "                string newbase = base + e.fieldName() + \".\";",
          "new_line_content": "            BSONElement e = it.next();",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "embeddedObject",
          "new_api": "type",
          "old_text": "e.embeddedObject()",
          "new_text": "e.type()",
          "old_line_content": "                nested2dotted(b, e.embeddedObject(), newbase);",
          "new_line_content": "            if (e.type() == Object) {",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": "end",
          "new_api": "bson2map",
          "old_text": "sorted.end()",
          "new_text": "bson2map(obj)",
          "old_line_content": "        for(BSONMap::const_iterator it=sorted.begin(); it!=sorted.end(); ++it) {",
          "new_line_content": "        BSONMap sorted = bson2map(obj);",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": "done",
          "new_api": "appendAs",
          "old_text": "eb.done()",
          "new_text": "eb.appendAs(it->second, it->first)",
          "old_line_content": "        eb.done();",
          "new_line_content": "            eb.appendAs(it->second, it->first);",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": "woEqual",
          "new_api": "done",
          "old_text": "o.woEqual( p )",
          "new_text": "c.done()",
          "old_line_content": "            assert( !o.woEqual( p ) );",
          "new_line_content": "            BSONObj p = c.done();",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "woCompare",
          "new_api": "obj",
          "old_text": "l.woCompare( r )",
          "new_text": "b.obj()",
          "old_line_content": "            assert( l.woCompare( r ) < 0 );",
          "new_line_content": "                r = b.obj();",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "woCompare",
          "new_api": "obj",
          "old_text": "l.woCompare( r )",
          "new_text": "b.obj()",
          "old_line_content": "            assert( l.woCompare( r ) < 0 );",
          "new_line_content": "                l = b.obj();",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "woCompare",
          "new_api": "obj",
          "old_text": "x.woCompare( y )",
          "new_text": "b.obj()",
          "old_line_content": "                assert( x.woCompare( y ) < 0 );",
          "new_line_content": "                { BSONObjBuilder b; b.append( \"x\" , (int)3 ); y = b.obj(); }",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "woCompare",
          "new_api": "obj",
          "old_text": "x.woCompare( z )",
          "new_text": "b.obj()",
          "old_line_content": "                assert( x.woCompare( z ) < 0 );",
          "new_line_content": "                { BSONObjBuilder b; b.append( \"x\" , (long long)4 ); z = b.obj(); }",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": "woCompare",
          "new_api": "obj",
          "old_text": "d.woCompare( u )",
          "new_text": "b.obj()",
          "old_line_content": "                assert( ll.woCompare( u ) == d.woCompare( u ) );",
          "new_line_content": "                { BSONObjBuilder b; u = b.obj(); }",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "BSON",
          "new_api": "woCompare",
          "old_text": "BSON( \"x\" << 1 )",
          "new_text": "d.woCompare( u )",
          "old_line_content": "                BSONObj k = BSON( \"x\" << 1 );",
          "new_line_content": "                assert( ll.woCompare( u ) == d.woCompare( u ) );",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": "woCompare",
          "new_api": "BSON",
          "old_text": "i.woCompare( u , k )",
          "new_text": "BSON( \"x\" << 1 )",
          "old_line_content": "                assert( ll.woCompare( u , k ) == i.woCompare( u , k ) );",
          "new_line_content": "                BSONObj k = BSON( \"x\" << 1 );",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": "woCompare",
          "new_api": "obj",
          "old_text": "l.woCompare( r )",
          "new_text": "b.obj()",
          "old_line_content": "                assert( l.woCompare( r ) == 0 );",
          "new_line_content": "                { BSONObjBuilder b; b.append( \"x\" , \"eliot\" ); l = b.obj(); }",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "woCompare",
          "new_api": "obj",
          "old_text": "r.woCompare( l )",
          "new_text": "b.obj()",
          "old_line_content": "                assert( r.woCompare( l ) == 0 );",
          "new_line_content": "                { BSONObjBuilder b; b.appendSymbol( \"x\" , \"eliot\" ); r = b.obj(); }",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "append",
          "new_api": "testRegex",
          "old_text": "A.append(\"x\", 2)",
          "new_text": "testRegex()",
          "old_line_content": "            A.append(\"x\", 2);",
          "new_line_content": "            testRegex();",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "done",
          "new_api": "append",
          "old_text": "A.done()",
          "new_text": "B.append(\"x\", 2.0)",
          "old_line_content": "            BSONObj a = A.done();",
          "new_line_content": "            B.append(\"x\", 2.0);",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": "done",
          "new_api": "append",
          "old_text": "B.done()",
          "new_text": "C.append(\"x\", 2.1)",
          "old_line_content": "            BSONObj b = B.done();",
          "new_line_content": "            C.append(\"x\", 2.1);",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "woEqual",
          "new_api": "done",
          "old_text": "a.woEqual( b )",
          "new_text": "B.done()",
          "old_line_content": "            assert( !a.woEqual( b ) ); // comments on operator==",
          "new_line_content": "            BSONObj b = B.done();",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": "woCompare",
          "new_api": "done",
          "old_text": "a.woCompare(b)",
          "new_text": "C.done()",
          "old_line_content": "            int cmp = a.woCompare(b);",
          "new_line_content": "            BSONObj c = C.done();",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "assert",
          "new_api": "woEqual",
          "old_text": "assert( cmp == 0 )",
          "new_text": "a.woEqual( b )",
          "old_line_content": "            assert( cmp == 0 );",
          "new_line_content": "            assert( !a.woEqual( b ) ); // comments on operator==",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "testoid",
          "new_api": "woCompare",
          "old_text": "testoid()",
          "new_text": "a.woCompare(c)",
          "old_line_content": "            testoid();",
          "new_line_content": "            cmp = a.woCompare(c);",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": "testbounds",
          "new_api": "assert",
          "old_text": "testbounds()",
          "new_text": "assert( cmp < 0 )",
          "old_line_content": "            testbounds();",
          "new_line_content": "            assert( cmp < 0 );",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "testorder",
          "new_api": "testoid",
          "old_text": "testorder()",
          "new_text": "testoid()",
          "old_line_content": "            testorder();",
          "new_line_content": "            testoid();",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": "asDate",
          "new_api": "value",
          "old_text": "OpTime::now().asDate()",
          "new_text": "value()",
          "old_line_content": "            timestamp = OpTime::now().asDate();",
          "new_line_content": "        unsigned long long &timestamp = *( reinterpret_cast< unsigned long long* >( value() ) );",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": "appendNull",
          "new_api": "appendBool",
          "old_text": "appendNull( fieldName )",
          "new_text": "appendBool( fieldName , false)",
          "old_line_content": "        case jstNULL: appendNull( fieldName ); return;",
          "new_line_content": "        case Bool: appendBool( fieldName , false); return;",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": "append",
          "new_api": "appendNull",
          "old_text": "append( fieldName , \"\" )",
          "new_text": "appendNull( fieldName )",
          "old_line_content": "        case String: append( fieldName , \"\" ); return;",
          "new_line_content": "        case jstNULL: appendNull( fieldName ); return;",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "appendBinData",
          "new_api": "BSONObj",
          "old_text": "appendBinData( fieldName , 0 , Function , (const char *) 0 )",
          "new_text": "BSONObj()",
          "old_line_content": "            appendBinData( fieldName , 0 , Function , (const char *) 0 ); return;",
          "new_line_content": "            appendArray( fieldName , BSONObj() ); return;",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": "appendUndefined",
          "new_api": "appendBinData",
          "old_text": "appendUndefined( fieldName )",
          "new_text": "appendBinData( fieldName , 0 , Function , (const char *) 0 )",
          "old_line_content": "            appendUndefined( fieldName ); return;",
          "new_line_content": "            appendBinData( fieldName , 0 , Function , (const char *) 0 ); return;",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "appendTimestamp",
          "new_api": "appendCode",
          "old_text": "appendTimestamp( fieldName , 0)",
          "new_text": "appendCode( fieldName , \"\" )",
          "old_line_content": "        case Timestamp: appendTimestamp( fieldName , 0); return;",
          "new_line_content": "        case Code: appendCode( fieldName , \"\" ); return;",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": "appendDate",
          "new_api": "appendMinForType",
          "old_text": "appendDate( fieldName , 0xFFFFFFFFFFFFFFFFLL )",
          "new_text": "appendMinForType( fieldName , NumberInt )",
          "old_line_content": "        case Date: appendDate( fieldName , 0xFFFFFFFFFFFFFFFFLL ); break;",
          "new_line_content": "            appendMinForType( fieldName , NumberInt );",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "BSONObj",
          "new_api": "appendDate",
          "old_text": "BSONObj()",
          "new_text": "appendDate( fieldName , 0xFFFFFFFFFFFFFFFFLL )",
          "old_line_content": "        case String: append( fieldName , BSONObj() ); break;",
          "new_line_content": "        case Date: appendDate( fieldName , 0xFFFFFFFFFFFFFFFFLL ); break;",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": "numeric_limits<unsigned long long>::max()",
          "new_api": "BSONObj",
          "old_text": "numeric_limits<unsigned long long>::max()",
          "new_text": "BSONObj()",
          "old_line_content": "            appendTimestamp( fieldName , numeric_limits<unsigned long long>::max() ); break;",
          "new_line_content": "            appendCodeWScope( fieldName , \"ZZZ\" , BSONObj() ); break;",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": "appendMinForType",
          "new_api": "numeric_limits<unsigned long long>::max()",
          "old_text": "appendMinForType( fieldName , t + 1 )",
          "new_text": "numeric_limits<unsigned long long>::max()",
          "old_line_content": "            appendMinForType( fieldName , t + 1 );",
          "new_line_content": "            appendTimestamp( fieldName , numeric_limits<unsigned long long>::max() ); break;",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": "assert",
          "new_api": "more",
          "old_text": "assert( _fields[x-1] )",
          "new_text": "i.more()",
          "old_line_content": "            assert( _fields[x-1] );",
          "new_line_content": "        while ( i.more() ) {",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "fieldName",
          "new_api": "more",
          "old_text": "e.fieldName()",
          "new_text": "i.more()",
          "old_line_content": "            const char *f = e.fieldName();",
          "new_line_content": "        while( i.more() ) {",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": "stringToNum",
          "new_api": "fieldName",
          "old_text": "stringToNum(f)",
          "new_text": "e.fieldName()",
          "old_line_content": "                unsigned u = stringToNum(f);",
          "new_line_content": "            const char *f = e.fieldName();",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": "size",
          "new_api": "stringToNum",
          "old_text": "v.size()",
          "new_text": "stringToNum(f)",
          "old_line_content": "                if( u >= v.size() )",
          "new_line_content": "                unsigned u = stringToNum(f);",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": "resize",
          "new_api": "assert",
          "old_text": "v.resize(u+1)",
          "new_text": "assert( u < 1000000 )",
          "old_line_content": "                    v.resize(u+1);",
          "new_line_content": "                assert( u < 1000000 );",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1025,
          "old_api": null,
          "new_api": "fieldName",
          "old_text": null,
          "new_text": "e.fieldName()",
          "old_line_content": "            }",
          "new_line_content": "                string newbase = base + e.fieldName();",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": null,
          "new_api": "appendAs",
          "old_text": null,
          "new_text": "b.appendAs(e, newbase)",
          "old_line_content": "        }",
          "new_line_content": "                b.appendAs(e, newbase);",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "sorted.end()",
          "old_line_content": "        }",
          "new_line_content": "        for(BSONMap::const_iterator it=sorted.begin(); it!=sorted.end(); ++it) {",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": null,
          "new_api": "done",
          "old_text": null,
          "new_text": "eb.done()",
          "old_line_content": "",
          "new_line_content": "        eb.done();",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": null,
          "new_api": "appendRegex",
          "old_text": null,
          "new_text": "b.appendRegex(\"x\", \"foo\")",
          "old_line_content": "",
          "new_line_content": "            b.appendRegex(\"x\", \"foo\");",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": null,
          "new_api": "done",
          "old_text": null,
          "new_text": "b.done()",
          "old_line_content": "            BSONObjBuilder c;",
          "new_line_content": "            BSONObj o = b.done();",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": null,
          "new_api": "appendRegex",
          "old_text": null,
          "new_text": "c.appendRegex(\"x\", \"goo\")",
          "old_line_content": "",
          "new_line_content": "            c.appendRegex(\"x\", \"goo\");",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": null,
          "new_api": "woEqual",
          "old_text": null,
          "new_text": "o.woEqual( p )",
          "old_line_content": "",
          "new_line_content": "            assert( !o.woEqual( p ) );",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "o.woCompare( p )",
          "old_line_content": "        }",
          "new_line_content": "            assert( o.woCompare( p ) < 0 );",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "init",
          "old_text": null,
          "new_text": "id.init()",
          "old_line_content": "",
          "new_line_content": "            id.init();",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": null,
          "new_api": "str",
          "old_text": null,
          "new_text": "id.str()",
          "old_line_content": "        }",
          "new_line_content": "            b.init( id.str() );",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert( b == id )",
          "old_line_content": "",
          "new_line_content": "            assert( b == id );",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": null,
          "new_api": "numeric_limits<long long>::max()",
          "old_text": null,
          "new_text": "numeric_limits<long long>::max()",
          "old_line_content": "            }",
          "new_line_content": "                b.append( \"x\" , numeric_limits<long long>::max() );",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": null,
          "new_api": "obj",
          "old_text": null,
          "new_text": "b.obj()",
          "old_line_content": "            {",
          "new_line_content": "                l = b.obj();",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": null,
          "new_api": "numeric_limits<double>::max()",
          "old_text": null,
          "new_text": "numeric_limits<double>::max()",
          "old_line_content": "            }",
          "new_line_content": "                b.append( \"x\" , numeric_limits<double>::max() );",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "l.woCompare( r )",
          "old_line_content": "            {",
          "new_line_content": "            assert( l.woCompare( r ) < 0 );",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "r.woCompare( l )",
          "old_line_content": "                BSONObjBuilder b;",
          "new_line_content": "            assert( r.woCompare( l ) > 0 );",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": null,
          "new_api": "numeric_limits<int>::max()",
          "old_text": null,
          "new_text": "numeric_limits<int>::max()",
          "old_line_content": "            }",
          "new_line_content": "                b.append( \"x\" , numeric_limits<int>::max() );",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "l.woCompare( r )",
          "old_line_content": "        }",
          "new_line_content": "            assert( l.woCompare( r ) < 0 );",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "r.woCompare( l )",
          "old_line_content": "",
          "new_line_content": "            assert( r.woCompare( l ) > 0 );",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "y.woCompare( z )",
          "old_line_content": "            }",
          "new_line_content": "                assert( y.woCompare( z ) < 0 );",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "z.woCompare( y )",
          "old_line_content": "",
          "new_line_content": "                assert( z.woCompare( y ) > 0 );",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": null,
          "new_api": "obj",
          "old_text": null,
          "new_text": "b.obj()",
          "old_line_content": "",
          "new_line_content": "                { BSONObjBuilder b; b.appendNull( \"x\" ); n = b.obj(); }",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "d.woCompare( u , k )",
          "old_line_content": "",
          "new_line_content": "                assert( ll.woCompare( u , k ) == d.woCompare( u , k ) );",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "u.woCompare( d , k )",
          "old_line_content": "",
          "new_line_content": "                assert( u.woCompare( ll , k ) == u.woCompare( d , k ) );",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "d.woCompare( n , k )",
          "old_line_content": "",
          "new_line_content": "                assert( ll.woCompare( n , k ) == d.woCompare( n , k ) );",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "n.woCompare( d , k )",
          "old_line_content": "            }",
          "new_line_content": "                assert( n.woCompare( ll , k ) == n.woCompare( d , k ) );",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "n.woCompare( d , k )",
          "old_line_content": "",
          "new_line_content": "                assert( n.woCompare( ll , k ) == n.woCompare( d , k ) );",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "l.woCompare( r )",
          "old_line_content": "            }",
          "new_line_content": "                assert( l.woCompare( r ) == 0 );",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": null,
          "new_api": "woCompare",
          "old_text": null,
          "new_text": "r.woCompare( l )",
          "old_line_content": "        }",
          "new_line_content": "                assert( r.woCompare( l ) == 0 );",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": null,
          "new_api": "testbounds",
          "old_text": null,
          "new_text": "testbounds()",
          "old_line_content": "        }",
          "new_line_content": "            testbounds();",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": null,
          "new_api": "testorder",
          "old_text": null,
          "new_text": "testorder()",
          "old_line_content": "    } bson_unittest;",
          "new_line_content": "            testorder();",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "_element.type()",
          "old_line_content": "        if ( timestamp == 0 )",
          "new_line_content": "        massert( 10332 ,  \"Expected CurrentTime type\", _element.type() == Timestamp );",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": null,
          "new_api": "asDate",
          "old_text": null,
          "new_text": "OpTime::now().asDate()",
          "old_line_content": "",
          "new_line_content": "            timestamp = OpTime::now().asDate();",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": null,
          "new_api": "appendMinKey",
          "old_text": null,
          "new_text": "appendMinKey( fieldName )",
          "old_line_content": "        case NumberInt:",
          "new_line_content": "        case MinKey: appendMinKey( fieldName ); return;",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": null,
          "new_api": "appendMinKey",
          "old_text": null,
          "new_text": "appendMinKey( fieldName )",
          "old_line_content": "        case NumberDouble:",
          "new_line_content": "        case MaxKey: appendMinKey( fieldName ); return;",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": null,
          "new_api": "numeric_limits<double>::max()",
          "old_text": null,
          "new_text": "numeric_limits<double>::max()",
          "old_line_content": "            OID o;",
          "new_line_content": "            append( fieldName , - numeric_limits<double>::max() ); return;",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&o, 0, sizeof(o))",
          "old_line_content": "            return;",
          "new_line_content": "            memset(&o, 0, sizeof(o));",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": null,
          "new_api": "appendOID",
          "old_text": null,
          "new_text": "appendOID( fieldName , &o)",
          "old_line_content": "        }",
          "new_line_content": "            appendOID( fieldName , &o);",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": null,
          "new_api": "appendDate",
          "old_text": null,
          "new_text": "appendDate( fieldName , 0)",
          "old_line_content": "        case Symbol:",
          "new_line_content": "        case Date: appendDate( fieldName , 0); return;",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "append( fieldName , \"\" )",
          "old_line_content": "        case Array:",
          "new_line_content": "        case String: append( fieldName , \"\" ); return;",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": null,
          "new_api": "appendUndefined",
          "old_text": null,
          "new_text": "appendUndefined( fieldName )",
          "old_line_content": "        case DBRef: {",
          "new_line_content": "            appendUndefined( fieldName ); return;",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": null,
          "new_api": "appendRegex",
          "old_text": null,
          "new_text": "appendRegex( fieldName , \"\" )",
          "old_line_content": "            OID o;",
          "new_line_content": "        case RegEx: appendRegex( fieldName , \"\" ); return;",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&o, 0, sizeof(o))",
          "old_line_content": "            return;",
          "new_line_content": "            memset(&o, 0, sizeof(o));",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": null,
          "new_api": "appendDBRef",
          "old_text": null,
          "new_text": "appendDBRef( fieldName , \"\" , o )",
          "old_line_content": "        }",
          "new_line_content": "            appendDBRef( fieldName , \"\" , o );",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": null,
          "new_api": "BSONObj",
          "old_text": null,
          "new_text": "BSONObj()",
          "old_line_content": "",
          "new_line_content": "        case CodeWScope: appendCodeWScope( fieldName , \"\" , BSONObj() ); return;",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "string(name, p-name)",
          "old_line_content": "        }",
          "new_line_content": "            sub = getField( string(name, p-name) );",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": null,
          "new_api": "appendTimestamp",
          "old_text": null,
          "new_text": "appendTimestamp( fieldName , 0)",
          "old_line_content": "        };",
          "new_line_content": "        case Timestamp: appendTimestamp( fieldName , 0); return;",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": null,
          "new_api": "log",
          "old_text": null,
          "new_text": "log()",
          "old_line_content": "    }",
          "new_line_content": "        log() << \"type not support for appendMinElementForType: \" << t << endl;",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": null,
          "new_api": "getField",
          "old_text": null,
          "new_text": "getField( name )",
          "old_line_content": "        }",
          "new_line_content": "            sub = getField( name );",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": null,
          "new_api": "uassert",
          "old_text": null,
          "new_text": "uassert( 10061 ,  \"type not supported for appendMinElementForType\" , false )",
          "old_line_content": "",
          "new_line_content": "        uassert( 10061 ,  \"type not supported for appendMinElementForType\" , false );",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": null,
          "new_api": "appendMaxKey",
          "old_text": null,
          "new_text": "appendMaxKey( fieldName )",
          "old_line_content": "        case NumberInt:",
          "new_line_content": "        case MinKey: appendMaxKey( fieldName );  break;",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": null,
          "new_api": "appendMaxKey",
          "old_text": null,
          "new_text": "appendMaxKey( fieldName )",
          "old_line_content": "        case NumberDouble:",
          "new_line_content": "        case MaxKey: appendMaxKey( fieldName ); break;",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "sub.type()",
          "old_line_content": "        else",
          "new_line_content": "        else if ( sub.type() == Object )",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": null,
          "new_api": "embeddedObject",
          "old_text": null,
          "new_text": "sub.embeddedObject().getFieldDottedOrArray( name )",
          "old_line_content": "            return nullElement;",
          "new_line_content": "            return sub.embeddedObject().getFieldDottedOrArray( name );",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": null,
          "new_api": "numeric_limits<double>::max()",
          "old_text": null,
          "new_text": "numeric_limits<double>::max()",
          "old_line_content": "        case BinData:",
          "new_line_content": "            append( fieldName , numeric_limits<double>::max() );",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": null,
          "new_api": "appendMinForType",
          "old_text": null,
          "new_text": "appendMinForType( fieldName , jstOID )",
          "old_line_content": "        case jstOID: {",
          "new_line_content": "            appendMinForType( fieldName , jstOID );",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&o, 0xFF, sizeof(o))",
          "old_line_content": "            break;",
          "new_line_content": "            memset(&o, 0xFF, sizeof(o));",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": null,
          "new_api": "appendOID",
          "old_text": null,
          "new_text": "appendOID( fieldName , &o)",
          "old_line_content": "        }",
          "new_line_content": "            appendOID( fieldName , &o);",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "i.next()",
          "old_line_content": "                break;",
          "new_line_content": "            BSONElement e = i.next();",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": null,
          "new_api": "appendBool",
          "old_text": null,
          "new_text": "appendBool( fieldName , true)",
          "old_line_content": "        case Symbol:",
          "new_line_content": "        case Bool: appendBool( fieldName , true); break;",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": null,
          "new_api": "eoo",
          "old_text": null,
          "new_text": "x.eoo()",
          "old_line_content": "        }",
          "new_line_content": "            if ( !x.eoo() )",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": null,
          "new_api": "BSONObj",
          "old_text": null,
          "new_text": "BSONObj()",
          "old_line_content": "        case CodeWScope:",
          "new_line_content": "        case String: append( fieldName , BSONObj() ); break;",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": null,
          "new_api": "obj",
          "old_text": null,
          "new_text": "b.obj()",
          "old_line_content": "",
          "new_line_content": "        return b.obj();",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": null,
          "new_api": "appendMinForType",
          "old_text": null,
          "new_text": "appendMinForType( fieldName , t + 1 )",
          "old_line_content": "    }",
          "new_line_content": "            appendMinForType( fieldName , t + 1 );",
          "content_same": false
        },
        {
          "line": 789,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "i.next()",
          "old_line_content": "                break;",
          "new_line_content": "            BSONElement e = i.next();",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": null,
          "new_api": "eoo",
          "old_text": null,
          "new_text": "x.eoo()",
          "old_line_content": "            else if ( fillWithNull )",
          "new_line_content": "            if ( ! x.eoo() )",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": null,
          "new_api": "obj",
          "old_text": null,
          "new_text": "b.obj()",
          "old_line_content": "",
          "new_line_content": "        return b.obj();",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "data.size()",
          "old_line_content": "",
          "new_line_content": "        if ( data.size() == 0 || data == \"-\")",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "i.next()",
          "old_line_content": "                break;",
          "new_line_content": "            BSONElement e = i.next();",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": null,
          "new_api": "eoo",
          "old_text": null,
          "new_text": "x.eoo()",
          "old_line_content": "        }",
          "new_line_content": "                    ( !x.eoo() && inFilter ) )",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": null,
          "new_api": "obj",
          "old_text": null,
          "new_text": "b.obj()",
          "old_line_content": "",
          "new_line_content": "        return b.obj();",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "data.size()",
          "old_line_content": "                continue;",
          "new_line_content": "        for ( ; pos<data.size(); pos++ ) {",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": null,
          "new_api": "isdigit",
          "old_text": null,
          "new_text": "isdigit(data[pos])",
          "old_line_content": "",
          "new_line_content": "            if ( isdigit(data[pos]) )",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": null,
          "new_api": "BSONElement",
          "old_text": null,
          "new_text": "BSONElement()",
          "old_line_content": "                break;",
          "new_line_content": "                return BSONElement();",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": null,
          "new_api": "fieldName",
          "old_text": null,
          "new_text": "f.fieldName()",
          "old_line_content": "            ++j;",
          "new_line_content": "            if ( strcmp( f.fieldName(), fieldName ) == 0 )",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "data.c_str()",
          "old_line_content": "            return true;",
          "new_line_content": "            double d = atof( data.c_str() );",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "append( fieldName , d )",
          "old_line_content": "        }",
          "new_line_content": "            append( fieldName , d );",
          "content_same": false
        },
        {
          "line": 830,
          "old_api": null,
          "new_api": "eoo",
          "old_text": null,
          "new_text": "g.eoo()",
          "old_line_content": "            if ( j == 0 ) {",
          "new_line_content": "            if ( g.eoo() )",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": null,
          "new_api": "BSONElement",
          "old_text": null,
          "new_text": "BSONElement()",
          "old_line_content": "                return g;",
          "new_line_content": "                return BSONElement();",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "data.size()",
          "old_line_content": "            return true;",
          "new_line_content": "        if ( data.size() < 8 ) {",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "data.c_str()",
          "old_line_content": "        }",
          "new_line_content": "            append( fieldName , atoi( data.c_str() ) );",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": null,
          "new_api": "BSONElement",
          "old_text": null,
          "new_text": "BSONElement()",
          "old_line_content": "",
          "new_line_content": "        return BSONElement();",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": null,
          "new_api": "boost::lexical_cast<long long>( data )",
          "old_text": null,
          "new_text": "boost::lexical_cast<long long>( data )",
          "old_line_content": "            return true;",
          "new_line_content": "            long long num = boost::lexical_cast<long long>( data );",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "append( fieldName , num )",
          "old_line_content": "        }",
          "new_line_content": "            append( fieldName , num );",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": null,
          "new_api": "getField",
          "old_text": null,
          "new_text": "getField(name)",
          "old_line_content": "    }",
          "new_line_content": "        BSONElement e = getField(name);",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": null,
          "new_api": "number",
          "old_text": null,
          "new_text": "e.number()",
          "old_line_content": "",
          "new_line_content": "        return e.isNumber() ? (int) e.number() : INT_MIN;",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "getField",
          "old_text": null,
          "new_text": "getField(name)",
          "old_line_content": "    }",
          "new_line_content": "        BSONElement e = getField(name);",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": null,
          "new_api": "boolean",
          "old_text": null,
          "new_text": "e.boolean()",
          "old_line_content": "",
          "new_line_content": "        return e.type() == Bool ? e.boolean() : false;",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": null,
          "new_api": "getField",
          "old_text": null,
          "new_text": "getField(name)",
          "old_line_content": "    }",
          "new_line_content": "        BSONElement e = getField(name);",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": null,
          "new_api": "valuestr",
          "old_text": null,
          "new_text": "e.valuestr()",
          "old_line_content": "",
          "new_line_content": "        return e.type() == String ? e.valuestr() : \"\";",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": null,
          "new_api": "more",
          "old_text": null,
          "new_text": "j.more()",
          "old_line_content": "        }",
          "new_line_content": "        while ( i.more() && j.more() ) {",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "i.next().fieldName()",
          "old_line_content": "",
          "new_line_content": "            appendAs( j.next() , i.next().fieldName() );",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": null,
          "new_api": "more",
          "old_text": null,
          "new_text": "i.more()",
          "old_line_content": "    }",
          "new_line_content": "        assert( ! i.more() );",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": null,
          "new_api": "more",
          "old_text": null,
          "new_text": "j.more()",
          "old_line_content": "",
          "new_line_content": "        assert( ! j.more() );",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "i.next()",
          "old_line_content": "                break;",
          "new_line_content": "            BSONElement e = i.next();",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "fieldName",
          "old_text": null,
          "new_text": "e.fieldName()",
          "old_line_content": "        }",
          "new_line_content": "            fields.insert(e.fieldName());",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": null,
          "new_api": "lexNumCmp",
          "old_text": null,
          "new_text": "lexNumCmp( x , y )",
          "old_line_content": "",
          "new_line_content": "        return lexNumCmp( x , y );",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": null,
          "new_api": "nFields",
          "old_text": null,
          "new_text": "o.nFields()",
          "old_line_content": "        int x = 0;",
          "new_line_content": "        _nfields = o.nFields();",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": null,
          "new_api": "isOwned",
          "old_text": null,
          "new_text": "isOwned()",
          "old_line_content": "        BSONObjBuilder b;",
          "new_line_content": "        assert( isEmpty() && !isOwned() ); /* partial implementation for now... */",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "i.next().rawdata()",
          "old_line_content": "        }",
          "new_line_content": "            _fields[x++] = i.next().rawdata();",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "fields.size()",
          "old_line_content": "        BSONObjIterator i(from);",
          "new_line_content": "        int N = fields.size();",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert( x == _nfields )",
          "old_line_content": "        _cur = 0;",
          "new_line_content": "        assert( x == _nfields );",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": null,
          "new_api": "qsort",
          "old_text": null,
          "new_text": "qsort( _fields , _nfields , sizeof(char*) , BSONElementFieldSorter )",
          "old_line_content": "    }",
          "new_line_content": "        qsort( _fields , _nfields , sizeof(char*) , BSONElementFieldSorter );",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "fields.count(fname)",
          "old_line_content": "                ++n;",
          "new_line_content": "            if ( fields.count(fname) ) {",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(fname, \"_id\")",
          "old_line_content": "                    break;",
          "new_line_content": "                gotId = gotId || strcmp(fname, \"_id\")==0;",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": null,
          "new_api": "chk",
          "old_text": null,
          "new_text": "chk(mongo::Array)",
          "old_line_content": "        BSONObjIterator i(Obj());",
          "new_line_content": "        chk(mongo::Array);",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(fname, \"_id\")",
          "old_line_content": "                gotId = true;",
          "new_line_content": "            else if ( strcmp(fname, \"_id\")==0 ) {",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "b.append(e)",
          "old_line_content": "                if ( n == N && gotId )",
          "new_line_content": "                b.append(e);",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "i.next()",
          "old_line_content": "            try {",
          "new_line_content": "            BSONElement e = i.next();",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "v.size()",
          "old_line_content": "                v[u] = e;",
          "new_line_content": "                if( u >= v.size() )",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "v.resize(u+1)",
          "old_line_content": "            }",
          "new_line_content": "                    v.resize(u+1);",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": null,
          "new_api": "decouple",
          "old_text": null,
          "new_text": "b.decouple(len)",
          "old_line_content": "",
          "new_line_content": "            init( b.decouple(len), true );",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "i.next()",
          "old_line_content": "                break;",
          "new_line_content": "            BSONElement e = i.next();",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "e.type()",
          "old_line_content": "                BSONObjBuilder m;",
          "new_line_content": "            switch( e.type() ) {",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "m.append( \"$minElement\", 1 )",
          "old_line_content": "                break;",
          "new_line_content": "                m.append( \"$minElement\", 1 );",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": null,
          "new_api": "done",
          "old_text": null,
          "new_text": "m.done()",
          "old_line_content": "            }",
          "new_line_content": "                b.append( e.fieldName(), m.done() );",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "m.append( \"$maxElement\", 1 )",
          "old_line_content": "                break;",
          "new_line_content": "                m.append( \"$maxElement\", 1 );",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": null,
          "new_api": "done",
          "old_text": null,
          "new_text": "m.done()",
          "old_line_content": "            }",
          "new_line_content": "                b.append( e.fieldName(), m.done() );",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "b.append( e )",
          "old_line_content": "        }",
          "new_line_content": "                b.append( e );",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": null,
          "new_api": "obj",
          "old_text": null,
          "new_text": "b.obj()",
          "old_line_content": "",
          "new_line_content": "        return b.obj();",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "i.next()",
          "old_line_content": "                break;",
          "new_line_content": "            BSONElement e = i.next();",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "fieldName",
          "old_text": null,
          "new_text": "f.fieldName()",
          "old_line_content": "            }",
          "new_line_content": "                b.appendAs( e, f.fieldName() );",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "j.next()",
          "old_line_content": "            else {",
          "new_line_content": "                f = j.next();",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "b.append( e )",
          "old_line_content": "        }",
          "new_line_content": "                b.append( e );",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": null,
          "new_api": "obj",
          "old_text": null,
          "new_text": "b.obj()",
          "old_line_content": "",
          "new_line_content": "        return b.obj();",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "i.next()",
          "old_line_content": "",
          "new_line_content": "            BSONElement e = i.next();",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr( name , '.' )",
          "old_line_content": "                return",
          "new_line_content": "            if ( strchr( name , '.' ) ||",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp( name , \"$ref\" )",
          "old_line_content": "                    ;",
          "new_line_content": "                    strcmp( name , \"$ref\" ) == 0 ||",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp( name , \"$id\" )",
          "old_line_content": "            }",
          "new_line_content": "                    strcmp( name , \"$id\" ) == 0",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": null,
          "new_api": "mayEncapsulate",
          "old_text": null,
          "new_text": "e.mayEncapsulate()",
          "old_line_content": "                case Object:",
          "new_line_content": "            if ( e.mayEncapsulate() ) {",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "e.type()",
          "old_line_content": "                case Array:",
          "new_line_content": "                switch ( e.type() ) {",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": null,
          "new_api": "embeddedObject",
          "old_text": null,
          "new_text": "e.embeddedObject().okForStorage()",
          "old_line_content": "                    break;",
          "new_line_content": "                    if ( ! e.embeddedObject().okForStorage() )",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": null,
          "new_api": "codeWScopeObject",
          "old_text": null,
          "new_text": "e.codeWScopeObject().okForStorage()",
          "old_line_content": "                    break;",
          "new_line_content": "                    if ( ! e.codeWScopeObject().okForStorage() )",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": null,
          "new_api": "uassert",
          "old_text": null,
          "new_text": "uassert( 12579, \"unhandled cases in BSONObj okForStorage\" , 0 )",
          "old_line_content": "",
          "new_line_content": "                    uassert( 12579, \"unhandled cases in BSONObj okForStorage\" , 0 );",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": null,
          "new_api": "objsize",
          "old_text": null,
          "new_text": "objsize()",
          "old_line_content": "            if ( *p >= 'A' && *p <= 'z' )",
          "new_line_content": "        for ( int i = 0; i < objsize(); i++ ) {",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": null,
          "new_api": "out",
          "old_text": null,
          "new_text": "out()",
          "old_line_content": "            p++;",
          "new_line_content": "                out() << '\\t' << *p;",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": null,
          "new_api": "out",
          "old_text": null,
          "new_text": "out()",
          "old_line_content": "        }",
          "new_line_content": "            out() << endl;",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": null,
          "new_api": "objdata",
          "old_text": null,
          "new_text": "objdata()",
          "old_line_content": "        for( int i = 0; i < size; ++i ) {",
          "new_line_content": "        const char *d = objdata();",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": null,
          "new_api": "width",
          "old_text": null,
          "new_text": "ss.width( 2 )",
          "old_line_content": "            ss << hex << (unsigned)(unsigned char)( d[ i ] ) << dec;",
          "new_line_content": "            ss.width( 2 );",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": null,
          "new_api": "fill",
          "old_text": null,
          "new_text": "ss.fill( '0' )",
          "old_line_content": "            if ( ( d[ i ] >= '0' && d[ i ] <= '9' ) || ( d[ i ] >= 'A' && d[ i ] <= 'z' ) )",
          "new_line_content": "            ss.fill( '0' );",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": null,
          "new_api": "str",
          "old_text": null,
          "new_text": "ss.str()",
          "old_line_content": "",
          "new_line_content": "        return ss.str();",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": null,
          "new_api": "fieldName",
          "old_text": null,
          "new_text": "e.fieldName()",
          "old_line_content": "            }",
          "new_line_content": "                string newbase = base + e.fieldName() + \".\";",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": null,
          "new_api": "embeddedObject",
          "old_text": null,
          "new_text": "e.embeddedObject()",
          "old_line_content": "            else {",
          "new_line_content": "                nested2dotted(b, e.embeddedObject(), newbase);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1024,
          "old_api": "appendAs",
          "new_api": null,
          "old_text": "b.appendAs(e, newbase)",
          "new_text": null,
          "old_line_content": "                b.appendAs(e, newbase);",
          "new_line_content": "            else {",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": "bson2map",
          "new_api": null,
          "old_text": "bson2map(obj)",
          "new_text": null,
          "old_line_content": "        BSONMap sorted = bson2map(obj);",
          "new_line_content": "    void dotted2nested(BSONObjBuilder& b, const BSONObj& obj) {",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": "appendAs",
          "new_api": null,
          "old_text": "eb.appendAs(it->second, it->first)",
          "new_text": null,
          "old_line_content": "            eb.appendAs(it->second, it->first);",
          "new_line_content": "        EmbeddedBuilder eb(&b);",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "appendRegex",
          "new_api": null,
          "old_text": "b.appendRegex(\"x\", \"foo\")",
          "new_text": null,
          "old_line_content": "            b.appendRegex(\"x\", \"foo\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": "done",
          "new_api": null,
          "old_text": "b.done()",
          "new_text": null,
          "old_line_content": "            BSONObj o = b.done();",
          "new_line_content": "            BSONObjBuilder b;",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": "appendRegex",
          "new_api": null,
          "old_text": "c.appendRegex(\"x\", \"goo\")",
          "new_text": null,
          "old_line_content": "            c.appendRegex(\"x\", \"goo\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": "done",
          "new_api": null,
          "old_text": "c.done()",
          "new_text": null,
          "old_line_content": "            BSONObj p = c.done();",
          "new_line_content": "            BSONObjBuilder c;",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": "woCompare",
          "new_api": null,
          "old_text": "o.woCompare( p )",
          "new_text": null,
          "old_line_content": "            assert( o.woCompare( p ) < 0 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "init",
          "new_api": null,
          "old_text": "id.init()",
          "new_text": null,
          "old_line_content": "            id.init();",
          "new_line_content": "        void testoid() {",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": "str",
          "new_api": null,
          "old_text": "id.str()",
          "new_text": null,
          "old_line_content": "            b.init( id.str() );",
          "new_line_content": "            // assert( memcmp(id.getData(), b.getData(), 12) < 0 );",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert( b == id )",
          "new_text": null,
          "old_line_content": "            assert( b == id );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "numeric_limits<long long>::max()",
          "new_api": null,
          "old_text": "numeric_limits<long long>::max()",
          "new_text": null,
          "old_line_content": "                b.append( \"x\" , numeric_limits<long long>::max() );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": "obj",
          "new_api": null,
          "old_text": "b.obj()",
          "new_text": null,
          "old_line_content": "                l = b.obj();",
          "new_line_content": "                BSONObjBuilder b;",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": "numeric_limits<double>::max()",
          "new_api": null,
          "old_text": "numeric_limits<double>::max()",
          "new_text": null,
          "old_line_content": "                b.append( \"x\" , numeric_limits<double>::max() );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": "obj",
          "new_api": null,
          "old_text": "b.obj()",
          "new_text": null,
          "old_line_content": "                r = b.obj();",
          "new_line_content": "                BSONObjBuilder b;",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": "woCompare",
          "new_api": null,
          "old_text": "r.woCompare( l )",
          "new_text": null,
          "old_line_content": "            assert( r.woCompare( l ) > 0 );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": "numeric_limits<int>::max()",
          "new_api": null,
          "old_text": "numeric_limits<int>::max()",
          "new_text": null,
          "old_line_content": "                b.append( \"x\" , numeric_limits<int>::max() );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "obj",
          "new_api": null,
          "old_text": "b.obj()",
          "new_text": null,
          "old_line_content": "                l = b.obj();",
          "new_line_content": "                BSONObjBuilder b;",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "woCompare",
          "new_api": null,
          "old_text": "r.woCompare( l )",
          "new_text": null,
          "old_line_content": "            assert( r.woCompare( l ) > 0 );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "obj",
          "new_api": null,
          "old_text": "b.obj()",
          "new_text": null,
          "old_line_content": "                { BSONObjBuilder b; b.append( \"x\" , (long long)2 ); x = b.obj(); }",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": "obj",
          "new_api": null,
          "old_text": "b.obj()",
          "new_text": null,
          "old_line_content": "                { BSONObjBuilder b; b.append( \"x\" , (int)3 ); y = b.obj(); }",
          "new_line_content": "                BSONObj x,y,z;",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": "obj",
          "new_api": null,
          "old_text": "b.obj()",
          "new_text": null,
          "old_line_content": "                { BSONObjBuilder b; b.append( \"x\" , (long long)2 ); ll = b.obj(); }",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "obj",
          "new_api": null,
          "old_text": "b.obj()",
          "new_text": null,
          "old_line_content": "                { BSONObjBuilder b; b.append( \"x\" , (double)2 ); d = b.obj(); }",
          "new_line_content": "                BSONObj ll,d,i,n,u;",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": "woCompare",
          "new_api": null,
          "old_text": "i.woCompare( u )",
          "new_text": null,
          "old_line_content": "                assert( ll.woCompare( u ) == i.woCompare( u ) );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": "woCompare",
          "new_api": null,
          "old_text": "u.woCompare( i )",
          "new_text": null,
          "old_line_content": "                assert( u.woCompare( ll ) == u.woCompare( i ) );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "woCompare",
          "new_api": null,
          "old_text": "i.woCompare( n )",
          "new_text": null,
          "old_line_content": "                assert( ll.woCompare( n ) == i.woCompare( n ) );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "woCompare",
          "new_api": null,
          "old_text": "n.woCompare( i )",
          "new_text": null,
          "old_line_content": "                assert( n.woCompare( ll ) == n.woCompare( i ) );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": "obj",
          "new_api": null,
          "old_text": "b.obj()",
          "new_text": null,
          "old_line_content": "                { BSONObjBuilder b; b.append( \"x\" , \"eliot\" ); l = b.obj(); }",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "obj",
          "new_api": null,
          "old_text": "b.obj()",
          "new_text": null,
          "old_line_content": "                { BSONObjBuilder b; b.appendSymbol( \"x\" , \"eliot\" ); r = b.obj(); }",
          "new_line_content": "                BSONObj l,r;",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": "testRegex",
          "new_api": null,
          "old_text": "testRegex()",
          "new_text": null,
          "old_line_content": "            testRegex();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "append",
          "new_api": null,
          "old_text": "B.append(\"x\", 2.0)",
          "new_text": null,
          "old_line_content": "            B.append(\"x\", 2.0);",
          "new_line_content": "            BSONObjBuilder A,B,C;",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": "type",
          "new_api": null,
          "old_text": "_element.type()",
          "new_text": null,
          "old_line_content": "        massert( 10332 ,  \"Expected CurrentTime type\", _element.type() == Timestamp );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1218,
          "old_api": "value",
          "new_api": null,
          "old_text": "value()",
          "new_text": null,
          "old_line_content": "        unsigned long long &timestamp = *( reinterpret_cast< unsigned long long* >( value() ) );",
          "new_line_content": "    void BSONElementManipulator::initTimestamp() {",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": "appendMinKey",
          "new_api": null,
          "old_text": "appendMinKey( fieldName )",
          "new_text": null,
          "old_line_content": "        case MinKey: appendMinKey( fieldName ); return;",
          "new_line_content": "    void BSONObjBuilder::appendMinForType( const StringData& fieldName , int t ) {",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": "appendMinKey",
          "new_api": null,
          "old_text": "appendMinKey( fieldName )",
          "new_text": null,
          "old_line_content": "        case MaxKey: appendMinKey( fieldName ); return;",
          "new_line_content": "        switch ( t ) {",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "numeric_limits<double>::max()",
          "new_api": null,
          "old_text": "numeric_limits<double>::max()",
          "new_text": null,
          "old_line_content": "            append( fieldName , - numeric_limits<double>::max() ); return;",
          "new_line_content": "        case NumberDouble:",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&o, 0, sizeof(o))",
          "new_text": null,
          "old_line_content": "            memset(&o, 0, sizeof(o));",
          "new_line_content": "        case jstOID: {",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": "appendOID",
          "new_api": null,
          "old_text": "appendOID( fieldName , &o)",
          "new_text": null,
          "old_line_content": "            appendOID( fieldName , &o);",
          "new_line_content": "            OID o;",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": "appendBool",
          "new_api": null,
          "old_text": "appendBool( fieldName , false)",
          "new_text": null,
          "old_line_content": "        case Bool: appendBool( fieldName , false); return;",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": "appendDate",
          "new_api": null,
          "old_text": "appendDate( fieldName , 0)",
          "new_text": null,
          "old_line_content": "        case Date: appendDate( fieldName , 0); return;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "BSONObj",
          "new_api": null,
          "old_text": "BSONObj()",
          "new_text": null,
          "old_line_content": "        case Object: append( fieldName , BSONObj() ); return;",
          "new_line_content": "        case Symbol:",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "appendRegex",
          "new_api": null,
          "old_text": "appendRegex( fieldName , \"\" )",
          "new_text": null,
          "old_line_content": "        case RegEx: appendRegex( fieldName , \"\" ); return;",
          "new_line_content": "        case Undefined:",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&o, 0, sizeof(o))",
          "new_text": null,
          "old_line_content": "            memset(&o, 0, sizeof(o));",
          "new_line_content": "        case DBRef: {",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": "appendDBRef",
          "new_api": null,
          "old_text": "appendDBRef( fieldName , \"\" , o )",
          "new_text": null,
          "old_line_content": "            appendDBRef( fieldName , \"\" , o );",
          "new_line_content": "            OID o;",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": "appendCode",
          "new_api": null,
          "old_text": "appendCode( fieldName , \"\" )",
          "new_text": null,
          "old_line_content": "        case Code: appendCode( fieldName , \"\" ); return;",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": "BSONObj",
          "new_api": null,
          "old_text": "BSONObj()",
          "new_text": null,
          "old_line_content": "        case CodeWScope: appendCodeWScope( fieldName , \"\" , BSONObj() ); return;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": "string",
          "new_api": null,
          "old_text": "string(name, p-name)",
          "new_text": null,
          "old_line_content": "            left = string(name, p-name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": "log",
          "new_api": null,
          "old_text": "log()",
          "new_text": null,
          "old_line_content": "        log() << \"type not support for appendMinElementForType: \" << t << endl;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "string",
          "new_api": null,
          "old_text": "string(name)",
          "new_text": null,
          "old_line_content": "            left = string(name);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(name)",
          "new_text": null,
          "old_line_content": "            name = name + strlen(name);",
          "new_line_content": "        else {",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "uassert",
          "new_api": null,
          "old_text": "uassert( 10061 ,  \"type not supported for appendMinElementForType\" , false )",
          "new_text": null,
          "old_line_content": "        uassert( 10061 ,  \"type not supported for appendMinElementForType\" , false );",
          "new_line_content": "        };",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "eoo",
          "new_api": null,
          "old_text": "sub.eoo()",
          "new_text": null,
          "old_line_content": "        if ( sub.eoo() )",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "appendMaxKey",
          "new_api": null,
          "old_text": "appendMaxKey( fieldName )",
          "new_text": null,
          "old_line_content": "        case MinKey: appendMaxKey( fieldName );  break;",
          "new_line_content": "    void BSONObjBuilder::appendMaxForType( const StringData& fieldName , int t ) {",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": "appendMaxKey",
          "new_api": null,
          "old_text": "appendMaxKey( fieldName )",
          "new_text": null,
          "old_line_content": "        case MaxKey: appendMaxKey( fieldName ); break;",
          "new_line_content": "        switch ( t ) {",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "embeddedObject",
          "new_api": null,
          "old_text": "sub.embeddedObject().getFieldDottedOrArray( name )",
          "new_text": null,
          "old_line_content": "            return sub.embeddedObject().getFieldDottedOrArray( name );",
          "new_line_content": "            return sub;",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": "numeric_limits<double>::max()",
          "new_api": null,
          "old_text": "numeric_limits<double>::max()",
          "new_text": null,
          "old_line_content": "            append( fieldName , numeric_limits<double>::max() );",
          "new_line_content": "        case NumberDouble:",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": "appendMinForType",
          "new_api": null,
          "old_text": "appendMinForType( fieldName , jstOID )",
          "new_text": null,
          "old_line_content": "            appendMinForType( fieldName , jstOID );",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&o, 0xFF, sizeof(o))",
          "new_text": null,
          "old_line_content": "            memset(&o, 0xFF, sizeof(o));",
          "new_line_content": "        case jstOID: {",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": "appendOID",
          "new_api": null,
          "old_text": "appendOID( fieldName , &o)",
          "new_text": null,
          "old_line_content": "            appendOID( fieldName , &o);",
          "new_line_content": "            OID o;",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": "moreWithEOO",
          "new_api": null,
          "old_text": "i.moreWithEOO()",
          "new_text": null,
          "old_line_content": "        while ( i.moreWithEOO() ) {",
          "new_line_content": "        BSONObjBuilder b;",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": "next",
          "new_api": null,
          "old_text": "i.next()",
          "new_text": null,
          "old_line_content": "            BSONElement e = i.next();",
          "new_line_content": "        BSONObjIterator i(pattern);",
          "content_same": false
        },
        {
          "line": 1285,
          "old_api": "appendMinForType",
          "new_api": null,
          "old_text": "appendMinForType( fieldName , NumberInt )",
          "new_text": null,
          "old_line_content": "            appendMinForType( fieldName , NumberInt );",
          "new_line_content": "        case Undefined:",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "appendBool",
          "new_api": null,
          "old_text": "appendBool( fieldName , true)",
          "new_text": null,
          "old_line_content": "        case Bool: appendBool( fieldName , true); break;",
          "new_line_content": "        case jstNULL:",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": "eoo",
          "new_api": null,
          "old_text": "x.eoo()",
          "new_text": null,
          "old_line_content": "            if ( !x.eoo() )",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": "BSONObj",
          "new_api": null,
          "old_text": "BSONObj()",
          "new_text": null,
          "old_line_content": "            appendCodeWScope( fieldName , \"ZZZ\" , BSONObj() ); break;",
          "new_line_content": "        case Code:",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": "moreWithEOO",
          "new_api": null,
          "old_text": "i.moreWithEOO()",
          "new_text": null,
          "old_line_content": "        while ( i.moreWithEOO() ) {",
          "new_line_content": "        BSONObjBuilder b(32); // scanandorder.h can make a zillion of these, so we start the allocation very small",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "next",
          "new_api": null,
          "old_text": "i.next()",
          "new_text": null,
          "old_line_content": "            BSONElement e = i.next();",
          "new_line_content": "        BSONObjIterator i(pattern);",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "eoo",
          "new_api": null,
          "old_text": "x.eoo()",
          "new_text": null,
          "old_line_content": "            if ( ! x.eoo() )",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": "moreWithEOO",
          "new_api": null,
          "old_text": "i.moreWithEOO()",
          "new_text": null,
          "old_line_content": "        while( i.moreWithEOO() ) {",
          "new_line_content": "        BSONObjBuilder b;",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": "next",
          "new_api": null,
          "old_text": "i.next()",
          "new_text": null,
          "old_line_content": "            BSONElement e = i.next();",
          "new_line_content": "        BSONObjIterator i( *this );",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": "size",
          "new_api": null,
          "old_text": "data.size()",
          "new_text": null,
          "old_line_content": "        if ( data.size() == 0 || data == \"-\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": "eoo",
          "new_api": null,
          "old_text": "x.eoo()",
          "new_text": null,
          "old_line_content": "            if ( ( x.eoo() && !inFilter ) ||",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": "size",
          "new_api": null,
          "old_text": "data.size()",
          "new_text": null,
          "old_line_content": "        for ( ; pos<data.size(); pos++ ) {",
          "new_line_content": "        bool hasDec = false;",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": "isdigit",
          "new_api": null,
          "old_text": "isdigit(data[pos])",
          "new_text": null,
          "old_line_content": "            if ( isdigit(data[pos]) )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "moreWithEOO",
          "new_api": null,
          "old_text": "i.moreWithEOO()",
          "new_text": null,
          "old_line_content": "        while( i.moreWithEOO() ) {",
          "new_line_content": "        BSONObjIterator i( indexKey );",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": "next",
          "new_api": null,
          "old_text": "i.next()",
          "new_text": null,
          "old_line_content": "            BSONElement f = i.next();",
          "new_line_content": "        int j = 0;",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": "moreWithEOO",
          "new_api": null,
          "old_text": "k.moreWithEOO()",
          "new_text": null,
          "old_line_content": "        while( k.moreWithEOO() ) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "next",
          "new_api": null,
          "old_text": "k.next()",
          "new_text": null,
          "old_line_content": "            BSONElement g = k.next();",
          "new_line_content": "        BSONObjIterator k( *this );",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "data.c_str()",
          "new_text": null,
          "old_line_content": "            double d = atof( data.c_str() );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": "append",
          "new_api": null,
          "old_text": "append( fieldName , d )",
          "new_text": null,
          "old_line_content": "            append( fieldName , d );",
          "new_line_content": "        if ( hasDec ) {",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "size",
          "new_api": null,
          "old_text": "data.size()",
          "new_text": null,
          "old_line_content": "        if ( data.size() < 8 ) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "data.c_str()",
          "new_text": null,
          "old_line_content": "            append( fieldName , atoi( data.c_str() ) );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": "BSONElement",
          "new_api": null,
          "old_text": "BSONElement()",
          "new_text": null,
          "old_line_content": "        return BSONElement();",
          "new_line_content": "            --j;",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "boost::lexical_cast<long long>( data )",
          "new_api": null,
          "old_text": "boost::lexical_cast<long long>( data )",
          "new_text": null,
          "old_line_content": "            long long num = boost::lexical_cast<long long>( data );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": "append",
          "new_api": null,
          "old_text": "append( fieldName , num )",
          "new_text": null,
          "old_line_content": "            append( fieldName , num );",
          "new_line_content": "        try {",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": "getField",
          "new_api": null,
          "old_text": "getField(name)",
          "new_text": null,
          "old_line_content": "        BSONElement e = getField(name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "number",
          "new_api": null,
          "old_text": "e.number()",
          "new_text": null,
          "old_line_content": "        return e.isNumber() ? (int) e.number() : INT_MIN;",
          "new_line_content": "    int BSONObj::getIntField(const char *name) const {",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": "getField",
          "new_api": null,
          "old_text": "getField(name)",
          "new_text": null,
          "old_line_content": "        BSONElement e = getField(name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "boolean",
          "new_api": null,
          "old_text": "e.boolean()",
          "new_text": null,
          "old_line_content": "        return e.type() == Bool ? e.boolean() : false;",
          "new_line_content": "    bool BSONObj::getBoolField(const char *name) const {",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": "getField",
          "new_api": null,
          "old_text": "getField(name)",
          "new_text": null,
          "old_line_content": "        BSONElement e = getField(name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": "valuestr",
          "new_api": null,
          "old_text": "e.valuestr()",
          "new_text": null,
          "old_line_content": "        return e.type() == String ? e.valuestr() : \"\";",
          "new_line_content": "    const char * BSONObj::getStringField(const char *name) const {",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "more",
          "new_api": null,
          "old_text": "j.more()",
          "new_text": null,
          "old_line_content": "        while ( i.more() && j.more() ) {",
          "new_line_content": "        BSONObjIterator j(values);",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": "next",
          "new_api": null,
          "old_text": "i.next().fieldName()",
          "new_text": null,
          "old_line_content": "            appendAs( j.next() , i.next().fieldName() );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "more",
          "new_api": null,
          "old_text": "i.more()",
          "new_text": null,
          "old_line_content": "        assert( ! i.more() );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": "more",
          "new_api": null,
          "old_text": "j.more()",
          "new_text": null,
          "old_line_content": "        assert( ! j.more() );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": "moreWithEOO",
          "new_api": null,
          "old_text": "i.moreWithEOO()",
          "new_text": null,
          "old_line_content": "        while ( i.moreWithEOO() ) {",
          "new_line_content": "        int n = 0;",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": "next",
          "new_api": null,
          "old_text": "i.next()",
          "new_text": null,
          "old_line_content": "            BSONElement e = i.next();",
          "new_line_content": "        BSONObjIterator i(*this);",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "lexNumCmp",
          "new_api": null,
          "old_text": "lexNumCmp( x , y )",
          "new_text": null,
          "old_line_content": "        return lexNumCmp( x , y );",
          "new_line_content": "        const char * y = *((const char**)b);",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": "nFields",
          "new_api": null,
          "old_text": "o.nFields()",
          "new_text": null,
          "old_line_content": "        _nfields = o.nFields();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": "isOwned",
          "new_api": null,
          "old_text": "isOwned()",
          "new_text": null,
          "old_line_content": "        assert( isEmpty() && !isOwned() ); /* partial implementation for now... */",
          "new_line_content": "    */",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "more",
          "new_api": null,
          "old_text": "i.more()",
          "new_text": null,
          "old_line_content": "        while ( i.more() ) {",
          "new_line_content": "        int x = 0;",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "next",
          "new_api": null,
          "old_text": "i.next().rawdata()",
          "new_text": null,
          "old_line_content": "            _fields[x++] = i.next().rawdata();",
          "new_line_content": "        BSONObjIterator i( o );",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": "size",
          "new_api": null,
          "old_text": "fields.size()",
          "new_text": null,
          "old_line_content": "        int N = fields.size();",
          "new_line_content": "        BSONObjBuilder b;",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "qsort",
          "new_api": null,
          "old_text": "qsort( _fields , _nfields , sizeof(char*) , BSONElementFieldSorter )",
          "new_text": null,
          "old_line_content": "        qsort( _fields , _nfields , sizeof(char*) , BSONElementFieldSorter );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "moreWithEOO",
          "new_api": null,
          "old_text": "i.moreWithEOO()",
          "new_text": null,
          "old_line_content": "        while ( i.moreWithEOO() ) {",
          "new_line_content": "        BSONObjIterator i(from);",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "next",
          "new_api": null,
          "old_text": "i.next()",
          "new_text": null,
          "old_line_content": "            BSONElement e = i.next();",
          "new_line_content": "        bool gotId = false;",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": "chk",
          "new_api": null,
          "old_text": "chk(mongo::Array)",
          "new_text": null,
          "old_line_content": "        chk(mongo::Array);",
          "new_line_content": "        */",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": "more",
          "new_api": null,
          "old_text": "i.more()",
          "new_text": null,
          "old_line_content": "        while( i.more() ) {",
          "new_line_content": "        vector<BSONElement> v;",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(fname, \"_id\")",
          "new_text": null,
          "old_line_content": "            else if ( strcmp(fname, \"_id\")==0 ) {",
          "new_line_content": "                    break;",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": "append",
          "new_api": null,
          "old_text": "b.append(e)",
          "new_text": null,
          "old_line_content": "                b.append(e);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": "next",
          "new_api": null,
          "old_text": "i.next()",
          "new_text": null,
          "old_line_content": "            BSONElement e = i.next();",
          "new_line_content": "        BSONObjIterator i(Obj());",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert( u < 1000000 )",
          "new_text": null,
          "old_line_content": "                assert( u < 1000000 );",
          "new_line_content": "            try {",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": "decouple",
          "new_api": null,
          "old_text": "b.decouple(len)",
          "new_text": null,
          "old_line_content": "            init( b.decouple(len), true );",
          "new_line_content": "        if ( n ) {",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "moreWithEOO",
          "new_api": null,
          "old_text": "i.moreWithEOO()",
          "new_text": null,
          "old_line_content": "        while( i.moreWithEOO() ) {",
          "new_line_content": "        BSONObjBuilder b;",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": "next",
          "new_api": null,
          "old_text": "i.next()",
          "new_text": null,
          "old_line_content": "            BSONElement e = i.next();",
          "new_line_content": "        BSONObjIterator i( *this );",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": "append",
          "new_api": null,
          "old_text": "m.append( \"$minElement\", 1 )",
          "new_text": null,
          "old_line_content": "                m.append( \"$minElement\", 1 );",
          "new_line_content": "            case MinKey: {",
          "content_same": false
        },
        {
          "line": 916,
          "old_api": "done",
          "new_api": null,
          "old_text": "m.done()",
          "new_text": null,
          "old_line_content": "                b.append( e.fieldName(), m.done() );",
          "new_line_content": "                BSONObjBuilder m;",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": "append",
          "new_api": null,
          "old_text": "m.append( \"$maxElement\", 1 )",
          "new_text": null,
          "old_line_content": "                m.append( \"$maxElement\", 1 );",
          "new_line_content": "            case MaxKey: {",
          "content_same": false
        },
        {
          "line": 922,
          "old_api": "done",
          "new_api": null,
          "old_text": "m.done()",
          "new_text": null,
          "old_line_content": "                b.append( e.fieldName(), m.done() );",
          "new_line_content": "                BSONObjBuilder m;",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": "append",
          "new_api": null,
          "old_text": "b.append( e )",
          "new_text": null,
          "old_line_content": "                b.append( e );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": "obj",
          "new_api": null,
          "old_text": "b.obj()",
          "new_text": null,
          "old_line_content": "        return b.obj();",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": "firstElement",
          "new_api": null,
          "old_text": "BSONObj().firstElement()",
          "new_text": null,
          "old_line_content": "        BSONElement f = j.moreWithEOO() ? j.next() : BSONObj().firstElement();",
          "new_line_content": "        BSONObjIterator i( *this );",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": "moreWithEOO",
          "new_api": null,
          "old_text": "i.moreWithEOO()",
          "new_text": null,
          "old_line_content": "        while( i.moreWithEOO() ) {",
          "new_line_content": "        BSONObjIterator j( names );",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": "fieldName",
          "new_api": null,
          "old_text": "f.fieldName()",
          "new_text": null,
          "old_line_content": "                b.appendAs( e, f.fieldName() );",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": "append",
          "new_api": null,
          "old_text": "b.append( e )",
          "new_text": null,
          "old_line_content": "                b.append( e );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "obj",
          "new_api": null,
          "old_text": "b.obj()",
          "new_text": null,
          "old_line_content": "        return b.obj();",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "more",
          "new_api": null,
          "old_text": "i.more()",
          "new_text": null,
          "old_line_content": "        while ( i.more() ) {",
          "new_line_content": "    bool BSONObj::okForStorage() const {",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "next",
          "new_api": null,
          "old_text": "i.next()",
          "new_text": null,
          "old_line_content": "            BSONElement e = i.next();",
          "new_line_content": "        BSONObjIterator i( *this );",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr( name , '$' )",
          "new_text": null,
          "old_line_content": "                    strchr( name , '$' ) ) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp( name , \"$id\" )",
          "new_text": null,
          "old_line_content": "                    strcmp( name , \"$id\" ) == 0",
          "new_line_content": "                return",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": "mayEncapsulate",
          "new_api": null,
          "old_text": "e.mayEncapsulate()",
          "new_text": null,
          "old_line_content": "            if ( e.mayEncapsulate() ) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": "type",
          "new_api": null,
          "old_text": "e.type()",
          "new_text": null,
          "old_line_content": "                switch ( e.type() ) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 970,
          "old_api": "embeddedObject",
          "new_api": null,
          "old_text": "e.embeddedObject().okForStorage()",
          "new_text": null,
          "old_line_content": "                    if ( ! e.embeddedObject().okForStorage() )",
          "new_line_content": "                case Object:",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "codeWScopeObject",
          "new_api": null,
          "old_text": "e.codeWScopeObject().okForStorage()",
          "new_text": null,
          "old_line_content": "                    if ( ! e.codeWScopeObject().okForStorage() )",
          "new_line_content": "                    break;",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "uassert",
          "new_api": null,
          "old_text": "uassert( 12579, \"unhandled cases in BSONObj okForStorage\" , 0 )",
          "new_text": null,
          "old_line_content": "                    uassert( 12579, \"unhandled cases in BSONObj okForStorage\" , 0 );",
          "new_line_content": "                    break;",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": "out",
          "new_api": null,
          "old_text": "out()",
          "new_text": null,
          "old_line_content": "        out() << hex;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": "objdata",
          "new_api": null,
          "old_text": "objdata()",
          "new_text": null,
          "old_line_content": "        const char *p = objdata();",
          "new_line_content": "    void BSONObj::dump() const {",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": "out",
          "new_api": null,
          "old_text": "out()",
          "new_text": null,
          "old_line_content": "            out() << endl;",
          "new_line_content": "            if ( *p >= 'A' && *p <= 'z' )",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": "objdata",
          "new_api": null,
          "old_text": "objdata()",
          "new_text": null,
          "old_line_content": "        const char *d = objdata();",
          "new_line_content": "    string BSONObj::hexDump() const {",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "objsize",
          "new_api": null,
          "old_text": "objsize()",
          "new_text": null,
          "old_line_content": "        int size = objsize();",
          "new_line_content": "        stringstream ss;",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": "fill",
          "new_api": null,
          "old_text": "ss.fill( '0' )",
          "new_text": null,
          "old_line_content": "            ss.fill( '0' );",
          "new_line_content": "        for( int i = 0; i < size; ++i ) {",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": "str",
          "new_api": null,
          "old_text": "ss.str()",
          "new_text": null,
          "old_line_content": "        return ss.str();",
          "new_line_content": "                ss << ' ';",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "more",
          "new_api": null,
          "old_text": "it.more()",
          "new_text": null,
          "old_line_content": "        while (it.more()) {",
          "new_line_content": "    void nested2dotted(BSONObjBuilder& b, const BSONObj& obj, const string& base) {",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": "next",
          "new_api": null,
          "old_text": "it.next()",
          "new_text": null,
          "old_line_content": "            BSONElement e = it.next();",
          "new_line_content": "        BSONObjIterator it(obj);",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "fieldName",
          "new_api": null,
          "old_text": "e.fieldName()",
          "new_text": null,
          "old_line_content": "                string newbase = base + e.fieldName();",
          "new_line_content": "            }",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 75,
      "total_additions": 144,
      "total_deletions": 145,
      "total_api_changes": 364
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 8,
        "api_related_lines": 364,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          744,
          745,
          755
        ]
      }
    },
    "api_calls_before": 618,
    "api_calls_after": 617,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 4,
      "total_diff_lines": 28
    }
  }
}