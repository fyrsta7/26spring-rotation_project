{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mongo/modified_file/4cea18515c926dc8e496e96793ff8c6d2e312d84",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mongo/modified_file/4cea18515c926dc8e496e96793ff8c6d2e312d84/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mongo/modified_file/4cea18515c926dc8e496e96793ff8c6d2e312d84/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mongo/modified_file/4cea18515c926dc8e496e96793ff8c6d2e312d84/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 274,
          "old_api": "s_open",
          "new_api": "c_str",
          "old_text": "s_open() );",
          "new_text": "tring().c_str() , ",
          "old_line_content": "            assert( f.is_open() );",
          "new_line_content": "            f.open( p.string().c_str() , /*read-only*/false , /*direct-io*/false );",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": "sync",
          "new_api": "ert",
          "old_text": "sync();\n ",
          "new_text": "ert( loc == len );\n ",
          "old_line_content": "            f.fsync();",
          "new_line_content": "            assert( loc == len );",
          "content_same": false
        },
        {
          "line": 289,
          "old_api": "JournalDir",
          "new_api": "::stream() <<",
          "old_text": "JournalDir() / ",
          "new_text": "::stream() <<",
          "old_line_content": "                filesystem::path filepath = getJournalDir() / fn;",
          "new_line_content": "                string fn = str::stream() << \"prealloc.\" << i;",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": "allocateIsFaster",
          "new_api": "JournalDir",
          "old_text": "allocateIsFaster() ) ",
          "new_text": "JournalDir()/\"p",
          "old_line_content": "                preallocateIsFaster() ) {",
          "new_line_content": "                exists(getJournalDir()/\"prealloc.1\") || ",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": "JournalDir",
          "new_api": "::stream() <<",
          "old_text": "JournalDir() / ",
          "new_text": "::stream() <<",
          "old_line_content": "                        filesystem::path filepath = getJournalDir() / fn;",
          "new_line_content": "                        string fn = str::stream() << \"prealloc.\" << i;",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": "esystem::exists(filepath) )",
          "new_api": "JournalDir",
          "old_text": "esystem::exists(filepath) ) ",
          "new_text": "JournalDir() / ",
          "old_line_content": "                        if( !filesystem::exists(filepath) ) {",
          "new_line_content": "                        filesystem::path filepath = getJournalDir() / fn;",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": "JournalDir",
          "new_api": "::stream() <<",
          "old_text": "JournalDir() / ",
          "new_text": "::stream() <<",
          "old_line_content": "                    filesystem::path filepath = getJournalDir() / fn;",
          "new_line_content": "                    string fn = str::stream() << \"prealloc.\" << i;",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": "esystem::exists(filepath) )",
          "new_api": "JournalDir",
          "old_text": "esystem::exists(filepath) )\n",
          "new_text": "JournalDir() / ",
          "old_line_content": "                    if( filesystem::exists(filepath) )",
          "new_line_content": "                    filesystem::path filepath = getJournalDir() / fn;",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": "tring",
          "new_api": "JournalDir",
          "old_text": "tring();\n ",
          "new_text": "JournalDir();\n ",
          "old_line_content": "            j.dir = p.string();",
          "new_line_content": "            filesystem::path p = getJournalDir();",
          "content_same": false
        },
        {
          "line": 366,
          "old_api": "() <<",
          "new_api": "tring",
          "old_text": "() <<",
          "new_text": "tring();\n ",
          "old_line_content": "            log() << \"journal dir=\" << j.dir << endl;",
          "new_line_content": "            j.dir = p.string();",
          "content_same": false
        },
        {
          "line": 367,
          "old_api": "sts",
          "new_api": "() <<",
          "old_text": "sts(j.dir) ) ",
          "new_text": "() <<",
          "old_line_content": "            if( !exists(j.dir) ) {",
          "new_line_content": "            log() << \"journal dir=\" << j.dir << endl;",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": "FilePathFor",
          "new_api": "ert",
          "old_text": "FilePathFor(_nextFileNumber);\n\n",
          "new_text": "ert( _curLogFile == 0 );\n ",
          "old_line_content": "            path fname = getFilePathFor(_nextFileNumber);",
          "new_line_content": "            assert( _curLogFile == 0 );",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": "mpty",
          "new_api": "dPrealloced",
          "old_text": "mpty() ) ",
          "new_text": "dPrealloced();\n ",
          "old_line_content": "                if( !p.empty() ) { ",
          "new_line_content": "                path p = findPrealloced();",
          "content_same": false
        },
        {
          "line": 394,
          "old_api": "en",
          "new_api": "ppendStruct",
          "old_text": "en());\n",
          "new_text": "ppendStruct(h);\n ",
          "old_line_content": "                            f.synchronousAppend(b.buf(), b.len());",
          "new_line_content": "                            b.appendStruct(h);",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": "en",
          "new_api": "ppendStruct",
          "old_text": "en());\n",
          "new_text": "ppendStruct(h);\n ",
          "old_line_content": "                _curLogFile->synchronousAppend(b.buf(), b.len());",
          "new_line_content": "                b.appendStruct(h);",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": "() <<",
          "new_api": "Path",
          "old_text": "() <<",
          "new_text": "Path()) )",
          "old_line_content": "                log() << \"info no lsn file in journal/ directory\" << endl;",
          "new_line_content": "            if( !MemoryMappedFile::exists(lsnPath()) ) {",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "s_open",
          "new_api": "string",
          "old_text": "s_open());\n",
          "new_text": "Path().string().c_str());\n",
          "old_line_content": "                assert(f.is_open());",
          "new_line_content": "                f.open(lsnPath().string().c_str());",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "ead",
          "new_api": "s_open",
          "old_text": "ead(0,(char*)&L, sizeof(L));\n ",
          "new_text": "s_open());\n",
          "old_line_content": "                f.read(0,(char*)&L, sizeof(L));",
          "new_line_content": "                assert(f.is_open());",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": "et",
          "new_api": "ead",
          "old_text": "et();\n ",
          "new_text": "ead(0,(char*)&L, sizeof(L));\n ",
          "old_line_content": "                unsigned long long lsn = L.get();",
          "new_line_content": "                f.read(0,(char*)&L, sizeof(L));",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": "s_open",
          "new_api": "string",
          "old_text": "s_open() ) ",
          "new_text": "Path().string().c_str());\n",
          "old_line_content": "                if( !f.is_open() ) { ",
          "new_line_content": "                f.open(lsnPath().string().c_str());",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": "rite",
          "new_api": "set",
          "old_text": "rite(0, (char*)&lsnf, sizeof(lsnf));\n ",
          "new_text": "f.set(_lastFlushTime);\n ",
          "old_line_content": "                f.write(0, (char*)&lsnf, sizeof(lsnf));",
          "new_line_content": "                lsnf.set(_lastFlushTime);",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": "push_back",
          "new_api": "tener::getElapsedTimeMillis();",
          "old_text": "dJournalFiles.push_back(jf);\n\n",
          "new_text": "tener::getElapsedTimeMillis();\n ",
          "old_line_content": "            _oldJournalFiles.push_back(jf);",
          "new_line_content": "            jf.lastEventTimeMs = Listener::getElapsedTimeMillis();",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": "front",
          "new_api": "empty",
          "old_text": "dJournalFiles.front();\n\n",
          "new_text": "dJournalFiles.empty() ) ",
          "old_line_content": "                JFile f = _oldJournalFiles.front();",
          "new_line_content": "            while( !_oldJournalFiles.empty() ) {",
          "content_same": false
        },
        {
          "line": 545,
          "old_api": "oveOldJournalFile",
          "new_api": "() <<",
          "old_text": "oveOldJournalFile(p);\n ",
          "new_text": "() <<",
          "old_line_content": "                    removeOldJournalFile(p);",
          "new_line_content": "                    log() << \"old journal file will be removed: \" << f.filename << endl;",
          "content_same": false
        },
        {
          "line": 565,
          "old_api": "assertWithin",
          "new_api": "atLeastReadLocked",
          "old_text": "ThreadMain.assertWithin();\n\n",
          "new_text": "utex.atLeastReadLocked() );",
          "old_line_content": "            durThreadMain.assertWithin();",
          "new_line_content": "            assert( !dbMutex.atLeastReadLocked() );",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": "illis",
          "new_api": "en",
          "old_text": "illis();\n ",
          "new_text": "en();\n ",
          "old_line_content": "                int ms = t.millis();",
          "new_line_content": "                _open();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 512,
          "old_api": null,
          "new_api": "tener::getElapsedTimeMillis();",
          "old_text": null,
          "new_text": "tener::getElapsedTimeMillis();\n ",
          "old_line_content": "        }",
          "new_line_content": "            j._preFlushTime = Listener::getElapsedTimeMillis();",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": null,
          "new_api": "mpty",
          "old_text": null,
          "new_text": "mpty() ) ",
          "old_line_content": "                    try { ",
          "new_line_content": "                if( !p.empty() ) { ",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": null,
          "new_api": "tring",
          "old_text": null,
          "new_text": "tring());\n",
          "old_line_content": "                            AlignedBuilder b(8192);",
          "new_line_content": "                            JHeader h(p.string());",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": null,
          "new_api": "ert",
          "old_text": null,
          "new_text": "ert( len % BLKSZ == 0 );\n\n",
          "old_line_content": "            AlignedBuilder b(BLKSZ);            ",
          "new_line_content": "            assert( len % BLKSZ == 0 );",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": null,
          "new_api": "en",
          "old_text": null,
          "new_text": "en());\n",
          "old_line_content": "                        }",
          "new_line_content": "                            f.synchronousAppend(b.buf(), b.len());",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": null,
          "new_api": "uf",
          "old_text": null,
          "new_text": "uf(), 0",
          "old_line_content": "",
          "new_line_content": "            memset((void*)b.buf(), 0, BLKSZ);",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": null,
          "new_api": "st::filesystem::rename(p, fname);",
          "old_text": null,
          "new_text": "st::filesystem::rename(p, fname);\n ",
          "old_line_content": "                    }",
          "new_line_content": "                        boost::filesystem::rename(p, fname);",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "dJournalFiles.push_back(jf);\n\n",
          "old_line_content": "",
          "new_line_content": "            _oldJournalFiles.push_back(jf);",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": null,
          "new_api": "tring",
          "old_text": null,
          "new_text": "tring() <<",
          "old_line_content": "                    }",
          "new_line_content": "                        log() << \"warning couldn't write to / rename file \" << p.string() << endl;",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": null,
          "new_api": "s_open",
          "old_text": null,
          "new_text": "s_open() );",
          "old_line_content": "            fileofs loc = 0;",
          "new_line_content": "            assert( f.is_open() );",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "me.string());\n",
          "old_line_content": "            _nextFileNumber++;",
          "new_line_content": "            _curLogFile = new LogFile(fname.string());",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": null,
          "new_api": "uf",
          "old_text": null,
          "new_text": "uf() , ",
          "old_line_content": "                loc += BLKSZ;",
          "new_line_content": "                f.write( loc , b.buf() , BLKSZ );",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": null,
          "new_api": "it",
          "old_text": null,
          "new_text": "it(BLKSZ);\n ",
          "old_line_content": "            }",
          "new_line_content": "                m.hit(BLKSZ);",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "me.string());\n",
          "old_line_content": "                _curFileId = h.fileId;",
          "new_line_content": "                JHeader h(fname.string());",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": null,
          "new_api": "ert",
          "old_text": null,
          "new_text": "ert(_curFileId);\n ",
          "old_line_content": "                AlignedBuilder b(8192);",
          "new_line_content": "                assert(_curFileId);",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": null,
          "new_api": "sync",
          "old_text": null,
          "new_text": "sync();\n ",
          "old_line_content": "        }",
          "new_line_content": "            f.fsync();",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": null,
          "new_api": "front",
          "old_text": null,
          "new_text": "dJournalFiles.front();\n\n",
          "old_line_content": "",
          "new_line_content": "                JFile f = _oldJournalFiles.front();",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": null,
          "new_api": "en",
          "old_text": null,
          "new_text": "en());\n",
          "old_line_content": "            }",
          "new_line_content": "                _curLogFile->synchronousAppend(b.buf(), b.len());",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": null,
          "new_api": "oveOldJournalFile",
          "old_text": null,
          "new_text": "oveOldJournalFile(p);\n ",
          "old_line_content": "                }",
          "new_line_content": "                    removeOldJournalFile(p);",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": null,
          "new_api": "JournalDir",
          "old_text": null,
          "new_text": "JournalDir() / ",
          "old_line_content": "",
          "new_line_content": "                filesystem::path filepath = getJournalDir() / fn;",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": null,
          "new_api": "ert",
          "old_text": null,
          "new_text": "ert( _curLogFile == 0 );\n ",
          "old_line_content": "            MongoFile::notifyPreFlush = preFlush;",
          "new_line_content": "            assert( _curLogFile == 0 );",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": null,
          "new_api": "pop_front",
          "old_text": null,
          "new_text": "dJournalFiles.pop_front();\n ",
          "old_line_content": "            }",
          "new_line_content": "                _oldJournalFiles.pop_front();",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": null,
          "new_api": "ert",
          "old_text": null,
          "new_text": "ert( MongoFile::notifyPreFlush == preFlush );\n ",
          "old_line_content": "            mutex::scoped_lock lk(_curLogFileMutex);",
          "new_line_content": "            assert( MongoFile::notifyPreFlush == preFlush );",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": null,
          "new_api": "en",
          "old_text": null,
          "new_text": "en();\n ",
          "old_line_content": "        }",
          "new_line_content": "            _open();",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": null,
          "new_api": "allocateFile",
          "old_text": null,
          "new_text": "allocateFile(filepath, limit);\n ",
          "old_line_content": "            }",
          "new_line_content": "                preallocateFile(filepath, limit);",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "set(this, 0, sizeof(*this));\n ",
          "old_line_content": "            lsn = x;",
          "new_line_content": "            memset(this, 0, sizeof(*this));",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": null,
          "new_api": "otate",
          "old_text": null,
          "new_text": "otate();\n ",
          "old_line_content": "        }",
          "new_line_content": "            j.rotate();",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": null,
          "new_api": "allocateIsFaster",
          "old_text": null,
          "new_text": "allocateIsFaster() ) ",
          "old_line_content": "                    usingPreallocate = true;",
          "new_line_content": "                preallocateIsFaster() ) {",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": null,
          "new_api": "assertWithin",
          "old_text": null,
          "new_text": "ThreadMain.assertWithin();\n\n",
          "old_line_content": "",
          "new_line_content": "            durThreadMain.assertWithin();",
          "content_same": false
        },
        {
          "line": 310,
          "old_api": null,
          "new_api": "eallocateFiles",
          "old_text": null,
          "new_text": "eallocateFiles();\n ",
          "old_line_content": "                    }",
          "new_line_content": "                        _preallocateFiles();",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": null,
          "new_api": "sert",
          "old_text": null,
          "new_text": "sert(13614, \"unexpected version number of lsn file in journal/ directory\", ver == 0);\n ",
          "old_line_content": "            if( ~lsn != checkbytes ) {",
          "new_line_content": "            uassert(13614, \"unexpected version number of lsn file in journal/ directory\", ver == 0);",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": null,
          "new_api": "() <<",
          "old_text": null,
          "new_text": "() <<",
          "old_line_content": "                    }",
          "new_line_content": "                        log() << \"warning caught exception in preallocateFiles, continuing\" << endl;",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": null,
          "new_api": "hutdown",
          "old_text": null,
          "new_text": "hutdown() ||",
          "old_line_content": "                return;",
          "new_line_content": "            if ( inShutdown() || !_curLogFile )",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": null,
          "new_api": "() <<",
          "old_text": null,
          "new_text": "() <<",
          "old_line_content": "                return 0;",
          "new_line_content": "                log() << \"lsnfile not valid. recovery will be from log start. lsn: \" << hex << lsn << \" checkbytes: \" << hex << checkbytes << endl;",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": null,
          "new_api": "pen",
          "old_text": null,
          "new_text": "pen();\n ",
          "old_line_content": "        }",
          "new_line_content": "            j.open();",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": null,
          "new_api": "pdateLSNFile",
          "old_text": null,
          "new_text": "pdateLSNFile();\n\n",
          "old_line_content": "",
          "new_line_content": "            j.updateLSNFile();",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": null,
          "new_api": "seCurrentJournalFile",
          "old_text": null,
          "new_text": "seCurrentJournalFile();\n\n",
          "old_line_content": "",
          "new_line_content": "                closeCurrentJournalFile();",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": null,
          "new_api": "esystem::exists(filepath) )",
          "old_text": null,
          "new_text": "esystem::exists(filepath) ) ",
          "old_line_content": "                            // we can recycle this file into this prealloc file location",
          "new_line_content": "                        if( !filesystem::exists(filepath) ) {",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": null,
          "new_api": "oveUnneededJournalFiles",
          "old_text": null,
          "new_text": "oveUnneededJournalFiles();\n ",
          "old_line_content": "            }",
          "new_line_content": "                removeUnneededJournalFiles();",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": null,
          "new_api": "st::filesystem::rename(p, filepath);",
          "old_text": null,
          "new_text": "st::filesystem::rename(p, filepath);\n ",
          "old_line_content": "                            return;",
          "new_line_content": "                            boost::filesystem::rename(p, filepath);",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": null,
          "new_api": "() <<",
          "old_text": null,
          "new_text": "() <<",
          "old_line_content": "                return 0;",
          "new_line_content": "                log() << \"info no lsn file in journal/ directory\" << endl;",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": null,
          "new_api": "illis",
          "old_text": null,
          "new_text": "illis();\n ",
          "old_line_content": "                if( ms >= 200 ) {",
          "new_line_content": "                int ms = t.millis();",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": null,
          "new_api": "tring",
          "old_text": null,
          "new_text": "tring() <<",
          "old_line_content": "                    // fall through and try to delete the file",
          "new_line_content": "                    log() << \"warning exception in dur::removeOldJournalFile \" << p.string() << endl;",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": null,
          "new_api": "() <<",
          "old_text": null,
          "new_text": "() <<",
          "old_line_content": "                }",
          "new_line_content": "                    log() << \"DR101 latency warning on journal file open \" << ms << \"ms\" << endl;",
          "content_same": false
        },
        {
          "line": 594,
          "old_api": null,
          "new_api": "hat",
          "old_text": null,
          "new_text": "hat() <<",
          "old_line_content": "                throw;",
          "new_line_content": "                log() << \"warning exception opening journal file \" << e.what() << endl;",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": null,
          "new_api": "st::filesystem::remove(p);",
          "old_text": null,
          "new_text": "st::filesystem::remove(p);\n ",
          "old_line_content": "            }",
          "new_line_content": "                boost::filesystem::remove(p);",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": null,
          "new_api": "et",
          "old_text": null,
          "new_text": "et();\n ",
          "old_line_content": "                return lsn;",
          "new_line_content": "                unsigned long long lsn = L.get();",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": null,
          "new_api": "tring",
          "old_text": null,
          "new_text": "tring() <<",
          "old_line_content": "            }",
          "new_line_content": "                log() << \"warning exception removing \" << p.string() << endl;",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": null,
          "new_api": "hat",
          "old_text": null,
          "new_text": "hat());\n",
          "old_line_content": "            }",
          "new_line_content": "                uasserted(13611, str::stream() << \"can't read lsn file in journal directory : \" << e.what());",
          "content_same": false
        },
        {
          "line": 602,
          "old_api": null,
          "new_api": "ournal",
          "old_text": null,
          "new_text": "ournal(b);\n ",
          "old_line_content": "        }",
          "new_line_content": "            j.journal(b);",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": null,
          "new_api": "astFlushTime",
          "old_text": null,
          "new_text": "astFlushTime();\n ",
          "old_line_content": "        }",
          "new_line_content": "            return j.lastFlushTime();",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": null,
          "new_api": "esystem::exists(filepath) )",
          "old_text": null,
          "new_text": "esystem::exists(filepath) )\n",
          "old_line_content": "                        return filepath;",
          "new_line_content": "                    if( filesystem::exists(filepath) )",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": null,
          "new_api": "ert",
          "old_text": null,
          "new_text": "ert( _curLogFile );\n\n",
          "old_line_content": "",
          "new_line_content": "                assert( _curLogFile );",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": null,
          "new_api": "() <<",
          "old_text": null,
          "new_text": "() <<",
          "old_line_content": "            }",
          "new_line_content": "                log() << \"warning exception in dur::findPrealloced()\" << endl;",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": null,
          "new_api": "en",
          "old_text": null,
          "new_text": "en());\n",
          "old_line_content": "            }",
          "new_line_content": "                _curLogFile->synchronousAppend((void *) b.buf(), b.len());",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": null,
          "new_api": "h",
          "old_text": null,
          "new_text": "h();\n ",
          "old_line_content": "        }",
          "new_line_content": "            return path();",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": null,
          "new_api": "hat",
          "old_text": null,
          "new_text": "hat() <<",
          "old_line_content": "                throw;",
          "new_line_content": "                log() << \"warning exception in dur::journal \" << e.what() << endl;",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": null,
          "new_api": "assertWithin",
          "old_text": null,
          "new_text": "ThreadMain.assertWithin();\n ",
          "old_line_content": "            _writeToLSNNeeded = false;",
          "new_line_content": "            durThreadMain.assertWithin();",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": null,
          "new_api": "nit",
          "old_text": null,
          "new_text": "nit();\n\n",
          "old_line_content": "",
          "new_line_content": "            j.init();",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": null,
          "new_api": "s_open",
          "old_text": null,
          "new_text": "s_open() ) ",
          "old_line_content": "                    // can get 0 if an i/o error",
          "new_line_content": "                if( !f.is_open() ) { ",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": null,
          "new_api": "sts",
          "old_text": null,
          "new_text": "sts(j.dir) ) ",
          "old_line_content": "                try {",
          "new_line_content": "            if( !exists(j.dir) ) {",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": null,
          "new_api": "() <<",
          "old_text": null,
          "new_text": "() <<",
          "old_line_content": "                    return;",
          "new_line_content": "                    log() << \"warning: open of lsn file failed\" << endl;",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": null,
          "new_api": "ate_directory",
          "old_text": null,
          "new_text": "ate_directory(j.dir);\n ",
          "old_line_content": "                }",
          "new_line_content": "                    create_directory(j.dir);",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": null,
          "new_api": "() <<",
          "old_text": null,
          "new_text": "() <<",
          "old_line_content": "                LSNFile lsnf;",
          "new_line_content": "                log() << \"lsn set \" << _lastFlushTime << endl;",
          "content_same": false
        },
        {
          "line": 373,
          "old_api": null,
          "new_api": "hat",
          "old_text": null,
          "new_text": "hat() <<",
          "old_line_content": "                    throw;",
          "new_line_content": "                    log() << \"error creating directory \" << j.dir << ' ' << e.what() << endl;",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "rite",
          "old_text": null,
          "new_text": "rite(0, (char*)&lsnf, sizeof(lsnf));\n ",
          "old_line_content": "            }",
          "new_line_content": "                f.write(0, (char*)&lsnf, sizeof(lsnf));",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": null,
          "new_api": "hat",
          "old_text": null,
          "new_text": "hat() <<",
          "old_line_content": "                // keep running (ignore the error). recovery will be slow.",
          "new_line_content": "                log() << \"warning: write to lsn file failed \" << e.what() << endl;",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": null,
          "new_api": "FilePathFor",
          "old_text": null,
          "new_text": "FilePathFor(_nextFileNumber);\n\n",
          "old_line_content": "",
          "new_line_content": "            path fname = getFilePathFor(_nextFileNumber);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 385,
          "old_api": "dPrealloced",
          "new_api": null,
          "old_text": "dPrealloced();\n ",
          "new_text": null,
          "old_line_content": "                path p = findPrealloced();",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": "tring",
          "new_api": null,
          "old_text": "tring());\n",
          "new_text": null,
          "old_line_content": "                            LogFile f(p.string());",
          "new_line_content": "                            // JHeader::fileId must be updated before renaming to be race-safe",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": "ppendStruct",
          "new_api": null,
          "old_text": "ppendStruct(h);\n ",
          "new_text": null,
          "old_line_content": "                            b.appendStruct(h);",
          "new_line_content": "                            AlignedBuilder b(8192);",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": "uf",
          "new_api": null,
          "old_text": "uf(), 0",
          "new_text": null,
          "old_line_content": "            memset((void*)b.buf(), 0, BLKSZ);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 268,
          "old_api": "ert",
          "new_api": null,
          "old_text": "ert( len % BLKSZ == 0 );\n\n",
          "new_text": null,
          "old_line_content": "            assert( len % BLKSZ == 0 );",
          "new_line_content": "            AlignedBuilder b(BLKSZ);            ",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": "st::filesystem::rename(p, fname);",
          "new_api": null,
          "old_text": "st::filesystem::rename(p, fname);\n ",
          "new_text": null,
          "old_line_content": "                        boost::filesystem::rename(p, fname);",
          "new_line_content": "                        }",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": "tener::getElapsedTimeMillis();",
          "new_api": null,
          "old_text": "tener::getElapsedTimeMillis();\n ",
          "new_text": null,
          "old_line_content": "            jf.lastEventTimeMs = Listener::getElapsedTimeMillis();",
          "new_line_content": "            jf.filename = _curLogFile->_name;",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": "tring",
          "new_api": null,
          "old_text": "tring() <<",
          "new_text": null,
          "old_line_content": "                        log() << \"warning couldn't write to / rename file \" << p.string() << endl;",
          "new_line_content": "                    catch(...) { ",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "tring().c_str() , ",
          "new_text": null,
          "old_line_content": "            f.open( p.string().c_str() , false , true );",
          "new_line_content": "            File f;",
          "content_same": false
        },
        {
          "line": 404,
          "old_api": "string",
          "new_api": null,
          "old_text": "me.string());\n",
          "new_text": null,
          "old_line_content": "            _curLogFile = new LogFile(fname.string());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": "uf",
          "new_api": null,
          "old_text": "uf() , ",
          "new_text": null,
          "old_line_content": "                f.write( loc , b.buf() , BLKSZ );",
          "new_line_content": "            while ( loc < len ) {",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": "it",
          "new_api": null,
          "old_text": "it(BLKSZ);\n ",
          "new_text": null,
          "old_line_content": "                m.hit(BLKSZ);",
          "new_line_content": "                loc += BLKSZ;",
          "content_same": false
        },
        {
          "line": 407,
          "old_api": "string",
          "new_api": null,
          "old_text": "me.string());\n",
          "new_text": null,
          "old_line_content": "                JHeader h(fname.string());",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": "ert",
          "new_api": null,
          "old_text": "ert( loc == len );\n ",
          "new_text": null,
          "old_line_content": "            assert( loc == len );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 538,
          "old_api": "empty",
          "new_api": null,
          "old_text": "dJournalFiles.empty() ) ",
          "new_text": null,
          "old_line_content": "            while( !_oldJournalFiles.empty() ) {",
          "new_line_content": "        void Journal::removeUnneededJournalFiles() {",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "ert",
          "new_api": null,
          "old_text": "ert(_curFileId);\n ",
          "new_text": null,
          "old_line_content": "                assert(_curFileId);",
          "new_line_content": "                _curFileId = h.fileId;",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": "ppendStruct",
          "new_api": null,
          "old_text": "ppendStruct(h);\n ",
          "new_text": null,
          "old_line_content": "                b.appendStruct(h);",
          "new_line_content": "                AlignedBuilder b(8192);",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": "() <<",
          "new_api": null,
          "old_text": "() <<",
          "new_text": null,
          "old_line_content": "                    log() << \"old journal file will be removed: \" << f.filename << endl;",
          "new_line_content": "                    path p( f.filename );",
          "content_same": false
        },
        {
          "line": 288,
          "old_api": "::stream() <<",
          "new_api": null,
          "old_text": "::stream() <<",
          "new_text": null,
          "old_line_content": "                string fn = str::stream() << \"prealloc.\" << i;",
          "new_line_content": "            for( int i = 0; i <= 2; i++ ) {",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": "ert",
          "new_api": null,
          "old_text": "ert( _curLogFile == 0 );\n ",
          "new_text": null,
          "old_line_content": "            assert( _curLogFile == 0 );",
          "new_line_content": "        void Journal::init() {",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": "pop_front",
          "new_api": null,
          "old_text": "dJournalFiles.pop_front();\n ",
          "new_text": null,
          "old_line_content": "                _oldJournalFiles.pop_front();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": "ert",
          "new_api": null,
          "old_text": "ert( MongoFile::notifyPreFlush == preFlush );\n ",
          "new_text": null,
          "old_line_content": "            assert( MongoFile::notifyPreFlush == preFlush );",
          "new_line_content": "        void Journal::open() {",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": "en",
          "new_api": null,
          "old_text": "en();\n ",
          "new_text": null,
          "old_line_content": "            _open();",
          "new_line_content": "            mutex::scoped_lock lk(_curLogFileMutex);",
          "content_same": false
        },
        {
          "line": 299,
          "old_api": "allocateFile",
          "new_api": null,
          "old_text": "allocateFile(filepath, limit);\n ",
          "new_text": null,
          "old_line_content": "                preallocateFile(filepath, limit);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "set",
          "new_api": null,
          "old_text": "set(this, 0, sizeof(*this));\n ",
          "new_text": null,
          "old_line_content": "            memset(this, 0, sizeof(*this));",
          "new_line_content": "        void LSNFile::set(unsigned long long x) {",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": "JournalDir",
          "new_api": null,
          "old_text": "JournalDir()/\"p",
          "new_text": null,
          "old_line_content": "            if( exists(getJournalDir()/\"prealloc.0\") || // if enabled previously, keep using",
          "new_line_content": "        void preallocateFiles() {",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": "otate",
          "new_api": null,
          "old_text": "otate();\n ",
          "new_text": null,
          "old_line_content": "            j.rotate();",
          "new_line_content": "        void journalRotate() {",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": "atLeastReadLocked",
          "new_api": null,
          "old_text": "utex.atLeastReadLocked() );",
          "new_text": null,
          "old_line_content": "            assert( !dbMutex.atLeastReadLocked() );",
          "new_line_content": "        void Journal::rotate() {",
          "content_same": false
        },
        {
          "line": 309,
          "old_api": "eallocateFiles",
          "new_api": null,
          "old_text": "eallocateFiles();\n ",
          "new_text": null,
          "old_line_content": "                        _preallocateFiles();",
          "new_line_content": "                    try {",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": "sert",
          "new_api": null,
          "old_text": "sert(13614, \"unexpected version number of lsn file in journal/ directory\", ver == 0);\n ",
          "new_text": null,
          "old_line_content": "            uassert(13614, \"unexpected version number of lsn file in journal/ directory\", ver == 0);",
          "new_line_content": "        unsigned long long LSNFile::get() {",
          "content_same": false
        },
        {
          "line": 312,
          "old_api": "() <<",
          "new_api": null,
          "old_text": "() <<",
          "new_text": null,
          "old_line_content": "                        log() << \"warning caught exception in preallocateFiles, continuing\" << endl;",
          "new_line_content": "                    catch(...) { ",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": "hutdown",
          "new_api": null,
          "old_text": "hutdown() ||",
          "new_text": null,
          "old_line_content": "            if ( inShutdown() || !_curLogFile )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": "() <<",
          "new_api": null,
          "old_text": "() <<",
          "new_text": null,
          "old_line_content": "                log() << \"lsnfile not valid. recovery will be from log start. lsn: \" << hex << lsn << \" checkbytes: \" << hex << checkbytes << endl;",
          "new_line_content": "            if( ~lsn != checkbytes ) {",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": "pen",
          "new_api": null,
          "old_text": "pen();\n ",
          "new_text": null,
          "old_line_content": "            j.open();",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": "pdateLSNFile",
          "new_api": null,
          "old_text": "pdateLSNFile();\n\n",
          "new_text": null,
          "old_line_content": "            j.updateLSNFile();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 322,
          "old_api": "::stream() <<",
          "new_api": null,
          "old_text": "::stream() <<",
          "new_text": null,
          "old_line_content": "                        string fn = str::stream() << \"prealloc.\" << i;",
          "new_line_content": "                    for( int i = 0; i <= 2; i++ ) {",
          "content_same": false
        },
        {
          "line": 579,
          "old_api": "seCurrentJournalFile",
          "new_api": null,
          "old_text": "seCurrentJournalFile();\n\n",
          "new_text": null,
          "old_line_content": "                closeCurrentJournalFile();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": "oveUnneededJournalFiles",
          "new_api": null,
          "old_text": "oveUnneededJournalFiles();\n ",
          "new_text": null,
          "old_line_content": "                removeUnneededJournalFiles();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 326,
          "old_api": "st::filesystem::rename(p, filepath);",
          "new_api": null,
          "old_text": "st::filesystem::rename(p, filepath);\n ",
          "new_text": null,
          "old_line_content": "                            boost::filesystem::rename(p, filepath);",
          "new_line_content": "                            // we can recycle this file into this prealloc file location",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": "Path",
          "new_api": null,
          "old_text": "Path()) )",
          "new_text": null,
          "old_line_content": "            if( !MemoryMappedFile::exists(lsnPath()) ) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": "en",
          "new_api": null,
          "old_text": "en();\n ",
          "new_text": null,
          "old_line_content": "                _open();",
          "new_line_content": "                Timer t;",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": "tring",
          "new_api": null,
          "old_text": "tring() <<",
          "new_text": null,
          "old_line_content": "                    log() << \"warning exception in dur::removeOldJournalFile \" << p.string() << endl;",
          "new_line_content": "                } catch(...) { ",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "() <<",
          "new_api": null,
          "old_text": "() <<",
          "new_text": null,
          "old_line_content": "                    log() << \"DR101 latency warning on journal file open \" << ms << \"ms\" << endl;",
          "new_line_content": "                if( ms >= 200 ) {",
          "content_same": false
        },
        {
          "line": 593,
          "old_api": "hat",
          "new_api": null,
          "old_text": "hat() <<",
          "new_text": null,
          "old_line_content": "                log() << \"warning exception opening journal file \" << e.what() << endl;",
          "new_line_content": "            catch(std::exception& e) {",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": "st::filesystem::remove(p);",
          "new_api": null,
          "old_text": "st::filesystem::remove(p);\n ",
          "new_text": null,
          "old_line_content": "                boost::filesystem::remove(p);",
          "new_line_content": "            try {",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": "string",
          "new_api": null,
          "old_text": "Path().string().c_str());\n",
          "new_text": null,
          "old_line_content": "                f.open(lsnPath().string().c_str());",
          "new_line_content": "                File f;",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": "tring",
          "new_api": null,
          "old_text": "tring() <<",
          "new_text": null,
          "old_line_content": "                log() << \"warning exception removing \" << p.string() << endl;",
          "new_line_content": "            catch(...) { ",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "hat",
          "new_api": null,
          "old_text": "hat());\n",
          "new_text": null,
          "old_line_content": "                uasserted(13611, str::stream() << \"can't read lsn file in journal directory : \" << e.what());",
          "new_line_content": "            catch(std::exception& e) {",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": "ournal",
          "new_api": null,
          "old_text": "ournal(b);\n ",
          "new_text": null,
          "old_line_content": "            j.journal(b);",
          "new_line_content": "        void journal(const AlignedBuilder& b) {",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": "::stream() <<",
          "new_api": null,
          "old_text": "::stream() <<",
          "new_text": null,
          "old_line_content": "                    string fn = str::stream() << \"prealloc.\" << i;",
          "new_line_content": "                for( int i = 0; i <= 2; i++ ) {",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": "astFlushTime",
          "new_api": null,
          "old_text": "astFlushTime();\n ",
          "new_text": null,
          "old_line_content": "            return j.lastFlushTime();",
          "new_line_content": "        unsigned long long getLastDataFileFlushTime() {",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": "ert",
          "new_api": null,
          "old_text": "ert( _curLogFile );\n\n",
          "new_text": null,
          "old_line_content": "                assert( _curLogFile );",
          "new_line_content": "                // must already be open -- so that _curFileId is correct for previous buffer building",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": "en",
          "new_api": null,
          "old_text": "en();\n ",
          "new_text": null,
          "old_line_content": "                stats.curr->_journaledBytes += b.len();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": "() <<",
          "new_api": null,
          "old_text": "() <<",
          "new_text": null,
          "old_line_content": "                log() << \"warning exception in dur::findPrealloced()\" << endl;",
          "new_line_content": "            } catch(...) { ",
          "content_same": false
        },
        {
          "line": 357,
          "old_api": "h",
          "new_api": null,
          "old_text": "h();\n ",
          "new_text": null,
          "old_line_content": "            return path();",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "hat",
          "new_api": null,
          "old_text": "hat() <<",
          "new_text": null,
          "old_line_content": "                log() << \"warning exception in dur::journal \" << e.what() << endl;",
          "new_line_content": "            catch(std::exception& e) {",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": "assertWithin",
          "new_api": null,
          "old_text": "ThreadMain.assertWithin();\n ",
          "new_text": null,
          "old_line_content": "            durThreadMain.assertWithin();",
          "new_line_content": "                return;",
          "content_same": false
        },
        {
          "line": 362,
          "old_api": "nit",
          "new_api": null,
          "old_text": "nit();\n\n",
          "new_text": null,
          "old_line_content": "            j.init();",
          "new_line_content": "        void journalMakeDir() {",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": "JournalDir",
          "new_api": null,
          "old_text": "JournalDir();\n ",
          "new_text": null,
          "old_line_content": "            filesystem::path p = getJournalDir();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": "string",
          "new_api": null,
          "old_text": "Path().string().c_str());\n",
          "new_text": null,
          "old_line_content": "                f.open(lsnPath().string().c_str());",
          "new_line_content": "                File f;",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": "() <<",
          "new_api": null,
          "old_text": "() <<",
          "new_text": null,
          "old_line_content": "                    log() << \"warning: open of lsn file failed\" << endl;",
          "new_line_content": "                    // can get 0 if an i/o error",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": "ate_directory",
          "new_api": null,
          "old_text": "ate_directory(j.dir);\n ",
          "new_text": null,
          "old_line_content": "                    create_directory(j.dir);",
          "new_line_content": "                try {",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": "() <<",
          "new_api": null,
          "old_text": "() <<",
          "new_text": null,
          "old_line_content": "                log() << \"lsn set \" << _lastFlushTime << endl;",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": "hat",
          "new_api": null,
          "old_text": "hat() <<",
          "new_text": null,
          "old_line_content": "                    log() << \"error creating directory \" << j.dir << ' ' << e.what() << endl;",
          "new_line_content": "                catch(std::exception& e) {",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": "set",
          "new_api": null,
          "old_text": "f.set(_lastFlushTime);\n ",
          "new_text": null,
          "old_line_content": "                lsnf.set(_lastFlushTime);",
          "new_line_content": "                LSNFile lsnf;",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": "hat",
          "new_api": null,
          "old_text": "hat() <<",
          "new_text": null,
          "old_line_content": "                log() << \"warning: write to lsn file failed \" << e.what() << endl;",
          "new_line_content": "            catch(std::exception& e) {",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": "ert",
          "new_api": null,
          "old_text": "ert( _curLogFile == 0 );\n ",
          "new_text": null,
          "old_line_content": "            assert( _curLogFile == 0 );",
          "new_line_content": "            _curFileId = 0;",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": "tener::getElapsedTimeMillis();",
          "new_api": null,
          "old_text": "tener::getElapsedTimeMillis();\n ",
          "new_text": null,
          "old_line_content": "            j._preFlushTime = Listener::getElapsedTimeMillis();",
          "new_line_content": "        void Journal::preFlush() {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 26,
      "total_additions": 68,
      "total_deletions": 68,
      "total_api_changes": 162
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 162,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          265
        ]
      }
    },
    "api_calls_before": 208,
    "api_calls_after": 208,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 3,
      "total_diff_lines": 25
    }
  }
}