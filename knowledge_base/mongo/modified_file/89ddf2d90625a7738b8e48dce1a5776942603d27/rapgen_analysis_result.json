{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mongo/modified_file/89ddf2d90625a7738b8e48dce1a5776942603d27",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mongo/modified_file/89ddf2d90625a7738b8e48dce1a5776942603d27/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mongo/modified_file/89ddf2d90625a7738b8e48dce1a5776942603d27/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mongo/modified_file/89ddf2d90625a7738b8e48dce1a5776942603d27/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 594,
          "old_api": "getSize",
          "new_api": "getRecordId",
          "old_text": "other._key.getSize()",
          "new_text": "other.getRecordId()",
          "old_line_content": "            return _key.getSize() == other._key.getSize()",
          "new_line_content": "            return getRecordId() == other.getRecordId();",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": "stripFieldNames",
          "new_api": "fillKey",
          "old_text": "stripFieldNames(key)",
          "new_text": "fillKey(finalKey, loc)",
          "old_line_content": "            const BSONObj finalKey = stripFieldNames(key);",
          "new_line_content": "            fillKey(finalKey, loc);",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": "fillKey",
          "new_api": "_locate",
          "old_text": "fillKey(finalKey, loc)",
          "new_text": "_locate(loc)",
          "old_line_content": "            fillKey(finalKey, loc);",
          "new_line_content": "            bool result = _locate(loc);",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "loadKeyIfNeeded",
          "new_api": "ordering",
          "old_text": "loadKeyIfNeeded()",
          "new_text": "_idx.ordering()",
          "old_line_content": "            loadKeyIfNeeded();",
          "new_line_content": "            _keyBson = KeyString::toBson(_key.getBuffer(), _key.getSize(), _idx.ordering(),",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": "ordering",
          "new_api": "getTypeBits",
          "old_text": "_idx.ordering()",
          "new_text": "getTypeBits()",
          "old_line_content": "            _keyBson = KeyString::toBson(_key.getBuffer(), _key.getSize(), _idx.ordering(),",
          "new_line_content": "                                         getTypeBits());",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "wt_keeptxnopen",
          "new_api": "loadKeyIfNeeded",
          "old_text": "wt_keeptxnopen()",
          "new_text": "loadKeyIfNeeded()",
          "old_line_content": "            if ( !wt_keeptxnopen() && !_eof ) {",
          "new_line_content": "                loadKeyIfNeeded();",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "loadKeyIfNeeded",
          "new_api": "getRecordId",
          "old_text": "loadKeyIfNeeded()",
          "new_text": "getRecordId()",
          "old_line_content": "                loadKeyIfNeeded();",
          "new_line_content": "                _savedLoc = getRecordId();",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "getRecordId",
          "new_api": "reset",
          "old_text": "getRecordId()",
          "new_text": "_cursor.reset()",
          "old_line_content": "                _savedLoc = getRecordId();",
          "new_line_content": "                _cursor.reset();",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": "invalidateCache",
          "new_api": "get",
          "old_text": "invalidateCache()",
          "new_text": "_cursor.get()",
          "old_line_content": "            invalidateCache();",
          "new_line_content": "            WT_CURSOR *c = _cursor.get();",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": "get",
          "new_api": "prev",
          "old_text": "_cursor.get()",
          "new_text": "c->prev(c)",
          "old_line_content": "            WT_CURSOR *c = _cursor.get();",
          "new_line_content": "            int ret = _forward ? c->next(c) : c->prev(c);",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": "invalidateCache",
          "new_api": "get",
          "old_text": "invalidateCache()",
          "new_text": "_cursor.get()",
          "old_line_content": "            invalidateCache();",
          "new_line_content": "            WT_CURSOR *c = _cursor.get();",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": "getSize",
          "new_api": "Get",
          "old_text": "_key.getSize()",
          "new_text": "keyItem.Get()",
          "old_line_content": "            const WiredTigerItem keyItem(_key.getBuffer(), _key.getSize());",
          "new_line_content": "            c->set_key(c, keyItem.Get());",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "get_key",
          "new_api": "resetFromBuffer",
          "old_text": "c->get_key(c, &item)",
          "new_text": "_key.resetFromBuffer(item.data, item.size)",
          "old_line_content": "            invariantWTOK(c->get_key(c, &item));",
          "new_line_content": "            _key.resetFromBuffer(item.data, item.size);",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": "get",
          "new_api": "get_key",
          "old_text": "_cursor.get()",
          "new_text": "c->get_key(c, &item)",
          "old_line_content": "                WT_CURSOR *c = _cursor.get();",
          "new_line_content": "                invariantWTOK(c->get_key(c, &item));",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": "get_key",
          "new_api": "getSize",
          "old_text": "c->get_key(c, &item)",
          "new_text": "_key.getSize()",
          "old_line_content": "                invariantWTOK(c->get_key(c, &item));",
          "new_line_content": "                invariant(item.size == _key.getSize());",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": "getSize",
          "new_api": "getBuffer",
          "old_text": "_key.getSize()",
          "new_text": "_key.getBuffer()",
          "old_line_content": "                invariant(item.size == _key.getSize());",
          "new_line_content": "                invariant(memcmp(item.data, _key.getBuffer(), item.size) == 0);",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "WiredTigerIndexCursorBase::invalidateCache()",
          "new_api": "RecordId",
          "old_text": "WiredTigerIndexCursorBase::invalidateCache()",
          "new_text": "RecordId()",
          "old_line_content": "            WiredTigerIndexCursorBase::invalidateCache();",
          "new_line_content": "            _loc = RecordId();",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": "isNull",
          "new_api": "RecordId::max()",
          "old_text": "loc.isNull()",
          "new_text": "RecordId::max()",
          "old_line_content": "            if (loc.isNull())",
          "new_line_content": "                loc = _forward ? RecordId::min() : RecordId::max();",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": "ordering",
          "new_api": "invalidateCache",
          "old_text": "_idx.ordering()",
          "new_text": "invalidateCache()",
          "old_line_content": "            _key.resetToKey(key, _idx.ordering(), loc);",
          "new_line_content": "            invalidateCache();",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": "isNull",
          "new_api": "loadKeyIfNeeded",
          "old_text": "_loc.isNull()",
          "new_text": "loadKeyIfNeeded()",
          "old_line_content": "            if (_loc.isNull()) {",
          "new_line_content": "                loadKeyIfNeeded();",
          "content_same": false
        },
        {
          "line": 825,
          "old_api": "loadKeyIfNeeded",
          "new_api": "getSize",
          "old_text": "loadKeyIfNeeded()",
          "new_text": "_key.getSize()",
          "old_line_content": "                loadKeyIfNeeded();",
          "new_line_content": "                _loc = KeyString::decodeRecordIdAtEnd(_key.getBuffer(), _key.getSize());",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "WiredTigerIndexCursorBase::invalidateCache()",
          "new_api": "clear",
          "old_text": "WiredTigerIndexCursorBase::invalidateCache()",
          "new_text": "_records.clear()",
          "old_line_content": "            WiredTigerIndexCursorBase::invalidateCache();",
          "new_line_content": "            _records.clear();",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": "invalidateCache",
          "new_api": "ordering",
          "old_text": "invalidateCache()",
          "new_text": "_idx.ordering()",
          "old_line_content": "            invalidateCache();",
          "new_line_content": "            _key.resetToKey(key, _idx.ordering()); // loc doesn't go in _key for unique indexes",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": "size",
          "new_api": "advanceWTCursor",
          "old_text": "_records.size()",
          "new_text": "advanceWTCursor()",
          "old_line_content": "                    if (_recordsIndex == _records.size()) {",
          "new_line_content": "                        advanceWTCursor();",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": "loadValueIfNeeded",
          "new_api": "isNull",
          "old_text": "loadValueIfNeeded()",
          "new_text": "_records[_recordsIndex].first.isNull()",
          "old_line_content": "            loadValueIfNeeded();",
          "new_line_content": "            dassert(!_records[_recordsIndex].first.isNull());",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": "size",
          "new_api": "advanceWTCursor",
          "old_text": "_records.size()",
          "new_text": "advanceWTCursor()",
          "old_line_content": "            if (_recordsIndex == _records.size()) {",
          "new_line_content": "                advanceWTCursor();",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": "remaining",
          "new_api": "KeyString::decodeRecordId(&br)",
          "old_text": "br.remaining()",
          "new_text": "KeyString::decodeRecordId(&br)",
          "old_line_content": "            while (br.remaining()) {",
          "new_line_content": "                RecordId loc = KeyString::decodeRecordId(&br);",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": "KeyString::decodeRecordId(&br)",
          "new_api": "KeyString::TypeBits::fromBuffer(&br)",
          "old_text": "KeyString::decodeRecordId(&br)",
          "new_text": "KeyString::TypeBits::fromBuffer(&br)",
          "old_line_content": "                RecordId loc = KeyString::decodeRecordId(&br);",
          "new_line_content": "                _records.push_back(std::make_pair(loc, KeyString::TypeBits::fromBuffer(&br)));",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": "getSize",
          "new_api": "Get",
          "old_text": "value.getSize()",
          "new_text": "keyItem.Get()",
          "old_line_content": "        WiredTigerItem valueItem(value.getBuffer(), value.getSize());",
          "new_line_content": "        c->set_key( c, keyItem.Get() );",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": "Get",
          "new_api": "insert",
          "old_text": "valueItem.Get()",
          "new_text": "c->insert( c )",
          "old_line_content": "        c->set_value( c, valueItem.Get() );",
          "new_line_content": "        int ret = c->insert( c );",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "search",
          "new_api": "invariantWTOK",
          "old_text": "c->search(c)",
          "new_text": "invariantWTOK( ret )",
          "old_line_content": "        ret = c->search(c);",
          "new_line_content": "        invariantWTOK( ret );",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": "remaining",
          "new_api": "KeyString::decodeRecordId(&br)",
          "old_text": "br.remaining()",
          "new_text": "KeyString::decodeRecordId(&br)",
          "old_line_content": "        while (br.remaining()) {",
          "new_line_content": "            RecordId locInIndex = KeyString::decodeRecordId(&br);",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": "appendRecordId",
          "new_api": "getTypeBits",
          "old_text": "value.appendRecordId(loc)",
          "new_text": "data.getTypeBits()",
          "old_line_content": "                value.appendRecordId(loc);",
          "new_line_content": "                value.appendTypeBits(data.getTypeBits());",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "appendRecordId",
          "new_api": "KeyString::TypeBits::fromBuffer(&br)",
          "old_text": "value.appendRecordId(locInIndex)",
          "new_text": "KeyString::TypeBits::fromBuffer(&br)",
          "old_line_content": "            value.appendRecordId(locInIndex);",
          "new_line_content": "            value.appendTypeBits(KeyString::TypeBits::fromBuffer(&br));",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": "appendRecordId",
          "new_api": "getTypeBits",
          "old_text": "value.appendRecordId(loc)",
          "new_text": "data.getTypeBits()",
          "old_line_content": "            value.appendRecordId(loc);",
          "new_line_content": "            value.appendTypeBits(data.getTypeBits());",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "getSize",
          "new_api": "Get",
          "old_text": "value.getSize()",
          "new_text": "valueItem.Get()",
          "old_line_content": "        valueItem = WiredTigerItem(value.getBuffer(), value.getSize());",
          "new_line_content": "        c->set_value( c, valueItem.Get() );",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "Get",
          "new_api": "update",
          "old_text": "valueItem.Get()",
          "new_text": "c->update( c )",
          "old_line_content": "        c->set_value( c, valueItem.Get() );",
          "new_line_content": "        return wtRCToStatus( c->update( c ) );",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "getSize",
          "new_api": "Get",
          "old_text": "data.getSize()",
          "new_text": "keyItem.Get()",
          "old_line_content": "        WiredTigerItem keyItem( data.getBuffer(), data.getSize() );",
          "new_line_content": "        c->set_key( c, keyItem.Get() );",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": "remaining",
          "new_api": "KeyString::decodeRecordId(&br)",
          "old_text": "br.remaining()",
          "new_text": "KeyString::decodeRecordId(&br)",
          "old_line_content": "        while (br.remaining()) {",
          "new_line_content": "            RecordId locInIndex = KeyString::decodeRecordId(&br);",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": "KeyString::decodeRecordId(&br)",
          "new_api": "KeyString::TypeBits::fromBuffer(&br)",
          "old_text": "KeyString::decodeRecordId(&br)",
          "new_text": "KeyString::TypeBits::fromBuffer(&br)",
          "old_line_content": "            RecordId locInIndex = KeyString::decodeRecordId(&br);",
          "new_line_content": "            KeyString::TypeBits typeBits = KeyString::TypeBits::fromBuffer(&br);",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": "empty",
          "new_api": "size",
          "old_text": "records.empty()",
          "new_text": "records.size()",
          "old_line_content": "        invariant(!records.empty());",
          "new_line_content": "        for (size_t i = 0; i < records.size(); i++) {",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": "size",
          "new_api": "appendRecordId",
          "old_text": "records.size()",
          "new_text": "newValue.appendRecordId(records[i].first)",
          "old_line_content": "        for (size_t i = 0; i < records.size(); i++) {",
          "new_line_content": "            newValue.appendRecordId(records[i].first);",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "size",
          "new_api": "appendTypeBits",
          "old_text": "records.size()",
          "new_text": "newValue.appendTypeBits(records[i].second)",
          "old_line_content": "            if (!(records[i].second.isAllZeros() && records.size() == 1)) {",
          "new_line_content": "                newValue.appendTypeBits(records[i].second);",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "getSize",
          "new_api": "Get",
          "old_text": "newValue.getSize()",
          "new_text": "valueItem.Get()",
          "old_line_content": "        WiredTigerItem valueItem = WiredTigerItem(newValue.getBuffer(), newValue.getSize());",
          "new_line_content": "        c->set_value( c, valueItem.Get() );",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": "Get",
          "new_api": "update",
          "old_text": "valueItem.Get()",
          "new_text": "c->update( c )",
          "old_line_content": "        c->set_value( c, valueItem.Get() );",
          "new_line_content": "        invariantWTOK( c->update( c ) );",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "Get",
          "new_api": "insert",
          "old_text": "valueItem.Get()",
          "new_text": "c->insert( c )",
          "old_line_content": "        c->set_value(c, valueItem.Get());",
          "new_line_content": "        int ret = c->insert( c );",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": "getSize",
          "new_api": "Get",
          "old_text": "data.getSize()",
          "new_text": "item.Get()",
          "old_line_content": "        WiredTigerItem item( data.getBuffer(), data.getSize() );",
          "new_line_content": "        c->set_key(c, item.Get() );",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "Get",
          "new_api": "remove",
          "old_text": "item.Get()",
          "new_text": "c->remove(c)",
          "old_line_content": "        c->set_key(c, item.Get() );",
          "new_line_content": "        int ret = c->remove(c);",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "fassertFailedWithStatusNoTrace",
          "new_api": "str::stream()",
          "old_text": "fassertFailedWithStatusNoTrace(28580,\n                                       Status(ErrorCodes::UnsupportedFormat, str::stream()\n                                              << \"Found an index from an unsupported RC version.\"\n                                              << \" Please restart with --repair to fix.\"))",
          "new_text": "str::stream()",
          "old_line_content": "        fassertFailedWithStatusNoTrace(28580,",
          "new_line_content": "                                       Status(ErrorCodes::UnsupportedFormat, str::stream()",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1026,
          "old_api": null,
          "new_api": "get_value",
          "old_text": null,
          "new_text": "c->get_value(c, &old )",
          "old_line_content": "        WT_ITEM old;",
          "new_line_content": "        invariantWTOK( c->get_value(c, &old ) );",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": null,
          "new_api": "resetToEmpty",
          "old_text": null,
          "new_text": "value.resetToEmpty()",
          "old_line_content": "",
          "new_line_content": "        value.resetToEmpty();",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": null,
          "new_api": "remaining",
          "old_text": null,
          "new_text": "br.remaining()",
          "old_line_content": "        BufReader br(old.data, old.size);",
          "new_line_content": "        while (br.remaining()) {",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": null,
          "new_api": "Status::OK()",
          "old_text": null,
          "new_text": "Status::OK()",
          "old_line_content": "            if (loc == locInIndex)",
          "new_line_content": "                return Status::OK(); // already in index",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": null,
          "new_api": "appendRecordId",
          "old_text": null,
          "new_text": "value.appendRecordId(loc)",
          "old_line_content": "            if (!insertedLoc && loc < locInIndex) {",
          "new_line_content": "                value.appendRecordId(loc);",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": null,
          "new_api": "appendRecordId",
          "old_text": null,
          "new_text": "value.appendRecordId(locInIndex)",
          "old_line_content": "            // Copy from old to new value",
          "new_line_content": "            value.appendRecordId(locInIndex);",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": null,
          "new_api": "dupKeyError",
          "old_text": null,
          "new_text": "dupKeyError(key)",
          "old_line_content": "        if (!dupsAllowed)",
          "new_line_content": "            return dupKeyError(key);",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": null,
          "new_api": "appendRecordId",
          "old_text": null,
          "new_text": "value.appendRecordId(loc)",
          "old_line_content": "            // This loc is higher than all currently in the index for this key",
          "new_line_content": "            value.appendRecordId(loc);",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": null,
          "new_api": "getSize",
          "old_text": null,
          "new_text": "value.getSize()",
          "old_line_content": "",
          "new_line_content": "        valueItem = WiredTigerItem(value.getBuffer(), value.getSize());",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": null,
          "new_api": "getSize",
          "old_text": null,
          "new_text": "data.getSize()",
          "old_line_content": "        KeyString data( key, _ordering );",
          "new_line_content": "        WiredTigerItem keyItem( data.getBuffer(), data.getSize() );",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": null,
          "new_api": "remove",
          "old_text": null,
          "new_text": "c->remove(c)",
          "old_line_content": "            // nice and clear",
          "new_line_content": "            int ret = c->remove(c);",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "invariantWTOK",
          "old_text": null,
          "new_text": "invariantWTOK(ret)",
          "old_line_content": "            }",
          "new_line_content": "            invariantWTOK(ret);",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": null,
          "new_api": "search",
          "old_text": null,
          "new_text": "c->search(c)",
          "old_line_content": "",
          "new_line_content": "        int ret = c->search(c);",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": null,
          "new_api": "invariantWTOK",
          "old_text": null,
          "new_text": "invariantWTOK( ret )",
          "old_line_content": "            return;",
          "new_line_content": "        invariantWTOK( ret );",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": null,
          "new_api": "get_value",
          "old_text": null,
          "new_text": "c->get_value(c, &old )",
          "old_line_content": "        WT_ITEM old;",
          "new_line_content": "        invariantWTOK( c->get_value(c, &old ) );",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": null,
          "new_api": "remaining",
          "old_text": null,
          "new_text": "br.remaining()",
          "old_line_content": "        BufReader br(old.data, old.size);",
          "new_line_content": "        while (br.remaining()) {",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": null,
          "new_api": "remaining",
          "old_text": null,
          "new_text": "br.remaining()",
          "old_line_content": "            if (loc == locInIndex) {",
          "new_line_content": "                if (records.empty() && !br.remaining()) {",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "other._cursor.get()",
          "old_line_content": "                return false;",
          "new_line_content": "            invariantWTOK(_cursor.get()->equals(_cursor.get(), other._cursor.get(), &equal));",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": null,
          "new_api": "remove",
          "old_text": null,
          "new_text": "c->remove(c)",
          "old_line_content": "                    // Remove the whole entry.",
          "new_line_content": "                    invariantWTOK(c->remove(c));",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": null,
          "new_api": "stripFieldNames",
          "old_text": null,
          "new_text": "stripFieldNames(key)",
          "old_line_content": "        bool locate(const BSONObj &key, const RecordId& loc) {",
          "new_line_content": "            const BSONObj finalKey = stripFieldNames(key);",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": null,
          "new_api": "std::make_pair(locInIndex, typeBits)",
          "old_text": null,
          "new_text": "std::make_pair(locInIndex, typeBits)",
          "old_line_content": "",
          "new_line_content": "            records.push_back(std::make_pair(locInIndex, typeBits));",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": null,
          "new_api": "stream",
          "old_text": null,
          "new_text": "warning().stream()",
          "old_line_content": "        if (!foundLoc) {",
          "new_line_content": "            warning().stream() << loc << \" not found in the index for key \" << key;",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": null,
          "new_api": "RecordId::max()",
          "old_text": null,
          "new_text": "RecordId::max()",
          "old_line_content": "            // An explicit search at the start of the range should always return false",
          "new_line_content": "            if (loc == RecordId::min() || loc == RecordId::max() )",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "records.empty()",
          "old_line_content": "        KeyString newValue;",
          "new_line_content": "        invariant(!records.empty());",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "records.size()",
          "old_line_content": "            // to be included.",
          "new_line_content": "            if (!(records[i].second.isAllZeros() && records.size() == 1)) {",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": null,
          "new_api": "IndexEntryComparison::makeQueryObject(\n                             keyBegin, keyBeginLen,\n                             afterKey, keyEnd, keyEndInclusive, getDirection() )",
          "old_text": null,
          "new_text": "IndexEntryComparison::makeQueryObject(\n                             keyBegin, keyBeginLen,\n                             afterKey, keyEnd, keyEndInclusive, getDirection() )",
          "old_line_content": "            // TODO: don't go to a bson obj then to a KeyString, go straight",
          "new_line_content": "            BSONObj key = IndexEntryComparison::makeQueryObject(",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": null,
          "new_api": "getDirection",
          "old_text": null,
          "new_text": "getDirection()",
          "old_line_content": "                             keyBegin, keyBeginLen,",
          "new_line_content": "                             afterKey, keyEnd, keyEndInclusive, getDirection() );",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": null,
          "new_api": "RecordId",
          "old_text": null,
          "new_text": "RecordId()",
          "old_line_content": "",
          "new_line_content": "            fillKey(key, RecordId());",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": null,
          "new_api": "getSize",
          "old_text": null,
          "new_text": "newValue.getSize()",
          "old_line_content": "",
          "new_line_content": "        WiredTigerItem valueItem = WiredTigerItem(newValue.getBuffer(), newValue.getSize());",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": null,
          "new_api": "advanceTo",
          "old_text": null,
          "new_text": "advanceTo(keyBegin, keyBeginLen, afterKey, keyEnd, keyEndInclusive)",
          "old_line_content": "                      const vector<bool>& keyEndInclusive) {",
          "new_line_content": "            advanceTo(keyBegin, keyBeginLen, afterKey, keyEnd, keyEndInclusive);",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": null,
          "new_api": "isEmpty",
          "old_text": null,
          "new_text": "_keyBson.isEmpty()",
          "old_line_content": "        BSONObj getKey() const {",
          "new_line_content": "            if (_isKeyCurrent && !_keyBson.isEmpty())",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "invariant",
          "old_text": null,
          "new_text": "invariant((direction == 1) || (direction == -1))",
          "old_line_content": "                                                                    int direction) const {",
          "new_line_content": "        invariant((direction == 1) || (direction == -1));",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": null,
          "new_api": "loadKeyIfNeeded",
          "old_text": null,
          "new_text": "loadKeyIfNeeded()",
          "old_line_content": "",
          "new_line_content": "            loadKeyIfNeeded();",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": null,
          "new_api": "invariant",
          "old_text": null,
          "new_text": "invariant(dupsAllowed)",
          "old_line_content": "        // We aren't unique so dups better be allowed.",
          "new_line_content": "        invariant(dupsAllowed);",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": null,
          "new_api": "recoveryUnit",
          "old_text": null,
          "new_text": "_txn->recoveryUnit()",
          "old_line_content": "        void savePosition() {",
          "new_line_content": "            _savedForCheck = _txn->recoveryUnit();",
          "content_same": false
        },
        {
          "line": 646,
          "old_api": null,
          "new_api": "wt_keeptxnopen",
          "old_text": null,
          "new_text": "wt_keeptxnopen()",
          "old_line_content": "",
          "new_line_content": "            if ( !wt_keeptxnopen() && !_eof ) {",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "invariant",
          "old_text": null,
          "new_text": "invariant( dupsAllowed )",
          "old_line_content": "                                             bool dupsAllowed ) {",
          "new_line_content": "        invariant( dupsAllowed );",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": null,
          "new_api": "getSize",
          "old_text": null,
          "new_text": "key.getSize()",
          "old_line_content": "        KeyString key( keyBson, _ordering, loc );",
          "new_line_content": "        WiredTigerItem keyItem( key.getBuffer(), key.getSize() );",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "getTypeBits",
          "old_text": null,
          "new_text": "key.getTypeBits().isAllZeros()",
          "old_line_content": "        WiredTigerItem valueItem = ",
          "new_line_content": "            key.getTypeBits().isAllZeros() ? emptyItem",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": null,
          "new_api": "recoveryUnit",
          "old_text": null,
          "new_text": "txn->recoveryUnit()",
          "old_line_content": "            _txn = txn;",
          "new_line_content": "            invariant( _savedForCheck == txn->recoveryUnit() );",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": null,
          "new_api": "wt_keeptxnopen",
          "old_text": null,
          "new_text": "wt_keeptxnopen()",
          "old_line_content": "",
          "new_line_content": "            if ( !wt_keeptxnopen() && !_eof ) {",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": null,
          "new_api": "Get",
          "old_text": null,
          "new_text": "keyItem.Get()",
          "old_line_content": "",
          "new_line_content": "        c->set_key(c, keyItem.Get());",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": null,
          "new_api": "getSession",
          "old_text": null,
          "new_text": "WiredTigerRecoveryUnit::get(txn)->getSession()",
          "old_line_content": "                // Ensure an active session exists, so any restored cursors will bind to it",
          "new_line_content": "                WiredTigerRecoveryUnit::get(txn)->getSession();",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": null,
          "new_api": "_locate",
          "old_text": null,
          "new_text": "_locate(_savedLoc)",
          "old_line_content": "",
          "new_line_content": "                _locate(_savedLoc);",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": null,
          "new_api": "wtRCToStatus",
          "old_text": null,
          "new_text": "wtRCToStatus( ret )",
          "old_line_content": "        if ( ret != WT_DUPLICATE_KEY )",
          "new_line_content": "            return wtRCToStatus( ret );",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": null,
          "new_api": "Status::OK()",
          "old_text": null,
          "new_text": "Status::OK()",
          "old_line_content": "        // written and reindexed.",
          "new_line_content": "        return Status::OK();",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": null,
          "new_api": "invariant",
          "old_text": null,
          "new_text": "invariant( dupsAllowed )",
          "old_line_content": "                                            bool dupsAllowed ) {",
          "new_line_content": "        invariant( dupsAllowed );",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": null,
          "new_api": "invalidateCache",
          "old_text": null,
          "new_text": "invalidateCache()",
          "old_line_content": "        void advanceWTCursor() {",
          "new_line_content": "            invalidateCache();",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": null,
          "new_api": "getSize",
          "old_text": null,
          "new_text": "data.getSize()",
          "old_line_content": "        KeyString data( key, _ordering, loc );",
          "new_line_content": "        WiredTigerItem item( data.getBuffer(), data.getSize() );",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": null,
          "new_api": "invariantWTOK",
          "old_text": null,
          "new_text": "invariantWTOK(ret)",
          "old_line_content": "        if (ret != WT_NOTFOUND) {",
          "new_line_content": "            invariantWTOK(ret);",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": null,
          "new_api": "invariantWTOK",
          "old_text": null,
          "new_text": "invariantWTOK(ret)",
          "old_line_content": "            }",
          "new_line_content": "            invariantWTOK(ret);",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": null,
          "new_api": "invalidateCache",
          "old_text": null,
          "new_text": "invalidateCache()",
          "old_line_content": "        bool seekWTCursor() {",
          "new_line_content": "            invalidateCache();",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": null,
          "new_api": "fassertFailedWithStatusNoTrace",
          "old_text": null,
          "new_text": "fassertFailedWithStatusNoTrace(28580,\n                                       Status(ErrorCodes::UnsupportedFormat, str::stream()\n                                              << \"Found an index from an unsupported RC version.\"\n                                              << \" Please restart with --repair to fix.\"))",
          "old_line_content": "                                 WT_COLLATOR **collp) {",
          "new_line_content": "        fassertFailedWithStatusNoTrace(28580,",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": null,
          "new_api": "getSize",
          "old_text": null,
          "new_text": "_key.getSize()",
          "old_line_content": "            int cmp = -1;",
          "new_line_content": "            const WiredTigerItem keyItem(_key.getBuffer(), _key.getSize());",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": null,
          "new_api": "search_near",
          "old_text": null,
          "new_text": "c->search_near(c, &cmp)",
          "old_line_content": "",
          "new_line_content": "            int ret = c->search_near(c, &cmp);",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": null,
          "new_api": "invariantWTOK",
          "old_text": null,
          "new_text": "invariantWTOK( ret )",
          "old_line_content": "            }",
          "new_line_content": "            invariantWTOK( ret );",
          "content_same": false
        },
        {
          "line": 1216,
          "old_api": null,
          "new_api": "add_collator",
          "old_text": null,
          "new_text": "conn->add_collator(conn, \"mongo_index\", &idx_static, NULL)",
          "old_line_content": "        idx_static.customize = index_collator_customize;",
          "new_line_content": "        return conn->add_collator(conn, \"mongo_index\", &idx_static, NULL);",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": null,
          "new_api": "dassertKeyCacheIsValid",
          "old_text": null,
          "new_text": "dassertKeyCacheIsValid()",
          "old_line_content": "                _isKeyCurrent = true;",
          "new_line_content": "                dassertKeyCacheIsValid();",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "c->next(c)",
          "old_line_content": "                if (cmp < 0) {",
          "new_line_content": "                    ret = c->next(c);",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": null,
          "new_api": "prev",
          "old_text": null,
          "new_text": "c->prev(c)",
          "old_line_content": "                if (cmp > 0) {",
          "new_line_content": "                    ret = c->prev(c);",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": null,
          "new_api": "invariantWTOK",
          "old_text": null,
          "new_text": "invariantWTOK(ret)",
          "old_line_content": "            else {",
          "new_line_content": "                invariantWTOK(ret);",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": null,
          "new_api": "dassertKeyCacheIsValid",
          "old_text": null,
          "new_text": "dassertKeyCacheIsValid()",
          "old_line_content": "            if (_isKeyCurrent) {",
          "new_line_content": "                dassertKeyCacheIsValid();",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "_cursor.get()",
          "old_line_content": "",
          "new_line_content": "            WT_CURSOR *c = _cursor.get();",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": null,
          "new_api": "get_key",
          "old_text": null,
          "new_text": "c->get_key(c, &item)",
          "old_line_content": "            WT_ITEM item;",
          "new_line_content": "            invariantWTOK(c->get_key(c, &item));",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": null,
          "new_api": "BSONObj",
          "old_text": null,
          "new_text": "BSONObj()",
          "old_line_content": "            _isKeyCurrent = false;",
          "new_line_content": "            _keyBson = BSONObj();",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": null,
          "new_api": "invariant",
          "old_text": null,
          "new_text": "invariant(_isKeyCurrent)",
          "old_line_content": "            DEV {",
          "new_line_content": "                invariant(_isKeyCurrent);",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "_cursor.get()",
          "old_line_content": "                WT_ITEM item;",
          "new_line_content": "                WT_CURSOR *c = _cursor.get();",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": null,
          "new_api": "WiredTigerIndexCursorBase::invalidateCache()",
          "old_text": null,
          "new_text": "WiredTigerIndexCursorBase::invalidateCache()",
          "old_line_content": "        virtual void invalidateCache() {",
          "new_line_content": "            WiredTigerIndexCursorBase::invalidateCache();",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": null,
          "new_api": "isNull",
          "old_text": null,
          "new_text": "loc.isNull()",
          "old_line_content": "            // Reverse cursors should start on the last matching key.",
          "new_line_content": "            if (loc.isNull())",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": null,
          "new_api": "ordering",
          "old_text": null,
          "new_text": "_idx.ordering()",
          "old_line_content": "",
          "new_line_content": "            _key.resetToKey(key, _idx.ordering(), loc);",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": null,
          "new_api": "seekWTCursor",
          "old_text": null,
          "new_text": "seekWTCursor()",
          "old_line_content": "            // loc already encoded in _key",
          "new_line_content": "            return seekWTCursor();",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": null,
          "new_api": "RecordId",
          "old_text": null,
          "new_text": "RecordId()",
          "old_line_content": "            if ( _eof )",
          "new_line_content": "                return RecordId();",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": null,
          "new_api": "isNull",
          "old_text": null,
          "new_text": "_loc.isNull()",
          "old_line_content": "",
          "new_line_content": "            if (_loc.isNull()) {",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": null,
          "new_api": "isNull",
          "old_text": null,
          "new_text": "_loc.isNull()",
          "old_line_content": "",
          "new_line_content": "            dassert(!_loc.isNull());",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": null,
          "new_api": "advanceWTCursor",
          "old_text": null,
          "new_text": "advanceWTCursor()",
          "old_line_content": "            if (_eof) return;",
          "new_line_content": "            advanceWTCursor();",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "_cursor.get()",
          "old_line_content": "            if (!_isTypeBitsValid) {",
          "new_line_content": "                WT_CURSOR *c = _cursor.get();",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": null,
          "new_api": "get_value",
          "old_text": null,
          "new_text": "c->get_value(c, &item)",
          "old_line_content": "                WT_ITEM item;",
          "new_line_content": "                invariantWTOK(c->get_value(c, &item));",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": null,
          "new_api": "resetFromBuffer",
          "old_text": null,
          "new_text": "_typeBits.resetFromBuffer(&br)",
          "old_line_content": "                BufReader br(item.data, item.size);",
          "new_line_content": "                _typeBits.resetFromBuffer(&br);",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": null,
          "new_api": "WiredTigerIndexCursorBase::invalidateCache()",
          "old_text": null,
          "new_text": "WiredTigerIndexCursorBase::invalidateCache()",
          "old_line_content": "        virtual void invalidateCache() {",
          "new_line_content": "            WiredTigerIndexCursorBase::invalidateCache();",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": null,
          "new_api": "invalidateCache",
          "old_text": null,
          "new_text": "invalidateCache()",
          "old_line_content": "",
          "new_line_content": "            invalidateCache();",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": null,
          "new_api": "seekWTCursor",
          "old_text": null,
          "new_text": "seekWTCursor()",
          "old_line_content": "        virtual bool _locate(RecordId loc) {",
          "new_line_content": "            if (!seekWTCursor()) {",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": null,
          "new_api": "dassert",
          "old_text": null,
          "new_text": "dassert(!_eof)",
          "old_line_content": "            }",
          "new_line_content": "            dassert(!_eof);",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "isNull",
          "old_text": null,
          "new_text": "loc.isNull()",
          "old_line_content": "",
          "new_line_content": "            if ( loc.isNull() ) {",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": null,
          "new_api": "getRecordId",
          "old_text": null,
          "new_text": "getRecordId()",
          "old_line_content": "            if ( _forward ) {",
          "new_line_content": "                while (getRecordId() < loc) {",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "_records.size()",
          "old_line_content": "                    _recordsIndex++;",
          "new_line_content": "                    if (_recordsIndex == _records.size()) {",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": null,
          "new_api": "advanceWTCursor",
          "old_text": null,
          "new_text": "advanceWTCursor()",
          "old_line_content": "                        // This means we exhausted the scan and didn't find a record in range.",
          "new_line_content": "                        advanceWTCursor();",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": null,
          "new_api": "getRecordId",
          "old_text": null,
          "new_text": "getRecordId()",
          "old_line_content": "            else {",
          "new_line_content": "                while (getRecordId() > loc) {",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "_records.size()",
          "old_line_content": "                    _recordsIndex++;",
          "new_line_content": "                    if (_recordsIndex == _records.size()) {",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": null,
          "new_api": "RecordId",
          "old_text": null,
          "new_text": "RecordId()",
          "old_line_content": "            if ( _eof )",
          "new_line_content": "                return RecordId();",
          "content_same": false
        },
        {
          "line": 922,
          "old_api": null,
          "new_api": "loadValueIfNeeded",
          "old_text": null,
          "new_text": "loadValueIfNeeded()",
          "old_line_content": "",
          "new_line_content": "            loadValueIfNeeded();",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": null,
          "new_api": "loadValueIfNeeded",
          "old_text": null,
          "new_text": "loadValueIfNeeded()",
          "old_line_content": "            // We may just be advancing within the RecordIds for this key.",
          "new_line_content": "            loadValueIfNeeded();",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "_records.size()",
          "old_line_content": "            _recordsIndex++;",
          "new_line_content": "            if (_recordsIndex == _records.size()) {",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": null,
          "new_api": "invariant",
          "old_text": null,
          "new_text": "invariant(!_eof)",
          "old_line_content": "        virtual const KeyString::TypeBits& getTypeBits() const {",
          "new_line_content": "            invariant(!_eof);",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": null,
          "new_api": "loadValueIfNeeded",
          "old_text": null,
          "new_text": "loadValueIfNeeded()",
          "old_line_content": "",
          "new_line_content": "            loadValueIfNeeded();",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "_records.empty()",
          "old_line_content": "        void loadValueIfNeeded() const {",
          "new_line_content": "            if (!_records.empty())",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "_cursor.get()",
          "old_line_content": "",
          "new_line_content": "            WT_CURSOR *c = _cursor.get();",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": null,
          "new_api": "get_value",
          "old_text": null,
          "new_text": "c->get_value(c, &item )",
          "old_line_content": "            WT_ITEM item;",
          "new_line_content": "            invariantWTOK( c->get_value(c, &item ) );",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": null,
          "new_api": "remaining",
          "old_text": null,
          "new_text": "br.remaining()",
          "old_line_content": "            BufReader br(item.data, item.size);",
          "new_line_content": "            while (br.remaining()) {",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "_records.empty()",
          "old_line_content": "            }",
          "new_line_content": "            invariant(!_records.empty());",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "_records.end()",
          "old_line_content": "            if (!_forward)",
          "new_line_content": "                std::reverse(_records.begin(), _records.end());",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": null,
          "new_api": "invariant",
          "old_text": null,
          "new_text": "invariant((direction == 1) || (direction == -1))",
          "old_line_content": "                                                                  int direction) const {",
          "new_line_content": "        invariant((direction == 1) || (direction == -1));",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": null,
          "new_api": "getSize",
          "old_text": null,
          "new_text": "data.getSize()",
          "old_line_content": "        const KeyString data( key, _ordering );",
          "new_line_content": "        WiredTigerItem keyItem( data.getBuffer(), data.getSize() );",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": null,
          "new_api": "getTypeBits",
          "old_text": null,
          "new_text": "data.getTypeBits().isAllZeros()",
          "old_line_content": "        KeyString value(loc);",
          "new_line_content": "        if (!data.getTypeBits().isAllZeros())",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": null,
          "new_api": "getSize",
          "old_text": null,
          "new_text": "value.getSize()",
          "old_line_content": "",
          "new_line_content": "        WiredTigerItem valueItem(value.getBuffer(), value.getSize());",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": null,
          "new_api": "dupKeyError",
          "old_text": null,
          "new_text": "dupKeyError(key)",
          "old_line_content": "            // insert as a dup key as it a race",
          "new_line_content": "            return dupKeyError(key);",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": null,
          "new_api": "wtRCToStatus",
          "old_text": null,
          "new_text": "wtRCToStatus( ret )",
          "old_line_content": "        else if ( ret != WT_DUPLICATE_KEY ) {",
          "new_line_content": "            return wtRCToStatus( ret );",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": null,
          "new_api": "search",
          "old_text": null,
          "new_text": "c->search(c)",
          "old_line_content": "        // down to a single value, it will be cleaned up.",
          "new_line_content": "        ret = c->search(c);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1024,
          "old_api": "invariantWTOK",
          "new_api": null,
          "old_text": "invariantWTOK( ret )",
          "new_text": null,
          "old_line_content": "        invariantWTOK( ret );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": "get_value",
          "new_api": null,
          "old_text": "c->get_value(c, &old )",
          "new_text": null,
          "old_line_content": "        invariantWTOK( c->get_value(c, &old ) );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": "resetToEmpty",
          "new_api": null,
          "old_text": "value.resetToEmpty()",
          "new_text": null,
          "old_line_content": "        value.resetToEmpty();",
          "new_line_content": "        BufReader br(old.data, old.size);",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": "KeyString::decodeRecordId(&br)",
          "new_api": null,
          "old_text": "KeyString::decodeRecordId(&br)",
          "new_text": null,
          "old_line_content": "            RecordId locInIndex = KeyString::decodeRecordId(&br);",
          "new_line_content": "            if (loc == locInIndex)",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": "Status::OK()",
          "new_api": null,
          "old_text": "Status::OK()",
          "new_text": null,
          "old_line_content": "                return Status::OK(); // already in index",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": "getTypeBits",
          "new_api": null,
          "old_text": "data.getTypeBits()",
          "new_text": null,
          "old_line_content": "                value.appendTypeBits(data.getTypeBits());",
          "new_line_content": "                insertedLoc = true;",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": "KeyString::TypeBits::fromBuffer(&br)",
          "new_api": null,
          "old_text": "KeyString::TypeBits::fromBuffer(&br)",
          "new_text": null,
          "old_line_content": "            value.appendTypeBits(KeyString::TypeBits::fromBuffer(&br));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": "dupKeyError",
          "new_api": null,
          "old_text": "dupKeyError(key)",
          "new_text": null,
          "old_line_content": "            return dupKeyError(key);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": "getTypeBits",
          "new_api": null,
          "old_text": "data.getTypeBits()",
          "new_text": null,
          "old_line_content": "            value.appendTypeBits(data.getTypeBits());",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "update",
          "new_api": null,
          "old_text": "c->update( c )",
          "new_text": null,
          "old_line_content": "        return wtRCToStatus( c->update( c ) );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "Get",
          "new_api": null,
          "old_text": "keyItem.Get()",
          "new_text": null,
          "old_line_content": "        c->set_key( c, keyItem.Get() );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": "remove",
          "new_api": null,
          "old_text": "c->remove(c)",
          "new_text": null,
          "old_line_content": "            int ret = c->remove(c);",
          "new_line_content": "            if (ret == WT_NOTFOUND) {",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": "invariantWTOK",
          "new_api": null,
          "old_text": "invariantWTOK(ret)",
          "new_text": null,
          "old_line_content": "            invariantWTOK(ret);",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": "search",
          "new_api": null,
          "old_text": "c->search(c)",
          "new_text": null,
          "old_line_content": "        int ret = c->search(c);",
          "new_line_content": "        if ( ret == WT_NOTFOUND )",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "invariantWTOK",
          "new_api": null,
          "old_text": "invariantWTOK( ret )",
          "new_text": null,
          "old_line_content": "        invariantWTOK( ret );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "get_value",
          "new_api": null,
          "old_text": "c->get_value(c, &old )",
          "new_text": null,
          "old_line_content": "        invariantWTOK( c->get_value(c, &old ) );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": "KeyString::TypeBits::fromBuffer(&br)",
          "new_api": null,
          "old_text": "KeyString::TypeBits::fromBuffer(&br)",
          "new_text": null,
          "old_line_content": "            KeyString::TypeBits typeBits = KeyString::TypeBits::fromBuffer(&br);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": "getRecordId",
          "new_api": null,
          "old_text": "other.getRecordId()",
          "new_text": null,
          "old_line_content": "            if ( getRecordId() != other.getRecordId() )",
          "new_line_content": "            int equal;",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "remaining",
          "new_api": null,
          "old_text": "br.remaining()",
          "new_text": null,
          "old_line_content": "                if (records.empty() && !br.remaining()) {",
          "new_line_content": "                    // This is the common case: we are removing the only loc for this key.",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": "loadKeyIfNeeded",
          "new_api": null,
          "old_text": "loadKeyIfNeeded()",
          "new_text": null,
          "old_line_content": "            loadKeyIfNeeded();",
          "new_line_content": "                return false;",
          "content_same": false
        },
        {
          "line": 592,
          "old_api": "loadKeyIfNeeded",
          "new_api": null,
          "old_text": "other.loadKeyIfNeeded()",
          "new_text": null,
          "old_line_content": "            other.loadKeyIfNeeded();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "remove",
          "new_api": null,
          "old_text": "c->remove(c)",
          "new_text": null,
          "old_line_content": "                    invariantWTOK(c->remove(c));",
          "new_line_content": "                    return;",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": "getSize",
          "new_api": null,
          "old_text": "_key.getSize()",
          "new_text": null,
          "old_line_content": "                && memcmp(_key.getBuffer(), other._key.getBuffer(), _key.getSize()) == 0;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": "std::make_pair(locInIndex, typeBits)",
          "new_api": null,
          "old_text": "std::make_pair(locInIndex, typeBits)",
          "new_text": null,
          "old_line_content": "            records.push_back(std::make_pair(locInIndex, typeBits));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": "_locate",
          "new_api": null,
          "old_text": "_locate(loc)",
          "new_text": null,
          "old_line_content": "            bool result = _locate(loc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "stream",
          "new_api": null,
          "old_text": "warning().stream()",
          "new_text": null,
          "old_line_content": "            warning().stream() << loc << \" not found in the index for key \" << key;",
          "new_line_content": "            return; // nothing to do",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": "RecordId::max()",
          "new_api": null,
          "old_text": "RecordId::max()",
          "new_text": null,
          "old_line_content": "            if (loc == RecordId::min() || loc == RecordId::max() )",
          "new_line_content": "                return false;",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "appendRecordId",
          "new_api": null,
          "old_text": "newValue.appendRecordId(records[i].first)",
          "new_text": null,
          "old_line_content": "            newValue.appendRecordId(records[i].first);",
          "new_line_content": "            // When there is only one record, we can omit AllZeros TypeBits. Otherwise they need",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "IndexEntryComparison::makeQueryObject(\n                             keyBegin, keyBeginLen,\n                             afterKey, keyEnd, keyEndInclusive, getDirection() )",
          "new_api": null,
          "old_text": "IndexEntryComparison::makeQueryObject(\n                             keyBegin, keyBeginLen,\n                             afterKey, keyEnd, keyEndInclusive, getDirection() )",
          "new_text": null,
          "old_line_content": "            BSONObj key = IndexEntryComparison::makeQueryObject(",
          "new_line_content": "                             keyBegin, keyBeginLen,",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": "appendTypeBits",
          "new_api": null,
          "old_text": "newValue.appendTypeBits(records[i].second)",
          "new_text": null,
          "old_line_content": "                newValue.appendTypeBits(records[i].second);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "getDirection",
          "new_api": null,
          "old_text": "getDirection()",
          "new_text": null,
          "old_line_content": "                             afterKey, keyEnd, keyEndInclusive, getDirection() );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": "RecordId",
          "new_api": null,
          "old_text": "RecordId()",
          "new_text": null,
          "old_line_content": "            _locate(RecordId());",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "update",
          "new_api": null,
          "old_text": "c->update( c )",
          "new_text": null,
          "old_line_content": "        invariantWTOK( c->update( c ) );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "advanceTo",
          "new_api": null,
          "old_text": "advanceTo(keyBegin, keyBeginLen, afterKey, keyEnd, keyEndInclusive)",
          "new_text": null,
          "old_line_content": "            advanceTo(keyBegin, keyBeginLen, afterKey, keyEnd, keyEndInclusive);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": "isEmpty",
          "new_api": null,
          "old_text": "_keyBson.isEmpty()",
          "new_text": null,
          "old_line_content": "            if (_isKeyCurrent && !_keyBson.isEmpty())",
          "new_line_content": "                return _keyBson;",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "invariant",
          "new_api": null,
          "old_text": "invariant((direction == 1) || (direction == -1))",
          "new_text": null,
          "old_line_content": "        invariant((direction == 1) || (direction == -1));",
          "new_line_content": "        return new WiredTigerIndexStandardCursor(*this, txn, direction == 1);",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "getTypeBits",
          "new_api": null,
          "old_text": "getTypeBits()",
          "new_text": null,
          "old_line_content": "                                         getTypeBits());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "invariant",
          "new_api": null,
          "old_text": "invariant(dupsAllowed)",
          "new_text": null,
          "old_line_content": "        invariant(dupsAllowed);",
          "new_line_content": "        return new StandardBulkBuilder(this, txn);",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": "recoveryUnit",
          "new_api": null,
          "old_text": "_txn->recoveryUnit()",
          "new_text": null,
          "old_line_content": "            _savedForCheck = _txn->recoveryUnit();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": "invariant",
          "new_api": null,
          "old_text": "invariant( dupsAllowed )",
          "new_text": null,
          "old_line_content": "        invariant( dupsAllowed );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": "reset",
          "new_api": null,
          "old_text": "_cursor.reset()",
          "new_text": null,
          "old_line_content": "                _cursor.reset();",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": "getSize",
          "new_api": null,
          "old_text": "key.getSize()",
          "new_text": null,
          "old_line_content": "        WiredTigerItem keyItem( key.getBuffer(), key.getSize() );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": "recoveryUnit",
          "new_api": null,
          "old_text": "txn->recoveryUnit()",
          "new_text": null,
          "old_line_content": "            invariant( _savedForCheck == txn->recoveryUnit() );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": "getTypeBits",
          "new_api": null,
          "old_text": "key.getTypeBits().getSize()",
          "new_text": null,
          "old_line_content": "                                                            key.getTypeBits().getSize());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "wt_keeptxnopen",
          "new_api": null,
          "old_text": "wt_keeptxnopen()",
          "new_text": null,
          "old_line_content": "            if ( !wt_keeptxnopen() && !_eof ) {",
          "new_line_content": "                // Ensure an active session exists, so any restored cursors will bind to it",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": "getSession",
          "new_api": null,
          "old_text": "WiredTigerRecoveryUnit::get(txn)->getSession()",
          "new_text": null,
          "old_line_content": "                WiredTigerRecoveryUnit::get(txn)->getSession();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "insert",
          "new_api": null,
          "old_text": "c->insert( c )",
          "new_text": null,
          "old_line_content": "        int ret = c->insert( c );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "_locate",
          "new_api": null,
          "old_text": "_locate(_savedLoc)",
          "new_text": null,
          "old_line_content": "                _locate(_savedLoc);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "wtRCToStatus",
          "new_api": null,
          "old_text": "wtRCToStatus( ret )",
          "new_text": null,
          "old_line_content": "            return wtRCToStatus( ret );",
          "new_line_content": "        // If the record was already in the index, we just return OK.",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": "Status::OK()",
          "new_api": null,
          "old_text": "Status::OK()",
          "new_text": null,
          "old_line_content": "        return Status::OK();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": "invariant",
          "new_api": null,
          "old_text": "invariant( dupsAllowed )",
          "new_text": null,
          "old_line_content": "        invariant( dupsAllowed );",
          "new_line_content": "        KeyString data( key, _ordering, loc );",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": "prev",
          "new_api": null,
          "old_text": "c->prev(c)",
          "new_text": null,
          "old_line_content": "            int ret = _forward ? c->next(c) : c->prev(c);",
          "new_line_content": "            if ( ret == WT_NOTFOUND ) {",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "remove",
          "new_api": null,
          "old_text": "c->remove(c)",
          "new_text": null,
          "old_line_content": "        int ret = c->remove(c);",
          "new_line_content": "        if (ret != WT_NOTFOUND) {",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "invariantWTOK",
          "new_api": null,
          "old_text": "invariantWTOK(ret)",
          "new_text": null,
          "old_line_content": "            invariantWTOK(ret);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": "invariantWTOK",
          "new_api": null,
          "old_text": "invariantWTOK(ret)",
          "new_text": null,
          "old_line_content": "            invariantWTOK(ret);",
          "new_line_content": "            _eof = false;",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "get",
          "new_api": null,
          "old_text": "_cursor.get()",
          "new_text": null,
          "old_line_content": "            WT_CURSOR *c = _cursor.get();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": "str::stream()",
          "new_api": null,
          "old_text": "str::stream()",
          "new_text": null,
          "old_line_content": "                                       Status(ErrorCodes::UnsupportedFormat, str::stream()",
          "new_line_content": "                                              << \"Found an index from an unsupported RC version.\"",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": "Get",
          "new_api": null,
          "old_text": "keyItem.Get()",
          "new_text": null,
          "old_line_content": "            c->set_key(c, keyItem.Get());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": "search_near",
          "new_api": null,
          "old_text": "c->search_near(c, &cmp)",
          "new_text": null,
          "old_line_content": "            int ret = c->search_near(c, &cmp);",
          "new_line_content": "            if ( ret == WT_NOTFOUND ) {",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "invariantWTOK",
          "new_api": null,
          "old_text": "invariantWTOK( ret )",
          "new_text": null,
          "old_line_content": "            invariantWTOK( ret );",
          "new_line_content": "            _eof = false;",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": "add_collator",
          "new_api": null,
          "old_text": "conn->add_collator(conn, \"mongo_index\", &idx_static, NULL)",
          "new_text": null,
          "old_line_content": "        return conn->add_collator(conn, \"mongo_index\", &idx_static, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": "dassertKeyCacheIsValid",
          "new_api": null,
          "old_text": "dassertKeyCacheIsValid()",
          "new_text": null,
          "old_line_content": "                dassertKeyCacheIsValid();",
          "new_line_content": "                return true;",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": "next",
          "new_api": null,
          "old_text": "c->next(c)",
          "new_text": null,
          "old_line_content": "                    ret = c->next(c);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "prev",
          "new_api": null,
          "old_text": "c->prev(c)",
          "new_text": null,
          "old_line_content": "                    ret = c->prev(c);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": "invariantWTOK",
          "new_api": null,
          "old_text": "invariantWTOK(ret)",
          "new_text": null,
          "old_line_content": "                invariantWTOK(ret);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "dassertKeyCacheIsValid",
          "new_api": null,
          "old_text": "dassertKeyCacheIsValid()",
          "new_text": null,
          "old_line_content": "                dassertKeyCacheIsValid();",
          "new_line_content": "                return;",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": "get",
          "new_api": null,
          "old_text": "_cursor.get()",
          "new_text": null,
          "old_line_content": "            WT_CURSOR *c = _cursor.get();",
          "new_line_content": "            WT_ITEM item;",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": "resetFromBuffer",
          "new_api": null,
          "old_text": "_key.resetFromBuffer(item.data, item.size)",
          "new_text": null,
          "old_line_content": "            _key.resetFromBuffer(item.data, item.size);",
          "new_line_content": "            _isKeyCurrent = true;",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": "BSONObj",
          "new_api": null,
          "old_text": "BSONObj()",
          "new_text": null,
          "old_line_content": "            _keyBson = BSONObj();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": "invariant",
          "new_api": null,
          "old_text": "invariant(_isKeyCurrent)",
          "new_text": null,
          "old_line_content": "                invariant(_isKeyCurrent);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 768,
          "old_api": "getBuffer",
          "new_api": null,
          "old_text": "_key.getBuffer()",
          "new_text": null,
          "old_line_content": "                invariant(memcmp(item.data, _key.getBuffer(), item.size) == 0);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": "RecordId",
          "new_api": null,
          "old_text": "RecordId()",
          "new_text": null,
          "old_line_content": "            _loc = RecordId();",
          "new_line_content": "            _isTypeBitsValid = false;",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "RecordId::max()",
          "new_api": null,
          "old_text": "RecordId::max()",
          "new_text": null,
          "old_line_content": "                loc = _forward ? RecordId::min() : RecordId::max();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": "invalidateCache",
          "new_api": null,
          "old_text": "invalidateCache()",
          "new_text": null,
          "old_line_content": "            invalidateCache();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "seekWTCursor",
          "new_api": null,
          "old_text": "seekWTCursor()",
          "new_text": null,
          "old_line_content": "            return seekWTCursor();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": "RecordId",
          "new_api": null,
          "old_text": "RecordId()",
          "new_text": null,
          "old_line_content": "                return RecordId();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": "getSize",
          "new_api": null,
          "old_text": "_key.getSize()",
          "new_text": null,
          "old_line_content": "                _loc = KeyString::decodeRecordIdAtEnd(_key.getBuffer(), _key.getSize());",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "isNull",
          "new_api": null,
          "old_text": "_loc.isNull()",
          "new_text": null,
          "old_line_content": "            dassert(!_loc.isNull());",
          "new_line_content": "            return _loc;",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": "advanceWTCursor",
          "new_api": null,
          "old_text": "advanceWTCursor()",
          "new_text": null,
          "old_line_content": "            advanceWTCursor();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "get",
          "new_api": null,
          "old_text": "_cursor.get()",
          "new_text": null,
          "old_line_content": "                WT_CURSOR *c = _cursor.get();",
          "new_line_content": "                WT_ITEM item;",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": "get_value",
          "new_api": null,
          "old_text": "c->get_value(c, &item)",
          "new_text": null,
          "old_line_content": "                invariantWTOK(c->get_value(c, &item));",
          "new_line_content": "                ",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": "resetFromBuffer",
          "new_api": null,
          "old_text": "_typeBits.resetFromBuffer(&br)",
          "new_text": null,
          "old_line_content": "                _typeBits.resetFromBuffer(&br);",
          "new_line_content": "                _isTypeBitsValid = true;",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": "clear",
          "new_api": null,
          "old_text": "_records.clear()",
          "new_text": null,
          "old_line_content": "            _records.clear();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": "ordering",
          "new_api": null,
          "old_text": "_idx.ordering()",
          "new_text": null,
          "old_line_content": "            _key.resetToKey(key, _idx.ordering()); // loc doesn't go in _key for unique indexes",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "seekWTCursor",
          "new_api": null,
          "old_text": "seekWTCursor()",
          "new_text": null,
          "old_line_content": "            if (!seekWTCursor()) {",
          "new_line_content": "                // If didn't seek to exact key, start at beginning of wherever we ended up.",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "dassert",
          "new_api": null,
          "old_text": "dassert(!_eof)",
          "new_text": null,
          "old_line_content": "            dassert(!_eof);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "isNull",
          "new_api": null,
          "old_text": "loc.isNull()",
          "new_text": null,
          "old_line_content": "            if ( loc.isNull() ) {",
          "new_line_content": "                // Null loc means means start and beginning or end of array as needed.",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "getRecordId",
          "new_api": null,
          "old_text": "getRecordId()",
          "new_text": null,
          "old_line_content": "                while (getRecordId() < loc) {",
          "new_line_content": "                    _recordsIndex++;",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": "size",
          "new_api": null,
          "old_text": "_records.size()",
          "new_text": null,
          "old_line_content": "                    if (_recordsIndex == _records.size()) {",
          "new_line_content": "                        // This means we exhausted the scan and didn't find a record in range.",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": "advanceWTCursor",
          "new_api": null,
          "old_text": "advanceWTCursor()",
          "new_text": null,
          "old_line_content": "                        advanceWTCursor();",
          "new_line_content": "                        return false;",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": "getRecordId",
          "new_api": null,
          "old_text": "getRecordId()",
          "new_text": null,
          "old_line_content": "                while (getRecordId() > loc) {",
          "new_line_content": "                    _recordsIndex++;",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "advanceWTCursor",
          "new_api": null,
          "old_text": "advanceWTCursor()",
          "new_text": null,
          "old_line_content": "                        advanceWTCursor();",
          "new_line_content": "                        return false;",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": "RecordId",
          "new_api": null,
          "old_text": "RecordId()",
          "new_text": null,
          "old_line_content": "                return RecordId();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": "isNull",
          "new_api": null,
          "old_text": "_records[_recordsIndex].first.isNull()",
          "new_text": null,
          "old_line_content": "            dassert(!_records[_recordsIndex].first.isNull());",
          "new_line_content": "            return _records[_recordsIndex].first;",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": "loadValueIfNeeded",
          "new_api": null,
          "old_text": "loadValueIfNeeded()",
          "new_text": null,
          "old_line_content": "            loadValueIfNeeded();",
          "new_line_content": "            _recordsIndex++;",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": "advanceWTCursor",
          "new_api": null,
          "old_text": "advanceWTCursor()",
          "new_text": null,
          "old_line_content": "                advanceWTCursor();",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": "invariant",
          "new_api": null,
          "old_text": "invariant(!_eof)",
          "new_text": null,
          "old_line_content": "            invariant(!_eof);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": "loadValueIfNeeded",
          "new_api": null,
          "old_text": "loadValueIfNeeded()",
          "new_text": null,
          "old_line_content": "            loadValueIfNeeded();",
          "new_line_content": "            return _records[_recordsIndex].second;",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": "empty",
          "new_api": null,
          "old_text": "_records.empty()",
          "new_text": null,
          "old_line_content": "            if (!_records.empty())",
          "new_line_content": "                return;",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "get",
          "new_api": null,
          "old_text": "_cursor.get()",
          "new_text": null,
          "old_line_content": "            WT_CURSOR *c = _cursor.get();",
          "new_line_content": "            WT_ITEM item;",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "get_value",
          "new_api": null,
          "old_text": "c->get_value(c, &item )",
          "new_text": null,
          "old_line_content": "            invariantWTOK( c->get_value(c, &item ) );",
          "new_line_content": "            BufReader br(item.data, item.size);",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": "KeyString::TypeBits::fromBuffer(&br)",
          "new_api": null,
          "old_text": "KeyString::TypeBits::fromBuffer(&br)",
          "new_text": null,
          "old_line_content": "                _records.push_back(std::make_pair(loc, KeyString::TypeBits::fromBuffer(&br)));",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "empty",
          "new_api": null,
          "old_text": "_records.empty()",
          "new_text": null,
          "old_line_content": "            invariant(!_records.empty());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": "end",
          "new_api": null,
          "old_text": "_records.end()",
          "new_text": null,
          "old_line_content": "                std::reverse(_records.begin(), _records.end());",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": "invariant",
          "new_api": null,
          "old_text": "invariant((direction == 1) || (direction == -1))",
          "new_text": null,
          "old_line_content": "        invariant((direction == 1) || (direction == -1));",
          "new_line_content": "        return new WiredTigerIndexUniqueCursor(*this, txn, direction == 1);",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": "getSize",
          "new_api": null,
          "old_text": "data.getSize()",
          "new_text": null,
          "old_line_content": "        WiredTigerItem keyItem( data.getBuffer(), data.getSize() );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": "getTypeBits",
          "new_api": null,
          "old_text": "data.getTypeBits()",
          "new_text": null,
          "old_line_content": "            value.appendTypeBits(data.getTypeBits());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "insert",
          "new_api": null,
          "old_text": "c->insert( c )",
          "new_text": null,
          "old_line_content": "        int ret = c->insert( c );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": "dupKeyError",
          "new_api": null,
          "old_text": "dupKeyError(key)",
          "new_text": null,
          "old_line_content": "            return dupKeyError(key);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "wtRCToStatus",
          "new_api": null,
          "old_text": "wtRCToStatus( ret )",
          "new_text": null,
          "old_line_content": "            return wtRCToStatus( ret );",
          "new_line_content": "        }",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 49,
      "total_additions": 107,
      "total_deletions": 110,
      "total_api_changes": 266
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 9,
        "api_related_lines": 266,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          593,
          587,
          590
        ]
      }
    },
    "api_calls_before": 469,
    "api_calls_after": 466,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 7,
      "total_diff_lines": 27
    }
  }
}