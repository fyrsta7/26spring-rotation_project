{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/openwrt/modified_file/b7a2c533dab6c21614887670f01c5b94a8bd88fc",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/openwrt/modified_file/b7a2c533dab6c21614887670f01c5b94a8bd88fc/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/openwrt/modified_file/b7a2c533dab6c21614887670f01c5b94a8bd88fc/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/openwrt/modified_file/b7a2c533dab6c21614887670f01c5b94a8bd88fc/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1005,
          "old_api": "ag71xx_ring_desc",
          "new_api": "skb_queue_head_init",
          "old_text": "ag71xx_ring_desc(ring, i)",
          "new_text": "skb_queue_head_init(&queue)",
          "old_line_content": "\t\tstruct ag71xx_desc *desc = ag71xx_ring_desc(ring, i);",
          "new_line_content": "\tskb_queue_head_init(&queue);",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": "ag71xx_has_ar8216",
          "new_api": "skb_reserve",
          "old_text": "ag71xx_has_ar8216(ag)",
          "new_text": "skb_reserve(skb, offset)",
          "old_line_content": "\t\tif (ag71xx_has_ar8216(ag))",
          "new_line_content": "\t\tskb_reserve(skb, offset);",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": "ag71xx_remove_ar8216_header",
          "new_api": "skb_put",
          "old_text": "ag71xx_remove_ar8216_header(ag, skb, pktlen)",
          "new_text": "skb_put(skb, pktlen)",
          "old_line_content": "\t\t\terr = ag71xx_remove_ar8216_header(ag, skb, pktlen);",
          "new_line_content": "\t\tskb_put(skb, pktlen);",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "DBG",
          "new_api": "ag71xx_ring_rx_refill",
          "old_text": "DBG(\"%s: rx finish, curr=%u, dirty=%u, done=%d\\n\",\n\t\tdev->name, ring->curr, ring->dirty, done)",
          "new_text": "ag71xx_ring_rx_refill(ag)",
          "old_line_content": "\tDBG(\"%s: rx finish, curr=%u, dirty=%u, done=%d\\n\",",
          "new_line_content": "\tag71xx_ring_rx_refill(ag);",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": "unlikely",
          "new_api": "ag71xx_debugfs_update_napi_stats",
          "old_text": "unlikely(status & RX_STATUS_OF)",
          "new_text": "ag71xx_debugfs_update_napi_stats(ag, rx_done, tx_done)",
          "old_line_content": "\tif (unlikely(status & RX_STATUS_OF)) {",
          "new_line_content": "\tag71xx_debugfs_update_napi_stats(ag, rx_done, tx_done);",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": "ag71xx_rr",
          "new_api": "ag71xx_wr",
          "old_text": "ag71xx_rr(ag, AG71XX_REG_TX_STATUS)",
          "new_text": "ag71xx_wr(ag, AG71XX_REG_RX_CTRL, RX_CTRL_RXE)",
          "old_line_content": "\t\tstatus = ag71xx_rr(ag, AG71XX_REG_TX_STATUS);",
          "new_line_content": "\t\tag71xx_wr(ag, AG71XX_REG_RX_CTRL, RX_CTRL_RXE);",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": "napi_complete",
          "new_api": "ag71xx_rr",
          "old_text": "napi_complete(napi)",
          "new_text": "ag71xx_rr(ag, AG71XX_REG_TX_STATUS)",
          "old_line_content": "\t\tnapi_complete(napi);",
          "new_line_content": "\t\tstatus = ag71xx_rr(ag, AG71XX_REG_TX_STATUS);",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": "ag71xx_int_enable",
          "new_api": "DBG",
          "old_text": "ag71xx_int_enable(ag, AG71XX_INT_POLL)",
          "new_text": "DBG(\"%s: disable polling mode, rx=%d, tx=%d,limit=%d\\n\",\n\t\t\tdev->name, rx_done, tx_done, limit)",
          "old_line_content": "\t\tag71xx_int_enable(ag, AG71XX_INT_POLL);",
          "new_line_content": "\t\tDBG(\"%s: disable polling mode, rx=%d, tx=%d,limit=%d\\n\",",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": "DBG",
          "new_api": "spin_lock_irqsave",
          "old_text": "DBG(\"%s: stay in polling mode, rx=%d, tx=%d, limit=%d\\n\",\n\t\t\tdev->name, rx_done, tx_done, limit)",
          "new_text": "spin_lock_irqsave(&ag->lock, flags)",
          "old_line_content": "\tDBG(\"%s: stay in polling mode, rx=%d, tx=%d, limit=%d\\n\",",
          "new_line_content": "\t\tspin_lock_irqsave(&ag->lock, flags);",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": "netdev_priv",
          "new_api": "napi_complete",
          "old_text": "netdev_priv(dev)",
          "new_text": "napi_complete(napi)",
          "old_line_content": "\tstruct ag71xx *ag = netdev_priv(dev);",
          "new_line_content": "\tnapi_complete(napi);",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "ag71xx_wr",
          "new_api": "ag71xx_dump_intr",
          "old_text": "ag71xx_wr(ag, AG71XX_REG_TX_STATUS, TX_STATUS_BE)",
          "new_text": "ag71xx_dump_intr(ag, \"raw\", status)",
          "old_line_content": "\t\t\tag71xx_wr(ag, AG71XX_REG_TX_STATUS, TX_STATUS_BE);",
          "new_line_content": "\tag71xx_dump_intr(ag, \"raw\", status);",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "dev_err",
          "new_api": "unlikely",
          "old_text": "dev_err(&dev->dev, \"RX BUS error\\n\")",
          "new_text": "unlikely(status & AG71XX_INT_ERR)",
          "old_line_content": "\t\t\tdev_err(&dev->dev, \"RX BUS error\\n\");",
          "new_line_content": "\tif (unlikely(status & AG71XX_INT_ERR)) {",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": "DBG",
          "new_api": "ag71xx_wr",
          "old_text": "DBG(\"%s: enable polling mode\\n\", dev->name)",
          "new_text": "ag71xx_wr(ag, AG71XX_REG_RX_STATUS, RX_STATUS_BE)",
          "old_line_content": "\t\tDBG(\"%s: enable polling mode\\n\", dev->name);",
          "new_line_content": "\t\t\tag71xx_wr(ag, AG71XX_REG_RX_STATUS, RX_STATUS_BE);",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "napi_schedule",
          "new_api": "dev_err",
          "old_text": "napi_schedule(&ag->napi)",
          "new_text": "dev_err(&dev->dev, \"RX BUS error\\n\")",
          "old_line_content": "\t\tnapi_schedule(&ag->napi);",
          "new_line_content": "\t\t\tdev_err(&dev->dev, \"RX BUS error\\n\");",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": "netdev_priv",
          "new_api": "ag71xx_interrupt",
          "old_text": "netdev_priv(dev)",
          "new_text": "ag71xx_interrupt(dev->irq, dev)",
          "old_line_content": "\tstruct ag71xx *ag = netdev_priv(dev);",
          "new_line_content": "\tag71xx_interrupt(dev->irq, dev);",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": "netif_running",
          "new_api": "netdev_priv",
          "old_text": "netif_running(dev)",
          "new_text": "netdev_priv(dev)",
          "old_line_content": "\tif (netif_running(dev))",
          "new_line_content": "\tstruct ag71xx *ag = netdev_priv(dev);",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": "spin_lock_init",
          "new_api": "SET_NETDEV_DEV",
          "old_text": "spin_lock_init(&ag->lock)",
          "new_text": "SET_NETDEV_DEV(dev, &pdev->dev)",
          "old_line_content": "\tspin_lock_init(&ag->lock);",
          "new_line_content": "\tSET_NETDEV_DEV(dev, &pdev->dev);",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": "platform_get_resource_byname",
          "new_api": "netdev_priv",
          "old_text": "platform_get_resource_byname(pdev, IORESOURCE_MEM, \"mac_base\")",
          "new_text": "netdev_priv(dev)",
          "old_line_content": "\tres = platform_get_resource_byname(pdev, IORESOURCE_MEM, \"mac_base\");",
          "new_line_content": "\tag = netdev_priv(dev);",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": "ioremap_nocache",
          "new_api": "platform_get_resource_byname",
          "old_text": "ioremap_nocache(res->start, res->end - res->start + 1)",
          "new_text": "platform_get_resource_byname(pdev, IORESOURCE_MEM, \"mac_base\")",
          "old_line_content": "\tag->mac_base = ioremap_nocache(res->start, res->end - res->start + 1);",
          "new_line_content": "\tres = platform_get_resource_byname(pdev, IORESOURCE_MEM, \"mac_base\");",
          "content_same": false
        },
        {
          "line": 1285,
          "old_api": "platform_get_irq",
          "new_api": "ioremap_nocache",
          "old_text": "platform_get_irq(pdev, 0)",
          "new_text": "ioremap_nocache(res->start, res->end - res->start + 1)",
          "old_line_content": "\tdev->irq = platform_get_irq(pdev, 0);",
          "new_line_content": "\tag->mac_base = ioremap_nocache(res->start, res->end - res->start + 1);",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": "ag71xx_debugfs_exit",
          "new_api": "pr_info",
          "old_text": "ag71xx_debugfs_exit(ag)",
          "new_text": "pr_info(\"%s: Atheros AG71xx at 0x%08lx, irq %d, mode:%s\\n\",\n\t\tdev->name, dev->base_addr, dev->irq,\n\t\tag71xx_get_phy_if_mode_name(pdata->phy_if_mode))",
          "old_line_content": "\tag71xx_debugfs_exit(ag);",
          "new_line_content": "\tpr_info(\"%s: Atheros AG71xx at 0x%08lx, irq %d, mode:%s\\n\",",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": "ag71xx_phy_disconnect",
          "new_api": "ag71xx_get_phy_if_mode_name",
          "old_text": "ag71xx_phy_disconnect(ag)",
          "new_text": "ag71xx_get_phy_if_mode_name(pdata->phy_if_mode)",
          "old_line_content": "\tag71xx_phy_disconnect(ag);",
          "new_line_content": "\t\tag71xx_get_phy_if_mode_name(pdata->phy_if_mode));",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": "free_irq",
          "new_api": "ag71xx_debugfs_exit",
          "old_text": "free_irq(dev->irq, dev)",
          "new_text": "ag71xx_debugfs_exit(ag)",
          "old_line_content": "\tfree_irq(dev->irq, dev);",
          "new_line_content": "\tag71xx_debugfs_exit(ag);",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "iounmap",
          "new_api": "ag71xx_phy_disconnect",
          "old_text": "iounmap(ag->mac_base)",
          "new_text": "ag71xx_phy_disconnect(ag)",
          "old_line_content": "\tiounmap(ag->mac_base);",
          "new_line_content": "\tag71xx_phy_disconnect(ag);",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "kfree",
          "new_api": "dma_free_coherent",
          "old_text": "kfree(dev)",
          "new_text": "dma_free_coherent(NULL, sizeof(struct ag71xx_desc), ag->stop_desc,\n\t\t\t  ag->stop_desc_dma)",
          "old_line_content": "\tkfree(dev);",
          "new_line_content": "\tdma_free_coherent(NULL, sizeof(struct ag71xx_desc), ag->stop_desc,",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "unregister_netdev",
          "new_api": "platform_get_drvdata",
          "old_text": "unregister_netdev(dev)",
          "new_text": "platform_get_drvdata(pdev)",
          "old_line_content": "\t\tunregister_netdev(dev);",
          "new_line_content": "\tstruct net_device *dev = platform_get_drvdata(pdev);",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": "kfree",
          "new_api": "netdev_priv",
          "old_text": "kfree(dev)",
          "new_text": "netdev_priv(dev)",
          "old_line_content": "\t\tkfree(dev);",
          "new_line_content": "\t\tstruct ag71xx *ag = netdev_priv(dev);",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "ag71xx_mdio_driver_exit",
          "new_api": "platform_driver_register",
          "old_text": "ag71xx_mdio_driver_exit()",
          "new_text": "platform_driver_register(&ag71xx_driver)",
          "old_line_content": "\tag71xx_mdio_driver_exit();",
          "new_line_content": "\tret = platform_driver_register(&ag71xx_driver);",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "platform_driver_unregister",
          "new_api": "ag71xx_debugfs_root_exit",
          "old_text": "platform_driver_unregister(&ag71xx_driver)",
          "new_text": "ag71xx_debugfs_root_exit()",
          "old_line_content": "\tplatform_driver_unregister(&ag71xx_driver);",
          "new_line_content": "\tag71xx_debugfs_root_exit();",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": "MODULE_VERSION",
          "new_api": "ag71xx_mdio_driver_exit",
          "old_text": "MODULE_VERSION(AG71XX_DRV_VERSION)",
          "new_text": "ag71xx_mdio_driver_exit()",
          "old_line_content": "MODULE_VERSION(AG71XX_DRV_VERSION);",
          "new_line_content": "\tag71xx_mdio_driver_exit();",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": "MODULE_AUTHOR",
          "new_api": "ag71xx_debugfs_root_exit",
          "old_text": "MODULE_AUTHOR(\"Gabor Juhos <juhosg@openwrt.org>\")",
          "new_text": "ag71xx_debugfs_root_exit()",
          "old_line_content": "MODULE_AUTHOR(\"Gabor Juhos <juhosg@openwrt.org>\");",
          "new_line_content": "\tag71xx_debugfs_root_exit();",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": "MODULE_ALIAS",
          "new_api": "module_init",
          "old_text": "MODULE_ALIAS(\"platform:\" AG71XX_DRV_NAME)",
          "new_text": "module_init(ag71xx_module_init)",
          "old_line_content": "MODULE_ALIAS(\"platform:\" AG71XX_DRV_NAME);",
          "new_line_content": "module_init(ag71xx_module_init);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1026,
          "old_api": null,
          "new_api": "dma_unmap_single",
          "old_text": null,
          "new_text": "dma_unmap_single(&dev->dev, ring->buf[i].dma_addr,\n\t\t\t\t ag->rx_buf_size, DMA_FROM_DEVICE)",
          "old_line_content": "\t\tdev->stats.rx_packets++;",
          "new_line_content": "\t\tdma_unmap_single(&dev->dev, ring->buf[i].dma_addr,",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": null,
          "new_api": "ag71xx_buffer_size",
          "old_text": null,
          "new_text": "ag71xx_buffer_size(ag)",
          "old_line_content": "\t\t\tgoto next;",
          "new_line_content": "\t\tskb = build_skb(ring->buf[i].rx_buf, ag71xx_buffer_size(ag));",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": null,
          "new_api": "skb_free_frag",
          "old_text": null,
          "new_text": "skb_free_frag(ring->buf[i].rx_buf)",
          "old_line_content": "",
          "new_line_content": "\t\t\tskb_free_frag(ring->buf[i].rx_buf);",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": null,
          "new_api": "ag71xx_has_ar8216",
          "old_text": null,
          "new_text": "ag71xx_has_ar8216(ag)",
          "old_line_content": "\t\tif (err) {",
          "new_line_content": "\t\tif (ag71xx_has_ar8216(ag))",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": null,
          "new_api": "ag71xx_remove_ar8216_header",
          "old_text": null,
          "new_text": "ag71xx_remove_ar8216_header(ag, skb, pktlen)",
          "old_line_content": "\t\t\tdev->stats.rx_dropped++;",
          "new_line_content": "\t\t\terr = ag71xx_remove_ar8216_header(ag, skb, pktlen);",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": null,
          "new_api": "kfree_skb",
          "old_text": null,
          "new_text": "kfree_skb(skb)",
          "old_line_content": "\t\t\tskb->ip_summed = CHECKSUM_NONE;",
          "new_line_content": "\t\t\tkfree_skb(skb);",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": null,
          "new_api": "__skb_queue_tail",
          "old_text": null,
          "new_text": "__skb_queue_tail(&queue, skb)",
          "old_line_content": "",
          "new_line_content": "\t\t\t__skb_queue_tail(&queue, skb);",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": null,
          "new_api": "__skb_dequeue",
          "old_text": null,
          "new_text": "__skb_dequeue(&queue)",
          "old_line_content": "",
          "new_line_content": "\twhile ((skb = __skb_dequeue(&queue)) != NULL) {",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "eth_type_trans",
          "old_text": null,
          "new_text": "eth_type_trans(skb, dev)",
          "old_line_content": "\treturn done;",
          "new_line_content": "\t\tskb->protocol = eth_type_trans(skb, dev);",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "netif_receive_skb",
          "old_text": null,
          "new_text": "netif_receive_skb(skb)",
          "old_line_content": "}",
          "new_line_content": "\t\tnetif_receive_skb(skb);",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": null,
          "new_api": "DBG",
          "old_text": null,
          "new_text": "DBG(\"%s: rx finish, curr=%u, dirty=%u, done=%d\\n\",\n\t\tdev->name, ring->curr, ring->dirty, done)",
          "old_line_content": "{",
          "new_line_content": "\tDBG(\"%s: rx finish, curr=%u, dirty=%u, done=%d\\n\",",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": null,
          "new_api": "container_of",
          "old_text": null,
          "new_text": "container_of(napi, struct ag71xx, napi)",
          "old_line_content": "\tint rx_done;",
          "new_line_content": "\tstruct ag71xx *ag = container_of(napi, struct ag71xx, napi);",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "ag71xx_get_pdata",
          "old_text": null,
          "new_text": "ag71xx_get_pdata(ag)",
          "old_line_content": "",
          "new_line_content": "\tstruct ag71xx_platform_data *pdata = ag71xx_get_pdata(ag);",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": null,
          "new_api": "ddr_flush",
          "old_text": null,
          "new_text": "pdata->ddr_flush()",
          "old_line_content": "",
          "new_line_content": "\tpdata->ddr_flush();",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": null,
          "new_api": "ag71xx_tx_packets",
          "old_text": null,
          "new_text": "ag71xx_tx_packets(ag, false)",
          "old_line_content": "\trx_ring = &ag->rx_ring;",
          "new_line_content": "\ttx_done = ag71xx_tx_packets(ag, false);",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": null,
          "new_api": "DBG",
          "old_text": null,
          "new_text": "DBG(\"%s: processing RX ring\\n\", dev->name)",
          "old_line_content": "\t\tgoto oom;",
          "new_line_content": "\tDBG(\"%s: processing RX ring\\n\", dev->name);",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": null,
          "new_api": "ag71xx_rx_packets",
          "old_text": null,
          "new_text": "ag71xx_rx_packets(ag, limit)",
          "old_line_content": "",
          "new_line_content": "\trx_done = ag71xx_rx_packets(ag, limit);",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": null,
          "new_api": "ag71xx_rr",
          "old_text": null,
          "new_text": "ag71xx_rr(ag, AG71XX_REG_RX_STATUS)",
          "old_line_content": "\t}",
          "new_line_content": "\tstatus = ag71xx_rr(ag, AG71XX_REG_RX_STATUS);",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": null,
          "new_api": "unlikely",
          "old_text": null,
          "new_text": "unlikely(status & RX_STATUS_OF)",
          "old_line_content": "",
          "new_line_content": "\tif (unlikely(status & RX_STATUS_OF)) {",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": null,
          "new_api": "ag71xx_wr",
          "old_text": null,
          "new_text": "ag71xx_wr(ag, AG71XX_REG_RX_STATUS, RX_STATUS_OF)",
          "old_line_content": "\tif (rx_done < limit) {",
          "new_line_content": "\t\tag71xx_wr(ag, AG71XX_REG_RX_STATUS, RX_STATUS_OF);",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": null,
          "new_api": "napi_complete",
          "old_text": null,
          "new_text": "napi_complete(napi)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tnapi_complete(napi);",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": null,
          "new_api": "ag71xx_int_enable",
          "old_text": null,
          "new_text": "ag71xx_int_enable(ag, AG71XX_INT_POLL)",
          "old_line_content": "\t\t\tdev->name, rx_done, tx_done, limit);",
          "new_line_content": "\t\tag71xx_int_enable(ag, AG71XX_INT_POLL);",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": null,
          "new_api": "spin_unlock_irqrestore",
          "old_text": null,
          "new_text": "spin_unlock_irqrestore(&ag->lock, flags)",
          "old_line_content": "\treturn limit;",
          "new_line_content": "\t\tspin_unlock_irqrestore(&ag->lock, flags);",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": null,
          "new_api": "DBG",
          "old_text": null,
          "new_text": "DBG(\"%s: stay in polling mode, rx=%d, tx=%d, limit=%d\\n\",\n\t\t\tdev->name, rx_done, tx_done, limit)",
          "old_line_content": "",
          "new_line_content": "\tDBG(\"%s: stay in polling mode, rx=%d, tx=%d, limit=%d\\n\",",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": null,
          "new_api": "netif_msg_rx_err",
          "old_text": null,
          "new_text": "netif_msg_rx_err(ag)",
          "old_line_content": "",
          "new_line_content": "\tif (netif_msg_rx_err(ag))",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": null,
          "new_api": "pr_info",
          "old_text": null,
          "new_text": "pr_info(\"%s: out of memory\\n\", dev->name)",
          "old_line_content": "static irqreturn_t ag71xx_interrupt(int irq, void *dev_id)",
          "new_line_content": "\t\tpr_info(\"%s: out of memory\\n\", dev->name);",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": null,
          "new_api": "mod_timer",
          "old_text": null,
          "new_text": "mod_timer(&ag->oom_timer, jiffies + AG71XX_OOM_REFILL)",
          "old_line_content": "\tstruct net_device *dev = dev_id;",
          "new_line_content": "\tmod_timer(&ag->oom_timer, jiffies + AG71XX_OOM_REFILL);",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": null,
          "new_api": "netdev_priv",
          "old_text": null,
          "new_text": "netdev_priv(dev)",
          "old_line_content": "\t\treturn IRQ_NONE;",
          "new_line_content": "\tstruct ag71xx *ag = netdev_priv(dev);",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "ag71xx_rr",
          "old_text": null,
          "new_text": "ag71xx_rr(ag, AG71XX_REG_INT_STATUS)",
          "old_line_content": "\t\tif (status & AG71XX_INT_TX_BE) {",
          "new_line_content": "\tstatus = ag71xx_rr(ag, AG71XX_REG_INT_STATUS);",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": null,
          "new_api": "unlikely",
          "old_text": null,
          "new_text": "unlikely(!status)",
          "old_line_content": "\t\t}",
          "new_line_content": "\tif (unlikely(!status))",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": null,
          "new_api": "ag71xx_wr",
          "old_text": null,
          "new_text": "ag71xx_wr(ag, AG71XX_REG_TX_STATUS, TX_STATUS_BE)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tag71xx_wr(ag, AG71XX_REG_TX_STATUS, TX_STATUS_BE);",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": null,
          "new_api": "dev_err",
          "old_text": null,
          "new_text": "dev_err(&dev->dev, \"TX BUS error\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tdev_err(&dev->dev, \"TX BUS error\\n\");",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": null,
          "new_api": "likely",
          "old_text": null,
          "new_text": "likely(status & AG71XX_INT_POLL)",
          "old_line_content": "",
          "new_line_content": "\tif (likely(status & AG71XX_INT_POLL)) {",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": null,
          "new_api": "ag71xx_int_disable",
          "old_text": null,
          "new_text": "ag71xx_int_disable(ag, AG71XX_INT_POLL)",
          "old_line_content": "\treturn IRQ_HANDLED;",
          "new_line_content": "\t\tag71xx_int_disable(ag, AG71XX_INT_POLL);",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": null,
          "new_api": "DBG",
          "old_text": null,
          "new_text": "DBG(\"%s: enable polling mode\\n\", dev->name)",
          "old_line_content": "}",
          "new_line_content": "\t\tDBG(\"%s: enable polling mode\\n\", dev->name);",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": null,
          "new_api": "napi_schedule",
          "old_text": null,
          "new_text": "napi_schedule(&ag->napi)",
          "old_line_content": "",
          "new_line_content": "\t\tnapi_schedule(&ag->napi);",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "ag71xx_debugfs_update_int_stats",
          "old_text": null,
          "new_text": "ag71xx_debugfs_update_int_stats(ag, status)",
          "old_line_content": " * Polling 'interrupt' - used by things like netconsole to send skbs",
          "new_line_content": "\tag71xx_debugfs_update_int_stats(ag, status);",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": null,
          "new_api": "disable_irq",
          "old_text": null,
          "new_text": "disable_irq(dev->irq)",
          "old_line_content": "{",
          "new_line_content": "\tdisable_irq(dev->irq);",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": null,
          "new_api": "enable_irq",
          "old_text": null,
          "new_text": "enable_irq(dev->irq)",
          "old_line_content": "\tunsigned int max_frame_len;",
          "new_line_content": "\tenable_irq(dev->irq);",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": null,
          "new_api": "ag71xx_max_frame_len",
          "old_text": null,
          "new_text": "ag71xx_max_frame_len(new_mtu)",
          "old_line_content": "\tdev->mtu = new_mtu;",
          "new_line_content": "\tmax_frame_len = ag71xx_max_frame_len(new_mtu);",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": null,
          "new_api": "netif_running",
          "old_text": null,
          "new_text": "netif_running(dev)",
          "old_line_content": "static const struct net_device_ops ag71xx_netdev_ops = {",
          "new_line_content": "\tif (netif_running(dev))",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": null,
          "new_api": "dev_err",
          "old_text": null,
          "new_text": "dev_err(&pdev->dev, \"no platform data specified\\n\")",
          "old_line_content": "\t\terr = -EINVAL;",
          "new_line_content": "\t\tdev_err(&pdev->dev, \"no platform data specified\\n\");",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": null,
          "new_api": "alloc_etherdev",
          "old_text": null,
          "new_text": "alloc_etherdev(sizeof(*ag))",
          "old_line_content": "\tif (!pdata->max_frame_len || !pdata->desc_pktlen_mask)",
          "new_line_content": "\tdev = alloc_etherdev(sizeof(*ag));",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "dev_err",
          "old_text": null,
          "new_text": "dev_err(&pdev->dev, \"alloc_etherdev failed\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\tdev_err(&pdev->dev, \"alloc_etherdev failed\\n\");",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": null,
          "new_api": "netif_msg_init",
          "old_text": null,
          "new_text": "netif_msg_init(ag71xx_msg_level,\n\t\t\t\t\tAG71XX_DEFAULT_MSG_ENABLE)",
          "old_line_content": "\t\terr = -ENXIO;",
          "new_line_content": "\tag->msg_enable = netif_msg_init(ag71xx_msg_level,",
          "content_same": false
        },
        {
          "line": 1276,
          "old_api": null,
          "new_api": "spin_lock_init",
          "old_text": null,
          "new_text": "spin_lock_init(&ag->lock)",
          "old_line_content": "\t}",
          "new_line_content": "\tspin_lock_init(&ag->lock);",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": null,
          "new_api": "dev_err",
          "old_text": null,
          "new_text": "dev_err(&pdev->dev, \"unable to ioremap mac_base\\n\")",
          "old_line_content": "\t\t\t  0x0,",
          "new_line_content": "\t\tdev_err(&pdev->dev, \"unable to ioremap mac_base\\n\");",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": null,
          "new_api": "platform_get_irq",
          "old_text": null,
          "new_text": "platform_get_irq(pdev, 0)",
          "old_line_content": "\t}",
          "new_line_content": "\tdev->irq = platform_get_irq(pdev, 0);",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": null,
          "new_api": "request_irq",
          "old_text": null,
          "new_text": "request_irq(dev->irq, ag71xx_interrupt,\n\t\t\t  0x0,\n\t\t\t  dev->name, dev)",
          "old_line_content": "",
          "new_line_content": "\terr = request_irq(dev->irq, ag71xx_interrupt,",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": null,
          "new_api": "dev_err",
          "old_text": null,
          "new_text": "dev_err(&pdev->dev, \"unable to request IRQ %d\\n\", dev->irq)",
          "old_line_content": "",
          "new_line_content": "\t\tdev_err(&pdev->dev, \"unable to request IRQ %d\\n\", dev->irq);",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": null,
          "new_api": "INIT_WORK",
          "old_text": null,
          "new_text": "INIT_WORK(&ag->restart_work, ag71xx_restart_work_func)",
          "old_line_content": "\tag->rx_ring.size = AG71XX_RX_RING_SIZE_DEFAULT;",
          "new_line_content": "\tINIT_WORK(&ag->restart_work, ag71xx_restart_work_func);",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": null,
          "new_api": "init_timer",
          "old_text": null,
          "new_text": "init_timer(&ag->oom_timer)",
          "old_line_content": "\tag->max_frame_len = pdata->max_frame_len;",
          "new_line_content": "\tinit_timer(&ag->oom_timer);",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": null,
          "new_api": "dma_alloc_coherent",
          "old_text": null,
          "new_text": "dma_alloc_coherent(NULL,\n\t\tsizeof(struct ag71xx_desc), &ag->stop_desc_dma, GFP_KERNEL)",
          "old_line_content": "\tag->stop_desc->ctrl = 0;",
          "new_line_content": "\tag->stop_desc = dma_alloc_coherent(NULL,",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(dev->dev_addr, pdata->mac_addr, ETH_ALEN)",
          "old_line_content": "",
          "new_line_content": "\tmemcpy(dev->dev_addr, pdata->mac_addr, ETH_ALEN);",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": null,
          "new_api": "netif_napi_add",
          "old_text": null,
          "new_text": "netif_napi_add(dev, &ag->napi, ag71xx_poll, AG71XX_NAPI_WEIGHT)",
          "old_line_content": "",
          "new_line_content": "\tnetif_napi_add(dev, &ag->napi, ag71xx_poll, AG71XX_NAPI_WEIGHT);",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": null,
          "new_api": "ag71xx_dump_regs",
          "old_text": null,
          "new_text": "ag71xx_dump_regs(ag)",
          "old_line_content": "\tif (err)",
          "new_line_content": "\tag71xx_dump_regs(ag);",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": null,
          "new_api": "ag71xx_hw_init",
          "old_text": null,
          "new_text": "ag71xx_hw_init(ag)",
          "old_line_content": "",
          "new_line_content": "\tag71xx_hw_init(ag);",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "ag71xx_dump_regs",
          "old_text": null,
          "new_text": "ag71xx_dump_regs(ag)",
          "old_line_content": "\tif (err)",
          "new_line_content": "\tag71xx_dump_regs(ag);",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": null,
          "new_api": "ag71xx_phy_connect",
          "old_text": null,
          "new_text": "ag71xx_phy_connect(ag)",
          "old_line_content": "",
          "new_line_content": "\terr = ag71xx_phy_connect(ag);",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": null,
          "new_api": "ag71xx_debugfs_init",
          "old_text": null,
          "new_text": "ag71xx_debugfs_init(ag)",
          "old_line_content": "\tif (err) {",
          "new_line_content": "\terr = ag71xx_debugfs_init(ag);",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": null,
          "new_api": "platform_set_drvdata",
          "old_text": null,
          "new_text": "platform_set_drvdata(pdev, dev)",
          "old_line_content": "",
          "new_line_content": "\tplatform_set_drvdata(pdev, dev);",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "register_netdev",
          "old_text": null,
          "new_text": "register_netdev(dev)",
          "old_line_content": "\t\tdev->name, dev->base_addr, dev->irq,",
          "new_line_content": "\terr = register_netdev(dev);",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": null,
          "new_api": "dev_err",
          "old_text": null,
          "new_text": "dev_err(&pdev->dev, \"unable to register net device\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\tdev_err(&pdev->dev, \"unable to register net device\\n\");",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": null,
          "new_api": "free_irq",
          "old_text": null,
          "new_text": "free_irq(dev->irq, dev)",
          "old_line_content": "\treturn err;",
          "new_line_content": "\tfree_irq(dev->irq, dev);",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": null,
          "new_api": "iounmap",
          "old_text": null,
          "new_text": "iounmap(ag->mac_base)",
          "old_line_content": "",
          "new_line_content": "\tiounmap(ag->mac_base);",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": null,
          "new_api": "kfree",
          "old_text": null,
          "new_text": "kfree(dev)",
          "old_line_content": "{",
          "new_line_content": "\tkfree(dev);",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": null,
          "new_api": "platform_set_drvdata",
          "old_text": null,
          "new_text": "platform_set_drvdata(pdev, NULL)",
          "old_line_content": "",
          "new_line_content": "\tplatform_set_drvdata(pdev, NULL);",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": null,
          "new_api": "ag71xx_debugfs_exit",
          "old_text": null,
          "new_text": "ag71xx_debugfs_exit(ag)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tag71xx_debugfs_exit(ag);",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": null,
          "new_api": "ag71xx_phy_disconnect",
          "old_text": null,
          "new_text": "ag71xx_phy_disconnect(ag)",
          "old_line_content": "",
          "new_line_content": "\t\tag71xx_phy_disconnect(ag);",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": null,
          "new_api": "unregister_netdev",
          "old_text": null,
          "new_text": "unregister_netdev(dev)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\tunregister_netdev(dev);",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": null,
          "new_api": "free_irq",
          "old_text": null,
          "new_text": "free_irq(dev->irq, dev)",
          "old_line_content": "}",
          "new_line_content": "\t\tfree_irq(dev->irq, dev);",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": null,
          "new_api": "iounmap",
          "old_text": null,
          "new_text": "iounmap(ag->mac_base)",
          "old_line_content": "",
          "new_line_content": "\t\tiounmap(ag->mac_base);",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": null,
          "new_api": "kfree",
          "old_text": null,
          "new_text": "kfree(dev)",
          "old_line_content": "static struct platform_driver ag71xx_driver = {",
          "new_line_content": "\t\tkfree(dev);",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": null,
          "new_api": "platform_set_drvdata",
          "old_text": null,
          "new_text": "platform_set_drvdata(pdev, NULL)",
          "old_line_content": "\t.probe\t\t= ag71xx_probe,",
          "new_line_content": "\t\tplatform_set_drvdata(pdev, NULL);",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": null,
          "new_api": "ag71xx_debugfs_root_init",
          "old_text": null,
          "new_text": "ag71xx_debugfs_root_init()",
          "old_line_content": "",
          "new_line_content": "\tret = ag71xx_debugfs_root_init();",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": null,
          "new_api": "ag71xx_mdio_driver_init",
          "old_text": null,
          "new_text": "ag71xx_mdio_driver_init()",
          "old_line_content": "",
          "new_line_content": "\tret = ag71xx_mdio_driver_init();",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": null,
          "new_api": "ag71xx_mdio_driver_exit",
          "old_text": null,
          "new_text": "ag71xx_mdio_driver_exit()",
          "old_line_content": "static void __exit ag71xx_module_exit(void)",
          "new_line_content": "\tag71xx_mdio_driver_exit();",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": null,
          "new_api": "platform_driver_unregister",
          "old_text": null,
          "new_text": "platform_driver_unregister(&ag71xx_driver)",
          "old_line_content": "",
          "new_line_content": "\tplatform_driver_unregister(&ag71xx_driver);",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": null,
          "new_api": "module_exit",
          "old_text": null,
          "new_text": "module_exit(ag71xx_module_exit)",
          "old_line_content": "",
          "new_line_content": "module_exit(ag71xx_module_exit);",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": null,
          "new_api": "MODULE_VERSION",
          "old_text": null,
          "new_text": "MODULE_VERSION(AG71XX_DRV_VERSION)",
          "old_line_content": "",
          "new_line_content": "MODULE_VERSION(AG71XX_DRV_VERSION);",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": null,
          "new_api": "MODULE_AUTHOR",
          "old_text": null,
          "new_text": "MODULE_AUTHOR(\"Gabor Juhos <juhosg@openwrt.org>\")",
          "old_line_content": "",
          "new_line_content": "MODULE_AUTHOR(\"Gabor Juhos <juhosg@openwrt.org>\");",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": null,
          "new_api": "MODULE_AUTHOR",
          "old_text": null,
          "new_text": "MODULE_AUTHOR(\"Imre Kaloz <kaloz@openwrt.org>\")",
          "old_line_content": "",
          "new_line_content": "MODULE_AUTHOR(\"Imre Kaloz <kaloz@openwrt.org>\");",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": null,
          "new_api": "MODULE_LICENSE",
          "old_text": null,
          "new_text": "MODULE_LICENSE(\"GPL v2\")",
          "old_line_content": "",
          "new_line_content": "MODULE_LICENSE(\"GPL v2\");",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": null,
          "new_api": "MODULE_ALIAS",
          "old_text": null,
          "new_text": "MODULE_ALIAS(\"platform:\" AG71XX_DRV_NAME)",
          "old_line_content": "",
          "new_line_content": "MODULE_ALIAS(\"platform:\" AG71XX_DRV_NAME);",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": null,
          "new_api": "DBG",
          "old_text": null,
          "new_text": "DBG(\"%s: rx packets, limit=%d, curr=%u, dirty=%u\\n\",\n\t\t\tdev->name, limit, ring->curr, ring->dirty)",
          "old_line_content": "",
          "new_line_content": "\tDBG(\"%s: rx packets, limit=%d, curr=%u, dirty=%u\\n\",",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": null,
          "new_api": "ag71xx_ring_desc",
          "old_text": null,
          "new_text": "ag71xx_ring_desc(ring, i)",
          "old_line_content": "",
          "new_line_content": "\t\tstruct ag71xx_desc *desc = ag71xx_ring_desc(ring, i);",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": null,
          "new_api": "ag71xx_desc_empty",
          "old_text": null,
          "new_text": "ag71xx_desc_empty(desc)",
          "old_line_content": "\t\tif ((ring->dirty + ring->size) == ring->curr) {",
          "new_line_content": "\t\tif (ag71xx_desc_empty(desc))",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": null,
          "new_api": "ag71xx_assert",
          "old_text": null,
          "new_text": "ag71xx_assert(0)",
          "old_line_content": "",
          "new_line_content": "\t\t\tag71xx_assert(0);",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": null,
          "new_api": "ag71xx_wr",
          "old_text": null,
          "new_text": "ag71xx_wr(ag, AG71XX_REG_RX_STATUS, RX_STATUS_PR)",
          "old_line_content": "\t\tpktlen -= ETH_FCS_LEN;",
          "new_line_content": "\t\tag71xx_wr(ag, AG71XX_REG_RX_STATUS, RX_STATUS_PR);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1029,
          "old_api": "ag71xx_buffer_size",
          "new_api": null,
          "old_text": "ag71xx_buffer_size(ag)",
          "new_text": null,
          "old_line_content": "\t\tskb = build_skb(ring->buf[i].rx_buf, ag71xx_buffer_size(ag));",
          "new_line_content": "\t\tdev->stats.rx_packets++;",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": "skb_free_frag",
          "new_api": null,
          "old_text": "skb_free_frag(ring->buf[i].rx_buf)",
          "new_text": null,
          "old_line_content": "\t\t\tskb_free_frag(ring->buf[i].rx_buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": "skb_reserve",
          "new_api": null,
          "old_text": "skb_reserve(skb, offset)",
          "new_text": null,
          "old_line_content": "\t\tskb_reserve(skb, offset);",
          "new_line_content": "\t\t\tgoto next;",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": "skb_put",
          "new_api": null,
          "old_text": "skb_put(skb, pktlen)",
          "new_text": null,
          "old_line_content": "\t\tskb_put(skb, pktlen);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "kfree_skb",
          "new_api": null,
          "old_text": "kfree_skb(skb)",
          "new_text": null,
          "old_line_content": "\t\t\tkfree_skb(skb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": "eth_type_trans",
          "new_api": null,
          "old_text": "eth_type_trans(skb, dev)",
          "new_text": null,
          "old_line_content": "\t\t\tskb->protocol = eth_type_trans(skb, dev);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": "netif_receive_skb",
          "new_api": null,
          "old_text": "netif_receive_skb(skb)",
          "new_text": null,
          "old_line_content": "\t\t\tnetif_receive_skb(skb);",
          "new_line_content": "\t\t\tskb->dev = dev;",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "ag71xx_ring_rx_refill",
          "new_api": null,
          "old_text": "ag71xx_ring_rx_refill(ag)",
          "new_text": null,
          "old_line_content": "\tag71xx_ring_rx_refill(ag);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "container_of",
          "new_api": null,
          "old_text": "container_of(napi, struct ag71xx, napi)",
          "new_text": null,
          "old_line_content": "\tstruct ag71xx *ag = container_of(napi, struct ag71xx, napi);",
          "new_line_content": "\t\tdev->name, ring->curr, ring->dirty, done);",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "ag71xx_get_pdata",
          "new_api": null,
          "old_text": "ag71xx_get_pdata(ag)",
          "new_text": null,
          "old_line_content": "\tstruct ag71xx_platform_data *pdata = ag71xx_get_pdata(ag);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": "ddr_flush",
          "new_api": null,
          "old_text": "pdata->ddr_flush()",
          "new_text": null,
          "old_line_content": "\tpdata->ddr_flush();",
          "new_line_content": "\tstruct net_device *dev = ag->dev;",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": "ag71xx_tx_packets",
          "new_api": null,
          "old_text": "ag71xx_tx_packets(ag, false)",
          "new_text": null,
          "old_line_content": "\ttx_done = ag71xx_tx_packets(ag, false);",
          "new_line_content": "\tstruct ag71xx_ring *rx_ring;",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "DBG",
          "new_api": null,
          "old_text": "DBG(\"%s: processing RX ring\\n\", dev->name)",
          "new_text": null,
          "old_line_content": "\tDBG(\"%s: processing RX ring\\n\", dev->name);",
          "new_line_content": "\tu32 status;",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": "ag71xx_rx_packets",
          "new_api": null,
          "old_text": "ag71xx_rx_packets(ag, limit)",
          "new_text": null,
          "old_line_content": "\trx_done = ag71xx_rx_packets(ag, limit);",
          "new_line_content": "\tint tx_done;",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": "ag71xx_debugfs_update_napi_stats",
          "new_api": null,
          "old_text": "ag71xx_debugfs_update_napi_stats(ag, rx_done, tx_done)",
          "new_text": null,
          "old_line_content": "\tag71xx_debugfs_update_napi_stats(ag, rx_done, tx_done);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "ag71xx_rr",
          "new_api": null,
          "old_text": "ag71xx_rr(ag, AG71XX_REG_RX_STATUS)",
          "new_text": null,
          "old_line_content": "\tstatus = ag71xx_rr(ag, AG71XX_REG_RX_STATUS);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": "ag71xx_wr",
          "new_api": null,
          "old_text": "ag71xx_wr(ag, AG71XX_REG_RX_STATUS, RX_STATUS_OF)",
          "new_text": null,
          "old_line_content": "\t\tag71xx_wr(ag, AG71XX_REG_RX_STATUS, RX_STATUS_OF);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": "ag71xx_wr",
          "new_api": null,
          "old_text": "ag71xx_wr(ag, AG71XX_REG_RX_CTRL, RX_CTRL_RXE)",
          "new_text": null,
          "old_line_content": "\t\tag71xx_wr(ag, AG71XX_REG_RX_CTRL, RX_CTRL_RXE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": "DBG",
          "new_api": null,
          "old_text": "DBG(\"%s: disable polling mode, rx=%d, tx=%d,limit=%d\\n\",\n\t\t\tdev->name, rx_done, tx_done, limit)",
          "new_text": null,
          "old_line_content": "\t\tDBG(\"%s: disable polling mode, rx=%d, tx=%d,limit=%d\\n\",",
          "new_line_content": "\t\tif (status & RX_STATUS_PR)",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": "spin_lock_irqsave",
          "new_api": null,
          "old_text": "spin_lock_irqsave(&ag->lock, flags)",
          "new_text": null,
          "old_line_content": "\t\tspin_lock_irqsave(&ag->lock, flags);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": "spin_unlock_irqrestore",
          "new_api": null,
          "old_text": "spin_unlock_irqrestore(&ag->lock, flags)",
          "new_text": null,
          "old_line_content": "\t\tspin_unlock_irqrestore(&ag->lock, flags);",
          "new_line_content": "\t\t\tdev->name, rx_done, tx_done, limit);",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": "netif_msg_rx_err",
          "new_api": null,
          "old_text": "netif_msg_rx_err(ag)",
          "new_text": null,
          "old_line_content": "\tif (netif_msg_rx_err(ag))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": "pr_info",
          "new_api": null,
          "old_text": "pr_info(\"%s: out of memory\\n\", dev->name)",
          "new_text": null,
          "old_line_content": "\t\tpr_info(\"%s: out of memory\\n\", dev->name);",
          "new_line_content": "more:",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": "mod_timer",
          "new_api": null,
          "old_text": "mod_timer(&ag->oom_timer, jiffies + AG71XX_OOM_REFILL)",
          "new_text": null,
          "old_line_content": "\tmod_timer(&ag->oom_timer, jiffies + AG71XX_OOM_REFILL);",
          "new_line_content": "\t\t\tdev->name, rx_done, tx_done, limit);",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "napi_complete",
          "new_api": null,
          "old_text": "napi_complete(napi)",
          "new_text": null,
          "old_line_content": "\tnapi_complete(napi);",
          "new_line_content": "\treturn limit;",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": "ag71xx_rr",
          "new_api": null,
          "old_text": "ag71xx_rr(ag, AG71XX_REG_INT_STATUS)",
          "new_text": null,
          "old_line_content": "\tstatus = ag71xx_rr(ag, AG71XX_REG_INT_STATUS);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "ag71xx_dump_intr",
          "new_api": null,
          "old_text": "ag71xx_dump_intr(ag, \"raw\", status)",
          "new_text": null,
          "old_line_content": "\tag71xx_dump_intr(ag, \"raw\", status);",
          "new_line_content": "static irqreturn_t ag71xx_interrupt(int irq, void *dev_id)",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "unlikely",
          "new_api": null,
          "old_text": "unlikely(!status)",
          "new_text": null,
          "old_line_content": "\tif (unlikely(!status))",
          "new_line_content": "\tstruct net_device *dev = dev_id;",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": "unlikely",
          "new_api": null,
          "old_text": "unlikely(status & AG71XX_INT_ERR)",
          "new_text": null,
          "old_line_content": "\tif (unlikely(status & AG71XX_INT_ERR)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "dev_err",
          "new_api": null,
          "old_text": "dev_err(&dev->dev, \"TX BUS error\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tdev_err(&dev->dev, \"TX BUS error\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": "ag71xx_wr",
          "new_api": null,
          "old_text": "ag71xx_wr(ag, AG71XX_REG_RX_STATUS, RX_STATUS_BE)",
          "new_text": null,
          "old_line_content": "\t\t\tag71xx_wr(ag, AG71XX_REG_RX_STATUS, RX_STATUS_BE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": "likely",
          "new_api": null,
          "old_text": "likely(status & AG71XX_INT_POLL)",
          "new_text": null,
          "old_line_content": "\tif (likely(status & AG71XX_INT_POLL)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": "ag71xx_int_disable",
          "new_api": null,
          "old_text": "ag71xx_int_disable(ag, AG71XX_INT_POLL)",
          "new_text": null,
          "old_line_content": "\t\tag71xx_int_disable(ag, AG71XX_INT_POLL);",
          "new_line_content": "\t\tif (status & AG71XX_INT_RX_BE) {",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": "ag71xx_debugfs_update_int_stats",
          "new_api": null,
          "old_text": "ag71xx_debugfs_update_int_stats(ag, status)",
          "new_text": null,
          "old_line_content": "\tag71xx_debugfs_update_int_stats(ag, status);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "disable_irq",
          "new_api": null,
          "old_text": "disable_irq(dev->irq)",
          "new_text": null,
          "old_line_content": "\tdisable_irq(dev->irq);",
          "new_line_content": "/*",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "ag71xx_interrupt",
          "new_api": null,
          "old_text": "ag71xx_interrupt(dev->irq, dev)",
          "new_text": null,
          "old_line_content": "\tag71xx_interrupt(dev->irq, dev);",
          "new_line_content": " * Polling 'interrupt' - used by things like netconsole to send skbs",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": "enable_irq",
          "new_api": null,
          "old_text": "enable_irq(dev->irq)",
          "new_text": null,
          "old_line_content": "\tenable_irq(dev->irq);",
          "new_line_content": " * without having to re-enable interrupts. It's not called while",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "ag71xx_max_frame_len",
          "new_api": null,
          "old_text": "ag71xx_max_frame_len(new_mtu)",
          "new_text": null,
          "old_line_content": "\tmax_frame_len = ag71xx_max_frame_len(new_mtu);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": "dev_err",
          "new_api": null,
          "old_text": "dev_err(&pdev->dev, \"no platform data specified\\n\")",
          "new_text": null,
          "old_line_content": "\t\tdev_err(&pdev->dev, \"no platform data specified\\n\");",
          "new_line_content": "\tstruct resource *res;",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": "dev_err",
          "new_api": null,
          "old_text": "dev_err(&pdev->dev, \"no MII bus device specified\\n\")",
          "new_text": null,
          "old_line_content": "\t\tdev_err(&pdev->dev, \"no MII bus device specified\\n\");",
          "new_line_content": "\tif (!pdata) {",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "alloc_etherdev",
          "new_api": null,
          "old_text": "alloc_etherdev(sizeof(*ag))",
          "new_text": null,
          "old_line_content": "\tdev = alloc_etherdev(sizeof(*ag));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "SET_NETDEV_DEV",
          "new_api": null,
          "old_text": "SET_NETDEV_DEV(dev, &pdev->dev)",
          "new_text": null,
          "old_line_content": "\tSET_NETDEV_DEV(dev, &pdev->dev);",
          "new_line_content": "\t\terr = -ENOMEM;",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": "netdev_priv",
          "new_api": null,
          "old_text": "netdev_priv(dev)",
          "new_text": null,
          "old_line_content": "\tag = netdev_priv(dev);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "netif_msg_init",
          "new_api": null,
          "old_text": "netif_msg_init(ag71xx_msg_level,\n\t\t\t\t\tAG71XX_DEFAULT_MSG_ENABLE)",
          "new_text": null,
          "old_line_content": "\tag->msg_enable = netif_msg_init(ag71xx_msg_level,",
          "new_line_content": "\t\treturn -EINVAL;",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": "dev_err",
          "new_api": null,
          "old_text": "dev_err(&pdev->dev, \"no mac_base resource found\\n\")",
          "new_text": null,
          "old_line_content": "\t\tdev_err(&pdev->dev, \"no mac_base resource found\\n\");",
          "new_line_content": "\tag->dev = dev;",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "request_irq",
          "new_api": null,
          "old_text": "request_irq(dev->irq, ag71xx_interrupt,\n\t\t\t  0x0,\n\t\t\t  dev->name, dev)",
          "new_text": null,
          "old_line_content": "\terr = request_irq(dev->irq, ag71xx_interrupt,",
          "new_line_content": "\tif (!ag->mac_base) {",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": "dev_err",
          "new_api": null,
          "old_text": "dev_err(&pdev->dev, \"unable to request IRQ %d\\n\", dev->irq)",
          "new_text": null,
          "old_line_content": "\t\tdev_err(&pdev->dev, \"unable to request IRQ %d\\n\", dev->irq);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": "INIT_WORK",
          "new_api": null,
          "old_text": "INIT_WORK(&ag->restart_work, ag71xx_restart_work_func)",
          "new_text": null,
          "old_line_content": "\tINIT_WORK(&ag->restart_work, ag71xx_restart_work_func);",
          "new_line_content": "\t\tgoto err_unmap_base;",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": "init_timer",
          "new_api": null,
          "old_text": "init_timer(&ag->oom_timer)",
          "new_text": null,
          "old_line_content": "\tinit_timer(&ag->oom_timer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": "dma_alloc_coherent",
          "new_api": null,
          "old_text": "dma_alloc_coherent(NULL,\n\t\tsizeof(struct ag71xx_desc), &ag->stop_desc_dma, GFP_KERNEL)",
          "new_text": null,
          "old_line_content": "\tag->stop_desc = dma_alloc_coherent(NULL,",
          "new_line_content": "\tag->desc_pktlen_mask = pdata->desc_pktlen_mask;",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(dev->dev_addr, pdata->mac_addr, ETH_ALEN)",
          "new_text": null,
          "old_line_content": "\tmemcpy(dev->dev_addr, pdata->mac_addr, ETH_ALEN);",
          "new_line_content": "\tif (!ag->stop_desc)",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": "netif_napi_add",
          "new_api": null,
          "old_text": "netif_napi_add(dev, &ag->napi, ag71xx_poll, AG71XX_NAPI_WEIGHT)",
          "new_text": null,
          "old_line_content": "\tnetif_napi_add(dev, &ag->napi, ag71xx_poll, AG71XX_NAPI_WEIGHT);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "ag71xx_dump_regs",
          "new_api": null,
          "old_text": "ag71xx_dump_regs(ag)",
          "new_text": null,
          "old_line_content": "\tag71xx_dump_regs(ag);",
          "new_line_content": "\tag->stop_desc->ctrl = 0;",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": "ag71xx_hw_init",
          "new_api": null,
          "old_text": "ag71xx_hw_init(ag)",
          "new_text": null,
          "old_line_content": "\tag71xx_hw_init(ag);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": "ag71xx_dump_regs",
          "new_api": null,
          "old_text": "ag71xx_dump_regs(ag)",
          "new_text": null,
          "old_line_content": "\tag71xx_dump_regs(ag);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": "ag71xx_phy_connect",
          "new_api": null,
          "old_text": "ag71xx_phy_connect(ag)",
          "new_text": null,
          "old_line_content": "\terr = ag71xx_phy_connect(ag);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": "ag71xx_debugfs_init",
          "new_api": null,
          "old_text": "ag71xx_debugfs_init(ag)",
          "new_text": null,
          "old_line_content": "\terr = ag71xx_debugfs_init(ag);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "platform_set_drvdata",
          "new_api": null,
          "old_text": "platform_set_drvdata(pdev, dev)",
          "new_text": null,
          "old_line_content": "\tplatform_set_drvdata(pdev, dev);",
          "new_line_content": "\tif (err)",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": "register_netdev",
          "new_api": null,
          "old_text": "register_netdev(dev)",
          "new_text": null,
          "old_line_content": "\terr = register_netdev(dev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "dev_err",
          "new_api": null,
          "old_text": "dev_err(&pdev->dev, \"unable to register net device\\n\")",
          "new_text": null,
          "old_line_content": "\t\tdev_err(&pdev->dev, \"unable to register net device\\n\");",
          "new_line_content": "\tif (err)",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": "pr_info",
          "new_api": null,
          "old_text": "pr_info(\"%s: Atheros AG71xx at 0x%08lx, irq %d, mode:%s\\n\",\n\t\tdev->name, dev->base_addr, dev->irq,\n\t\tag71xx_get_phy_if_mode_name(pdata->phy_if_mode))",
          "new_text": null,
          "old_line_content": "\tpr_info(\"%s: Atheros AG71xx at 0x%08lx, irq %d, mode:%s\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": "ag71xx_get_phy_if_mode_name",
          "new_api": null,
          "old_text": "ag71xx_get_phy_if_mode_name(pdata->phy_if_mode)",
          "new_text": null,
          "old_line_content": "\t\tag71xx_get_phy_if_mode_name(pdata->phy_if_mode));",
          "new_line_content": "\tif (err) {",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": "dma_free_coherent",
          "new_api": null,
          "old_text": "dma_free_coherent(NULL, sizeof(struct ag71xx_desc), ag->stop_desc,\n\t\t\t  ag->stop_desc_dma)",
          "new_text": null,
          "old_line_content": "\tdma_free_coherent(NULL, sizeof(struct ag71xx_desc), ag->stop_desc,",
          "new_line_content": "\treturn 0;",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": "platform_set_drvdata",
          "new_api": null,
          "old_text": "platform_set_drvdata(pdev, NULL)",
          "new_text": null,
          "old_line_content": "\tplatform_set_drvdata(pdev, NULL);",
          "new_line_content": "err_free_irq:",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": "platform_get_drvdata",
          "new_api": null,
          "old_text": "platform_get_drvdata(pdev)",
          "new_text": null,
          "old_line_content": "\tstruct net_device *dev = platform_get_drvdata(pdev);",
          "new_line_content": "err_out:",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": "netdev_priv",
          "new_api": null,
          "old_text": "netdev_priv(dev)",
          "new_text": null,
          "old_line_content": "\t\tstruct ag71xx *ag = netdev_priv(dev);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": "ag71xx_debugfs_exit",
          "new_api": null,
          "old_text": "ag71xx_debugfs_exit(ag)",
          "new_text": null,
          "old_line_content": "\t\tag71xx_debugfs_exit(ag);",
          "new_line_content": "static int ag71xx_remove(struct platform_device *pdev)",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "ag71xx_phy_disconnect",
          "new_api": null,
          "old_text": "ag71xx_phy_disconnect(ag)",
          "new_text": null,
          "old_line_content": "\t\tag71xx_phy_disconnect(ag);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": "free_irq",
          "new_api": null,
          "old_text": "free_irq(dev->irq, dev)",
          "new_text": null,
          "old_line_content": "\t\tfree_irq(dev->irq, dev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": "iounmap",
          "new_api": null,
          "old_text": "iounmap(ag->mac_base)",
          "new_text": null,
          "old_line_content": "\t\tiounmap(ag->mac_base);",
          "new_line_content": "\tif (dev) {",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "platform_set_drvdata",
          "new_api": null,
          "old_text": "platform_set_drvdata(pdev, NULL)",
          "new_text": null,
          "old_line_content": "\t\tplatform_set_drvdata(pdev, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": "ag71xx_debugfs_root_init",
          "new_api": null,
          "old_text": "ag71xx_debugfs_root_init()",
          "new_text": null,
          "old_line_content": "\tret = ag71xx_debugfs_root_init();",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "ag71xx_mdio_driver_init",
          "new_api": null,
          "old_text": "ag71xx_mdio_driver_init()",
          "new_text": null,
          "old_line_content": "\tret = ag71xx_mdio_driver_init();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": "platform_driver_register",
          "new_api": null,
          "old_text": "platform_driver_register(&ag71xx_driver)",
          "new_text": null,
          "old_line_content": "\tret = platform_driver_register(&ag71xx_driver);",
          "new_line_content": "\tif (ret)",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "ag71xx_debugfs_root_exit",
          "new_api": null,
          "old_text": "ag71xx_debugfs_root_exit()",
          "new_text": null,
          "old_line_content": "\tag71xx_debugfs_root_exit();",
          "new_line_content": "\t\tgoto err_mdio_exit;",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": "ag71xx_mdio_driver_exit",
          "new_api": null,
          "old_text": "ag71xx_mdio_driver_exit()",
          "new_text": null,
          "old_line_content": "\tag71xx_mdio_driver_exit();",
          "new_line_content": "err_out:",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "ag71xx_debugfs_root_exit",
          "new_api": null,
          "old_text": "ag71xx_debugfs_root_exit()",
          "new_text": null,
          "old_line_content": "\tag71xx_debugfs_root_exit();",
          "new_line_content": "\treturn ret;",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": "module_init",
          "new_api": null,
          "old_text": "module_init(ag71xx_module_init)",
          "new_text": null,
          "old_line_content": "module_init(ag71xx_module_init);",
          "new_line_content": "static void __exit ag71xx_module_exit(void)",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "module_exit",
          "new_api": null,
          "old_text": "module_exit(ag71xx_module_exit)",
          "new_text": null,
          "old_line_content": "module_exit(ag71xx_module_exit);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": "MODULE_AUTHOR",
          "new_api": null,
          "old_text": "MODULE_AUTHOR(\"Imre Kaloz <kaloz@openwrt.org>\")",
          "new_text": null,
          "old_line_content": "MODULE_AUTHOR(\"Imre Kaloz <kaloz@openwrt.org>\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "MODULE_LICENSE",
          "new_api": null,
          "old_text": "MODULE_LICENSE(\"GPL v2\")",
          "new_text": null,
          "old_line_content": "MODULE_LICENSE(\"GPL v2\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": "DBG",
          "new_api": null,
          "old_text": "DBG(\"%s: rx packets, limit=%d, curr=%u, dirty=%u\\n\",\n\t\t\tdev->name, limit, ring->curr, ring->dirty)",
          "new_text": null,
          "old_line_content": "\tDBG(\"%s: rx packets, limit=%d, curr=%u, dirty=%u\\n\",",
          "new_line_content": "\tint done = 0;",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": "ag71xx_desc_empty",
          "new_api": null,
          "old_text": "ag71xx_desc_empty(desc)",
          "new_text": null,
          "old_line_content": "\t\tif (ag71xx_desc_empty(desc))",
          "new_line_content": "\t\tint pktlen;",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": "ag71xx_assert",
          "new_api": null,
          "old_text": "ag71xx_assert(0)",
          "new_text": null,
          "old_line_content": "\t\t\tag71xx_assert(0);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": "ag71xx_wr",
          "new_api": null,
          "old_text": "ag71xx_wr(ag, AG71XX_REG_RX_STATUS, RX_STATUS_PR)",
          "new_text": null,
          "old_line_content": "\t\tag71xx_wr(ag, AG71XX_REG_RX_STATUS, RX_STATUS_PR);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "dma_unmap_single",
          "new_api": null,
          "old_text": "dma_unmap_single(&dev->dev, ring->buf[i].dma_addr,\n\t\t\t\t ag->rx_buf_size, DMA_FROM_DEVICE)",
          "new_text": null,
          "old_line_content": "\t\tdma_unmap_single(&dev->dev, ring->buf[i].dma_addr,",
          "new_line_content": "\t\tpktlen = desc->ctrl & pktlen_mask;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 32,
      "total_additions": 89,
      "total_deletions": 86,
      "total_api_changes": 207
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 12,
        "api_related_lines": 207,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          998,
          999,
          1065,
          1066,
          1006
        ]
      }
    },
    "api_calls_before": 376,
    "api_calls_after": 379,
    "diff_info": {
      "added_lines": 10,
      "removed_lines": 3,
      "total_diff_lines": 47
    }
  }
}