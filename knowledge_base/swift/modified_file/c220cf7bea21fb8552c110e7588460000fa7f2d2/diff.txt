diff --git a/lib/SILPasses/ARCAnalysis.cpp b/lib/SILPasses/ARCAnalysis.cpp
index c2538489375..d5cdf3442f1 100644
--- a/lib/SILPasses/ARCAnalysis.cpp
+++ b/lib/SILPasses/ARCAnalysis.cpp
@@ -45,6 +45,22 @@ bool swift::arc::cannotDecrementRefCount(SILInstruction *Inst,
     break;
   }
 
+  if (auto *AI = dyn_cast<ApplyInst>(Inst)) {
+    // Ignore any thick functions for now due to us not handling the ref-counted
+    // nature of its context.
+    if (auto FTy = AI->getCallee().getType().getAs<SILFunctionType>())
+      if (!FTy->isThin())
+        return false;
+
+    // If we have a builtin that is side effect free, we can commute the
+    // ApplyInst and the retain.
+    if (auto *BI = dyn_cast<BuiltinFunctionRefInst>(AI->getCallee()))
+      if (isSideEffectFree(BI))
+        return true;
+
+    return false;
+  }
+
   // Just make sure that we do not have side effects.
   return Inst->getMemoryBehavior() !=
     SILInstruction::MemoryBehavior::MayHaveSideEffects;
