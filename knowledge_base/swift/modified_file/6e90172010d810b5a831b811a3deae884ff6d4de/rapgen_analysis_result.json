{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/6e90172010d810b5a831b811a3deae884ff6d4de",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/6e90172010d810b5a831b811a3deae884ff6d4de/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/6e90172010d810b5a831b811a3deae884ff6d4de/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/6e90172010d810b5a831b811a3deae884ff6d4de/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1136,
          "old_api": "getAssociatedConformance",
          "new_api": "isConcrete",
          "old_text": "InheritedConformance->getAssociatedConformance(assocType, protocol,\n                                                   resolver)",
          "new_text": "underlying.isConcrete()",
          "old_line_content": "    InheritedConformance->getAssociatedConformance(assocType, protocol,",
          "new_line_content": "  if (underlying.isConcrete() &&",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "isConcrete",
          "new_api": "getInheritedConformance",
          "old_text": "underlying.isConcrete()",
          "new_text": "ctx.getInheritedConformance(subclassType,\n                                         underlying.getConcrete())",
          "old_line_content": "  if (underlying.isConcrete() &&",
          "new_line_content": "             ctx.getInheritedConformance(subclassType,",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "getSelfInterfaceType",
          "new_api": "getConcrete",
          "old_text": "getProtocol()->getSelfInterfaceType()",
          "new_text": "underlying.getConcrete()",
          "old_line_content": "      assocType->isEqual(getProtocol()->getSelfInterfaceType())) {",
          "new_line_content": "                                         underlying.getConcrete()));",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "getKind",
          "new_api": "getInheritedConformance",
          "old_text": "C->getKind()",
          "new_text": "cast<InheritedProtocolConformance>(C)\n          ->getInheritedConformance()",
          "old_line_content": "    switch (C->getKind()) {",
          "new_line_content": "      C = cast<InheritedProtocolConformance>(C)",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "getKind",
          "new_api": "const_cast<ProtocolConformance *>(this)",
          "old_text": "getKind()",
          "new_text": "const_cast<ProtocolConformance *>(this)",
          "old_line_content": "  switch (getKind()) {",
          "new_line_content": "      return const_cast<ProtocolConformance *>(this);",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "getType",
          "new_api": "getGenericSignature",
          "old_text": "getType()",
          "new_text": "getGenericSignature()",
          "old_line_content": "    auto origType = getType();",
          "new_line_content": "    auto subMap = SubstitutionMap::get(getGenericSignature(),",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "hasArchetype",
          "new_api": "subst",
          "old_text": "origType->hasArchetype()",
          "new_text": "origType.subst(subMap, options | SubstFlags::UseErrorType)",
          "old_line_content": "        !origType->hasArchetype())",
          "new_line_content": "    auto substType = origType.subst(subMap, options | SubstFlags::UseErrorType);",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "const_cast<ProtocolConformance *>(this)",
          "new_api": "isEqual",
          "old_text": "const_cast<ProtocolConformance *>(this)",
          "new_text": "substType->isEqual(origType)",
          "old_line_content": "      return const_cast<ProtocolConformance *>(this);",
          "new_line_content": "    if (substType->isEqual(origType))",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": "isEqual",
          "new_api": "const_cast<ProtocolConformance *>(this)",
          "old_text": "substType->isEqual(origType)",
          "new_text": "const_cast<ProtocolConformance *>(this)",
          "old_line_content": "    if (substType->isEqual(origType))",
          "new_line_content": "                                   const_cast<ProtocolConformance *>(this),",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": "getInheritedConformance",
          "new_api": "const_cast<ProtocolConformance *>(this)",
          "old_text": "cast<InheritedProtocolConformance>(this)->getInheritedConformance()",
          "new_text": "const_cast<ProtocolConformance *>(this)",
          "old_line_content": "      = cast<InheritedProtocolConformance>(this)->getInheritedConformance();",
          "new_line_content": "      return const_cast<ProtocolConformance *>(this);",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "hasTypeParameter",
          "new_api": "getType",
          "old_text": "origType->hasTypeParameter()",
          "new_text": "inheritedConformance->getType()",
          "old_line_content": "    if (!origType->hasTypeParameter() &&",
          "new_line_content": "    auto origBaseType = inheritedConformance->getType();",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": "hasArchetype",
          "new_api": "hasTypeParameter",
          "old_text": "origType->hasArchetype()",
          "new_text": "origBaseType->hasTypeParameter()",
          "old_line_content": "        !origType->hasArchetype()) {",
          "new_line_content": "    if (origBaseType->hasTypeParameter() ||",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": "const_cast<ProtocolConformance *>(this)",
          "new_api": "hasArchetype",
          "old_text": "const_cast<ProtocolConformance *>(this)",
          "new_text": "origBaseType->hasArchetype()",
          "old_line_content": "      return const_cast<ProtocolConformance *>(this);",
          "new_line_content": "        origBaseType->hasArchetype()) {",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "getInheritedConformance",
          "new_api": "cast<SpecializedProtocolConformance>(this)",
          "old_text": "substType->getASTContext()\n      .getInheritedConformance(substType, inheritedConformance)",
          "new_text": "cast<SpecializedProtocolConformance>(this)",
          "old_line_content": "    return substType->getASTContext()",
          "new_line_content": "    auto spec = cast<SpecializedProtocolConformance>(this);",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": "cast<SpecializedProtocolConformance>(this)",
          "new_api": "subst",
          "old_text": "cast<SpecializedProtocolConformance>(this)",
          "new_text": "origType.subst(subs, conformances,\n                                    options | SubstFlags::UseErrorType)",
          "old_line_content": "    auto spec = cast<SpecializedProtocolConformance>(this);",
          "new_line_content": "    auto substType = origType.subst(subs, conformances,",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "getSubstitutionMap",
          "new_api": "getSpecializedConformance",
          "old_text": "spec->getSubstitutionMap()",
          "new_text": "substType->getASTContext()\n      .getSpecializedConformance(substType, genericConformance,\n                                 subMap.subst(subs, conformances, options))",
          "old_line_content": "    auto subMap = spec->getSubstitutionMap();",
          "new_line_content": "    return substType->getASTContext()",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": "getType",
          "new_api": "subst",
          "old_text": "getType()",
          "new_text": "subMap.subst(subs, conformances, options)",
          "old_line_content": "    auto origType = getType();",
          "new_line_content": "                                 subMap.subst(subs, conformances, options));",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": "getSpecializedConformance",
          "new_api": "llvm_unreachable",
          "old_text": "substType->getASTContext()\n      .getSpecializedConformance(substType, genericConformance,\n                                 subMap.subst(subs, conformances, options))",
          "new_text": "llvm_unreachable(\"bad ProtocolConformanceKind\")",
          "old_line_content": "    return substType->getASTContext()",
          "new_line_content": "  llvm_unreachable(\"bad ProtocolConformanceKind\");",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": "getAttrs",
          "new_api": "dyn_cast<EnumDecl>(mutableThis)",
          "old_text": "getAttrs().getAttributes<SynthesizedProtocolAttr>()",
          "new_text": "dyn_cast<EnumDecl>(mutableThis)",
          "old_line_content": "  for (auto attr : getAttrs().getAttributes<SynthesizedProtocolAttr>()) {",
          "new_line_content": "  if (auto theEnum = dyn_cast<EnumDecl>(mutableThis)) {",
          "content_same": false
        },
        {
          "line": 1301,
          "old_api": "getProtocolKind",
          "new_api": "hasOnlyCasesWithoutAssociatedValues",
          "old_text": "attr->getProtocolKind()",
          "new_text": "theEnum->hasOnlyCasesWithoutAssociatedValues()",
          "old_line_content": "    addSynthesized(attr->getProtocolKind());",
          "new_line_content": "    if (theEnum->hasCases() && theEnum->hasOnlyCasesWithoutAssociatedValues()) {",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": "hasOnlyCasesWithoutAssociatedValues",
          "new_api": "addSynthesized",
          "old_text": "theEnum->hasOnlyCasesWithoutAssociatedValues()",
          "new_text": "addSynthesized(KnownProtocolKind::Hashable)",
          "old_line_content": "    if (theEnum->hasCases() && theEnum->hasOnlyCasesWithoutAssociatedValues()) {",
          "new_line_content": "      addSynthesized(KnownProtocolKind::Hashable);",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": "getImplicitProtocols",
          "new_api": "prepareConformanceTable",
          "old_text": "ConformanceTable->getImplicitProtocols(this, protocols)",
          "new_text": "prepareConformanceTable()",
          "old_line_content": "  ConformanceTable->getImplicitProtocols(this, protocols);",
          "new_line_content": "  prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "getSelfNominalTypeDecl",
          "new_api": "prepareConformanceTable",
          "old_text": "getSelfNominalTypeDecl()",
          "new_text": "nominal->prepareConformanceTable()",
          "old_line_content": "  NominalTypeDecl *nominal = getSelfNominalTypeDecl();",
          "new_line_content": "  nominal->prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "getSelfNominalTypeDecl",
          "new_api": "dyn_cast<ProtocolDecl>(nominal)",
          "old_text": "getSelfNominalTypeDecl()",
          "new_text": "dyn_cast<ProtocolDecl>(nominal)",
          "old_line_content": "  NominalTypeDecl *nominal = getSelfNominalTypeDecl();",
          "new_line_content": "  if (auto protocol = dyn_cast<ProtocolDecl>(nominal)) {",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": "getSelfConformance",
          "new_api": "prepareConformanceTable",
          "old_text": "protocol->getASTContext().getSelfConformance(protocol)",
          "new_text": "nominal->prepareConformanceTable()",
          "old_line_content": "      return { protocol->getASTContext().getSelfConformance(protocol) };",
          "new_line_content": "  nominal->prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": "cast<InheritedProtocolConformance>(this)",
          "new_api": "cast<SpecializedProtocolConformance>(this)",
          "old_text": "cast<InheritedProtocolConformance>(this)",
          "new_text": "cast<SpecializedProtocolConformance>(this)",
          "old_line_content": "      = cast<InheritedProtocolConformance>(this);",
          "new_line_content": "    auto spec = cast<SpecializedProtocolConformance>(this);",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "getInheritedConformance",
          "new_api": "getGenericConformance",
          "old_text": "inheritedConformance->getInheritedConformance()->isCanonical()",
          "new_text": "spec->getGenericConformance()",
          "old_line_content": "    return inheritedConformance->getInheritedConformance()->isCanonical();",
          "new_line_content": "    auto genericConformance = spec->getGenericConformance();",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": "llvm_unreachable",
          "new_api": "isCanonical",
          "old_text": "llvm_unreachable(\"bad ProtocolConformanceKind\")",
          "new_text": "isCanonical()",
          "old_line_content": "  llvm_unreachable(\"bad ProtocolConformanceKind\");",
          "new_line_content": "  if (isCanonical())",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": "getInheritedConformance",
          "new_api": "getASTContext",
          "old_text": "inheritedConformance->getInheritedConformance()\n            ->getCanonicalConformance()",
          "new_text": "getType()->getASTContext()",
          "old_line_content": "        inheritedConformance->getInheritedConformance()",
          "new_line_content": "    auto &Ctx = getType()->getASTContext();",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": "getASTContext",
          "new_api": "getCanonicalType",
          "old_text": "getType()->getASTContext()",
          "new_text": "getType()->getCanonicalType()",
          "old_line_content": "    auto &Ctx = getType()->getASTContext();",
          "new_line_content": "                                getType()->getCanonicalType(),",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": "cast<SpecializedProtocolConformance>(this)",
          "new_api": "getCanonical",
          "old_text": "cast<SpecializedProtocolConformance>(this)",
          "new_text": "spec->getSubstitutionMap().getCanonical()",
          "old_line_content": "    auto spec = cast<SpecializedProtocolConformance>(this);",
          "new_line_content": "                                spec->getSubstitutionMap().getCanonical());",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": "getCanonicalType",
          "new_api": "llvm_unreachable",
          "old_text": "getType()->getCanonicalType()",
          "new_text": "llvm_unreachable(\"bad ProtocolConformanceKind\")",
          "old_line_content": "                                getType()->getCanonicalType(),",
          "new_line_content": "  llvm_unreachable(\"bad ProtocolConformanceKind\");",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": "llvm_unreachable",
          "new_api": "isInvalid",
          "old_text": "llvm_unreachable(\"bad ProtocolConformanceKind\")",
          "new_text": "isInvalid()",
          "old_line_content": "  llvm_unreachable(\"bad ProtocolConformanceKind\");",
          "new_line_content": "  if (isAbstract() || isInvalid())",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": "isCanonical",
          "new_api": "isInvalid",
          "old_text": "getConcrete()->isCanonical()",
          "new_text": "isInvalid()",
          "old_line_content": "  return getConcrete()->isCanonical();",
          "new_line_content": "  if (isAbstract() || isInvalid())",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "static_cast<const ProtocolConformance *>(Entity)",
          "new_api": "print",
          "old_text": "static_cast<const ProtocolConformance *>(Entity)",
          "new_text": "D->getLoc().print(OS, *SM)",
          "old_line_content": "        static_cast<const ProtocolConformance *>(Entity);",
          "new_line_content": "        D->getLoc().print(OS, *SM);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1123,
          "old_api": null,
          "new_api": "ConcreteDeclRef",
          "old_text": null,
          "new_text": "ConcreteDeclRef(witnessDecl, combinedMap)",
          "old_line_content": "",
          "new_line_content": "  return ConcreteDeclRef(witnessDecl, combinedMap);",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": null,
          "new_api": "getAssociatedConformance",
          "old_text": null,
          "new_text": "InheritedConformance->getAssociatedConformance(assocType, protocol,\n                                                   resolver)",
          "old_line_content": "ProtocolConformanceRef",
          "new_line_content": "    InheritedConformance->getAssociatedConformance(assocType, protocol,",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": null,
          "new_api": "getSelfInterfaceType",
          "old_text": null,
          "new_text": "getProtocol()->getSelfInterfaceType()",
          "old_line_content": "                                                   resolver);",
          "new_line_content": "      assocType->isEqual(getProtocol()->getSelfInterfaceType())) {",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "getType()",
          "old_line_content": "",
          "new_line_content": "    auto subclassType = getType();",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "subclassType->getASTContext()",
          "old_line_content": "",
          "new_line_content": "    ASTContext &ctx = subclassType->getASTContext();",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": null,
          "new_api": "getInheritedConformance",
          "old_text": null,
          "new_text": "ProtocolConformanceRef(\n             ctx.getInheritedConformance(subclassType,\n                                         underlying.getConcrete()))",
          "old_line_content": "  // If the conformance is for Self, return an inherited conformance.",
          "new_line_content": "    return ProtocolConformanceRef(",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": null,
          "new_api": "getWitnessDeclRef",
          "old_text": null,
          "new_text": "InheritedConformance->getWitnessDeclRef(requirement, resolver)",
          "old_line_content": "",
          "new_line_content": "  return InheritedConformance->getWitnessDeclRef(requirement, resolver);",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": null,
          "new_api": "getRootConformance",
          "old_text": null,
          "new_text": "getRootConformance()",
          "old_line_content": "}",
          "new_line_content": "  return cast<NormalProtocolConformance>(getRootConformance());",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "C->getKind()",
          "old_line_content": "",
          "new_line_content": "    switch (C->getKind()) {",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "cast<RootProtocolConformance>(C)",
          "old_text": null,
          "new_text": "cast<RootProtocolConformance>(C)",
          "old_line_content": "  const ProtocolConformance *C = this;",
          "new_line_content": "      return cast<RootProtocolConformance>(C);",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": null,
          "new_api": "getGenericConformance",
          "old_text": null,
          "new_text": "cast<SpecializedProtocolConformance>(C)\n        ->getGenericConformance()",
          "old_line_content": "    case ProtocolConformanceKind::Inherited:",
          "new_line_content": "      C = cast<SpecializedProtocolConformance>(C)",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "subst(QuerySubstitutionMap{subMap},\n               LookUpConformanceInSubstitutionMap(subMap))",
          "old_line_content": "  return true;",
          "new_line_content": "  return subst(QuerySubstitutionMap{subMap},",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": null,
          "new_api": "LookUpConformanceInSubstitutionMap",
          "old_text": null,
          "new_text": "LookUpConformanceInSubstitutionMap(subMap)",
          "old_line_content": "}",
          "new_line_content": "               LookUpConformanceInSubstitutionMap(subMap));",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "getKind()",
          "old_line_content": "",
          "new_line_content": "  switch (getKind()) {",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "getType()",
          "old_line_content": "ProtocolConformance::subst(TypeSubstitutionFn subs,",
          "new_line_content": "    auto origType = getType();",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": null,
          "new_api": "hasTypeParameter",
          "old_text": null,
          "new_text": "origType->hasTypeParameter()",
          "old_line_content": "                           LookupConformanceFn conformances,",
          "new_line_content": "    if (!origType->hasTypeParameter() &&",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "hasArchetype",
          "old_text": null,
          "new_text": "origType->hasArchetype()",
          "old_line_content": "                           SubstOptions options) const {",
          "new_line_content": "        !origType->hasArchetype())",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": null,
          "new_api": "const_cast<ProtocolConformance *>(this)",
          "old_text": null,
          "new_text": "const_cast<ProtocolConformance *>(this)",
          "old_line_content": "",
          "new_line_content": "      return const_cast<ProtocolConformance *>(this);",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": null,
          "new_api": "getSpecializedConformance",
          "old_text": null,
          "new_text": "substType->getASTContext()\n        .getSpecializedConformance(substType,\n                                   const_cast<ProtocolConformance *>(this),\n                                   subMap)",
          "old_line_content": "                                       subs, conformances);",
          "new_line_content": "    return substType->getASTContext()",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": null,
          "new_api": "const_cast<ProtocolConformance*>(this)",
          "old_text": null,
          "new_text": "const_cast<ProtocolConformance*>(this)",
          "old_line_content": "        .getSpecializedConformance(substType,",
          "new_line_content": "    return const_cast<ProtocolConformance*>(this);",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": null,
          "new_api": "getInheritedConformance",
          "old_text": null,
          "new_text": "cast<InheritedProtocolConformance>(this)->getInheritedConformance()",
          "old_line_content": "  case ProtocolConformanceKind::Self:",
          "new_line_content": "      = cast<InheritedProtocolConformance>(this)->getInheritedConformance();",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "getType()",
          "old_line_content": "  case ProtocolConformanceKind::Inherited: {",
          "new_line_content": "    auto origType = getType();",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": null,
          "new_api": "hasTypeParameter",
          "old_text": null,
          "new_text": "origType->hasTypeParameter()",
          "old_line_content": "    // Substitute the base.",
          "new_line_content": "    if (!origType->hasTypeParameter() &&",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": null,
          "new_api": "hasArchetype",
          "old_text": null,
          "new_text": "origType->hasArchetype()",
          "old_line_content": "    auto inheritedConformance",
          "new_line_content": "        !origType->hasArchetype()) {",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "inheritedConformance->subst(subs, conformances,\n                                                         options)",
          "old_line_content": "",
          "new_line_content": "      inheritedConformance = inheritedConformance->subst(subs, conformances,",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "origType.subst(subs, conformances,\n                                    options | SubstFlags::UseErrorType)",
          "old_line_content": "      // Substitute into the superclass.",
          "new_line_content": "    auto substType = origType.subst(subs, conformances,",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": null,
          "new_api": "getInheritedConformance",
          "old_text": null,
          "new_text": "substType->getASTContext()\n      .getInheritedConformance(substType, inheritedConformance)",
          "old_line_content": "                                                         options);",
          "new_line_content": "    return substType->getASTContext()",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": null,
          "new_api": "getGenericConformance",
          "old_text": null,
          "new_text": "spec->getGenericConformance()",
          "old_line_content": "      .getInheritedConformance(substType, inheritedConformance);",
          "new_line_content": "    auto genericConformance = spec->getGenericConformance();",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": null,
          "new_api": "getSubstitutionMap",
          "old_text": null,
          "new_text": "spec->getSubstitutionMap()",
          "old_line_content": "  }",
          "new_line_content": "    auto subMap = spec->getSubstitutionMap();",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "getType()",
          "old_line_content": "    // Substitute the substitutions in the specialized conformance.",
          "new_line_content": "    auto origType = getType();",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": null,
          "new_api": "getSelfInterfaceType",
          "old_text": null,
          "new_text": "getProtocol()->getSelfInterfaceType()",
          "old_line_content": "}",
          "new_line_content": "    getAssociatedConformance(getProtocol()->getSelfInterfaceType(), protocol);",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "getConcrete",
          "old_text": null,
          "new_text": "result.getConcrete()",
          "old_line_content": "",
          "new_line_content": "  return result.isConcrete() ? result.getConcrete() : nullptr;",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": null,
          "new_api": "const_cast<NominalTypeDecl *>(this)",
          "old_text": null,
          "new_text": "const_cast<NominalTypeDecl *>(this)",
          "old_line_content": "#pragma mark Protocol conformance lookup",
          "new_line_content": "  auto mutableThis = const_cast<NominalTypeDecl *>(this);",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "getASTContext()",
          "old_line_content": "void NominalTypeDecl::prepareConformanceTable() const {",
          "new_line_content": "  ASTContext &ctx = getASTContext();",
          "content_same": false
        },
        {
          "line": 1276,
          "old_api": null,
          "new_api": "getModuleScopeContext",
          "old_text": null,
          "new_text": "getModuleScopeContext()",
          "old_line_content": "  ConformanceTable = new (ctx) ConformanceLookupTable(ctx);",
          "new_line_content": "  auto *file = cast<FileUnit>(getModuleScopeContext());",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "file->getKind()",
          "old_line_content": "  ++NumConformanceLookupTables;",
          "new_line_content": "  if (file->getKind() != FileUnitKind::Source &&",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "file->getKind()",
          "old_line_content": "",
          "new_line_content": "      file->getKind() != FileUnitKind::ClangModule &&",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "file->getKind()",
          "old_line_content": "  // If this type declaration was not parsed from source code or introduced",
          "new_line_content": "      file->getKind() != FileUnitKind::DWARFModule) {",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": null,
          "new_api": "getProtocol",
          "old_text": null,
          "new_text": "getASTContext().getProtocol(kind)",
          "old_line_content": "  }",
          "new_line_content": "    if (auto *proto = getASTContext().getProtocol(kind)) {",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "protocols.count(proto)",
          "old_line_content": "",
          "new_line_content": "      if (protocols.count(proto) == 0) {",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": null,
          "new_api": "addSynthesizedConformance",
          "old_text": null,
          "new_text": "ConformanceTable->addSynthesizedConformance(mutableThis, proto)",
          "old_line_content": "  SmallPtrSet<ProtocolDecl *, 2> protocols;",
          "new_line_content": "        ConformanceTable->addSynthesizedConformance(mutableThis, proto);",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "protocols.insert(proto)",
          "old_line_content": "",
          "new_line_content": "        protocols.insert(proto);",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": null,
          "new_api": "getAttrs",
          "old_text": null,
          "new_text": "getAttrs().getAttributes<SynthesizedProtocolAttr>()",
          "old_line_content": "      }",
          "new_line_content": "  for (auto attr : getAttrs().getAttributes<SynthesizedProtocolAttr>()) {",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": null,
          "new_api": "getProtocolKind",
          "old_text": null,
          "new_text": "attr->getProtocolKind()",
          "old_line_content": "    }",
          "new_line_content": "    addSynthesized(attr->getProtocolKind());",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": null,
          "new_api": "addSynthesized",
          "old_text": null,
          "new_text": "addSynthesized(KnownProtocolKind::Equatable)",
          "old_line_content": "",
          "new_line_content": "      addSynthesized(KnownProtocolKind::Equatable);",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": null,
          "new_api": "getRawType",
          "old_text": null,
          "new_text": "theEnum->getRawType()->hasError()",
          "old_line_content": "      // Simple enumerations conform to Hashable.",
          "new_line_content": "    if (theEnum->hasRawType() && !theEnum->getRawType()->hasError()) {",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": null,
          "new_api": "prepareConformanceTable",
          "old_text": null,
          "new_text": "prepareConformanceTable()",
          "old_line_content": "}",
          "new_line_content": "  prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": null,
          "new_api": "lookupConformance",
          "old_text": null,
          "new_text": "ConformanceTable->lookupConformance(\n           module,\n           const_cast<NominalTypeDecl *>(this),\n           protocol,\n           conformances)",
          "old_line_content": "",
          "new_line_content": "  return ConformanceTable->lookupConformance(",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": null,
          "new_api": "const_cast<NominalTypeDecl *>(this)",
          "old_text": null,
          "new_text": "const_cast<NominalTypeDecl *>(this)",
          "old_line_content": "       ModuleDecl *module, ProtocolDecl *protocol,",
          "new_line_content": "           const_cast<NominalTypeDecl *>(this),",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": null,
          "new_api": "prepareConformanceTable",
          "old_text": null,
          "new_text": "prepareConformanceTable()",
          "old_line_content": "           protocol,",
          "new_line_content": "  prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": null,
          "new_api": "const_cast<NominalTypeDecl *>(this)",
          "old_text": null,
          "new_text": "const_cast<NominalTypeDecl *>(this)",
          "old_line_content": "}",
          "new_line_content": "  ConformanceTable->getAllProtocols(const_cast<NominalTypeDecl *>(this),",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": null,
          "new_api": "prepareConformanceTable",
          "old_text": null,
          "new_text": "prepareConformanceTable()",
          "old_line_content": "}",
          "new_line_content": "  prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "const_cast<NominalTypeDecl *>(this)",
          "old_text": null,
          "new_text": "const_cast<NominalTypeDecl *>(this)",
          "old_line_content": "SmallVector<ProtocolConformance *, 2> NominalTypeDecl::getAllConformances(",
          "new_line_content": "  ConformanceTable->getAllConformances(const_cast<NominalTypeDecl *>(this),",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": null,
          "new_api": "prepareConformanceTable",
          "old_text": null,
          "new_text": "prepareConformanceTable()",
          "old_line_content": "  return result;",
          "new_line_content": "  prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": null,
          "new_api": "getImplicitProtocols",
          "old_text": null,
          "new_text": "ConformanceTable->getImplicitProtocols(this, protocols)",
          "old_line_content": "}",
          "new_line_content": "  ConformanceTable->getImplicitProtocols(this, protocols);",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": null,
          "new_api": "registerProtocolConformance",
          "old_text": null,
          "new_text": "ConformanceTable->registerProtocolConformance(conformance)",
          "old_line_content": "}",
          "new_line_content": "  ConformanceTable->registerProtocolConformance(conformance);",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": null,
          "new_api": "getDeclContext",
          "old_text": null,
          "new_text": "member->getDeclContext()->getSelfNominalTypeDecl()",
          "old_line_content": "",
          "new_line_content": "  assert(member->getDeclContext()->getSelfNominalTypeDecl() == this);",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": null,
          "new_api": "isa<ProtocolDecl>(this)",
          "old_text": null,
          "new_text": "isa<ProtocolDecl>(this)",
          "old_line_content": "ArrayRef<ValueDecl *>",
          "new_line_content": "  assert(!isa<ProtocolDecl>(this));",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": null,
          "new_api": "prepareConformanceTable",
          "old_text": null,
          "new_text": "prepareConformanceTable()",
          "old_line_content": "NominalTypeDecl::getSatisfiedProtocolRequirementsForMember(",
          "new_line_content": "  prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": null,
          "new_api": "getSatisfiedProtocolRequirementsForMember",
          "old_text": null,
          "new_text": "ConformanceTable->getSatisfiedProtocolRequirementsForMember(member,\n                                           const_cast<NominalTypeDecl *>(this),\n                                           sorted)",
          "old_line_content": "                                             const ValueDecl *member,",
          "new_line_content": "  return ConformanceTable->getSatisfiedProtocolRequirementsForMember(member,",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "const_cast<NominalTypeDecl *>(this)",
          "old_text": null,
          "new_text": "const_cast<NominalTypeDecl *>(this)",
          "old_line_content": "                                             bool sorted) const {",
          "new_line_content": "                                           const_cast<NominalTypeDecl *>(this),",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": null,
          "new_api": "getSelfNominalTypeDecl",
          "old_text": null,
          "new_text": "getSelfNominalTypeDecl()",
          "old_line_content": "  SmallVectorImpl<ConformanceDiagnostic> *diagnostics) const",
          "new_line_content": "  NominalTypeDecl *nominal = getSelfNominalTypeDecl();",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": null,
          "new_api": "lookupConformances",
          "old_text": null,
          "new_text": "nominal->ConformanceTable->lookupConformances(\n    nominal,\n    const_cast<DeclContext *>(this),\n    lookupKind,\n    &result,\n    nullptr,\n    diagnostics)",
          "old_line_content": "  if (!nominal)",
          "new_line_content": "  nominal->ConformanceTable->lookupConformances(",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": null,
          "new_api": "const_cast<DeclContext *>(this)",
          "old_text": null,
          "new_text": "const_cast<DeclContext *>(this)",
          "old_line_content": "",
          "new_line_content": "    const_cast<DeclContext *>(this),",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "getSelfNominalTypeDecl",
          "old_text": null,
          "new_text": "getSelfNominalTypeDecl()",
          "old_line_content": "  SmallVectorImpl<ConformanceDiagnostic> *diagnostics) const",
          "new_line_content": "  NominalTypeDecl *nominal = getSelfNominalTypeDecl();",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": null,
          "new_api": "requiresSelfConformanceWitnessTable",
          "old_text": null,
          "new_text": "protocol->requiresSelfConformanceWitnessTable()",
          "old_line_content": "  if (!nominal)",
          "new_line_content": "    if (protocol->requiresSelfConformanceWitnessTable())",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": null,
          "new_api": "getSelfConformance",
          "old_text": null,
          "new_text": "protocol->getASTContext().getSelfConformance(protocol)",
          "old_line_content": "    return result;",
          "new_line_content": "      return { protocol->getASTContext().getSelfConformance(protocol) };",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "lookupConformances",
          "old_text": null,
          "new_text": "nominal->ConformanceTable->lookupConformances(\n    nominal,\n    const_cast<DeclContext *>(this),\n    lookupKind,\n    nullptr,\n    &result,\n    diagnostics)",
          "old_line_content": "    return { };",
          "new_line_content": "  nominal->ConformanceTable->lookupConformances(",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": null,
          "new_api": "const_cast<DeclContext *>(this)",
          "old_text": null,
          "new_text": "const_cast<DeclContext *>(this)",
          "old_line_content": "",
          "new_line_content": "    const_cast<DeclContext *>(this),",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "getKind()",
          "old_line_content": "}",
          "new_line_content": "  if (getKind() == ProtocolConformanceKind::Normal)",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": null,
          "new_api": "isCanonical",
          "old_text": null,
          "new_text": "getType()->isCanonical()",
          "old_line_content": "bool ProtocolConformance::isCanonical() const {",
          "new_line_content": "  if (!getType()->isCanonical())",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "getKind()",
          "old_line_content": "    return true;",
          "new_line_content": "  switch (getKind()) {",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": null,
          "new_api": "cast<InheritedProtocolConformance>(this)",
          "old_text": null,
          "new_text": "cast<InheritedProtocolConformance>(this)",
          "old_line_content": "    return true;",
          "new_line_content": "      = cast<InheritedProtocolConformance>(this);",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": null,
          "new_api": "getInheritedConformance",
          "old_text": null,
          "new_text": "inheritedConformance->getInheritedConformance()->isCanonical()",
          "old_line_content": "  }",
          "new_line_content": "    return inheritedConformance->getInheritedConformance()->isCanonical();",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": null,
          "new_api": "isCanonical",
          "old_text": null,
          "new_text": "genericConformance->isCanonical()",
          "old_line_content": "  }",
          "new_line_content": "    if (!genericConformance->isCanonical())",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": null,
          "new_api": "isCanonical",
          "old_text": null,
          "new_text": "spec->getSubstitutionMap().isCanonical()",
          "old_line_content": "    // Substitute the substitutions in the specialized conformance.",
          "new_line_content": "    if (!spec->getSubstitutionMap().isCanonical()) return false;",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"bad ProtocolConformanceKind\")",
          "old_line_content": "      return false;",
          "new_line_content": "  llvm_unreachable(\"bad ProtocolConformanceKind\");",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "getKind()",
          "old_line_content": "/// Check of all types used by the conformance are canonical.",
          "new_line_content": "  switch (getKind()) {",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "getType()->getASTContext()",
          "old_line_content": "    // Root conformances are always canonical by construction.",
          "new_line_content": "    auto &Ctx = getType()->getASTContext();",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": null,
          "new_api": "cast<InheritedProtocolConformance>(this)",
          "old_text": null,
          "new_text": "cast<InheritedProtocolConformance>(this)",
          "old_line_content": "    return this;",
          "new_line_content": "    auto inheritedConformance = cast<InheritedProtocolConformance>(this);",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": null,
          "new_api": "getInheritedConformance",
          "old_text": null,
          "new_text": "Ctx.getInheritedConformance(\n        getType()->getCanonicalType(),\n        inheritedConformance->getInheritedConformance()\n            ->getCanonicalConformance())",
          "old_line_content": "  }",
          "new_line_content": "    return Ctx.getInheritedConformance(",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": null,
          "new_api": "getCanonicalType",
          "old_text": null,
          "new_text": "getType()->getCanonicalType()",
          "old_line_content": "",
          "new_line_content": "        getType()->getCanonicalType(),",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": null,
          "new_api": "getInheritedConformance",
          "old_text": null,
          "new_text": "inheritedConformance->getInheritedConformance()\n            ->getCanonicalConformance()",
          "old_line_content": "  case ProtocolConformanceKind::Inherited: {",
          "new_line_content": "        inheritedConformance->getInheritedConformance()",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": null,
          "new_api": "cast<SpecializedProtocolConformance>(this)",
          "old_text": null,
          "new_text": "cast<SpecializedProtocolConformance>(this)",
          "old_line_content": "  }",
          "new_line_content": "    auto spec = cast<SpecializedProtocolConformance>(this);",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": null,
          "new_api": "getGenericConformance",
          "old_text": null,
          "new_text": "spec->getGenericConformance()",
          "old_line_content": "",
          "new_line_content": "    auto genericConformance = spec->getGenericConformance();",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": null,
          "new_api": "getSpecializedConformance",
          "old_text": null,
          "new_text": "Ctx.getSpecializedConformance(\n                                getType()->getCanonicalType(),\n                                genericConformance->getCanonicalConformance(),\n                                spec->getSubstitutionMap().getCanonical())",
          "old_line_content": "  case ProtocolConformanceKind::Specialized: {",
          "new_line_content": "    return Ctx.getSpecializedConformance(",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": null,
          "new_api": "getCanonicalConformance",
          "old_text": null,
          "new_text": "genericConformance->getCanonicalConformance()",
          "old_line_content": "    // Substitute the substitutions in the specialized conformance.",
          "new_line_content": "                                genericConformance->getCanonicalConformance(),",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": null,
          "new_api": "isCanonical",
          "old_text": null,
          "new_text": "getConcrete()->isCanonical()",
          "old_line_content": "",
          "new_line_content": "  return getConcrete()->isCanonical();",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": null,
          "new_api": "getCanonicalConformance",
          "old_text": null,
          "new_text": "getConcrete()->getCanonicalConformance()",
          "old_line_content": "",
          "new_line_content": "  return ProtocolConformanceRef(getConcrete()->getCanonicalConformance());",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": null,
          "new_api": "static_cast<const ProtocolConformance *>(Entity)",
          "old_text": null,
          "new_text": "static_cast<const ProtocolConformance *>(Entity)",
          "old_line_content": "    : public UnifiedStatsReporter::TraceFormatter {",
          "new_line_content": "        static_cast<const ProtocolConformance *>(Entity);",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": null,
          "new_api": "printName",
          "old_text": null,
          "new_text": "C->printName(OS)",
          "old_line_content": "  void traceName(const void *Entity, raw_ostream &OS) const {",
          "new_line_content": "    C->printName(OS);",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": null,
          "new_api": "static_cast<const ProtocolConformance *>(Entity)",
          "old_text": null,
          "new_text": "static_cast<const ProtocolConformance *>(Entity)",
          "old_line_content": "  void traceLoc(const void *Entity, SourceManager *SM,",
          "new_line_content": "        static_cast<const ProtocolConformance *>(Entity);",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": null,
          "new_api": "dyn_cast<NormalProtocolConformance>(C)",
          "old_text": null,
          "new_text": "dyn_cast<NormalProtocolConformance>(C)",
          "old_line_content": "                clang::SourceManager *CSM, raw_ostream &OS) const {",
          "new_line_content": "    if (auto const *NPC = dyn_cast<NormalProtocolConformance>(C)) {",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": null,
          "new_api": "print",
          "old_text": null,
          "new_text": "NPC->getLoc().print(OS, *SM)",
          "old_line_content": "    if (!Entity)",
          "new_line_content": "      NPC->getLoc().print(OS, *SM);",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": null,
          "new_api": "getDeclContext",
          "old_text": null,
          "new_text": "C->getDeclContext()",
          "old_line_content": "      return;",
          "new_line_content": "    } else if (auto const *DC = C->getDeclContext()) {",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": null,
          "new_api": "getAsDecl",
          "old_text": null,
          "new_text": "DC->getAsDecl()",
          "old_line_content": "    const ProtocolConformance *C =",
          "new_line_content": "      if (auto const *D = DC->getAsDecl())",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1536,
          "old_api": "getAsDecl",
          "new_api": null,
          "old_text": "DC->getAsDecl()",
          "new_text": null,
          "old_line_content": "      if (auto const *D = DC->getAsDecl())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1537,
          "old_api": "print",
          "new_api": null,
          "old_text": "D->getLoc().print(OS, *SM)",
          "new_text": null,
          "old_line_content": "        D->getLoc().print(OS, *SM);",
          "new_line_content": "static ProtocolConformanceTraceFormatter TF;",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": "getSubstitutions",
          "new_api": null,
          "old_text": "baseWitness.getSubstitutions()",
          "new_text": null,
          "old_line_content": "  if (combinedMap == baseWitness.getSubstitutions())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "ConcreteDeclRef",
          "new_api": null,
          "old_text": "ConcreteDeclRef(witnessDecl, combinedMap)",
          "new_text": null,
          "old_line_content": "  return ConcreteDeclRef(witnessDecl, combinedMap);",
          "new_line_content": "                         ProtocolDecl *protocol,",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "getType",
          "new_api": null,
          "old_text": "getType()",
          "new_text": null,
          "old_line_content": "    auto subclassType = getType();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "subclassType->getASTContext()",
          "new_text": null,
          "old_line_content": "    ASTContext &ctx = subclassType->getASTContext();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "getInheritedConformance",
          "new_api": null,
          "old_text": "ProtocolConformanceRef(\n             ctx.getInheritedConformance(subclassType,\n                                         underlying.getConcrete()))",
          "new_text": null,
          "old_line_content": "    return ProtocolConformanceRef(",
          "new_line_content": "  return underlying;",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "getInheritedConformance",
          "new_api": null,
          "old_text": "ctx.getInheritedConformance(subclassType,\n                                         underlying.getConcrete())",
          "new_text": null,
          "old_line_content": "             ctx.getInheritedConformance(subclassType,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "getConcrete",
          "new_api": null,
          "old_text": "underlying.getConcrete()",
          "new_text": null,
          "old_line_content": "                                         underlying.getConcrete()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": "getWitnessDeclRef",
          "new_api": null,
          "old_text": "InheritedConformance->getWitnessDeclRef(requirement, resolver)",
          "new_text": null,
          "old_line_content": "  return InheritedConformance->getWitnessDeclRef(requirement, resolver);",
          "new_line_content": "  // This is an unsafe cast; remove this entire method.",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": "getRootConformance",
          "new_api": null,
          "old_text": "getRootConformance()",
          "new_text": null,
          "old_line_content": "  return cast<NormalProtocolConformance>(getRootConformance());",
          "new_line_content": "  const ProtocolConformance *C = this;",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": "cast<RootProtocolConformance>(C)",
          "new_api": null,
          "old_text": "cast<RootProtocolConformance>(C)",
          "new_text": null,
          "old_line_content": "      return cast<RootProtocolConformance>(C);",
          "new_line_content": "    case ProtocolConformanceKind::Specialized:",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "getInheritedConformance",
          "new_api": null,
          "old_text": "cast<InheritedProtocolConformance>(C)\n          ->getInheritedConformance()",
          "new_text": null,
          "old_line_content": "      C = cast<InheritedProtocolConformance>(C)",
          "new_line_content": "        ->getGenericConformance();",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "getGenericConformance",
          "new_api": null,
          "old_text": "cast<SpecializedProtocolConformance>(C)\n        ->getGenericConformance()",
          "new_text": null,
          "old_line_content": "      C = cast<SpecializedProtocolConformance>(C)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "subst",
          "new_api": null,
          "old_text": "subst(QuerySubstitutionMap{subMap},\n               LookUpConformanceInSubstitutionMap(subMap))",
          "new_text": null,
          "old_line_content": "  return subst(QuerySubstitutionMap{subMap},",
          "new_line_content": "ProtocolConformance::subst(TypeSubstitutionFn subs,",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": "LookUpConformanceInSubstitutionMap",
          "new_api": null,
          "old_text": "LookUpConformanceInSubstitutionMap(subMap)",
          "new_text": null,
          "old_line_content": "               LookUpConformanceInSubstitutionMap(subMap));",
          "new_line_content": "                           LookupConformanceFn conformances,",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": "hasTypeParameter",
          "new_api": null,
          "old_text": "origType->hasTypeParameter()",
          "new_text": null,
          "old_line_content": "    if (!origType->hasTypeParameter() &&",
          "new_line_content": "                                       subs, conformances);",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": "getGenericSignature",
          "new_api": null,
          "old_text": "getGenericSignature()",
          "new_text": null,
          "old_line_content": "    auto subMap = SubstitutionMap::get(getGenericSignature(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": "subst",
          "new_api": null,
          "old_text": "origType.subst(subMap, options | SubstFlags::UseErrorType)",
          "new_text": null,
          "old_line_content": "    auto substType = origType.subst(subMap, options | SubstFlags::UseErrorType);",
          "new_line_content": "        .getSpecializedConformance(substType,",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": "const_cast<ProtocolConformance *>(this)",
          "new_api": null,
          "old_text": "const_cast<ProtocolConformance *>(this)",
          "new_text": null,
          "old_line_content": "      return const_cast<ProtocolConformance *>(this);",
          "new_line_content": "                                   subMap);",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": "getSpecializedConformance",
          "new_api": null,
          "old_text": "substType->getASTContext()\n        .getSpecializedConformance(substType,\n                                   const_cast<ProtocolConformance *>(this),\n                                   subMap)",
          "new_text": null,
          "old_line_content": "    return substType->getASTContext()",
          "new_line_content": "  case ProtocolConformanceKind::Self:",
          "content_same": false
        },
        {
          "line": 1216,
          "old_api": "const_cast<ProtocolConformance *>(this)",
          "new_api": null,
          "old_text": "const_cast<ProtocolConformance *>(this)",
          "new_text": null,
          "old_line_content": "                                   const_cast<ProtocolConformance *>(this),",
          "new_line_content": "  case ProtocolConformanceKind::Inherited: {",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": "const_cast<ProtocolConformance*>(this)",
          "new_api": null,
          "old_text": "const_cast<ProtocolConformance*>(this)",
          "new_text": null,
          "old_line_content": "    return const_cast<ProtocolConformance*>(this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": "getType",
          "new_api": null,
          "old_text": "getType()",
          "new_text": null,
          "old_line_content": "    auto origType = getType();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": "getType",
          "new_api": null,
          "old_text": "inheritedConformance->getType()",
          "new_text": null,
          "old_line_content": "    auto origBaseType = inheritedConformance->getType();",
          "new_line_content": "                                                         options);",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": "hasTypeParameter",
          "new_api": null,
          "old_text": "origBaseType->hasTypeParameter()",
          "new_text": null,
          "old_line_content": "    if (origBaseType->hasTypeParameter() ||",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": "hasArchetype",
          "new_api": null,
          "old_text": "origBaseType->hasArchetype()",
          "new_text": null,
          "old_line_content": "        origBaseType->hasArchetype()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": "subst",
          "new_api": null,
          "old_text": "inheritedConformance->subst(subs, conformances,\n                                                         options)",
          "new_text": null,
          "old_line_content": "      inheritedConformance = inheritedConformance->subst(subs, conformances,",
          "new_line_content": "                                    options | SubstFlags::UseErrorType);",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "subst",
          "new_api": null,
          "old_text": "origType.subst(subs, conformances,\n                                    options | SubstFlags::UseErrorType)",
          "new_text": null,
          "old_line_content": "    auto substType = origType.subst(subs, conformances,",
          "new_line_content": "  case ProtocolConformanceKind::Specialized: {",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": "getGenericConformance",
          "new_api": null,
          "old_text": "spec->getGenericConformance()",
          "new_text": null,
          "old_line_content": "    auto genericConformance = spec->getGenericConformance();",
          "new_line_content": "                                    options | SubstFlags::UseErrorType);",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "subst",
          "new_api": null,
          "old_text": "origType.subst(subs, conformances,\n                                    options | SubstFlags::UseErrorType)",
          "new_text": null,
          "old_line_content": "    auto substType = origType.subst(subs, conformances,",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": "subst",
          "new_api": null,
          "old_text": "subMap.subst(subs, conformances, options)",
          "new_text": null,
          "old_line_content": "                                 subMap.subst(subs, conformances, options));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"bad ProtocolConformanceKind\")",
          "new_text": null,
          "old_line_content": "  llvm_unreachable(\"bad ProtocolConformanceKind\");",
          "new_line_content": "  auto result =",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": "getSelfInterfaceType",
          "new_api": null,
          "old_text": "getProtocol()->getSelfInterfaceType()",
          "new_text": null,
          "old_line_content": "    getAssociatedConformance(getProtocol()->getSelfInterfaceType(), protocol);",
          "new_line_content": "void NominalTypeDecl::prepareConformanceTable() const {",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": "getConcrete",
          "new_api": null,
          "old_text": "result.getConcrete()",
          "new_text": null,
          "old_line_content": "  return result.isConcrete() ? result.getConcrete() : nullptr;",
          "new_line_content": "  if (ConformanceTable)",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": "const_cast<NominalTypeDecl *>(this)",
          "new_api": null,
          "old_text": "const_cast<NominalTypeDecl *>(this)",
          "new_text": null,
          "old_line_content": "  auto mutableThis = const_cast<NominalTypeDecl *>(this);",
          "new_line_content": "  // If this type declaration was not parsed from source code or introduced",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "getASTContext()",
          "new_text": null,
          "old_line_content": "  ASTContext &ctx = getASTContext();",
          "new_line_content": "  // via the Clang importer, don't add any synthesized conformances.",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": "getModuleScopeContext",
          "new_api": null,
          "old_text": "getModuleScopeContext()",
          "new_text": null,
          "old_line_content": "  auto *file = cast<FileUnit>(getModuleScopeContext());",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "file->getKind()",
          "new_text": null,
          "old_line_content": "  if (file->getKind() != FileUnitKind::Source &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1283,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "file->getKind()",
          "new_text": null,
          "old_line_content": "      file->getKind() != FileUnitKind::ClangModule &&",
          "new_line_content": "  SmallPtrSet<ProtocolDecl *, 2> protocols;",
          "content_same": false
        },
        {
          "line": 1284,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "file->getKind()",
          "new_text": null,
          "old_line_content": "      file->getKind() != FileUnitKind::DWARFModule) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": "getProtocol",
          "new_api": null,
          "old_text": "getASTContext().getProtocol(kind)",
          "new_text": null,
          "old_line_content": "    if (auto *proto = getASTContext().getProtocol(kind)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": "count",
          "new_api": null,
          "old_text": "protocols.count(proto)",
          "new_text": null,
          "old_line_content": "      if (protocols.count(proto) == 0) {",
          "new_line_content": "  };",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": "addSynthesizedConformance",
          "new_api": null,
          "old_text": "ConformanceTable->addSynthesizedConformance(mutableThis, proto)",
          "new_text": null,
          "old_line_content": "        ConformanceTable->addSynthesizedConformance(mutableThis, proto);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": "insert",
          "new_api": null,
          "old_text": "protocols.insert(proto)",
          "new_text": null,
          "old_line_content": "        protocols.insert(proto);",
          "new_line_content": "  // Add protocols for any synthesized protocol attributes.",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": "dyn_cast<EnumDecl>(mutableThis)",
          "new_api": null,
          "old_text": "dyn_cast<EnumDecl>(mutableThis)",
          "new_text": null,
          "old_line_content": "  if (auto theEnum = dyn_cast<EnumDecl>(mutableThis)) {",
          "new_line_content": "      // Simple enumerations conform to Hashable.",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": "addSynthesized",
          "new_api": null,
          "old_text": "addSynthesized(KnownProtocolKind::Equatable)",
          "new_text": null,
          "old_line_content": "      addSynthesized(KnownProtocolKind::Equatable);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": "getRawType",
          "new_api": null,
          "old_text": "theEnum->getRawType()->hasError()",
          "new_text": null,
          "old_line_content": "    if (theEnum->hasRawType() && !theEnum->getRawType()->hasError()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "addSynthesized",
          "new_api": null,
          "old_text": "addSynthesized(KnownProtocolKind::RawRepresentable)",
          "new_text": null,
          "old_line_content": "      addSynthesized(KnownProtocolKind::RawRepresentable);",
          "new_line_content": "bool NominalTypeDecl::lookupConformance(",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": "prepareConformanceTable",
          "new_api": null,
          "old_text": "prepareConformanceTable()",
          "new_text": null,
          "old_line_content": "  prepareConformanceTable();",
          "new_line_content": "           conformances);",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "lookupConformance",
          "new_api": null,
          "old_text": "ConformanceTable->lookupConformance(\n           module,\n           const_cast<NominalTypeDecl *>(this),\n           protocol,\n           conformances)",
          "new_text": null,
          "old_line_content": "  return ConformanceTable->lookupConformance(",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": "const_cast<NominalTypeDecl *>(this)",
          "new_api": null,
          "old_text": "const_cast<NominalTypeDecl *>(this)",
          "new_text": null,
          "old_line_content": "           const_cast<NominalTypeDecl *>(this),",
          "new_line_content": "SmallVector<ProtocolDecl *, 2> NominalTypeDecl::getAllProtocols() const {",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": "prepareConformanceTable",
          "new_api": null,
          "old_text": "prepareConformanceTable()",
          "new_text": null,
          "old_line_content": "  prepareConformanceTable();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": "const_cast<NominalTypeDecl *>(this)",
          "new_api": null,
          "old_text": "const_cast<NominalTypeDecl *>(this)",
          "new_text": null,
          "old_line_content": "  ConformanceTable->getAllProtocols(const_cast<NominalTypeDecl *>(this),",
          "new_line_content": "SmallVector<ProtocolConformance *, 2> NominalTypeDecl::getAllConformances(",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "prepareConformanceTable",
          "new_api": null,
          "old_text": "prepareConformanceTable()",
          "new_text": null,
          "old_line_content": "  prepareConformanceTable();",
          "new_line_content": "  return result;",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": "const_cast<NominalTypeDecl *>(this)",
          "new_api": null,
          "old_text": "const_cast<NominalTypeDecl *>(this)",
          "new_text": null,
          "old_line_content": "  ConformanceTable->getAllConformances(const_cast<NominalTypeDecl *>(this),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": "prepareConformanceTable",
          "new_api": null,
          "old_text": "prepareConformanceTable()",
          "new_text": null,
          "old_line_content": "  prepareConformanceTable();",
          "new_line_content": "       ProtocolConformance *conformance) {",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": "prepareConformanceTable",
          "new_api": null,
          "old_text": "prepareConformanceTable()",
          "new_text": null,
          "old_line_content": "  prepareConformanceTable();",
          "new_line_content": "NominalTypeDecl::getSatisfiedProtocolRequirementsForMember(",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": "registerProtocolConformance",
          "new_api": null,
          "old_text": "ConformanceTable->registerProtocolConformance(conformance)",
          "new_text": null,
          "old_line_content": "  ConformanceTable->registerProtocolConformance(conformance);",
          "new_line_content": "                                             const ValueDecl *member,",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "getDeclContext",
          "new_api": null,
          "old_text": "member->getDeclContext()->getSelfNominalTypeDecl()",
          "new_text": null,
          "old_line_content": "  assert(member->getDeclContext()->getSelfNominalTypeDecl() == this);",
          "new_line_content": "                                           sorted);",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": "isa<ProtocolDecl>(this)",
          "new_api": null,
          "old_text": "isa<ProtocolDecl>(this)",
          "new_text": null,
          "old_line_content": "  assert(!isa<ProtocolDecl>(this));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "prepareConformanceTable",
          "new_api": null,
          "old_text": "prepareConformanceTable()",
          "new_text": null,
          "old_line_content": "  prepareConformanceTable();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": "getSatisfiedProtocolRequirementsForMember",
          "new_api": null,
          "old_text": "ConformanceTable->getSatisfiedProtocolRequirementsForMember(member,\n                                           const_cast<NominalTypeDecl *>(this),\n                                           sorted)",
          "new_text": null,
          "old_line_content": "  return ConformanceTable->getSatisfiedProtocolRequirementsForMember(member,",
          "new_line_content": "SmallVector<ProtocolDecl *, 2>",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": "const_cast<NominalTypeDecl *>(this)",
          "new_api": null,
          "old_text": "const_cast<NominalTypeDecl *>(this)",
          "new_text": null,
          "old_line_content": "                                           const_cast<NominalTypeDecl *>(this),",
          "new_line_content": "DeclContext::getLocalProtocols(",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "prepareConformanceTable",
          "new_api": null,
          "old_text": "nominal->prepareConformanceTable()",
          "new_text": null,
          "old_line_content": "  nominal->prepareConformanceTable();",
          "new_line_content": "    &result,",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": "lookupConformances",
          "new_api": null,
          "old_text": "nominal->ConformanceTable->lookupConformances(\n    nominal,\n    const_cast<DeclContext *>(this),\n    lookupKind,\n    &result,\n    nullptr,\n    diagnostics)",
          "new_text": null,
          "old_line_content": "  nominal->ConformanceTable->lookupConformances(",
          "new_line_content": "    nullptr,",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": "const_cast<DeclContext *>(this)",
          "new_api": null,
          "old_text": "const_cast<DeclContext *>(this)",
          "new_text": null,
          "old_line_content": "    const_cast<DeclContext *>(this),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": "dyn_cast<ProtocolDecl>(nominal)",
          "new_api": null,
          "old_text": "dyn_cast<ProtocolDecl>(nominal)",
          "new_text": null,
          "old_line_content": "  if (auto protocol = dyn_cast<ProtocolDecl>(nominal)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": "requiresSelfConformanceWitnessTable",
          "new_api": null,
          "old_text": "protocol->requiresSelfConformanceWitnessTable()",
          "new_text": null,
          "old_line_content": "    if (protocol->requiresSelfConformanceWitnessTable())",
          "new_line_content": "  // Update to record all potential conformances.",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "prepareConformanceTable",
          "new_api": null,
          "old_text": "nominal->prepareConformanceTable()",
          "new_text": null,
          "old_line_content": "  nominal->prepareConformanceTable();",
          "new_line_content": "    nullptr,",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "lookupConformances",
          "new_api": null,
          "old_text": "nominal->ConformanceTable->lookupConformances(\n    nominal,\n    const_cast<DeclContext *>(this),\n    lookupKind,\n    nullptr,\n    &result,\n    diagnostics)",
          "new_text": null,
          "old_line_content": "  nominal->ConformanceTable->lookupConformances(",
          "new_line_content": "    &result,",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "const_cast<DeclContext *>(this)",
          "new_api": null,
          "old_text": "const_cast<DeclContext *>(this)",
          "new_text": null,
          "old_line_content": "    const_cast<DeclContext *>(this),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "getKind()",
          "new_text": null,
          "old_line_content": "  if (getKind() == ProtocolConformanceKind::Normal)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": "isCanonical",
          "new_api": null,
          "old_text": "getType()->isCanonical()",
          "new_text": null,
          "old_line_content": "  if (!getType()->isCanonical())",
          "new_line_content": "  case ProtocolConformanceKind::Normal: {",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "getKind()",
          "new_text": null,
          "old_line_content": "  switch (getKind()) {",
          "new_line_content": "  case ProtocolConformanceKind::Inherited: {",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "cast<SpecializedProtocolConformance>(this)",
          "new_api": null,
          "old_text": "cast<SpecializedProtocolConformance>(this)",
          "new_text": null,
          "old_line_content": "    auto spec = cast<SpecializedProtocolConformance>(this);",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": "getGenericConformance",
          "new_api": null,
          "old_text": "spec->getGenericConformance()",
          "new_text": null,
          "old_line_content": "    auto genericConformance = spec->getGenericConformance();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": "isCanonical",
          "new_api": null,
          "old_text": "genericConformance->isCanonical()",
          "new_text": null,
          "old_line_content": "    if (!genericConformance->isCanonical())",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "isCanonical",
          "new_api": null,
          "old_text": "spec->getSubstitutionMap().isCanonical()",
          "new_text": null,
          "old_line_content": "    if (!spec->getSubstitutionMap().isCanonical()) return false;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": "isCanonical",
          "new_api": null,
          "old_text": "isCanonical()",
          "new_text": null,
          "old_line_content": "  if (isCanonical())",
          "new_line_content": "  case ProtocolConformanceKind::Normal: {",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "getKind()",
          "new_text": null,
          "old_line_content": "  switch (getKind()) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "getType()->getASTContext()",
          "new_text": null,
          "old_line_content": "    auto &Ctx = getType()->getASTContext();",
          "new_line_content": "            ->getCanonicalConformance());",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": "cast<InheritedProtocolConformance>(this)",
          "new_api": null,
          "old_text": "cast<InheritedProtocolConformance>(this)",
          "new_text": null,
          "old_line_content": "    auto inheritedConformance = cast<InheritedProtocolConformance>(this);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": "getInheritedConformance",
          "new_api": null,
          "old_text": "Ctx.getInheritedConformance(\n        getType()->getCanonicalType(),\n        inheritedConformance->getInheritedConformance()\n            ->getCanonicalConformance())",
          "new_text": null,
          "old_line_content": "    return Ctx.getInheritedConformance(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": "getCanonicalType",
          "new_api": null,
          "old_text": "getType()->getCanonicalType()",
          "new_text": null,
          "old_line_content": "        getType()->getCanonicalType(),",
          "new_line_content": "  case ProtocolConformanceKind::Specialized: {",
          "content_same": false
        },
        {
          "line": 1490,
          "old_api": "getGenericConformance",
          "new_api": null,
          "old_text": "spec->getGenericConformance()",
          "new_text": null,
          "old_line_content": "    auto genericConformance = spec->getGenericConformance();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1491,
          "old_api": "getSpecializedConformance",
          "new_api": null,
          "old_text": "Ctx.getSpecializedConformance(\n                                getType()->getCanonicalType(),\n                                genericConformance->getCanonicalConformance(),\n                                spec->getSubstitutionMap().getCanonical())",
          "new_text": null,
          "old_line_content": "    return Ctx.getSpecializedConformance(",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": "getCanonicalConformance",
          "new_api": null,
          "old_text": "genericConformance->getCanonicalConformance()",
          "new_text": null,
          "old_line_content": "                                genericConformance->getCanonicalConformance(),",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": "getCanonical",
          "new_api": null,
          "old_text": "spec->getSubstitutionMap().getCanonical()",
          "new_text": null,
          "old_line_content": "                                spec->getSubstitutionMap().getCanonical());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": "isInvalid",
          "new_api": null,
          "old_text": "isInvalid()",
          "new_text": null,
          "old_line_content": "  if (isAbstract() || isInvalid())",
          "new_line_content": "ProtocolConformanceRef",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": "isInvalid",
          "new_api": null,
          "old_text": "isInvalid()",
          "new_text": null,
          "old_line_content": "  if (isAbstract() || isInvalid())",
          "new_line_content": "// See swift/Basic/Statistic.h for declaration: this enables tracing",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": "getCanonicalConformance",
          "new_api": null,
          "old_text": "getConcrete()->getCanonicalConformance()",
          "new_text": null,
          "old_line_content": "  return ProtocolConformanceRef(getConcrete()->getCanonicalConformance());",
          "new_line_content": "// circular linkage dependency.",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": "static_cast<const ProtocolConformance *>(Entity)",
          "new_api": null,
          "old_text": "static_cast<const ProtocolConformance *>(Entity)",
          "new_text": null,
          "old_line_content": "        static_cast<const ProtocolConformance *>(Entity);",
          "new_line_content": "    if (!Entity)",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": "printName",
          "new_api": null,
          "old_text": "C->printName(OS)",
          "new_text": null,
          "old_line_content": "    C->printName(OS);",
          "new_line_content": "      return;",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": "dyn_cast<NormalProtocolConformance>(C)",
          "new_api": null,
          "old_text": "dyn_cast<NormalProtocolConformance>(C)",
          "new_text": null,
          "old_line_content": "    if (auto const *NPC = dyn_cast<NormalProtocolConformance>(C)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": "print",
          "new_api": null,
          "old_text": "NPC->getLoc().print(OS, *SM)",
          "new_text": null,
          "old_line_content": "      NPC->getLoc().print(OS, *SM);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "getDeclContext",
          "new_api": null,
          "old_text": "C->getDeclContext()",
          "new_text": null,
          "old_line_content": "    } else if (auto const *DC = C->getDeclContext()) {",
          "new_line_content": "};",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 35,
      "total_additions": 96,
      "total_deletions": 97,
      "total_api_changes": 228
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 5,
        "api_related_lines": 228,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          1124,
          1126,
          1127
        ]
      }
    },
    "api_calls_before": 604,
    "api_calls_after": 603,
    "diff_info": {
      "added_lines": 0,
      "removed_lines": 5,
      "total_diff_lines": 17
    }
  }
}