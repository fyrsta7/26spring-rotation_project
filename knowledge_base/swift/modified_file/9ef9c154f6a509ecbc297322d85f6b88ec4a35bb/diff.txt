diff --git a/lib/SILOptimizer/Transforms/GenericSpecializer.cpp b/lib/SILOptimizer/Transforms/GenericSpecializer.cpp
index 98e194cf734..87843ef9092 100644
--- a/lib/SILOptimizer/Transforms/GenericSpecializer.cpp
+++ b/lib/SILOptimizer/Transforms/GenericSpecializer.cpp
@@ -226,10 +226,20 @@ void MandatoryGenericSpecializer::run() {
       continue;
 
     // Perform generic specialization and other related optimzations.
-    bool changed = optimize(func, cha);
 
-    if (changed)
-      invalidateAnalysis(func, SILAnalysis::InvalidationKind::Everything);
+    // To avoid phase ordering problems of the involved optimizations, iterate
+    // until we reach a fixed point.
+    // This should always happen, but to be on the save side, limit the number
+    // of iterations to 10 (which is more than enough - usually the loop runs
+    // 1 to 3 times).
+    for (int i = 0; i < 10; i++) {
+      bool changed = optimize(func, cha);
+      if (changed) {
+        invalidateAnalysis(func, SILAnalysis::InvalidationKind::Everything);
+      } else {
+        break;
+      }
+    }
 
     // Continue specializing called functions.
     for (SILBasicBlock &block : *func) {
