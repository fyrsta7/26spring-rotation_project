{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/edb448d0b53ec4e476c3d76d51bc1c2e3275ad20",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/edb448d0b53ec4e476c3d76d51bc1c2e3275ad20/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/edb448d0b53ec4e476c3d76d51bc1c2e3275ad20/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/edb448d0b53ec4e476c3d76d51bc1c2e3275ad20/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 3805,
          "old_api": "SolutionStep",
          "new_api": "getUnresolvedOverloadSet",
          "old_text": "SolutionStep(0)",
          "new_text": "cs.getUnresolvedOverloadSet(0)->getChoices().size()",
          "old_line_content": "    return SolutionStep(0);",
          "new_line_content": "    unsigned minSize = cs.getUnresolvedOverloadSet(0)->getChoices().size();",
          "content_same": false
        },
        {
          "line": 3809,
          "old_api": "resolveTypeVariable",
          "new_api": "getUnresolvedOverloadSet",
          "old_text": "resolveTypeVariable(cs, typeVarConstraints,\n                                         /*onlyDefinitive=*/false)",
          "new_text": "cs.getUnresolvedOverloadSet(i)->getChoices().size()",
          "old_line_content": "  if (auto binding = resolveTypeVariable(cs, typeVarConstraints,",
          "new_line_content": "        unsigned newSize = cs.getUnresolvedOverloadSet(i)->getChoices().size();",
          "content_same": false
        },
        {
          "line": 3828,
          "old_api": "dump",
          "new_api": "get<2>(*binding)",
          "old_text": "dump()",
          "new_text": "get<2>(*binding)",
          "old_line_content": "    dump();",
          "new_line_content": "    return SolutionStep(get<0>(*binding), get<1>(*binding), get<2>(*binding));",
          "content_same": false
        },
        {
          "line": 3839,
          "old_api": "empty",
          "new_api": "getLangOpts",
          "old_text": "stack.empty()",
          "new_text": "TC.getLangOpts()",
          "old_line_content": "  while (!stack.empty()) {",
          "new_line_content": "  if (TC.getLangOpts().DebugConstraintSolver) {",
          "content_same": false
        },
        {
          "line": 3840,
          "old_api": "back",
          "new_api": "llvm::errs()",
          "old_text": "stack.back()",
          "new_text": "llvm::errs()",
          "old_line_content": "    auto cs = stack.back();",
          "new_line_content": "    llvm::errs() << \"---Simplified constraints---\\n\";",
          "content_same": false
        },
        {
          "line": 3851,
          "old_api": "getKind",
          "new_api": "push_back",
          "old_text": "step->getKind()",
          "new_text": "stack.push_back(this)",
          "old_line_content": "      switch (step->getKind()) {",
          "new_line_content": "  stack.push_back(this);",
          "content_same": false
        },
        {
          "line": 3866,
          "old_api": "getTypeBinding",
          "new_api": "getNextSolutionStep",
          "old_text": "step->getTypeBinding()",
          "new_text": "getNextSolutionStep(*cs)",
          "old_line_content": "        auto binding = step->getTypeBinding();",
          "new_line_content": "    if (auto step = getNextSolutionStep(*cs)) {",
          "content_same": false
        },
        {
          "line": 3870,
          "old_api": "isDefinitive",
          "new_api": "push_back",
          "old_text": "step->isDefinitive()",
          "new_text": "stack.push_back(cs)",
          "old_line_content": "        if (step->isDefinitive()) {",
          "new_line_content": "          stack.push_back(cs);",
          "content_same": false
        },
        {
          "line": 3910,
          "old_api": "std::move(cs->PotentialBindings)",
          "new_api": "push_back",
          "old_text": "std::move(cs->PotentialBindings)",
          "new_text": "viable.push_back(cs)",
          "old_line_content": "    auto potentialBindings = std::move(cs->PotentialBindings);",
          "new_line_content": "      viable.push_back(cs);",
          "content_same": false
        },
        {
          "line": 3916,
          "old_api": "simplify",
          "new_api": "empty",
          "old_text": "childCS->simplify()",
          "new_text": "cs->PotentialBindings.empty()",
          "old_line_content": "        if (!childCS->simplify())",
          "new_line_content": "    if (cs->PotentialBindings.empty()) {",
          "content_same": false
        },
        {
          "line": 3917,
          "old_api": "push_back",
          "new_api": "markUnsolvable",
          "old_text": "stack.push_back(childCS)",
          "new_text": "cs->markUnsolvable()",
          "old_line_content": "          stack.push_back(childCS);",
          "new_line_content": "      cs->markUnsolvable();",
          "content_same": false
        },
        {
          "line": 3926,
          "old_api": "getLangOpts",
          "new_api": "std::move(cs->PotentialBindings)",
          "old_text": "TC.getLangOpts()",
          "new_text": "std::move(cs->PotentialBindings)",
          "old_line_content": "      if (TC.getLangOpts().DebugConstraintSolver) {",
          "new_line_content": "    auto potentialBindings = std::move(cs->PotentialBindings);",
          "content_same": false
        },
        {
          "line": 3930,
          "old_api": "llvm::errs()",
          "new_api": "createDerivedConstraintSystem",
          "old_text": "llvm::errs()",
          "new_text": "cs->createDerivedConstraintSystem(binding.first,\n                                                         binding.second)",
          "old_line_content": "          llvm::errs() << \"---Child system #\" << ++idx;",
          "new_line_content": "        auto childCS = cs->createDerivedConstraintSystem(binding.first,",
          "content_same": false
        },
        {
          "line": 3932,
          "old_api": "llvm::errs()",
          "new_api": "simplify",
          "old_text": "llvm::errs()",
          "new_text": "childCS->simplify()",
          "old_line_content": "            llvm::errs() << \" (best)\";",
          "new_line_content": "        if (!childCS->simplify())",
          "content_same": false
        },
        {
          "line": 3940,
          "old_api": "push_back",
          "new_api": "size",
          "old_text": "viable.push_back(best)",
          "new_text": "viable.size()",
          "old_line_content": "      viable.push_back(best);",
          "new_line_content": "  if (viable.size() > 1) {",
          "content_same": false
        },
        {
          "line": 3946,
          "old_api": "empty",
          "new_api": "llvm::errs()",
          "old_text": "freeVariables.empty()",
          "new_text": "llvm::errs()",
          "old_line_content": "         !freeVariables.empty();",
          "new_line_content": "          llvm::errs() << \"---Child system #\" << ++idx;",
          "content_same": false
        },
        {
          "line": 3956,
          "old_api": "empty",
          "new_api": "push_back",
          "old_text": "UnresolvedOverloadSets.empty()",
          "new_text": "viable.push_back(best)",
          "old_line_content": "  if (!UnresolvedOverloadSets.empty())",
          "new_line_content": "      viable.push_back(best);",
          "content_same": false
        },
        {
          "line": 3962,
          "old_api": "getRepresentative",
          "new_api": "empty",
          "old_text": "getRepresentative(tv)",
          "new_text": "freeVariables.empty()",
          "old_line_content": "    if (getRepresentative(tv) != tv)",
          "new_line_content": "         !freeVariables.empty();",
          "content_same": false
        },
        {
          "line": 3972,
          "old_api": "push_back",
          "new_api": "empty",
          "old_text": "freeVariables.push_back(tv)",
          "new_text": "UnresolvedOverloadSets.empty()",
          "old_line_content": "    freeVariables.push_back(tv);",
          "new_line_content": "  if (!UnresolvedOverloadSets.empty())",
          "content_same": false
        },
        {
          "line": 3978,
          "old_api": "getFirstType",
          "new_api": "getRepresentative",
          "old_text": "con->getFirstType()->getAs<TypeVariableType>()",
          "new_text": "getRepresentative(tv)",
          "old_line_content": "    auto tv = con->getFirstType()->getAs<TypeVariableType>();",
          "new_line_content": "    if (getRepresentative(tv) != tv)",
          "content_same": false
        },
        {
          "line": 3988,
          "old_api": "getKind",
          "new_api": "push_back",
          "old_text": "con->getKind()",
          "new_text": "freeVariables.push_back(tv)",
          "old_line_content": "    if (con->getKind() != ConstraintKind::Subtype &&",
          "new_line_content": "    freeVariables.push_back(tv);",
          "content_same": false
        },
        {
          "line": 4013,
          "old_api": "getClassification",
          "new_api": "empty",
          "old_text": "constraint->getClassification()",
          "new_text": "Constraints.empty()",
          "old_line_content": "    if (constraint->getClassification() != ConstraintClassification::Literal)",
          "new_line_content": "  assert(!freeVariables.empty() || Constraints.empty());",
          "content_same": false
        },
        {
          "line": 4133,
          "old_api": "hasTypeVariable",
          "new_api": "simplifyType",
          "old_text": "type2->hasTypeVariable()",
          "new_text": "cs2->simplifyType(boundTV1)",
          "old_line_content": "          if (type1->hasTypeVariable() || type2->hasTypeVariable())",
          "new_line_content": "        if (auto type2 = cs2->simplifyType(boundTV1)) {",
          "content_same": false
        },
        {
          "line": 4139,
          "old_api": "matchTypes",
          "new_api": "getTypeChecker",
          "old_text": "cs1->matchTypes(type1, type2,\n                                             TypeMatchKind::Subtype,\n                                             TMF_None, trivial)",
          "new_text": "cs1->getTypeChecker()",
          "old_line_content": "          bool type1Better = cs1->matchTypes(type1, type2,",
          "new_line_content": "          type2 = stripInitializers(cs1->getTypeChecker(), type2);",
          "content_same": false
        },
        {
          "line": 4163,
          "old_api": "typeMatchesDefaultLiteralConstraint",
          "new_api": "updateSolutionCompareResult",
          "old_text": "topSystem.typeMatchesDefaultLiteralConstraint(boundTV1, type1)",
          "new_text": "updateSolutionCompareResult(result, type1Better, type2Better)",
          "old_line_content": "            = topSystem.typeMatchesDefaultLiteralConstraint(boundTV1, type1);",
          "new_line_content": "          if (updateSolutionCompareResult(result, type1Better, type2Better))",
          "content_same": false
        },
        {
          "line": 4218,
          "old_api": "compareSolutions",
          "new_api": "size",
          "old_text": "compareSolutions(*cs, *best)",
          "new_text": "viable.size()",
          "old_line_content": "    switch (compareSolutions(*cs, *best)) {",
          "new_line_content": "  if (viable.size() == 1)",
          "content_same": false
        },
        {
          "line": 4284,
          "old_api": "dyn_cast<DotSyntaxCallExpr>(expr)",
          "new_api": "coerceToType",
          "old_text": "dyn_cast<DotSyntaxCallExpr>(expr)",
          "new_text": "TC.coerceToType(expr, toType,\n                         isAssignment? CoercionKind::Assignment\n                                     : CoercionKind::Normal)",
          "old_line_content": "  if (auto dotCall = dyn_cast<DotSyntaxCallExpr>(expr))",
          "new_line_content": "  return TC.coerceToType(expr, toType,",
          "content_same": false
        },
        {
          "line": 4291,
          "old_api": "isAssignment",
          "new_api": "coerceObjectArgument",
          "old_text": "gmr->getDecl()->getAttrs().isAssignment()",
          "new_text": "TC.coerceObjectArgument(expr, toType)",
          "old_line_content": "    return gmr->getDecl()->getAttrs().isAssignment();",
          "new_line_content": "  return TC.coerceObjectArgument(expr, toType);",
          "content_same": false
        },
        {
          "line": 4303,
          "old_api": "getTypeChecker",
          "new_api": "isAssignment",
          "old_text": "CS.getTypeChecker()",
          "new_text": "emr->getDecl()->getAttrs().isAssignment()",
          "old_line_content": "      auto &tc = CS.getTypeChecker();",
          "new_line_content": "    return emr->getDecl()->getAttrs().isAssignment();",
          "content_same": false
        },
        {
          "line": 4305,
          "old_api": "transformType",
          "new_api": "isAssignment",
          "old_text": "tc.transformType(openedType,\n                   [&](Type type) -> Type {\n                     if (auto tv = type->getAs<TypeVariableType>()) {\n                       auto archetype = tv->getImpl().getArchetype();\n                       auto simplified = CS.simplifyType(tv);\n                       substitutions[archetype] = simplified;\n\n                       return SubstitutedType::get(archetype, simplified,\n                                                   tc.Context);\n                     }\n\n                     return type;\n                   })",
          "new_text": "amr->getDecl()->getAttrs().isAssignment()",
          "old_line_content": "      auto type = tc.transformType(openedType,",
          "new_line_content": "    return amr->getDecl()->getAttrs().isAssignment();",
          "content_same": false
        },
        {
          "line": 4307,
          "old_api": "type->getAs<TypeVariableType>()",
          "new_api": "isAssignment",
          "old_text": "type->getAs<TypeVariableType>()",
          "new_text": "gmr->getDecl()->getAttrs().isAssignment()",
          "old_line_content": "                     if (auto tv = type->getAs<TypeVariableType>()) {",
          "new_line_content": "    return gmr->getDecl()->getAttrs().isAssignment();",
          "content_same": false
        },
        {
          "line": 4323,
          "old_api": "getLoc",
          "new_api": "type->getAs<TypeVariableType>()",
          "old_text": "expr->getLoc()",
          "new_text": "type->getAs<TypeVariableType>()",
          "old_line_content": "      if (tc.checkSubstitutions(substitutions, conformances, expr->getLoc(),",
          "new_line_content": "                     if (auto tv = type->getAs<TypeVariableType>()) {",
          "content_same": false
        },
        {
          "line": 4328,
          "old_api": "getGenericParams",
          "new_api": "SubstitutedType::get(archetype, simplified,\n                                                   tc.Context)",
          "old_text": "polyFn->getGenericParams()",
          "new_text": "SubstitutedType::get(archetype, simplified,\n                                                   tc.Context)",
          "old_line_content": "      auto encodedSubs = tc.encodeSubstitutions(&polyFn->getGenericParams(),",
          "new_line_content": "                       return SubstitutedType::get(archetype, simplified,",
          "content_same": false
        },
        {
          "line": 4387,
          "old_api": "MetaTypeType::get(baseTy, ctx)",
          "new_api": "getThis",
          "old_text": "MetaTypeType::get(baseTy, ctx)",
          "new_text": "proto->getThis()->getDeclaredType()->castTo<ArchetypeType>()",
          "old_line_content": "                                         MetaTypeType::get(baseTy, ctx));",
          "new_line_content": "        = proto->getThis()->getDeclaredType()->castTo<ArchetypeType>();",
          "content_same": false
        },
        {
          "line": 4388,
          "old_api": "SourceLoc",
          "new_api": "getTypeChecker",
          "old_text": "SourceLoc()",
          "new_text": "CS.getTypeChecker().transformType(openedType, [&](Type type) -> Type {\n        if (auto typeVar = type->getAs<TypeVariableType>()) {\n          if (typeVar->getImpl().getArchetype() == thisArchetype) {\n            baseTy = CS.simplifyType(typeVar);\n            return nullptr;\n          }\n        }\n        \n        return type;\n      })",
          "old_line_content": "      return buildMemberRef(base, SourceLoc(), value, nameLoc, openedType);",
          "new_line_content": "      CS.getTypeChecker().transformType(openedType, [&](Type type) -> Type {",
          "content_same": false
        },
        {
          "line": 4401,
          "old_api": "getType",
          "new_api": "getASTContext",
          "old_text": "expr->getType()",
          "new_text": "CS.getASTContext()",
          "old_line_content": "      auto toType = CS.simplifyType(expr->getType());",
          "new_line_content": "      auto &ctx = CS.getASTContext();",
          "content_same": false
        },
        {
          "line": 4448,
          "old_api": "specialize",
          "new_api": "getDecl",
          "old_text": "specialize(expr, polyFn, fromType)",
          "new_text": "expr->getDecl()->getTypeOfReference()",
          "old_line_content": "      return specialize(expr, polyFn, fromType);",
          "new_line_content": "      expr->setType(expr->getDecl()->getTypeOfReference());",
          "content_same": false
        },
        {
          "line": 4452,
          "old_api": "llvm_unreachable",
          "new_api": "hasTypeVariable",
          "old_text": "llvm_unreachable(\"Already type-checked\")",
          "new_text": "fromType->hasTypeVariable()",
          "old_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "new_line_content": "      if (!fromType->hasTypeVariable())",
          "content_same": false
        },
        {
          "line": 4457,
          "old_api": "getASTContext",
          "new_api": "getType",
          "old_text": "CS.getASTContext()",
          "new_text": "expr->getType()->getAs<PolymorphicFunctionType>()",
          "old_line_content": "      auto &context = CS.getASTContext();",
          "new_line_content": "      auto polyFn = expr->getType()->getAs<PolymorphicFunctionType>();",
          "content_same": false
        },
        {
          "line": 4464,
          "old_api": "getDeclContext",
          "new_api": "specialize",
          "old_text": "decl->getDeclContext()",
          "new_text": "specialize(expr, polyFn, fromType)",
          "old_line_content": "      if (auto proto = dyn_cast<ProtocolDecl>(decl->getDeclContext())) {",
          "new_line_content": "      return specialize(expr, polyFn, fromType);",
          "content_same": false
        },
        {
          "line": 4473,
          "old_api": "getTypeOfReference",
          "new_api": "getASTContext",
          "old_text": "decl->getTypeOfReference()",
          "new_text": "CS.getASTContext()",
          "old_line_content": "                                              decl->getTypeOfReference());",
          "new_line_content": "      auto &context = CS.getASTContext();",
          "content_same": false
        },
        {
          "line": 4476,
          "old_api": "getType",
          "new_api": "getSelectedOverloadFromSet",
          "old_text": "expr->getType()->getAs<PolymorphicFunctionType>()",
          "new_text": "CS.getSelectedOverloadFromSet(ovl).getValue()",
          "old_line_content": "      if (auto polyFn = expr->getType()->getAs<PolymorphicFunctionType>()) {",
          "new_line_content": "      auto selected = CS.getSelectedOverloadFromSet(ovl).getValue();",
          "content_same": false
        },
        {
          "line": 4478,
          "old_api": "specialize",
          "new_api": "getDecl",
          "old_text": "specialize(result, polyFn, selected.second)",
          "new_text": "choice.getDecl()",
          "old_line_content": "        return specialize(result, polyFn, selected.second);",
          "new_line_content": "      auto decl = choice.getDecl();",
          "content_same": false
        },
        {
          "line": 4488,
          "old_api": "getDotLoc",
          "new_api": "getLoc",
          "old_text": "expr->getDotLoc()",
          "new_text": "expr->getLoc()",
          "old_line_content": "      return buildMemberRef(expr->getBase(), expr->getDotLoc(),",
          "new_line_content": "      auto result = new (context) DeclRefExpr(decl, expr->getLoc(),",
          "content_same": false
        },
        {
          "line": 4489,
          "old_api": "getMemberLoc",
          "new_api": "getTypeOfReference",
          "old_text": "expr->getMemberLoc()",
          "new_text": "decl->getTypeOfReference()",
          "old_line_content": "                            selected.first.getDecl(), expr->getMemberLoc(),",
          "new_line_content": "                                              decl->getTypeOfReference());",
          "content_same": false
        },
        {
          "line": 4501,
          "old_api": "getTypeChecker",
          "new_api": "getGeneratedOverloadSet",
          "old_text": "CS.getTypeChecker().recheckTypes(expr)",
          "new_text": "CS.getGeneratedOverloadSet(expr)",
          "old_line_content": "      return CS.getTypeChecker().recheckTypes(expr);",
          "new_line_content": "      auto ovl = CS.getGeneratedOverloadSet(expr);",
          "content_same": false
        },
        {
          "line": 4505,
          "old_api": "llvm_unreachable",
          "new_api": "getMemberLoc",
          "old_text": "llvm_unreachable(\"Already type-checked\")",
          "new_text": "expr->getMemberLoc()",
          "old_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "new_line_content": "                            selected.first.getDecl(), expr->getMemberLoc(),",
          "content_same": false
        },
        {
          "line": 4517,
          "old_api": "getNameLoc",
          "new_api": "getTypeChecker",
          "old_text": "expr->getNameLoc()",
          "new_text": "CS.getTypeChecker().recheckTypes(expr)",
          "old_line_content": "                            selected.first.getDecl(), expr->getNameLoc(),",
          "new_line_content": "      return CS.getTypeChecker().recheckTypes(expr);",
          "content_same": false
        },
        {
          "line": 4525,
          "old_api": "getType",
          "new_api": "llvm_unreachable",
          "old_text": "expr->getType()",
          "new_text": "llvm_unreachable(\"Already type-checked\")",
          "old_line_content": "      Type oneofTy = CS.simplifyType(expr->getType());",
          "new_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "content_same": false
        },
        {
          "line": 4530,
          "old_api": "getTypeChecker",
          "new_api": "assert",
          "old_text": "CS.getTypeChecker()",
          "new_text": "assert(ovl && \"No overload set associated with decl reference expr?\")",
          "old_line_content": "      auto &tc = CS.getTypeChecker();",
          "new_line_content": "      assert(ovl && \"No overload set associated with decl reference expr?\");",
          "content_same": false
        },
        {
          "line": 4533,
          "old_api": "MetaTypeType::get(oneofTy,\n                                                                  tc.Context)",
          "new_api": "getNameLoc",
          "old_text": "MetaTypeType::get(oneofTy,\n                                                                  tc.Context)",
          "new_text": "expr->getNameLoc()",
          "old_line_content": "                                                MetaTypeType::get(oneofTy,",
          "new_line_content": "                            selected.first.getDecl(), expr->getNameLoc(),",
          "content_same": false
        },
        {
          "line": 4541,
          "old_api": "getDotLoc",
          "new_api": "getType",
          "old_text": "expr->getDotLoc()",
          "new_text": "expr->getType()",
          "old_line_content": "      auto result = tc.buildMemberRefExpr(base, expr->getDotLoc(),",
          "new_line_content": "      Type oneofTy = CS.simplifyType(expr->getType());",
          "content_same": false
        },
        {
          "line": 4542,
          "old_api": "ArrayRef<ValueDecl *>(&member, 1)",
          "new_api": "oneofTy->getAs<FunctionType>()",
          "old_text": "ArrayRef<ValueDecl *>(&member, 1)",
          "new_text": "oneofTy->getAs<FunctionType>()",
          "old_line_content": "                                          ArrayRef<ValueDecl *>(&member, 1),",
          "new_line_content": "      if (auto funcTy = oneofTy->getAs<FunctionType>())",
          "content_same": false
        },
        {
          "line": 4543,
          "old_api": "getNameLoc",
          "new_api": "getResult",
          "old_text": "expr->getNameLoc()",
          "new_text": "funcTy->getResult()",
          "old_line_content": "                                          expr->getNameLoc());",
          "new_line_content": "        oneofTy = funcTy->getResult();",
          "content_same": false
        },
        {
          "line": 4549,
          "old_api": "getGeneratedOverloadSet",
          "new_api": "MetaTypeType::get(oneofTy,\n                                                                  tc.Context)",
          "old_text": "CS.getGeneratedOverloadSet(expr)",
          "new_text": "MetaTypeType::get(oneofTy,\n                                                                  tc.Context)",
          "old_line_content": "      auto ovl = CS.getGeneratedOverloadSet(expr);",
          "new_line_content": "                                                MetaTypeType::get(oneofTy,",
          "content_same": false
        },
        {
          "line": 4555,
          "old_api": "getDotLoc",
          "new_api": "isSuccess",
          "old_text": "expr->getDotLoc()",
          "new_text": "lookup.isSuccess()",
          "old_line_content": "        return buildMemberRef(expr->getBase(), expr->getDotLoc(),",
          "new_line_content": "      assert(lookup.isSuccess() && \"Failed lookup?\");",
          "content_same": false
        },
        {
          "line": 4560,
          "old_api": "getASTContext",
          "new_api": "recheckTypes",
          "old_text": "CS.getASTContext()",
          "new_text": "tc.recheckTypes(result)",
          "old_line_content": "        return new (CS.getASTContext()) TupleElementExpr(",
          "new_line_content": "      return tc.recheckTypes(result);",
          "content_same": false
        },
        {
          "line": 4565,
          "old_api": "getType",
          "new_api": "getGeneratedOverloadSet",
          "old_text": "expr->getType()",
          "new_text": "CS.getGeneratedOverloadSet(expr)",
          "old_line_content": "                                          CS.simplifyType(expr->getType()));",
          "new_line_content": "      auto ovl = CS.getGeneratedOverloadSet(expr);",
          "content_same": false
        },
        {
          "line": 4579,
          "old_api": "simplifyExprType",
          "new_api": "getTupleIndex",
          "old_text": "simplifyExprType(expr)",
          "new_text": "selected.first.getTupleIndex()",
          "old_line_content": "      return simplifyExprType(expr);",
          "new_line_content": "                                          selected.first.getTupleIndex(),",
          "content_same": false
        },
        {
          "line": 4591,
          "old_api": "getDecl",
          "new_api": "llvm_unreachable",
          "old_text": "choice.getDecl()",
          "new_text": "llvm_unreachable(\"Expression wasn't parsed?\")",
          "old_line_content": "      auto subscript = cast<SubscriptDecl>(choice.getDecl());",
          "new_line_content": "      llvm_unreachable(\"Expression wasn't parsed?\");",
          "content_same": false
        },
        {
          "line": 4595,
          "old_api": "getTypeChecker",
          "new_api": "simplifyExprType",
          "old_text": "CS.getTypeChecker()",
          "new_text": "simplifyExprType(expr)",
          "old_line_content": "      auto &tc = CS.getTypeChecker();",
          "new_line_content": "      return simplifyExprType(expr);",
          "content_same": false
        },
        {
          "line": 4599,
          "old_api": "isExistentialType",
          "new_api": "simplifyExprType",
          "old_text": "baseTy->isExistentialType()",
          "new_text": "simplifyExprType(expr)",
          "old_line_content": "      if (baseTy->isExistentialType()) {",
          "new_line_content": "      return simplifyExprType(expr);",
          "content_same": false
        },
        {
          "line": 4604,
          "old_api": "getRBracketLoc",
          "new_api": "getGeneratedOverloadSet",
          "old_text": "expr->getRBracketLoc()",
          "new_text": "CS.getGeneratedOverloadSet(expr)",
          "old_line_content": "                                                      expr->getRBracketLoc(),",
          "new_line_content": "      auto ovl = CS.getGeneratedOverloadSet(expr);",
          "content_same": false
        },
        {
          "line": 4606,
          "old_api": "semaSubscriptExpr",
          "new_api": "getSelectedOverloadFromSet",
          "old_text": "tc.semaSubscriptExpr(result)",
          "new_text": "CS.getSelectedOverloadFromSet(ovl).getValue()",
          "old_line_content": "        return tc.semaSubscriptExpr(result);",
          "new_line_content": "      auto choice = CS.getSelectedOverloadFromSet(ovl).getValue().first;",
          "content_same": false
        },
        {
          "line": 4615,
          "old_api": "getRBracketLoc",
          "new_api": "isExistentialType",
          "old_text": "expr->getRBracketLoc()",
          "new_text": "baseTy->isExistentialType()",
          "old_line_content": "                                                    expr->getRBracketLoc(),",
          "new_line_content": "      if (baseTy->isExistentialType()) {",
          "content_same": false
        },
        {
          "line": 4617,
          "old_api": "semaSubscriptExpr",
          "new_api": "getBase",
          "old_text": "tc.semaSubscriptExpr(result)",
          "new_text": "expr->getBase()",
          "old_line_content": "        return tc.semaSubscriptExpr(result);",
          "new_line_content": "          = new (tc.Context) ExistentialSubscriptExpr(expr->getBase(),",
          "content_same": false
        },
        {
          "line": 4626,
          "old_api": "getRBracketLoc",
          "new_api": "baseTy->is<ArchetypeType>()",
          "old_text": "expr->getRBracketLoc()",
          "new_text": "baseTy->is<ArchetypeType>()",
          "old_line_content": "                                                  expr->getRBracketLoc(),",
          "new_line_content": "      if (baseTy->is<ArchetypeType>()) {",
          "content_same": false
        },
        {
          "line": 4628,
          "old_api": "semaSubscriptExpr",
          "new_api": "getBase",
          "old_text": "tc.semaSubscriptExpr(result)",
          "new_text": "expr->getBase()",
          "old_line_content": "        return tc.semaSubscriptExpr(result);",
          "new_line_content": "          = new (tc.Context) ArchetypeSubscriptExpr(expr->getBase(),",
          "content_same": false
        },
        {
          "line": 4637,
          "old_api": "llvm_unreachable",
          "new_api": "isSpecialized",
          "old_text": "llvm_unreachable(\"Already type-checked\")",
          "new_text": "baseTy->isSpecialized()",
          "old_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "new_line_content": "      if (baseTy->isSpecialized()) {",
          "content_same": false
        },
        {
          "line": 4641,
          "old_api": "llvm_unreachable",
          "new_api": "getIndex",
          "old_text": "llvm_unreachable(\"Already type-checked\")",
          "new_text": "expr->getIndex()",
          "old_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "new_line_content": "                                                  expr->getIndex(),",
          "content_same": false
        },
        {
          "line": 4649,
          "old_api": "llvm_unreachable",
          "new_api": "semaSubscriptExpr",
          "old_text": "llvm_unreachable(\"Already type-checked\")",
          "new_text": "tc.semaSubscriptExpr(expr)",
          "old_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "new_line_content": "      return tc.semaSubscriptExpr(expr);",
          "content_same": false
        },
        {
          "line": 4657,
          "old_api": "getKind",
          "new_api": "llvm_unreachable",
          "old_text": "pattern->getKind()",
          "new_text": "llvm_unreachable(\"Already type-checked\")",
          "old_line_content": "      switch (pattern->getKind()) {",
          "new_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "content_same": false
        },
        {
          "line": 4661,
          "old_api": "getSubPattern",
          "new_api": "llvm_unreachable",
          "old_text": "cast<ParenPattern>(pattern)->getSubPattern()",
          "new_text": "llvm_unreachable(\"Already type-checked\")",
          "old_line_content": "                                cast<ParenPattern>(pattern)->getSubPattern());",
          "new_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "content_same": false
        },
        {
          "line": 4669,
          "old_api": "getDecl",
          "new_api": "llvm_unreachable",
          "old_text": "cast<NamedPattern>(pattern)->getDecl()",
          "new_text": "llvm_unreachable(\"Already type-checked\")",
          "old_line_content": "        auto var = cast<NamedPattern>(pattern)->getDecl();",
          "new_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "content_same": false
        },
        {
          "line": 4676,
          "old_api": "getFields",
          "new_api": "getSubPattern",
          "old_text": "tuplePat->getFields()",
          "new_text": "simplifyPatternTypes(\n                                cast<ParenPattern>(pattern)->getSubPattern())",
          "old_line_content": "        for (auto tupleElt : tuplePat->getFields()) {",
          "new_line_content": "        return simplifyPatternTypes(",
          "content_same": false
        },
        {
          "line": 4677,
          "old_api": "getPattern",
          "new_api": "getSubPattern",
          "old_text": "tupleElt.getPattern()",
          "new_text": "cast<ParenPattern>(pattern)->getSubPattern()",
          "old_line_content": "          simplifyPatternTypes(tupleElt.getPattern());",
          "new_line_content": "                                cast<ParenPattern>(pattern)->getSubPattern());",
          "content_same": false
        },
        {
          "line": 4691,
          "old_api": "getType",
          "new_api": "cast<TuplePattern>(pattern)",
          "old_text": "expr->getType()->castTo<FunctionType>()->getInput()",
          "new_text": "cast<TuplePattern>(pattern)",
          "old_line_content": "      Type input = expr->getType()->castTo<FunctionType>()->getInput();",
          "new_line_content": "        auto tuplePat = cast<TuplePattern>(pattern);",
          "content_same": false
        },
        {
          "line": 4692,
          "old_api": "getArgParamPatterns",
          "new_api": "getFields",
          "old_text": "expr->getArgParamPatterns()",
          "new_text": "tuplePat->getFields()",
          "old_line_content": "      if (CS.TC.coerceToType(expr->getArgParamPatterns()[0], input, false))",
          "new_line_content": "        for (auto tupleElt : tuplePat->getFields()) {",
          "content_same": false
        },
        {
          "line": 4707,
          "old_api": "size",
          "new_api": "getType",
          "old_text": "inputTT->getFields().size()",
          "new_text": "expr->getType()->castTo<FunctionType>()->getInput()",
          "old_line_content": "        numInputArgs = inputTT->getFields().size();",
          "new_line_content": "      Type input = expr->getType()->castTo<FunctionType>()->getInput();",
          "content_same": false
        },
        {
          "line": 4710,
          "old_api": "begin",
          "new_api": "getBodyParamPatterns",
          "old_text": "expr->getParserVarDecls().begin()",
          "new_text": "expr->getBodyParamPatterns()",
          "old_line_content": "      std::vector<VarDecl*> argVars(expr->getParserVarDecls().begin(),",
          "new_line_content": "      if (CS.TC.coerceToType(expr->getBodyParamPatterns()[0], input, false))",
          "content_same": false
        },
        {
          "line": 4721,
          "old_api": "getASTContext",
          "new_api": "getInput",
          "old_text": "CS.getASTContext()",
          "new_text": "type->getInput()->getAs<TupleType>()",
          "old_line_content": "          auto p = new (CS.getASTContext()) NamedPattern(argVars[i]);",
          "new_line_content": "      TupleType *inputTT = type->getInput()->getAs<TupleType>();",
          "content_same": false
        },
        {
          "line": 4723,
          "old_api": "emplace_back",
          "new_api": "size",
          "old_text": "argElts.emplace_back(p)",
          "new_text": "inputTT->getFields().size()",
          "old_line_content": "          argElts.emplace_back(p);",
          "new_line_content": "        numInputArgs = inputTT->getFields().size();",
          "content_same": false
        },
        {
          "line": 4727,
          "old_api": "getInput",
          "new_api": "end",
          "old_text": "type->getInput()",
          "new_text": "expr->getParserVarDecls().end()",
          "old_line_content": "        argVars[0]->overwriteType(type->getInput());",
          "new_line_content": "                                    expr->getParserVarDecls().end());",
          "content_same": false
        },
        {
          "line": 4730,
          "old_api": "getInput",
          "new_api": "getASTContext",
          "old_text": "type->getInput()",
          "new_text": "CS.getASTContext()",
          "old_line_content": "      argPat->setType(type->getInput());",
          "new_line_content": "      expr->GenerateVarDecls(numInputArgs, argVars, CS.getASTContext());",
          "content_same": false
        },
        {
          "line": 4736,
          "old_api": "getBody",
          "new_api": "getElementType",
          "old_text": "expr->getBody()",
          "new_text": "inputTT->getElementType(i)",
          "old_line_content": "      if (Expr *body = CS.convertToType(expr->getBody(), resultType))",
          "new_line_content": "          argVars[i]->overwriteType(inputTT->getElementType(i));",
          "content_same": false
        },
        {
          "line": 4737,
          "old_api": "setBody",
          "new_api": "getASTContext",
          "old_text": "expr->setBody(body)",
          "new_text": "CS.getASTContext()",
          "old_line_content": "        expr->setBody(body);",
          "new_line_content": "          auto p = new (CS.getASTContext()) NamedPattern(argVars[i]);",
          "content_same": false
        },
        {
          "line": 4738,
          "old_api": "setType",
          "new_api": "getElementType",
          "old_text": "expr->setType(type)",
          "new_text": "inputTT->getElementType(i)",
          "old_line_content": "      expr->setType(type);",
          "new_line_content": "          p->setType(inputTT->getElementType(i));",
          "content_same": false
        },
        {
          "line": 4747,
          "old_api": "llvm_unreachable",
          "new_api": "setPattern",
          "old_text": "llvm_unreachable(\"Already type-checked\")",
          "new_text": "expr->setPattern(argPat)",
          "old_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "new_line_content": "      expr->setPattern(argPat);",
          "content_same": false
        },
        {
          "line": 4757,
          "old_api": "assert",
          "new_api": "getASTContext",
          "old_text": "assert(lv && \"Subexpression is not an lvalue?\")",
          "new_text": "CS.getASTContext()",
          "old_line_content": "      assert(lv && \"Subexpression is not an lvalue?\");",
          "new_line_content": "      expr->computeCaptures(CS.getASTContext());",
          "content_same": false
        },
        {
          "line": 4772,
          "old_api": "setElementType",
          "new_api": "getSubExpr",
          "old_text": "expr->setElementType(elementType)",
          "new_text": "expr->getSubExpr()->getType()->getAs<LValueType>()",
          "old_line_content": "      expr->setElementType(elementType);",
          "new_line_content": "      auto lv = expr->getSubExpr()->getType()->getAs<LValueType>();",
          "content_same": false
        },
        {
          "line": 4776,
          "old_api": "getPointer",
          "new_api": "getObjectType",
          "old_text": "resultType.getPointer()",
          "new_text": "lv->getObjectType()",
          "old_line_content": "      auto sliceType = dyn_cast<ArraySliceType>(resultType.getPointer());",
          "new_line_content": "      expr->setType(LValueType::get(lv->getObjectType(), destQuals,",
          "content_same": false
        },
        {
          "line": 4786,
          "old_api": "buildArrayInjectionFnRef",
          "new_api": "getGenericArgs",
          "old_text": "tc.buildArrayInjectionFnRef(sliceType,\n                            expr->getBounds()[0].Value->getType(),\n                            expr->getNewLoc())",
          "new_text": "resultType->castTo<BoundGenericType>()\n                           ->getGenericArgs()",
          "old_line_content": "      Expr* injectionFn = tc.buildArrayInjectionFnRef(sliceType,",
          "new_line_content": "      auto elementType = resultType->castTo<BoundGenericType>()",
          "content_same": false
        },
        {
          "line": 4788,
          "old_api": "getNewLoc",
          "new_api": "setElementType",
          "old_text": "expr->getNewLoc()",
          "new_text": "expr->setElementType(elementType)",
          "old_line_content": "                            expr->getNewLoc());",
          "new_line_content": "      expr->setElementType(elementType);",
          "content_same": false
        },
        {
          "line": 4799,
          "old_api": "getBase",
          "new_api": "setType",
          "old_text": "expr->getBase()",
          "new_text": "expr->setType(resultType)",
          "old_line_content": "      if (Expr *base = expr->getBase()) {",
          "new_line_content": "      expr->setType(resultType);",
          "content_same": false
        },
        {
          "line": 4802,
          "old_api": "setBase",
          "new_api": "buildArrayInjectionFnRef",
          "old_text": "expr->setBase(base)",
          "new_text": "tc.buildArrayInjectionFnRef(sliceType,\n                            expr->getBounds()[0].Value->getType(),\n                            expr->getNewLoc())",
          "old_line_content": "        expr->setBase(base);",
          "new_line_content": "      Expr* injectionFn = tc.buildArrayInjectionFnRef(sliceType,",
          "content_same": false
        },
        {
          "line": 4803,
          "old_api": "getType",
          "new_api": "getBounds",
          "old_text": "base->getType()",
          "new_text": "expr->getBounds()[0].Value->getType()",
          "old_line_content": "        expr->setType(MetaTypeType::get(base->getType(), tc.Context));",
          "new_line_content": "                            expr->getBounds()[0].Value->getType(),",
          "content_same": false
        },
        {
          "line": 4816,
          "old_api": "getFn",
          "new_api": "convertToRValue",
          "old_text": "expr->getFn()",
          "new_text": "tc.convertToRValue(base)",
          "old_line_content": "      auto fn = tc.convertToRValue(expr->getFn());",
          "new_line_content": "        base = tc.convertToRValue(base);",
          "content_same": false
        },
        {
          "line": 4819,
          "old_api": "setFn",
          "new_api": "getType",
          "old_text": "expr->setFn(fn)",
          "new_text": "base->getType()",
          "old_line_content": "      expr->setFn(fn);",
          "new_line_content": "        expr->setType(MetaTypeType::get(base->getType(), tc.Context));",
          "content_same": false
        },
        {
          "line": 4829,
          "old_api": "getInput",
          "new_api": "getTypeChecker",
          "old_text": "fnType->getInput()",
          "new_text": "CS.getTypeChecker()",
          "old_line_content": "          arg = CS.convertToType(origArg, fnType->getInput(),",
          "new_line_content": "      auto &tc = CS.getTypeChecker();",
          "content_same": false
        },
        {
          "line": 4835,
          "old_api": "getSourceRange",
          "new_api": "setFn",
          "old_text": "origArg->getSourceRange()",
          "new_text": "expr->setFn(fn)",
          "old_line_content": "            << origArg->getSourceRange();",
          "new_line_content": "      expr->setFn(fn);",
          "content_same": false
        },
        {
          "line": 4840,
          "old_api": "getType",
          "new_api": "getArg",
          "old_text": "expr->getType()",
          "new_text": "expr->getArg()",
          "old_line_content": "        auto origType = expr->getType();",
          "new_line_content": "        auto origArg = expr->getArg();",
          "content_same": false
        },
        {
          "line": 4842,
          "old_api": "getResult",
          "new_api": "isa<DotSyntaxCallExpr>(expr)",
          "old_text": "fnType->getResult()",
          "new_text": "isa<DotSyntaxCallExpr>(expr)",
          "old_line_content": "        expr->setType(fnType->getResult());",
          "new_line_content": "        if (isa<DotSyntaxCallExpr>(expr))",
          "content_same": false
        },
        {
          "line": 4845,
          "old_api": "specialize",
          "new_api": "getInput",
          "old_text": "specialize(expr, polyFn, origType)",
          "new_text": "fnType->getInput()",
          "old_line_content": "          return specialize(expr, polyFn, origType);",
          "new_line_content": "          arg = CS.convertToType(origArg, fnType->getInput(),",
          "content_same": false
        },
        {
          "line": 4857,
          "old_api": "setType",
          "new_api": "setArg",
          "old_text": "expr->setType(instanceTy)",
          "new_text": "expr->setArg(arg)",
          "old_line_content": "      expr->setType(instanceTy);",
          "new_line_content": "        expr->setArg(arg);",
          "content_same": false
        },
        {
          "line": 4860,
          "old_api": "getGeneratedOverloadSet",
          "new_api": "getType",
          "old_text": "CS.getGeneratedOverloadSet(expr)",
          "new_text": "expr->getType()->getAs<PolymorphicFunctionType>()",
          "old_line_content": "      auto ovl = CS.getGeneratedOverloadSet(expr);",
          "new_line_content": "        if (auto polyFn = expr->getType()->getAs<PolymorphicFunctionType>()) {",
          "content_same": false
        },
        {
          "line": 4861,
          "old_api": "assert",
          "new_api": "specialize",
          "old_text": "assert(ovl && \"No overload set associated with new reference expr?\")",
          "new_text": "specialize(expr, polyFn, origType)",
          "old_line_content": "      assert(ovl && \"No overload set associated with new reference expr?\");",
          "new_line_content": "          return specialize(expr, polyFn, origType);",
          "content_same": false
        },
        {
          "line": 4868,
          "old_api": "getLoc",
          "new_api": "semaApplyExpr",
          "old_text": "expr->getLoc()",
          "new_text": "tc.semaApplyExpr(expr)",
          "old_line_content": "      Expr *typeBase = new (tc.Context) MetatypeExpr(nullptr, expr->getLoc(),",
          "new_line_content": "      return tc.semaApplyExpr(expr);",
          "content_same": false
        },
        {
          "line": 4877,
          "old_api": "getLoc",
          "new_api": "assert",
          "old_text": "expr->getLoc()",
          "new_text": "assert(ovl && \"No overload set associated with new reference expr?\")",
          "old_line_content": "        arg = new (tc.Context) TupleExpr(expr->getLoc(),",
          "new_line_content": "      assert(ovl && \"No overload set associated with new reference expr?\");",
          "content_same": false
        },
        {
          "line": 4878,
          "old_api": "MutableArrayRef<Expr *>()",
          "new_api": "getSelectedOverloadFromSet",
          "old_text": "MutableArrayRef<Expr *>()",
          "new_text": "CS.getSelectedOverloadFromSet(ovl).getValue()",
          "old_line_content": "                                         MutableArrayRef<Expr *>(), nullptr,",
          "new_line_content": "      auto choice = CS.getSelectedOverloadFromSet(ovl).getValue().first;",
          "content_same": false
        },
        {
          "line": 4879,
          "old_api": "getLoc",
          "new_api": "getDecl",
          "old_text": "expr->getLoc()",
          "new_text": "choice.getDecl()",
          "old_line_content": "                                         expr->getLoc());",
          "new_line_content": "      auto constructor = cast<ConstructorDecl>(choice.getDecl());",
          "content_same": false
        },
        {
          "line": 4886,
          "old_api": "recheckTypes",
          "new_api": "getLoc",
          "old_text": "tc.recheckTypes(ctorRef)",
          "new_text": "expr->getLoc()",
          "old_line_content": "      ctorRef = tc.recheckTypes(ctorRef);",
          "new_line_content": "      Expr *ctorRef = new (tc.Context) DeclRefExpr(constructor, expr->getLoc(),",
          "content_same": false
        },
        {
          "line": 4887,
          "old_api": "setFn",
          "new_api": "getTypeOfReference",
          "old_text": "expr->setFn(ctorRef)",
          "new_text": "constructor->getTypeOfReference()",
          "old_line_content": "      expr->setFn(ctorRef);",
          "new_line_content": "                                         constructor->getTypeOfReference());",
          "content_same": false
        },
        {
          "line": 4895,
          "old_api": "llvm_unreachable",
          "new_api": "getLoc",
          "old_text": "llvm_unreachable(\"Already type-checked\")",
          "new_text": "expr->getLoc()",
          "old_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "new_line_content": "                                         expr->getLoc());",
          "content_same": false
        },
        {
          "line": 4915,
          "old_api": "getConstraintSystem",
          "new_api": "llvm_unreachable",
          "old_text": "Rewriter.getConstraintSystem()",
          "new_text": "llvm_unreachable(\"Already type-checked\")",
          "old_line_content": "        auto &cs = Rewriter.getConstraintSystem();",
          "new_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "content_same": false
        },
        {
          "line": 4933,
          "old_api": "visit",
          "new_api": "getType",
          "old_text": "Rewriter.visit(expr)",
          "new_text": "var->getType()",
          "old_line_content": "      return Rewriter.visit(expr);",
          "new_line_content": "          var->overwriteType(cs.simplifyType(var->getType()));",
          "content_same": false
        },
        {
          "line": 4971,
          "old_api": "dyn_cast<FuncExpr>(expr)",
          "new_api": "walk",
          "old_text": "dyn_cast<FuncExpr>(expr)",
          "new_text": "expr->walk(walker)",
          "old_line_content": "      if (auto func = dyn_cast<FuncExpr>(expr)) {",
          "new_line_content": "  return expr->walk(walker);",
          "content_same": false
        },
        {
          "line": 4987,
          "old_api": "dyn_cast<NewArrayExpr>(expr)",
          "new_api": "dyn_cast<FuncExpr>(expr)",
          "old_text": "dyn_cast<NewArrayExpr>(expr)",
          "new_text": "dyn_cast<FuncExpr>(expr)",
          "old_line_content": "      if (auto newArray = dyn_cast<NewArrayExpr>(expr)) {",
          "new_line_content": "      if (auto func = dyn_cast<FuncExpr>(expr)) {",
          "content_same": false
        },
        {
          "line": 5099,
          "old_api": "getLoc",
          "new_api": "isSolved",
          "old_text": "expr->getLoc()",
          "new_text": "cs->isSolved(freeVariables)",
          "old_line_content": "    diagnose(expr->getLoc(), diag::constraint_type_check_fail)",
          "new_line_content": "          if (cs->isSolved(freeVariables)) {",
          "content_same": false
        },
        {
          "line": 5128,
          "old_api": "dump",
          "new_api": "applySolution",
          "old_text": "result->dump()",
          "new_text": "solution->applySolution(expr)",
          "old_line_content": "    result->dump();",
          "new_line_content": "  auto result = solution->applySolution(expr);",
          "content_same": false
        },
        {
          "line": 5142,
          "old_api": "getElement",
          "new_api": "getLangOpts",
          "old_text": "TE->getElement(i)",
          "new_text": "getLangOpts()",
          "old_line_content": "      Expr *subExpr = TE->getElement(i);",
          "new_line_content": "  if (getLangOpts().DebugConstraintSolver) {",
          "content_same": false
        },
        {
          "line": 5155,
          "old_api": "getObjectType",
          "new_api": "getASTContext",
          "old_text": "destLV->getObjectType()",
          "new_text": "cs.getASTContext()",
          "old_line_content": "    destTy = destLV->getObjectType();",
          "new_line_content": "    auto &ctx = cs.getASTContext();",
          "content_same": false
        },
        {
          "line": 5161,
          "old_api": "createTypeVariable",
          "new_api": "Type",
          "old_text": "cs.createTypeVariable(dest)",
          "new_text": "Type()",
          "old_line_content": "    auto objectTv = cs.createTypeVariable(dest);",
          "new_line_content": "        return Type();",
          "content_same": false
        },
        {
          "line": 5162,
          "old_api": "getASTContext",
          "new_api": "getElementName",
          "old_text": "LValueType::get(objectTv,\n                                 LValueType::Qual(LValueType::Qual::Implicit|\n                                                  LValueType::Qual::NonHeap),\n                                 cs.getASTContext())",
          "new_text": "TE->getElementName(i)",
          "old_line_content": "    auto refTv = LValueType::get(objectTv,",
          "new_line_content": "      destTupleTypes.push_back(TupleTypeElt(elemTy, TE->getElementName(i)));",
          "content_same": false
        },
        {
          "line": 5165,
          "old_api": "getASTContext",
          "new_api": "TupleType::get(destTupleTypes, ctx)",
          "old_text": "cs.getASTContext()",
          "new_text": "TupleType::get(destTupleTypes, ctx)",
          "old_line_content": "                                 cs.getASTContext());",
          "new_line_content": "    return TupleType::get(destTupleTypes, ctx);",
          "content_same": false
        },
        {
          "line": 5169,
          "old_api": "destTy->is<ErrorType>()",
          "new_api": "destTy->getAs<LValueType>()",
          "old_text": "destTy->is<ErrorType>()",
          "new_text": "destTy->getAs<LValueType>()",
          "old_line_content": "    if (!destTy->is<ErrorType>())",
          "new_line_content": "  if (LValueType *destLV = destTy->getAs<LValueType>()) {",
          "content_same": false
        },
        {
          "line": 5171,
          "old_api": "getSourceRange",
          "new_api": "getObjectType",
          "old_text": "dest->getSourceRange()",
          "new_text": "destLV->getObjectType()",
          "old_line_content": "        << dest->getSourceRange();",
          "new_line_content": "    destTy = destLV->getObjectType();",
          "content_same": false
        },
        {
          "line": 5187,
          "old_api": "PreCheckExpression",
          "new_api": "getSourceRange",
          "old_text": "PreCheckExpression(*this)",
          "new_text": "dest->getSourceRange()",
          "old_line_content": "  dest = dest->walk(PreCheckExpression(*this));",
          "new_line_content": "        << dest->getSourceRange();",
          "content_same": false
        },
        {
          "line": 5189,
          "old_api": "std::make_pair(nullptr, nullptr)",
          "new_api": "Type",
          "old_text": "std::make_pair(nullptr, nullptr)",
          "new_text": "Type()",
          "old_line_content": "    return std::make_pair(nullptr, nullptr);",
          "new_line_content": "    return Type();",
          "content_same": false
        },
        {
          "line": 5205,
          "old_api": "computeAssignDestType",
          "new_api": "std::make_pair(nullptr, nullptr)",
          "old_text": "computeAssignDestType(cs, dest, equalLoc)",
          "new_text": "std::make_pair(nullptr, nullptr)",
          "old_line_content": "  auto destTy = computeAssignDestType(cs, dest, equalLoc);",
          "new_line_content": "    return std::make_pair(nullptr, nullptr);",
          "content_same": false
        },
        {
          "line": 5212,
          "old_api": "getLangOpts",
          "new_api": "llvm::errs()",
          "old_text": "getLangOpts()",
          "new_text": "llvm::errs()",
          "old_line_content": "  if (getLangOpts().DebugConstraintSolver) {",
          "new_line_content": "  llvm::raw_ostream &log = llvm::errs();",
          "content_same": false
        },
        {
          "line": 5226,
          "old_api": "getLangOpts",
          "new_api": "getType",
          "old_text": "getLangOpts()",
          "new_text": "src->getType()",
          "old_line_content": "    if (getLangOpts().DebugConstraintSolver) {",
          "new_line_content": "  cs.addConstraint(ConstraintKind::Conversion, src->getType(), destTy);",
          "content_same": false
        },
        {
          "line": 5228,
          "old_api": "dump",
          "new_api": "getLangOpts",
          "old_text": "cs.dump()",
          "new_text": "getLangOpts()",
          "old_line_content": "      cs.dump();",
          "new_line_content": "  if (getLangOpts().DebugConstraintSolver) {",
          "content_same": false
        },
        {
          "line": 5231,
          "old_api": "empty",
          "new_api": "print",
          "old_text": "viable.empty()",
          "new_text": "dest->print(log)",
          "old_line_content": "      if (!viable.empty()) {",
          "new_line_content": "    dest->print(log);",
          "content_same": false
        },
        {
          "line": 5253,
          "old_api": "diagnose",
          "new_api": "isSolved",
          "old_text": "diagnose(equalLoc, diag::constraint_assign_type_check_fail)",
          "new_text": "cs->isSolved(freeVariables)",
          "old_line_content": "    diagnose(equalLoc, diag::constraint_assign_type_check_fail)",
          "new_line_content": "          if (cs->isSolved(freeVariables)) {",
          "content_same": false
        },
        {
          "line": 5289,
          "old_api": "print",
          "new_api": "applySolution",
          "old_text": "dest->print(log)",
          "new_text": "solution->applySolution(src)",
          "old_line_content": "    dest->print(log);",
          "new_line_content": "  src = solution->applySolution(src);",
          "content_same": false
        },
        {
          "line": 5305,
          "old_api": "llvm::errs()",
          "new_api": "print",
          "old_text": "llvm::errs()",
          "new_text": "dest->print(log)",
          "old_line_content": "  llvm::raw_ostream &out = llvm::errs();",
          "new_line_content": "    dest->print(log);",
          "content_same": false
        },
        {
          "line": 5321,
          "old_api": "getFixedType",
          "new_api": "llvm::errs()",
          "old_text": "cs->getFixedType(cs->assumedTypeVar)",
          "new_text": "llvm::errs()",
          "old_line_content": "            << cs->getFixedType(cs->assumedTypeVar) << \"\\n\";",
          "new_line_content": "  llvm::raw_ostream &out = llvm::errs();",
          "content_same": false
        },
        {
          "line": 5326,
          "old_api": "empty",
          "new_api": "push_back",
          "old_text": "cs->ResolvedOverloads.empty()",
          "new_text": "path.push_back(cs)",
          "old_line_content": "      assert(!cs->ResolvedOverloads.empty());",
          "new_line_content": "      path.push_back(cs);",
          "content_same": false
        },
        {
          "line": 5336,
          "old_api": "getBoundType",
          "new_api": "getString",
          "old_text": "ovl.first->getBoundType()->getString()",
          "new_text": "cs->assumedTypeVar->getString()",
          "old_line_content": "            << ovl.first->getBoundType()->getString() << \" == \"",
          "new_line_content": "        out << \"  assuming \" << cs->assumedTypeVar->getString() << \" == \"",
          "content_same": false
        },
        {
          "line": 5337,
          "old_api": "getString",
          "new_api": "getFixedType",
          "old_text": "ovl.second.second->getString()",
          "new_text": "cs->getFixedType(cs->assumedTypeVar)",
          "old_line_content": "            << ovl.second.second->getString() << \"\\n\";",
          "new_line_content": "            << cs->getFixedType(cs->assumedTypeVar) << \"\\n\";",
          "content_same": false
        },
        {
          "line": 5353,
          "old_api": "getBaseType",
          "new_api": "getString",
          "old_text": "choice.getBaseType()->getString()",
          "new_text": "ovl.second.second->getString()",
          "old_line_content": "          out << \"tuple \" << choice.getBaseType()->getString() << \" index \"",
          "new_line_content": "            << ovl.second.second->getString() << \"\\n\";",
          "content_same": false
        },
        {
          "line": 5365,
          "old_api": "indent",
          "new_api": "getBaseType",
          "old_text": "out.indent(2)",
          "new_text": "choice.getBaseType()->getString()",
          "old_line_content": "      out.indent(2);",
          "new_line_content": "          out << \"identity \" << choice.getBaseType()->getString() << \" -> \"",
          "content_same": false
        },
        {
          "line": 5366,
          "old_api": "print",
          "new_api": "getBaseType",
          "old_text": "tv->getImpl().print(out)",
          "new_text": "choice.getBaseType()->getString()",
          "old_line_content": "      tv->getImpl().print(out);",
          "new_line_content": "              << choice.getBaseType()->getString() << \"\\n\";",
          "content_same": false
        },
        {
          "line": 5369,
          "old_api": "getFixedType",
          "new_api": "getBaseType",
          "old_text": "getFixedType(tv)",
          "new_text": "choice.getBaseType()->getString()",
          "old_line_content": "        if (auto fixed = getFixedType(tv)) {",
          "new_line_content": "          out << \"tuple \" << choice.getBaseType()->getString() << \" index \"",
          "content_same": false
        },
        {
          "line": 5383,
          "old_api": "indent",
          "new_api": "getRepresentative",
          "old_text": "out.indent(2)",
          "new_text": "getRepresentative(tv)",
          "old_line_content": "    out.indent(2);",
          "new_line_content": "      auto rep = getRepresentative(tv);",
          "content_same": false
        },
        {
          "line": 5399,
          "old_api": "getBoundType",
          "new_api": "indent",
          "old_text": "overload->getBoundType()->getString()",
          "new_text": "out.indent(2)",
          "old_line_content": "        << overload->getBoundType()->getString() << \":\\n\";",
          "new_line_content": "    out.indent(2);",
          "content_same": false
        },
        {
          "line": 5400,
          "old_api": "getChoices",
          "new_api": "print",
          "old_text": "overload->getChoices()",
          "new_text": "constraint->print(out)",
          "old_line_content": "      for (auto choice : overload->getChoices()) {",
          "new_line_content": "    constraint->print(out);",
          "content_same": false
        },
        {
          "line": 5406,
          "old_api": "getDecl",
          "new_api": "indent",
          "old_text": "choice.getDecl()->getName().str()",
          "new_text": "out.indent(2)",
          "old_line_content": "          out << choice.getDecl()->getName().str() << \": \";",
          "new_line_content": "    out.indent(2);",
          "content_same": false
        },
        {
          "line": 5407,
          "old_api": "getDecl",
          "new_api": "print",
          "old_text": "choice.getDecl()->getTypeOfReference()->getString()",
          "new_text": "constraint->print(out)",
          "old_line_content": "          out << choice.getDecl()->getTypeOfReference()->getString() << '\\n';",
          "new_line_content": "    constraint->print(out);",
          "content_same": false
        },
        {
          "line": 5411,
          "old_api": "getBaseType",
          "new_api": "empty",
          "old_text": "choice.getBaseType()->getString()",
          "new_text": "UnresolvedOverloadSets.empty()",
          "old_line_content": "          out << \"base type \" << choice.getBaseType()->getString() << \"\\n\";",
          "new_line_content": "  if (!UnresolvedOverloadSets.empty()) {",
          "content_same": false
        },
        {
          "line": 5416,
          "old_api": "getBaseType",
          "new_api": "getChoices",
          "old_text": "choice.getBaseType()->getString()",
          "new_text": "overload->getChoices()",
          "old_line_content": "            << choice.getBaseType()->getString() << \"\\n\";",
          "new_line_content": "      for (auto choice : overload->getChoices()) {",
          "content_same": false
        },
        {
          "line": 5423,
          "old_api": "getBaseType",
          "new_api": "getDecl",
          "old_text": "choice.getBaseType()->getString()",
          "new_text": "choice.getDecl()->getTypeOfReference()->getString()",
          "old_line_content": "          out << \"tuple \" << choice.getBaseType()->getString() << \" index \"",
          "new_line_content": "          out << choice.getDecl()->getTypeOfReference()->getString() << '\\n';",
          "content_same": false
        },
        {
          "line": 5432,
          "old_api": "isSolved",
          "new_api": "getBaseType",
          "old_text": "isSolved(freeVariables)",
          "new_text": "choice.getBaseType()->getString()",
          "old_line_content": "  if (isSolved(freeVariables)) {",
          "new_line_content": "            << choice.getBaseType()->getString() << \"\\n\";",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 4096,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "field.getType()",
          "old_line_content": "",
          "new_line_content": "                 fields.push_back(TupleTypeElt(field.getType(),",
          "content_same": false
        },
        {
          "line": 4097,
          "old_api": null,
          "new_api": "getName",
          "old_text": null,
          "new_text": "field.getName()",
          "old_line_content": "  // Compare the sets of bound type variables in the two systems.",
          "new_line_content": "                                               field.getName(),",
          "content_same": false
        },
        {
          "line": 4099,
          "old_api": null,
          "new_api": "getVarargBaseTy",
          "old_text": null,
          "new_text": "field.getVarargBaseTy()",
          "old_line_content": "  auto compareTypeVariables =",
          "new_line_content": "                                               field.getVarargBaseTy()));",
          "content_same": false
        },
        {
          "line": 4102,
          "old_api": null,
          "new_api": "TupleType::get(fields, tc.Context)",
          "old_text": null,
          "new_text": "TupleType::get(fields, tc.Context)",
          "old_line_content": "",
          "new_line_content": "               return TupleType::get(fields, tc.Context);",
          "content_same": false
        },
        {
          "line": 4127,
          "old_api": null,
          "new_api": "getTopConstraintSystem",
          "old_text": null,
          "new_text": "cs1->getTopConstraintSystem()",
          "old_line_content": "            continue;",
          "new_line_content": "      auto &topSystem = cs1->getTopConstraintSystem();",
          "content_same": false
        },
        {
          "line": 4134,
          "old_api": null,
          "new_api": "simplifyType",
          "old_text": null,
          "new_text": "cs1->simplifyType(fixedTV1.second)",
          "old_line_content": "            return SolutionCompareResult::Incomparable;",
          "new_line_content": "          auto type1 = cs1->simplifyType(fixedTV1.second);",
          "content_same": false
        },
        {
          "line": 4138,
          "old_api": null,
          "new_api": "getTypeChecker",
          "old_text": null,
          "new_text": "cs1->getTypeChecker()",
          "old_line_content": "          bool trivial = false;",
          "new_line_content": "          type1 = stripInitializers(cs1->getTypeChecker(), type1);",
          "content_same": false
        },
        {
          "line": 4142,
          "old_api": null,
          "new_api": "isEqual",
          "old_text": null,
          "new_text": "type1->isEqual(type2)",
          "old_line_content": "                               == SolutionKind::TriviallySolved;",
          "new_line_content": "          if (type1->isEqual(type2))",
          "content_same": false
        },
        {
          "line": 4149,
          "old_api": null,
          "new_api": "hasTypeVariable",
          "old_text": null,
          "new_text": "type2->hasTypeVariable()",
          "old_line_content": "          if (type1Better || type2Better)",
          "new_line_content": "          if (type1->hasTypeVariable() || type2->hasTypeVariable())",
          "content_same": false
        },
        {
          "line": 4155,
          "old_api": null,
          "new_api": "matchTypes",
          "old_text": null,
          "new_text": "cs1->matchTypes(type1, type2,\n                                             TypeMatchKind::Subtype,\n                                             TMF_None, trivial)",
          "old_line_content": "          // that matches the default.",
          "new_line_content": "          bool type1Better = cs1->matchTypes(type1, type2,",
          "content_same": false
        },
        {
          "line": 4159,
          "old_api": null,
          "new_api": "matchTypes",
          "old_text": null,
          "new_text": "cs2->matchTypes(type2, type1,\n                                             TypeMatchKind::Subtype,\n                                             TMF_None, trivial)",
          "old_line_content": "          // are generated directly from the expression).",
          "new_line_content": "          bool type2Better = cs2->matchTypes(type2, type1,",
          "content_same": false
        },
        {
          "line": 4179,
          "old_api": null,
          "new_api": "typeMatchesDefaultLiteralConstraint",
          "old_text": null,
          "new_text": "topSystem.typeMatchesDefaultLiteralConstraint(boundTV1, type1)",
          "old_line_content": "  ",
          "new_line_content": "            = topSystem.typeMatchesDefaultLiteralConstraint(boundTV1, type1);",
          "content_same": false
        },
        {
          "line": 4181,
          "old_api": null,
          "new_api": "typeMatchesDefaultLiteralConstraint",
          "old_text": null,
          "new_text": "topSystem.typeMatchesDefaultLiteralConstraint(boundTV1, type2)",
          "old_line_content": "  // the first, but for now we don't really care.",
          "new_line_content": "            = topSystem.typeMatchesDefaultLiteralConstraint(boundTV1, type2);",
          "content_same": false
        },
        {
          "line": 4182,
          "old_api": null,
          "new_api": "updateSolutionCompareResult",
          "old_text": null,
          "new_text": "updateSolutionCompareResult(result, defaultLit1, defaultLit2)",
          "old_line_content": "",
          "new_line_content": "          if (updateSolutionCompareResult(result, defaultLit1, defaultLit2))",
          "content_same": false
        },
        {
          "line": 4194,
          "old_api": null,
          "new_api": "compareTypeVariables",
          "old_text": null,
          "new_text": "compareTypeVariables(&cs1, &cs2)",
          "old_line_content": "    return SolutionCompareResult::Incomparable;",
          "new_line_content": "  SolutionCompareResult result = compareTypeVariables(&cs1, &cs2);",
          "content_same": false
        },
        {
          "line": 4216,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "viable.empty()",
          "old_line_content": "    }",
          "new_line_content": "  if (viable.empty())",
          "content_same": false
        },
        {
          "line": 4219,
          "old_api": null,
          "new_api": "isSolved",
          "old_text": null,
          "new_text": "viable[0]->isSolved()",
          "old_line_content": "    case SolutionCompareResult::Identical:",
          "new_line_content": "    return viable[0]->isSolved()? viable[0] : nullptr;",
          "content_same": false
        },
        {
          "line": 4225,
          "old_api": null,
          "new_api": "isSolved",
          "old_text": null,
          "new_text": "cs->isSolved()",
          "old_line_content": "",
          "new_line_content": "    if (!cs->isSolved())",
          "content_same": false
        },
        {
          "line": 4234,
          "old_api": null,
          "new_api": "compareSolutions",
          "old_text": null,
          "new_text": "compareSolutions(*cs, *best)",
          "old_line_content": "",
          "new_line_content": "    switch (compareSolutions(*cs, *best)) {",
          "content_same": false
        },
        {
          "line": 4253,
          "old_api": null,
          "new_api": "isSolved",
          "old_text": null,
          "new_text": "cs->isSolved()",
          "old_line_content": "",
          "new_line_content": "    if (best == cs || !cs->isSolved())",
          "content_same": false
        },
        {
          "line": 4256,
          "old_api": null,
          "new_api": "compareSolutions",
          "old_text": null,
          "new_text": "compareSolutions(*best, *cs)",
          "old_line_content": "",
          "new_line_content": "    switch (compareSolutions(*best, *cs)) {",
          "content_same": false
        },
        {
          "line": 4297,
          "old_api": null,
          "new_api": "getSemanticsProvidingExpr",
          "old_text": null,
          "new_text": "expr->getSemanticsProvidingExpr()",
          "old_line_content": "    ConstraintSystem &CS;",
          "new_line_content": "  expr = expr->getSemanticsProvidingExpr();",
          "content_same": false
        },
        {
          "line": 4298,
          "old_api": null,
          "new_api": "dyn_cast<DeclRefExpr>(expr)",
          "old_text": null,
          "new_text": "dyn_cast<DeclRefExpr>(expr)",
          "old_line_content": "",
          "new_line_content": "  if (auto dre = dyn_cast<DeclRefExpr>(expr))",
          "content_same": false
        },
        {
          "line": 4299,
          "old_api": null,
          "new_api": "isAssignment",
          "old_text": null,
          "new_text": "dre->getDecl()->getAttrs().isAssignment()",
          "old_line_content": "    Expr *specialize(Expr *expr, PolymorphicFunctionType *polyFn,",
          "new_line_content": "    return dre->getDecl()->getAttrs().isAssignment();",
          "content_same": false
        },
        {
          "line": 4300,
          "old_api": null,
          "new_api": "dyn_cast<DotSyntaxCallExpr>(expr)",
          "old_text": null,
          "new_text": "dyn_cast<DotSyntaxCallExpr>(expr)",
          "old_line_content": "                     Type openedType) {",
          "new_line_content": "  if (auto dotCall = dyn_cast<DotSyntaxCallExpr>(expr))",
          "content_same": false
        },
        {
          "line": 4301,
          "old_api": null,
          "new_api": "getFn",
          "old_text": null,
          "new_text": "dotCall->getFn()",
          "old_line_content": "      // Gather the substitutions from archetypes to concrete types, found",
          "new_line_content": "    return isAssignmentFn(dotCall->getFn());",
          "content_same": false
        },
        {
          "line": 4302,
          "old_api": null,
          "new_api": "dyn_cast<ExistentialMemberRefExpr>(expr)",
          "old_text": null,
          "new_text": "dyn_cast<ExistentialMemberRefExpr>(expr)",
          "old_line_content": "      // by identifying all of the type variables in the original type",
          "new_line_content": "  if (auto emr = dyn_cast<ExistentialMemberRefExpr>(expr))",
          "content_same": false
        },
        {
          "line": 4304,
          "old_api": null,
          "new_api": "dyn_cast<ArchetypeMemberRefExpr>(expr)",
          "old_text": null,
          "new_text": "dyn_cast<ArchetypeMemberRefExpr>(expr)",
          "old_line_content": "      TypeSubstitutionMap substitutions;",
          "new_line_content": "  if (auto amr = dyn_cast<ArchetypeMemberRefExpr>(expr))",
          "content_same": false
        },
        {
          "line": 4306,
          "old_api": null,
          "new_api": "dyn_cast<GenericMemberRefExpr>(expr)",
          "old_text": null,
          "new_text": "dyn_cast<GenericMemberRefExpr>(expr)",
          "old_line_content": "                   [&](Type type) -> Type {",
          "new_line_content": "  if (auto gmr = dyn_cast<GenericMemberRefExpr>(expr))",
          "content_same": false
        },
        {
          "line": 4319,
          "old_api": null,
          "new_api": "getTypeChecker",
          "old_text": null,
          "new_text": "CS.getTypeChecker()",
          "old_line_content": "      // Check that the substitutions we've produced actually work.",
          "new_line_content": "      auto &tc = CS.getTypeChecker();",
          "content_same": false
        },
        {
          "line": 4321,
          "old_api": null,
          "new_api": "transformType",
          "old_text": null,
          "new_text": "tc.transformType(openedType,\n                   [&](Type type) -> Type {\n                     if (auto tv = type->getAs<TypeVariableType>()) {\n                       auto archetype = tv->getImpl().getArchetype();\n                       auto simplified = CS.simplifyType(tv);\n                       substitutions[archetype] = simplified;\n\n                       return SubstitutedType::get(archetype, simplified,\n                                                   tc.Context);\n                     }\n\n                     return type;\n                   })",
          "old_line_content": "      // succeeds.",
          "new_line_content": "      auto type = tc.transformType(openedType,",
          "content_same": false
        },
        {
          "line": 4324,
          "old_api": null,
          "new_api": "getArchetype",
          "old_text": null,
          "new_text": "tv->getImpl().getArchetype()",
          "old_line_content": "                                &substitutions))",
          "new_line_content": "                       auto archetype = tv->getImpl().getArchetype();",
          "content_same": false
        },
        {
          "line": 4325,
          "old_api": null,
          "new_api": "simplifyType",
          "old_text": null,
          "new_text": "CS.simplifyType(tv)",
          "old_line_content": "        return nullptr;",
          "new_line_content": "                       auto simplified = CS.simplifyType(tv);",
          "content_same": false
        },
        {
          "line": 4339,
          "old_api": null,
          "new_api": "getLoc",
          "old_text": null,
          "new_text": "expr->getLoc()",
          "old_line_content": "",
          "new_line_content": "      if (tc.checkSubstitutions(substitutions, conformances, expr->getLoc(),",
          "content_same": false
        },
        {
          "line": 4344,
          "old_api": null,
          "new_api": "getGenericParams",
          "old_text": null,
          "new_text": "polyFn->getGenericParams()",
          "old_line_content": "        return nullptr;",
          "new_line_content": "      auto encodedSubs = tc.encodeSubstitutions(&polyFn->getGenericParams(),",
          "content_same": false
        },
        {
          "line": 4356,
          "old_api": null,
          "new_api": "getTypeChecker",
          "old_text": null,
          "new_text": "CS.getTypeChecker()",
          "old_line_content": "",
          "new_line_content": "      auto &tc = CS.getTypeChecker();",
          "content_same": false
        },
        {
          "line": 4357,
          "old_api": null,
          "new_api": "buildMemberRefExpr",
          "old_text": null,
          "new_text": "tc.buildMemberRefExpr(base, dotLoc, { &member, 1 },\n                                          memberLoc)",
          "old_line_content": "    /// \\brief Build a reference to an operator within a protocol.",
          "new_line_content": "      auto result = tc.buildMemberRefExpr(base, dotLoc, { &member, 1 },",
          "content_same": false
        },
        {
          "line": 4362,
          "old_api": null,
          "new_api": "recheckTypes",
          "old_text": null,
          "new_text": "tc.recheckTypes(result)",
          "old_line_content": "",
          "new_line_content": "      result = tc.recheckTypes(result);",
          "content_same": false
        },
        {
          "line": 4366,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "result->getType()->getAs<PolymorphicFunctionType>()",
          "old_line_content": "      // FIXME: This is both inefficient and suspicious. We should probably",
          "new_line_content": "      if (auto polyFn = result->getType()->getAs<PolymorphicFunctionType>()) {",
          "content_same": false
        },
        {
          "line": 4367,
          "old_api": null,
          "new_api": "specialize",
          "old_text": null,
          "new_text": "specialize(result, polyFn, openedType)",
          "old_line_content": "      // find a place to cache the type variable, rather than searching for it",
          "new_line_content": "        return specialize(result, polyFn, openedType);",
          "content_same": false
        },
        {
          "line": 4376,
          "old_api": null,
          "new_api": "isa<FuncDecl>(value)",
          "old_text": null,
          "new_text": "isa<FuncDecl>(value)",
          "old_line_content": "            return nullptr;",
          "new_line_content": "      assert(isa<FuncDecl>(value) && \"Only functions allowed\");",
          "content_same": false
        },
        {
          "line": 4377,
          "old_api": null,
          "new_api": "isOperator",
          "old_text": null,
          "new_text": "cast<FuncDecl>(value)->isOperator()",
          "old_line_content": "          }",
          "new_line_content": "      assert(cast<FuncDecl>(value)->isOperator() && \"Only operators allowed\");",
          "content_same": false
        },
        {
          "line": 4389,
          "old_api": null,
          "new_api": "type->getAs<TypeVariableType>()",
          "old_text": null,
          "new_text": "type->getAs<TypeVariableType>()",
          "old_line_content": "    }",
          "new_line_content": "        if (auto typeVar = type->getAs<TypeVariableType>()) {",
          "content_same": false
        },
        {
          "line": 4390,
          "old_api": null,
          "new_api": "getArchetype",
          "old_text": null,
          "new_text": "typeVar->getImpl().getArchetype()",
          "old_line_content": "",
          "new_line_content": "          if (typeVar->getImpl().getArchetype() == thisArchetype) {",
          "content_same": false
        },
        {
          "line": 4391,
          "old_api": null,
          "new_api": "simplifyType",
          "old_text": null,
          "new_text": "CS.simplifyType(typeVar)",
          "old_line_content": "  public:",
          "new_line_content": "            baseTy = CS.simplifyType(typeVar);",
          "content_same": false
        },
        {
          "line": 4398,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(baseTy && \"Unable to find base type for protocol operator ref\")",
          "old_line_content": "    /// This routine is used for 'simple' expressions that only need their",
          "new_line_content": "      assert(baseTy && \"Unable to find base type for protocol operator ref\");",
          "content_same": false
        },
        {
          "line": 4403,
          "old_api": null,
          "new_api": "MetaTypeType::get(baseTy, ctx)",
          "old_text": null,
          "new_text": "MetaTypeType::get(baseTy, ctx)",
          "old_line_content": "      return expr;",
          "new_line_content": "                                         MetaTypeType::get(baseTy, ctx));",
          "content_same": false
        },
        {
          "line": 4404,
          "old_api": null,
          "new_api": "SourceLoc",
          "old_text": null,
          "new_text": "SourceLoc()",
          "old_line_content": "    }",
          "new_line_content": "      return buildMemberRef(base, SourceLoc(), value, nameLoc, openedType);",
          "content_same": false
        },
        {
          "line": 4417,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "expr->getType()",
          "old_line_content": "    ",
          "new_line_content": "      auto toType = CS.simplifyType(expr->getType());",
          "content_same": false
        },
        {
          "line": 4418,
          "old_api": null,
          "new_api": "setType",
          "old_text": null,
          "new_text": "expr->setType(toType)",
          "old_line_content": "    // FIXME: Add specific entries for the various literal expressions.",
          "new_line_content": "      expr->setType(toType);",
          "content_same": false
        },
        {
          "line": 4429,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "expr->getType()",
          "old_line_content": "      }",
          "new_line_content": "      auto type = CS.simplifyType(expr->getType());",
          "content_same": false
        },
        {
          "line": 4430,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "CS.getASTContext()",
          "old_line_content": "",
          "new_line_content": "      expr->setType(UnstructuredUnresolvedType::get(CS.getASTContext()));",
          "content_same": false
        },
        {
          "line": 4431,
          "old_api": null,
          "new_api": "convertToType",
          "old_text": null,
          "new_text": "CS.convertToType(expr, type)",
          "old_line_content": "      // Set the type of this expression to the actual type of the reference.",
          "new_line_content": "      return CS.convertToType(expr, type);",
          "content_same": false
        },
        {
          "line": 4437,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "expr->getType()",
          "old_line_content": "        return expr;",
          "new_line_content": "      auto fromType = expr->getType();",
          "content_same": false
        },
        {
          "line": 4440,
          "old_api": null,
          "new_api": "getDecl",
          "old_text": null,
          "new_text": "expr->getDecl()->getDeclContext()",
          "old_line_content": "      // be specialized.",
          "new_line_content": "            = dyn_cast<ProtocolDecl>(expr->getDecl()->getDeclContext())) {",
          "content_same": false
        },
        {
          "line": 4443,
          "old_api": null,
          "new_api": "getLoc",
          "old_text": null,
          "new_text": "expr->getLoc()",
          "old_line_content": "        // No polymorphic function; this a reference to a declaration with a",
          "new_line_content": "        return buildProtocolOperatorRef(proto, expr->getDecl(), expr->getLoc(),",
          "content_same": false
        },
        {
          "line": 4468,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"Already type-checked\")",
          "old_line_content": "                                          selected.second);",
          "new_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "content_same": false
        },
        {
          "line": 4474,
          "old_api": null,
          "new_api": "getGeneratedOverloadSet",
          "old_text": null,
          "new_text": "CS.getGeneratedOverloadSet(expr)",
          "old_line_content": "",
          "new_line_content": "      auto ovl = CS.getGeneratedOverloadSet(expr);",
          "content_same": false
        },
        {
          "line": 4475,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(ovl && \"No overload set associated with decl reference expr?\")",
          "old_line_content": "      // For a polymorphic function type, we have to specialize our reference.",
          "new_line_content": "      assert(ovl && \"No overload set associated with decl reference expr?\");",
          "content_same": false
        },
        {
          "line": 4480,
          "old_api": null,
          "new_api": "getDeclContext",
          "old_text": null,
          "new_text": "decl->getDeclContext()",
          "old_line_content": "",
          "new_line_content": "      if (auto proto = dyn_cast<ProtocolDecl>(decl->getDeclContext())) {",
          "content_same": false
        },
        {
          "line": 4483,
          "old_api": null,
          "new_api": "getLoc",
          "old_text": null,
          "new_text": "expr->getLoc()",
          "old_line_content": "",
          "new_line_content": "        return buildProtocolOperatorRef(proto, decl, expr->getLoc(),",
          "content_same": false
        },
        {
          "line": 4492,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "expr->getType()->getAs<PolymorphicFunctionType>()",
          "old_line_content": "",
          "new_line_content": "      if (auto polyFn = expr->getType()->getAs<PolymorphicFunctionType>()) {",
          "content_same": false
        },
        {
          "line": 4493,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(false)",
          "old_line_content": "    Expr *visitUnresolvedDeclRefExpr(UnresolvedDeclRefExpr *expr) {",
          "new_line_content": "        assert(false);",
          "content_same": false
        },
        {
          "line": 4494,
          "old_api": null,
          "new_api": "specialize",
          "old_text": null,
          "new_text": "specialize(result, polyFn, selected.second)",
          "old_line_content": "      // FIXME: We should have generated an overload set from this, in which",
          "new_line_content": "        return specialize(result, polyFn, selected.second);",
          "content_same": false
        },
        {
          "line": 4502,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(ovl && \"No overload set associated with decl reference expr?\")",
          "old_line_content": "    }",
          "new_line_content": "      assert(ovl && \"No overload set associated with decl reference expr?\");",
          "content_same": false
        },
        {
          "line": 4503,
          "old_api": null,
          "new_api": "getSelectedOverloadFromSet",
          "old_text": null,
          "new_text": "CS.getSelectedOverloadFromSet(ovl).getValue()",
          "old_line_content": "",
          "new_line_content": "      auto selected = CS.getSelectedOverloadFromSet(ovl).getValue();",
          "content_same": false
        },
        {
          "line": 4504,
          "old_api": null,
          "new_api": "getDotLoc",
          "old_text": null,
          "new_text": "expr->getDotLoc()",
          "old_line_content": "    Expr *visitExistentialMemberRefExpr(ExistentialMemberRefExpr *expr) {",
          "new_line_content": "      return buildMemberRef(expr->getBase(), expr->getDotLoc(),",
          "content_same": false
        },
        {
          "line": 4521,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"Already type-checked\")",
          "old_line_content": "    Expr *visitUnresolvedMemberExpr(UnresolvedMemberExpr *expr) {",
          "new_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "content_same": false
        },
        {
          "line": 4529,
          "old_api": null,
          "new_api": "getGeneratedOverloadSet",
          "old_text": null,
          "new_text": "CS.getGeneratedOverloadSet(expr)",
          "old_line_content": "      // The base expression is simply the metatype of a oneof type.",
          "new_line_content": "      auto ovl = CS.getGeneratedOverloadSet(expr);",
          "content_same": false
        },
        {
          "line": 4531,
          "old_api": null,
          "new_api": "getSelectedOverloadFromSet",
          "old_text": null,
          "new_text": "CS.getSelectedOverloadFromSet(ovl).getValue()",
          "old_line_content": "      auto base = new (tc.Context) MetatypeExpr(nullptr,",
          "new_line_content": "      auto selected = CS.getSelectedOverloadFromSet(ovl).getValue();",
          "content_same": false
        },
        {
          "line": 4546,
          "old_api": null,
          "new_api": "getTypeChecker",
          "old_text": null,
          "new_text": "CS.getTypeChecker()",
          "old_line_content": "",
          "new_line_content": "      auto &tc = CS.getTypeChecker();",
          "content_same": false
        },
        {
          "line": 4548,
          "old_api": null,
          "new_api": "getDotLoc",
          "old_text": null,
          "new_text": "expr->getDotLoc()",
          "old_line_content": "      // Determine the declaration selected for this overloaded reference.",
          "new_line_content": "                                                expr->getDotLoc(),",
          "content_same": false
        },
        {
          "line": 4554,
          "old_api": null,
          "new_api": "getName",
          "old_text": null,
          "new_text": "expr->getName()",
          "old_line_content": "      case OverloadChoiceKind::Decl:",
          "new_line_content": "      MemberLookup lookup(oneofTy, expr->getName(), tc.TU);",
          "content_same": false
        },
        {
          "line": 4557,
          "old_api": null,
          "new_api": "getDotLoc",
          "old_text": null,
          "new_text": "expr->getDotLoc()",
          "old_line_content": "                              selected.second);",
          "new_line_content": "      auto result = tc.buildMemberRefExpr(base, expr->getDotLoc(),",
          "content_same": false
        },
        {
          "line": 4558,
          "old_api": null,
          "new_api": "ArrayRef<ValueDecl *>(&member, 1)",
          "old_text": null,
          "new_text": "ArrayRef<ValueDecl *>(&member, 1)",
          "old_line_content": "",
          "new_line_content": "                                          ArrayRef<ValueDecl *>(&member, 1),",
          "content_same": false
        },
        {
          "line": 4559,
          "old_api": null,
          "new_api": "getNameLoc",
          "old_text": null,
          "new_text": "expr->getNameLoc()",
          "old_line_content": "      case OverloadChoiceKind::TupleIndex:",
          "new_line_content": "                                          expr->getNameLoc());",
          "content_same": false
        },
        {
          "line": 4566,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(ovl && \"No overload set associated with decl reference expr?\")",
          "old_line_content": "",
          "new_line_content": "      assert(ovl && \"No overload set associated with decl reference expr?\");",
          "content_same": false
        },
        {
          "line": 4567,
          "old_api": null,
          "new_api": "getSelectedOverloadFromSet",
          "old_text": null,
          "new_text": "CS.getSelectedOverloadFromSet(ovl).getValue()",
          "old_line_content": "      case OverloadChoiceKind::BaseType:",
          "new_line_content": "      auto selected = CS.getSelectedOverloadFromSet(ovl).getValue();",
          "content_same": false
        },
        {
          "line": 4569,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "selected.first.getKind()",
          "old_line_content": "      case OverloadChoiceKind::IdentityFunction:",
          "new_line_content": "      switch (selected.first.getKind()) {",
          "content_same": false
        },
        {
          "line": 4571,
          "old_api": null,
          "new_api": "getDotLoc",
          "old_text": null,
          "new_text": "expr->getDotLoc()",
          "old_line_content": "      }",
          "new_line_content": "        return buildMemberRef(expr->getBase(), expr->getDotLoc(),",
          "content_same": false
        },
        {
          "line": 4572,
          "old_api": null,
          "new_api": "getNameLoc",
          "old_text": null,
          "new_text": "expr->getNameLoc()",
          "old_line_content": "    }",
          "new_line_content": "                              selected.first.getDecl(), expr->getNameLoc(),",
          "content_same": false
        },
        {
          "line": 4576,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "CS.getASTContext()",
          "old_line_content": "    }",
          "new_line_content": "        return new (CS.getASTContext()) TupleElementExpr(",
          "content_same": false
        },
        {
          "line": 4577,
          "old_api": null,
          "new_api": "getBase",
          "old_text": null,
          "new_text": "expr->getBase()",
          "old_line_content": "",
          "new_line_content": "                                          expr->getBase(),",
          "content_same": false
        },
        {
          "line": 4578,
          "old_api": null,
          "new_api": "getDotLoc",
          "old_text": null,
          "new_text": "expr->getDotLoc()",
          "old_line_content": "    Expr *visitParenExpr(ParenExpr *expr) {",
          "new_line_content": "                                          expr->getDotLoc(),",
          "content_same": false
        },
        {
          "line": 4580,
          "old_api": null,
          "new_api": "getNameLoc",
          "old_text": null,
          "new_text": "expr->getNameLoc()",
          "old_line_content": "    }",
          "new_line_content": "                                          expr->getNameLoc(),",
          "content_same": false
        },
        {
          "line": 4581,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "expr->getType()",
          "old_line_content": "",
          "new_line_content": "                                          CS.simplifyType(expr->getType()));",
          "content_same": false
        },
        {
          "line": 4586,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"Nonsensical overload choice\")",
          "old_line_content": "    Expr *visitSubscriptExpr(SubscriptExpr *expr) {",
          "new_line_content": "        llvm_unreachable(\"Nonsensical overload choice\");",
          "content_same": false
        },
        {
          "line": 4605,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(ovl && \"No overload set associated with subscript expr?\")",
          "old_line_content": "                                                      subscript);",
          "new_line_content": "      assert(ovl && \"No overload set associated with subscript expr?\");",
          "content_same": false
        },
        {
          "line": 4607,
          "old_api": null,
          "new_api": "getDecl",
          "old_text": null,
          "new_text": "choice.getDecl()",
          "old_line_content": "      }",
          "new_line_content": "      auto subscript = cast<SubscriptDecl>(choice.getDecl());",
          "content_same": false
        },
        {
          "line": 4611,
          "old_api": null,
          "new_api": "getTypeChecker",
          "old_text": null,
          "new_text": "CS.getTypeChecker()",
          "old_line_content": "        auto result",
          "new_line_content": "      auto &tc = CS.getTypeChecker();",
          "content_same": false
        },
        {
          "line": 4618,
          "old_api": null,
          "new_api": "getLBracketLoc",
          "old_text": null,
          "new_text": "expr->getLBracketLoc()",
          "old_line_content": "      }",
          "new_line_content": "                                                      expr->getLBracketLoc(),",
          "content_same": false
        },
        {
          "line": 4619,
          "old_api": null,
          "new_api": "getIndex",
          "old_text": null,
          "new_text": "expr->getIndex()",
          "old_line_content": "",
          "new_line_content": "                                                      expr->getIndex(),",
          "content_same": false
        },
        {
          "line": 4620,
          "old_api": null,
          "new_api": "getRBracketLoc",
          "old_text": null,
          "new_text": "expr->getRBracketLoc()",
          "old_line_content": "      // Subscripting a specialization of a generic type.",
          "new_line_content": "                                                      expr->getRBracketLoc(),",
          "content_same": false
        },
        {
          "line": 4622,
          "old_api": null,
          "new_api": "semaSubscriptExpr",
          "old_text": null,
          "new_text": "tc.semaSubscriptExpr(result)",
          "old_line_content": "        auto result",
          "new_line_content": "        return tc.semaSubscriptExpr(result);",
          "content_same": false
        },
        {
          "line": 4629,
          "old_api": null,
          "new_api": "getLBracketLoc",
          "old_text": null,
          "new_text": "expr->getLBracketLoc()",
          "old_line_content": "      }",
          "new_line_content": "                                                    expr->getLBracketLoc(),",
          "content_same": false
        },
        {
          "line": 4630,
          "old_api": null,
          "new_api": "getIndex",
          "old_text": null,
          "new_text": "expr->getIndex()",
          "old_line_content": "",
          "new_line_content": "                                                    expr->getIndex(),",
          "content_same": false
        },
        {
          "line": 4631,
          "old_api": null,
          "new_api": "getRBracketLoc",
          "old_text": null,
          "new_text": "expr->getRBracketLoc()",
          "old_line_content": "      // Subscripting a normal, nominal type.",
          "new_line_content": "                                                    expr->getRBracketLoc(),",
          "content_same": false
        },
        {
          "line": 4639,
          "old_api": null,
          "new_api": "getBase",
          "old_text": null,
          "new_text": "expr->getBase()",
          "old_line_content": "",
          "new_line_content": "          = new (tc.Context) GenericSubscriptExpr(expr->getBase(),",
          "content_same": false
        },
        {
          "line": 4640,
          "old_api": null,
          "new_api": "getLBracketLoc",
          "old_text": null,
          "new_text": "expr->getLBracketLoc()",
          "old_line_content": "    Expr *visitExistentialSubscriptExpr(ExistentialSubscriptExpr *expr) {",
          "new_line_content": "                                                  expr->getLBracketLoc(),",
          "content_same": false
        },
        {
          "line": 4642,
          "old_api": null,
          "new_api": "getRBracketLoc",
          "old_text": null,
          "new_text": "expr->getRBracketLoc()",
          "old_line_content": "    }",
          "new_line_content": "                                                  expr->getRBracketLoc(),",
          "content_same": false
        },
        {
          "line": 4644,
          "old_api": null,
          "new_api": "semaSubscriptExpr",
          "old_text": null,
          "new_text": "tc.semaSubscriptExpr(result)",
          "old_line_content": "    Expr *visitArchetypeSubscriptExpr(ArchetypeSubscriptExpr *expr) {",
          "new_line_content": "        return tc.semaSubscriptExpr(result);",
          "content_same": false
        },
        {
          "line": 4648,
          "old_api": null,
          "new_api": "setDecl",
          "old_text": null,
          "new_text": "expr->setDecl(subscript)",
          "old_line_content": "    Expr *visitGenericSubscriptExpr(GenericSubscriptExpr *expr) {",
          "new_line_content": "      expr->setDecl(subscript);",
          "content_same": false
        },
        {
          "line": 4665,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"Already type-checked\")",
          "old_line_content": "        return;",
          "new_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "content_same": false
        },
        {
          "line": 4673,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "pattern->getKind()",
          "old_line_content": "",
          "new_line_content": "      switch (pattern->getKind()) {",
          "content_same": false
        },
        {
          "line": 4685,
          "old_api": null,
          "new_api": "getDecl",
          "old_text": null,
          "new_text": "cast<NamedPattern>(pattern)->getDecl()",
          "old_line_content": "",
          "new_line_content": "        auto var = cast<NamedPattern>(pattern)->getDecl();",
          "content_same": false
        },
        {
          "line": 4686,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "var->getType()",
          "old_line_content": "    Expr *visitFuncExpr(FuncExpr *expr) {",
          "new_line_content": "        var->overwriteType(CS.simplifyType(var->getType()));",
          "content_same": false
        },
        {
          "line": 4693,
          "old_api": null,
          "new_api": "getPattern",
          "old_text": null,
          "new_text": "tupleElt.getPattern()",
          "old_line_content": "        return nullptr;",
          "new_line_content": "          simplifyPatternTypes(tupleElt.getPattern());",
          "content_same": false
        },
        {
          "line": 4699,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"Unhandled pattern kind\")",
          "old_line_content": "",
          "new_line_content": "      llvm_unreachable(\"Unhandled pattern kind\");",
          "content_same": false
        },
        {
          "line": 4704,
          "old_api": null,
          "new_api": "simplifyExprType",
          "old_text": null,
          "new_text": "simplifyExprType(expr)",
          "old_line_content": "      unsigned numInputArgs = 1;",
          "new_line_content": "      simplifyExprType(expr);",
          "content_same": false
        },
        {
          "line": 4708,
          "old_api": null,
          "new_api": "getArgParamPatterns",
          "old_text": null,
          "new_text": "expr->getArgParamPatterns()",
          "old_line_content": "",
          "new_line_content": "      if (CS.TC.coerceToType(expr->getArgParamPatterns()[0], input, false))",
          "content_same": false
        },
        {
          "line": 4717,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "expr->getType()",
          "old_line_content": "      if (inputTT) {",
          "new_line_content": "      auto type = CS.simplifyType(expr->getType())->castTo<FunctionType>();",
          "content_same": false
        },
        {
          "line": 4726,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "expr->getParserVarDecls().begin()",
          "old_line_content": "      } else {",
          "new_line_content": "      std::vector<VarDecl*> argVars(expr->getParserVarDecls().begin(),",
          "content_same": false
        },
        {
          "line": 4729,
          "old_api": null,
          "new_api": "getLoc",
          "old_text": null,
          "new_text": "expr->getLoc()",
          "old_line_content": "      }",
          "new_line_content": "      SourceLoc loc = expr->getLoc();",
          "content_same": false
        },
        {
          "line": 4739,
          "old_api": null,
          "new_api": "emplace_back",
          "old_text": null,
          "new_text": "argElts.emplace_back(p)",
          "old_line_content": "",
          "new_line_content": "          argElts.emplace_back(p);",
          "content_same": false
        },
        {
          "line": 4743,
          "old_api": null,
          "new_api": "getInput",
          "old_text": null,
          "new_text": "type->getInput()",
          "old_line_content": "      return expr;",
          "new_line_content": "        argVars[0]->overwriteType(type->getInput());",
          "content_same": false
        },
        {
          "line": 4744,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "CS.getASTContext()",
          "old_line_content": "    }",
          "new_line_content": "        argPat = new (CS.getASTContext()) NamedPattern(argVars[0]);",
          "content_same": false
        },
        {
          "line": 4746,
          "old_api": null,
          "new_api": "getInput",
          "old_text": null,
          "new_text": "type->getInput()",
          "old_line_content": "    Expr *visitImplicitClosureExpr(ImplicitClosureExpr *expr) {",
          "new_line_content": "      argPat->setType(type->getInput());",
          "content_same": false
        },
        {
          "line": 4751,
          "old_api": null,
          "new_api": "getResult",
          "old_text": null,
          "new_text": "type->getResult()",
          "old_line_content": "",
          "new_line_content": "      auto resultType = type->getResult();",
          "content_same": false
        },
        {
          "line": 4752,
          "old_api": null,
          "new_api": "getBody",
          "old_text": null,
          "new_text": "expr->getBody()",
          "old_line_content": "    Expr *visitAddressOfExpr(AddressOfExpr *expr) {",
          "new_line_content": "      if (Expr *body = CS.convertToType(expr->getBody(), resultType))",
          "content_same": false
        },
        {
          "line": 4753,
          "old_api": null,
          "new_api": "setBody",
          "old_text": null,
          "new_text": "expr->setBody(body)",
          "old_line_content": "      // Compute the type of the address-of expression.",
          "new_line_content": "        expr->setBody(body);",
          "content_same": false
        },
        {
          "line": 4754,
          "old_api": null,
          "new_api": "setType",
          "old_text": null,
          "new_text": "expr->setType(type)",
          "old_line_content": "      // FIXME: Do we really need to compute this, or is this just a hack",
          "new_line_content": "      expr->setType(type);",
          "content_same": false
        },
        {
          "line": 4763,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"Already type-checked\")",
          "old_line_content": "    }",
          "new_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "content_same": false
        },
        {
          "line": 4773,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(lv && \"Subexpression is not an lvalue?\")",
          "old_line_content": "",
          "new_line_content": "      assert(lv && \"Subexpression is not an lvalue?\");",
          "content_same": false
        },
        {
          "line": 4775,
          "old_api": null,
          "new_api": "getQualifiers",
          "old_text": null,
          "new_text": "lv->getQualifiers()",
          "old_line_content": "      // canonicalization mapped it down to Slice<T>.",
          "new_line_content": "      auto destQuals = lv->getQualifiers() - LValueType::Qual::Implicit;",
          "content_same": false
        },
        {
          "line": 4777,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "CS.getASTContext()",
          "old_line_content": "      if (!sliceType) {",
          "new_line_content": "                                    CS.getASTContext()));",
          "content_same": false
        },
        {
          "line": 4782,
          "old_api": null,
          "new_api": "getTypeChecker",
          "old_text": null,
          "new_text": "CS.getTypeChecker()",
          "old_line_content": "      }",
          "new_line_content": "      auto &tc = CS.getTypeChecker();",
          "content_same": false
        },
        {
          "line": 4785,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "expr->getType()",
          "old_line_content": "      // Find the appropriate injection function.",
          "new_line_content": "      auto resultType = CS.simplifyType(expr->getType());",
          "content_same": false
        },
        {
          "line": 4792,
          "old_api": null,
          "new_api": "getPointer",
          "old_text": null,
          "new_text": "resultType.getPointer()",
          "old_line_content": "      ",
          "new_line_content": "      auto sliceType = dyn_cast<ArraySliceType>(resultType.getPointer());",
          "content_same": false
        },
        {
          "line": 4794,
          "old_api": null,
          "new_api": "ArraySliceType::get(elementType, tc.Context)",
          "old_text": null,
          "new_text": "ArraySliceType::get(elementType, tc.Context)",
          "old_line_content": "    }",
          "new_line_content": "        sliceType = ArraySliceType::get(elementType, tc.Context);",
          "content_same": false
        },
        {
          "line": 4795,
          "old_api": null,
          "new_api": "setImplementationType",
          "old_text": null,
          "new_text": "sliceType->setImplementationType(\n                                       resultType->castTo<BoundGenericType>())",
          "old_line_content": "",
          "new_line_content": "        sliceType->setImplementationType(",
          "content_same": false
        },
        {
          "line": 4796,
          "old_api": null,
          "new_api": "resultType->castTo<BoundGenericType>()",
          "old_text": null,
          "new_text": "resultType->castTo<BoundGenericType>()",
          "old_line_content": "    Expr *visitMetatypeExpr(MetatypeExpr *expr) {",
          "new_line_content": "                                       resultType->castTo<BoundGenericType>());",
          "content_same": false
        },
        {
          "line": 4804,
          "old_api": null,
          "new_api": "getNewLoc",
          "old_text": null,
          "new_text": "expr->getNewLoc()",
          "old_line_content": "      }",
          "new_line_content": "                            expr->getNewLoc());",
          "content_same": false
        },
        {
          "line": 4807,
          "old_api": null,
          "new_api": "setInjectionFunction",
          "old_text": null,
          "new_text": "expr->setInjectionFunction(injectionFn)",
          "old_line_content": "",
          "new_line_content": "      expr->setInjectionFunction(injectionFn);",
          "content_same": false
        },
        {
          "line": 4815,
          "old_api": null,
          "new_api": "getBase",
          "old_text": null,
          "new_text": "expr->getBase()",
          "old_line_content": "      // The function is always an rvalue.",
          "new_line_content": "      if (Expr *base = expr->getBase()) {",
          "content_same": false
        },
        {
          "line": 4818,
          "old_api": null,
          "new_api": "setBase",
          "old_text": null,
          "new_text": "expr->setBase(base)",
          "old_line_content": "        return nullptr;",
          "new_line_content": "        expr->setBase(base);",
          "content_same": false
        },
        {
          "line": 4825,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"Already type-checked\")",
          "old_line_content": "        Expr *arg = nullptr;",
          "new_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "content_same": false
        },
        {
          "line": 4832,
          "old_api": null,
          "new_api": "getFn",
          "old_text": null,
          "new_text": "expr->getFn()",
          "old_line_content": "        if (!arg) {",
          "new_line_content": "      auto fn = tc.convertToRValue(expr->getFn());",
          "content_same": false
        },
        {
          "line": 4839,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "fn->getType()->getAs<FunctionType>()",
          "old_line_content": "",
          "new_line_content": "      if (auto fnType = fn->getType()->getAs<FunctionType>()) {",
          "content_same": false
        },
        {
          "line": 4843,
          "old_api": null,
          "new_api": "getInput",
          "old_text": null,
          "new_text": "fnType->getInput()",
          "old_line_content": "",
          "new_line_content": "          arg = CS.convertObjectArgumentToType(origArg, fnType->getInput());",
          "content_same": false
        },
        {
          "line": 4846,
          "old_api": null,
          "new_api": "isAssignmentFn",
          "old_text": null,
          "new_text": "isAssignmentFn(fn)",
          "old_line_content": "        }",
          "new_line_content": "                                 isAssignmentFn(fn));",
          "content_same": false
        },
        {
          "line": 4849,
          "old_api": null,
          "new_api": "getLoc",
          "old_text": null,
          "new_text": "fn->getLoc()",
          "old_line_content": "      }",
          "new_line_content": "          tc.diagnose(fn->getLoc(), diag::while_converting_function_argument,",
          "content_same": false
        },
        {
          "line": 4850,
          "old_api": null,
          "new_api": "getInput",
          "old_text": null,
          "new_text": "fnType->getInput()",
          "old_line_content": "",
          "new_line_content": "                      fnType->getInput())",
          "content_same": false
        },
        {
          "line": 4851,
          "old_api": null,
          "new_api": "getSourceRange",
          "old_text": null,
          "new_text": "origArg->getSourceRange()",
          "old_line_content": "      // FIXME: Implement support for metatypes here.",
          "new_line_content": "            << origArg->getSourceRange();",
          "content_same": false
        },
        {
          "line": 4858,
          "old_api": null,
          "new_api": "getResult",
          "old_text": null,
          "new_text": "fnType->getResult()",
          "old_line_content": "",
          "new_line_content": "        expr->setType(fnType->getResult());",
          "content_same": false
        },
        {
          "line": 4872,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "expr->getType()",
          "old_line_content": "      ctorRef = new (tc.Context) ConstructorRefCallExpr(ctorRef, typeBase);",
          "new_line_content": "      auto instanceTy = CS.simplifyType(expr->getType());",
          "content_same": false
        },
        {
          "line": 4873,
          "old_api": null,
          "new_api": "setType",
          "old_text": null,
          "new_text": "expr->setType(instanceTy)",
          "old_line_content": "",
          "new_line_content": "      expr->setType(instanceTy);",
          "content_same": false
        },
        {
          "line": 4876,
          "old_api": null,
          "new_api": "getGeneratedOverloadSet",
          "old_text": null,
          "new_text": "CS.getGeneratedOverloadSet(expr)",
          "old_line_content": "      if (!arg) {",
          "new_line_content": "      auto ovl = CS.getGeneratedOverloadSet(expr);",
          "content_same": false
        },
        {
          "line": 4882,
          "old_api": null,
          "new_api": "getTypeChecker",
          "old_text": null,
          "new_text": "CS.getTypeChecker()",
          "old_line_content": "",
          "new_line_content": "      auto &tc = CS.getTypeChecker();",
          "content_same": false
        },
        {
          "line": 4883,
          "old_api": null,
          "new_api": "MetaTypeType::get(instanceTy, tc.Context)",
          "old_text": null,
          "new_text": "MetaTypeType::get(instanceTy, tc.Context)",
          "old_line_content": "      // FIXME: We need to know what happened to the constraints on the function",
          "new_line_content": "      auto classMetaTy = MetaTypeType::get(instanceTy, tc.Context);",
          "content_same": false
        },
        {
          "line": 4884,
          "old_api": null,
          "new_api": "getLoc",
          "old_text": null,
          "new_text": "expr->getLoc()",
          "old_line_content": "      // and on the argument to perform the appropriate conversions,",
          "new_line_content": "      Expr *typeBase = new (tc.Context) MetatypeExpr(nullptr, expr->getLoc(),",
          "content_same": false
        },
        {
          "line": 4891,
          "old_api": null,
          "new_api": "getArg",
          "old_text": null,
          "new_text": "expr->getArg()",
          "old_line_content": "",
          "new_line_content": "      Expr *arg = expr->getArg();",
          "content_same": false
        },
        {
          "line": 4893,
          "old_api": null,
          "new_api": "getLoc",
          "old_text": null,
          "new_text": "expr->getLoc()",
          "old_line_content": "",
          "new_line_content": "        arg = new (tc.Context) TupleExpr(expr->getLoc(),",
          "content_same": false
        },
        {
          "line": 4894,
          "old_api": null,
          "new_api": "MutableArrayRef<Expr *>()",
          "old_text": null,
          "new_text": "MutableArrayRef<Expr *>()",
          "old_line_content": "    Expr *visitImplicitConversionExpr(ImplicitConversionExpr *expr) {",
          "new_line_content": "                                         MutableArrayRef<Expr *>(), nullptr,",
          "content_same": false
        },
        {
          "line": 4896,
          "old_api": null,
          "new_api": "TupleType::getEmpty(tc.Context)",
          "old_text": null,
          "new_text": "TupleType::getEmpty(tc.Context)",
          "old_line_content": "    }",
          "new_line_content": "        arg->setType(TupleType::getEmpty(tc.Context));",
          "content_same": false
        },
        {
          "line": 4902,
          "old_api": null,
          "new_api": "recheckTypes",
          "old_text": null,
          "new_text": "tc.recheckTypes(ctorRef)",
          "old_line_content": "",
          "new_line_content": "      ctorRef = tc.recheckTypes(ctorRef);",
          "content_same": false
        },
        {
          "line": 4903,
          "old_api": null,
          "new_api": "setFn",
          "old_text": null,
          "new_text": "expr->setFn(ctorRef)",
          "old_line_content": "  class ExprWalker : public ASTWalker {",
          "new_line_content": "      expr->setFn(ctorRef);",
          "content_same": false
        },
        {
          "line": 4904,
          "old_api": null,
          "new_api": "setArg",
          "old_text": null,
          "new_text": "expr->setArg(arg)",
          "old_line_content": "    ExprRewriter &Rewriter;",
          "new_line_content": "      expr->setArg(arg);",
          "content_same": false
        },
        {
          "line": 4905,
          "old_api": null,
          "new_api": "semaApplyExpr",
          "old_text": null,
          "new_text": "tc.semaApplyExpr(expr)",
          "old_line_content": "",
          "new_line_content": "      return tc.semaApplyExpr(expr);",
          "content_same": false
        },
        {
          "line": 4911,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"Already type-checked\")",
          "old_line_content": "        // Update the types of the $I variables with their simplified versions.",
          "new_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "content_same": false
        },
        {
          "line": 4926,
          "old_api": null,
          "new_api": "dyn_cast<ExplicitClosureExpr>(expr)",
          "old_text": null,
          "new_text": "dyn_cast<ExplicitClosureExpr>(expr)",
          "old_line_content": "        return false;",
          "new_line_content": "      if (auto closure = dyn_cast<ExplicitClosureExpr>(expr)) {",
          "content_same": false
        },
        {
          "line": 4931,
          "old_api": null,
          "new_api": "getConstraintSystem",
          "old_text": null,
          "new_text": "Rewriter.getConstraintSystem()",
          "old_line_content": "",
          "new_line_content": "        auto &cs = Rewriter.getConstraintSystem();",
          "content_same": false
        },
        {
          "line": 4932,
          "old_api": null,
          "new_api": "getParserVarDecls",
          "old_text": null,
          "new_text": "closure->getParserVarDecls()",
          "old_line_content": "    virtual Expr *walkToExprPost(Expr *expr) {",
          "new_line_content": "        for (auto var : closure->getParserVarDecls())",
          "content_same": false
        },
        {
          "line": 4940,
          "old_api": null,
          "new_api": "dyn_cast<NewArrayExpr>(expr)",
          "old_text": null,
          "new_text": "dyn_cast<NewArrayExpr>(expr)",
          "old_line_content": "    virtual bool walkToDeclPre(Decl *decl) { return false; }",
          "new_line_content": "      if (auto newArray = dyn_cast<NewArrayExpr>(expr)) {",
          "content_same": false
        },
        {
          "line": 4941,
          "old_api": null,
          "new_api": "visitNewArrayExpr",
          "old_text": null,
          "new_text": "Rewriter.visitNewArrayExpr(newArray)",
          "old_line_content": "  };",
          "new_line_content": "        Rewriter.visitNewArrayExpr(newArray);",
          "content_same": false
        },
        {
          "line": 4949,
          "old_api": null,
          "new_api": "visit",
          "old_text": null,
          "new_text": "Rewriter.visit(expr)",
          "old_line_content": "  // FIXME: Disable the constraint-based type checker here, because we depend",
          "new_line_content": "      return Rewriter.visit(expr);",
          "content_same": false
        },
        {
          "line": 4961,
          "old_api": null,
          "new_api": "isSolved",
          "old_text": null,
          "new_text": "isSolved(freeVariables)",
          "old_line_content": "namespace {",
          "new_line_content": "  assert(isSolved(freeVariables) && \"Solution is not solved!\");",
          "content_same": false
        },
        {
          "line": 4962,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "freeVariables.empty()",
          "old_line_content": "  class PreCheckExpression : public ASTWalker {",
          "new_line_content": "  assert(freeVariables.empty() && \"Solution has free variables\");",
          "content_same": false
        },
        {
          "line": 4967,
          "old_api": null,
          "new_api": "getLangOpts",
          "old_text": null,
          "new_text": "TC.getLangOpts()",
          "old_line_content": "",
          "new_line_content": "  llvm::SaveAndRestore<bool> savedUseCS(TC.getLangOpts().UseConstraintSolver,",
          "content_same": false
        },
        {
          "line": 4988,
          "old_api": null,
          "new_api": "semaFuncExpr",
          "old_text": null,
          "new_text": "TC.semaFuncExpr(func, /*isFirstPass=*/false,\n                        /*allowUnknownTypes=*/true)",
          "old_line_content": "        llvm::SaveAndRestore<bool> savedUseCS(",
          "new_line_content": "        TC.semaFuncExpr(func, /*isFirstPass=*/false,",
          "content_same": false
        },
        {
          "line": 4998,
          "old_api": null,
          "new_api": "dyn_cast<SequenceExpr>(expr)",
          "old_text": null,
          "new_text": "dyn_cast<SequenceExpr>(expr)",
          "old_line_content": "        // Check array bounds. They are subproblems that on't interact with",
          "new_line_content": "      if (auto seqExpr = dyn_cast<SequenceExpr>(expr)) {",
          "content_same": false
        },
        {
          "line": 4999,
          "old_api": null,
          "new_api": "foldSequence",
          "old_text": null,
          "new_text": "TC.foldSequence(seqExpr)",
          "old_line_content": "        // the surrounding expression context.",
          "new_line_content": "        return TC.foldSequence(seqExpr);",
          "content_same": false
        },
        {
          "line": 5003,
          "old_api": null,
          "new_api": "dyn_cast<NewArrayExpr>(expr)",
          "old_text": null,
          "new_text": "dyn_cast<NewArrayExpr>(expr)",
          "old_line_content": "            continue;",
          "new_line_content": "      if (auto newArray = dyn_cast<NewArrayExpr>(expr)) {",
          "content_same": false
        },
        {
          "line": 5005,
          "old_api": null,
          "new_api": "getLangOpts",
          "old_text": null,
          "new_text": "TC.getLangOpts()",
          "old_line_content": "          // All inner bounds must be constant.",
          "new_line_content": "                                     TC.getLangOpts().UseConstraintSolver,",
          "content_same": false
        },
        {
          "line": 5010,
          "old_api": null,
          "new_api": "getElementTypeLoc",
          "old_text": null,
          "new_text": "newArray->getElementTypeLoc()",
          "old_line_content": "        // The outermost bound does not need to be constant.",
          "new_line_content": "        if (TC.validateType(newArray->getElementTypeLoc(),",
          "content_same": false
        },
        {
          "line": 5016,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "newArray->getBounds().size()",
          "old_line_content": "                                   /*requireConstant=*/false))",
          "new_line_content": "        for (unsigned i = newArray->getBounds().size(); i != 1; --i) {",
          "content_same": false
        },
        {
          "line": 5017,
          "old_api": null,
          "new_api": "getBounds",
          "old_text": null,
          "new_text": "newArray->getBounds()",
          "old_line_content": "          return nullptr;",
          "new_line_content": "          auto &bound = newArray->getBounds()[i-1];",
          "content_same": false
        },
        {
          "line": 5022,
          "old_api": null,
          "new_api": "typeCheckArrayBound",
          "old_text": null,
          "new_text": "TC.typeCheckArrayBound(bound.Value, /*requireConstant=*/true)",
          "old_line_content": "      // Type check the type in a new expression.",
          "new_line_content": "          if (TC.typeCheckArrayBound(bound.Value, /*requireConstant=*/true))",
          "content_same": false
        },
        {
          "line": 5027,
          "old_api": null,
          "new_api": "getBounds",
          "old_text": null,
          "new_text": "newArray->getBounds()",
          "old_line_content": "",
          "new_line_content": "        auto boundExpr = newArray->getBounds()[0].Value;",
          "content_same": false
        },
        {
          "line": 5028,
          "old_api": null,
          "new_api": "typeCheckExpression",
          "old_text": null,
          "new_text": "TC.typeCheckExpression(boundExpr)",
          "old_line_content": "        return expr;",
          "new_line_content": "        if (TC.typeCheckExpression(boundExpr))",
          "content_same": false
        },
        {
          "line": 5030,
          "old_api": null,
          "new_api": "getBounds",
          "old_text": null,
          "new_text": "newArray->getBounds()",
          "old_line_content": "",
          "new_line_content": "        newArray->getBounds()[0].Value = boundExpr;",
          "content_same": false
        },
        {
          "line": 5031,
          "old_api": null,
          "new_api": "getBounds",
          "old_text": null,
          "new_text": "newArray->getBounds()",
          "old_line_content": "      return expr;",
          "new_line_content": "        if (TC.typeCheckArrayBound(newArray->getBounds()[0].Value,",
          "content_same": false
        },
        {
          "line": 5039,
          "old_api": null,
          "new_api": "dyn_cast<NewReferenceExpr>(expr)",
          "old_text": null,
          "new_text": "dyn_cast<NewReferenceExpr>(expr)",
          "old_line_content": "}",
          "new_line_content": "      if (auto newRef = dyn_cast<NewReferenceExpr>(expr)) {",
          "content_same": false
        },
        {
          "line": 5040,
          "old_api": null,
          "new_api": "getElementTypeLoc",
          "old_text": null,
          "new_text": "newRef->getElementTypeLoc()",
          "old_line_content": "",
          "new_line_content": "        if (TC.validateType(newRef->getElementTypeLoc(),",
          "content_same": false
        },
        {
          "line": 5061,
          "old_api": null,
          "new_api": "PreCheckExpression",
          "old_text": null,
          "new_text": "PreCheckExpression(*this)",
          "old_line_content": "",
          "new_line_content": "  expr = expr->walk(PreCheckExpression(*this));",
          "content_same": false
        },
        {
          "line": 5065,
          "old_api": null,
          "new_api": "llvm::errs()",
          "old_text": null,
          "new_text": "llvm::errs()",
          "old_line_content": "    log << \"\\n\";",
          "new_line_content": "  llvm::raw_ostream &log = llvm::errs();",
          "content_same": false
        },
        {
          "line": 5069,
          "old_api": null,
          "new_api": "generateConstraints",
          "old_text": null,
          "new_text": "cs.generateConstraints(expr)",
          "old_line_content": "  // Attempt to solve the constraint system.",
          "new_line_content": "  if (cs.generateConstraints(expr))",
          "content_same": false
        },
        {
          "line": 5075,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "expr->getType()",
          "old_line_content": "",
          "new_line_content": "    cs.addConstraint(ConstraintKind::Conversion, expr->getType(), convertType);",
          "content_same": false
        },
        {
          "line": 5078,
          "old_api": null,
          "new_api": "getLangOpts",
          "old_text": null,
          "new_text": "getLangOpts()",
          "old_line_content": "        unsigned idx = 0;",
          "new_line_content": "  if (getLangOpts().DebugConstraintSolver) {",
          "content_same": false
        },
        {
          "line": 5080,
          "old_api": null,
          "new_api": "print",
          "old_text": null,
          "new_text": "expr->print(log)",
          "old_line_content": "          SmallVector<TypeVariableType *, 4> freeVariables;",
          "new_line_content": "    expr->print(log);",
          "content_same": false
        },
        {
          "line": 5087,
          "old_api": null,
          "new_api": "solve",
          "old_text": null,
          "new_text": "cs.solve(viable)",
          "old_line_content": "      }",
          "new_line_content": "  if (cs.solve(viable)) {",
          "content_same": false
        },
        {
          "line": 5088,
          "old_api": null,
          "new_api": "getLangOpts",
          "old_text": null,
          "new_text": "getLangOpts()",
          "old_line_content": "",
          "new_line_content": "    if (getLangOpts().DebugConstraintSolver) {",
          "content_same": false
        },
        {
          "line": 5090,
          "old_api": null,
          "new_api": "dump",
          "old_text": null,
          "new_text": "cs.dump()",
          "old_line_content": "        log << \"No solution found.\\n\";",
          "new_line_content": "      cs.dump();",
          "content_same": false
        },
        {
          "line": 5093,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "viable.empty()",
          "old_line_content": "      else {",
          "new_line_content": "      if (!viable.empty()) {",
          "content_same": false
        },
        {
          "line": 5098,
          "old_api": null,
          "new_api": "dump",
          "old_text": null,
          "new_text": "cs->dump()",
          "old_line_content": "    // FIXME: Crappy diagnostic.",
          "new_line_content": "          cs->dump();",
          "content_same": false
        },
        {
          "line": 5115,
          "old_api": null,
          "new_api": "getLoc",
          "old_text": null,
          "new_text": "expr->getLoc()",
          "old_line_content": "    return nullptr;",
          "new_line_content": "    diagnose(expr->getLoc(), diag::constraint_type_check_fail)",
          "content_same": false
        },
        {
          "line": 5116,
          "old_api": null,
          "new_api": "getSourceRange",
          "old_text": null,
          "new_text": "expr->getSourceRange()",
          "old_line_content": "  }",
          "new_line_content": "      << expr->getSourceRange();",
          "content_same": false
        },
        {
          "line": 5122,
          "old_api": null,
          "new_api": "getLangOpts",
          "old_text": null,
          "new_text": "getLangOpts()",
          "old_line_content": "    if (!result)",
          "new_line_content": "  if (getLangOpts().DebugConstraintSolver) {",
          "content_same": false
        },
        {
          "line": 5124,
          "old_api": null,
          "new_api": "dump",
          "old_text": null,
          "new_text": "solution->dump()",
          "old_line_content": "  }",
          "new_line_content": "    solution->dump();",
          "content_same": false
        },
        {
          "line": 5137,
          "old_api": null,
          "new_api": "convertToType",
          "old_text": null,
          "new_text": "solution->convertToType(result, convertType)",
          "old_line_content": "                                  SourceLoc equalLoc) {",
          "new_line_content": "    result = solution->convertToType(result, convertType);",
          "content_same": false
        },
        {
          "line": 5144,
          "old_api": null,
          "new_api": "dump",
          "old_text": null,
          "new_text": "result->dump()",
          "old_line_content": "      if (!elemTy)",
          "new_line_content": "    result->dump();",
          "content_same": false
        },
        {
          "line": 5154,
          "old_api": null,
          "new_api": "dyn_cast<TupleExpr>(dest)",
          "old_text": null,
          "new_text": "dyn_cast<TupleExpr>(dest)",
          "old_line_content": "    // If the destination is an lvalue, we're good; get it's object type.",
          "new_line_content": "  if (TupleExpr *TE = dyn_cast<TupleExpr>(dest)) {",
          "content_same": false
        },
        {
          "line": 5157,
          "old_api": null,
          "new_api": "getNumElements",
          "old_text": null,
          "new_text": "TE->getNumElements()",
          "old_line_content": "    // The destination is a type variable. This type variable must be an",
          "new_line_content": "    for (unsigned i = 0; i != TE->getNumElements(); ++i) {",
          "content_same": false
        },
        {
          "line": 5158,
          "old_api": null,
          "new_api": "getElement",
          "old_text": null,
          "new_text": "TE->getElement(i)",
          "old_line_content": "    // lvalue type, which we enforce via a subtyping relationship with",
          "new_line_content": "      Expr *subExpr = TE->getElement(i);",
          "content_same": false
        },
        {
          "line": 5159,
          "old_api": null,
          "new_api": "computeAssignDestType",
          "old_text": null,
          "new_text": "computeAssignDestType(cs, subExpr, equalLoc)",
          "old_line_content": "    // [byref(implicit)] T, where T is a fresh type variable that will be",
          "new_line_content": "      Type elemTy = computeAssignDestType(cs, subExpr, equalLoc);",
          "content_same": false
        },
        {
          "line": 5168,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "dest->getType()",
          "old_line_content": "  } else {",
          "new_line_content": "  Type destTy = cs.simplifyType(dest->getType());",
          "content_same": false
        },
        {
          "line": 5172,
          "old_api": null,
          "new_api": "destTy->getAs<TypeVariableType>()",
          "old_text": null,
          "new_text": "destTy->getAs<TypeVariableType>()",
          "old_line_content": "",
          "new_line_content": "  } else if (auto typeVar = destTy->getAs<TypeVariableType>()) {",
          "content_same": false
        },
        {
          "line": 5177,
          "old_api": null,
          "new_api": "createTypeVariable",
          "old_text": null,
          "new_text": "cs.createTypeVariable(dest)",
          "old_line_content": "}",
          "new_line_content": "    auto objectTv = cs.createTypeVariable(dest);",
          "content_same": false
        },
        {
          "line": 5178,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "LValueType::get(objectTv,\n                                 LValueType::Qual(LValueType::Qual::Implicit|\n                                                  LValueType::Qual::NonHeap),\n                                 cs.getASTContext())",
          "old_line_content": "",
          "new_line_content": "    auto refTv = LValueType::get(objectTv,",
          "content_same": false
        },
        {
          "line": 5179,
          "old_api": null,
          "new_api": "LValueType::Qual(LValueType::Qual::Implicit|\n                                                  LValueType::Qual::NonHeap)",
          "old_text": null,
          "new_text": "LValueType::Qual(LValueType::Qual::Implicit|\n                                                  LValueType::Qual::NonHeap)",
          "old_line_content": "std::pair<Expr *, Expr *>",
          "new_line_content": "                                 LValueType::Qual(LValueType::Qual::Implicit|",
          "content_same": false
        },
        {
          "line": 5181,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "cs.getASTContext()",
          "old_line_content": "                                            SourceLoc equalLoc,",
          "new_line_content": "                                 cs.getASTContext());",
          "content_same": false
        },
        {
          "line": 5182,
          "old_api": null,
          "new_api": "addConstraint",
          "old_text": null,
          "new_text": "cs.addConstraint(ConstraintKind::Subtype, typeVar, refTv)",
          "old_line_content": "                                            Expr *src) {",
          "new_line_content": "    cs.addConstraint(ConstraintKind::Subtype, typeVar, refTv);",
          "content_same": false
        },
        {
          "line": 5185,
          "old_api": null,
          "new_api": "destTy->is<ErrorType>()",
          "old_text": null,
          "new_text": "destTy->is<ErrorType>()",
          "old_line_content": "",
          "new_line_content": "    if (!destTy->is<ErrorType>())",
          "content_same": false
        },
        {
          "line": 5186,
          "old_api": null,
          "new_api": "getTypeChecker",
          "old_text": null,
          "new_text": "cs.getTypeChecker().diagnose(equalLoc, diag::assignment_lhs_not_lvalue)",
          "old_line_content": "  // Pre-check the destination.",
          "new_line_content": "      cs.getTypeChecker().diagnose(equalLoc, diag::assignment_lhs_not_lvalue)",
          "content_same": false
        },
        {
          "line": 5203,
          "old_api": null,
          "new_api": "PreCheckExpression",
          "old_text": null,
          "new_text": "PreCheckExpression(*this)",
          "old_line_content": "  // Compute the type to which the source must be converted to allow assignment",
          "new_line_content": "  dest = dest->walk(PreCheckExpression(*this));",
          "content_same": false
        },
        {
          "line": 5208,
          "old_api": null,
          "new_api": "PreCheckExpression",
          "old_text": null,
          "new_text": "PreCheckExpression(*this)",
          "old_line_content": "",
          "new_line_content": "  src = src->walk(PreCheckExpression(*this));",
          "content_same": false
        },
        {
          "line": 5216,
          "old_api": null,
          "new_api": "generateConstraints",
          "old_text": null,
          "new_text": "cs.generateConstraints(src)",
          "old_line_content": "    log << \"\\n\";",
          "new_line_content": "  if (cs.generateConstraints(dest) || cs.generateConstraints(src))",
          "content_same": false
        },
        {
          "line": 5221,
          "old_api": null,
          "new_api": "computeAssignDestType",
          "old_text": null,
          "new_text": "computeAssignDestType(cs, dest, equalLoc)",
          "old_line_content": "  }",
          "new_line_content": "  auto destTy = computeAssignDestType(cs, dest, equalLoc);",
          "content_same": false
        },
        {
          "line": 5234,
          "old_api": null,
          "new_api": "print",
          "old_text": null,
          "new_text": "src->print(log)",
          "old_line_content": "          SmallVector<TypeVariableType *, 4> freeVariables;",
          "new_line_content": "    src->print(log);",
          "content_same": false
        },
        {
          "line": 5241,
          "old_api": null,
          "new_api": "solve",
          "old_text": null,
          "new_text": "cs.solve(viable)",
          "old_line_content": "      }",
          "new_line_content": "  if (cs.solve(viable)) {",
          "content_same": false
        },
        {
          "line": 5242,
          "old_api": null,
          "new_api": "getLangOpts",
          "old_text": null,
          "new_text": "getLangOpts()",
          "old_line_content": "",
          "new_line_content": "    if (getLangOpts().DebugConstraintSolver) {",
          "content_same": false
        },
        {
          "line": 5244,
          "old_api": null,
          "new_api": "dump",
          "old_text": null,
          "new_text": "cs.dump()",
          "old_line_content": "        log << \"No solution found.\\n\";",
          "new_line_content": "      cs.dump();",
          "content_same": false
        },
        {
          "line": 5247,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "viable.empty()",
          "old_line_content": "      else {",
          "new_line_content": "      if (!viable.empty()) {",
          "content_same": false
        },
        {
          "line": 5252,
          "old_api": null,
          "new_api": "dump",
          "old_text": null,
          "new_text": "cs->dump()",
          "old_line_content": "    // FIXME: Crappy diagnostic.",
          "new_line_content": "          cs->dump();",
          "content_same": false
        },
        {
          "line": 5269,
          "old_api": null,
          "new_api": "diagnose",
          "old_text": null,
          "new_text": "diagnose(equalLoc, diag::constraint_assign_type_check_fail)",
          "old_line_content": "    return { nullptr, nullptr };",
          "new_line_content": "    diagnose(equalLoc, diag::constraint_assign_type_check_fail)",
          "content_same": false
        },
        {
          "line": 5270,
          "old_api": null,
          "new_api": "getSourceRange",
          "old_text": null,
          "new_text": "src->getSourceRange()",
          "old_line_content": "  }",
          "new_line_content": "      << dest->getSourceRange() << src->getSourceRange();",
          "content_same": false
        },
        {
          "line": 5276,
          "old_api": null,
          "new_api": "getLangOpts",
          "old_text": null,
          "new_text": "getLangOpts()",
          "old_line_content": "    return { nullptr, nullptr };",
          "new_line_content": "  if (getLangOpts().DebugConstraintSolver) {",
          "content_same": false
        },
        {
          "line": 5278,
          "old_api": null,
          "new_api": "dump",
          "old_text": null,
          "new_text": "solution->dump()",
          "old_line_content": "",
          "new_line_content": "    solution->dump();",
          "content_same": false
        },
        {
          "line": 5282,
          "old_api": null,
          "new_api": "applySolution",
          "old_text": null,
          "new_text": "solution->applySolution(dest)",
          "old_line_content": "    // Failure already diagnosed, above, as part of applying the solution.",
          "new_line_content": "  dest = solution->applySolution(dest);",
          "content_same": false
        },
        {
          "line": 5296,
          "old_api": null,
          "new_api": "simplifyType",
          "old_text": null,
          "new_text": "solution->simplifyType(destTy)",
          "old_line_content": "  return { dest, src };",
          "new_line_content": "  src = solution->convertToType(src, solution->simplifyType(destTy));",
          "content_same": false
        },
        {
          "line": 5302,
          "old_api": null,
          "new_api": "getLangOpts",
          "old_text": null,
          "new_text": "getLangOpts()",
          "old_line_content": "#pragma mark Debugging",
          "new_line_content": "  if (getLangOpts().DebugConstraintSolver) {",
          "content_same": false
        },
        {
          "line": 5308,
          "old_api": null,
          "new_api": "print",
          "old_text": null,
          "new_text": "src->print(log)",
          "old_line_content": "    SmallVector<ConstraintSystem *, 4> path;;",
          "new_line_content": "    src->print(log);",
          "content_same": false
        },
        {
          "line": 5330,
          "old_api": null,
          "new_api": "rend",
          "old_text": null,
          "new_text": "path.rend()",
          "old_line_content": "            << \" choice #\" << ovl.second.first << \" for \";",
          "new_line_content": "    for (auto p = path.rbegin(), pe = path.rend(); p != pe; ++p) {",
          "content_same": false
        },
        {
          "line": 5332,
          "old_api": null,
          "new_api": "indent",
          "old_text": null,
          "new_text": "out.indent(2)",
          "old_line_content": "        case OverloadChoiceKind::Decl:",
          "new_line_content": "      out.indent(2);",
          "content_same": false
        },
        {
          "line": 5342,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "cs->ResolvedOverloads.empty()",
          "old_line_content": "          break;",
          "new_line_content": "      assert(!cs->ResolvedOverloads.empty());",
          "content_same": false
        },
        {
          "line": 5344,
          "old_api": null,
          "new_api": "getChoices",
          "old_text": null,
          "new_text": "ovl.first->getChoices()",
          "old_line_content": "        case OverloadChoiceKind::FunctionReturningBaseType:",
          "new_line_content": "        auto &choice = ovl.first->getChoices()[ovl.second.first];",
          "content_same": false
        },
        {
          "line": 5345,
          "old_api": null,
          "new_api": "getID",
          "old_text": null,
          "new_text": "ovl.first->getID()",
          "old_line_content": "          out << \"function returning base type \"",
          "new_line_content": "        out << \"  selected overload set #\" << ovl.first->getID()",
          "content_same": false
        },
        {
          "line": 5347,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "choice.getKind()",
          "old_line_content": "          break;",
          "new_line_content": "        switch (choice.getKind()) {",
          "content_same": false
        },
        {
          "line": 5351,
          "old_api": null,
          "new_api": "getDecl",
          "old_text": null,
          "new_text": "choice.getDecl()->getName().str()",
          "old_line_content": "          break;",
          "new_line_content": "          out << choice.getDecl()->getName().str() << \": \"",
          "content_same": false
        },
        {
          "line": 5352,
          "old_api": null,
          "new_api": "getBoundType",
          "old_text": null,
          "new_text": "ovl.first->getBoundType()->getString()",
          "old_line_content": "        case OverloadChoiceKind::TupleIndex:",
          "new_line_content": "            << ovl.first->getBoundType()->getString() << \" == \"",
          "content_same": false
        },
        {
          "line": 5357,
          "old_api": null,
          "new_api": "getBaseType",
          "old_text": null,
          "new_text": "choice.getBaseType()->getString()",
          "old_line_content": "      }",
          "new_line_content": "          out << \"base type \" << choice.getBaseType()->getString() << \"\\n\";",
          "content_same": false
        },
        {
          "line": 5362,
          "old_api": null,
          "new_api": "getBaseType",
          "old_text": null,
          "new_text": "choice.getBaseType()->getString()",
          "old_line_content": "  out << \"Type Variables:\\n\";",
          "new_line_content": "              << choice.getBaseType()->getString() << \"\\n\";",
          "content_same": false
        },
        {
          "line": 5370,
          "old_api": null,
          "new_api": "getTupleIndex",
          "old_text": null,
          "new_text": "choice.getTupleIndex()",
          "old_line_content": "          out << \" as \";",
          "new_line_content": "              << choice.getTupleIndex() << \"\\n\";",
          "content_same": false
        },
        {
          "line": 5381,
          "old_api": null,
          "new_api": "indent",
          "old_text": null,
          "new_text": "out.indent(2)",
          "old_line_content": "  out << \"\\nUnsolved Constraints:\\n\";",
          "new_line_content": "      out.indent(2);",
          "content_same": false
        },
        {
          "line": 5382,
          "old_api": null,
          "new_api": "print",
          "old_text": null,
          "new_text": "tv->getImpl().print(out)",
          "old_line_content": "  for (auto constraint : Constraints) {",
          "new_line_content": "      tv->getImpl().print(out);",
          "content_same": false
        },
        {
          "line": 5385,
          "old_api": null,
          "new_api": "getFixedType",
          "old_text": null,
          "new_text": "getFixedType(tv)",
          "old_line_content": "    out << \"\\n\";",
          "new_line_content": "        if (auto fixed = getFixedType(tv)) {",
          "content_same": false
        },
        {
          "line": 5387,
          "old_api": null,
          "new_api": "print",
          "old_text": null,
          "new_text": "fixed->print(out)",
          "old_line_content": "",
          "new_line_content": "          fixed->print(out);",
          "content_same": false
        },
        {
          "line": 5414,
          "old_api": null,
          "new_api": "getID",
          "old_text": null,
          "new_text": "overload->getID()",
          "old_line_content": "        case OverloadChoiceKind::FunctionReturningBaseType:",
          "new_line_content": "      out.indent(2) << \"set #\" << overload->getID() << \" binds \"",
          "content_same": false
        },
        {
          "line": 5415,
          "old_api": null,
          "new_api": "getBoundType",
          "old_text": null,
          "new_text": "overload->getBoundType()->getString()",
          "old_line_content": "          out << \"function returning base type \"",
          "new_line_content": "        << overload->getBoundType()->getString() << \":\\n\";",
          "content_same": false
        },
        {
          "line": 5417,
          "old_api": null,
          "new_api": "indent",
          "old_text": null,
          "new_text": "out.indent(4)",
          "old_line_content": "          break;",
          "new_line_content": "        out.indent(4);",
          "content_same": false
        },
        {
          "line": 5418,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "choice.getKind()",
          "old_line_content": "        case OverloadChoiceKind::IdentityFunction:",
          "new_line_content": "        switch (choice.getKind()) {",
          "content_same": false
        },
        {
          "line": 5421,
          "old_api": null,
          "new_api": "getBaseType",
          "old_text": null,
          "new_text": "choice.getBaseType()->getString()",
          "old_line_content": "          break;",
          "new_line_content": "            out << choice.getBaseType()->getString() << \".\";",
          "content_same": false
        },
        {
          "line": 5422,
          "old_api": null,
          "new_api": "getDecl",
          "old_text": null,
          "new_text": "choice.getDecl()->getName().str()",
          "old_line_content": "        case OverloadChoiceKind::TupleIndex:",
          "new_line_content": "          out << choice.getDecl()->getName().str() << \": \";",
          "content_same": false
        },
        {
          "line": 5427,
          "old_api": null,
          "new_api": "getBaseType",
          "old_text": null,
          "new_text": "choice.getBaseType()->getString()",
          "old_line_content": "      }",
          "new_line_content": "          out << \"base type \" << choice.getBaseType()->getString() << \"\\n\";",
          "content_same": false
        },
        {
          "line": 5435,
          "old_api": null,
          "new_api": "getBaseType",
          "old_text": null,
          "new_text": "choice.getBaseType()->getString()",
          "old_line_content": "    } else {",
          "new_line_content": "          out << \"identity \" << choice.getBaseType()->getString() << \" -> \"",
          "content_same": false
        },
        {
          "line": 5436,
          "old_api": null,
          "new_api": "getBaseType",
          "old_text": null,
          "new_text": "choice.getBaseType()->getString()",
          "old_line_content": "      out << \"SOLVED (with free variables):\";",
          "new_line_content": "            << choice.getBaseType()->getString() << \"\\n\";",
          "content_same": false
        },
        {
          "line": 5439,
          "old_api": null,
          "new_api": "getBaseType",
          "old_text": null,
          "new_text": "choice.getBaseType()->getString()",
          "old_line_content": "      }",
          "new_line_content": "          out << \"tuple \" << choice.getBaseType()->getString() << \" index \"",
          "content_same": false
        },
        {
          "line": 5440,
          "old_api": null,
          "new_api": "getTupleIndex",
          "old_text": null,
          "new_text": "choice.getTupleIndex()",
          "old_line_content": "      out << '\\n';",
          "new_line_content": "            << choice.getTupleIndex() << \"\\n\";",
          "content_same": false
        },
        {
          "line": 5448,
          "old_api": null,
          "new_api": "isSolved",
          "old_text": null,
          "new_text": "isSolved(freeVariables)",
          "old_line_content": "",
          "new_line_content": "  if (isSolved(freeVariables)) {",
          "content_same": false
        },
        {
          "line": 5449,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "freeVariables.empty()",
          "old_line_content": "",
          "new_line_content": "    if (freeVariables.empty()) {",
          "content_same": false
        },
        {
          "line": 5454,
          "old_api": null,
          "new_api": "getString",
          "old_text": null,
          "new_text": "fv->getString()",
          "old_line_content": "",
          "new_line_content": "        out << ' ' << fv->getString();",
          "content_same": false
        },
        {
          "line": 3808,
          "old_api": null,
          "new_api": "getNumUnresolvedOverloadSets",
          "old_text": null,
          "new_text": "cs.getNumUnresolvedOverloadSets()",
          "old_line_content": "  // Try to determine a binding for a type variable.",
          "new_line_content": "      for (unsigned i = 1, n = cs.getNumUnresolvedOverloadSets(); i < n; ++i) {",
          "content_same": false
        },
        {
          "line": 3821,
          "old_api": null,
          "new_api": "SolutionStep",
          "old_text": null,
          "new_text": "SolutionStep(minIdx)",
          "old_line_content": "",
          "new_line_content": "    return SolutionStep(minIdx);",
          "content_same": false
        },
        {
          "line": 3825,
          "old_api": null,
          "new_api": "resolveTypeVariable",
          "old_text": null,
          "new_text": "resolveTypeVariable(cs, typeVarConstraints,\n                                         /*onlyDefinitive=*/false)",
          "old_line_content": "  }",
          "new_line_content": "  if (auto binding = resolveTypeVariable(cs, typeVarConstraints,",
          "content_same": false
        },
        {
          "line": 3836,
          "old_api": null,
          "new_api": "getTopConstraintSystem",
          "old_text": null,
          "new_text": "getTopConstraintSystem()",
          "old_line_content": "",
          "new_line_content": "  assert(&getTopConstraintSystem() == this &&\"Can only solve at the top level\");",
          "content_same": false
        },
        {
          "line": 3842,
          "old_api": null,
          "new_api": "simplify",
          "old_text": null,
          "new_text": "simplify()",
          "old_line_content": "",
          "new_line_content": "  bool error = simplify();",
          "content_same": false
        },
        {
          "line": 3843,
          "old_api": null,
          "new_api": "getLangOpts",
          "old_text": null,
          "new_text": "TC.getLangOpts()",
          "old_line_content": "    // If there are any children of this system that are still active,",
          "new_line_content": "  if (TC.getLangOpts().DebugConstraintSolver) {",
          "content_same": false
        },
        {
          "line": 3844,
          "old_api": null,
          "new_api": "dump",
          "old_text": null,
          "new_text": "dump()",
          "old_line_content": "    // then we found a potential solution. There is no need to explore",
          "new_line_content": "    dump();",
          "content_same": false
        },
        {
          "line": 3855,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "stack.empty()",
          "old_line_content": "        continue;",
          "new_line_content": "  while (!stack.empty()) {",
          "content_same": false
        },
        {
          "line": 3856,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "stack.back()",
          "old_line_content": "",
          "new_line_content": "    auto cs = stack.back();",
          "content_same": false
        },
        {
          "line": 3857,
          "old_api": null,
          "new_api": "pop_back",
          "old_text": null,
          "new_text": "stack.pop_back()",
          "old_line_content": "      case SolutionStepKind::Overload: {",
          "new_line_content": "    stack.pop_back();",
          "content_same": false
        },
        {
          "line": 3862,
          "old_api": null,
          "new_api": "hasActiveChildren",
          "old_text": null,
          "new_text": "cs->hasActiveChildren()",
          "old_line_content": "      }",
          "new_line_content": "    if (cs->hasActiveChildren())",
          "content_same": false
        },
        {
          "line": 3867,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "step->getKind()",
          "old_line_content": "",
          "new_line_content": "      switch (step->getKind()) {",
          "content_same": false
        },
        {
          "line": 3869,
          "old_api": null,
          "new_api": "simplify",
          "old_text": null,
          "new_text": "cs->simplify()",
          "old_line_content": "        // there's no point in creating a child system.",
          "new_line_content": "        if (!cs->simplify())",
          "content_same": false
        },
        {
          "line": 3875,
          "old_api": null,
          "new_api": "isDefinitive",
          "old_text": null,
          "new_text": "step->isDefinitive()",
          "old_line_content": "          continue;",
          "new_line_content": "        assert(step->isDefinitive() && \"Overload solutions are definitive\");",
          "content_same": false
        },
        {
          "line": 3876,
          "old_api": null,
          "new_api": "getOverloadSetIdx",
          "old_text": null,
          "new_text": "step->getOverloadSetIdx()",
          "old_line_content": "        }",
          "new_line_content": "        resolveOverloadSet(*cs, step->getOverloadSetIdx(), stack);",
          "content_same": false
        },
        {
          "line": 3882,
          "old_api": null,
          "new_api": "getTypeBinding",
          "old_text": null,
          "new_text": "step->getTypeBinding()",
          "old_line_content": "        // Break out to explore this binding.",
          "new_line_content": "        auto binding = step->getTypeBinding();",
          "content_same": false
        },
        {
          "line": 3886,
          "old_api": null,
          "new_api": "isDefinitive",
          "old_text": null,
          "new_text": "step->isDefinitive()",
          "old_line_content": "      case SolutionStepKind::ExploreBindings:",
          "new_line_content": "        if (step->isDefinitive()) {",
          "content_same": false
        },
        {
          "line": 3887,
          "old_api": null,
          "new_api": "addConstraint",
          "old_text": null,
          "new_text": "cs->addConstraint(ConstraintKind::Equal,\n                            binding.first, binding.second)",
          "old_line_content": "        break;",
          "new_line_content": "          cs->addConstraint(ConstraintKind::Equal,",
          "content_same": false
        },
        {
          "line": 3889,
          "old_api": null,
          "new_api": "simplify",
          "old_text": null,
          "new_text": "cs->simplify()",
          "old_line_content": "    }",
          "new_line_content": "          if (!cs->simplify())",
          "content_same": false
        },
        {
          "line": 3890,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "stack.push_back(cs)",
          "old_line_content": "",
          "new_line_content": "            stack.push_back(cs);",
          "content_same": false
        },
        {
          "line": 3896,
          "old_api": null,
          "new_api": "addPotentialBinding",
          "old_text": null,
          "new_text": "cs->addPotentialBinding(binding.first, binding.second)",
          "old_line_content": "    }",
          "new_line_content": "        cs->addPotentialBinding(binding.first, binding.second);",
          "content_same": false
        },
        {
          "line": 3909,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "cs->Constraints.empty()",
          "old_line_content": "    // Create child systems for each of the potential bindings.",
          "new_line_content": "    if (cs->Constraints.empty()) {",
          "content_same": false
        },
        {
          "line": 3923,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "stack.push_back(cs)",
          "old_line_content": "  // If there is more than one viable system, attempt to pick the best solution.",
          "new_line_content": "    stack.push_back(cs);",
          "content_same": false
        },
        {
          "line": 3927,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "cs->PotentialBindings.clear()",
          "old_line_content": "        unsigned idx = 0;",
          "new_line_content": "    cs->PotentialBindings.clear();",
          "content_same": false
        },
        {
          "line": 3929,
          "old_api": null,
          "new_api": "exploreBinding",
          "old_text": null,
          "new_text": "cs->exploreBinding(binding.first, binding.second)",
          "old_line_content": "          SmallVector<TypeVariableType *, 4> freeVariables;",
          "new_line_content": "      if (cs->exploreBinding(binding.first, binding.second)) {",
          "content_same": false
        },
        {
          "line": 3933,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "stack.push_back(childCS)",
          "old_line_content": "          }",
          "new_line_content": "          stack.push_back(childCS);",
          "content_same": false
        },
        {
          "line": 3941,
          "old_api": null,
          "new_api": "findBestSolution",
          "old_text": null,
          "new_text": "findBestSolution(viable)",
          "old_line_content": "    }",
          "new_line_content": "    if (auto best = findBestSolution(viable)) {",
          "content_same": false
        },
        {
          "line": 3942,
          "old_api": null,
          "new_api": "getLangOpts",
          "old_text": null,
          "new_text": "TC.getLangOpts()",
          "old_line_content": "  }",
          "new_line_content": "      if (TC.getLangOpts().DebugConstraintSolver) {",
          "content_same": false
        },
        {
          "line": 3948,
          "old_api": null,
          "new_api": "llvm::errs()",
          "old_text": null,
          "new_text": "llvm::errs()",
          "old_line_content": "",
          "new_line_content": "            llvm::errs() << \" (best)\";",
          "content_same": false
        },
        {
          "line": 3950,
          "old_api": null,
          "new_api": "llvm::errs()",
          "old_text": null,
          "new_text": "llvm::errs()",
          "old_line_content": "ConstraintSystem::isSolved(SmallVectorImpl<TypeVariableType *> &freeVariables) {",
          "new_line_content": "          llvm::errs() << \"---\\n\";",
          "content_same": false
        },
        {
          "line": 3951,
          "old_api": null,
          "new_api": "dump",
          "old_text": null,
          "new_text": "cs->dump()",
          "old_line_content": "  // Look for a failed constraint.",
          "new_line_content": "          cs->dump();",
          "content_same": false
        },
        {
          "line": 3955,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "viable.clear()",
          "old_line_content": "  // Look for any unresolved overload sets.",
          "new_line_content": "      viable.clear();",
          "content_same": false
        },
        {
          "line": 3961,
          "old_api": null,
          "new_api": "front",
          "old_text": null,
          "new_text": "viable.front()->isSolved(freeVariables)",
          "old_line_content": "    // We only care about the representatives.",
          "new_line_content": "  return viable.size() != 1 || !viable.front()->isSolved(freeVariables) ||",
          "content_same": false
        },
        {
          "line": 3981,
          "old_api": null,
          "new_api": "getFixedType",
          "old_text": null,
          "new_text": "getFixedType(tv)",
          "old_line_content": "",
          "new_line_content": "    if (auto fixed = getFixedType(tv)) {",
          "content_same": false
        },
        {
          "line": 3982,
          "old_api": null,
          "new_api": "hasTypeVariable",
          "old_text": null,
          "new_text": "simplifyType(fixed)->hasTypeVariable()",
          "old_line_content": "    // ... that has not been bound to a fixed type.",
          "new_line_content": "      if (simplifyType(fixed)->hasTypeVariable())",
          "content_same": false
        },
        {
          "line": 3994,
          "old_api": null,
          "new_api": "getFirstType",
          "old_text": null,
          "new_text": "con->getFirstType()->getAs<TypeVariableType>()",
          "old_line_content": "      return false;",
          "new_line_content": "    auto tv = con->getFirstType()->getAs<TypeVariableType>();",
          "content_same": false
        },
        {
          "line": 3999,
          "old_api": null,
          "new_api": "getRepresentative",
          "old_text": null,
          "new_text": "getRepresentative(tv)",
          "old_line_content": "}",
          "new_line_content": "    tv = getRepresentative(tv);",
          "content_same": false
        },
        {
          "line": 4000,
          "old_api": null,
          "new_api": "getFixedType",
          "old_text": null,
          "new_text": "getFixedType(tv)",
          "old_line_content": "",
          "new_line_content": "    if (getFixedType(tv))",
          "content_same": false
        },
        {
          "line": 4004,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "con->getKind()",
          "old_line_content": "#pragma mark Ranking solutions",
          "new_line_content": "    if (con->getKind() != ConstraintKind::Subtype &&",
          "content_same": false
        },
        {
          "line": 4005,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "con->getKind()",
          "old_line_content": "",
          "new_line_content": "        con->getKind() != ConstraintKind::Conversion)",
          "content_same": false
        },
        {
          "line": 4009,
          "old_api": null,
          "new_api": "getSecondType",
          "old_text": null,
          "new_text": "con->getSecondType()->isExistentialType()",
          "old_line_content": "",
          "new_line_content": "    if (!con->getSecondType()->isExistentialType())",
          "content_same": false
        },
        {
          "line": 4024,
          "old_api": null,
          "new_api": "getRepresentative",
          "old_text": null,
          "new_text": "getRepresentative(tv)",
          "old_line_content": "",
          "new_line_content": "  tv = getRepresentative(tv);",
          "content_same": false
        },
        {
          "line": 4029,
          "old_api": null,
          "new_api": "getClassification",
          "old_text": null,
          "new_text": "constraint->getClassification()",
          "old_line_content": "  }",
          "new_line_content": "    if (constraint->getClassification() != ConstraintClassification::Literal)",
          "content_same": false
        },
        {
          "line": 4033,
          "old_api": null,
          "new_api": "getFirstType",
          "old_text": null,
          "new_text": "constraint->getFirstType()->getAs<TypeVariableType>()",
          "old_line_content": "",
          "new_line_content": "    auto constraintTV = constraint->getFirstType()->getAs<TypeVariableType>();",
          "content_same": false
        },
        {
          "line": 4038,
          "old_api": null,
          "new_api": "getRepresentative",
          "old_text": null,
          "new_text": "getRepresentative(constraintTV)",
          "old_line_content": "/// additional information would change it.",
          "new_line_content": "    if (getRepresentative(constraintTV) != tv)",
          "content_same": false
        },
        {
          "line": 4043,
          "old_api": null,
          "new_api": "getLiteralKind",
          "old_text": null,
          "new_text": "constraint->getLiteralKind()",
          "old_line_content": "    result = SolutionCompareResult::Incomparable;",
          "new_line_content": "    if (type->isEqual(TC.getDefaultLiteralType(constraint->getLiteralKind())))",
          "content_same": false
        },
        {
          "line": 4091,
          "old_api": null,
          "new_api": "transformType",
          "old_text": null,
          "new_text": "tc.transformType(origType, \n           [&](Type type) -> Type {\n             if (auto tupleTy = type->getAs<TupleType>()) {\n               SmallVector<TupleTypeElt, 4> fields;\n               for (const auto &field : tupleTy->getFields()) {\n                 fields.push_back(TupleTypeElt(field.getType(),\n                                               field.getName(),\n                                               nullptr,\n                                               field.getVarargBaseTy()));\n                                               \n               }\n               return TupleType::get(fields, tc.Context);\n             }\n             return type;\n           })",
          "old_line_content": "",
          "new_line_content": "  return tc.transformType(origType, ",
          "content_same": false
        },
        {
          "line": 4093,
          "old_api": null,
          "new_api": "type->getAs<TupleType>()",
          "old_text": null,
          "new_text": "type->getAs<TupleType>()",
          "old_line_content": "                                                         ConstraintSystem &cs2){",
          "new_line_content": "             if (auto tupleTy = type->getAs<TupleType>()) {",
          "content_same": false
        },
        {
          "line": 4095,
          "old_api": null,
          "new_api": "getFields",
          "old_text": null,
          "new_text": "tupleTy->getFields()",
          "old_line_content": "  // than for a decision.",
          "new_line_content": "               for (const auto &field : tupleTy->getFields()) {",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 5121,
          "old_api": "convertToType",
          "new_api": null,
          "old_text": "solution->convertToType(result, convertType)",
          "new_text": null,
          "old_line_content": "    result = solution->convertToType(result, convertType);",
          "new_line_content": "  auto solution = viable[0];",
          "content_same": false
        },
        {
          "line": 4610,
          "old_api": "baseTy->is<ArchetypeType>()",
          "new_api": null,
          "old_text": "baseTy->is<ArchetypeType>()",
          "new_text": null,
          "old_line_content": "      if (baseTy->is<ArchetypeType>()) {",
          "new_line_content": "      // these nodes.",
          "content_same": false
        },
        {
          "line": 4613,
          "old_api": "getLBracketLoc",
          "new_api": null,
          "old_text": "expr->getLBracketLoc()",
          "new_text": null,
          "old_line_content": "                                                    expr->getLBracketLoc(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4614,
          "old_api": "getIndex",
          "new_api": null,
          "old_text": "expr->getIndex()",
          "new_text": null,
          "old_line_content": "                                                    expr->getIndex(),",
          "new_line_content": "      // Subscripting an existential type.",
          "content_same": false
        },
        {
          "line": 5126,
          "old_api": "getLangOpts",
          "new_api": null,
          "old_text": "getLangOpts()",
          "new_text": null,
          "old_line_content": "  if (getLangOpts().DebugConstraintSolver) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4621,
          "old_api": "isSpecialized",
          "new_api": null,
          "old_text": "baseTy->isSpecialized()",
          "new_text": null,
          "old_line_content": "      if (baseTy->isSpecialized()) {",
          "new_line_content": "                                                      subscript);",
          "content_same": false
        },
        {
          "line": 4111,
          "old_api": "getTopConstraintSystem",
          "new_api": null,
          "old_text": "cs1->getTopConstraintSystem()",
          "new_text": null,
          "old_line_content": "      auto &topSystem = cs1->getTopConstraintSystem();",
          "new_line_content": "  // than for a decision.",
          "content_same": false
        },
        {
          "line": 4623,
          "old_api": "getBase",
          "new_api": null,
          "old_text": "expr->getBase()",
          "new_text": null,
          "old_line_content": "          = new (tc.Context) GenericSubscriptExpr(expr->getBase(),",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 4624,
          "old_api": "getLBracketLoc",
          "new_api": null,
          "old_text": "expr->getLBracketLoc()",
          "new_text": null,
          "old_line_content": "                                                  expr->getLBracketLoc(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4625,
          "old_api": "getIndex",
          "new_api": null,
          "old_text": "expr->getIndex()",
          "new_text": null,
          "old_line_content": "                                                  expr->getIndex(),",
          "new_line_content": "      // Subscripting an archetype.",
          "content_same": false
        },
        {
          "line": 5138,
          "old_api": "dyn_cast<TupleExpr>(dest)",
          "new_api": null,
          "old_text": "dyn_cast<TupleExpr>(dest)",
          "new_text": null,
          "old_line_content": "  if (TupleExpr *TE = dyn_cast<TupleExpr>(dest)) {",
          "new_line_content": "    if (!result)",
          "content_same": false
        },
        {
          "line": 5139,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "cs.getASTContext()",
          "new_text": null,
          "old_line_content": "    auto &ctx = cs.getASTContext();",
          "new_line_content": "      return nullptr;",
          "content_same": false
        },
        {
          "line": 4117,
          "old_api": "simplifyType",
          "new_api": null,
          "old_text": "cs2->simplifyType(boundTV1)",
          "new_text": null,
          "old_line_content": "        if (auto type2 = cs2->simplifyType(boundTV1)) {",
          "new_line_content": "      SolutionCompareResult result = SolutionCompareResult::Identical;",
          "content_same": false
        },
        {
          "line": 4118,
          "old_api": "simplifyType",
          "new_api": null,
          "old_text": "cs1->simplifyType(fixedTV1.second)",
          "new_text": null,
          "old_line_content": "          auto type1 = cs1->simplifyType(fixedTV1.second);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5141,
          "old_api": "getNumElements",
          "new_api": null,
          "old_text": "TE->getNumElements()",
          "new_text": null,
          "old_line_content": "    for (unsigned i = 0; i != TE->getNumElements(); ++i) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4632,
          "old_api": "setDecl",
          "new_api": null,
          "old_text": "expr->setDecl(subscript)",
          "new_text": null,
          "old_line_content": "      expr->setDecl(subscript);",
          "new_line_content": "                                                    subscript);",
          "content_same": false
        },
        {
          "line": 5143,
          "old_api": "computeAssignDestType",
          "new_api": null,
          "old_text": "computeAssignDestType(cs, subExpr, equalLoc)",
          "new_text": null,
          "old_line_content": "      Type elemTy = computeAssignDestType(cs, subExpr, equalLoc);",
          "new_line_content": "    log << \"---Type-checked expression---\\n\";",
          "content_same": false
        },
        {
          "line": 4122,
          "old_api": "getTypeChecker",
          "new_api": null,
          "old_text": "cs1->getTypeChecker()",
          "new_text": null,
          "old_line_content": "          type1 = stripInitializers(cs1->getTypeChecker(), type1);",
          "new_line_content": "        for (const auto &fixed : walkCS1->FixedTypes)",
          "content_same": false
        },
        {
          "line": 4123,
          "old_api": "getTypeChecker",
          "new_api": null,
          "old_text": "cs1->getTypeChecker()",
          "new_text": null,
          "old_line_content": "          type2 = stripInitializers(cs1->getTypeChecker(), type2);",
          "new_line_content": "          if (fixed.second)",
          "content_same": false
        },
        {
          "line": 5145,
          "old_api": "Type",
          "new_api": null,
          "old_text": "Type()",
          "new_text": null,
          "old_line_content": "        return Type();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 5146,
          "old_api": "getElementName",
          "new_api": null,
          "old_text": "TE->getElementName(i)",
          "new_text": null,
          "old_line_content": "      destTupleTypes.push_back(TupleTypeElt(elemTy, TE->getElementName(i)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4126,
          "old_api": "isEqual",
          "new_api": null,
          "old_text": "type1->isEqual(type2)",
          "new_text": null,
          "old_line_content": "          if (type1->isEqual(type2))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5149,
          "old_api": "TupleType::get(destTupleTypes, ctx)",
          "new_api": null,
          "old_text": "TupleType::get(destTupleTypes, ctx)",
          "new_text": null,
          "old_line_content": "    return TupleType::get(destTupleTypes, ctx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5152,
          "old_api": "getType",
          "new_api": null,
          "old_text": "dest->getType()",
          "new_text": null,
          "old_line_content": "  Type destTy = cs.simplifyType(dest->getType());",
          "new_line_content": "static Type computeAssignDestType(ConstraintSystem &cs, Expr *dest,",
          "content_same": false
        },
        {
          "line": 5153,
          "old_api": "destTy->getAs<LValueType>()",
          "new_api": null,
          "old_text": "destTy->getAs<LValueType>()",
          "new_text": null,
          "old_line_content": "  if (LValueType *destLV = destTy->getAs<LValueType>()) {",
          "new_line_content": "                                  SourceLoc equalLoc) {",
          "content_same": false
        },
        {
          "line": 5156,
          "old_api": "destTy->getAs<TypeVariableType>()",
          "new_api": null,
          "old_text": "destTy->getAs<TypeVariableType>()",
          "new_text": null,
          "old_line_content": "  } else if (auto typeVar = destTy->getAs<TypeVariableType>()) {",
          "new_line_content": "    SmallVector<TupleTypeElt, 4> destTupleTypes;",
          "content_same": false
        },
        {
          "line": 4645,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"Already type-checked\")",
          "new_text": null,
          "old_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 5163,
          "old_api": "LValueType::Qual(LValueType::Qual::Implicit|\n                                                  LValueType::Qual::NonHeap)",
          "new_api": null,
          "old_text": "LValueType::Qual(LValueType::Qual::Implicit|\n                                                  LValueType::Qual::NonHeap)",
          "new_text": null,
          "old_line_content": "                                 LValueType::Qual(LValueType::Qual::Implicit|",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5166,
          "old_api": "addConstraint",
          "new_api": null,
          "old_text": "cs.addConstraint(ConstraintKind::Subtype, typeVar, refTv)",
          "new_text": null,
          "old_line_content": "    cs.addConstraint(ConstraintKind::Subtype, typeVar, refTv);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4143,
          "old_api": "matchTypes",
          "new_api": null,
          "old_text": "cs2->matchTypes(type2, type1,\n                                             TypeMatchKind::Subtype,\n                                             TMF_None, trivial)",
          "new_text": null,
          "old_line_content": "          bool type2Better = cs2->matchTypes(type2, type1,",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 5170,
          "old_api": "getTypeChecker",
          "new_api": null,
          "old_text": "cs.getTypeChecker().diagnose(equalLoc, diag::assignment_lhs_not_lvalue)",
          "new_text": null,
          "old_line_content": "      cs.getTypeChecker().diagnose(equalLoc, diag::assignment_lhs_not_lvalue)",
          "new_line_content": "    // If the destination is an lvalue, we're good; get it's object type.",
          "content_same": false
        },
        {
          "line": 4147,
          "old_api": "updateSolutionCompareResult",
          "new_api": null,
          "old_text": "updateSolutionCompareResult(result, type1Better, type2Better)",
          "new_text": null,
          "old_line_content": "          if (updateSolutionCompareResult(result, type1Better, type2Better))",
          "new_line_content": "          // FIXME: This is really unfortunate. More type variable sharing",
          "content_same": false
        },
        {
          "line": 4660,
          "old_api": "getSubPattern",
          "new_api": null,
          "old_text": "simplifyPatternTypes(\n                                cast<ParenPattern>(pattern)->getSubPattern())",
          "new_text": null,
          "old_line_content": "        return simplifyPatternTypes(",
          "new_line_content": "    Expr *visitArchetypeSubscriptExpr(ArchetypeSubscriptExpr *expr) {",
          "content_same": false
        },
        {
          "line": 5173,
          "old_api": "Type",
          "new_api": null,
          "old_text": "Type()",
          "new_text": null,
          "old_line_content": "    return Type();",
          "new_line_content": "    // The destination is a type variable. This type variable must be an",
          "content_same": false
        },
        {
          "line": 4670,
          "old_api": "getType",
          "new_api": null,
          "old_text": "var->getType()",
          "new_text": null,
          "old_line_content": "        var->overwriteType(CS.simplifyType(var->getType()));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4675,
          "old_api": "cast<TuplePattern>(pattern)",
          "new_api": null,
          "old_text": "cast<TuplePattern>(pattern)",
          "new_text": null,
          "old_line_content": "        auto tuplePat = cast<TuplePattern>(pattern);",
          "new_line_content": "        // Parentheses don't affect the type.",
          "content_same": false
        },
        {
          "line": 4165,
          "old_api": "typeMatchesDefaultLiteralConstraint",
          "new_api": null,
          "old_text": "topSystem.typeMatchesDefaultLiteralConstraint(boundTV1, type2)",
          "new_text": null,
          "old_line_content": "            = topSystem.typeMatchesDefaultLiteralConstraint(boundTV1, type2);",
          "new_line_content": "          if (type1Better || type2Better)",
          "content_same": false
        },
        {
          "line": 4166,
          "old_api": "updateSolutionCompareResult",
          "new_api": null,
          "old_text": "updateSolutionCompareResult(result, defaultLit1, defaultLit2)",
          "new_text": null,
          "old_line_content": "          if (updateSolutionCompareResult(result, defaultLit1, defaultLit2))",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 5192,
          "old_api": "PreCheckExpression",
          "new_api": null,
          "old_text": "PreCheckExpression(*this)",
          "new_text": null,
          "old_line_content": "  src = src->walk(PreCheckExpression(*this));",
          "new_line_content": "  return destTy;",
          "content_same": false
        },
        {
          "line": 4683,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"Unhandled pattern kind\")",
          "new_text": null,
          "old_line_content": "      llvm_unreachable(\"Unhandled pattern kind\");",
          "new_line_content": "      case PatternKind::Named: {",
          "content_same": false
        },
        {
          "line": 5196,
          "old_api": "llvm::errs()",
          "new_api": null,
          "old_text": "llvm::errs()",
          "new_text": null,
          "old_line_content": "  llvm::raw_ostream &log = llvm::errs();",
          "new_line_content": "TypeChecker::typeCheckAssignmentConstraints(Expr *dest,",
          "content_same": false
        },
        {
          "line": 4688,
          "old_api": "simplifyExprType",
          "new_api": null,
          "old_text": "simplifyExprType(expr)",
          "new_text": null,
          "old_line_content": "      simplifyExprType(expr);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 5200,
          "old_api": "generateConstraints",
          "new_api": null,
          "old_text": "cs.generateConstraints(src)",
          "new_text": null,
          "old_line_content": "  if (cs.generateConstraints(dest) || cs.generateConstraints(src))",
          "new_line_content": "  // occur in the expression and folding sequence expressions.",
          "content_same": false
        },
        {
          "line": 4178,
          "old_api": "compareTypeVariables",
          "new_api": null,
          "old_text": "compareTypeVariables(&cs1, &cs2)",
          "new_text": null,
          "old_line_content": "  SolutionCompareResult result = compareTypeVariables(&cs1, &cs2);",
          "new_line_content": "          bool defaultLit1",
          "content_same": false
        },
        {
          "line": 4694,
          "old_api": "getBodyParamPatterns",
          "new_api": null,
          "old_text": "expr->getBodyParamPatterns()",
          "new_text": null,
          "old_line_content": "      if (CS.TC.coerceToType(expr->getBodyParamPatterns()[0], input, false))",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5210,
          "old_api": "getType",
          "new_api": null,
          "old_text": "src->getType()",
          "new_text": null,
          "old_line_content": "  cs.addConstraint(ConstraintKind::Conversion, src->getType(), destTy);",
          "new_line_content": "    return { nullptr, nullptr };",
          "content_same": false
        },
        {
          "line": 4701,
          "old_api": "getType",
          "new_api": null,
          "old_text": "expr->getType()",
          "new_text": null,
          "old_line_content": "      auto type = CS.simplifyType(expr->getType())->castTo<FunctionType>();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5215,
          "old_api": "print",
          "new_api": null,
          "old_text": "dest->print(log)",
          "new_text": null,
          "old_line_content": "    dest->print(log);",
          "new_line_content": "  ConstraintSystem cs(*this);",
          "content_same": false
        },
        {
          "line": 4705,
          "old_api": "getInput",
          "new_api": null,
          "old_text": "type->getInput()->getAs<TupleType>()",
          "new_text": null,
          "old_line_content": "      TupleType *inputTT = type->getInput()->getAs<TupleType>();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5218,
          "old_api": "print",
          "new_api": null,
          "old_text": "src->print(log)",
          "new_text": null,
          "old_line_content": "    src->print(log);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5220,
          "old_api": "dump",
          "new_api": null,
          "old_text": "cs.dump()",
          "new_text": null,
          "old_line_content": "    cs.dump();",
          "new_line_content": "  // to the destination.",
          "content_same": false
        },
        {
          "line": 4711,
          "old_api": "end",
          "new_api": null,
          "old_text": "expr->getParserVarDecls().end()",
          "new_text": null,
          "old_line_content": "                                    expr->getParserVarDecls().end());",
          "new_line_content": "        return nullptr;",
          "content_same": false
        },
        {
          "line": 4200,
          "old_api": "empty",
          "new_api": null,
          "old_text": "viable.empty()",
          "new_text": null,
          "old_line_content": "  if (viable.empty())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4713,
          "old_api": "getLoc",
          "new_api": null,
          "old_text": "expr->getLoc()",
          "new_text": null,
          "old_line_content": "      SourceLoc loc = expr->getLoc();",
          "new_line_content": "      return expr;",
          "content_same": false
        },
        {
          "line": 4202,
          "old_api": "size",
          "new_api": null,
          "old_text": "viable.size()",
          "new_text": null,
          "old_line_content": "  if (viable.size() == 1)",
          "new_line_content": "  case SolutionCompareResult::Incomparable:",
          "content_same": false
        },
        {
          "line": 4203,
          "old_api": "isSolved",
          "new_api": null,
          "old_text": "viable[0]->isSolved()",
          "new_text": null,
          "old_line_content": "    return viable[0]->isSolved()? viable[0] : nullptr;",
          "new_line_content": "  case SolutionCompareResult::Better:",
          "content_same": false
        },
        {
          "line": 4714,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "CS.getASTContext()",
          "new_text": null,
          "old_line_content": "      expr->GenerateVarDecls(numInputArgs, argVars, CS.getASTContext());",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5225,
          "old_api": "solve",
          "new_api": null,
          "old_text": "cs.solve(viable)",
          "new_text": null,
          "old_line_content": "  if (cs.solve(viable)) {",
          "new_line_content": "  // The source must be convertible to the destination.",
          "content_same": false
        },
        {
          "line": 4720,
          "old_api": "getElementType",
          "new_api": null,
          "old_text": "inputTT->getElementType(i)",
          "new_text": null,
          "old_line_content": "          argVars[i]->overwriteType(inputTT->getElementType(i));",
          "new_line_content": "      unsigned numInputArgs = 1;",
          "content_same": false
        },
        {
          "line": 4209,
          "old_api": "isSolved",
          "new_api": null,
          "old_text": "cs->isSolved()",
          "new_text": null,
          "old_line_content": "    if (!cs->isSolved())",
          "new_line_content": "    // identical.",
          "content_same": false
        },
        {
          "line": 4722,
          "old_api": "getElementType",
          "new_api": null,
          "old_text": "inputTT->getElementType(i)",
          "new_text": null,
          "old_line_content": "          p->setType(inputTT->getElementType(i));",
          "new_line_content": "      if (inputTT)",
          "content_same": false
        },
        {
          "line": 4725,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "CS.getASTContext()",
          "new_text": null,
          "old_line_content": "        argPat = TuplePattern::create(CS.getASTContext(), loc, argElts, loc);",
          "new_line_content": "      // Build up the set of VarDecls (building more if necessary).",
          "content_same": false
        },
        {
          "line": 5237,
          "old_api": "isSolved",
          "new_api": null,
          "old_text": "cs->isSolved(freeVariables)",
          "new_text": null,
          "old_line_content": "          if (cs->isSolved(freeVariables)) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4728,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "CS.getASTContext()",
          "new_text": null,
          "old_line_content": "        argPat = new (CS.getASTContext()) NamedPattern(argVars[0]);",
          "new_line_content": "      Pattern *argPat;",
          "content_same": false
        },
        {
          "line": 4731,
          "old_api": "setPattern",
          "new_api": null,
          "old_text": "expr->setPattern(argPat)",
          "new_text": null,
          "old_line_content": "      expr->setPattern(argPat);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4735,
          "old_api": "getResult",
          "new_api": null,
          "old_text": "type->getResult()",
          "new_text": null,
          "old_line_content": "      auto resultType = type->getResult();",
          "new_line_content": "        for (unsigned i = 0; i < numInputArgs; ++i) {",
          "content_same": false
        },
        {
          "line": 5254,
          "old_api": "getSourceRange",
          "new_api": null,
          "old_text": "src->getSourceRange()",
          "new_text": null,
          "old_line_content": "      << dest->getSourceRange() << src->getSourceRange();",
          "new_line_content": "            ++numSolved;",
          "content_same": false
        },
        {
          "line": 5260,
          "old_api": "getLangOpts",
          "new_api": null,
          "old_text": "getLangOpts()",
          "new_text": null,
          "old_line_content": "  if (getLangOpts().DebugConstraintSolver) {",
          "new_line_content": "        log << \"No solution found.\\n\";",
          "content_same": false
        },
        {
          "line": 4237,
          "old_api": "isSolved",
          "new_api": null,
          "old_text": "cs->isSolved()",
          "new_text": null,
          "old_line_content": "    if (best == cs || !cs->isSolved())",
          "new_line_content": "      // find a way to eliminate the redundancy in the search space.",
          "content_same": false
        },
        {
          "line": 5262,
          "old_api": "dump",
          "new_api": null,
          "old_text": "solution->dump()",
          "new_text": null,
          "old_line_content": "    solution->dump();",
          "new_line_content": "        log << \"Unique solution found.\\n\";",
          "content_same": false
        },
        {
          "line": 4240,
          "old_api": "compareSolutions",
          "new_api": null,
          "old_text": "compareSolutions(*best, *cs)",
          "new_text": null,
          "old_line_content": "    switch (compareSolutions(*best, *cs)) {",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 5266,
          "old_api": "applySolution",
          "new_api": null,
          "old_text": "solution->applySolution(dest)",
          "new_text": null,
          "old_line_content": "  dest = solution->applySolution(dest);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4756,
          "old_api": "getSubExpr",
          "new_api": null,
          "old_text": "expr->getSubExpr()->getType()->getAs<LValueType>()",
          "new_text": null,
          "old_line_content": "      auto lv = expr->getSubExpr()->getType()->getAs<LValueType>();",
          "new_line_content": "      // Compute the capture list, now that we have analyzed the expression.",
          "content_same": false
        },
        {
          "line": 4759,
          "old_api": "getQualifiers",
          "new_api": null,
          "old_text": "lv->getQualifiers()",
          "new_text": null,
          "old_line_content": "      auto destQuals = lv->getQualifiers() - LValueType::Qual::Implicit;",
          "new_line_content": "      return expr;",
          "content_same": false
        },
        {
          "line": 4760,
          "old_api": "getObjectType",
          "new_api": null,
          "old_text": "lv->getObjectType()",
          "new_text": null,
          "old_line_content": "      expr->setType(LValueType::get(lv->getObjectType(), destQuals,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4761,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "CS.getASTContext()",
          "new_text": null,
          "old_line_content": "                                    CS.getASTContext()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5273,
          "old_api": "applySolution",
          "new_api": null,
          "old_text": "solution->applySolution(src)",
          "new_text": null,
          "old_line_content": "  src = solution->applySolution(src);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4766,
          "old_api": "getTypeChecker",
          "new_api": null,
          "old_text": "CS.getTypeChecker()",
          "new_text": null,
          "old_line_content": "      auto &tc = CS.getTypeChecker();",
          "new_line_content": "    Expr *visitModuleExpr(ModuleExpr *expr) { return expr; }",
          "content_same": false
        },
        {
          "line": 5280,
          "old_api": "simplifyType",
          "new_api": null,
          "old_text": "solution->simplifyType(destTy)",
          "new_text": null,
          "old_line_content": "  src = solution->convertToType(src, solution->simplifyType(destTy));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4769,
          "old_api": "getType",
          "new_api": null,
          "old_text": "expr->getType()",
          "new_text": null,
          "old_line_content": "      auto resultType = CS.simplifyType(expr->getType());",
          "new_line_content": "      // Compute the type of the address-of expression.",
          "content_same": false
        },
        {
          "line": 4770,
          "old_api": "getGenericArgs",
          "new_api": null,
          "old_text": "resultType->castTo<BoundGenericType>()\n                           ->getGenericArgs()",
          "new_text": null,
          "old_line_content": "      auto elementType = resultType->castTo<BoundGenericType>()",
          "new_line_content": "      // FIXME: Do we really need to compute this, or is this just a hack",
          "content_same": false
        },
        {
          "line": 5286,
          "old_api": "getLangOpts",
          "new_api": null,
          "old_text": "getLangOpts()",
          "new_text": null,
          "old_line_content": "  if (getLangOpts().DebugConstraintSolver) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4778,
          "old_api": "ArraySliceType::get(elementType, tc.Context)",
          "new_api": null,
          "old_text": "ArraySliceType::get(elementType, tc.Context)",
          "new_text": null,
          "old_line_content": "        sliceType = ArraySliceType::get(elementType, tc.Context);",
          "new_line_content": "      return expr;",
          "content_same": false
        },
        {
          "line": 4779,
          "old_api": "setImplementationType",
          "new_api": null,
          "old_text": "sliceType->setImplementationType(\n                                       resultType->castTo<BoundGenericType>())",
          "new_text": null,
          "old_line_content": "        sliceType->setImplementationType(",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4268,
          "old_api": "coerceToType",
          "new_api": null,
          "old_text": "TC.coerceToType(expr, toType,\n                         isAssignment? CoercionKind::Assignment\n                                     : CoercionKind::Normal)",
          "new_text": null,
          "old_line_content": "  return TC.coerceToType(expr, toType,",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4780,
          "old_api": "resultType->castTo<BoundGenericType>()",
          "new_api": null,
          "old_text": "resultType->castTo<BoundGenericType>()",
          "new_text": null,
          "old_line_content": "                                       resultType->castTo<BoundGenericType>());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5292,
          "old_api": "print",
          "new_api": null,
          "old_text": "src->print(log)",
          "new_text": null,
          "old_line_content": "    src->print(log);",
          "new_line_content": "    return { nullptr, nullptr };",
          "content_same": false
        },
        {
          "line": 4783,
          "old_api": "setType",
          "new_api": null,
          "old_text": "expr->setType(resultType)",
          "new_text": null,
          "old_line_content": "      expr->setType(resultType);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4275,
          "old_api": "coerceObjectArgument",
          "new_api": null,
          "old_text": "TC.coerceObjectArgument(expr, toType)",
          "new_text": null,
          "old_line_content": "  return TC.coerceObjectArgument(expr, toType);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4787,
          "old_api": "getBounds",
          "new_api": null,
          "old_text": "expr->getBounds()[0].Value->getType()",
          "new_text": null,
          "old_line_content": "                            expr->getBounds()[0].Value->getType(),",
          "new_line_content": "                           ->getGenericArgs()[0];",
          "content_same": false
        },
        {
          "line": 4791,
          "old_api": "setInjectionFunction",
          "new_api": null,
          "old_text": "expr->setInjectionFunction(injectionFn)",
          "new_text": null,
          "old_line_content": "      expr->setInjectionFunction(injectionFn);",
          "new_line_content": "      // canonicalization mapped it down to Slice<T>.",
          "content_same": false
        },
        {
          "line": 4281,
          "old_api": "getSemanticsProvidingExpr",
          "new_api": null,
          "old_text": "expr->getSemanticsProvidingExpr()",
          "new_text": null,
          "old_line_content": "  expr = expr->getSemanticsProvidingExpr();",
          "new_line_content": "Expr *ConstraintSystem::convertToType(Expr *expr, Type toType,",
          "content_same": false
        },
        {
          "line": 4282,
          "old_api": "dyn_cast<DeclRefExpr>(expr)",
          "new_api": null,
          "old_text": "dyn_cast<DeclRefExpr>(expr)",
          "new_text": null,
          "old_line_content": "  if (auto dre = dyn_cast<DeclRefExpr>(expr))",
          "new_line_content": "                                      bool isAssignment) {",
          "content_same": false
        },
        {
          "line": 4283,
          "old_api": "isAssignment",
          "new_api": null,
          "old_text": "dre->getDecl()->getAttrs().isAssignment()",
          "new_text": null,
          "old_line_content": "    return dre->getDecl()->getAttrs().isAssignment();",
          "new_line_content": "  // FIXME: Temporary hack that uses the existing coercion logic.",
          "content_same": false
        },
        {
          "line": 4285,
          "old_api": "getFn",
          "new_api": null,
          "old_text": "dotCall->getFn()",
          "new_text": null,
          "old_line_content": "    return isAssignmentFn(dotCall->getFn());",
          "new_line_content": "                         isAssignment? CoercionKind::Assignment",
          "content_same": false
        },
        {
          "line": 4286,
          "old_api": "dyn_cast<ExistentialMemberRefExpr>(expr)",
          "new_api": null,
          "old_text": "dyn_cast<ExistentialMemberRefExpr>(expr)",
          "new_text": null,
          "old_line_content": "  if (auto emr = dyn_cast<ExistentialMemberRefExpr>(expr))",
          "new_line_content": "                                     : CoercionKind::Normal);",
          "content_same": false
        },
        {
          "line": 4287,
          "old_api": "isAssignment",
          "new_api": null,
          "old_text": "emr->getDecl()->getAttrs().isAssignment()",
          "new_text": null,
          "old_line_content": "    return emr->getDecl()->getAttrs().isAssignment();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4288,
          "old_api": "dyn_cast<ArchetypeMemberRefExpr>(expr)",
          "new_api": null,
          "old_text": "dyn_cast<ArchetypeMemberRefExpr>(expr)",
          "new_text": null,
          "old_line_content": "  if (auto amr = dyn_cast<ArchetypeMemberRefExpr>(expr))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4289,
          "old_api": "isAssignment",
          "new_api": null,
          "old_text": "amr->getDecl()->getAttrs().isAssignment()",
          "new_text": null,
          "old_line_content": "    return amr->getDecl()->getAttrs().isAssignment();",
          "new_line_content": "Expr *ConstraintSystem::convertObjectArgumentToType(Expr *expr, Type toType) {",
          "content_same": false
        },
        {
          "line": 4290,
          "old_api": "dyn_cast<GenericMemberRefExpr>(expr)",
          "new_api": null,
          "old_text": "dyn_cast<GenericMemberRefExpr>(expr)",
          "new_text": null,
          "old_line_content": "  if (auto gmr = dyn_cast<GenericMemberRefExpr>(expr))",
          "new_line_content": "  // FIXME: Temporary hack that uses the existing coercion logic.",
          "content_same": false
        },
        {
          "line": 4797,
          "old_api": "getTypeChecker",
          "new_api": null,
          "old_text": "CS.getTypeChecker()",
          "new_text": null,
          "old_line_content": "      auto &tc = CS.getTypeChecker();",
          "new_line_content": "        resultType = sliceType;",
          "content_same": false
        },
        {
          "line": 4800,
          "old_api": "convertToRValue",
          "new_api": null,
          "old_text": "tc.convertToRValue(base)",
          "new_text": null,
          "old_line_content": "        base = tc.convertToRValue(base);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5310,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "path.push_back(cs)",
          "new_text": null,
          "old_line_content": "      path.push_back(cs);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 5314,
          "old_api": "rend",
          "new_api": null,
          "old_text": "path.rend()",
          "new_text": null,
          "old_line_content": "    for (auto p = path.rbegin(), pe = path.rend(); p != pe; ++p) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5316,
          "old_api": "indent",
          "new_api": null,
          "old_text": "out.indent(2)",
          "new_text": null,
          "old_line_content": "      out.indent(2);",
          "new_line_content": "// Debugging",
          "content_same": false
        },
        {
          "line": 5320,
          "old_api": "getString",
          "new_api": null,
          "old_text": "cs->assumedTypeVar->getString()",
          "new_text": null,
          "old_line_content": "        out << \"  assuming \" << cs->assumedTypeVar->getString() << \" == \"",
          "new_line_content": "void ConstraintSystem::dump() {",
          "content_same": false
        },
        {
          "line": 4809,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"Already type-checked\")",
          "new_text": null,
          "old_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "new_line_content": "      return expr;",
          "content_same": false
        },
        {
          "line": 5328,
          "old_api": "getChoices",
          "new_api": null,
          "old_text": "ovl.first->getChoices()",
          "new_text": null,
          "old_line_content": "        auto &choice = ovl.first->getChoices()[ovl.second.first];",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5329,
          "old_api": "getID",
          "new_api": null,
          "old_text": "ovl.first->getID()",
          "new_text": null,
          "old_line_content": "        out << \"  selected overload set #\" << ovl.first->getID()",
          "new_line_content": "    out << \"Assumptions:\\n\";",
          "content_same": false
        },
        {
          "line": 5331,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "choice.getKind()",
          "new_text": null,
          "old_line_content": "        switch (choice.getKind()) {",
          "new_line_content": "      auto cs = *p;",
          "content_same": false
        },
        {
          "line": 4308,
          "old_api": "getArchetype",
          "new_api": null,
          "old_text": "tv->getImpl().getArchetype()",
          "new_text": null,
          "old_line_content": "                       auto archetype = tv->getImpl().getArchetype();",
          "new_line_content": "  return false;",
          "content_same": false
        },
        {
          "line": 4309,
          "old_api": "simplifyType",
          "new_api": null,
          "old_text": "CS.simplifyType(tv)",
          "new_text": null,
          "old_line_content": "                       auto simplified = CS.simplifyType(tv);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 5333,
          "old_api": "getBaseType",
          "new_api": null,
          "old_text": "choice.getBaseType()",
          "new_text": null,
          "old_line_content": "          if (choice.getBaseType())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4823,
          "old_api": "getType",
          "new_api": null,
          "old_text": "fn->getType()->getAs<FunctionType>()",
          "new_text": null,
          "old_line_content": "      if (auto fnType = fn->getType()->getAs<FunctionType>()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4312,
          "old_api": "SubstitutedType::get(archetype, simplified,\n                                                   tc.Context)",
          "new_api": null,
          "old_text": "SubstitutedType::get(archetype, simplified,\n                                                   tc.Context)",
          "new_text": null,
          "old_line_content": "                       return SubstitutedType::get(archetype, simplified,",
          "new_line_content": "  class ExprRewriter : public ExprVisitor<ExprRewriter, Expr *> {",
          "content_same": false
        },
        {
          "line": 4824,
          "old_api": "getArg",
          "new_api": null,
          "old_text": "expr->getArg()",
          "new_text": null,
          "old_line_content": "        auto origArg = expr->getArg();",
          "new_line_content": "    Expr *visitOpaqueValueExpr(OpaqueValueExpr *expr) {",
          "content_same": false
        },
        {
          "line": 4826,
          "old_api": "isa<DotSyntaxCallExpr>(expr)",
          "new_api": null,
          "old_text": "isa<DotSyntaxCallExpr>(expr)",
          "new_text": null,
          "old_line_content": "        if (isa<DotSyntaxCallExpr>(expr))",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4827,
          "old_api": "getInput",
          "new_api": null,
          "old_text": "fnType->getInput()",
          "new_text": null,
          "old_line_content": "          arg = CS.convertObjectArgumentToType(origArg, fnType->getInput());",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 5334,
          "old_api": "getBaseType",
          "new_api": null,
          "old_text": "choice.getBaseType()->getString()",
          "new_text": null,
          "old_line_content": "            out << choice.getBaseType()->getString() << \".\";",
          "new_line_content": "      // If we assumed a type variable binding, report that.",
          "content_same": false
        },
        {
          "line": 5335,
          "old_api": "getDecl",
          "new_api": null,
          "old_text": "choice.getDecl()->getName().str()",
          "new_text": null,
          "old_line_content": "          out << choice.getDecl()->getName().str() << \": \"",
          "new_line_content": "      if (cs->assumedTypeVar) {",
          "content_same": false
        },
        {
          "line": 4830,
          "old_api": "isAssignmentFn",
          "new_api": null,
          "old_text": "isAssignmentFn(fn)",
          "new_text": null,
          "old_line_content": "                                 isAssignmentFn(fn));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5341,
          "old_api": "getBaseType",
          "new_api": null,
          "old_text": "choice.getBaseType()->getString()",
          "new_text": null,
          "old_line_content": "          out << \"base type \" << choice.getBaseType()->getString() << \"\\n\";",
          "new_line_content": "      // Otherwise, report the resolved overloads.",
          "content_same": false
        },
        {
          "line": 4833,
          "old_api": "getLoc",
          "new_api": null,
          "old_text": "fn->getLoc()",
          "new_text": null,
          "old_line_content": "          tc.diagnose(fn->getLoc(), diag::while_converting_function_argument,",
          "new_line_content": "      if (!fn)",
          "content_same": false
        },
        {
          "line": 4834,
          "old_api": "getInput",
          "new_api": null,
          "old_text": "fnType->getInput()",
          "new_text": null,
          "old_line_content": "                      fnType->getInput())",
          "new_line_content": "        return nullptr;",
          "content_same": false
        },
        {
          "line": 5346,
          "old_api": "getBaseType",
          "new_api": null,
          "old_text": "choice.getBaseType()->getString()",
          "new_text": null,
          "old_line_content": "              << choice.getBaseType()->getString() << \"\\n\";",
          "new_line_content": "            << \" choice #\" << ovl.second.first << \" for \";",
          "content_same": false
        },
        {
          "line": 3812,
          "old_api": "get<2>(*binding)",
          "new_api": null,
          "old_text": "get<2>(*binding)",
          "new_text": null,
          "old_line_content": "    return SolutionStep(get<0>(*binding), get<1>(*binding), get<2>(*binding));",
          "new_line_content": "          minIdx = i;",
          "content_same": false
        },
        {
          "line": 4841,
          "old_api": "setArg",
          "new_api": null,
          "old_text": "expr->setArg(arg)",
          "new_text": null,
          "old_line_content": "        expr->setArg(arg);",
          "new_line_content": "        Expr *arg = nullptr;",
          "content_same": false
        },
        {
          "line": 5354,
          "old_api": "getTupleIndex",
          "new_api": null,
          "old_text": "choice.getTupleIndex()",
          "new_text": null,
          "old_line_content": "              << choice.getTupleIndex() << \"\\n\";",
          "new_line_content": "          break;",
          "content_same": false
        },
        {
          "line": 4844,
          "old_api": "getType",
          "new_api": null,
          "old_text": "expr->getType()->getAs<PolymorphicFunctionType>()",
          "new_text": null,
          "old_line_content": "        if (auto polyFn = expr->getType()->getAs<PolymorphicFunctionType>()) {",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 3820,
          "old_api": "getTopConstraintSystem",
          "new_api": null,
          "old_text": "getTopConstraintSystem()",
          "new_text": null,
          "old_line_content": "  assert(&getTopConstraintSystem() == this &&\"Can only solve at the top level\");",
          "new_line_content": "    // Resolve the unresolved overload set with the minimum number of overloads.",
          "content_same": false
        },
        {
          "line": 3823,
          "old_api": "getLangOpts",
          "new_api": null,
          "old_text": "TC.getLangOpts()",
          "new_text": null,
          "old_line_content": "  if (TC.getLangOpts().DebugConstraintSolver) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3824,
          "old_api": "llvm::errs()",
          "new_api": null,
          "old_text": "llvm::errs()",
          "new_text": null,
          "old_line_content": "    llvm::errs() << \"---Simplified constraints---\\n\";",
          "new_line_content": "  // Try to determine a binding for a type variable.",
          "content_same": false
        },
        {
          "line": 3826,
          "old_api": "simplify",
          "new_api": null,
          "old_text": "simplify()",
          "new_text": null,
          "old_line_content": "  bool error = simplify();",
          "new_line_content": "                                         /*onlyDefinitive=*/false)) {",
          "content_same": false
        },
        {
          "line": 3827,
          "old_api": "getLangOpts",
          "new_api": null,
          "old_text": "TC.getLangOpts()",
          "new_text": null,
          "old_line_content": "  if (TC.getLangOpts().DebugConstraintSolver) {",
          "new_line_content": "    using std::get;",
          "content_same": false
        },
        {
          "line": 4340,
          "old_api": "getTypeChecker",
          "new_api": null,
          "old_text": "CS.getTypeChecker()",
          "new_text": null,
          "old_line_content": "      auto &tc = CS.getTypeChecker();",
          "new_line_content": "                                &substitutions))",
          "content_same": false
        },
        {
          "line": 4341,
          "old_api": "buildMemberRefExpr",
          "new_api": null,
          "old_text": "tc.buildMemberRefExpr(base, dotLoc, { &member, 1 },\n                                          memberLoc)",
          "new_text": null,
          "old_line_content": "      auto result = tc.buildMemberRefExpr(base, dotLoc, { &member, 1 },",
          "new_line_content": "        return nullptr;",
          "content_same": false
        },
        {
          "line": 4852,
          "old_api": "semaApplyExpr",
          "new_api": null,
          "old_text": "tc.semaApplyExpr(expr)",
          "new_text": null,
          "old_line_content": "      return tc.semaApplyExpr(expr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5367,
          "old_api": "getRepresentative",
          "new_api": null,
          "old_text": "getRepresentative(tv)",
          "new_text": null,
          "old_line_content": "      auto rep = getRepresentative(tv);",
          "new_line_content": "          break;",
          "content_same": false
        },
        {
          "line": 4346,
          "old_api": "recheckTypes",
          "new_api": null,
          "old_text": "tc.recheckTypes(result)",
          "new_text": null,
          "old_line_content": "      result = tc.recheckTypes(result);",
          "new_line_content": "                                                /*ArchetypesAreOpen=*/false,",
          "content_same": false
        },
        {
          "line": 5371,
          "old_api": "print",
          "new_api": null,
          "old_text": "fixed->print(out)",
          "new_text": null,
          "old_line_content": "          fixed->print(out);",
          "new_line_content": "          break;",
          "content_same": false
        },
        {
          "line": 3835,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "stack.push_back(this)",
          "new_text": null,
          "old_line_content": "  stack.push_back(this);",
          "new_line_content": "bool ConstraintSystem::solve(SmallVectorImpl<ConstraintSystem *> &viable) {",
          "content_same": false
        },
        {
          "line": 4350,
          "old_api": "getType",
          "new_api": null,
          "old_text": "result->getType()->getAs<PolymorphicFunctionType>()",
          "new_text": null,
          "old_line_content": "      if (auto polyFn = result->getType()->getAs<PolymorphicFunctionType>()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4351,
          "old_api": "specialize",
          "new_api": null,
          "old_text": "specialize(result, polyFn, openedType)",
          "new_text": null,
          "old_line_content": "        return specialize(result, polyFn, openedType);",
          "new_line_content": "    /// \\brief Build a new member reference with the given base and member.",
          "content_same": false
        },
        {
          "line": 4862,
          "old_api": "getSelectedOverloadFromSet",
          "new_api": null,
          "old_text": "CS.getSelectedOverloadFromSet(ovl).getValue()",
          "new_text": null,
          "old_line_content": "      auto choice = CS.getSelectedOverloadFromSet(ovl).getValue().first;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4863,
          "old_api": "getDecl",
          "new_api": null,
          "old_text": "choice.getDecl()",
          "new_text": null,
          "old_line_content": "      auto constructor = cast<ConstructorDecl>(choice.getDecl());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4866,
          "old_api": "getTypeChecker",
          "new_api": null,
          "old_text": "CS.getTypeChecker()",
          "new_text": null,
          "old_line_content": "      auto &tc = CS.getTypeChecker();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4867,
          "old_api": "MetaTypeType::get(instanceTy, tc.Context)",
          "new_api": null,
          "old_text": "MetaTypeType::get(instanceTy, tc.Context)",
          "new_text": null,
          "old_line_content": "      auto classMetaTy = MetaTypeType::get(instanceTy, tc.Context);",
          "new_line_content": "      // FIXME: Implement support for metatypes here.",
          "content_same": false
        },
        {
          "line": 5375,
          "old_api": "print",
          "new_api": null,
          "old_text": "rep->print(out)",
          "new_text": null,
          "old_line_content": "        rep->print(out);",
          "new_line_content": "    out << \"\\n\";",
          "content_same": false
        },
        {
          "line": 3841,
          "old_api": "pop_back",
          "new_api": null,
          "old_text": "stack.pop_back()",
          "new_text": null,
          "old_line_content": "    stack.pop_back();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4870,
          "old_api": "getLoc",
          "new_api": null,
          "old_text": "expr->getLoc()",
          "new_text": null,
          "old_line_content": "      Expr *ctorRef = new (tc.Context) DeclRefExpr(constructor, expr->getLoc(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4871,
          "old_api": "getTypeOfReference",
          "new_api": null,
          "old_text": "constructor->getTypeOfReference()",
          "new_text": null,
          "old_line_content": "                                         constructor->getTypeOfReference());",
          "new_line_content": "    Expr *visitNewReferenceExpr(NewReferenceExpr *expr) {",
          "content_same": false
        },
        {
          "line": 4360,
          "old_api": "isa<FuncDecl>(value)",
          "new_api": null,
          "old_text": "isa<FuncDecl>(value)",
          "new_text": null,
          "old_line_content": "      assert(isa<FuncDecl>(value) && \"Only functions allowed\");",
          "new_line_content": "        return nullptr;",
          "content_same": false
        },
        {
          "line": 4361,
          "old_api": "isOperator",
          "new_api": null,
          "old_text": "cast<FuncDecl>(value)->isOperator()",
          "new_text": null,
          "old_line_content": "      assert(cast<FuncDecl>(value)->isOperator() && \"Only operators allowed\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5384,
          "old_api": "print",
          "new_api": null,
          "old_text": "constraint->print(out)",
          "new_text": null,
          "old_line_content": "    constraint->print(out);",
          "new_line_content": "      if (rep == tv) {",
          "content_same": false
        },
        {
          "line": 4875,
          "old_api": "getArg",
          "new_api": null,
          "old_text": "expr->getArg()",
          "new_text": null,
          "old_line_content": "      Expr *arg = expr->getArg();",
          "new_line_content": "      // Find the constructor we selected for this expression.",
          "content_same": false
        },
        {
          "line": 3846,
          "old_api": "hasActiveChildren",
          "new_api": null,
          "old_text": "cs->hasActiveChildren()",
          "new_text": null,
          "old_line_content": "    if (cs->hasActiveChildren())",
          "new_line_content": "  if (error)",
          "content_same": false
        },
        {
          "line": 3850,
          "old_api": "getNextSolutionStep",
          "new_api": null,
          "old_text": "getNextSolutionStep(*cs)",
          "new_text": null,
          "old_line_content": "    if (auto step = getNextSolutionStep(*cs)) {",
          "new_line_content": "  SmallVector<ConstraintSystem *, 16> stack;",
          "content_same": false
        },
        {
          "line": 5390,
          "old_api": "indent",
          "new_api": null,
          "old_text": "out.indent(2)",
          "new_text": null,
          "old_line_content": "    out.indent(2);",
          "new_line_content": "        out << \" equivalent to \";",
          "content_same": false
        },
        {
          "line": 3853,
          "old_api": "simplify",
          "new_api": null,
          "old_text": "cs->simplify()",
          "new_text": null,
          "old_line_content": "        if (!cs->simplify())",
          "new_line_content": "  // If there are any unresolved overload sets, create child systems in",
          "content_same": false
        },
        {
          "line": 4880,
          "old_api": "TupleType::getEmpty(tc.Context)",
          "new_api": null,
          "old_text": "TupleType::getEmpty(tc.Context)",
          "new_text": null,
          "old_line_content": "        arg->setType(TupleType::getEmpty(tc.Context));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3854,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "stack.push_back(cs)",
          "new_text": null,
          "old_line_content": "          stack.push_back(cs);",
          "new_line_content": "  // which we resolve the next overload set.",
          "content_same": false
        },
        {
          "line": 4371,
          "old_api": "getThis",
          "new_api": null,
          "old_text": "proto->getThis()->getDeclaredType()->castTo<ArchetypeType>()",
          "new_text": null,
          "old_line_content": "        = proto->getThis()->getDeclaredType()->castTo<ArchetypeType>();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4372,
          "old_api": "getTypeChecker",
          "new_api": null,
          "old_text": "CS.getTypeChecker().transformType(openedType, [&](Type type) -> Type {\n        if (auto typeVar = type->getAs<TypeVariableType>()) {\n          if (typeVar->getImpl().getArchetype() == thisArchetype) {\n            baseTy = CS.simplifyType(typeVar);\n            return nullptr;\n          }\n        }\n        \n        return type;\n      })",
          "new_text": null,
          "old_line_content": "      CS.getTypeChecker().transformType(openedType, [&](Type type) -> Type {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4373,
          "old_api": "type->getAs<TypeVariableType>()",
          "new_api": null,
          "old_text": "type->getAs<TypeVariableType>()",
          "new_text": null,
          "old_line_content": "        if (auto typeVar = type->getAs<TypeVariableType>()) {",
          "new_line_content": "    /// \\brief Build a reference to an operator within a protocol.",
          "content_same": false
        },
        {
          "line": 4374,
          "old_api": "getArchetype",
          "new_api": null,
          "old_text": "typeVar->getImpl().getArchetype()",
          "new_text": null,
          "old_line_content": "          if (typeVar->getImpl().getArchetype() == thisArchetype) {",
          "new_line_content": "    Expr *buildProtocolOperatorRef(ProtocolDecl *proto, ValueDecl *value,",
          "content_same": false
        },
        {
          "line": 4375,
          "old_api": "simplifyType",
          "new_api": null,
          "old_text": "CS.simplifyType(typeVar)",
          "new_text": null,
          "old_line_content": "            baseTy = CS.simplifyType(typeVar);",
          "new_line_content": "                                   SourceLoc nameLoc, Type openedType) {",
          "content_same": false
        },
        {
          "line": 4888,
          "old_api": "setArg",
          "new_api": null,
          "old_text": "expr->setArg(arg)",
          "new_text": null,
          "old_line_content": "      expr->setArg(arg);",
          "new_line_content": "      ctorRef = new (tc.Context) ConstructorRefCallExpr(ctorRef, typeBase);",
          "content_same": false
        },
        {
          "line": 4889,
          "old_api": "semaApplyExpr",
          "new_api": null,
          "old_text": "tc.semaApplyExpr(expr)",
          "new_text": null,
          "old_line_content": "      return tc.semaApplyExpr(expr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5395,
          "old_api": "empty",
          "new_api": null,
          "old_text": "UnresolvedOverloadSets.empty()",
          "new_text": null,
          "old_line_content": "  if (!UnresolvedOverloadSets.empty()) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 5398,
          "old_api": "getID",
          "new_api": null,
          "old_text": "overload->getID()",
          "new_text": null,
          "old_line_content": "      out.indent(2) << \"set #\" << overload->getID() << \" binds \"",
          "new_line_content": "  for (auto constraint : Constraints) {",
          "content_same": false
        },
        {
          "line": 5401,
          "old_api": "indent",
          "new_api": null,
          "old_text": "out.indent(4)",
          "new_text": null,
          "old_line_content": "        out.indent(4);",
          "new_line_content": "    out << \"\\n\";",
          "content_same": false
        },
        {
          "line": 5402,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "choice.getKind()",
          "new_text": null,
          "old_line_content": "        switch (choice.getKind()) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4382,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(baseTy && \"Unable to find base type for protocol operator ref\")",
          "new_text": null,
          "old_line_content": "      assert(baseTy && \"Unable to find base type for protocol operator ref\");",
          "new_line_content": "      // FIXME: This is both inefficient and suspicious. We should probably",
          "content_same": false
        },
        {
          "line": 5404,
          "old_api": "getBaseType",
          "new_api": null,
          "old_text": "choice.getBaseType()",
          "new_text": null,
          "old_line_content": "          if (choice.getBaseType())",
          "new_line_content": "  out << \"\\nSolved Constraints:\\n\";",
          "content_same": false
        },
        {
          "line": 5405,
          "old_api": "getBaseType",
          "new_api": null,
          "old_text": "choice.getBaseType()->getString()",
          "new_text": null,
          "old_line_content": "            out << choice.getBaseType()->getString() << \".\";",
          "new_line_content": "  for (auto constraint : SolvedConstraints) {",
          "content_same": false
        },
        {
          "line": 4385,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "CS.getASTContext()",
          "new_text": null,
          "old_line_content": "      auto &ctx = CS.getASTContext();",
          "new_line_content": "      Type baseTy;",
          "content_same": false
        },
        {
          "line": 3871,
          "old_api": "addConstraint",
          "new_api": null,
          "old_text": "cs->addConstraint(ConstraintKind::Equal,\n                            binding.first, binding.second)",
          "new_text": null,
          "old_line_content": "          cs->addConstraint(ConstraintKind::Equal,",
          "new_line_content": "        continue;",
          "content_same": false
        },
        {
          "line": 4899,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"Already type-checked\")",
          "new_text": null,
          "old_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "new_line_content": "      // FIXME: We need to know what happened to the constraints on the function",
          "content_same": false
        },
        {
          "line": 3873,
          "old_api": "simplify",
          "new_api": null,
          "old_text": "cs->simplify()",
          "new_text": null,
          "old_line_content": "          if (!cs->simplify())",
          "new_line_content": "      case SolutionStepKind::Overload: {",
          "content_same": false
        },
        {
          "line": 3874,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "stack.push_back(cs)",
          "new_text": null,
          "old_line_content": "            stack.push_back(cs);",
          "new_line_content": "        // Resolve the overload set.",
          "content_same": false
        },
        {
          "line": 3880,
          "old_api": "addPotentialBinding",
          "new_api": null,
          "old_text": "cs->addPotentialBinding(binding.first, binding.second)",
          "new_text": null,
          "old_line_content": "        cs->addPotentialBinding(binding.first, binding.second);",
          "new_line_content": "      case SolutionStepKind::TypeBinding: {",
          "content_same": false
        },
        {
          "line": 5419,
          "old_api": "getBaseType",
          "new_api": null,
          "old_text": "choice.getBaseType()->getString()",
          "new_text": null,
          "old_line_content": "          out << \"identity \" << choice.getBaseType()->getString() << \" -> \"",
          "new_line_content": "        case OverloadChoiceKind::Decl:",
          "content_same": false
        },
        {
          "line": 4910,
          "old_api": "dyn_cast<ExplicitClosureExpr>(expr)",
          "new_api": null,
          "old_text": "dyn_cast<ExplicitClosureExpr>(expr)",
          "new_text": null,
          "old_line_content": "      if (auto closure = dyn_cast<ExplicitClosureExpr>(expr)) {",
          "new_line_content": "    Expr *visitImplicitConversionExpr(ImplicitConversionExpr *expr) {",
          "content_same": false
        },
        {
          "line": 5424,
          "old_api": "getTupleIndex",
          "new_api": null,
          "old_text": "choice.getTupleIndex()",
          "new_text": null,
          "old_line_content": "            << choice.getTupleIndex() << \"\\n\";",
          "new_line_content": "          break;",
          "content_same": false
        },
        {
          "line": 4402,
          "old_api": "setType",
          "new_api": null,
          "old_text": "expr->setType(toType)",
          "new_text": null,
          "old_line_content": "      expr->setType(toType);",
          "new_line_content": "      auto base = new (ctx) MetatypeExpr(nullptr, nameLoc,",
          "content_same": false
        },
        {
          "line": 4916,
          "old_api": "getParserVarDecls",
          "new_api": null,
          "old_text": "closure->getParserVarDecls()",
          "new_text": null,
          "old_line_content": "        for (auto var : closure->getParserVarDecls())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4917,
          "old_api": "getType",
          "new_api": null,
          "old_text": "var->getType()",
          "new_text": null,
          "old_line_content": "          var->overwriteType(cs.simplifyType(var->getType()));",
          "new_line_content": "  };",
          "content_same": false
        },
        {
          "line": 3893,
          "old_api": "empty",
          "new_api": null,
          "old_text": "cs->Constraints.empty()",
          "new_text": null,
          "old_line_content": "    if (cs->Constraints.empty()) {",
          "new_line_content": "        ",
          "content_same": false
        },
        {
          "line": 3894,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "viable.push_back(cs)",
          "new_text": null,
          "old_line_content": "      viable.push_back(cs);",
          "new_line_content": "        // Add this type binding as a potential binding; we'll",
          "content_same": false
        },
        {
          "line": 5433,
          "old_api": "empty",
          "new_api": null,
          "old_text": "freeVariables.empty()",
          "new_text": null,
          "old_line_content": "    if (freeVariables.empty()) {",
          "new_line_content": "          break;",
          "content_same": false
        },
        {
          "line": 4924,
          "old_api": "dyn_cast<NewArrayExpr>(expr)",
          "new_api": null,
          "old_text": "dyn_cast<NewArrayExpr>(expr)",
          "new_text": null,
          "old_line_content": "      if (auto newArray = dyn_cast<NewArrayExpr>(expr)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4413,
          "old_api": "getType",
          "new_api": null,
          "old_text": "expr->getType()",
          "new_text": null,
          "old_line_content": "      auto type = CS.simplifyType(expr->getType());",
          "new_line_content": "    ///",
          "content_same": false
        },
        {
          "line": 4414,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "CS.getASTContext()",
          "new_text": null,
          "old_line_content": "      expr->setType(UnstructuredUnresolvedType::get(CS.getASTContext()));",
          "new_line_content": "    /// This routine is used for 'simple' expressions that only need their",
          "content_same": false
        },
        {
          "line": 4415,
          "old_api": "convertToType",
          "new_api": null,
          "old_text": "CS.convertToType(expr, type)",
          "new_text": null,
          "old_line_content": "      return CS.convertToType(expr, type);",
          "new_line_content": "    /// types simplified, with no further computation.",
          "content_same": false
        },
        {
          "line": 4925,
          "old_api": "visitNewArrayExpr",
          "new_api": null,
          "old_text": "Rewriter.visitNewArrayExpr(newArray)",
          "new_text": null,
          "old_line_content": "        Rewriter.visitNewArrayExpr(newArray);",
          "new_line_content": "    virtual bool walkToExprPre(Expr *expr) {",
          "content_same": false
        },
        {
          "line": 5438,
          "old_api": "getString",
          "new_api": null,
          "old_text": "fv->getString()",
          "new_text": null,
          "old_line_content": "        out << ' ' << fv->getString();",
          "new_line_content": "        case OverloadChoiceKind::TupleIndex:",
          "content_same": false
        },
        {
          "line": 3900,
          "old_api": "empty",
          "new_api": null,
          "old_text": "cs->PotentialBindings.empty()",
          "new_text": null,
          "old_line_content": "    if (cs->PotentialBindings.empty()) {",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 3901,
          "old_api": "markUnsolvable",
          "new_api": null,
          "old_text": "cs->markUnsolvable()",
          "new_text": null,
          "old_line_content": "      cs->markUnsolvable();",
          "new_line_content": "          ",
          "content_same": false
        },
        {
          "line": 3907,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "stack.push_back(cs)",
          "new_text": null,
          "old_line_content": "    stack.push_back(cs);",
          "new_line_content": "    // If there are no unsolved constraints, this system is either a",
          "content_same": false
        },
        {
          "line": 4421,
          "old_api": "getType",
          "new_api": null,
          "old_text": "expr->getType()",
          "new_text": null,
          "old_line_content": "      auto fromType = expr->getType();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3911,
          "old_api": "clear",
          "new_api": null,
          "old_text": "cs->PotentialBindings.clear()",
          "new_text": null,
          "old_line_content": "    cs->PotentialBindings.clear();",
          "new_line_content": "      continue;",
          "content_same": false
        },
        {
          "line": 4424,
          "old_api": "getDecl",
          "new_api": null,
          "old_text": "expr->getDecl()->getDeclContext()",
          "new_text": null,
          "old_line_content": "            = dyn_cast<ProtocolDecl>(expr->getDecl()->getDeclContext())) {",
          "new_line_content": "      return expr;",
          "content_same": false
        },
        {
          "line": 3913,
          "old_api": "exploreBinding",
          "new_api": null,
          "old_text": "cs->exploreBinding(binding.first, binding.second)",
          "new_text": null,
          "old_line_content": "      if (cs->exploreBinding(binding.first, binding.second)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3914,
          "old_api": "createDerivedConstraintSystem",
          "new_api": null,
          "old_text": "cs->createDerivedConstraintSystem(binding.first,\n                                                         binding.second)",
          "new_text": null,
          "old_line_content": "        auto childCS = cs->createDerivedConstraintSystem(binding.first,",
          "new_line_content": "    // If there are no potential bindings, we have nothing else we can",
          "content_same": false
        },
        {
          "line": 4427,
          "old_api": "getLoc",
          "new_api": null,
          "old_text": "expr->getLoc()",
          "new_text": null,
          "old_line_content": "        return buildProtocolOperatorRef(proto, expr->getDecl(), expr->getLoc(),",
          "new_line_content": "    Expr *visitLiteralExpr(LiteralExpr *expr) {",
          "content_same": false
        },
        {
          "line": 4432,
          "old_api": "getDecl",
          "new_api": null,
          "old_text": "expr->getDecl()->getTypeOfReference()",
          "new_text": null,
          "old_line_content": "      expr->setType(expr->getDecl()->getTypeOfReference());",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4945,
          "old_api": "isSolved",
          "new_api": null,
          "old_text": "isSolved(freeVariables)",
          "new_text": null,
          "old_line_content": "  assert(isSolved(freeVariables) && \"Solution is not solved!\");",
          "new_line_content": "      return true;",
          "content_same": false
        },
        {
          "line": 4946,
          "old_api": "empty",
          "new_api": null,
          "old_text": "freeVariables.empty()",
          "new_text": null,
          "old_line_content": "  assert(freeVariables.empty() && \"Solution has free variables\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4436,
          "old_api": "hasTypeVariable",
          "new_api": null,
          "old_text": "fromType->hasTypeVariable()",
          "new_text": null,
          "old_line_content": "      if (!fromType->hasTypeVariable())",
          "new_line_content": "    Expr *visitDeclRefExpr(DeclRefExpr *expr) {",
          "content_same": false
        },
        {
          "line": 3924,
          "old_api": "size",
          "new_api": null,
          "old_text": "viable.size()",
          "new_text": null,
          "old_line_content": "  if (viable.size() > 1) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3925,
          "old_api": "findBestSolution",
          "new_api": null,
          "old_text": "findBestSolution(viable)",
          "new_text": null,
          "old_line_content": "    if (auto best = findBestSolution(viable)) {",
          "new_line_content": "    // Create child systems for each of the potential bindings.",
          "content_same": false
        },
        {
          "line": 4951,
          "old_api": "getLangOpts",
          "new_api": null,
          "old_text": "TC.getLangOpts()",
          "new_text": null,
          "old_line_content": "  llvm::SaveAndRestore<bool> savedUseCS(TC.getLangOpts().UseConstraintSolver,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4441,
          "old_api": "getType",
          "new_api": null,
          "old_text": "expr->getType()->getAs<PolymorphicFunctionType>()",
          "new_text": null,
          "old_line_content": "      auto polyFn = expr->getType()->getAs<PolymorphicFunctionType>();",
          "new_line_content": "        // If this a member of a protocol, build an appropriate operator",
          "content_same": false
        },
        {
          "line": 4955,
          "old_api": "walk",
          "new_api": null,
          "old_text": "expr->walk(walker)",
          "new_text": null,
          "old_line_content": "  return expr->walk(walker);",
          "new_line_content": "    /// \\brief Ignore declarations.",
          "content_same": false
        },
        {
          "line": 3934,
          "old_api": "llvm::errs()",
          "new_api": null,
          "old_text": "llvm::errs()",
          "new_text": null,
          "old_line_content": "          llvm::errs() << \"---\\n\";",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 3935,
          "old_api": "dump",
          "new_api": null,
          "old_text": "cs->dump()",
          "new_text": null,
          "old_line_content": "          cs->dump();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3939,
          "old_api": "clear",
          "new_api": null,
          "old_text": "viable.clear()",
          "new_text": null,
          "old_line_content": "      viable.clear();",
          "new_line_content": "  // If there is more than one viable system, attempt to pick the best solution.",
          "content_same": false
        },
        {
          "line": 3945,
          "old_api": "front",
          "new_api": null,
          "old_text": "viable.front()->isSolved(freeVariables)",
          "new_text": null,
          "old_line_content": "  return viable.size() != 1 || !viable.front()->isSolved(freeVariables) ||",
          "new_line_content": "          SmallVector<TypeVariableType *, 4> freeVariables;",
          "content_same": false
        },
        {
          "line": 4458,
          "old_api": "getGeneratedOverloadSet",
          "new_api": null,
          "old_text": "CS.getGeneratedOverloadSet(expr)",
          "new_text": null,
          "old_line_content": "      auto ovl = CS.getGeneratedOverloadSet(expr);",
          "new_line_content": "      if (!polyFn) {",
          "content_same": false
        },
        {
          "line": 4459,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(ovl && \"No overload set associated with decl reference expr?\")",
          "new_text": null,
          "old_line_content": "      assert(ovl && \"No overload set associated with decl reference expr?\");",
          "new_line_content": "        // No polymorphic function; this a reference to a declaration with a",
          "content_same": false
        },
        {
          "line": 4460,
          "old_api": "getSelectedOverloadFromSet",
          "new_api": null,
          "old_text": "CS.getSelectedOverloadFromSet(ovl).getValue()",
          "new_text": null,
          "old_line_content": "      auto selected = CS.getSelectedOverloadFromSet(ovl).getValue();",
          "new_line_content": "        // deduced type, such as $0.",
          "content_same": false
        },
        {
          "line": 4972,
          "old_api": "semaFuncExpr",
          "new_api": null,
          "old_text": "TC.semaFuncExpr(func, /*isFirstPass=*/false,\n                        /*allowUnknownTypes=*/true)",
          "new_text": null,
          "old_line_content": "        TC.semaFuncExpr(func, /*isFirstPass=*/false,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4462,
          "old_api": "getDecl",
          "new_api": null,
          "old_text": "choice.getDecl()",
          "new_text": null,
          "old_line_content": "      auto decl = choice.getDecl();",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 4467,
          "old_api": "getLoc",
          "new_api": null,
          "old_text": "expr->getLoc()",
          "new_text": null,
          "old_line_content": "        return buildProtocolOperatorRef(proto, decl, expr->getLoc(),",
          "new_line_content": "    Expr *visitDotSyntaxBaseIgnoredExpr(DotSyntaxBaseIgnoredExpr *expr) {",
          "content_same": false
        },
        {
          "line": 4982,
          "old_api": "dyn_cast<SequenceExpr>(expr)",
          "new_api": null,
          "old_text": "dyn_cast<SequenceExpr>(expr)",
          "new_text": null,
          "old_line_content": "      if (auto seqExpr = dyn_cast<SequenceExpr>(expr)) {",
          "new_line_content": "    PreCheckExpression(TypeChecker &tc) : TC(tc) { }",
          "content_same": false
        },
        {
          "line": 4983,
          "old_api": "foldSequence",
          "new_api": null,
          "old_text": "TC.foldSequence(seqExpr)",
          "new_text": null,
          "old_line_content": "        return TC.foldSequence(seqExpr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4472,
          "old_api": "getLoc",
          "new_api": null,
          "old_text": "expr->getLoc()",
          "new_text": null,
          "old_line_content": "      auto result = new (context) DeclRefExpr(decl, expr->getLoc(),",
          "new_line_content": "      // Determine the declaration selected for this overloaded reference.",
          "content_same": false
        },
        {
          "line": 4477,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(false)",
          "new_text": null,
          "old_line_content": "        assert(false);",
          "new_line_content": "      auto choice = selected.first;",
          "content_same": false
        },
        {
          "line": 4989,
          "old_api": "getLangOpts",
          "new_api": null,
          "old_text": "TC.getLangOpts()",
          "new_text": null,
          "old_line_content": "                                     TC.getLangOpts().UseConstraintSolver,",
          "new_line_content": "                        /*allowUnknownTypes=*/true);",
          "content_same": false
        },
        {
          "line": 3965,
          "old_api": "getFixedType",
          "new_api": null,
          "old_text": "getFixedType(tv)",
          "new_text": null,
          "old_line_content": "    if (auto fixed = getFixedType(tv)) {",
          "new_line_content": "bool",
          "content_same": false
        },
        {
          "line": 3966,
          "old_api": "hasTypeVariable",
          "new_api": null,
          "old_text": "simplifyType(fixed)->hasTypeVariable()",
          "new_text": null,
          "old_line_content": "      if (simplifyType(fixed)->hasTypeVariable())",
          "new_line_content": "ConstraintSystem::isSolved(SmallVectorImpl<TypeVariableType *> &freeVariables) {",
          "content_same": false
        },
        {
          "line": 4994,
          "old_api": "getElementTypeLoc",
          "new_api": null,
          "old_text": "newArray->getElementTypeLoc()",
          "new_text": null,
          "old_line_content": "        if (TC.validateType(newArray->getElementTypeLoc(),",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4485,
          "old_api": "getGeneratedOverloadSet",
          "new_api": null,
          "old_text": "CS.getGeneratedOverloadSet(expr)",
          "new_text": null,
          "old_line_content": "      auto ovl = CS.getGeneratedOverloadSet(expr);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 4486,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(ovl && \"No overload set associated with decl reference expr?\")",
          "new_text": null,
          "old_line_content": "      assert(ovl && \"No overload set associated with decl reference expr?\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4487,
          "old_api": "getSelectedOverloadFromSet",
          "new_api": null,
          "old_text": "CS.getSelectedOverloadFromSet(ovl).getValue()",
          "new_text": null,
          "old_line_content": "      auto selected = CS.getSelectedOverloadFromSet(ovl).getValue();",
          "new_line_content": "      // Normal path: build a declaration reference.",
          "content_same": false
        },
        {
          "line": 5000,
          "old_api": "size",
          "new_api": null,
          "old_text": "newArray->getBounds().size()",
          "new_text": null,
          "old_line_content": "        for (unsigned i = newArray->getBounds().size(); i != 1; --i) {",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 5001,
          "old_api": "getBounds",
          "new_api": null,
          "old_text": "newArray->getBounds()",
          "new_text": null,
          "old_line_content": "          auto &bound = newArray->getBounds()[i-1];",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5006,
          "old_api": "typeCheckArrayBound",
          "new_api": null,
          "old_text": "TC.typeCheckArrayBound(bound.Value, /*requireConstant=*/true)",
          "new_text": null,
          "old_line_content": "          if (TC.typeCheckArrayBound(bound.Value, /*requireConstant=*/true))",
          "new_line_content": "                                     false);",
          "content_same": false
        },
        {
          "line": 3983,
          "old_api": "getRepresentative",
          "new_api": null,
          "old_text": "getRepresentative(tv)",
          "new_text": null,
          "old_line_content": "    tv = getRepresentative(tv);",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 3984,
          "old_api": "getFixedType",
          "new_api": null,
          "old_text": "getFixedType(tv)",
          "new_text": null,
          "old_line_content": "    if (getFixedType(tv))",
          "new_line_content": "      ",
          "content_same": false
        },
        {
          "line": 5011,
          "old_api": "getBounds",
          "new_api": null,
          "old_text": "newArray->getBounds()",
          "new_text": null,
          "old_line_content": "        auto boundExpr = newArray->getBounds()[0].Value;",
          "new_line_content": "                            /*isFirstPass=*/false))",
          "content_same": false
        },
        {
          "line": 5012,
          "old_api": "typeCheckExpression",
          "new_api": null,
          "old_text": "TC.typeCheckExpression(boundExpr)",
          "new_text": null,
          "old_line_content": "        if (TC.typeCheckExpression(boundExpr))",
          "new_line_content": "          return nullptr;",
          "content_same": false
        },
        {
          "line": 3989,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "con->getKind()",
          "new_text": null,
          "old_line_content": "        con->getKind() != ConstraintKind::Conversion)",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 5014,
          "old_api": "getBounds",
          "new_api": null,
          "old_text": "newArray->getBounds()",
          "new_text": null,
          "old_line_content": "        newArray->getBounds()[0].Value = boundExpr;",
          "new_line_content": "        // Check array bounds. They are subproblems that on't interact with",
          "content_same": false
        },
        {
          "line": 5015,
          "old_api": "getBounds",
          "new_api": null,
          "old_text": "newArray->getBounds()",
          "new_text": null,
          "old_line_content": "        if (TC.typeCheckArrayBound(newArray->getBounds()[0].Value,",
          "new_line_content": "        // the surrounding expression context.",
          "content_same": false
        },
        {
          "line": 3993,
          "old_api": "getSecondType",
          "new_api": null,
          "old_text": "con->getSecondType()->isExistentialType()",
          "new_text": null,
          "old_line_content": "    if (!con->getSecondType()->isExistentialType())",
          "new_line_content": "    // First type must be a type variable...",
          "content_same": false
        },
        {
          "line": 4509,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"Already type-checked\")",
          "new_text": null,
          "old_line_content": "      llvm_unreachable(\"Already type-checked\");",
          "new_line_content": "    Expr *visitUnresolvedDeclRefExpr(UnresolvedDeclRefExpr *expr) {",
          "content_same": false
        },
        {
          "line": 3997,
          "old_api": "empty",
          "new_api": null,
          "old_text": "Constraints.empty()",
          "new_text": null,
          "old_line_content": "  assert(!freeVariables.empty() || Constraints.empty());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5023,
          "old_api": "dyn_cast<NewReferenceExpr>(expr)",
          "new_api": null,
          "old_text": "dyn_cast<NewReferenceExpr>(expr)",
          "new_text": null,
          "old_line_content": "      if (auto newRef = dyn_cast<NewReferenceExpr>(expr)) {",
          "new_line_content": "            return nullptr;",
          "content_same": false
        },
        {
          "line": 5024,
          "old_api": "getElementTypeLoc",
          "new_api": null,
          "old_text": "newRef->getElementTypeLoc()",
          "new_text": null,
          "old_line_content": "        if (TC.validateType(newRef->getElementTypeLoc(),",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4513,
          "old_api": "getGeneratedOverloadSet",
          "new_api": null,
          "old_text": "CS.getGeneratedOverloadSet(expr)",
          "new_text": null,
          "old_line_content": "      auto ovl = CS.getGeneratedOverloadSet(expr);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4514,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(ovl && \"No overload set associated with decl reference expr?\")",
          "new_text": null,
          "old_line_content": "      assert(ovl && \"No overload set associated with decl reference expr?\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4515,
          "old_api": "getSelectedOverloadFromSet",
          "new_api": null,
          "old_text": "CS.getSelectedOverloadFromSet(ovl).getValue()",
          "new_text": null,
          "old_line_content": "      auto selected = CS.getSelectedOverloadFromSet(ovl).getValue();",
          "new_line_content": "    Expr *visitMemberRefExpr(MemberRefExpr *expr) {",
          "content_same": false
        },
        {
          "line": 4516,
          "old_api": "getDotLoc",
          "new_api": null,
          "old_text": "expr->getDotLoc()",
          "new_text": null,
          "old_line_content": "      return buildMemberRef(expr->getBase(), expr->getDotLoc(),",
          "new_line_content": "      // FIXME: Falls back to the old type checker.",
          "content_same": false
        },
        {
          "line": 4008,
          "old_api": "getRepresentative",
          "new_api": null,
          "old_text": "getRepresentative(tv)",
          "new_text": null,
          "old_line_content": "  tv = getRepresentative(tv);",
          "new_line_content": "    // The second type must be existential.",
          "content_same": false
        },
        {
          "line": 4526,
          "old_api": "oneofTy->getAs<FunctionType>()",
          "new_api": null,
          "old_text": "oneofTy->getAs<FunctionType>()",
          "new_text": null,
          "old_line_content": "      if (auto funcTy = oneofTy->getAs<FunctionType>())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4527,
          "old_api": "getResult",
          "new_api": null,
          "old_text": "funcTy->getResult()",
          "new_text": null,
          "old_line_content": "        oneofTy = funcTy->getResult();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4017,
          "old_api": "getFirstType",
          "new_api": null,
          "old_text": "constraint->getFirstType()->getAs<TypeVariableType>()",
          "new_text": null,
          "old_line_content": "    auto constraintTV = constraint->getFirstType()->getAs<TypeVariableType>();",
          "new_line_content": "//===--------------------------------------------------------------------===//",
          "content_same": false
        },
        {
          "line": 5045,
          "old_api": "PreCheckExpression",
          "new_api": null,
          "old_text": "PreCheckExpression(*this)",
          "new_text": null,
          "old_line_content": "  expr = expr->walk(PreCheckExpression(*this));",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 4022,
          "old_api": "getRepresentative",
          "new_api": null,
          "old_text": "getRepresentative(constraintTV)",
          "new_text": null,
          "old_line_content": "    if (getRepresentative(constraintTV) != tv)",
          "new_line_content": "bool ConstraintSystem::typeMatchesDefaultLiteralConstraint(TypeVariableType *tv,",
          "content_same": false
        },
        {
          "line": 5049,
          "old_api": "llvm::errs()",
          "new_api": null,
          "old_text": "llvm::errs()",
          "new_text": null,
          "old_line_content": "  llvm::raw_ostream &log = llvm::errs();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4538,
          "old_api": "getName",
          "new_api": null,
          "old_text": "expr->getName()",
          "new_text": null,
          "old_line_content": "      MemberLookup lookup(oneofTy, expr->getName(), tc.TU);",
          "new_line_content": "      // Dig out the type of the 'oneof', which will either be the result",
          "content_same": false
        },
        {
          "line": 4539,
          "old_api": "isSuccess",
          "new_api": null,
          "old_text": "lookup.isSuccess()",
          "new_text": null,
          "old_line_content": "      assert(lookup.isSuccess() && \"Failed lookup?\");",
          "new_line_content": "      // type of this expression (for unit OneOfElements) or the result of",
          "content_same": false
        },
        {
          "line": 4027,
          "old_api": "getLiteralKind",
          "new_api": null,
          "old_text": "constraint->getLiteralKind()",
          "new_text": null,
          "old_line_content": "    if (type->isEqual(TC.getDefaultLiteralType(constraint->getLiteralKind())))",
          "new_line_content": "  for (auto constraint : Constraints) {",
          "content_same": false
        },
        {
          "line": 5053,
          "old_api": "generateConstraints",
          "new_api": null,
          "old_text": "cs.generateConstraints(expr)",
          "new_text": null,
          "old_line_content": "  if (cs.generateConstraints(expr))",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4544,
          "old_api": "recheckTypes",
          "new_api": null,
          "old_text": "tc.recheckTypes(result)",
          "new_text": null,
          "old_line_content": "      return tc.recheckTypes(result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5059,
          "old_api": "getType",
          "new_api": null,
          "old_text": "expr->getType()",
          "new_text": null,
          "old_line_content": "    cs.addConstraint(ConstraintKind::Conversion, expr->getType(), convertType);",
          "new_line_content": "  // First, pre-check the expression, validating any types that occur in the",
          "content_same": false
        },
        {
          "line": 4550,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(ovl && \"No overload set associated with decl reference expr?\")",
          "new_text": null,
          "old_line_content": "      assert(ovl && \"No overload set associated with decl reference expr?\");",
          "new_line_content": "                                                                  tc.Context));",
          "content_same": false
        },
        {
          "line": 4551,
          "old_api": "getSelectedOverloadFromSet",
          "new_api": null,
          "old_text": "CS.getSelectedOverloadFromSet(ovl).getValue()",
          "new_text": null,
          "old_line_content": "      auto selected = CS.getSelectedOverloadFromSet(ovl).getValue();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5062,
          "old_api": "getLangOpts",
          "new_api": null,
          "old_text": "getLangOpts()",
          "new_text": null,
          "old_line_content": "  if (getLangOpts().DebugConstraintSolver) {",
          "new_line_content": "  if (!expr)",
          "content_same": false
        },
        {
          "line": 4553,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "selected.first.getKind()",
          "new_text": null,
          "old_line_content": "      switch (selected.first.getKind()) {",
          "new_line_content": "      // FIXME: Redundant member lookup.",
          "content_same": false
        },
        {
          "line": 5064,
          "old_api": "print",
          "new_api": null,
          "old_text": "expr->print(log)",
          "new_text": null,
          "old_line_content": "    expr->print(log);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5066,
          "old_api": "dump",
          "new_api": null,
          "old_text": "cs.dump()",
          "new_text": null,
          "old_line_content": "    cs.dump();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4556,
          "old_api": "getNameLoc",
          "new_api": null,
          "old_text": "expr->getNameLoc()",
          "new_text": null,
          "old_line_content": "                              selected.first.getDecl(), expr->getNameLoc(),",
          "new_line_content": "      auto member = lookup.Results[0].D;",
          "content_same": false
        },
        {
          "line": 5071,
          "old_api": "solve",
          "new_api": null,
          "old_text": "cs.solve(viable)",
          "new_text": null,
          "old_line_content": "  if (cs.solve(viable)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5072,
          "old_api": "getLangOpts",
          "new_api": null,
          "old_text": "getLangOpts()",
          "new_text": null,
          "old_line_content": "    if (getLangOpts().DebugConstraintSolver) {",
          "new_line_content": "  // If there is a type that we're expected to convert to, add the conversion",
          "content_same": false
        },
        {
          "line": 4561,
          "old_api": "getBase",
          "new_api": null,
          "old_text": "expr->getBase()",
          "new_text": null,
          "old_line_content": "                                          expr->getBase(),",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4562,
          "old_api": "getDotLoc",
          "new_api": null,
          "old_text": "expr->getDotLoc()",
          "new_text": null,
          "old_line_content": "                                          expr->getDotLoc(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4563,
          "old_api": "getTupleIndex",
          "new_api": null,
          "old_text": "selected.first.getTupleIndex()",
          "new_text": null,
          "old_line_content": "                                          selected.first.getTupleIndex(),",
          "new_line_content": "    Expr *visitUnresolvedDotExpr(UnresolvedDotExpr *expr) {",
          "content_same": false
        },
        {
          "line": 4564,
          "old_api": "getNameLoc",
          "new_api": null,
          "old_text": "expr->getNameLoc()",
          "new_text": null,
          "old_line_content": "                                          expr->getNameLoc(),",
          "new_line_content": "      // Determine the declaration selected for this overloaded reference.",
          "content_same": false
        },
        {
          "line": 5074,
          "old_api": "dump",
          "new_api": null,
          "old_text": "cs.dump()",
          "new_text": null,
          "old_line_content": "      cs.dump();",
          "new_line_content": "  if (convertType) {",
          "content_same": false
        },
        {
          "line": 5077,
          "old_api": "empty",
          "new_api": null,
          "old_text": "viable.empty()",
          "new_text": null,
          "old_line_content": "      if (!viable.empty()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3859,
          "old_api": "isDefinitive",
          "new_api": null,
          "old_text": "step->isDefinitive()",
          "new_text": null,
          "old_line_content": "        assert(step->isDefinitive() && \"Overload solutions are definitive\");",
          "new_line_content": "    // If there are any children of this system that are still active,",
          "content_same": false
        },
        {
          "line": 4570,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"Nonsensical overload choice\")",
          "new_text": null,
          "old_line_content": "        llvm_unreachable(\"Nonsensical overload choice\");",
          "new_line_content": "      case OverloadChoiceKind::Decl:",
          "content_same": false
        },
        {
          "line": 5083,
          "old_api": "isSolved",
          "new_api": null,
          "old_text": "cs->isSolved(freeVariables)",
          "new_text": null,
          "old_line_content": "          if (cs->isSolved(freeVariables)) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3860,
          "old_api": "getOverloadSetIdx",
          "new_api": null,
          "old_text": "step->getOverloadSetIdx()",
          "new_text": null,
          "old_line_content": "        resolveOverloadSet(*cs, step->getOverloadSetIdx(), stack);",
          "new_line_content": "    // then we found a potential solution. There is no need to explore",
          "content_same": false
        },
        {
          "line": 4575,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"Expression wasn't parsed?\")",
          "new_text": null,
          "old_line_content": "      llvm_unreachable(\"Expression wasn't parsed?\");",
          "new_line_content": "      case OverloadChoiceKind::TupleIndex:",
          "content_same": false
        },
        {
          "line": 4583,
          "old_api": "simplifyExprType",
          "new_api": null,
          "old_text": "simplifyExprType(expr)",
          "new_text": null,
          "old_line_content": "      return simplifyExprType(expr);",
          "new_line_content": "      case OverloadChoiceKind::BaseType:",
          "content_same": false
        },
        {
          "line": 4075,
          "old_api": "transformType",
          "new_api": null,
          "old_text": "tc.transformType(origType, \n           [&](Type type) -> Type {\n             if (auto tupleTy = type->getAs<TupleType>()) {\n               SmallVector<TupleTypeElt, 4> fields;\n               for (const auto &field : tupleTy->getFields()) {\n                 fields.push_back(TupleTypeElt(field.getType(),\n                                               field.getName(),\n                                               nullptr,\n                                               field.getVarargBaseTy()));\n                                               \n               }\n               return TupleType::get(fields, tc.Context);\n             }\n             return type;\n           })",
          "new_text": null,
          "old_line_content": "  return tc.transformType(origType, ",
          "new_line_content": "        result = SolutionCompareResult::Incomparable;",
          "content_same": false
        },
        {
          "line": 4588,
          "old_api": "getGeneratedOverloadSet",
          "new_api": null,
          "old_text": "CS.getGeneratedOverloadSet(expr)",
          "new_text": null,
          "old_line_content": "      auto ovl = CS.getGeneratedOverloadSet(expr);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4589,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(ovl && \"No overload set associated with subscript expr?\")",
          "new_text": null,
          "old_line_content": "      assert(ovl && \"No overload set associated with subscript expr?\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4590,
          "old_api": "getSelectedOverloadFromSet",
          "new_api": null,
          "old_text": "CS.getSelectedOverloadFromSet(ovl).getValue()",
          "new_text": null,
          "old_line_content": "      auto choice = CS.getSelectedOverloadFromSet(ovl).getValue().first;",
          "new_line_content": "    Expr *visitSequenceExpr(SequenceExpr *expr) {",
          "content_same": false
        },
        {
          "line": 5100,
          "old_api": "getSourceRange",
          "new_api": null,
          "old_text": "expr->getSourceRange()",
          "new_text": null,
          "old_line_content": "      << expr->getSourceRange();",
          "new_line_content": "            ++numSolved;",
          "content_same": false
        },
        {
          "line": 4077,
          "old_api": "type->getAs<TupleType>()",
          "new_api": null,
          "old_text": "type->getAs<TupleType>()",
          "new_text": null,
          "old_line_content": "             if (auto tupleTy = type->getAs<TupleType>()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4079,
          "old_api": "getFields",
          "new_api": null,
          "old_text": "tupleTy->getFields()",
          "new_text": null,
          "old_line_content": "               for (const auto &field : tupleTy->getFields()) {",
          "new_line_content": "      if (firstAsGoodAsSecond)",
          "content_same": false
        },
        {
          "line": 5106,
          "old_api": "getLangOpts",
          "new_api": null,
          "old_text": "getLangOpts()",
          "new_text": null,
          "old_line_content": "  if (getLangOpts().DebugConstraintSolver) {",
          "new_line_content": "        log << \"No solution found.\\n\";",
          "content_same": false
        },
        {
          "line": 4080,
          "old_api": "getType",
          "new_api": null,
          "old_text": "field.getType()",
          "new_text": null,
          "old_line_content": "                 fields.push_back(TupleTypeElt(field.getType(),",
          "new_line_content": "        result =  SolutionCompareResult::Incomparable;",
          "content_same": false
        },
        {
          "line": 4596,
          "old_api": "getBase",
          "new_api": null,
          "old_text": "expr->getBase()->getType()->getRValueType()",
          "new_text": null,
          "old_line_content": "      auto baseTy = expr->getBase()->getType()->getRValueType();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5108,
          "old_api": "dump",
          "new_api": null,
          "old_text": "solution->dump()",
          "new_text": null,
          "old_line_content": "    solution->dump();",
          "new_line_content": "        log << \"Unique solution found.\\n\";",
          "content_same": false
        },
        {
          "line": 4081,
          "old_api": "getName",
          "new_api": null,
          "old_text": "field.getName()",
          "new_text": null,
          "old_line_content": "                                               field.getName(),",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 4083,
          "old_api": "getVarargBaseTy",
          "new_api": null,
          "old_text": "field.getVarargBaseTy()",
          "new_text": null,
          "old_line_content": "                                               field.getVarargBaseTy()));",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 5112,
          "old_api": "applySolution",
          "new_api": null,
          "old_text": "solution->applySolution(expr)",
          "new_text": null,
          "old_line_content": "  auto result = solution->applySolution(expr);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4601,
          "old_api": "getBase",
          "new_api": null,
          "old_text": "expr->getBase()",
          "new_text": null,
          "old_line_content": "          = new (tc.Context) ExistentialSubscriptExpr(expr->getBase(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4602,
          "old_api": "getLBracketLoc",
          "new_api": null,
          "old_text": "expr->getLBracketLoc()",
          "new_text": null,
          "old_line_content": "                                                      expr->getLBracketLoc(),",
          "new_line_content": "    Expr *visitSubscriptExpr(SubscriptExpr *expr) {",
          "content_same": false
        },
        {
          "line": 4603,
          "old_api": "getIndex",
          "new_api": null,
          "old_text": "expr->getIndex()",
          "new_text": null,
          "old_line_content": "                                                      expr->getIndex(),",
          "new_line_content": "      // Determine the declaration selected for this subscript operation.",
          "content_same": false
        },
        {
          "line": 4086,
          "old_api": "TupleType::get(fields, tc.Context)",
          "new_api": null,
          "old_text": "TupleType::get(fields, tc.Context)",
          "new_text": null,
          "old_line_content": "               return TupleType::get(fields, tc.Context);",
          "new_line_content": "}",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 153,
      "total_additions": 309,
      "total_deletions": 306,
      "total_api_changes": 768
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 18,
        "api_related_lines": 768,
        "non_api_lines": 12,
        "non_api_line_numbers": [
          3810,
          3811,
          3813,
          3814,
          3815,
          3816,
          3817,
          3818,
          3819,
          3804,
          3806,
          3807
        ]
      }
    },
    "api_calls_before": 1662,
    "api_calls_after": 1669,
    "diff_info": {
      "added_lines": 18,
      "removed_lines": 2,
      "total_diff_lines": 32
    }
  }
}