{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/c09f0578a6400918282186cc43c0d7f30de4c316",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/c09f0578a6400918282186cc43c0d7f30de4c316/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/c09f0578a6400918282186cc43c0d7f30de4c316/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/c09f0578a6400918282186cc43c0d7f30de4c316/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 345,
          "old_api": "conformsToProtocol",
          "new_api": "getSecondType",
          "old_text": "genericSig->conformsToProtocol(type, proto)",
          "new_text": "req.getSecondType()->castTo<ProtocolType>()->getDecl()",
          "old_line_content": "  if (!genericSig->conformsToProtocol(type, proto)) {",
          "new_line_content": "            req.getSecondType()->castTo<ProtocolType>()->getDecl() == proto) {",
          "content_same": false
        },
        {
          "line": 384,
          "old_api": "substType->is<ArchetypeType>()",
          "new_api": "isInvalid",
          "old_text": "substType->is<ArchetypeType>()",
          "new_text": "conformance->isInvalid()",
          "old_line_content": "          (!substType->is<ArchetypeType>() ||",
          "new_line_content": "    if (conformance->isInvalid())",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": "getConcrete",
          "new_api": "substType->is<ArchetypeType>()",
          "old_text": "conformance->getConcrete()",
          "new_text": "substType->is<ArchetypeType>()",
          "old_line_content": "    auto concrete = conformance->getConcrete();",
          "new_line_content": "          (!substType->is<ArchetypeType>() ||",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": "getRootNormalConformance",
          "new_api": "getSuperclass",
          "old_text": "concrete->getRootNormalConformance()",
          "new_text": "substType->castTo<ArchetypeType>()->getSuperclass()",
          "old_line_content": "    auto normal = concrete->getRootNormalConformance();",
          "new_line_content": "           substType->castTo<ArchetypeType>()->getSuperclass()) &&",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": "empty",
          "new_api": "lookupConformance",
          "old_text": "normal->getSignatureConformances().empty()",
          "new_text": "M->lookupConformance(substType, proto)",
          "old_line_content": "    if (normal->getSignatureConformances().empty()) {",
          "new_line_content": "        return M->lookupConformance(substType, proto);",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "getLazyResolver",
          "new_api": "getConcrete",
          "old_text": "type->getASTContext().getLazyResolver()",
          "new_text": "conformance->getConcrete()",
          "old_line_content": "      auto lazyResolver = type->getASTContext().getLazyResolver();",
          "new_line_content": "    auto concrete = conformance->getConcrete();",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": "resolveTypeWitness",
          "new_api": "empty",
          "old_text": "lazyResolver->resolveTypeWitness(normal, nullptr)",
          "new_text": "normal->getSignatureConformances().empty()",
          "old_line_content": "      lazyResolver->resolveTypeWitness(normal, nullptr);",
          "new_line_content": "    if (normal->getSignatureConformances().empty()) {",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": "MakeAbstractConformanceForGenericType",
          "new_api": "empty",
          "old_text": "MakeAbstractConformanceForGenericType()",
          "new_text": "normal->getSignatureConformances().empty()",
          "old_line_content": "  return subst(MapTypeOutOfContext(), MakeAbstractConformanceForGenericType());",
          "new_line_content": "      if (normal->getSignatureConformances().empty())",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": "LookUpConformanceInSubstitutionMap",
          "new_api": "getAssociatedConformance",
          "old_text": "LookUpConformanceInSubstitutionMap(subMap)",
          "new_text": "concrete->getAssociatedConformance(step.first, step.second)",
          "old_line_content": "               LookUpConformanceInSubstitutionMap(subMap));",
          "new_line_content": "    conformance = concrete->getAssociatedConformance(step.first, step.second);",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": "Type",
          "new_api": "subst",
          "old_text": "Type()",
          "new_text": "subst(QuerySubstitutionMap{subMap},\n               LookUpConformanceInSubstitutionMap(subMap))",
          "old_line_content": "      newSubs.push_back(Type());",
          "new_line_content": "  return subst(QuerySubstitutionMap{subMap},",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": "getGenericSignature",
          "new_api": "getReplacementTypes",
          "old_text": "getGenericSignature()",
          "new_text": "getReplacementTypes()",
          "old_line_content": "  auto *genericSig = getGenericSignature();",
          "new_line_content": "  for (Type type : getReplacementTypes()) {",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": "getConcrete",
          "new_api": "getConformances",
          "old_text": "ProtocolConformanceRef(\n          conformance.getConcrete()->subst(subs, conformances))",
          "new_text": "getConformances()",
          "old_line_content": "        ProtocolConformanceRef(",
          "new_line_content": "  auto oldConformances = getConformances();",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "getFirstType",
          "new_api": "getRequirements",
          "old_text": "req.getFirstType()",
          "new_text": "genericSig->getRequirements()",
          "old_line_content": "      auto origType = req.getFirstType();",
          "new_line_content": "  for (const auto &req : genericSig->getRequirements()) {",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "subst",
          "new_api": "getKind",
          "old_text": "origType.subst(*this, SubstFlags::UseErrorType)",
          "new_text": "req.getKind()",
          "old_line_content": "      auto substType = origType.subst(*this, SubstFlags::UseErrorType);",
          "new_line_content": "    if (req.getKind() != RequirementKind::Conformance) continue;",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "slice",
          "new_api": "isConcrete",
          "old_text": "oldConformances.slice(1)",
          "new_text": "conformance.isConcrete()",
          "old_line_content": "    oldConformances = oldConformances.slice(1);",
          "new_line_content": "    if (conformance.isConcrete()) {",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": "empty",
          "new_api": "getConcrete",
          "old_text": "oldConformances.empty()",
          "new_text": "conformance.getConcrete()->subst(subs, conformances)",
          "old_line_content": "  assert(oldConformances.empty());",
          "new_line_content": "          conformance.getConcrete()->subst(subs, conformances)));",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": "isEqual",
          "new_api": "SubstitutionMap",
          "old_text": "type->isEqual(protocolSelfType)",
          "new_text": "SubstitutionMap(genericSig, newSubs, newConformances)",
          "old_line_content": "      if (type->isEqual(protocolSelfType))",
          "new_line_content": "  return SubstitutionMap(genericSig, newSubs, newConformances);",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": "isEqual",
          "new_api": "getGenericSignature",
          "old_text": "origType->isEqual(protocolSelfType)",
          "new_text": "get(\n    protocol->getGenericSignature(),\n    [&](SubstitutableType *type) -> Type {\n      if (type->isEqual(protocolSelfType))\n        return selfType;\n\n      // This will need to change if we ever support protocols\n      // inside generic types.\n      return Type();\n    },\n    [&](CanType origType, Type replacementType, ProtocolDecl *protoType)\n      -> Optional<ProtocolConformanceRef> {\n      if (origType->isEqual(protocolSelfType) && protoType == protocol)\n        return conformance;\n\n      // This will need to change if we ever support protocols\n      // inside generic types.\n      return None;\n    })",
          "old_line_content": "      if (origType->isEqual(protocolSelfType) && protoType == protocol)",
          "new_line_content": "  return get(",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": "getInnermostDeclContext",
          "new_api": "SubstitutionMap::getProtocolSubstitutions(\n                                             baseProto,\n                                             derivedProtoSelf,\n                                             ProtocolConformanceRef(baseProto))",
          "old_text": "baseDecl->getInnermostDeclContext()\n      ->getGenericSignatureOfContext()",
          "new_text": "SubstitutionMap::getProtocolSubstitutions(\n                                             baseProto,\n                                             derivedProtoSelf,\n                                             ProtocolConformanceRef(baseProto))",
          "old_line_content": "  auto *baseSig = baseDecl->getInnermostDeclContext()",
          "new_line_content": "      return SubstitutionMap::getProtocolSubstitutions(",
          "content_same": false
        },
        {
          "line": 545,
          "old_api": "SubstitutionMap",
          "new_api": "getOverrideSubstitutions",
          "old_text": "SubstitutionMap()",
          "new_text": "getOverrideSubstitutions(baseClass, derivedClass,\n                                  baseSig, derivedSig,\n                                  derivedSubs)",
          "old_line_content": "    return SubstitutionMap();",
          "new_line_content": "  return getOverrideSubstitutions(baseClass, derivedClass,",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": "getSuperclassForDecl",
          "new_api": "SubstitutionMap",
          "old_text": "derivedClassTy->getSuperclassForDecl(baseClass)",
          "new_text": "SubstitutionMap()",
          "old_line_content": "    auto baseClassTy = derivedClassTy->getSuperclassForDecl(baseClass);",
          "new_line_content": "    return SubstitutionMap();",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": "SubstitutionMap",
          "new_api": "getParentModule",
          "old_text": "SubstitutionMap()",
          "new_text": "baseClass->getParentModule()",
          "old_line_content": "      return SubstitutionMap();",
          "new_line_content": "  auto *M = baseClass->getParentModule();",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": "back",
          "new_api": "getDeclaredInterfaceType",
          "old_text": "derivedClassSig->getGenericParams().back()->getDepth()",
          "new_text": "derivedClass->getDeclaredInterfaceType()",
          "old_line_content": "    origDepth = derivedClassSig->getGenericParams().back()->getDepth() + 1;",
          "new_line_content": "    auto derivedClassTy = derivedClass->getDeclaredInterfaceType();",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": "combineSubstitutionMaps",
          "new_api": "back",
          "old_text": "combineSubstitutionMaps(baseSubMap, origSubMap,\n                                 CombineSubstitutionMaps::AtDepth,\n                                 baseDepth, origDepth,\n                                 baseSig)",
          "new_text": "derivedClassSig->getGenericParams().back()->getDepth()",
          "old_line_content": "  return combineSubstitutionMaps(baseSubMap, origSubMap,",
          "new_line_content": "    origDepth = derivedClassSig->getGenericParams().back()->getDepth() + 1;",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": "Type",
          "new_api": "type->getAs<GenericTypeParamType>()",
          "old_text": "Type()",
          "new_text": "type->getAs<GenericTypeParamType>()",
          "old_line_content": "        return Type();",
          "new_line_content": "    if (auto gp = type->getAs<GenericTypeParamType>()) {",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": "getIndex",
          "new_api": "Type",
          "old_text": "gp->getIndex()",
          "new_text": "Type()",
          "old_line_content": "        gp->getIndex() + secondDepthOrIndex - firstDepthOrIndex,",
          "new_line_content": "          return Type();",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": "subst",
          "new_api": "assert",
          "old_text": "get(\n    genericSig,\n    [&](SubstitutableType *type) {\n      auto replacement = replaceGenericParameter(type);\n      if (replacement)\n        return Type(replacement).subst(secondSubMap);\n      return Type(type).subst(firstSubMap);\n    },\n    [&](CanType type, Type substType, ProtocolDecl *conformedProtocol) {\n      auto replacement = type.transform(replaceGenericParameter);\n      if (replacement)\n        return secondSubMap.lookupConformance(replacement->getCanonicalType(),\n                                              conformedProtocol);\n      return firstSubMap.lookupConformance(type, conformedProtocol);\n    })",
          "new_text": "assert(how == CombineSubstitutionMaps::AtIndex)",
          "old_line_content": "  return get(",
          "new_line_content": "      assert(how == CombineSubstitutionMaps::AtIndex);",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "replaceGenericParameter",
          "new_api": "getDepth",
          "old_text": "replaceGenericParameter(type)",
          "new_text": "GenericTypeParamType::get(\n        gp->getDepth(),\n        gp->getIndex() + secondDepthOrIndex - firstDepthOrIndex,\n        ctx)",
          "old_line_content": "      auto replacement = replaceGenericParameter(type);",
          "new_line_content": "      return GenericTypeParamType::get(",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": "subst",
          "new_api": "getIndex",
          "old_text": "Type(replacement).subst(secondSubMap)",
          "new_text": "gp->getIndex()",
          "old_line_content": "        return Type(replacement).subst(secondSubMap);",
          "new_line_content": "        gp->getIndex() + secondDepthOrIndex - firstDepthOrIndex,",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "getKind",
          "new_api": "lookupConformance",
          "old_text": "req.getKind()",
          "new_text": "firstSubMap.lookupConformance(type, conformedProtocol)",
          "old_line_content": "    if (req.getKind() != RequirementKind::Conformance)",
          "new_line_content": "      return firstSubMap.lookupConformance(type, conformedProtocol);",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "isTypeVariableOrMember",
          "new_api": "empty",
          "old_text": "substType->isTypeVariableOrMember()",
          "new_text": "empty()",
          "old_line_content": "        substType->isTypeVariableOrMember() ||",
          "new_line_content": "  if (empty())",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "getConformances",
          "new_api": "getRequirements",
          "old_text": "getConformances()",
          "new_text": "getGenericSignature()->getRequirements()",
          "old_line_content": "    auto conformance = getConformances()[conformanceIndex];",
          "new_line_content": "  for (const auto &req : getGenericSignature()->getRequirements()) {",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": "isAbstract",
          "new_api": "isTypeVariableOrMember",
          "old_text": "conformance.isAbstract()",
          "new_text": "substType->isTypeVariableOrMember()",
          "old_line_content": "    if (conformance.isAbstract() &&",
          "new_line_content": "        substType->isTypeVariableOrMember() ||",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "isExistentialType",
          "new_api": "substType->is<UnresolvedType>()",
          "old_text": "substType->isExistentialType()",
          "new_text": "substType->is<UnresolvedType>()",
          "old_line_content": "        substType->isExistentialType()) {",
          "new_line_content": "        substType->is<UnresolvedType>() ||",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "getRequirement",
          "new_api": "hasError",
          "old_text": "conformance.getRequirement()",
          "new_text": "substType->hasError()",
          "old_line_content": "      auto *proto = conformance.getRequirement();",
          "new_line_content": "        substType->hasError())",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": "dump",
          "new_api": "getConformances",
          "old_text": "substType->dump()",
          "new_text": "getConformances()",
          "old_line_content": "        substType->dump();",
          "new_line_content": "    auto conformance = getConformances()[conformanceIndex];",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": "llvm::dbgs()",
          "new_api": "isInvalid",
          "old_text": "llvm::dbgs()",
          "new_text": "conformance.isInvalid()",
          "old_line_content": "        dump(llvm::dbgs());",
          "new_line_content": "    if (conformance.isInvalid())",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": "isConcrete",
          "new_api": "dump",
          "old_text": "conformance.isConcrete()",
          "new_text": "substType->dump()",
          "old_line_content": "    if (!conformance.isConcrete()) {",
          "new_line_content": "        substType->dump();",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": "AddPointer",
          "new_api": "llvm::dbgs()",
          "old_text": "id.AddPointer(storage)",
          "new_text": "llvm::dbgs()",
          "old_line_content": "  id.AddPointer(storage);",
          "new_line_content": "      llvm::dbgs() << \"SubstitutionMap:\\n\";",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 527,
          "old_api": null,
          "new_api": "getDeclContext",
          "old_text": null,
          "new_text": "derivedDecl->getDeclContext()->getProtocolSelfType()",
          "old_line_content": "",
          "new_line_content": "          derivedDecl->getDeclContext()->getProtocolSelfType()) {",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": null,
          "new_api": "ProtocolConformanceRef",
          "old_text": null,
          "new_text": "ProtocolConformanceRef(baseProto)",
          "old_line_content": "      ->getGenericSignatureOfContext();",
          "new_line_content": "                                             ProtocolConformanceRef(baseProto));",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": null,
          "new_api": "SubstitutionMap",
          "old_text": null,
          "new_text": "SubstitutionMap()",
          "old_line_content": "                                  baseSig, derivedSig,",
          "new_line_content": "    return SubstitutionMap();",
          "content_same": false
        },
        {
          "line": 537,
          "old_api": null,
          "new_api": "getDeclContext",
          "old_text": null,
          "new_text": "baseDecl->getDeclContext()->getSelfClassDecl()",
          "old_line_content": "",
          "new_line_content": "  auto *baseClass = baseDecl->getDeclContext()->getSelfClassDecl();",
          "content_same": false
        },
        {
          "line": 538,
          "old_api": null,
          "new_api": "getDeclContext",
          "old_text": null,
          "new_text": "derivedDecl->getDeclContext()->getSelfClassDecl()",
          "old_line_content": "SubstitutionMap",
          "new_line_content": "  auto *derivedClass = derivedDecl->getDeclContext()->getSelfClassDecl();",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": null,
          "new_api": "getInnermostDeclContext",
          "old_text": null,
          "new_text": "baseDecl->getInnermostDeclContext()\n      ->getGenericSignatureOfContext()",
          "old_line_content": "                                          const ClassDecl *derivedClass,",
          "new_line_content": "  auto *baseSig = baseDecl->getInnermostDeclContext()",
          "content_same": false
        },
        {
          "line": 542,
          "old_api": null,
          "new_api": "getInnermostDeclContext",
          "old_text": null,
          "new_text": "derivedDecl->getInnermostDeclContext()\n      ->getGenericSignatureOfContext()",
          "old_line_content": "                                          GenericSignature *derivedSig,",
          "new_line_content": "  auto *derivedSig = derivedDecl->getInnermostDeclContext()",
          "content_same": false
        },
        {
          "line": 563,
          "old_api": null,
          "new_api": "getGenericSignature",
          "old_text": null,
          "new_text": "baseClass->getGenericSignature()",
          "old_line_content": "",
          "new_line_content": "  if (auto *baseClassSig = baseClass->getGenericSignature()) {",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "baseClassSig->getGenericParams().back()->getDepth()",
          "old_line_content": "  unsigned origDepth = 0;",
          "new_line_content": "    baseDepth = baseClassSig->getGenericParams().back()->getDepth() + 1;",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "derivedClassTy.subst(*derivedSubs)",
          "old_line_content": "  SubstitutionMap origSubMap;",
          "new_line_content": "      derivedClassTy = derivedClassTy.subst(*derivedSubs);",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": null,
          "new_api": "getSuperclassForDecl",
          "old_text": null,
          "new_text": "derivedClassTy->getSuperclassForDecl(baseClass)",
          "old_line_content": "  if (derivedSubs)",
          "new_line_content": "    auto baseClassTy = derivedClassTy->getSuperclassForDecl(baseClass);",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": null,
          "new_api": "baseClassTy->is<ErrorType>()",
          "old_text": null,
          "new_text": "baseClassTy->is<ErrorType>()",
          "old_line_content": "    origSubMap = *derivedSubs;",
          "new_line_content": "    if (baseClassTy->is<ErrorType>())",
          "content_same": false
        },
        {
          "line": 571,
          "old_api": null,
          "new_api": "SubstitutionMap",
          "old_text": null,
          "new_text": "SubstitutionMap()",
          "old_line_content": "  else if (derivedSig) {",
          "new_line_content": "      return SubstitutionMap();",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": null,
          "new_api": "getContextSubstitutionMap",
          "old_text": null,
          "new_text": "baseClassTy->getContextSubstitutionMap(M, baseClass)",
          "old_line_content": "        derivedSig,",
          "new_line_content": "    baseSubMap = baseClassTy->getContextSubstitutionMap(M, baseClass);",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": null,
          "new_api": "getGenericSignature",
          "old_text": null,
          "new_text": "derivedClass->getGenericSignature()",
          "old_line_content": "",
          "new_line_content": "  if (auto *derivedClassSig = derivedClass->getGenericSignature())",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "get(\n        derivedSig,\n        [](SubstitutableType *type) -> Type { return type; },\n        MakeAbstractConformanceForGenericType())",
          "old_line_content": "SubstitutionMap",
          "new_line_content": "    origSubMap = get(",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": null,
          "new_api": "MakeAbstractConformanceForGenericType",
          "old_text": null,
          "new_text": "MakeAbstractConformanceForGenericType()",
          "old_line_content": "                                         CombineSubstitutionMaps how,",
          "new_line_content": "        MakeAbstractConformanceForGenericType());",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": null,
          "new_api": "combineSubstitutionMaps",
          "old_text": null,
          "new_text": "combineSubstitutionMaps(baseSubMap, origSubMap,\n                                 CombineSubstitutionMaps::AtDepth,\n                                 baseDepth, origDepth,\n                                 baseSig)",
          "old_line_content": "                                         GenericSignature *genericSig) {",
          "new_line_content": "  return combineSubstitutionMaps(baseSubMap, origSubMap,",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "genericSig->getASTContext()",
          "old_line_content": "",
          "new_line_content": "  auto &ctx = genericSig->getASTContext();",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": null,
          "new_api": "getDepth",
          "old_text": null,
          "new_text": "GenericTypeParamType::get(\n          gp->getDepth() + secondDepthOrIndex - firstDepthOrIndex,\n          gp->getIndex(),\n          ctx)",
          "old_line_content": "        ctx);",
          "new_line_content": "        return GenericTypeParamType::get(",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": null,
          "new_api": "getDepth",
          "old_text": null,
          "new_text": "gp->getDepth()",
          "old_line_content": "    }",
          "new_line_content": "          gp->getDepth() + secondDepthOrIndex - firstDepthOrIndex,",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": null,
          "new_api": "getIndex",
          "old_text": null,
          "new_text": "gp->getIndex()",
          "old_line_content": "",
          "new_line_content": "          gp->getIndex(),",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": null,
          "new_api": "getIndex",
          "old_text": null,
          "new_text": "gp->getIndex()",
          "old_line_content": "    genericSig,",
          "new_line_content": "      if (gp->getIndex() < firstDepthOrIndex)",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": null,
          "new_api": "Type",
          "old_text": null,
          "new_text": "Type()",
          "old_line_content": "    [&](SubstitutableType *type) {",
          "new_line_content": "        return Type();",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": null,
          "new_api": "getDepth",
          "old_text": null,
          "new_text": "gp->getDepth()",
          "old_line_content": "      if (replacement)",
          "new_line_content": "        gp->getDepth(),",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "get(\n    genericSig,\n    [&](SubstitutableType *type) {\n      auto replacement = replaceGenericParameter(type);\n      if (replacement)\n        return Type(replacement).subst(secondSubMap);\n      return Type(type).subst(firstSubMap);\n    },\n    [&](CanType type, Type substType, ProtocolDecl *conformedProtocol) {\n      auto replacement = type.transform(replaceGenericParameter);\n      if (replacement)\n        return secondSubMap.lookupConformance(replacement->getCanonicalType(),\n                                              conformedProtocol);\n      return firstSubMap.lookupConformance(type, conformedProtocol);\n    })",
          "old_line_content": "                                              conformedProtocol);",
          "new_line_content": "  return get(",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": null,
          "new_api": "replaceGenericParameter",
          "old_text": null,
          "new_text": "replaceGenericParameter(type)",
          "old_line_content": "}",
          "new_line_content": "      auto replacement = replaceGenericParameter(type);",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "Type(replacement).subst(secondSubMap)",
          "old_line_content": "void SubstitutionMap::verify() const {",
          "new_line_content": "        return Type(replacement).subst(secondSubMap);",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "Type(type).subst(firstSubMap)",
          "old_line_content": "#ifndef NDEBUG",
          "new_line_content": "      return Type(type).subst(firstSubMap);",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "transform",
          "old_text": null,
          "new_text": "type.transform(replaceGenericParameter)",
          "old_line_content": "",
          "new_line_content": "      auto replacement = type.transform(replaceGenericParameter);",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": null,
          "new_api": "getCanonicalType",
          "old_text": null,
          "new_text": "replacement->getCanonicalType()",
          "old_line_content": "",
          "new_line_content": "        return secondSubMap.lookupConformance(replacement->getCanonicalType(),",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "req.getKind()",
          "old_line_content": "",
          "new_line_content": "    if (req.getKind() != RequirementKind::Conformance)",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "getFirstType",
          "old_text": null,
          "new_text": "req.getFirstType().subst(*this, SubstFlags::UseErrorType)",
          "old_line_content": "",
          "new_line_content": "    auto substType = req.getFirstType().subst(*this, SubstFlags::UseErrorType);",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": null,
          "new_api": "isTypeParameter",
          "old_text": null,
          "new_text": "substType->isTypeParameter()",
          "old_line_content": "    // An existential type can have an abstract conformance to",
          "new_line_content": "    if (substType->isTypeParameter() ||",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": null,
          "new_api": "substType->is<ArchetypeType>()",
          "old_text": null,
          "new_text": "substType->is<ArchetypeType>()",
          "old_line_content": "    // AnyObject or an @objc protocol.",
          "new_line_content": "        substType->is<ArchetypeType>() ||",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": null,
          "new_api": "isAbstract",
          "old_text": null,
          "new_text": "conformance.isAbstract()",
          "old_line_content": "             \"an existential type can conform only to an \"",
          "new_line_content": "    if (conformance.isAbstract() &&",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "isExistentialType",
          "old_text": null,
          "new_text": "substType->isExistentialType()",
          "old_line_content": "             \"@objc-protocol\");",
          "new_line_content": "        substType->isExistentialType()) {",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": null,
          "new_api": "getRequirement",
          "old_text": null,
          "new_text": "conformance.getRequirement()",
          "old_line_content": "      continue;",
          "new_line_content": "      auto *proto = conformance.getRequirement();",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": null,
          "new_api": "isObjC",
          "old_text": null,
          "new_text": "proto->isObjC()",
          "old_line_content": "    }",
          "new_line_content": "      if (!proto->isObjC()) {",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": null,
          "new_api": "llvm::dbgs()",
          "old_text": null,
          "new_text": "llvm::dbgs()",
          "old_line_content": "    // All of the conformances should be concrete.",
          "new_line_content": "        llvm::dbgs() << \"Existential type conforms to something:\\n\";",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": null,
          "new_api": "isObjC",
          "old_text": null,
          "new_text": "proto->isObjC()",
          "old_line_content": "    }",
          "new_line_content": "      assert(proto->isObjC() &&",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": null,
          "new_api": "isConcrete",
          "old_text": null,
          "new_text": "conformance.isConcrete()",
          "old_line_content": "}",
          "new_line_content": "    if (!conformance.isConcrete()) {",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": null,
          "new_api": "llvm::dbgs()",
          "old_text": null,
          "new_text": "llvm::dbgs()",
          "old_line_content": "",
          "new_line_content": "      llvm::dbgs() << \"Concrete substType type:\\n\";",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": null,
          "new_api": "llvm::dbgs()",
          "old_text": null,
          "new_text": "llvm::dbgs()",
          "old_line_content": "void SubstitutionMap::profile(llvm::FoldingSetNodeID &id) const {",
          "new_line_content": "      substType->dump(llvm::dbgs());",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": null,
          "new_api": "llvm::dbgs()",
          "old_text": null,
          "new_text": "llvm::dbgs()",
          "old_line_content": "}",
          "new_line_content": "      dump(llvm::dbgs());",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": null,
          "new_api": "llvm::dbgs()",
          "old_text": null,
          "new_text": "llvm::dbgs()",
          "old_line_content": "",
          "new_line_content": "      llvm::dbgs() << \"\\n\";",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": null,
          "new_api": "isConcrete",
          "old_text": null,
          "new_text": "conformance.isConcrete()",
          "old_line_content": "",
          "new_line_content": "    assert(conformance.isConcrete() && \"Conformance should be concrete\");",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": null,
          "new_api": "AddPointer",
          "old_text": null,
          "new_text": "id.AddPointer(storage)",
          "old_line_content": "",
          "new_line_content": "  id.AddPointer(storage);",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": null,
          "new_api": "getGenericSignature",
          "old_text": null,
          "new_text": "getGenericSignature()",
          "old_line_content": "  // Retrieve the starting conformance from the conformance map.",
          "new_line_content": "  auto genericSig = getGenericSignature();",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": null,
          "new_api": "getFirstType",
          "old_text": null,
          "new_text": "reqt.getFirstType()->isEqual(type)",
          "old_line_content": "          continue;",
          "new_line_content": "      if (reqt.getFirstType()->isEqual(type) &&",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": null,
          "new_api": "getDeclaredType",
          "old_text": null,
          "new_text": "proto->getDeclaredType()",
          "old_line_content": "",
          "new_line_content": "          reqt.getSecondType()->isEqual(proto->getDeclaredType()))",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": null,
          "new_api": "getConformances",
          "old_text": null,
          "new_text": "getConformances()",
          "old_line_content": "        // Is this the conformance we're looking for?",
          "new_line_content": "        return getConformances()[index];",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": null,
          "new_api": "getRequirements",
          "old_text": null,
          "new_text": "getGenericSignature()->getRequirements()",
          "old_line_content": "    };",
          "new_line_content": "      for (const auto &req : getGenericSignature()->getRequirements()) {",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "req.getKind()",
          "old_line_content": "",
          "new_line_content": "        if (req.getKind() != RequirementKind::Conformance)",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": null,
          "new_api": "getFirstType",
          "old_text": null,
          "new_text": "req.getFirstType()->isEqual(type)",
          "old_line_content": "  // from these requirements.",
          "new_line_content": "        if (req.getFirstType()->isEqual(type) &&",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": null,
          "new_api": "getConformances",
          "old_text": null,
          "new_text": "getConformances()",
          "old_line_content": "    // Check whether the superclass conforms.",
          "new_line_content": "          return getConformances()[conformanceIndex];",
          "content_same": false
        },
        {
          "line": 357,
          "old_api": null,
          "new_api": "conformsToProtocol",
          "old_text": null,
          "new_text": "genericSig->conformsToProtocol(type, proto)",
          "old_line_content": "  auto accessPath =",
          "new_line_content": "  if (!genericSig->conformsToProtocol(type, proto)) {",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": null,
          "new_api": "getSuperclassBound",
          "old_text": null,
          "new_text": "genericSig->getSuperclassBound(type)",
          "old_line_content": "",
          "new_line_content": "    if (auto superclass = genericSig->getSuperclassBound(type)) {",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": null,
          "new_api": "getGenericSignature",
          "old_text": null,
          "new_text": "getGenericSignature()",
          "old_line_content": "  // Fall through because we cannot yet evaluate an access path.",
          "new_line_content": "      return LookUpConformanceInSignature(*getGenericSignature())(",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": null,
          "new_api": "getCanonicalType",
          "old_text": null,
          "new_text": "type->getCanonicalType()",
          "old_line_content": "  Optional<ProtocolConformanceRef> conformance;",
          "new_line_content": "                                                 type->getCanonicalType(),",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": null,
          "new_api": "getConformanceAccessPath",
          "old_text": null,
          "new_text": "genericSig->getConformanceAccessPath(type, proto)",
          "old_line_content": "    }",
          "new_line_content": "    genericSig->getConformanceAccessPath(type, proto);",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": null,
          "new_api": "getInitialConformance",
          "old_text": null,
          "new_text": "getInitialConformance(step.first, step.second)",
          "old_line_content": "    // FIXME: This may not always be true, but it holds for now.",
          "new_line_content": "      conformance = getInitialConformance(step.first, step.second);",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": null,
          "new_api": "isAbstract",
          "old_text": null,
          "new_text": "conformance->isAbstract()",
          "old_line_content": "",
          "new_line_content": "    if (conformance->isAbstract()) {",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": null,
          "new_api": "getParentModule",
          "old_text": null,
          "new_text": "proto->getParentModule()",
          "old_line_content": "",
          "new_line_content": "      auto *M = proto->getParentModule();",
          "content_same": false
        },
        {
          "line": 394,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "type.subst(*this)",
          "old_line_content": "    // For the second step, we're looking into the requirement signature for",
          "new_line_content": "      auto substType = type.subst(*this);",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": null,
          "new_api": "isTypeParameter",
          "old_text": null,
          "new_text": "substType->isTypeParameter()",
          "old_line_content": "",
          "new_line_content": "          !substType->isTypeParameter() &&",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": null,
          "new_api": "isExistentialType",
          "old_text": null,
          "new_text": "substType->isExistentialType()",
          "old_line_content": "    // If we haven't set the signature conformances yet, force the issue now.",
          "new_line_content": "          !substType->isExistentialType()) {",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": null,
          "new_api": "ProtocolConformanceRef",
          "old_text": null,
          "new_text": "ProtocolConformanceRef(proto)",
          "old_line_content": "      // FIXME: Seems like we should be able to get at the intermediate state",
          "new_line_content": "      return ProtocolConformanceRef(proto);",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": null,
          "new_api": "getRootNormalConformance",
          "old_text": null,
          "new_text": "concrete->getRootNormalConformance()",
          "old_line_content": "      if (lazyResolver == nullptr)",
          "new_line_content": "    auto normal = concrete->getRootNormalConformance();",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": null,
          "new_api": "getState",
          "old_text": null,
          "new_text": "normal->getState()",
          "old_line_content": "        return None;",
          "new_line_content": "      if (normal->getState() == ProtocolConformanceState::CheckingTypeWitnesses)",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": null,
          "new_api": "getLazyResolver",
          "old_text": null,
          "new_text": "type->getASTContext().getLazyResolver()",
          "old_line_content": "    // Get the associated conformance.",
          "new_line_content": "      auto lazyResolver = type->getASTContext().getLazyResolver();",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": null,
          "new_api": "resolveTypeWitness",
          "old_text": null,
          "new_text": "lazyResolver->resolveTypeWitness(normal, nullptr)",
          "old_line_content": "  return conformance;",
          "new_line_content": "      lazyResolver->resolveTypeWitness(normal, nullptr);",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": null,
          "new_api": "MakeAbstractConformanceForGenericType",
          "old_text": null,
          "new_text": "MakeAbstractConformanceForGenericType()",
          "old_line_content": "  SmallVector<Type, 4> newSubs;",
          "new_line_content": "  return subst(MapTypeOutOfContext(), MakeAbstractConformanceForGenericType());",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": null,
          "new_api": "LookUpConformanceInSubstitutionMap",
          "old_text": null,
          "new_text": "LookUpConformanceInSubstitutionMap(subMap)",
          "old_line_content": "      continue;",
          "new_line_content": "               LookUpConformanceInSubstitutionMap(subMap));",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": null,
          "new_api": "SubstitutionMap",
          "old_text": null,
          "new_text": "SubstitutionMap()",
          "old_line_content": "  SmallVector<ProtocolConformanceRef, 4> newConformances;",
          "new_line_content": "  if (empty()) return SubstitutionMap();",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": null,
          "new_api": "Type",
          "old_text": null,
          "new_text": "Type()",
          "old_line_content": "",
          "new_line_content": "      newSubs.push_back(Type());",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "type.subst(subs, conformances, SubstFlags::UseErrorType)",
          "old_line_content": "    // Fast path for concrete case -- we don't need to compute substType",
          "new_line_content": "    newSubs.push_back(type.subst(subs, conformances, SubstFlags::UseErrorType));",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": null,
          "new_api": "getGenericSignature",
          "old_text": null,
          "new_text": "getGenericSignature()",
          "old_line_content": "    } else {",
          "new_line_content": "  auto *genericSig = getGenericSignature();",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "newConformances.push_back(\n        ProtocolConformanceRef(\n          conformance.getConcrete()->subst(subs, conformances)))",
          "old_line_content": "  }",
          "new_line_content": "      newConformances.push_back(",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": null,
          "new_api": "getConcrete",
          "old_text": null,
          "new_text": "ProtocolConformanceRef(\n          conformance.getConcrete()->subst(subs, conformances))",
          "old_line_content": "",
          "new_line_content": "        ProtocolConformanceRef(",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": null,
          "new_api": "getFirstType",
          "old_text": null,
          "new_text": "req.getFirstType()",
          "old_line_content": "}",
          "new_line_content": "      auto origType = req.getFirstType();",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "origType.subst(*this, SubstFlags::UseErrorType)",
          "old_line_content": "",
          "new_line_content": "      auto substType = origType.subst(*this, SubstFlags::UseErrorType);",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "newConformances.push_back(\n        conformance.subst(substType, subs, conformances))",
          "old_line_content": "SubstitutionMap::getProtocolSubstitutions(ProtocolDecl *protocol,",
          "new_line_content": "      newConformances.push_back(",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "conformance.subst(substType, subs, conformances)",
          "old_line_content": "                                          Type selfType,",
          "new_line_content": "        conformance.subst(substType, subs, conformances));",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": null,
          "new_api": "slice",
          "old_text": null,
          "new_text": "oldConformances.slice(1)",
          "old_line_content": "",
          "new_line_content": "    oldConformances = oldConformances.slice(1);",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "oldConformances.empty()",
          "old_line_content": "    [&](SubstitutableType *type) -> Type {",
          "new_line_content": "  assert(oldConformances.empty());",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": null,
          "new_api": "getSelfInterfaceType",
          "old_text": null,
          "new_text": "protocol->getSelfInterfaceType()",
          "old_line_content": "    [&](CanType origType, Type replacementType, ProtocolDecl *protoType)",
          "new_line_content": "  auto protocolSelfType = protocol->getSelfInterfaceType();",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": null,
          "new_api": "getGenericSignature",
          "old_text": null,
          "new_text": "protocol->getGenericSignature()",
          "old_line_content": "        return conformance;",
          "new_line_content": "    protocol->getGenericSignature(),",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": null,
          "new_api": "isEqual",
          "old_text": null,
          "new_text": "type->isEqual(protocolSelfType)",
          "old_line_content": "      // This will need to change if we ever support protocols",
          "new_line_content": "      if (type->isEqual(protocolSelfType))",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": null,
          "new_api": "Type",
          "old_text": null,
          "new_text": "Type()",
          "old_line_content": "",
          "new_line_content": "      return Type();",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": null,
          "new_api": "isEqual",
          "old_text": null,
          "new_text": "origType->isEqual(protocolSelfType)",
          "old_line_content": "                                      const ValueDecl *derivedDecl,",
          "new_line_content": "      if (origType->isEqual(protocolSelfType) && protoType == protocol)",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 513,
          "old_api": "getDeclContext",
          "new_api": null,
          "old_text": "baseDecl->getDeclContext()->getSelfProtocolDecl()",
          "new_text": null,
          "old_line_content": "  if (auto baseProto = baseDecl->getDeclContext()->getSelfProtocolDecl()) {",
          "new_line_content": "      // This will need to change if we ever support protocols",
          "content_same": false
        },
        {
          "line": 515,
          "old_api": "getDeclContext",
          "new_api": null,
          "old_text": "derivedDecl->getDeclContext()->getProtocolSelfType()",
          "new_text": null,
          "old_line_content": "          derivedDecl->getDeclContext()->getProtocolSelfType()) {",
          "new_line_content": "      return None;",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": "SubstitutionMap::getProtocolSubstitutions(\n                                             baseProto,\n                                             derivedProtoSelf,\n                                             ProtocolConformanceRef(baseProto))",
          "new_api": null,
          "old_text": "SubstitutionMap::getProtocolSubstitutions(\n                                             baseProto,\n                                             derivedProtoSelf,\n                                             ProtocolConformanceRef(baseProto))",
          "new_text": null,
          "old_line_content": "      return SubstitutionMap::getProtocolSubstitutions(",
          "new_line_content": "    });",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": "ProtocolConformanceRef",
          "new_api": null,
          "old_text": "ProtocolConformanceRef(baseProto)",
          "new_text": null,
          "old_line_content": "                                             ProtocolConformanceRef(baseProto));",
          "new_line_content": "SubstitutionMap",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": "SubstitutionMap",
          "new_api": null,
          "old_text": "SubstitutionMap()",
          "new_text": null,
          "old_line_content": "    return SubstitutionMap();",
          "new_line_content": "                                      const ValueDecl *derivedDecl,",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": "getDeclContext",
          "new_api": null,
          "old_text": "derivedDecl->getDeclContext()->getSelfClassDecl()",
          "new_text": null,
          "old_line_content": "  auto *derivedClass = derivedDecl->getDeclContext()->getSelfClassDecl();",
          "new_line_content": "    if (auto derivedProtoSelf =",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": "getInnermostDeclContext",
          "new_api": null,
          "old_text": "derivedDecl->getInnermostDeclContext()\n      ->getGenericSignatureOfContext()",
          "new_text": null,
          "old_line_content": "  auto *derivedSig = derivedDecl->getInnermostDeclContext()",
          "new_line_content": "                                             derivedProtoSelf,",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": "getOverrideSubstitutions",
          "new_api": null,
          "old_text": "getOverrideSubstitutions(baseClass, derivedClass,\n                                  baseSig, derivedSig,\n                                  derivedSubs)",
          "new_text": null,
          "old_line_content": "  return getOverrideSubstitutions(baseClass, derivedClass,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "getParentModule",
          "new_api": null,
          "old_text": "baseClass->getParentModule()",
          "new_text": null,
          "old_line_content": "  auto *M = baseClass->getParentModule();",
          "new_line_content": "                                  derivedSubs);",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": "getGenericSignature",
          "new_api": null,
          "old_text": "baseClass->getGenericSignature()",
          "new_text": null,
          "old_line_content": "  if (auto *baseClassSig = baseClass->getGenericSignature()) {",
          "new_line_content": "SubstitutionMap::getOverrideSubstitutions(const ClassDecl *baseClass,",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": "back",
          "new_api": null,
          "old_text": "baseClassSig->getGenericParams().back()->getDepth()",
          "new_text": null,
          "old_line_content": "    baseDepth = baseClassSig->getGenericParams().back()->getDepth() + 1;",
          "new_line_content": "                                          const ClassDecl *derivedClass,",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": "getDeclaredInterfaceType",
          "new_api": null,
          "old_text": "derivedClass->getDeclaredInterfaceType()",
          "new_text": null,
          "old_line_content": "    auto derivedClassTy = derivedClass->getDeclaredInterfaceType();",
          "new_line_content": "                                          GenericSignature *derivedSig,",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": "subst",
          "new_api": null,
          "old_text": "derivedClassTy.subst(*derivedSubs)",
          "new_text": null,
          "old_line_content": "      derivedClassTy = derivedClassTy.subst(*derivedSubs);",
          "new_line_content": "  if (baseSig == nullptr)",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": "baseClassTy->is<ErrorType>()",
          "new_api": null,
          "old_text": "baseClassTy->is<ErrorType>()",
          "new_text": null,
          "old_line_content": "    if (baseClassTy->is<ErrorType>())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": "getContextSubstitutionMap",
          "new_api": null,
          "old_text": "baseClassTy->getContextSubstitutionMap(M, baseClass)",
          "new_text": null,
          "old_line_content": "    baseSubMap = baseClassTy->getContextSubstitutionMap(M, baseClass);",
          "new_line_content": "  unsigned baseDepth = 0;",
          "content_same": false
        },
        {
          "line": 565,
          "old_api": "getGenericSignature",
          "new_api": null,
          "old_text": "derivedClass->getGenericSignature()",
          "new_text": null,
          "old_line_content": "  if (auto *derivedClassSig = derivedClass->getGenericSignature())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": "get",
          "new_api": null,
          "old_text": "get(\n        derivedSig,\n        [](SubstitutableType *type) -> Type { return type; },\n        MakeAbstractConformanceForGenericType())",
          "new_text": null,
          "old_line_content": "    origSubMap = get(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 575,
          "old_api": "MakeAbstractConformanceForGenericType",
          "new_api": null,
          "old_text": "MakeAbstractConformanceForGenericType()",
          "new_text": null,
          "old_line_content": "        MakeAbstractConformanceForGenericType());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "genericSig->getASTContext()",
          "new_text": null,
          "old_line_content": "  auto &ctx = genericSig->getASTContext();",
          "new_line_content": "                                 CombineSubstitutionMaps::AtDepth,",
          "content_same": false
        },
        {
          "line": 594,
          "old_api": "type->getAs<GenericTypeParamType>()",
          "new_api": null,
          "old_text": "type->getAs<GenericTypeParamType>()",
          "new_text": null,
          "old_line_content": "    if (auto gp = type->getAs<GenericTypeParamType>()) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": "getDepth",
          "new_api": null,
          "old_text": "gp->getDepth()",
          "new_text": null,
          "old_line_content": "        if (gp->getDepth() < firstDepthOrIndex)",
          "new_line_content": "SubstitutionMap",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": "Type",
          "new_api": null,
          "old_text": "Type()",
          "new_text": null,
          "old_line_content": "          return Type();",
          "new_line_content": "SubstitutionMap::combineSubstitutionMaps(SubstitutionMap firstSubMap,",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": "getDepth",
          "new_api": null,
          "old_text": "GenericTypeParamType::get(\n          gp->getDepth() + secondDepthOrIndex - firstDepthOrIndex,\n          gp->getIndex(),\n          ctx)",
          "new_text": null,
          "old_line_content": "        return GenericTypeParamType::get(",
          "new_line_content": "                                         SubstitutionMap secondSubMap,",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": "getDepth",
          "new_api": null,
          "old_text": "gp->getDepth()",
          "new_text": null,
          "old_line_content": "          gp->getDepth() + secondDepthOrIndex - firstDepthOrIndex,",
          "new_line_content": "                                         CombineSubstitutionMaps how,",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": "getIndex",
          "new_api": null,
          "old_text": "gp->getIndex()",
          "new_text": null,
          "old_line_content": "          gp->getIndex(),",
          "new_line_content": "                                         unsigned firstDepthOrIndex,",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(how == CombineSubstitutionMaps::AtIndex)",
          "new_text": null,
          "old_line_content": "      assert(how == CombineSubstitutionMaps::AtIndex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": "getIndex",
          "new_api": null,
          "old_text": "gp->getIndex()",
          "new_text": null,
          "old_line_content": "      if (gp->getIndex() < firstDepthOrIndex)",
          "new_line_content": "  auto replaceGenericParameter = [&](Type type) -> Type {",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": "getDepth",
          "new_api": null,
          "old_text": "GenericTypeParamType::get(\n        gp->getDepth(),\n        gp->getIndex() + secondDepthOrIndex - firstDepthOrIndex,\n        ctx)",
          "new_text": null,
          "old_line_content": "      return GenericTypeParamType::get(",
          "new_line_content": "      if (how == CombineSubstitutionMaps::AtDepth) {",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": "subst",
          "new_api": null,
          "old_text": "Type(type).subst(firstSubMap)",
          "new_text": null,
          "old_line_content": "      return Type(type).subst(firstSubMap);",
          "new_line_content": "        ctx);",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": "transform",
          "new_api": null,
          "old_text": "type.transform(replaceGenericParameter)",
          "new_text": null,
          "old_line_content": "      auto replacement = type.transform(replaceGenericParameter);",
          "new_line_content": "    return type;",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": "getCanonicalType",
          "new_api": null,
          "old_text": "replacement->getCanonicalType()",
          "new_text": null,
          "old_line_content": "        return secondSubMap.lookupConformance(replacement->getCanonicalType(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": "lookupConformance",
          "new_api": null,
          "old_text": "firstSubMap.lookupConformance(type, conformedProtocol)",
          "new_text": null,
          "old_line_content": "      return firstSubMap.lookupConformance(type, conformedProtocol);",
          "new_line_content": "    genericSig,",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": "empty",
          "new_api": null,
          "old_text": "empty()",
          "new_text": null,
          "old_line_content": "  if (empty())",
          "new_line_content": "    },",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": "getRequirements",
          "new_api": null,
          "old_text": "getGenericSignature()->getRequirements()",
          "new_text": null,
          "old_line_content": "  for (const auto &req : getGenericSignature()->getRequirements()) {",
          "new_line_content": "                                              conformedProtocol);",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": "getFirstType",
          "new_api": null,
          "old_text": "req.getFirstType().subst(*this, SubstFlags::UseErrorType)",
          "new_text": null,
          "old_line_content": "    auto substType = req.getFirstType().subst(*this, SubstFlags::UseErrorType);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": "isTypeParameter",
          "new_api": null,
          "old_text": "substType->isTypeParameter()",
          "new_text": null,
          "old_line_content": "    if (substType->isTypeParameter() ||",
          "new_line_content": "void SubstitutionMap::verify() const {",
          "content_same": false
        },
        {
          "line": 646,
          "old_api": "substType->is<ArchetypeType>()",
          "new_api": null,
          "old_text": "substType->is<ArchetypeType>()",
          "new_text": null,
          "old_line_content": "        substType->is<ArchetypeType>() ||",
          "new_line_content": "#ifndef NDEBUG",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "substType->is<UnresolvedType>()",
          "new_api": null,
          "old_text": "substType->is<UnresolvedType>()",
          "new_text": null,
          "old_line_content": "        substType->is<UnresolvedType>() ||",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "hasError",
          "new_api": null,
          "old_text": "substType->hasError()",
          "new_text": null,
          "old_line_content": "        substType->hasError())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": "isInvalid",
          "new_api": null,
          "old_text": "conformance.isInvalid()",
          "new_text": null,
          "old_line_content": "    if (conformance.isInvalid())",
          "new_line_content": "      continue;",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": "isObjC",
          "new_api": null,
          "old_text": "proto->isObjC()",
          "new_text": null,
          "old_line_content": "      if (!proto->isObjC()) {",
          "new_line_content": "      continue;",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": "llvm::dbgs()",
          "new_api": null,
          "old_text": "llvm::dbgs()",
          "new_text": null,
          "old_line_content": "        llvm::dbgs() << \"Existential type conforms to something:\\n\";",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "llvm::dbgs()",
          "new_api": null,
          "old_text": "llvm::dbgs()",
          "new_text": null,
          "old_line_content": "        llvm::dbgs() << \"SubstitutionMap:\\n\";",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": "llvm::dbgs()",
          "new_api": null,
          "old_text": "llvm::dbgs()",
          "new_text": null,
          "old_line_content": "        llvm::dbgs() << \"\\n\";",
          "new_line_content": "      continue;",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": "isObjC",
          "new_api": null,
          "old_text": "proto->isObjC()",
          "new_text": null,
          "old_line_content": "      assert(proto->isObjC() &&",
          "new_line_content": "    // AnyObject or an @objc protocol.",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": "llvm::dbgs()",
          "new_api": null,
          "old_text": "llvm::dbgs()",
          "new_text": null,
          "old_line_content": "      dump(llvm::dbgs());",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": "llvm::dbgs()",
          "new_api": null,
          "old_text": "llvm::dbgs()",
          "new_text": null,
          "old_line_content": "      llvm::dbgs() << \"\\n\";",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "isConcrete",
          "new_api": null,
          "old_text": "conformance.isConcrete()",
          "new_text": null,
          "old_line_content": "    assert(conformance.isConcrete() && \"Conformance should be concrete\");",
          "new_line_content": "             \"an existential type can conform only to an \"",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": "getFirstType",
          "new_api": null,
          "old_text": "req.getFirstType()->isEqual(type)",
          "new_text": null,
          "old_line_content": "        if (req.getFirstType()->isEqual(type) &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": "getSecondType",
          "new_api": null,
          "old_text": "req.getSecondType()->castTo<ProtocolType>()->getDecl()",
          "new_text": null,
          "old_line_content": "            req.getSecondType()->castTo<ProtocolType>()->getDecl() == proto) {",
          "new_line_content": "      index++;",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": "getConformances",
          "new_api": null,
          "old_text": "getConformances()",
          "new_text": null,
          "old_line_content": "          return getConformances()[conformanceIndex];",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": "getGenericSignature",
          "new_api": null,
          "old_text": "getGenericSignature()",
          "new_text": null,
          "old_line_content": "  auto genericSig = getGenericSignature();",
          "new_line_content": "          continue;",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": "getSuperclassBound",
          "new_api": null,
          "old_text": "genericSig->getSuperclassBound(type)",
          "new_text": null,
          "old_line_content": "    if (auto superclass = genericSig->getSuperclassBound(type)) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": "getGenericSignature",
          "new_api": null,
          "old_text": "getGenericSignature()",
          "new_text": null,
          "old_line_content": "      return LookUpConformanceInSignature(*getGenericSignature())(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": "getCanonicalType",
          "new_api": null,
          "old_text": "type->getCanonicalType()",
          "new_text": null,
          "old_line_content": "                                                 type->getCanonicalType(),",
          "new_line_content": "        ++conformanceIndex;",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "getConformanceAccessPath",
          "new_api": null,
          "old_text": "genericSig->getConformanceAccessPath(type, proto)",
          "new_text": null,
          "old_line_content": "    genericSig->getConformanceAccessPath(type, proto);",
          "new_line_content": "    // Check whether the superclass conforms.",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": "getInitialConformance",
          "new_api": null,
          "old_text": "getInitialConformance(step.first, step.second)",
          "new_text": null,
          "old_line_content": "      conformance = getInitialConformance(step.first, step.second);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": "isInvalid",
          "new_api": null,
          "old_text": "conformance->isInvalid()",
          "new_text": null,
          "old_line_content": "    if (conformance->isInvalid())",
          "new_line_content": "  // Fall through because we cannot yet evaluate an access path.",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": "isAbstract",
          "new_api": null,
          "old_text": "conformance->isAbstract()",
          "new_text": null,
          "old_line_content": "    if (conformance->isAbstract()) {",
          "new_line_content": "      if (!conformance)",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": "getParentModule",
          "new_api": null,
          "old_text": "proto->getParentModule()",
          "new_text": null,
          "old_line_content": "      auto *M = proto->getParentModule();",
          "new_line_content": "      continue;",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": "subst",
          "new_api": null,
          "old_text": "type.subst(*this)",
          "new_text": null,
          "old_line_content": "      auto substType = type.subst(*this);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": "getSuperclass",
          "new_api": null,
          "old_text": "substType->castTo<ArchetypeType>()->getSuperclass()",
          "new_text": null,
          "old_line_content": "           substType->castTo<ArchetypeType>()->getSuperclass()) &&",
          "new_line_content": "      return conformance;",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": "isTypeParameter",
          "new_api": null,
          "old_text": "substType->isTypeParameter()",
          "new_text": null,
          "old_line_content": "          !substType->isTypeParameter() &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": "isExistentialType",
          "new_api": null,
          "old_text": "substType->isExistentialType()",
          "new_text": null,
          "old_line_content": "          !substType->isExistentialType()) {",
          "new_line_content": "    // If we've hit an abstract conformance, everything from here on out is",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": "lookupConformance",
          "new_api": null,
          "old_text": "M->lookupConformance(substType, proto)",
          "new_text": null,
          "old_line_content": "        return M->lookupConformance(substType, proto);",
          "new_line_content": "    // abstract.",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": "ProtocolConformanceRef",
          "new_api": null,
          "old_text": "ProtocolConformanceRef(proto)",
          "new_text": null,
          "old_line_content": "      return ProtocolConformanceRef(proto);",
          "new_line_content": "      // FIXME: Rip this out once we can get a concrete conformance from",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": "getState",
          "new_api": null,
          "old_text": "normal->getState()",
          "new_text": null,
          "old_line_content": "      if (normal->getState() == ProtocolConformanceState::CheckingTypeWitnesses)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": "empty",
          "new_api": null,
          "old_text": "normal->getSignatureConformances().empty()",
          "new_text": null,
          "old_line_content": "      if (normal->getSignatureConformances().empty())",
          "new_line_content": "      // to use that.",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "getAssociatedConformance",
          "new_api": null,
          "old_text": "concrete->getAssociatedConformance(step.first, step.second)",
          "new_text": null,
          "old_line_content": "    conformance = concrete->getAssociatedConformance(step.first, step.second);",
          "new_line_content": "      if (lazyResolver == nullptr)",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "subst",
          "new_api": null,
          "old_text": "subst(QuerySubstitutionMap{subMap},\n               LookUpConformanceInSubstitutionMap(subMap))",
          "new_text": null,
          "old_line_content": "  return subst(QuerySubstitutionMap{subMap},",
          "new_line_content": "    // Get the associated conformance.",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": "SubstitutionMap",
          "new_api": null,
          "old_text": "SubstitutionMap()",
          "new_text": null,
          "old_line_content": "  if (empty()) return SubstitutionMap();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": "getReplacementTypes",
          "new_api": null,
          "old_text": "getReplacementTypes()",
          "new_text": null,
          "old_line_content": "  for (Type type : getReplacementTypes()) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": "subst",
          "new_api": null,
          "old_text": "type.subst(subs, conformances, SubstFlags::UseErrorType)",
          "new_text": null,
          "old_line_content": "    newSubs.push_back(type.subst(subs, conformances, SubstFlags::UseErrorType));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": "getConformances",
          "new_api": null,
          "old_text": "getConformances()",
          "new_text": null,
          "old_line_content": "  auto oldConformances = getConformances();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": "getRequirements",
          "new_api": null,
          "old_text": "genericSig->getRequirements()",
          "new_text": null,
          "old_line_content": "  for (const auto &req : genericSig->getRequirements()) {",
          "new_line_content": "    if (!type) {",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "req.getKind()",
          "new_text": null,
          "old_line_content": "    if (req.getKind() != RequirementKind::Conformance) continue;",
          "new_line_content": "      // Non-canonical parameter.",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": "isConcrete",
          "new_api": null,
          "old_text": "conformance.isConcrete()",
          "new_text": null,
          "old_line_content": "    if (conformance.isConcrete()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "newConformances.push_back(\n        ProtocolConformanceRef(\n          conformance.getConcrete()->subst(subs, conformances)))",
          "new_text": null,
          "old_line_content": "      newConformances.push_back(",
          "new_line_content": "  SmallVector<ProtocolConformanceRef, 4> newConformances;",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "getConcrete",
          "new_api": null,
          "old_text": "conformance.getConcrete()->subst(subs, conformances)",
          "new_text": null,
          "old_line_content": "          conformance.getConcrete()->subst(subs, conformances)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "newConformances.push_back(\n        conformance.subst(substType, subs, conformances))",
          "new_text": null,
          "old_line_content": "      newConformances.push_back(",
          "new_line_content": "    auto conformance = oldConformances[0];",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": "subst",
          "new_api": null,
          "old_text": "conformance.subst(substType, subs, conformances)",
          "new_text": null,
          "old_line_content": "        conformance.subst(substType, subs, conformances));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": "SubstitutionMap",
          "new_api": null,
          "old_text": "SubstitutionMap(genericSig, newSubs, newConformances)",
          "new_text": null,
          "old_line_content": "  return SubstitutionMap(genericSig, newSubs, newConformances);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": "getSelfInterfaceType",
          "new_api": null,
          "old_text": "protocol->getSelfInterfaceType()",
          "new_text": null,
          "old_line_content": "  auto protocolSelfType = protocol->getSelfInterfaceType();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": "getGenericSignature",
          "new_api": null,
          "old_text": "get(\n    protocol->getGenericSignature(),\n    [&](SubstitutableType *type) -> Type {\n      if (type->isEqual(protocolSelfType))\n        return selfType;\n\n      // This will need to change if we ever support protocols\n      // inside generic types.\n      return Type();\n    },\n    [&](CanType origType, Type replacementType, ProtocolDecl *protoType)\n      -> Optional<ProtocolConformanceRef> {\n      if (origType->isEqual(protocolSelfType) && protoType == protocol)\n        return conformance;\n\n      // This will need to change if we ever support protocols\n      // inside generic types.\n      return None;\n    })",
          "new_text": null,
          "old_line_content": "  return get(",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": "getGenericSignature",
          "new_api": null,
          "old_text": "protocol->getGenericSignature()",
          "new_text": null,
          "old_line_content": "    protocol->getGenericSignature(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": "Type",
          "new_api": null,
          "old_text": "Type()",
          "new_text": null,
          "old_line_content": "      return Type();",
          "new_line_content": "                                          Type selfType,",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 39,
      "total_additions": 91,
      "total_deletions": 86,
      "total_api_changes": 216
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 16,
        "api_related_lines": 216,
        "non_api_lines": 8,
        "non_api_line_numbers": [
          322,
          323,
          324,
          325,
          326,
          333,
          334,
          342
        ]
      }
    },
    "api_calls_before": 301,
    "api_calls_after": 309,
    "diff_info": {
      "added_lines": 14,
      "removed_lines": 2,
      "total_diff_lines": 35
    }
  }
}