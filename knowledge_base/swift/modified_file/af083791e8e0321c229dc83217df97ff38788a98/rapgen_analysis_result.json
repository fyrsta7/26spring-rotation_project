{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/af083791e8e0321c229dc83217df97ff38788a98",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/af083791e8e0321c229dc83217df97ff38788a98/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/af083791e8e0321c229dc83217df97ff38788a98/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/af083791e8e0321c229dc83217df97ff38788a98/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 614,
          "old_api": "isa<GenericTypeParamType>(type)",
          "new_api": "getSelfInterfaceType",
          "old_text": "isa<GenericTypeParamType>(type)",
          "new_text": "proto->getSelfInterfaceType()",
          "old_line_content": "  if (isa<GenericTypeParamType>(type)) {",
          "new_line_content": "    assert(type->isEqual(proto->getSelfInterfaceType()) &&",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": "cast<DependentMemberType>(type)",
          "new_api": "getProtocolSelfType",
          "old_text": "cast<DependentMemberType>(type)",
          "new_text": "proto->getProtocolSelfType()",
          "old_line_content": "  auto memberType = cast<DependentMemberType>(type);",
          "new_line_content": "  if (memberType.getBase()->isEqual(proto->getProtocolSelfType()) &&",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": "getProtocolSelfType",
          "new_api": "getAssocType",
          "old_text": "proto->getProtocolSelfType()",
          "new_text": "memberType->getAssocType()->getProtocol()",
          "old_line_content": "  if (memberType.getBase()->isEqual(proto->getProtocolSelfType()) &&",
          "new_line_content": "      memberType->getAssocType()->getProtocol() == proto &&",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": "getAssocType",
          "new_api": "isConcrete",
          "old_text": "memberType->getAssocType()->getProtocol()",
          "new_text": "isConcrete()",
          "old_line_content": "      memberType->getAssocType()->getProtocol() == proto)",
          "new_line_content": "      isConcrete())",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": "SubstitutionMap::getProtocolSubstitutions(proto, conformingType, *this)",
          "new_api": "subst",
          "old_text": "SubstitutionMap::getProtocolSubstitutions(proto, conformingType, *this)",
          "new_text": "type.subst(substMap)",
          "old_line_content": "    SubstitutionMap::getProtocolSubstitutions(proto, conformingType, *this);",
          "new_line_content": "  return type.subst(substMap);",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": "isConcrete",
          "new_api": "getConcrete",
          "old_text": "isConcrete()",
          "new_text": "getConcrete()",
          "old_line_content": "  if (isConcrete()) {",
          "new_line_content": "    auto conformance = getConcrete();",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": "getConcrete",
          "new_api": "getType",
          "old_text": "getConcrete()",
          "new_text": "conformance->getType()->isEqual(conformingType)",
          "old_line_content": "    auto conformance = getConcrete();",
          "new_line_content": "    assert(conformance->getType()->isEqual(conformingType));",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "getType",
          "new_api": "getAssociatedConformance",
          "old_text": "conformance->getType()->isEqual(conformingType)",
          "new_text": "conformance->getAssociatedConformance(assocType, protocol, resolver)",
          "old_line_content": "    assert(conformance->getType()->isEqual(conformingType));",
          "new_line_content": "    return conformance->getAssociatedConformance(assocType, protocol, resolver);",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": "ProtocolConformanceRef",
          "new_api": "subst",
          "old_text": "ProtocolConformanceRef(protocol)",
          "new_text": "abstractConf.subst(assocType,\n                            QuerySubstitutionMap{subMap},\n                            LookUpConformanceInSubstitutionMap(subMap))",
          "old_line_content": "  auto abstractConf = ProtocolConformanceRef(protocol);",
          "new_line_content": "  return abstractConf.subst(assocType,",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "getRequirementSignature",
          "new_api": "getKind",
          "old_text": "getProtocol()->getRequirementSignature()",
          "new_text": "reqt.getKind()",
          "old_line_content": "  for (const auto &reqt : getProtocol()->getRequirementSignature()) {",
          "new_line_content": "    if (reqt.getKind() == RequirementKind::Conformance) {",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": "getFirstType",
          "new_api": "getSecondType",
          "old_text": "reqt.getFirstType()->isEqual(assocType)",
          "new_text": "reqt.getSecondType()->castTo<ProtocolType>()->getDecl()",
          "old_line_content": "      if (reqt.getFirstType()->isEqual(assocType) &&",
          "new_line_content": "          reqt.getSecondType()->castTo<ProtocolType>()->getDecl() == protocol)",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": "getSecondType",
          "new_api": "getSignatureConformances",
          "old_text": "reqt.getSecondType()->castTo<ProtocolType>()->getDecl()",
          "new_text": "getSignatureConformances()",
          "old_line_content": "          reqt.getSecondType()->castTo<ProtocolType>()->getDecl() == protocol)",
          "new_line_content": "        return getSignatureConformances()[conformanceIndex];",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "isa<AssociatedTypeDecl>(requirement)",
          "new_api": "isProtocolRequirement",
          "old_text": "isa<AssociatedTypeDecl>(requirement)",
          "new_text": "requirement->isProtocolRequirement()",
          "old_line_content": "  assert(!isa<AssociatedTypeDecl>(requirement) && \"Request type witness\");",
          "new_line_content": "  assert(requirement->isProtocolRequirement() && \"Not a requirement\");",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": "find",
          "new_api": "end",
          "old_text": "Mapping.find(requirement)",
          "new_text": "Mapping.end()",
          "old_line_content": "  auto known = Mapping.find(requirement);",
          "new_line_content": "  if (known == Mapping.end()) {",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "end",
          "new_api": "assert",
          "old_text": "Mapping.end()",
          "new_text": "assert(resolver && \"Unable to resolve witness without resolver\")",
          "old_line_content": "  if (known == Mapping.end()) {",
          "new_line_content": "    assert(resolver && \"Unable to resolve witness without resolver\");",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "assert",
          "new_api": "resolveWitness",
          "old_text": "assert(resolver && \"Unable to resolve witness without resolver\")",
          "new_text": "resolver->resolveWitness(this, requirement)",
          "old_line_content": "    assert(resolver && \"Unable to resolve witness without resolver\");",
          "new_line_content": "    resolver->resolveWitness(this, requirement);",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": "resolveWitness",
          "new_api": "find",
          "old_text": "resolver->resolveWitness(this, requirement)",
          "new_text": "Mapping.find(requirement)",
          "old_line_content": "    resolver->resolveWitness(this, requirement);",
          "new_line_content": "    known = Mapping.find(requirement);",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": "getWitness",
          "new_api": "getDeclRef",
          "old_text": "getWitness(requirement, resolver)",
          "new_text": "witness.getDeclRef()",
          "old_line_content": "  if (auto witness = getWitness(requirement, resolver))",
          "new_line_content": "    return witness.getDeclRef();",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": "getDeclRef",
          "new_api": "ConcreteDeclRef",
          "old_text": "witness.getDeclRef()",
          "new_text": "ConcreteDeclRef()",
          "old_line_content": "    return witness.getDeclRef();",
          "new_line_content": "  return ConcreteDeclRef();",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": "isa<AssociatedTypeDecl>(requirement)",
          "new_api": "getDeclContext",
          "old_text": "isa<AssociatedTypeDecl>(requirement)",
          "new_text": "requirement->getDeclContext()",
          "old_line_content": "  assert(!isa<AssociatedTypeDecl>(requirement) && \"Request type witness\");",
          "new_line_content": "  assert(getProtocol() == cast<ProtocolDecl>(requirement->getDeclContext()) &&",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "count",
          "new_api": "isInvalid",
          "old_text": "Mapping.count(requirement)",
          "new_text": "isInvalid()",
          "old_line_content": "  assert(Mapping.count(requirement) == 0 && \"Witness already known\");",
          "new_line_content": "  assert((!isComplete() || isInvalid() ||",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": "isInvalid",
          "new_api": "getAttrs",
          "old_text": "isInvalid()",
          "new_text": "requirement->getAttrs().hasAttribute<OptionalAttr>()",
          "old_line_content": "  assert((!isComplete() || isInvalid() ||",
          "new_line_content": "          requirement->getAttrs().hasAttribute<OptionalAttr>() ||",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": "getAttrs",
          "new_api": "isUnavailable",
          "old_text": "requirement->getAttrs().hasAttribute<OptionalAttr>()",
          "new_text": "requirement->getAttrs().isUnavailable(\n                                        requirement->getASTContext())",
          "old_line_content": "          requirement->getAttrs().hasAttribute<OptionalAttr>() ||",
          "new_line_content": "          requirement->getAttrs().isUnavailable(",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": "isUnavailable",
          "new_api": "getASTContext",
          "old_text": "requirement->getAttrs().isUnavailable(\n                                        requirement->getASTContext())",
          "new_text": "requirement->getASTContext()",
          "old_line_content": "          requirement->getAttrs().isUnavailable(",
          "new_line_content": "                                        requirement->getASTContext())) &&",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": "getConditionalRequirements",
          "new_api": "subst",
          "old_text": "GenericConformance->getConditionalRequirements()",
          "new_text": "oldReq.subst(subMap)",
          "old_line_content": "    for (auto oldReq : GenericConformance->getConditionalRequirements()) {",
          "new_line_content": "      if (auto newReq = oldReq.subst(subMap))",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": "subst",
          "new_api": "push_back",
          "old_text": "oldReq.subst(subMap)",
          "new_text": "newReqs.push_back(*newReq)",
          "old_line_content": "      if (auto newReq = oldReq.subst(subMap))",
          "new_line_content": "        newReqs.push_back(*newReq);",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": "getASTContext",
          "new_api": "AllocateCopy",
          "old_text": "getProtocol()->getASTContext()",
          "new_text": "ctxt.AllocateCopy(newReqs)",
          "old_line_content": "    auto &ctxt = getProtocol()->getASTContext();",
          "new_line_content": "    ConditionalRequirements = ctxt.AllocateCopy(newReqs);",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": "end",
          "new_api": "hasTypeWitness",
          "old_text": "TypeWitnesses.end()",
          "new_text": "GenericConformance->hasTypeWitness(assocType, resolver)",
          "old_line_content": "  return TypeWitnesses.find(assocType) != TypeWitnesses.end() ||",
          "new_line_content": "         GenericConformance->hasTypeWitness(assocType, resolver);",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": "find",
          "new_api": "end",
          "old_text": "TypeWitnesses.find(assocType)",
          "new_text": "TypeWitnesses.end()",
          "old_line_content": "  auto known = TypeWitnesses.find(assocType);",
          "new_line_content": "  if (known != TypeWitnesses.end()) {",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "getSubstitutionMap",
          "new_api": "empty",
          "old_text": "getSubstitutionMap()",
          "new_text": "substitutionMap.empty()",
          "old_line_content": "  auto substitutionMap = getSubstitutionMap();",
          "new_line_content": "  if (substitutionMap.empty())",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "empty",
          "new_api": "Type",
          "old_text": "substitutionMap.empty()",
          "new_text": "Type()",
          "old_line_content": "  if (substitutionMap.empty())",
          "new_line_content": "    return {Type(), nullptr};",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": "isTentativeWitness",
          "new_api": "Type",
          "old_text": "isTentativeWitness()",
          "new_text": "Type()",
          "old_line_content": "    if (isTentativeWitness())",
          "new_line_content": "      return { Type(), nullptr };",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": "std::make_pair(specializedType, typeDecl)",
          "new_api": "hasError",
          "old_text": "std::make_pair(specializedType, typeDecl)",
          "new_text": "specializedType->hasError()",
          "old_line_content": "  auto specializedWitnessAndDecl = std::make_pair(specializedType, typeDecl);",
          "new_line_content": "  if (!isTentativeWitness() && !specializedType->hasError())",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "isConcrete",
          "new_api": "getConcrete",
          "old_text": "conformance.isConcrete()",
          "new_text": "conformance.getConcrete()->getType()",
          "old_line_content": "    (conformance.isConcrete()",
          "new_line_content": "       ? conformance.getConcrete()->getType()",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": "getConcrete",
          "new_api": "getAssociatedType",
          "old_text": "conformance.getConcrete()->getType()",
          "new_text": "GenericConformance->getAssociatedType(assocType, resolver)",
          "old_line_content": "       ? conformance.getConcrete()->getType()",
          "new_line_content": "       : GenericConformance->getAssociatedType(assocType, resolver));",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": "getWitnessDeclRef",
          "new_api": "isSpecialized",
          "old_text": "GenericConformance->getWitnessDeclRef(requirement, resolver)",
          "new_text": "baseWitness.isSpecialized()",
          "old_line_content": "  auto baseWitness = GenericConformance->getWitnessDeclRef(requirement, resolver);",
          "new_line_content": "  if (!baseWitness || !baseWitness.isSpecialized())",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": "isConcrete",
          "new_api": "getSelfInterfaceType",
          "old_text": "underlying.isConcrete()",
          "new_text": "getProtocol()->getSelfInterfaceType()",
          "old_line_content": "  if (underlying.isConcrete() &&",
          "new_line_content": "      assocType->isEqual(getProtocol()->getSelfInterfaceType())) {",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": "getSelfInterfaceType",
          "new_api": "getType",
          "old_text": "getProtocol()->getSelfInterfaceType()",
          "new_text": "getType()",
          "old_line_content": "      assocType->isEqual(getProtocol()->getSelfInterfaceType())) {",
          "new_line_content": "    auto subclassType = getType();",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": "getType",
          "new_api": "getASTContext",
          "old_text": "getType()",
          "new_text": "subclassType->getASTContext()",
          "old_line_content": "    auto subclassType = getType();",
          "new_line_content": "    ASTContext &ctx = subclassType->getASTContext();",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "getASTContext",
          "new_api": "getInheritedConformance",
          "old_text": "subclassType->getASTContext()",
          "new_text": "ProtocolConformanceRef(\n             ctx.getInheritedConformance(subclassType,\n                                         underlying.getConcrete()))",
          "old_line_content": "    ASTContext &ctx = subclassType->getASTContext();",
          "new_line_content": "    return ProtocolConformanceRef(",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": "getInheritedConformance",
          "new_api": "getConcrete",
          "old_text": "ctx.getInheritedConformance(subclassType,\n                                         underlying.getConcrete())",
          "new_text": "underlying.getConcrete()",
          "old_line_content": "             ctx.getInheritedConformance(subclassType,",
          "new_line_content": "                                         underlying.getConcrete()));",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": "isa<NormalProtocolConformance>(C)",
          "new_api": "getKind",
          "old_text": "isa<NormalProtocolConformance>(C)",
          "new_text": "C->getKind()",
          "old_line_content": "  while (!isa<NormalProtocolConformance>(C)) {",
          "new_line_content": "    switch (C->getKind()) {",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": "substType->getAs<DynamicSelfType>()",
          "new_api": "getSelfType",
          "old_text": "substType->getAs<DynamicSelfType>()",
          "new_text": "selfType->getSelfType()",
          "old_line_content": "  if (auto selfType = substType->getAs<DynamicSelfType>())",
          "new_line_content": "    substType = selfType->getSelfType();",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": "isEqual",
          "new_api": "const_cast<ProtocolConformance *>(this)",
          "old_text": "getType()->isEqual(substType)",
          "new_text": "const_cast<ProtocolConformance *>(this)",
          "old_line_content": "  if (getType()->isEqual(substType))",
          "new_line_content": "    return const_cast<ProtocolConformance *>(this);",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": "getGenericSignature",
          "new_api": "getGenericEnvironment",
          "old_text": "getGenericSignature()",
          "new_text": "getGenericEnvironment()",
          "old_line_content": "      if (getGenericSignature()) {",
          "new_line_content": "        auto *genericEnv = getGenericEnvironment();",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": "getGenericEnvironment",
          "new_api": "getSubstitutionMap",
          "old_text": "getGenericEnvironment()",
          "new_text": "genericEnv->getSubstitutionMap(subs, conformances)",
          "old_line_content": "        auto *genericEnv = getGenericEnvironment();",
          "new_line_content": "        subMap = genericEnv->getSubstitutionMap(subs, conformances);",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": "getType",
          "new_api": "getSuperclassForDecl",
          "old_text": "inheritedConformance->getType()->getClassOrBoundGenericClass()",
          "new_text": "substType->getSuperclassForDecl(targetClass)",
          "old_line_content": "        inheritedConformance->getType()->getClassOrBoundGenericClass();",
          "new_line_content": "      auto superclassType = substType->getSuperclassForDecl(targetClass);",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": "cast<SpecializedProtocolConformance>(this)",
          "new_api": "getGenericConformance",
          "old_text": "cast<SpecializedProtocolConformance>(this)",
          "new_text": "spec->getGenericConformance()",
          "old_line_content": "    auto spec = cast<SpecializedProtocolConformance>(this);",
          "new_line_content": "    auto genericConformance = spec->getGenericConformance();",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": "getGenericConformance",
          "new_api": "getSubstitutionMap",
          "old_text": "spec->getGenericConformance()",
          "new_text": "spec->getSubstitutionMap()",
          "old_line_content": "    auto genericConformance = spec->getGenericConformance();",
          "new_line_content": "    auto subMap = spec->getSubstitutionMap();",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": "getSelfInterfaceType",
          "new_api": "getConcrete",
          "old_text": "getProtocol()->getSelfInterfaceType()",
          "new_text": "result.getConcrete()",
          "old_line_content": "    getAssociatedConformance(getProtocol()->getSelfInterfaceType(), protocol);",
          "new_line_content": "  return result.isConcrete() ? result.getConcrete() : nullptr;",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "const_cast<NominalTypeDecl *>(this)",
          "new_api": "getASTContext",
          "old_text": "const_cast<NominalTypeDecl *>(this)",
          "new_text": "getASTContext()",
          "old_line_content": "  auto mutableThis = const_cast<NominalTypeDecl *>(this);",
          "new_line_content": "  ASTContext &ctx = getASTContext();",
          "content_same": false
        },
        {
          "line": 1024,
          "old_api": "getASTContext",
          "new_api": "getLazyResolver",
          "old_text": "getASTContext()",
          "new_text": "ctx.getLazyResolver()",
          "old_line_content": "  ASTContext &ctx = getASTContext();",
          "new_line_content": "  auto resolver = ctx.getLazyResolver();",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": "getModuleScopeContext",
          "new_api": "getKind",
          "old_text": "getModuleScopeContext()",
          "new_text": "file->getKind()",
          "old_line_content": "  auto *file = cast<FileUnit>(getModuleScopeContext());",
          "new_line_content": "  if (file->getKind() != FileUnitKind::Source &&",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": "getProtocol",
          "new_api": "count",
          "old_text": "getASTContext().getProtocol(kind)",
          "new_text": "protocols.count(proto)",
          "old_line_content": "    if (auto *proto = getASTContext().getProtocol(kind)) {",
          "new_line_content": "      if (protocols.count(proto) == 0) {",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": "count",
          "new_api": "addSynthesizedConformance",
          "old_text": "protocols.count(proto)",
          "new_text": "ConformanceTable->addSynthesizedConformance(mutableThis, proto)",
          "old_line_content": "      if (protocols.count(proto) == 0) {",
          "new_line_content": "        ConformanceTable->addSynthesizedConformance(mutableThis, proto);",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "addSynthesizedConformance",
          "new_api": "insert",
          "old_text": "ConformanceTable->addSynthesizedConformance(mutableThis, proto)",
          "new_text": "protocols.insert(proto)",
          "old_line_content": "        ConformanceTable->addSynthesizedConformance(mutableThis, proto);",
          "new_line_content": "        protocols.insert(proto);",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": "getAttrs",
          "new_api": "getProtocolKind",
          "old_text": "getAttrs().getAttributes<SynthesizedProtocolAttr>()",
          "new_text": "attr->getProtocolKind()",
          "old_line_content": "  for (auto attr : getAttrs().getAttributes<SynthesizedProtocolAttr>()) {",
          "new_line_content": "    addSynthesized(attr->getProtocolKind());",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": "dyn_cast<EnumDecl>(mutableThis)",
          "new_api": "hasOnlyCasesWithoutAssociatedValues",
          "old_text": "dyn_cast<EnumDecl>(mutableThis)",
          "new_text": "theEnum->hasOnlyCasesWithoutAssociatedValues()",
          "old_line_content": "  if (auto theEnum = dyn_cast<EnumDecl>(mutableThis)) {",
          "new_line_content": "    if (theEnum->hasCases() && theEnum->hasOnlyCasesWithoutAssociatedValues()) {",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "resolveRawType",
          "new_api": "hasRawType",
          "old_text": "resolver->resolveRawType(theEnum)",
          "new_text": "theEnum->hasRawType()",
          "old_line_content": "      resolver->resolveRawType(theEnum);",
          "new_line_content": "    if (theEnum->hasRawType()) {",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": "hasRawType",
          "new_api": "addSynthesized",
          "old_text": "theEnum->hasRawType()",
          "new_text": "addSynthesized(KnownProtocolKind::RawRepresentable)",
          "old_line_content": "    if (theEnum->hasRawType()) {",
          "new_line_content": "      addSynthesized(KnownProtocolKind::RawRepresentable);",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": "prepareConformanceTable",
          "new_api": "getLazyResolver",
          "old_text": "prepareConformanceTable()",
          "new_text": "ConformanceTable->lookupConformance(\n           module,\n           const_cast<NominalTypeDecl *>(this),\n           protocol,\n           getASTContext().getLazyResolver(),\n           conformances)",
          "old_line_content": "  prepareConformanceTable();",
          "new_line_content": "  return ConformanceTable->lookupConformance(",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": "const_cast<NominalTypeDecl *>(this)",
          "new_api": "getLazyResolver",
          "old_text": "const_cast<NominalTypeDecl *>(this)",
          "new_text": "getASTContext().getLazyResolver()",
          "old_line_content": "  ConformanceTable->getAllProtocols(const_cast<NominalTypeDecl *>(this),",
          "new_line_content": "                                    getASTContext().getLazyResolver(),",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "const_cast<NominalTypeDecl *>(this)",
          "new_api": "getLazyResolver",
          "old_text": "const_cast<NominalTypeDecl *>(this)",
          "new_text": "getASTContext().getLazyResolver()",
          "old_line_content": "  ConformanceTable->getAllConformances(const_cast<NominalTypeDecl *>(this),",
          "new_line_content": "                                       getASTContext().getLazyResolver(),",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": "prepareConformanceTable",
          "new_api": "getImplicitProtocols",
          "old_text": "prepareConformanceTable()",
          "new_text": "ConformanceTable->getImplicitProtocols(this, protocols)",
          "old_line_content": "  prepareConformanceTable();",
          "new_line_content": "  ConformanceTable->getImplicitProtocols(this, protocols);",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": "prepareConformanceTable",
          "new_api": "registerProtocolConformance",
          "old_text": "prepareConformanceTable()",
          "new_text": "ConformanceTable->registerProtocolConformance(conformance)",
          "old_line_content": "  prepareConformanceTable();",
          "new_line_content": "  ConformanceTable->registerProtocolConformance(conformance);",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": "isa<ProtocolDecl>(this)",
          "new_api": "prepareConformanceTable",
          "old_text": "isa<ProtocolDecl>(this)",
          "new_text": "prepareConformanceTable()",
          "old_line_content": "  assert(!isa<ProtocolDecl>(this));",
          "new_line_content": "  prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": "prepareConformanceTable",
          "new_api": "getLazyResolver",
          "old_text": "prepareConformanceTable()",
          "new_text": "ConformanceTable->getSatisfiedProtocolRequirementsForMember(member,\n                                           const_cast<NominalTypeDecl *>(this),\n                                           getASTContext().getLazyResolver(),\n                                           sorted)",
          "old_line_content": "  prepareConformanceTable();",
          "new_line_content": "  return ConformanceTable->getSatisfiedProtocolRequirementsForMember(member,",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "getLazyResolver",
          "new_api": "const_cast<NominalTypeDecl *>(this)",
          "old_text": "ConformanceTable->getSatisfiedProtocolRequirementsForMember(member,\n                                           const_cast<NominalTypeDecl *>(this),\n                                           getASTContext().getLazyResolver(),\n                                           sorted)",
          "new_text": "const_cast<NominalTypeDecl *>(this)",
          "old_line_content": "  return ConformanceTable->getSatisfiedProtocolRequirementsForMember(member,",
          "new_line_content": "                                           const_cast<NominalTypeDecl *>(this),",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": "const_cast<NominalTypeDecl *>(this)",
          "new_api": "getLazyResolver",
          "old_text": "const_cast<NominalTypeDecl *>(this)",
          "new_text": "getASTContext().getLazyResolver()",
          "old_line_content": "                                           const_cast<NominalTypeDecl *>(this),",
          "new_line_content": "                                           getASTContext().getLazyResolver(),",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "prepareConformanceTable",
          "new_api": "getLazyResolver",
          "old_text": "nominal->prepareConformanceTable()",
          "new_text": "nominal->ConformanceTable->lookupConformances(\n    nominal,\n    const_cast<DeclContext *>(this),\n    getASTContext().getLazyResolver(),\n    lookupKind,\n    &result,\n    nullptr,\n    diagnostics)",
          "old_line_content": "  nominal->prepareConformanceTable();",
          "new_line_content": "  nominal->ConformanceTable->lookupConformances(",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": "const_cast<DeclContext *>(this)",
          "new_api": "getLazyResolver",
          "old_text": "const_cast<DeclContext *>(this)",
          "new_text": "getASTContext().getLazyResolver()",
          "old_line_content": "    const_cast<DeclContext *>(this),",
          "new_line_content": "    getASTContext().getLazyResolver(),",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "prepareConformanceTable",
          "new_api": "getLazyResolver",
          "old_text": "nominal->prepareConformanceTable()",
          "new_text": "nominal->ConformanceTable->lookupConformances(\n    nominal,\n    const_cast<DeclContext *>(this),\n    nominal->getASTContext().getLazyResolver(),\n    lookupKind,\n    nullptr,\n    &result,\n    diagnostics)",
          "old_line_content": "  nominal->prepareConformanceTable();",
          "new_line_content": "  nominal->ConformanceTable->lookupConformances(",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": "const_cast<DeclContext *>(this)",
          "new_api": "getLazyResolver",
          "old_text": "const_cast<DeclContext *>(this)",
          "new_text": "nominal->getASTContext().getLazyResolver()",
          "old_line_content": "    const_cast<DeclContext *>(this),",
          "new_line_content": "    nominal->getASTContext().getLazyResolver(),",
          "content_same": false
        },
        {
          "line": 1218,
          "old_api": "cast<InheritedProtocolConformance>(this)",
          "new_api": "getInheritedConformance",
          "old_text": "cast<InheritedProtocolConformance>(this)",
          "new_text": "inheritedConformance->getInheritedConformance()->isCanonical()",
          "old_line_content": "      = cast<InheritedProtocolConformance>(this);",
          "new_line_content": "    return inheritedConformance->getInheritedConformance()->isCanonical();",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": "cast<SpecializedProtocolConformance>(this)",
          "new_api": "getGenericConformance",
          "old_text": "cast<SpecializedProtocolConformance>(this)",
          "new_text": "spec->getGenericConformance()",
          "old_line_content": "    auto spec = cast<SpecializedProtocolConformance>(this);",
          "new_line_content": "    auto genericConformance = spec->getGenericConformance();",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": "getGenericConformance",
          "new_api": "isCanonical",
          "old_text": "spec->getGenericConformance()",
          "new_text": "genericConformance->isCanonical()",
          "old_line_content": "    auto genericConformance = spec->getGenericConformance();",
          "new_line_content": "    if (!genericConformance->isCanonical())",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "getConformances",
          "new_api": "isCanonical",
          "old_text": "getConformances()",
          "new_text": "conf.isCanonical()",
          "old_line_content": "  for (auto conf : getConformances()) {",
          "new_line_content": "    if (conf.isCanonical()) {",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": "isCanonical",
          "new_api": "push_back",
          "old_text": "conf.isCanonical()",
          "new_text": "newCanConformances.push_back(conf)",
          "old_line_content": "    if (conf.isCanonical()) {",
          "new_line_content": "      newCanConformances.push_back(conf);",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": "getASTContext",
          "new_api": "AllocateCopy",
          "old_text": "canReplacement->getASTContext()",
          "new_text": "C.AllocateCopy(newCanConformances)",
          "old_line_content": "    auto &C = canReplacement->getASTContext();",
          "new_line_content": "    canConformances = C.AllocateCopy(newCanConformances);",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "getASTContext",
          "new_api": "cast<InheritedProtocolConformance>(this)",
          "old_text": "getType()->getASTContext()",
          "new_text": "cast<InheritedProtocolConformance>(this)",
          "old_line_content": "    auto &Ctx = getType()->getASTContext();",
          "new_line_content": "    auto inheritedConformance = cast<InheritedProtocolConformance>(this);",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": "cast<InheritedProtocolConformance>(this)",
          "new_api": "getInheritedConformance",
          "old_text": "cast<InheritedProtocolConformance>(this)",
          "new_text": "Ctx.getInheritedConformance(\n        getType()->getCanonicalType(),\n        inheritedConformance->getInheritedConformance()\n            ->getCanonicalConformance())",
          "old_line_content": "    auto inheritedConformance = cast<InheritedProtocolConformance>(this);",
          "new_line_content": "    return Ctx.getInheritedConformance(",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": "getInheritedConformance",
          "new_api": "getCanonicalType",
          "old_text": "Ctx.getInheritedConformance(\n        getType()->getCanonicalType(),\n        inheritedConformance->getInheritedConformance()\n            ->getCanonicalConformance())",
          "new_text": "getType()->getCanonicalType()",
          "old_line_content": "    return Ctx.getInheritedConformance(",
          "new_line_content": "        getType()->getCanonicalType(),",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "getCanonicalType",
          "new_api": "getInheritedConformance",
          "old_text": "getType()->getCanonicalType()",
          "new_text": "inheritedConformance->getInheritedConformance()\n            ->getCanonicalConformance()",
          "old_line_content": "        getType()->getCanonicalType(),",
          "new_line_content": "        inheritedConformance->getInheritedConformance()",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "cast<SpecializedProtocolConformance>(this)",
          "new_api": "getGenericConformance",
          "old_text": "cast<SpecializedProtocolConformance>(this)",
          "new_text": "spec->getGenericConformance()",
          "old_line_content": "    auto spec = cast<SpecializedProtocolConformance>(this);",
          "new_line_content": "    auto genericConformance = spec->getGenericConformance();",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": "getGenericConformance",
          "new_api": "getGenericSubstitutions",
          "old_text": "spec->getGenericConformance()",
          "new_text": "spec->getGenericSubstitutions()",
          "old_line_content": "    auto genericConformance = spec->getGenericConformance();",
          "new_line_content": "    auto specSubs = spec->getGenericSubstitutions();",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": "getCanonicalSubstitutionList",
          "new_api": "getSpecializedConformance",
          "old_text": "getCanonicalSubstitutionList(specSubs, newSpecSubs)",
          "new_text": "Ctx.getSpecializedConformance(\n        getType()->getCanonicalType(),\n        genericConformance->getCanonicalConformance(),\n        newSpecSubs.empty() ? canSpecSubs : Ctx.AllocateCopy(canSpecSubs))",
          "old_line_content": "    auto canSpecSubs = getCanonicalSubstitutionList(specSubs, newSpecSubs);",
          "new_line_content": "    return Ctx.getSpecializedConformance(",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": "getSpecializedConformance",
          "new_api": "getCanonicalType",
          "old_text": "Ctx.getSpecializedConformance(\n        getType()->getCanonicalType(),\n        genericConformance->getCanonicalConformance(),\n        newSpecSubs.empty() ? canSpecSubs : Ctx.AllocateCopy(canSpecSubs))",
          "new_text": "getType()->getCanonicalType()",
          "old_line_content": "    return Ctx.getSpecializedConformance(",
          "new_line_content": "        getType()->getCanonicalType(),",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": "getCanonicalType",
          "new_api": "getCanonicalConformance",
          "old_text": "getType()->getCanonicalType()",
          "new_text": "genericConformance->getCanonicalConformance()",
          "old_line_content": "        getType()->getCanonicalType(),",
          "new_line_content": "        genericConformance->getCanonicalConformance(),",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "getCanonicalConformance",
          "new_api": "AllocateCopy",
          "old_text": "genericConformance->getCanonicalConformance()",
          "new_text": "Ctx.AllocateCopy(canSpecSubs)",
          "old_line_content": "        genericConformance->getCanonicalConformance(),",
          "new_line_content": "        newSpecSubs.empty() ? canSpecSubs : Ctx.AllocateCopy(canSpecSubs));",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1031,
          "old_api": null,
          "new_api": "getModuleScopeContext",
          "old_text": null,
          "new_text": "getModuleScopeContext()",
          "old_line_content": "  // via the Clang importer, don't add any synthesized conformances.",
          "new_line_content": "  auto *file = cast<FileUnit>(getModuleScopeContext());",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": null,
          "new_api": "getProtocol",
          "old_text": null,
          "new_text": "getASTContext().getProtocol(kind)",
          "old_line_content": "  auto addSynthesized = [&](KnownProtocolKind kind) {",
          "new_line_content": "    if (auto *proto = getASTContext().getProtocol(kind)) {",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": null,
          "new_api": "getAttrs",
          "old_text": null,
          "new_text": "getAttrs().getAttributes<SynthesizedProtocolAttr>()",
          "old_line_content": "  // Add protocols for any synthesized protocol attributes.",
          "new_line_content": "  for (auto attr : getAttrs().getAttributes<SynthesizedProtocolAttr>()) {",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": null,
          "new_api": "dyn_cast<EnumDecl>(mutableThis)",
          "old_text": null,
          "new_text": "dyn_cast<EnumDecl>(mutableThis)",
          "old_line_content": "  // Add any implicit conformances.",
          "new_line_content": "  if (auto theEnum = dyn_cast<EnumDecl>(mutableThis)) {",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": null,
          "new_api": "addSynthesized",
          "old_text": null,
          "new_text": "addSynthesized(KnownProtocolKind::Equatable)",
          "old_line_content": "      // Simple enumerations conform to Equatable.",
          "new_line_content": "      addSynthesized(KnownProtocolKind::Equatable);",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": null,
          "new_api": "addSynthesized",
          "old_text": null,
          "new_text": "addSynthesized(KnownProtocolKind::Hashable)",
          "old_line_content": "      // Simple enumerations conform to Hashable.",
          "new_line_content": "      addSynthesized(KnownProtocolKind::Hashable);",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": null,
          "new_api": "resolveRawType",
          "old_text": null,
          "new_text": "resolver->resolveRawType(theEnum)",
          "old_line_content": "    if (resolver)",
          "new_line_content": "      resolver->resolveRawType(theEnum);",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": null,
          "new_api": "prepareConformanceTable",
          "old_text": null,
          "new_text": "prepareConformanceTable()",
          "old_line_content": "       SmallVectorImpl<ProtocolConformance *> &conformances) const {",
          "new_line_content": "  prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": null,
          "new_api": "const_cast<NominalTypeDecl *>(this)",
          "old_text": null,
          "new_text": "const_cast<NominalTypeDecl *>(this)",
          "old_line_content": "           module,",
          "new_line_content": "           const_cast<NominalTypeDecl *>(this),",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": null,
          "new_api": "getLazyResolver",
          "old_text": null,
          "new_text": "getASTContext().getLazyResolver()",
          "old_line_content": "           protocol,",
          "new_line_content": "           getASTContext().getLazyResolver(),",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": null,
          "new_api": "prepareConformanceTable",
          "old_text": null,
          "new_text": "prepareConformanceTable()",
          "old_line_content": "SmallVector<ProtocolDecl *, 2> NominalTypeDecl::getAllProtocols() const {",
          "new_line_content": "  prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": null,
          "new_api": "const_cast<NominalTypeDecl *>(this)",
          "old_text": null,
          "new_text": "const_cast<NominalTypeDecl *>(this)",
          "old_line_content": "  SmallVector<ProtocolDecl *, 2> result;",
          "new_line_content": "  ConformanceTable->getAllProtocols(const_cast<NominalTypeDecl *>(this),",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": null,
          "new_api": "prepareConformanceTable",
          "old_text": null,
          "new_text": "prepareConformanceTable()",
          "old_line_content": "{",
          "new_line_content": "  prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": null,
          "new_api": "const_cast<NominalTypeDecl *>(this)",
          "old_text": null,
          "new_text": "const_cast<NominalTypeDecl *>(this)",
          "old_line_content": "  SmallVector<ProtocolConformance *, 2> result;",
          "new_line_content": "  ConformanceTable->getAllConformances(const_cast<NominalTypeDecl *>(this),",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": null,
          "new_api": "prepareConformanceTable",
          "old_text": null,
          "new_text": "prepareConformanceTable()",
          "old_line_content": "       SmallVectorImpl<ProtocolDecl *> &protocols) {",
          "new_line_content": "  prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": null,
          "new_api": "prepareConformanceTable",
          "old_text": null,
          "new_text": "prepareConformanceTable()",
          "old_line_content": "       ProtocolConformance *conformance) {",
          "new_line_content": "  prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": null,
          "new_api": "getDeclContext",
          "old_text": null,
          "new_text": "member->getDeclContext()->getAsNominalTypeOrNominalTypeExtensionContext()",
          "old_line_content": "                                             bool sorted) const {",
          "new_line_content": "  assert(member->getDeclContext()->getAsNominalTypeOrNominalTypeExtensionContext()",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": null,
          "new_api": "isa<ProtocolDecl>(this)",
          "old_text": null,
          "new_text": "isa<ProtocolDecl>(this)",
          "old_line_content": "           == this);",
          "new_line_content": "  assert(!isa<ProtocolDecl>(this));",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": null,
          "new_api": "isa<GenericTypeParamType>(type)",
          "old_text": null,
          "new_text": "isa<GenericTypeParamType>(type)",
          "old_line_content": "  // Fast path for generic parameters.",
          "new_line_content": "  if (isa<GenericTypeParamType>(type)) {",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": null,
          "new_api": "cast<DependentMemberType>(type)",
          "old_text": null,
          "new_text": "cast<DependentMemberType>(type)",
          "old_line_content": "  // Fast path for dependent member types on 'Self' of our associated types.",
          "new_line_content": "  auto memberType = cast<DependentMemberType>(type);",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": null,
          "new_api": "SubstitutionMap::getProtocolSubstitutions(proto, conformingType, *this)",
          "old_text": null,
          "new_text": "SubstitutionMap::getProtocolSubstitutions(proto, conformingType, *this)",
          "old_line_content": "  auto substMap =",
          "new_line_content": "    SubstitutionMap::getProtocolSubstitutions(proto, conformingType, *this);",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": null,
          "new_api": "getAsNominalTypeOrNominalTypeExtensionContext",
          "old_text": null,
          "new_text": "getAsNominalTypeOrNominalTypeExtensionContext()",
          "old_line_content": "  // Dig out the nominal type.",
          "new_line_content": "  NominalTypeDecl *nominal = getAsNominalTypeOrNominalTypeExtensionContext();",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "prepareConformanceTable",
          "old_text": null,
          "new_text": "nominal->prepareConformanceTable()",
          "old_line_content": "  // Update to record all potential conformances.",
          "new_line_content": "  nominal->prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": null,
          "new_api": "const_cast<DeclContext *>(this)",
          "old_text": null,
          "new_text": "const_cast<DeclContext *>(this)",
          "old_line_content": "    nominal,",
          "new_line_content": "    const_cast<DeclContext *>(this),",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": null,
          "new_api": "isConcrete",
          "old_text": null,
          "new_text": "isConcrete()",
          "old_line_content": "  // If this is a concrete conformance, look up the associated conformance.",
          "new_line_content": "  if (isConcrete()) {",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "result.end()",
          "old_line_content": "  if (sorted) {",
          "new_line_content": "    llvm::array_pod_sort(result.begin(), result.end(),",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": null,
          "new_api": "getRequirement",
          "old_text": null,
          "new_text": "getRequirement()",
          "old_line_content": "  auto subMap =",
          "new_line_content": "    SubstitutionMap::getProtocolSubstitutions(getRequirement(),",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": null,
          "new_api": "ProtocolConformanceRef",
          "old_text": null,
          "new_text": "ProtocolConformanceRef(protocol)",
          "old_line_content": "                                              conformingType, *this);",
          "new_line_content": "  auto abstractConf = ProtocolConformanceRef(protocol);",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": null,
          "new_api": "LookUpConformanceInSubstitutionMap",
          "old_text": null,
          "new_text": "LookUpConformanceInSubstitutionMap(subMap)",
          "old_line_content": "                            QuerySubstitutionMap{subMap},",
          "new_line_content": "                            LookUpConformanceInSubstitutionMap(subMap));",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": null,
          "new_api": "CONFORMANCE_SUBCLASS_DISPATCH",
          "old_text": null,
          "new_text": "CONFORMANCE_SUBCLASS_DISPATCH(getAssociatedConformance,\n                                (assocType, protocol, resolver))",
          "old_line_content": "                                               LazyResolver *resolver) const {",
          "new_line_content": "  CONFORMANCE_SUBCLASS_DISPATCH(getAssociatedConformance,",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": null,
          "new_api": "getAsNominalTypeOrNominalTypeExtensionContext",
          "old_text": null,
          "new_text": "getAsNominalTypeOrNominalTypeExtensionContext()",
          "old_line_content": "  // Dig out the nominal type.",
          "new_line_content": "  NominalTypeDecl *nominal = getAsNominalTypeOrNominalTypeExtensionContext();",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": null,
          "new_api": "isa<ProtocolDecl>(nominal)",
          "old_text": null,
          "new_text": "isa<ProtocolDecl>(nominal)",
          "old_line_content": "  // Protocols don't have conformances.",
          "new_line_content": "  if (isa<ProtocolDecl>(nominal))",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": null,
          "new_api": "isTypeParameter",
          "old_text": null,
          "new_text": "assocType->isTypeParameter()",
          "old_line_content": "                                                LazyResolver *resolver) const {",
          "new_line_content": "  assert(assocType->isTypeParameter() &&",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "getSignatureConformances().empty()",
          "old_line_content": "         \"associated type must be a type parameter\");",
          "new_line_content": "  assert(!getSignatureConformances().empty() &&",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": null,
          "new_api": "prepareConformanceTable",
          "old_text": null,
          "new_text": "nominal->prepareConformanceTable()",
          "old_line_content": "  // Update to record all potential conformances.",
          "new_line_content": "  nominal->prepareConformanceTable();",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": null,
          "new_api": "const_cast<DeclContext *>(this)",
          "old_text": null,
          "new_text": "const_cast<DeclContext *>(this)",
          "old_line_content": "    nominal,",
          "new_line_content": "    const_cast<DeclContext *>(this),",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": null,
          "new_api": "getRequirementSignature",
          "old_text": null,
          "new_text": "getProtocol()->getRequirementSignature()",
          "old_line_content": "  unsigned conformanceIndex = 0;",
          "new_line_content": "  for (const auto &reqt : getProtocol()->getRequirementSignature()) {",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": null,
          "new_api": "getFirstType",
          "old_text": null,
          "new_text": "reqt.getFirstType()->isEqual(assocType)",
          "old_line_content": "      // Is this the conformance we're looking for?",
          "new_line_content": "      if (reqt.getFirstType()->isEqual(assocType) &&",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "result.end()",
          "old_line_content": "  if (sorted) {",
          "new_line_content": "    llvm::array_pod_sort(result.begin(), result.end(),",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\n    \"requested conformance was not a direct requirement of the protocol\")",
          "old_line_content": "",
          "new_line_content": "  llvm_unreachable(",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": null,
          "new_api": "isa<AssociatedTypeDecl>(requirement)",
          "old_text": null,
          "new_text": "isa<AssociatedTypeDecl>(requirement)",
          "old_line_content": "                                              LazyResolver *resolver) const {",
          "new_line_content": "  assert(!isa<AssociatedTypeDecl>(requirement) && \"Request type witness\");",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "getKind()",
          "old_line_content": "  // Normal conformances are always canonical by construction.",
          "new_line_content": "  if (getKind() == ProtocolConformanceKind::Normal)",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": null,
          "new_api": "isCanonical",
          "old_text": null,
          "new_text": "getType()->isCanonical()",
          "old_line_content": "",
          "new_line_content": "  if (!getType()->isCanonical())",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": null,
          "new_api": "resolveLazyInfo",
          "old_text": null,
          "new_text": "resolveLazyInfo()",
          "old_line_content": "  if (Loader)",
          "new_line_content": "    resolveLazyInfo();",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "Mapping.find(requirement)",
          "old_line_content": "",
          "new_line_content": "  auto known = Mapping.find(requirement);",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "getKind()",
          "old_line_content": "",
          "new_line_content": "  switch (getKind()) {",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "Mapping.end()",
          "old_line_content": "  }",
          "new_line_content": "  if (known != Mapping.end()) {",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": null,
          "new_api": "cast<InheritedProtocolConformance>(this)",
          "old_text": null,
          "new_text": "cast<InheritedProtocolConformance>(this)",
          "old_line_content": "    auto inheritedConformance",
          "new_line_content": "      = cast<InheritedProtocolConformance>(this);",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": null,
          "new_api": "isInvalid",
          "old_text": null,
          "new_text": "isInvalid()",
          "old_line_content": "  } else {",
          "new_line_content": "    assert((!isComplete() || isInvalid()) &&",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": null,
          "new_api": "Witness",
          "old_text": null,
          "new_text": "Witness()",
          "old_line_content": "           \"Resolver did not resolve requirement\");",
          "new_line_content": "    return Witness();",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": null,
          "new_api": "cast<SpecializedProtocolConformance>(this)",
          "old_text": null,
          "new_text": "cast<SpecializedProtocolConformance>(this)",
          "old_line_content": "    // Substitute the substitutions in the specialized conformance.",
          "new_line_content": "    auto spec = cast<SpecializedProtocolConformance>(this);",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": null,
          "new_api": "getGenericSubstitutions",
          "old_text": null,
          "new_text": "spec->getGenericSubstitutions()",
          "old_line_content": "      return false;",
          "new_line_content": "    auto specSubs = spec->getGenericSubstitutions();",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": null,
          "new_api": "getWitness",
          "old_text": null,
          "new_text": "getWitness(requirement, resolver)",
          "old_line_content": "                                             LazyResolver *resolver) const {",
          "new_line_content": "  if (auto witness = getWitness(requirement, resolver))",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": null,
          "new_api": "isCanonical",
          "old_text": null,
          "new_text": "sub.isCanonical()",
          "old_line_content": "    for (const auto &sub : specSubs) {",
          "new_line_content": "      if (!sub.isCanonical())",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"bad ProtocolConformanceKind\")",
          "old_line_content": "  }",
          "new_line_content": "  llvm_unreachable(\"bad ProtocolConformanceKind\");",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": null,
          "new_api": "isa<AssociatedTypeDecl>(requirement)",
          "old_text": null,
          "new_text": "isa<AssociatedTypeDecl>(requirement)",
          "old_line_content": "                                           Witness witness) const {",
          "new_line_content": "  assert(!isa<AssociatedTypeDecl>(requirement) && \"Request type witness\");",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "Mapping.count(requirement)",
          "old_line_content": "         \"requirement in wrong protocol\");",
          "new_line_content": "  assert(Mapping.count(requirement) == 0 && \"Witness already known\");",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": null,
          "new_api": "getCanonicalType",
          "old_text": null,
          "new_text": "getReplacement()->getCanonicalType()",
          "old_line_content": "",
          "new_line_content": "  CanType canReplacement = getReplacement()->getCanonicalType();",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": null,
          "new_api": "isCanonical",
          "old_text": null,
          "new_text": "getReplacement()->isCanonical()",
          "old_line_content": "",
          "new_line_content": "  if (!getReplacement()->isCanonical()) {",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": null,
          "new_api": "getConformances",
          "old_text": null,
          "new_text": "getConformances()",
          "old_line_content": "",
          "new_line_content": "  for (auto conf : getConformances()) {",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": null,
          "new_api": "getCanonicalConformanceRef",
          "old_text": null,
          "new_text": "conf.getCanonicalConformanceRef()",
          "old_line_content": "    }",
          "new_line_content": "    newCanConformances.push_back(conf.getCanonicalConformanceRef());",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "genericConformance->getKind()",
          "old_line_content": "{",
          "new_line_content": "  assert(genericConformance->getKind() != ProtocolConformanceKind::Specialized);",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "GenericConformance->getConditionalRequirements().empty()",
          "old_line_content": "",
          "new_line_content": "  if (!GenericConformance->getConditionalRequirements().empty()) {",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": null,
          "new_api": "getConformances",
          "old_text": null,
          "new_text": "getConformances()",
          "old_line_content": "",
          "new_line_content": "  ArrayRef<ProtocolConformanceRef> canConformances = getConformances();",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "canReplacement->getASTContext()",
          "old_line_content": "  if (createdNewCanonicalConformances) {",
          "new_line_content": "    auto &C = canReplacement->getASTContext();",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "GenericConformance->getType()->getAnyNominal()",
          "old_line_content": "    // types.",
          "new_line_content": "    auto nominal = GenericConformance->getType()->getAnyNominal();",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": null,
          "new_api": "getModuleContext",
          "old_text": null,
          "new_text": "nominal->getModuleContext()",
          "old_line_content": "    auto subMap =",
          "new_line_content": "      getType()->getContextSubstitutionMap(nominal->getModuleContext(),",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": null,
          "new_api": "Substitution",
          "old_text": null,
          "new_text": "Substitution(canReplacement, canConformances)",
          "old_line_content": "      *wasCanonical = false;",
          "new_line_content": "    return Substitution(canReplacement, canConformances);",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": null,
          "new_api": "getConditionalRequirements",
          "old_text": null,
          "new_text": "GenericConformance->getConditionalRequirements()",
          "old_line_content": "    SmallVector<Requirement, 4> newReqs;",
          "new_line_content": "    for (auto oldReq : GenericConformance->getConditionalRequirements()) {",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "getProtocol()->getASTContext()",
          "old_line_content": "    }",
          "new_line_content": "    auto &ctxt = getProtocol()->getASTContext();",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": null,
          "new_api": "getGenericSignature",
          "old_text": null,
          "new_text": "GenericConformance->getGenericSignature()",
          "old_line_content": "SubstitutionMap SpecializedProtocolConformance::getSubstitutionMap() const {",
          "new_line_content": "  auto *genericSig = GenericConformance->getGenericSignature();",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": null,
          "new_api": "getSubstitutionMap",
          "old_text": null,
          "new_text": "genericSig->getSubstitutionMap(GenericSubstitutions)",
          "old_line_content": "  if (genericSig)",
          "new_line_content": "    return genericSig->getSubstitutionMap(GenericSubstitutions);",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": null,
          "new_api": "getCanonicalSubstitution",
          "old_text": null,
          "new_text": "sub.getCanonicalSubstitution(&subWasCanonical)",
          "old_line_content": "    bool subWasCanonical = false;",
          "new_line_content": "    auto canSub = sub.getCanonicalSubstitution(&subWasCanonical);",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": null,
          "new_api": "SubstitutionMap",
          "old_text": null,
          "new_text": "SubstitutionMap()",
          "old_line_content": "",
          "new_line_content": "  return SubstitutionMap();",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "canSubs.push_back(canSub)",
          "old_line_content": "      subListWasCanonical = false;",
          "new_line_content": "    canSubs.push_back(canSub);",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "canSubs.clear()",
          "old_line_content": "  if (subListWasCanonical) {",
          "new_line_content": "    canSubs.clear();",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "TypeWitnesses.end()",
          "old_line_content": "                      LazyResolver *resolver) const {",
          "new_line_content": "  return TypeWitnesses.find(assocType) != TypeWitnesses.end() ||",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": null,
          "new_api": "isCanonical",
          "old_text": null,
          "new_text": "isCanonical()",
          "old_line_content": "ProtocolConformance *ProtocolConformance::getCanonicalConformance() {",
          "new_line_content": "  if (isCanonical())",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "TypeWitnesses.find(assocType)",
          "old_line_content": "  // If we've already created this type witness, return it.",
          "new_line_content": "  auto known = TypeWitnesses.find(assocType);",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "getKind()",
          "old_line_content": "",
          "new_line_content": "  switch (getKind()) {",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": null,
          "new_api": "getRootNormalConformance",
          "old_text": null,
          "new_text": "GenericConformance->getRootNormalConformance()",
          "old_line_content": "  // tentative witness that may not be chosen.",
          "new_line_content": "  auto normal = GenericConformance->getRootNormalConformance();",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "getType()->getASTContext()",
          "old_line_content": "  case ProtocolConformanceKind::Inherited: {",
          "new_line_content": "    auto &Ctx = getType()->getASTContext();",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": null,
          "new_api": "getState",
          "old_text": null,
          "new_text": "normal->getState()",
          "old_line_content": "  auto isTentativeWitness = [&] {",
          "new_line_content": "    if (normal->getState() != ProtocolConformanceState::CheckingTypeWitnesses)",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": null,
          "new_api": "hasTypeWitness",
          "old_text": null,
          "new_text": "normal->hasTypeWitness(assocType, nullptr)",
          "old_line_content": "",
          "new_line_content": "    return !normal->hasTypeWitness(assocType, nullptr);",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": null,
          "new_api": "getTypeWitnessAndDecl",
          "old_text": null,
          "new_text": "GenericConformance->getTypeWitnessAndDecl(assocType, resolver, options)",
          "old_line_content": "  auto genericWitnessAndDecl",
          "new_line_content": "    = GenericConformance->getTypeWitnessAndDecl(assocType, resolver, options);",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "getType()->getASTContext()",
          "old_line_content": "  case ProtocolConformanceKind::Specialized: {",
          "new_line_content": "    auto &Ctx = getType()->getASTContext();",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": null,
          "new_api": "cast<SpecializedProtocolConformance>(this)",
          "old_text": null,
          "new_text": "cast<SpecializedProtocolConformance>(this)",
          "old_line_content": "    // Substitute the substitutions in the specialized conformance.",
          "new_line_content": "    auto spec = cast<SpecializedProtocolConformance>(this);",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": null,
          "new_api": "Type",
          "old_text": null,
          "new_text": "Type()",
          "old_line_content": "  if (!genericWitness)",
          "new_line_content": "    return { Type(), nullptr };",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": null,
          "new_api": "getCanonicalSubstitutionList",
          "old_text": null,
          "new_text": "getCanonicalSubstitutionList(specSubs, newSpecSubs)",
          "old_line_content": "    SmallVector<Substitution, 4> newSpecSubs;",
          "new_line_content": "    auto canSpecSubs = getCanonicalSubstitutionList(specSubs, newSpecSubs);",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": null,
          "new_api": "getSubstitutionMap",
          "old_text": null,
          "new_text": "getSubstitutionMap()",
          "old_line_content": "  // Form the substitution.",
          "new_line_content": "  auto substitutionMap = getSubstitutionMap();",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"bad ProtocolConformanceKind\")",
          "old_line_content": "  }",
          "new_line_content": "  llvm_unreachable(\"bad ProtocolConformanceKind\");",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "genericWitness.subst(substitutionMap, options)",
          "old_line_content": "  // Apply the substitution we computed above",
          "new_line_content": "  auto specializedType = genericWitness.subst(substitutionMap, options);",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "isTentativeWitness",
          "old_text": null,
          "new_text": "isTentativeWitness()",
          "old_line_content": "  if (!specializedType) {",
          "new_line_content": "    if (isTentativeWitness())",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": null,
          "new_api": "isAbstract",
          "old_text": null,
          "new_text": "isAbstract()",
          "old_line_content": "bool ProtocolConformanceRef::isCanonical() const {",
          "new_line_content": "  if (isAbstract())",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": null,
          "new_api": "ErrorType::get(genericWitness)",
          "old_text": null,
          "new_text": "ErrorType::get(genericWitness)",
          "old_line_content": "",
          "new_line_content": "    specializedType = ErrorType::get(genericWitness);",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": null,
          "new_api": "isCanonical",
          "old_text": null,
          "new_text": "getConcrete()->isCanonical()",
          "old_line_content": "    return true;",
          "new_line_content": "  return getConcrete()->isCanonical();",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": null,
          "new_api": "std::make_pair(specializedType, typeDecl)",
          "old_text": null,
          "new_text": "std::make_pair(specializedType, typeDecl)",
          "old_line_content": "  // information, cache the result.",
          "new_line_content": "  auto specializedWitnessAndDecl = std::make_pair(specializedType, typeDecl);",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "isAbstract",
          "old_text": null,
          "new_text": "isAbstract()",
          "old_line_content": "ProtocolConformanceRef::getCanonicalConformanceRef() const {",
          "new_line_content": "  if (isAbstract())",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": null,
          "new_api": "getCanonicalConformance",
          "old_text": null,
          "new_text": "getConcrete()->getCanonicalConformance()",
          "old_line_content": "    return *this;",
          "new_line_content": "  return ProtocolConformanceRef(getConcrete()->getCanonicalConformance());",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": null,
          "new_api": "getAssociatedConformance",
          "old_text": null,
          "new_text": "GenericConformance->getAssociatedConformance(assocType, protocol, resolver)",
          "old_line_content": "  ProtocolConformanceRef conformance =",
          "new_line_content": "    GenericConformance->getAssociatedConformance(assocType, protocol, resolver);",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": null,
          "new_api": "getSubstitutionMap",
          "old_text": null,
          "new_text": "getSubstitutionMap()",
          "old_line_content": "",
          "new_line_content": "  auto subMap = getSubstitutionMap();",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "isConcrete",
          "old_text": null,
          "new_text": "conformance.isConcrete()",
          "old_line_content": "  Type origType =",
          "new_line_content": "    (conformance.isConcrete()",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "conformance.subst(origType,\n                           QuerySubstitutionMap{subMap},\n                           LookUpConformanceInSubstitutionMap(subMap))",
          "old_line_content": "",
          "new_line_content": "  return conformance.subst(origType,",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": null,
          "new_api": "LookUpConformanceInSubstitutionMap",
          "old_text": null,
          "new_text": "LookUpConformanceInSubstitutionMap(subMap)",
          "old_line_content": "                           QuerySubstitutionMap{subMap},",
          "new_line_content": "                           LookUpConformanceInSubstitutionMap(subMap));",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": null,
          "new_api": "getWitnessDeclRef",
          "old_text": null,
          "new_text": "GenericConformance->getWitnessDeclRef(requirement, resolver)",
          "old_line_content": "                                                  LazyResolver *resolver) const {",
          "new_line_content": "  auto baseWitness = GenericConformance->getWitnessDeclRef(requirement, resolver);",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "getSubstitutionMap",
          "old_text": null,
          "new_text": "getSubstitutionMap()",
          "old_line_content": "",
          "new_line_content": "  auto specializationMap = getSubstitutionMap();",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": null,
          "new_api": "getDecl",
          "old_text": null,
          "new_text": "baseWitness.getDecl()",
          "old_line_content": "",
          "new_line_content": "  auto witnessDecl = baseWitness.getDecl();",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": null,
          "new_api": "getInnermostDeclContext",
          "old_text": null,
          "new_text": "witnessDecl->getInnermostDeclContext()->getGenericSignatureOfContext()",
          "old_line_content": "  auto witnessSig =",
          "new_line_content": "    witnessDecl->getInnermostDeclContext()->getGenericSignatureOfContext();",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": null,
          "new_api": "getSubstitutions",
          "old_text": null,
          "new_text": "baseWitness.getSubstitutions()",
          "old_line_content": "  auto witnessMap =",
          "new_line_content": "    witnessSig->getSubstitutionMap(baseWitness.getSubstitutions());",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "witnessMap.subst(specializationMap)",
          "old_line_content": "",
          "new_line_content": "  auto combinedMap = witnessMap.subst(specializationMap);",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": null,
          "new_api": "getSubstitutions",
          "old_text": null,
          "new_text": "witnessSig->getSubstitutions(combinedMap, substSubs)",
          "old_line_content": "  SmallVector<Substitution, 4> substSubs;",
          "new_line_content": "  witnessSig->getSubstitutions(combinedMap, substSubs);",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": null,
          "new_api": "getSubstitutions",
          "old_text": null,
          "new_text": "baseWitness.getSubstitutions()",
          "old_line_content": "  // Fast path if the substitutions didn't change.",
          "new_line_content": "  if (SubstitutionList(substSubs) == baseWitness.getSubstitutions())",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": null,
          "new_api": "getASTContext",
          "old_text": null,
          "new_text": "witnessDecl->getASTContext()",
          "old_line_content": "",
          "new_line_content": "  return ConcreteDeclRef(witnessDecl->getASTContext(), witnessDecl, substSubs);",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "getAssociatedConformance",
          "old_text": null,
          "new_text": "InheritedConformance->getAssociatedConformance(assocType, protocol,\n                                                   resolver)",
          "old_line_content": "  auto underlying =",
          "new_line_content": "    InheritedConformance->getAssociatedConformance(assocType, protocol,",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "isConcrete",
          "old_text": null,
          "new_text": "underlying.isConcrete()",
          "old_line_content": "  // If the conformance is for Self, return an inherited conformance.",
          "new_line_content": "  if (underlying.isConcrete() &&",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": null,
          "new_api": "getWitnessDeclRef",
          "old_text": null,
          "new_text": "InheritedConformance->getWitnessDeclRef(requirement, resolver)",
          "old_line_content": "  // FIXME: substitutions?",
          "new_line_content": "  return InheritedConformance->getWitnessDeclRef(requirement, resolver);",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": null,
          "new_api": "isa<NormalProtocolConformance>(C)",
          "old_text": null,
          "new_text": "isa<NormalProtocolConformance>(C)",
          "old_line_content": "  const ProtocolConformance *C = this;",
          "new_line_content": "  while (!isa<NormalProtocolConformance>(C)) {",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"should have broken out of loop\")",
          "old_line_content": "    case ProtocolConformanceKind::Normal:",
          "new_line_content": "      llvm_unreachable(\"should have broken out of loop\");",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": null,
          "new_api": "getInheritedConformance",
          "old_text": null,
          "new_text": "cast<InheritedProtocolConformance>(C)\n          ->getInheritedConformance()",
          "old_line_content": "    case ProtocolConformanceKind::Inherited:",
          "new_line_content": "      C = cast<InheritedProtocolConformance>(C)",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": null,
          "new_api": "getGenericConformance",
          "old_text": null,
          "new_text": "cast<SpecializedProtocolConformance>(C)\n        ->getGenericConformance()",
          "old_line_content": "    case ProtocolConformanceKind::Specialized:",
          "new_line_content": "      C = cast<SpecializedProtocolConformance>(C)",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": null,
          "new_api": "cast<NormalProtocolConformance>(C)",
          "old_text": null,
          "new_text": "cast<NormalProtocolConformance>(C)",
          "old_line_content": "  }",
          "new_line_content": "  return cast<NormalProtocolConformance>(C);",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": null,
          "new_api": "getDeclContext",
          "old_text": null,
          "new_text": "getRootNormalConformance()->getDeclContext()->isGenericContext()",
          "old_line_content": "bool ProtocolConformance::witnessTableAccessorRequiresArguments() const {",
          "new_line_content": "  return getRootNormalConformance()->getDeclContext()->isGenericContext();",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "substType->getAs<DynamicSelfType>()",
          "old_text": null,
          "new_text": "substType->getAs<DynamicSelfType>()",
          "old_line_content": "  // we should do the same here.",
          "new_line_content": "  if (auto selfType = substType->getAs<DynamicSelfType>())",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": null,
          "new_api": "isEqual",
          "old_text": null,
          "new_text": "getType()->isEqual(substType)",
          "old_line_content": "",
          "new_line_content": "  if (getType()->isEqual(substType))",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": null,
          "new_api": "getKind",
          "old_text": null,
          "new_text": "getKind()",
          "old_line_content": "  ",
          "new_line_content": "  switch (getKind()) {",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": null,
          "new_api": "isSpecialized",
          "old_text": null,
          "new_text": "substType->isSpecialized()",
          "old_line_content": "  case ProtocolConformanceKind::Normal: {",
          "new_line_content": "    if (substType->isSpecialized()) {",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": null,
          "new_api": "getNominalOrBoundGenericNominal",
          "old_text": null,
          "new_text": "getType()->getNominalOrBoundGenericNominal()",
          "old_line_content": "             && \"substitution mapped non-specialized to specialized?!\");",
          "new_line_content": "      assert(getType()->getNominalOrBoundGenericNominal()",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": null,
          "new_api": "getGenericSignature",
          "old_text": null,
          "new_text": "getGenericSignature()",
          "old_line_content": "      SubstitutionMap subMap;",
          "new_line_content": "      if (getGenericSignature()) {",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": null,
          "new_api": "getSpecializedConformance",
          "old_text": null,
          "new_text": "substType->getASTContext()\n        .getSpecializedConformance(substType,\n                                   const_cast<ProtocolConformance *>(this),\n                                   subMap)",
          "old_line_content": "",
          "new_line_content": "      return substType->getASTContext()",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": null,
          "new_api": "const_cast<ProtocolConformance *>(this)",
          "old_text": null,
          "new_text": "const_cast<ProtocolConformance *>(this)",
          "old_line_content": "        .getSpecializedConformance(substType,",
          "new_line_content": "                                   const_cast<ProtocolConformance *>(this),",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "getType()",
          "old_line_content": "",
          "new_line_content": "    assert(substType->isEqual(getType())",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": null,
          "new_api": "const_cast<ProtocolConformance *>(this)",
          "old_text": null,
          "new_text": "const_cast<ProtocolConformance *>(this)",
          "old_line_content": "           && \"substitution changed non-specialized type?!\");",
          "new_line_content": "    return const_cast<ProtocolConformance *>(this);",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": null,
          "new_api": "getInheritedConformance",
          "old_text": null,
          "new_text": "cast<InheritedProtocolConformance>(this)->getInheritedConformance()",
          "old_line_content": "    auto inheritedConformance",
          "new_line_content": "      = cast<InheritedProtocolConformance>(this)->getInheritedConformance();",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "inheritedConformance->getType()->isSpecialized()",
          "old_line_content": "    ProtocolConformance *newBase;",
          "new_line_content": "    if (inheritedConformance->getType()->isSpecialized()) {",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "inheritedConformance->getType()->getClassOrBoundGenericClass()",
          "old_line_content": "      auto targetClass =",
          "new_line_content": "        inheritedConformance->getType()->getClassOrBoundGenericClass();",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "inheritedConformance->subst(superclassType, subs, conformances)",
          "old_line_content": "      // Substitute into the superclass.",
          "new_line_content": "      newBase = inheritedConformance->subst(superclassType, subs, conformances);",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": null,
          "new_api": "getInheritedConformance",
          "old_text": null,
          "new_text": "substType->getASTContext()\n      .getInheritedConformance(substType, newBase)",
          "old_line_content": "",
          "new_line_content": "    return substType->getASTContext()",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": null,
          "new_api": "cast<SpecializedProtocolConformance>(this)",
          "old_text": null,
          "new_text": "cast<SpecializedProtocolConformance>(this)",
          "old_line_content": "    // Substitute the substitutions in the specialized conformance.",
          "new_line_content": "    auto spec = cast<SpecializedProtocolConformance>(this);",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": null,
          "new_api": "getSpecializedConformance",
          "old_text": null,
          "new_text": "substType->getASTContext()\n      .getSpecializedConformance(substType, genericConformance,\n                                 subMap.subst(subs, conformances))",
          "old_line_content": "",
          "new_line_content": "    return substType->getASTContext()",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": null,
          "new_api": "subst",
          "old_text": null,
          "new_text": "subMap.subst(subs, conformances)",
          "old_line_content": "      .getSpecializedConformance(substType, genericConformance,",
          "new_line_content": "                                 subMap.subst(subs, conformances));",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"bad ProtocolConformanceKind\")",
          "old_line_content": "  }",
          "new_line_content": "  llvm_unreachable(\"bad ProtocolConformanceKind\");",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": null,
          "new_api": "getSelfInterfaceType",
          "old_text": null,
          "new_text": "getProtocol()->getSelfInterfaceType()",
          "old_line_content": "  auto result =",
          "new_line_content": "    getAssociatedConformance(getProtocol()->getSelfInterfaceType(), protocol);",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": null,
          "new_api": "const_cast<NominalTypeDecl *>(this)",
          "old_text": null,
          "new_text": "const_cast<NominalTypeDecl *>(this)",
          "old_line_content": "",
          "new_line_content": "  auto mutableThis = const_cast<NominalTypeDecl *>(this);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1025,
          "old_api": "getLazyResolver",
          "new_api": null,
          "old_text": "ctx.getLazyResolver()",
          "new_text": null,
          "old_line_content": "  auto resolver = ctx.getLazyResolver();",
          "new_line_content": "  ConformanceTable = new (ctx) ConformanceLookupTable(ctx, mutableThis,",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "file->getKind()",
          "new_text": null,
          "old_line_content": "      file->getKind() != FileUnitKind::ClangModule) {",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": "insert",
          "new_api": null,
          "old_text": "protocols.insert(proto)",
          "new_text": null,
          "old_line_content": "        protocols.insert(proto);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "getProtocolKind",
          "new_api": null,
          "old_text": "attr->getProtocolKind()",
          "new_text": null,
          "old_line_content": "    addSynthesized(attr->getProtocolKind());",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": "hasOnlyCasesWithoutAssociatedValues",
          "new_api": null,
          "old_text": "theEnum->hasOnlyCasesWithoutAssociatedValues()",
          "new_text": null,
          "old_line_content": "    if (theEnum->hasCases() && theEnum->hasOnlyCasesWithoutAssociatedValues()) {",
          "new_line_content": "      // Simple enumerations conform to Equatable.",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "addSynthesized",
          "new_api": null,
          "old_text": "addSynthesized(KnownProtocolKind::Equatable)",
          "new_text": null,
          "old_line_content": "      addSynthesized(KnownProtocolKind::Equatable);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": "addSynthesized",
          "new_api": null,
          "old_text": "addSynthesized(KnownProtocolKind::Hashable)",
          "new_text": null,
          "old_line_content": "      addSynthesized(KnownProtocolKind::Hashable);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "addSynthesized",
          "new_api": null,
          "old_text": "addSynthesized(KnownProtocolKind::RawRepresentable)",
          "new_text": null,
          "old_line_content": "      addSynthesized(KnownProtocolKind::RawRepresentable);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": "getLazyResolver",
          "new_api": null,
          "old_text": "ConformanceTable->lookupConformance(\n           module,\n           const_cast<NominalTypeDecl *>(this),\n           protocol,\n           getASTContext().getLazyResolver(),\n           conformances)",
          "new_text": null,
          "old_line_content": "  return ConformanceTable->lookupConformance(",
          "new_line_content": "           module,",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": "const_cast<NominalTypeDecl *>(this)",
          "new_api": null,
          "old_text": "const_cast<NominalTypeDecl *>(this)",
          "new_text": null,
          "old_line_content": "           const_cast<NominalTypeDecl *>(this),",
          "new_line_content": "           protocol,",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": "getLazyResolver",
          "new_api": null,
          "old_text": "getASTContext().getLazyResolver()",
          "new_text": null,
          "old_line_content": "           getASTContext().getLazyResolver(),",
          "new_line_content": "           conformances);",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "prepareConformanceTable",
          "new_api": null,
          "old_text": "prepareConformanceTable()",
          "new_text": null,
          "old_line_content": "  prepareConformanceTable();",
          "new_line_content": "  SmallVector<ProtocolDecl *, 2> result;",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "getLazyResolver",
          "new_api": null,
          "old_text": "getASTContext().getLazyResolver()",
          "new_text": null,
          "old_line_content": "                                    getASTContext().getLazyResolver(),",
          "new_line_content": "                                    result);",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": "prepareConformanceTable",
          "new_api": null,
          "old_text": "prepareConformanceTable()",
          "new_text": null,
          "old_line_content": "  prepareConformanceTable();",
          "new_line_content": "  SmallVector<ProtocolConformance *, 2> result;",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "getLazyResolver",
          "new_api": null,
          "old_text": "getASTContext().getLazyResolver()",
          "new_text": null,
          "old_line_content": "                                       getASTContext().getLazyResolver(),",
          "new_line_content": "                                       sorted,",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": "getImplicitProtocols",
          "new_api": null,
          "old_text": "ConformanceTable->getImplicitProtocols(this, protocols)",
          "new_text": null,
          "old_line_content": "  ConformanceTable->getImplicitProtocols(this, protocols);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "registerProtocolConformance",
          "new_api": null,
          "old_text": "ConformanceTable->registerProtocolConformance(conformance)",
          "new_text": null,
          "old_line_content": "  ConformanceTable->registerProtocolConformance(conformance);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": "getDeclContext",
          "new_api": null,
          "old_text": "member->getDeclContext()->getAsNominalTypeOrNominalTypeExtensionContext()",
          "new_text": null,
          "old_line_content": "  assert(member->getDeclContext()->getAsNominalTypeOrNominalTypeExtensionContext()",
          "new_line_content": "           == this);",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "getSelfInterfaceType",
          "new_api": null,
          "old_text": "proto->getSelfInterfaceType()",
          "new_text": null,
          "old_line_content": "    assert(type->isEqual(proto->getSelfInterfaceType()) &&",
          "new_line_content": "           \"type parameter in protocol was not Self\");",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "getLazyResolver",
          "new_api": null,
          "old_text": "getASTContext().getLazyResolver()",
          "new_text": null,
          "old_line_content": "                                           getASTContext().getLazyResolver(),",
          "new_line_content": "                                           sorted);",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "getType",
          "new_api": null,
          "old_text": "getType()",
          "new_text": null,
          "old_line_content": "    return getType();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "getAsNominalTypeOrNominalTypeExtensionContext",
          "new_api": null,
          "old_text": "getAsNominalTypeOrNominalTypeExtensionContext()",
          "new_text": null,
          "old_line_content": "  NominalTypeDecl *nominal = getAsNominalTypeOrNominalTypeExtensionContext();",
          "new_line_content": "  if (!nominal)",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "subst",
          "new_api": null,
          "old_text": "type.subst(substMap)",
          "new_text": null,
          "old_line_content": "  return type.subst(substMap);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "getLazyResolver",
          "new_api": null,
          "old_text": "nominal->ConformanceTable->lookupConformances(\n    nominal,\n    const_cast<DeclContext *>(this),\n    getASTContext().getLazyResolver(),\n    lookupKind,\n    &result,\n    nullptr,\n    diagnostics)",
          "new_text": null,
          "old_line_content": "  nominal->ConformanceTable->lookupConformances(",
          "new_line_content": "    nominal,",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": "getLazyResolver",
          "new_api": null,
          "old_text": "getASTContext().getLazyResolver()",
          "new_text": null,
          "old_line_content": "    getASTContext().getLazyResolver(),",
          "new_line_content": "    lookupKind,",
          "content_same": false
        },
        {
          "line": 642,
          "old_api": "getAssociatedConformance",
          "new_api": null,
          "old_text": "conformance->getAssociatedConformance(assocType, protocol, resolver)",
          "new_text": null,
          "old_line_content": "    return conformance->getAssociatedConformance(assocType, protocol, resolver);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "end",
          "new_api": null,
          "old_text": "result.end()",
          "new_text": null,
          "old_line_content": "    llvm::array_pod_sort(result.begin(), result.end(),",
          "new_line_content": "                         &ProtocolType::compareProtocols);",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "getRequirement",
          "new_api": null,
          "old_text": "getRequirement()",
          "new_text": null,
          "old_line_content": "    SubstitutionMap::getProtocolSubstitutions(getRequirement(),",
          "new_line_content": "                                              conformingType, *this);",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "subst",
          "new_api": null,
          "old_text": "abstractConf.subst(assocType,\n                            QuerySubstitutionMap{subMap},\n                            LookUpConformanceInSubstitutionMap(subMap))",
          "new_text": null,
          "old_line_content": "  return abstractConf.subst(assocType,",
          "new_line_content": "                            QuerySubstitutionMap{subMap},",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": "LookUpConformanceInSubstitutionMap",
          "new_api": null,
          "old_text": "LookUpConformanceInSubstitutionMap(subMap)",
          "new_text": null,
          "old_line_content": "                            LookUpConformanceInSubstitutionMap(subMap));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "CONFORMANCE_SUBCLASS_DISPATCH",
          "new_api": null,
          "old_text": "CONFORMANCE_SUBCLASS_DISPATCH(getAssociatedConformance,\n                                (assocType, protocol, resolver))",
          "new_text": null,
          "old_line_content": "  CONFORMANCE_SUBCLASS_DISPATCH(getAssociatedConformance,",
          "new_line_content": "                                (assocType, protocol, resolver))",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "getAsNominalTypeOrNominalTypeExtensionContext",
          "new_api": null,
          "old_text": "getAsNominalTypeOrNominalTypeExtensionContext()",
          "new_text": null,
          "old_line_content": "  NominalTypeDecl *nominal = getAsNominalTypeOrNominalTypeExtensionContext();",
          "new_line_content": "  if (!nominal)",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "isa<ProtocolDecl>(nominal)",
          "new_api": null,
          "old_text": "isa<ProtocolDecl>(nominal)",
          "new_text": null,
          "old_line_content": "  if (isa<ProtocolDecl>(nominal))",
          "new_line_content": "    return { };",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": "isTypeParameter",
          "new_api": null,
          "old_text": "assocType->isTypeParameter()",
          "new_text": null,
          "old_line_content": "  assert(assocType->isTypeParameter() &&",
          "new_line_content": "         \"associated type must be a type parameter\");",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": "empty",
          "new_api": null,
          "old_text": "getSignatureConformances().empty()",
          "new_text": null,
          "old_line_content": "  assert(!getSignatureConformances().empty() &&",
          "new_line_content": "         \"signature conformances not yet computed\");",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": "getLazyResolver",
          "new_api": null,
          "old_text": "nominal->ConformanceTable->lookupConformances(\n    nominal,\n    const_cast<DeclContext *>(this),\n    nominal->getASTContext().getLazyResolver(),\n    lookupKind,\n    nullptr,\n    &result,\n    diagnostics)",
          "new_text": null,
          "old_line_content": "  nominal->ConformanceTable->lookupConformances(",
          "new_line_content": "    nominal,",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "getLazyResolver",
          "new_api": null,
          "old_text": "nominal->getASTContext().getLazyResolver()",
          "new_text": null,
          "old_line_content": "    nominal->getASTContext().getLazyResolver(),",
          "new_line_content": "    lookupKind,",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "reqt.getKind()",
          "new_text": null,
          "old_line_content": "    if (reqt.getKind() == RequirementKind::Conformance) {",
          "new_line_content": "      // Is this the conformance we're looking for?",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": "getSignatureConformances",
          "new_api": null,
          "old_text": "getSignatureConformances()",
          "new_text": null,
          "old_line_content": "        return getSignatureConformances()[conformanceIndex];",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "end",
          "new_api": null,
          "old_text": "result.end()",
          "new_text": null,
          "old_line_content": "    llvm::array_pod_sort(result.begin(), result.end(),",
          "new_line_content": "                         &ConformanceLookupTable::compareProtocolConformances);",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\n    \"requested conformance was not a direct requirement of the protocol\")",
          "new_text": null,
          "old_line_content": "  llvm_unreachable(",
          "new_line_content": "    \"requested conformance was not a direct requirement of the protocol\");",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "getKind()",
          "new_text": null,
          "old_line_content": "  if (getKind() == ProtocolConformanceKind::Normal)",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": "isProtocolRequirement",
          "new_api": null,
          "old_text": "requirement->isProtocolRequirement()",
          "new_text": null,
          "old_line_content": "  assert(requirement->isProtocolRequirement() && \"Not a requirement\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": "isCanonical",
          "new_api": null,
          "old_text": "getType()->isCanonical()",
          "new_text": null,
          "old_line_content": "  if (!getType()->isCanonical())",
          "new_line_content": "    return false;",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": "resolveLazyInfo",
          "new_api": null,
          "old_text": "resolveLazyInfo()",
          "new_text": null,
          "old_line_content": "    resolveLazyInfo();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "getKind()",
          "new_text": null,
          "old_line_content": "  switch (getKind()) {",
          "new_line_content": "  case ProtocolConformanceKind::Normal: {",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": "find",
          "new_api": null,
          "old_text": "Mapping.find(requirement)",
          "new_text": null,
          "old_line_content": "    known = Mapping.find(requirement);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "end",
          "new_api": null,
          "old_text": "Mapping.end()",
          "new_text": null,
          "old_line_content": "  if (known != Mapping.end()) {",
          "new_line_content": "    return known->second;",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": "getInheritedConformance",
          "new_api": null,
          "old_text": "inheritedConformance->getInheritedConformance()->isCanonical()",
          "new_text": null,
          "old_line_content": "    return inheritedConformance->getInheritedConformance()->isCanonical();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": "isInvalid",
          "new_api": null,
          "old_text": "isInvalid()",
          "new_text": null,
          "old_line_content": "    assert((!isComplete() || isInvalid()) &&",
          "new_line_content": "           \"Resolver did not resolve requirement\");",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": "Witness",
          "new_api": null,
          "old_text": "Witness()",
          "new_text": null,
          "old_line_content": "    return Witness();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": "isCanonical",
          "new_api": null,
          "old_text": "genericConformance->isCanonical()",
          "new_text": null,
          "old_line_content": "    if (!genericConformance->isCanonical())",
          "new_line_content": "      return false;",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "getGenericSubstitutions",
          "new_api": null,
          "old_text": "spec->getGenericSubstitutions()",
          "new_text": null,
          "old_line_content": "    auto specSubs = spec->getGenericSubstitutions();",
          "new_line_content": "    for (const auto &sub : specSubs) {",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": "isCanonical",
          "new_api": null,
          "old_text": "sub.isCanonical()",
          "new_text": null,
          "old_line_content": "      if (!sub.isCanonical())",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 719,
          "old_api": "ConcreteDeclRef",
          "new_api": null,
          "old_text": "ConcreteDeclRef()",
          "new_text": null,
          "old_line_content": "  return ConcreteDeclRef();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"bad ProtocolConformanceKind\")",
          "new_text": null,
          "old_line_content": "  llvm_unreachable(\"bad ProtocolConformanceKind\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": "getDeclContext",
          "new_api": null,
          "old_text": "requirement->getDeclContext()",
          "new_text": null,
          "old_line_content": "  assert(getProtocol() == cast<ProtocolDecl>(requirement->getDeclContext()) &&",
          "new_line_content": "         \"requirement in wrong protocol\");",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "requirement->getASTContext()",
          "new_text": null,
          "old_line_content": "                                        requirement->getASTContext())) &&",
          "new_line_content": "         \"Conformance already complete?\");",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": "getCanonicalType",
          "new_api": null,
          "old_text": "getReplacement()->getCanonicalType()",
          "new_text": null,
          "old_line_content": "  CanType canReplacement = getReplacement()->getCanonicalType();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": "isCanonical",
          "new_api": null,
          "old_text": "getReplacement()->isCanonical()",
          "new_text": null,
          "old_line_content": "  if (!getReplacement()->isCanonical()) {",
          "new_line_content": "    createdCanReplacement = true;",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "newCanConformances.push_back(conf)",
          "new_text": null,
          "old_line_content": "      newCanConformances.push_back(conf);",
          "new_line_content": "      continue;",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": "getCanonicalConformanceRef",
          "new_api": null,
          "old_text": "conf.getCanonicalConformanceRef()",
          "new_text": null,
          "old_line_content": "    newCanConformances.push_back(conf.getCanonicalConformanceRef());",
          "new_line_content": "    createdNewCanonicalConformances = true;",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "genericConformance->getKind()",
          "new_text": null,
          "old_line_content": "  assert(genericConformance->getKind() != ProtocolConformanceKind::Specialized);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": "empty",
          "new_api": null,
          "old_text": "GenericConformance->getConditionalRequirements().empty()",
          "new_text": null,
          "old_line_content": "  if (!GenericConformance->getConditionalRequirements().empty()) {",
          "new_line_content": "    // Substitute the conditional requirements so that they're phrased in",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "getConformances",
          "new_api": null,
          "old_text": "getConformances()",
          "new_text": null,
          "old_line_content": "  ArrayRef<ProtocolConformanceRef> canConformances = getConformances();",
          "new_line_content": "  if (createdNewCanonicalConformances) {",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": "AllocateCopy",
          "new_api": null,
          "old_text": "C.AllocateCopy(newCanConformances)",
          "new_text": null,
          "old_line_content": "    canConformances = C.AllocateCopy(newCanConformances);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "getType",
          "new_api": null,
          "old_text": "GenericConformance->getType()->getAnyNominal()",
          "new_text": null,
          "old_line_content": "    auto nominal = GenericConformance->getType()->getAnyNominal();",
          "new_line_content": "    auto subMap =",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": "getModuleContext",
          "new_api": null,
          "old_text": "nominal->getModuleContext()",
          "new_text": null,
          "old_line_content": "      getType()->getContextSubstitutionMap(nominal->getModuleContext(),",
          "new_line_content": "                                           nominal);",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "Substitution",
          "new_api": null,
          "old_text": "Substitution(canReplacement, canConformances)",
          "new_text": null,
          "old_line_content": "    return Substitution(canReplacement, canConformances);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "newReqs.push_back(*newReq)",
          "new_text": null,
          "old_line_content": "        newReqs.push_back(*newReq);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": "AllocateCopy",
          "new_api": null,
          "old_text": "ctxt.AllocateCopy(newReqs)",
          "new_text": null,
          "old_line_content": "    ConditionalRequirements = ctxt.AllocateCopy(newReqs);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": "getGenericSignature",
          "new_api": null,
          "old_text": "GenericConformance->getGenericSignature()",
          "new_text": null,
          "old_line_content": "  auto *genericSig = GenericConformance->getGenericSignature();",
          "new_line_content": "  if (genericSig)",
          "content_same": false
        },
        {
          "line": 768,
          "old_api": "getSubstitutionMap",
          "new_api": null,
          "old_text": "genericSig->getSubstitutionMap(GenericSubstitutions)",
          "new_text": null,
          "old_line_content": "    return genericSig->getSubstitutionMap(GenericSubstitutions);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": "getCanonicalSubstitution",
          "new_api": null,
          "old_text": "sub.getCanonicalSubstitution(&subWasCanonical)",
          "new_text": null,
          "old_line_content": "    auto canSub = sub.getCanonicalSubstitution(&subWasCanonical);",
          "new_line_content": "    if (!subWasCanonical)",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": "SubstitutionMap",
          "new_api": null,
          "old_text": "SubstitutionMap()",
          "new_text": null,
          "old_line_content": "  return SubstitutionMap();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1283,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "canSubs.push_back(canSub)",
          "new_text": null,
          "old_line_content": "    canSubs.push_back(canSub);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": "clear",
          "new_api": null,
          "old_text": "canSubs.clear()",
          "new_text": null,
          "old_line_content": "    canSubs.clear();",
          "new_line_content": "    return subs;",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": "hasTypeWitness",
          "new_api": null,
          "old_text": "GenericConformance->hasTypeWitness(assocType, resolver)",
          "new_text": null,
          "old_line_content": "         GenericConformance->hasTypeWitness(assocType, resolver);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": "isCanonical",
          "new_api": null,
          "old_text": "isCanonical()",
          "new_text": null,
          "old_line_content": "  if (isCanonical())",
          "new_line_content": "    return this;",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "end",
          "new_api": null,
          "old_text": "TypeWitnesses.end()",
          "new_text": null,
          "old_line_content": "  if (known != TypeWitnesses.end()) {",
          "new_line_content": "    return known->second;",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "getKind()",
          "new_text": null,
          "old_line_content": "  switch (getKind()) {",
          "new_line_content": "  case ProtocolConformanceKind::Normal: {",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": "getRootNormalConformance",
          "new_api": null,
          "old_text": "GenericConformance->getRootNormalConformance()",
          "new_text": null,
          "old_line_content": "  auto normal = GenericConformance->getRootNormalConformance();",
          "new_line_content": "  auto isTentativeWitness = [&] {",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": "getState",
          "new_api": null,
          "old_text": "normal->getState()",
          "new_text": null,
          "old_line_content": "    if (normal->getState() != ProtocolConformanceState::CheckingTypeWitnesses)",
          "new_line_content": "      return false;",
          "content_same": false
        },
        {
          "line": 1311,
          "old_api": "getInheritedConformance",
          "new_api": null,
          "old_text": "inheritedConformance->getInheritedConformance()\n            ->getCanonicalConformance()",
          "new_text": null,
          "old_line_content": "        inheritedConformance->getInheritedConformance()",
          "new_line_content": "            ->getCanonicalConformance());",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": "hasTypeWitness",
          "new_api": null,
          "old_text": "normal->hasTypeWitness(assocType, nullptr)",
          "new_text": null,
          "old_line_content": "    return !normal->hasTypeWitness(assocType, nullptr);",
          "new_line_content": "  };",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": "getTypeWitnessAndDecl",
          "new_api": null,
          "old_text": "GenericConformance->getTypeWitnessAndDecl(assocType, resolver, options)",
          "new_text": null,
          "old_line_content": "    = GenericConformance->getTypeWitnessAndDecl(assocType, resolver, options);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "getType()->getASTContext()",
          "new_text": null,
          "old_line_content": "    auto &Ctx = getType()->getASTContext();",
          "new_line_content": "    // Substitute the substitutions in the specialized conformance.",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": "Type",
          "new_api": null,
          "old_text": "Type()",
          "new_text": null,
          "old_line_content": "    return { Type(), nullptr };",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": "getGenericSubstitutions",
          "new_api": null,
          "old_text": "spec->getGenericSubstitutions()",
          "new_text": null,
          "old_line_content": "    auto specSubs = spec->getGenericSubstitutions();",
          "new_line_content": "    SmallVector<Substitution, 4> newSpecSubs;",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": "AllocateCopy",
          "new_api": null,
          "old_text": "Ctx.AllocateCopy(canSpecSubs)",
          "new_text": null,
          "old_line_content": "        newSpecSubs.empty() ? canSpecSubs : Ctx.AllocateCopy(canSpecSubs));",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": "Type",
          "new_api": null,
          "old_text": "Type()",
          "new_text": null,
          "old_line_content": "    return {Type(), nullptr};",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"bad ProtocolConformanceKind\")",
          "new_text": null,
          "old_line_content": "  llvm_unreachable(\"bad ProtocolConformanceKind\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": "subst",
          "new_api": null,
          "old_text": "genericWitness.subst(substitutionMap, options)",
          "new_text": null,
          "old_line_content": "  auto specializedType = genericWitness.subst(substitutionMap, options);",
          "new_line_content": "  if (!specializedType) {",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "Type",
          "new_api": null,
          "old_text": "Type()",
          "new_text": null,
          "old_line_content": "      return { Type(), nullptr };",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": "isAbstract",
          "new_api": null,
          "old_text": "isAbstract()",
          "new_text": null,
          "old_line_content": "  if (isAbstract())",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "ErrorType::get(genericWitness)",
          "new_api": null,
          "old_text": "ErrorType::get(genericWitness)",
          "new_text": null,
          "old_line_content": "    specializedType = ErrorType::get(genericWitness);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": "isCanonical",
          "new_api": null,
          "old_text": "getConcrete()->isCanonical()",
          "new_text": null,
          "old_line_content": "  return getConcrete()->isCanonical();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "hasError",
          "new_api": null,
          "old_text": "specializedType->hasError()",
          "new_text": null,
          "old_line_content": "  if (!isTentativeWitness() && !specializedType->hasError())",
          "new_line_content": "    TypeWitnesses[assocType] = specializedWitnessAndDecl;",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": "isAbstract",
          "new_api": null,
          "old_text": "isAbstract()",
          "new_text": null,
          "old_line_content": "  if (isAbstract())",
          "new_line_content": "    return *this;",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "getCanonicalConformance",
          "new_api": null,
          "old_text": "getConcrete()->getCanonicalConformance()",
          "new_text": null,
          "old_line_content": "  return ProtocolConformanceRef(getConcrete()->getCanonicalConformance());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "getAssociatedConformance",
          "new_api": null,
          "old_text": "GenericConformance->getAssociatedConformance(assocType, protocol, resolver)",
          "new_text": null,
          "old_line_content": "    GenericConformance->getAssociatedConformance(assocType, protocol, resolver);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "getSubstitutionMap",
          "new_api": null,
          "old_text": "getSubstitutionMap()",
          "new_text": null,
          "old_line_content": "  auto subMap = getSubstitutionMap();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": "getAssociatedType",
          "new_api": null,
          "old_text": "GenericConformance->getAssociatedType(assocType, resolver)",
          "new_text": null,
          "old_line_content": "       : GenericConformance->getAssociatedType(assocType, resolver));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": "subst",
          "new_api": null,
          "old_text": "conformance.subst(origType,\n                           QuerySubstitutionMap{subMap},\n                           LookUpConformanceInSubstitutionMap(subMap))",
          "new_text": null,
          "old_line_content": "  return conformance.subst(origType,",
          "new_line_content": "                           QuerySubstitutionMap{subMap},",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": "LookUpConformanceInSubstitutionMap",
          "new_api": null,
          "old_text": "LookUpConformanceInSubstitutionMap(subMap)",
          "new_text": null,
          "old_line_content": "                           LookUpConformanceInSubstitutionMap(subMap));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": "isSpecialized",
          "new_api": null,
          "old_text": "baseWitness.isSpecialized()",
          "new_text": null,
          "old_line_content": "  if (!baseWitness || !baseWitness.isSpecialized())",
          "new_line_content": "    return baseWitness;",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "getSubstitutionMap",
          "new_api": null,
          "old_text": "getSubstitutionMap()",
          "new_text": null,
          "old_line_content": "  auto specializationMap = getSubstitutionMap();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": "getDecl",
          "new_api": null,
          "old_text": "baseWitness.getDecl()",
          "new_text": null,
          "old_line_content": "  auto witnessDecl = baseWitness.getDecl();",
          "new_line_content": "  auto witnessSig =",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": "getInnermostDeclContext",
          "new_api": null,
          "old_text": "witnessDecl->getInnermostDeclContext()->getGenericSignatureOfContext()",
          "new_text": null,
          "old_line_content": "    witnessDecl->getInnermostDeclContext()->getGenericSignatureOfContext();",
          "new_line_content": "  auto witnessMap =",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "getSubstitutions",
          "new_api": null,
          "old_text": "baseWitness.getSubstitutions()",
          "new_text": null,
          "old_line_content": "    witnessSig->getSubstitutionMap(baseWitness.getSubstitutions());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 869,
          "old_api": "subst",
          "new_api": null,
          "old_text": "witnessMap.subst(specializationMap)",
          "new_text": null,
          "old_line_content": "  auto combinedMap = witnessMap.subst(specializationMap);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": "getSubstitutions",
          "new_api": null,
          "old_text": "witnessSig->getSubstitutions(combinedMap, substSubs)",
          "new_text": null,
          "old_line_content": "  witnessSig->getSubstitutions(combinedMap, substSubs);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": "getSubstitutions",
          "new_api": null,
          "old_text": "baseWitness.getSubstitutions()",
          "new_text": null,
          "old_line_content": "  if (SubstitutionList(substSubs) == baseWitness.getSubstitutions())",
          "new_line_content": "    return baseWitness;",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "getASTContext",
          "new_api": null,
          "old_text": "witnessDecl->getASTContext()",
          "new_text": null,
          "old_line_content": "  return ConcreteDeclRef(witnessDecl->getASTContext(), witnessDecl, substSubs);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "getAssociatedConformance",
          "new_api": null,
          "old_text": "InheritedConformance->getAssociatedConformance(assocType, protocol,\n                                                   resolver)",
          "new_text": null,
          "old_line_content": "    InheritedConformance->getAssociatedConformance(assocType, protocol,",
          "new_line_content": "                                                   resolver);",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "getConcrete",
          "new_api": null,
          "old_text": "underlying.getConcrete()",
          "new_text": null,
          "old_line_content": "                                         underlying.getConcrete()));",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": "getWitnessDeclRef",
          "new_api": null,
          "old_text": "InheritedConformance->getWitnessDeclRef(requirement, resolver)",
          "new_text": null,
          "old_line_content": "  return InheritedConformance->getWitnessDeclRef(requirement, resolver);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "C->getKind()",
          "new_text": null,
          "old_line_content": "    switch (C->getKind()) {",
          "new_line_content": "    case ProtocolConformanceKind::Normal:",
          "content_same": false
        },
        {
          "line": 916,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"should have broken out of loop\")",
          "new_text": null,
          "old_line_content": "      llvm_unreachable(\"should have broken out of loop\");",
          "new_line_content": "    case ProtocolConformanceKind::Inherited:",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": "getInheritedConformance",
          "new_api": null,
          "old_text": "cast<InheritedProtocolConformance>(C)\n          ->getInheritedConformance()",
          "new_text": null,
          "old_line_content": "      C = cast<InheritedProtocolConformance>(C)",
          "new_line_content": "          ->getInheritedConformance();",
          "content_same": false
        },
        {
          "line": 922,
          "old_api": "getGenericConformance",
          "new_api": null,
          "old_text": "cast<SpecializedProtocolConformance>(C)\n        ->getGenericConformance()",
          "new_text": null,
          "old_line_content": "      C = cast<SpecializedProtocolConformance>(C)",
          "new_line_content": "        ->getGenericConformance();",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": "cast<NormalProtocolConformance>(C)",
          "new_api": null,
          "old_text": "cast<NormalProtocolConformance>(C)",
          "new_text": null,
          "old_line_content": "  return cast<NormalProtocolConformance>(C);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": "getDeclContext",
          "new_api": null,
          "old_text": "getRootNormalConformance()->getDeclContext()->isGenericContext()",
          "new_text": null,
          "old_line_content": "  return getRootNormalConformance()->getDeclContext()->isGenericContext();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": "getSelfType",
          "new_api": null,
          "old_text": "selfType->getSelfType()",
          "new_text": null,
          "old_line_content": "    substType = selfType->getSelfType();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "const_cast<ProtocolConformance *>(this)",
          "new_api": null,
          "old_text": "const_cast<ProtocolConformance *>(this)",
          "new_text": null,
          "old_line_content": "    return const_cast<ProtocolConformance *>(this);",
          "new_line_content": "  ",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": "getKind",
          "new_api": null,
          "old_text": "getKind()",
          "new_text": null,
          "old_line_content": "  switch (getKind()) {",
          "new_line_content": "  case ProtocolConformanceKind::Normal: {",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "isSpecialized",
          "new_api": null,
          "old_text": "getType()->isSpecialized()",
          "new_text": null,
          "old_line_content": "      assert(getType()->isSpecialized()",
          "new_line_content": "             && \"substitution mapped non-specialized to specialized?!\");",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "getNominalOrBoundGenericNominal",
          "new_api": null,
          "old_text": "substType->getNominalOrBoundGenericNominal()",
          "new_text": null,
          "old_line_content": "               == substType->getNominalOrBoundGenericNominal()",
          "new_line_content": "             && \"substitution mapped to different nominal?!\");",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "getSubstitutionMap",
          "new_api": null,
          "old_text": "genericEnv->getSubstitutionMap(subs, conformances)",
          "new_text": null,
          "old_line_content": "        subMap = genericEnv->getSubstitutionMap(subs, conformances);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": "getSpecializedConformance",
          "new_api": null,
          "old_text": "substType->getASTContext()\n        .getSpecializedConformance(substType,\n                                   const_cast<ProtocolConformance *>(this),\n                                   subMap)",
          "new_text": null,
          "old_line_content": "      return substType->getASTContext()",
          "new_line_content": "        .getSpecializedConformance(substType,",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "const_cast<ProtocolConformance *>(this)",
          "new_api": null,
          "old_text": "const_cast<ProtocolConformance *>(this)",
          "new_text": null,
          "old_line_content": "                                   const_cast<ProtocolConformance *>(this),",
          "new_line_content": "                                   subMap);",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": "getType",
          "new_api": null,
          "old_text": "getType()",
          "new_text": null,
          "old_line_content": "    assert(substType->isEqual(getType())",
          "new_line_content": "           && \"substitution changed non-specialized type?!\");",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "const_cast<ProtocolConformance *>(this)",
          "new_api": null,
          "old_text": "const_cast<ProtocolConformance *>(this)",
          "new_text": null,
          "old_line_content": "    return const_cast<ProtocolConformance *>(this);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": "getInheritedConformance",
          "new_api": null,
          "old_text": "cast<InheritedProtocolConformance>(this)->getInheritedConformance()",
          "new_text": null,
          "old_line_content": "      = cast<InheritedProtocolConformance>(this)->getInheritedConformance();",
          "new_line_content": "    ProtocolConformance *newBase;",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": "getType",
          "new_api": null,
          "old_text": "inheritedConformance->getType()->isSpecialized()",
          "new_text": null,
          "old_line_content": "    if (inheritedConformance->getType()->isSpecialized()) {",
          "new_line_content": "      // Follow the substituted type up the superclass chain until we reach",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "getSuperclassForDecl",
          "new_api": null,
          "old_text": "substType->getSuperclassForDecl(targetClass)",
          "new_text": null,
          "old_line_content": "      auto superclassType = substType->getSuperclassForDecl(targetClass);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "subst",
          "new_api": null,
          "old_text": "inheritedConformance->subst(superclassType, subs, conformances)",
          "new_text": null,
          "old_line_content": "      newBase = inheritedConformance->subst(superclassType, subs, conformances);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": "getInheritedConformance",
          "new_api": null,
          "old_text": "substType->getASTContext()\n      .getInheritedConformance(substType, newBase)",
          "new_text": null,
          "old_line_content": "    return substType->getASTContext()",
          "new_line_content": "      .getInheritedConformance(substType, newBase);",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "getSubstitutionMap",
          "new_api": null,
          "old_text": "spec->getSubstitutionMap()",
          "new_text": null,
          "old_line_content": "    auto subMap = spec->getSubstitutionMap();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": "getSpecializedConformance",
          "new_api": null,
          "old_text": "substType->getASTContext()\n      .getSpecializedConformance(substType, genericConformance,\n                                 subMap.subst(subs, conformances))",
          "new_text": null,
          "old_line_content": "    return substType->getASTContext()",
          "new_line_content": "      .getSpecializedConformance(substType, genericConformance,",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": "subst",
          "new_api": null,
          "old_text": "subMap.subst(subs, conformances)",
          "new_text": null,
          "old_line_content": "                                 subMap.subst(subs, conformances));",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"bad ProtocolConformanceKind\")",
          "new_text": null,
          "old_line_content": "  llvm_unreachable(\"bad ProtocolConformanceKind\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": "getConcrete",
          "new_api": null,
          "old_text": "result.getConcrete()",
          "new_text": null,
          "old_line_content": "  return result.isConcrete() ? result.getConcrete() : nullptr;",
          "new_line_content": "}",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 89,
      "total_additions": 143,
      "total_deletions": 143,
      "total_api_changes": 375
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 7,
        "api_related_lines": 375,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          616,
          625,
          612,
          624
        ]
      }
    },
    "api_calls_before": 550,
    "api_calls_after": 551,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 5,
      "total_diff_lines": 30
    }
  }
}