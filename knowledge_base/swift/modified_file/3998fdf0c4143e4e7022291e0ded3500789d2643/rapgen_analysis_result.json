{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/3998fdf0c4143e4e7022291e0ded3500789d2643",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/3998fdf0c4143e4e7022291e0ded3500789d2643/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/3998fdf0c4143e4e7022291e0ded3500789d2643/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/swift/modified_file/3998fdf0c4143e4e7022291e0ded3500789d2643/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 58,
          "old_api": "constexpr",
          "new_api": "getByteLength",
          "old_text": "constexpr",
          "new_text": "SrcRange.getByteLength()",
          "old_line_content": "static constexpr StringLiteral fixitExpectationNoneString(\"none\");",
          "new_line_content": "    LineColRange.EndCol = LineColRange.StartCol + SrcRange.getByteLength();",
          "content_same": false
        },
        {
          "line": 159,
          "old_api": "find",
          "new_api": "end",
          "old_text": "I->Message.find(Expected.MessageStr)",
          "new_text": "CapturedDiagnostics.end()",
          "old_line_content": "    if (I->Message.find(Expected.MessageStr) == StringRef::npos)",
          "new_line_content": "  for (auto I = CapturedDiagnostics.begin(), E = CapturedDiagnostics.end();",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": "end",
          "new_api": "empty",
          "old_text": "FixIts.end()",
          "new_text": "FixIts.empty()",
          "old_line_content": "  FixIts.erase(std::unique(FixIts.begin(), FixIts.end(),",
          "new_line_content": "  if (FixIts.empty())",
          "content_same": false
        },
        {
          "line": 204,
          "old_api": "getRange",
          "new_api": "end",
          "old_text": "rhs.getRange()",
          "new_text": "FixIts.end()",
          "old_line_content": "                                        rhs.getRange().Start &&",
          "new_line_content": "  std::sort(FixIts.begin(), FixIts.end(),",
          "content_same": false
        },
        {
          "line": 206,
          "old_api": "getText",
          "new_api": "getRange",
          "old_text": "rhs.getText()",
          "new_text": "lhs.getRange().Start.getPointer()",
          "old_line_content": "                                    lhs.getText() == rhs.getText();",
          "new_line_content": "              return lhs.getRange().Start.getPointer() <",
          "content_same": false
        },
        {
          "line": 258,
          "old_api": "size",
          "new_api": "getBufferIdentifier",
          "old_text": "CapturedDiagnostics.size()",
          "new_text": "memBuffer->getBufferIdentifier()",
          "old_line_content": "  for (unsigned i = 0, e = CapturedDiagnostics.size(); i != e; ++i) {",
          "new_line_content": "  llvm::raw_fd_ostream outs(memBuffer->getBufferIdentifier(), error,",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": "GetMessage",
          "new_api": "size",
          "old_text": "SM.GetMessage({}, llvm::SourceMgr::DK_Error, Message, {}, {})",
          "new_text": "CapturedDiagnostics.size()",
          "old_line_content": "    auto diag = SM.GetMessage({}, llvm::SourceMgr::DK_Error, Message, {}, {});",
          "new_line_content": "  for (unsigned i = 0, e = CapturedDiagnostics.size(); i != e; ++i) {",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": "llvm::errs()",
          "new_api": "isValid",
          "old_text": "llvm::errs()",
          "new_text": "CapturedDiagnostics[i].Loc.isValid()",
          "old_line_content": "    SM.getLLVMSourceMgr().PrintMessage(llvm::errs(), diag);",
          "new_line_content": "    if (CapturedDiagnostics[i].Loc.isValid())",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "str",
          "new_api": "getText",
          "old_text": "OS.str()",
          "new_text": "ActualFixIt.getText()",
          "old_line_content": "  return OS.str();",
          "new_line_content": "        for (auto C : ActualFixIt.getText()) {",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": "data",
          "new_api": "parseLineAndColumn",
          "old_text": "Str.data()",
          "new_text": "parseLineAndColumn()",
          "old_line_content": "    diagnoseError(Str.data(),",
          "new_line_content": "  if (const auto LineAndCol = parseLineAndColumn()) {",
          "content_same": false
        },
        {
          "line": 483,
          "old_api": "substr",
          "new_api": "SMLoc::getFromPointer(Loc)",
          "old_text": "InputFile.substr(Match)",
          "new_text": "SMLoc::getFromPointer(Loc)",
          "old_line_content": "    StringRef MatchStart = InputFile.substr(Match);",
          "new_line_content": "    auto loc = SourceLoc(SMLoc::getFromPointer(Loc));",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": "data",
          "new_api": "GetMessage",
          "old_text": "MatchStart.data()",
          "new_text": "SM.GetMessage(loc, llvm::SourceMgr::DK_Error, message,\n                              {}, FixIts)",
          "old_line_content": "    const char *DiagnosticLoc = MatchStart.data();",
          "new_line_content": "    auto diag = SM.GetMessage(loc, llvm::SourceMgr::DK_Error, message,",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": "data",
          "new_api": "push_back",
          "old_text": "MatchStart.data()",
          "new_text": "Errors.push_back(diag)",
          "old_line_content": "    const char *ClassificationStartLoc = MatchStart.data();",
          "new_line_content": "    Errors.push_back(diag);",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "strlen",
          "new_api": "find",
          "old_text": "strlen(\"note\")",
          "new_text": "InputFile.find(\"expected-\", Match+1)",
          "old_line_content": "      MatchStart = MatchStart.substr(strlen(\"note\"));",
          "new_line_content": "       Match != StringRef::npos; Match = InputFile.find(\"expected-\", Match+1)) {",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": "strlen",
          "new_api": "substr",
          "old_text": "strlen(\"warning\")",
          "new_text": "InputFile.substr(Match)",
          "old_line_content": "      MatchStart = MatchStart.substr(strlen(\"warning\"));",
          "new_line_content": "    StringRef MatchStart = InputFile.substr(Match);",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": "startswith",
          "new_api": "data",
          "old_text": "MatchStart.startswith(\"error\")",
          "new_text": "MatchStart.data()",
          "old_line_content": "    } else if (MatchStart.startswith(\"error\")) {",
          "new_line_content": "    const char *DiagnosticLoc = MatchStart.data();",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": "strlen",
          "new_api": "data",
          "old_text": "strlen(\"error\")",
          "new_text": "MatchStart.data()",
          "old_line_content": "      MatchStart = MatchStart.substr(strlen(\"error\"));",
          "new_line_content": "    const char *ClassificationStartLoc = MatchStart.data();",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": "strlen",
          "new_api": "startswith",
          "old_text": "strlen(\"remark\")",
          "new_text": "MatchStart.startswith(\"note\")",
          "old_line_content": "      MatchStart = MatchStart.substr(strlen(\"remark\"));",
          "new_line_content": "    if (MatchStart.startswith(\"note\")) {",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": "find_first_not_of",
          "new_api": "strlen",
          "old_text": "MatchStart.find_first_not_of(\" \\t\")",
          "new_text": "strlen(\"warning\")",
          "old_line_content": "    MatchStart = MatchStart.substr(MatchStart.find_first_not_of(\" \\t\"));",
          "new_line_content": "      MatchStart = MatchStart.substr(strlen(\"warning\"));",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": "find",
          "new_api": "startswith",
          "old_text": "MatchStart.find(\"\\n\")",
          "new_text": "MatchStart.startswith(\"remark\")",
          "old_line_content": "        MatchStart.find(\"\\n\")) { // Either not found, or found beyond next \\n",
          "new_line_content": "    } else if (MatchStart.startswith(\"remark\")) {",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": "data",
          "new_api": "find_first_not_of",
          "old_text": "MatchStart.data()",
          "new_text": "MatchStart.find_first_not_of(\" \\t\")",
          "old_line_content": "                                    /*ClassificationEndLoc=*/MatchStart.data(),",
          "new_line_content": "    MatchStart = MatchStart.substr(MatchStart.find_first_not_of(\" \\t\"));",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": "substr",
          "new_api": "slice",
          "old_text": "MatchStart.substr(TextStartIdx)",
          "new_text": "MatchStart.slice(2, TextStartIdx).rtrim()",
          "old_line_content": "        MatchStart = MatchStart.substr(TextStartIdx);",
          "new_line_content": "        Offs = MatchStart.slice(2, TextStartIdx).rtrim();",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "slice",
          "new_api": "substr",
          "old_text": "Offs.slice(0, ColonIndex)",
          "new_text": "MatchStart.substr(TextStartIdx - Delta)",
          "old_line_content": "        StringRef LineOffs = Offs.slice(0, ColonIndex);",
          "new_line_content": "        MatchStart = MatchStart.substr(TextStartIdx - Delta);",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": "data",
          "new_api": "slice",
          "old_text": "MatchStart.data()",
          "new_text": "Offs.slice(0, SpaceIndex)",
          "old_line_content": "          addError(MatchStart.data(), \"expected line offset before '{{'\");",
          "new_line_content": "        Offs = Offs.slice(0, SpaceIndex);",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": "getAsInteger",
          "new_api": "slice",
          "old_text": "Offs.getAsInteger(10, Column)",
          "new_text": "Offs.slice(0, ColonIndex)",
          "old_line_content": "        if (Offs.getAsInteger(10, Column)) {",
          "new_line_content": "        StringRef LineOffs = Offs.slice(0, ColonIndex);",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": "data",
          "new_api": "getAsInteger",
          "old_text": "MatchStart.data()",
          "new_text": "LineOffs.getAsInteger(10, LineOffset)",
          "old_line_content": "          addError(MatchStart.data(), \"expected column before '{{'\");",
          "new_line_content": "        if (LineOffs.getAsInteger(10, LineOffset)) {",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": "substr",
          "new_api": "data",
          "old_text": "MatchStart.substr(TextStartIdx)",
          "new_text": "MatchStart.data()",
          "old_line_content": "      MatchStart = MatchStart.substr(TextStartIdx);",
          "new_line_content": "          addError(MatchStart.data(), \"expected match count before '{{'\");",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": "slice",
          "new_api": "substr",
          "old_text": "MatchStart.slice(2, End)",
          "new_text": "MatchStart.substr(TextStartIdx)",
          "old_line_content": "    Expected.MessageRange = MatchStart.slice(2, End);",
          "new_line_content": "      MatchStart = MatchStart.substr(TextStartIdx);",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": "startswith",
          "new_api": "strlen",
          "old_text": "ExtraChecks.startswith(\"{{\")",
          "new_text": "strlen(\"}}\")",
          "old_line_content": "    while (ExtraChecks.startswith(\"{{\")) {",
          "new_line_content": "    StringRef AfterEnd = MatchStart.substr(End + strlen(\"}}\"));",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": "find",
          "new_api": "startswith",
          "old_text": "ExtraChecks.find(\"}}\")",
          "new_text": "AfterEnd.startswith(\"\\\\\")",
          "old_line_content": "      size_t EndIndex = ExtraChecks.find(\"}}\");",
          "new_line_content": "    if (AfterEnd.startswith(\"\\\\\"))",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "size",
          "new_api": "substr",
          "old_text": "ExtraChecks.size()",
          "new_text": "MatchStart.substr(End+2).ltrim(\" \\t\")",
          "old_line_content": "      while (EndIndex + 2 < ExtraChecks.size() &&",
          "new_line_content": "    StringRef ExtraChecks = MatchStart.substr(End+2).ltrim(\" \\t\");",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "data",
          "new_api": "size",
          "old_text": "ExtraChecks.data()",
          "new_text": "ExtraChecks.size()",
          "old_line_content": "        addError(ExtraChecks.data(), \"didn't find '}}' to match '{{' in \"",
          "new_line_content": "      while (EndIndex + 2 < ExtraChecks.size() &&",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "substr",
          "new_api": "data",
          "old_text": "ExtraChecks.substr(EndIndex + 2).ltrim(\" \\t\")",
          "new_text": "ExtraChecks.data()",
          "old_line_content": "      ExtraChecks = ExtraChecks.substr(EndIndex + 2).ltrim(\" \\t\");",
          "new_line_content": "          ExtraChecks.data() + EndIndex + 2; // End of closing '}}'.",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "startswith",
          "new_api": "substr",
          "old_text": "ExtraChecks.startswith(\"||\")",
          "new_text": "ExtraChecks.substr(EndIndex + 2).ltrim(\" \\t\")",
          "old_line_content": "      if (ExtraChecks.startswith(\"||\")) {",
          "new_line_content": "      ExtraChecks = ExtraChecks.substr(EndIndex + 2).ltrim(\" \\t\");",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": "startswith",
          "new_api": "push_back",
          "old_text": "CheckStr.startswith(educationalNotesSpecifier)",
          "new_text": "Expected.Fixits.push_back({})",
          "old_line_content": "      if (CheckStr.startswith(educationalNotesSpecifier)) {",
          "new_line_content": "        Expected.Fixits.push_back({});",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": "data",
          "new_api": "startswith",
          "old_text": "CheckStr.data()",
          "new_text": "ExtraChecks.startswith(\"||\")",
          "old_line_content": "          addError(CheckStr.data(),",
          "new_line_content": "      if (ExtraChecks.startswith(\"||\")) {",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": "split",
          "new_api": "data",
          "old_text": "NotesStr.split(',')",
          "new_text": "CheckStr.data()",
          "old_line_content": "          split = NotesStr.split(',');",
          "new_line_content": "          addError(CheckStr.data(),",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": "data",
          "new_api": "push_back",
          "old_text": "CheckStr.data()",
          "new_text": "names.push_back(split.first)",
          "old_line_content": "          addError(CheckStr.data() - 2,",
          "new_line_content": "          names.push_back(split.first);",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": "Twine",
          "new_api": "data",
          "old_text": "Twine(\"{{\")",
          "new_text": "CheckStr.data()",
          "old_line_content": "        addError(Expected.noneMarkerStartLoc, Twine(\"{{\") +",
          "new_line_content": "          addError(CheckStr.data() - 2,",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": "empty",
          "new_api": "data",
          "old_text": "CheckStr.empty()",
          "new_text": "CheckStr.data()",
          "old_line_content": "      if (CheckStr.empty()) {",
          "new_line_content": "        Expected.noneMarkerStartLoc = CheckStr.data() - 2;",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": "value",
          "new_api": "Twine",
          "old_text": "range.value()",
          "new_text": "Twine(\"'\")",
          "old_line_content": "        FixIt.Range = range.value();",
          "new_line_content": "                                      fixitExpectationNoneString + Twine(\"'\"));",
          "content_same": false
        },
        {
          "line": 768,
          "old_api": "push_back",
          "new_api": "back",
          "old_text": "ExpectedDiagnostics.push_back(Expected)",
          "new_text": "Expected.Fixits.back().empty()",
          "old_line_content": "      ExpectedDiagnostics.push_back(Expected);",
          "new_line_content": "    if (!Expected.Fixits.empty() && Expected.Fixits.back().empty())",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": "size",
          "new_api": "isspace",
          "old_text": "ExpectedDiagnostics.size()",
          "new_text": "isspace(Expected.ExpectedEnd[-1])",
          "old_line_content": "  for (unsigned i = ExpectedDiagnostics.size(); i != 0; ) {",
          "new_line_content": "    while (isspace(Expected.ExpectedEnd[-1]))",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": "emitFixItsError",
          "new_api": "addError",
          "old_text": "emitFixItsError(expected.ClassificationStart,\n          llvm::Twine(\"expected \") + expectedKind + \", not \" + actualKind,\n          expected.ClassificationStart, expected.ClassificationEnd,\n          actualKind)",
          "new_text": "addError(location, message, fix)",
          "old_line_content": "      emitFixItsError(expected.ClassificationStart,",
          "new_line_content": "      addError(location, message, fix);",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": "empty",
          "new_api": "getDiagKindString",
          "old_text": "fixitAlternates.empty()",
          "new_text": "getDiagKindString(expected.Classification)",
          "old_line_content": "      assert(!fixitAlternates.empty() && \"an empty alternation survived\");",
          "new_line_content": "      auto expectedKind = getDiagKindString(expected.Classification);",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": "checkForFixIt",
          "new_api": "llvm::Twine(\"expected \")",
          "old_text": "checkForFixIt(fixitAlternates, FoundDiagnostic, BufferID)",
          "new_text": "llvm::Twine(\"expected \")",
          "old_line_content": "      if (!checkForFixIt(fixitAlternates, FoundDiagnostic, BufferID)) {",
          "new_line_content": "          llvm::Twine(\"expected \") + expectedKind + \", not \" + actualKind,",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": "empty",
          "new_api": "emitFixItsError",
          "old_text": "expected.Fixits.empty()",
          "new_text": "emitFixItsError(missedFixitLoc, message, replStartLoc, replEndLoc,\n                      actualFixits)",
          "old_line_content": "      if (expected.Fixits.empty()) {",
          "new_line_content": "      emitFixItsError(missedFixitLoc, message, replStartLoc, replEndLoc,",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "back",
          "new_api": "assert",
          "old_text": "expected.Fixits.back().back()",
          "new_text": "assert(expected.noneMarkerStartLoc && \"none marker location is null\")",
          "old_line_content": "        replEndLoc = expected.Fixits.back().back().EndLoc;",
          "new_line_content": "      assert(expected.noneMarkerStartLoc && \"none marker location is null\");",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": "empty",
          "new_api": "emitFixItsError",
          "old_text": "expectedNotes->Names.empty()",
          "new_text": "emitFixItsError(expected.noneMarkerStartLoc, message, replStartLoc,\n                      replEndLoc, actualFixits)",
          "old_line_content": "      if (!expectedNotes->Names.empty()) {",
          "new_line_content": "      emitFixItsError(expected.noneMarkerStartLoc, message, replStartLoc,",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": "renderEducationalNotes",
          "new_api": "equals",
          "old_text": "renderEducationalNotes(FoundDiagnostic.EducationalNotes)",
          "new_text": "item.equals(foundName)",
          "old_line_content": "              renderEducationalNotes(FoundDiagnostic.EducationalNotes);",
          "new_line_content": "                       [&](StringRef item) { return item.equals(foundName); });",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "end",
          "new_api": "begin",
          "old_text": "CapturedDiagnostics.end()",
          "new_text": "CapturedDiagnostics.begin()",
          "old_line_content": "    if (I == CapturedDiagnostics.end()) {",
          "new_line_content": "    auto I = CapturedDiagnostics.begin();",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "begin",
          "new_api": "end",
          "old_text": "expectedDiagIter->MessageRange.begin()",
          "new_text": "CapturedDiagnostics.end()",
          "old_line_content": "      addError(expectedDiagIter->MessageRange.begin(),",
          "new_line_content": "    if (I == CapturedDiagnostics.end()) {",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": "llvm::formatv(\"message found at column {0} but was expected to \"\n                             \"appear at column {1}\",\n                             I->Column, *expectedDiagIter->ColumnNo)",
          "new_api": "find",
          "old_text": "llvm::formatv(\"message found at column {0} but was expected to \"\n                             \"appear at column {1}\",\n                             I->Column, *expectedDiagIter->ColumnNo)",
          "new_text": "I->Message.find(expectedDiagIter->MessageStr)",
          "old_line_content": "               llvm::formatv(\"message found at column {0} but was expected to \"",
          "new_line_content": "    if (I->Message.find(expectedDiagIter->MessageStr) == StringRef::npos) {",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": "erase",
          "new_api": "begin",
          "old_text": "CapturedDiagnostics.erase(I)",
          "new_text": "expectedDiagIter->MessageRange.begin()",
          "old_line_content": "    CapturedDiagnostics.erase(I);",
          "new_line_content": "      addError(expectedDiagIter->MessageRange.begin(),",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": "end",
          "new_api": "llvm::formatv(\"message found at column {0} but was expected to \"\n                             \"appear at column {1}\",\n                             I->Column, *expectedDiagIter->ColumnNo)",
          "old_text": "ExpectedDiagnostics.end()",
          "new_text": "llvm::formatv(\"message found at column {0} but was expected to \"\n                             \"appear at column {1}\",\n                             I->Column, *expectedDiagIter->ColumnNo)",
          "old_line_content": "  std::reverse(ExpectedDiagnostics.begin(), ExpectedDiagnostics.end());",
          "new_line_content": "               llvm::formatv(\"message found at column {0} but was expected to \"",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "isspace",
          "new_api": "end",
          "old_text": "isspace(*EndLoc)",
          "new_text": "ExpectedDiagnostics.end()",
          "old_line_content": "    while (isspace(*EndLoc) && *EndLoc != '\\n' && *EndLoc != '\\r')",
          "new_line_content": "  std::reverse(ExpectedDiagnostics.begin(), ExpectedDiagnostics.end());",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "getPointer",
          "new_api": "end",
          "old_text": "getRawLoc(CapturedDiagIter->Loc).getPointer()",
          "new_text": "CapturedDiagnostics.end()",
          "old_line_content": "    addError(getRawLoc(CapturedDiagIter->Loc).getPointer(), Message);",
          "new_line_content": "  while (CapturedDiagIter != CapturedDiagnostics.end()) {",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": "empty",
          "new_api": "getLoc",
          "old_text": "Errors.empty()",
          "new_text": "rhs.getLoc().getPointer()",
          "old_line_content": "  return Result{!Errors.empty(), HadUnexpectedDiag};",
          "new_line_content": "              return lhs.getLoc().getPointer() < rhs.getLoc().getPointer();",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "DiagnosticEngine::formatDiagnosticText(Out, Info.FormatString,\n                                           Info.FormatArgs)",
          "new_api": "emplace_back",
          "old_text": "DiagnosticEngine::formatDiagnosticText(Out, Info.FormatString,\n                                           Info.FormatArgs)",
          "new_text": "fixIts.emplace_back(fixIt)",
          "old_line_content": "    DiagnosticEngine::formatDiagnosticText(Out, Info.FormatString,",
          "new_line_content": "    fixIts.emplace_back(fixIt);",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "getPresumedLineAndColumnForLoc",
          "new_api": "str",
          "old_text": "SM.getPresumedLineAndColumnForLoc(Info.Loc)",
          "new_text": "llvm::sys::path::stem(notePath).str()",
          "old_line_content": "    const auto lineAndColumn = SM.getPresumedLineAndColumnForLoc(Info.Loc);",
          "new_line_content": "    eduNotes.push_back(llvm::sys::path::stem(notePath).str());",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": "StringRef",
          "new_api": "DiagnosticEngine::formatDiagnosticText(Out, Info.FormatString,\n                                           Info.FormatArgs)",
          "old_text": "StringRef()",
          "new_text": "DiagnosticEngine::formatDiagnosticText(Out, Info.FormatString,\n                                           Info.FormatArgs)",
          "old_line_content": "    CapturedDiagnostics.emplace_back(message, StringRef(), Info.Kind, Info.Loc,",
          "new_line_content": "    DiagnosticEngine::formatDiagnosticText(Out, Info.FormatString,",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": "getLocForForeignLoc",
          "new_api": "StringRef",
          "old_text": "correctSM.getLocForForeignLoc(capturedDiag.Loc, SM)",
          "new_text": "StringRef()",
          "old_line_content": "    capturedDiag.Loc = correctSM.getLocForForeignLoc(capturedDiag.Loc, SM);",
          "new_line_content": "    CapturedDiagnostics.emplace_back(message, StringRef(), Info.Kind, Info.Loc,",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1027,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*EndLoc)",
          "old_line_content": "             StartLoc[-1] != '\\n' && StartLoc[-1] != '\\r')",
          "new_line_content": "    while (isspace(*EndLoc) && *EndLoc != '\\n' && *EndLoc != '\\r')",
          "content_same": false
        },
        {
          "line": 518,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "MatchStart.find(\"{{\")",
          "old_line_content": "    int LineOffset = 0;",
          "new_line_content": "    size_t TextStartIdx = MatchStart.find(\"{{\");",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "MatchStart.find(\"\\n\")",
          "old_line_content": "    if (TextStartIdx > 0 && MatchStart[0] == '@') {",
          "new_line_content": "        MatchStart.find(\"\\n\")) { // Either not found, or found beyond next \\n",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "MatchStart.data()",
          "old_line_content": "      if (MatchStart[1] != '+' && MatchStart[1] != '-' &&",
          "new_line_content": "      addError(MatchStart.data(),",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "InputFile.data()",
          "old_line_content": "      // whitespace before the //.",
          "new_line_content": "      auto FileStart = InputFile.data();",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "MatchStart.data()",
          "old_line_content": "      StringRef Offs;",
          "new_line_content": "                                    /*ClassificationEndLoc=*/MatchStart.data(),",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "MatchStart.data()",
          "old_line_content": "      if (SpaceIndex != StringRef::npos && SpaceIndex < TextStartIdx) {",
          "new_line_content": "        addError(MatchStart.data(),",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(StartLoc[-1])",
          "old_line_content": "    llvm::SMFixIt fixIt(llvm::SMRange{",
          "new_line_content": "      while (StartLoc-1 != FileStart && isspace(StartLoc[-1]) &&",
          "content_same": false
        },
        {
          "line": 542,
          "old_api": null,
          "new_api": "slice",
          "old_text": null,
          "new_text": "MatchStart.slice(1, TextStartIdx).rtrim()",
          "old_line_content": "      }",
          "new_line_content": "        Offs = MatchStart.slice(1, TextStartIdx).rtrim();",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "Offs.size()",
          "old_line_content": "      if (ColonIndex != 0) {",
          "new_line_content": "        size_t Delta = Offs.size() - SpaceIndex;",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": null,
          "new_api": "SMLoc::getFromPointer(StartLoc)",
          "old_text": null,
          "new_text": "SMLoc::getFromPointer(StartLoc)",
          "old_line_content": "      ++CapturedDiagIter;",
          "new_line_content": "      SMLoc::getFromPointer(StartLoc),",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": null,
          "new_api": "SMLoc::getFromPointer(EndLoc)",
          "old_text": null,
          "new_text": "SMLoc::getFromPointer(EndLoc)",
          "old_line_content": "      continue;",
          "new_line_content": "      SMLoc::getFromPointer(EndLoc)",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": null,
          "new_api": "substr",
          "old_text": null,
          "new_text": "MatchStart.substr(TextStartIdx)",
          "old_line_content": "        }",
          "new_line_content": "        MatchStart = MatchStart.substr(TextStartIdx);",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "addError",
          "old_text": null,
          "new_text": "addError(expected.ExpectedStart, message, fixIt)",
          "old_line_content": "",
          "new_line_content": "    addError(expected.ExpectedStart, message, fixIt);",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "Offs.find(':')",
          "old_line_content": "      if (ColonIndex != StringRef::npos) {",
          "new_line_content": "      size_t ColonIndex = Offs.find(':');",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "CapturedDiagnostics.begin()",
          "old_line_content": "            .str();",
          "new_line_content": "  auto CapturedDiagIter = CapturedDiagnostics.begin();",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "MatchStart.data()",
          "old_line_content": "          continue;",
          "new_line_content": "          addError(MatchStart.data(), \"expected line offset before '{{'\");",
          "content_same": false
        },
        {
          "line": 52,
          "old_api": null,
          "new_api": "getByteLength",
          "old_text": null,
          "new_text": "SrcRange.getByteLength()",
          "old_line_content": "",
          "new_line_content": "  if (SrcRange.getByteLength() == 0) {",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": null,
          "new_api": "getDiagKindString",
          "old_text": null,
          "new_text": "getDiagKindString(CapturedDiagIter->Classification)",
          "old_line_content": "            [&](const llvm::SMDiagnostic &lhs,",
          "new_line_content": "        (\"unexpected \" + getDiagKindString(CapturedDiagIter->Classification) +",
          "content_same": false
        },
        {
          "line": 55,
          "old_api": null,
          "new_api": "extractText",
          "old_text": null,
          "new_text": "SM.extractText(SrcRange, BufferID).find_first_of(\"\\n\\r\")",
          "old_line_content": "",
          "new_line_content": "  } else if (SM.extractText(SrcRange, BufferID).find_first_of(\"\\n\\r\") ==",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "Offs.size()",
          "old_line_content": "    if (TextStartIdx > 0) {",
          "new_line_content": "        Offs = Offs.slice(ColonIndex + 1, Offs.size());",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": null,
          "new_api": "getAsInteger",
          "old_text": null,
          "new_text": "Offs.getAsInteger(10, Column)",
          "old_line_content": "      if (CountStr == \"*\") {",
          "new_line_content": "        if (Offs.getAsInteger(10, Column)) {",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "MatchStart.data()",
          "old_line_content": "        Expected.mayAppear = true;",
          "new_line_content": "          addError(MatchStart.data(), \"expected column before '{{'\");",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": null,
          "new_api": "getPointer",
          "old_text": null,
          "new_text": "getRawLoc(CapturedDiagIter->Loc).getPointer()",
          "old_line_content": "            });",
          "new_line_content": "    addError(getRawLoc(CapturedDiagIter->Loc).getPointer(), Message);",
          "content_same": false
        },
        {
          "line": 60,
          "old_api": null,
          "new_api": "std::tie(LineColRange.EndLine, LineColRange.EndCol)",
          "old_text": null,
          "new_text": "std::tie(LineColRange.EndLine, LineColRange.EndCol)",
          "old_line_content": "",
          "new_line_content": "    std::tie(LineColRange.EndLine, LineColRange.EndCol) =",
          "content_same": false
        },
        {
          "line": 61,
          "old_api": null,
          "new_api": "getEnd",
          "old_text": null,
          "new_text": "SrcRange.getEnd()",
          "old_line_content": "struct ExpectedDiagnosticInfo {",
          "new_line_content": "        SM.getPresumedLineAndColumnForLoc(SrcRange.getEnd(), BufferID);",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "CapturedDiagnostics.erase(CapturedDiagIter)",
          "old_line_content": "",
          "new_line_content": "    CapturedDiagIter = CapturedDiagnostics.erase(CapturedDiagIter);",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "Errors.end()",
          "old_line_content": "  if (AutoApplyFixes)",
          "new_line_content": "  std::sort(Errors.begin(), Errors.end(),",
          "content_same": false
        },
        {
          "line": 579,
          "old_api": null,
          "new_api": "substr",
          "old_text": null,
          "new_text": "MatchStart.substr(0, TextStartIdx).trim(\" \\t\")",
          "old_line_content": "          continue;",
          "new_line_content": "      StringRef CountStr = MatchStart.substr(0, TextStartIdx).trim(\" \\t\");",
          "content_same": false
        },
        {
          "line": 69,
          "old_api": null,
          "new_api": "constexpr",
          "old_text": null,
          "new_text": "constexpr",
          "old_line_content": "",
          "new_line_content": "static constexpr StringLiteral fixitExpectationNoneString(\"none\");",
          "content_same": false
        },
        {
          "line": 70,
          "old_api": null,
          "new_api": "constexpr",
          "old_text": null,
          "new_text": "constexpr",
          "old_line_content": "  // This is true if a '*' constraint is present to say that the diagnostic",
          "new_line_content": "static constexpr StringLiteral educationalNotesSpecifier(\"educational-notes=\");",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": null,
          "new_api": "getAsInteger",
          "old_text": null,
          "new_text": "CountStr.getAsInteger(10, Count)",
          "old_line_content": "      // Resync up to the '{{'.",
          "new_line_content": "        if (CountStr.getAsInteger(10, Count)) {",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": null,
          "new_api": "llvm::errs()",
          "old_text": null,
          "new_text": "llvm::errs()",
          "old_line_content": "    // Determine what kind of diagnostic we're emitting.",
          "new_line_content": "    SM.getLLVMSourceMgr().PrintMessage(llvm::errs(), Err);",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": null,
          "new_api": "autoApplyFixes",
          "old_text": null,
          "new_text": "autoApplyFixes(SM, BufferID, Errors)",
          "old_line_content": "      SMKind = llvm::SourceMgr::DK_Error;",
          "new_line_content": "    autoApplyFixes(SM, BufferID, Errors);",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "MatchStart.data()",
          "old_line_content": "    if (End == StringRef::npos) {",
          "new_line_content": "          addError(MatchStart.data(),",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "Errors.empty()",
          "old_line_content": "    case DiagnosticKind::Warning:",
          "new_line_content": "  return Result{!Errors.empty(), HadUnexpectedDiag};",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "MatchStart.find(\"}}\")",
          "old_line_content": "    if (PrevExpectedContinuationLine)",
          "new_line_content": "    size_t End = MatchStart.find(\"}}\");",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "MatchStart.data()",
          "old_line_content": "    else",
          "new_line_content": "      addError(MatchStart.data(),",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": null,
          "new_api": "slice",
          "old_text": null,
          "new_text": "MatchStart.slice(2, End)",
          "old_line_content": "    Expected.LineNo += LineOffset;",
          "new_line_content": "    Expected.MessageRange = MatchStart.slice(2, End);",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": null,
          "new_api": "str",
          "old_text": null,
          "new_text": "Lexer::getEncodedStringSegment(Expected.MessageRange, Buf).str()",
          "old_line_content": "    // Check if the next expected diagnostic should be in the same line.",
          "new_line_content": "        Lexer::getEncodedStringSegment(Expected.MessageRange, Buf).str();",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": null,
          "new_api": "getPresumedLineAndColumnForLoc",
          "old_text": null,
          "new_text": "SM.getPresumedLineAndColumnForLoc(\n                              BufferStartLoc.getAdvancedLoc(MatchStart.data() -\n                                                            InputFile.data()),\n                              BufferID)",
          "old_line_content": "      PrevExpectedContinuationLine = Expected.LineNo;",
          "new_line_content": "      Expected.LineNo = SM.getPresumedLineAndColumnForLoc(",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "MatchStart.data()",
          "old_line_content": "    else",
          "new_line_content": "                              BufferStartLoc.getAdvancedLoc(MatchStart.data() -",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "InputFile.data()",
          "old_line_content": "      PrevExpectedContinuationLine = 0;",
          "new_line_content": "                                                            InputFile.data()),",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": null,
          "new_api": "getLLVMSourceMgr",
          "old_text": null,
          "new_text": "SM.getLLVMSourceMgr().PrintMessage(\n        llvm::errs(), getRawLoc(diag.Loc), SMKind,\n        \"diagnostic produced elsewhere: \" + diag.Message.str(),\n        /*Ranges=*/{}, {})",
          "old_line_content": "/// Every time a diagnostic is generated in -verify mode, this function is",
          "new_line_content": "    SM.getLLVMSourceMgr().PrintMessage(",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": null,
          "new_api": "getRawLoc",
          "old_text": null,
          "new_text": "getRawLoc(diag.Loc)",
          "old_line_content": "/// called with the diagnostic.  We just buffer them up until the end of the",
          "new_line_content": "        llvm::errs(), getRawLoc(diag.Loc), SMKind,",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": null,
          "new_api": "str",
          "old_text": null,
          "new_text": "diag.Message.str()",
          "old_line_content": "/// file.",
          "new_line_content": "        \"diagnostic produced elsewhere: \" + diag.Message.str(),",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": null,
          "new_api": "find_first_not_of",
          "old_text": null,
          "new_text": "AfterEnd.find_first_not_of(\" \\t\")",
          "old_line_content": "      // First make sure we have a closing \"}}\".",
          "new_line_content": "    AfterEnd = AfterEnd.substr(AfterEnd.find_first_not_of(\" \\t\"));",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": null,
          "new_api": "startswith",
          "old_text": null,
          "new_text": "ExtraChecks.startswith(\"{{\")",
          "old_line_content": "             ExtraChecks[EndIndex + 2] == '}')",
          "new_line_content": "    while (ExtraChecks.startswith(\"{{\")) {",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "ExtraChecks.find(\"}}\")",
          "old_line_content": "",
          "new_line_content": "      size_t EndIndex = ExtraChecks.find(\"}}\");",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "ExtraChecks.data()",
          "old_line_content": "      const char *CloseLoc =",
          "new_line_content": "        addError(ExtraChecks.data(),",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "ExtraChecks.data()",
          "old_line_content": "",
          "new_line_content": "      const char *OpenLoc = ExtraChecks.data(); // Beginning of opening '{{'.",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": null,
          "new_api": "isValid",
          "old_text": null,
          "new_text": "Info.Loc.isValid()",
          "old_line_content": "  // If this diagnostic came from a different SourceManager (as can happen",
          "new_line_content": "  if (Info.Loc.isValid()) {",
          "content_same": false
        },
        {
          "line": 135,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"Unhandled DiagKind in switch.\")",
          "old_line_content": "  OS << \"}}\";",
          "new_line_content": "  llvm_unreachable(\"Unhandled DiagKind in switch.\");",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": null,
          "new_api": "getPresumedLineAndColumnForLoc",
          "old_text": null,
          "new_text": "SM.getPresumedLineAndColumnForLoc(Info.Loc)",
          "old_line_content": "  // while compiling a module interface), translate its SourceLocs to match the",
          "new_line_content": "    const auto lineAndColumn = SM.getPresumedLineAndColumnForLoc(Info.Loc);",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": null,
          "new_api": "slice",
          "old_text": null,
          "new_text": "ExtraChecks.slice(2, EndIndex)",
          "old_line_content": "      // Handle fix-it alternation.",
          "new_line_content": "      StringRef CheckStr = ExtraChecks.slice(2, EndIndex);",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "getDisplayNameForLoc",
          "old_text": null,
          "new_text": "SM.getDisplayNameForLoc(Info.Loc)",
          "old_line_content": "  // verifier's SourceManager.",
          "new_line_content": "    const auto fileName = SM.getDisplayNameForLoc(Info.Loc);",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": null,
          "new_api": "find_first_of",
          "old_text": null,
          "new_text": "CheckStr.find_first_of(\"\\r\\n\")",
          "old_line_content": "      // This is represented by putting them in the same subarray of `Fixits`.",
          "new_line_content": "      if (CheckStr.find_first_of(\"\\r\\n\") != StringRef::npos) {",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "ExtraChecks.data()",
          "old_line_content": "      // If they are not separated by `||`, we must match both of them.",
          "new_line_content": "        addError(ExtraChecks.data(), \"didn't find '}}' to match '{{' in \"",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": null,
          "new_api": "emplace_back",
          "old_text": null,
          "new_text": "CapturedDiagnostics.emplace_back(message, fileName, Info.Kind, Info.Loc,\n                                     lineAndColumn.first, lineAndColumn.second,\n                                     fixIts, eduNotes)",
          "old_line_content": "  if (&SM != &(this->SM)) {",
          "new_line_content": "    CapturedDiagnostics.emplace_back(message, fileName, Info.Kind, Info.Loc,",
          "content_same": false
        },
        {
          "line": 144,
          "old_api": null,
          "new_api": "interleave",
          "old_text": null,
          "new_text": "interleave(EducationalNotes, [&](const auto &Note) { OS << Note; },\n             [&] { OS << ','; })",
          "old_line_content": "findDiagnostic(std::vector<CapturedDiagnosticInfo> &CapturedDiagnostics,",
          "new_line_content": "  interleave(EducationalNotes, [&](const auto &Note) { OS << Note; },",
          "content_same": false
        },
        {
          "line": 147,
          "old_api": null,
          "new_api": "str",
          "old_text": null,
          "new_text": "OS.str()",
          "old_line_content": "",
          "new_line_content": "  return OS.str();",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "CapturedDiagnostics.back()",
          "old_line_content": "  }",
          "new_line_content": "    auto &capturedDiag = CapturedDiagnostics.back();",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": null,
          "new_api": "getLocForForeignLoc",
          "old_text": null,
          "new_text": "correctSM.getLocForForeignLoc(capturedDiag.Loc, SM)",
          "old_line_content": "/// Once all diagnostics have been captured, perform verification.",
          "new_line_content": "    capturedDiag.Loc = correctSM.getLocForForeignLoc(capturedDiag.Loc, SM);",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "Expected.Fixits.back().empty()",
          "old_line_content": "      // educational notes instead of a fix-it.",
          "new_line_content": "          (Expected.Fixits.empty() || !Expected.Fixits.back().empty()))",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": null,
          "new_api": "getSourceRange",
          "old_text": null,
          "new_text": "fixIt.getSourceRange().getStart()",
          "old_line_content": "",
          "new_line_content": "          correctSM.getLocForForeignLoc(fixIt.getSourceRange().getStart(), SM);",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": null,
          "new_api": "getSourceRange",
          "old_text": null,
          "new_text": "fixIt.getSourceRange()",
          "old_line_content": "  ArrayRef<unsigned> BufferIDLists[2] = { BufferIDs, AdditionalBufferIDs };",
          "new_line_content": "      auto &mutableRange = fixIt.getSourceRange();",
          "content_same": false
        },
        {
          "line": 157,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "CapturedDiagnostics.end()",
          "old_line_content": "",
          "new_line_content": "  auto fallbackI = CapturedDiagnostics.end();",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": null,
          "new_api": "getSourceRange",
          "old_text": null,
          "new_text": "fixIt.getSourceRange().getByteLength()",
          "old_line_content": "    for (auto &BufferID : BufferIDList) {",
          "new_line_content": "          CharSourceRange(newStart, fixIt.getSourceRange().getByteLength());",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": null,
          "new_api": "substr",
          "old_text": null,
          "new_text": "ExtraChecks.substr(2).ltrim(\" \\t\")",
          "old_line_content": "                   \"{{educational-notes=<#notes#>}} declaration\");",
          "new_line_content": "        ExtraChecks = ExtraChecks.substr(2).ltrim(\" \\t\");",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "Expected.ColumnNo.has_value()",
          "old_line_content": "      continue;",
          "new_line_content": "    if (Expected.ColumnNo.has_value() && I->Column != *Expected.ColumnNo)",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": null,
          "new_api": "startswith",
          "old_text": null,
          "new_text": "CheckStr.startswith(educationalNotesSpecifier)",
          "old_line_content": "        std::pair<StringRef, StringRef> split;",
          "new_line_content": "      if (CheckStr.startswith(educationalNotesSpecifier)) {",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "Expected.EducationalNotes.has_value()",
          "old_line_content": "        do {",
          "new_line_content": "        if (Expected.EducationalNotes.has_value()) {",
          "content_same": false
        },
        {
          "line": 170,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "I->Message.find(Expected.MessageStr)",
          "old_line_content": "    return { I, true };",
          "new_line_content": "    if (I->Message.find(Expected.MessageStr) == StringRef::npos)",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": null,
          "new_api": "verifyFile",
          "old_text": null,
          "new_text": "verifyFile(BufferID)",
          "old_line_content": "  if (Result.HadUnexpectedDiag)",
          "new_line_content": "      DiagnosticVerifier::Result FileResult = verifyFile(BufferID);",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": null,
          "new_api": "substr",
          "old_text": null,
          "new_text": "CheckStr.substr(\n            educationalNotesSpecifier.size())",
          "old_line_content": "        continue;",
          "new_line_content": "        StringRef NotesStr = CheckStr.substr(",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "educationalNotesSpecifier.size()",
          "old_line_content": "      }",
          "new_line_content": "            educationalNotesSpecifier.size()); // Trim 'educational-notes='.",
          "content_same": false
        },
        {
          "line": 175,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "Expected.MessageStr.empty()",
          "old_line_content": "}",
          "new_line_content": "      if (fallbackI == E && !Expected.MessageStr.empty())",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": null,
          "new_api": "verifyUnknown",
          "old_text": null,
          "new_text": "verifyUnknown(SM, CapturedDiagnostics)",
          "old_line_content": "",
          "new_line_content": "    bool HadError = verifyUnknown(SM, CapturedDiagnostics);",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": null,
          "new_api": "split",
          "old_text": null,
          "new_text": "NotesStr.split(',')",
          "old_line_content": "        if (Expected.noneMarkerStartLoc) {",
          "new_line_content": "          split = NotesStr.split(',');",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "NotesStr.empty()",
          "old_line_content": "                       \"}} was found. It may only appear once in an expectation.\");",
          "new_line_content": "        } while (!NotesStr.empty());",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": null,
          "new_api": "emplace",
          "old_text": null,
          "new_text": "Expected.EducationalNotes.emplace(OpenLoc, CloseLoc, names)",
          "old_line_content": "          break;",
          "new_line_content": "        Expected.EducationalNotes.emplace(OpenLoc, CloseLoc, names);",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": null,
          "new_api": "printRemainingDiagnostics",
          "old_text": null,
          "new_text": "printRemainingDiagnostics()",
          "old_line_content": "",
          "new_line_content": "    printRemainingDiagnostics();",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": null,
          "new_api": "Twine",
          "old_text": null,
          "new_text": "Twine(\"A second {{\")",
          "old_line_content": "                                                  fixitExpectationNoneString +",
          "new_line_content": "                   Twine(\"A second {{\") + fixitExpectationNoneString +",
          "content_same": false
        },
        {
          "line": 197,
          "old_api": null,
          "new_api": "getFixIts",
          "old_text": null,
          "new_text": "diag.getFixIts().end()",
          "old_line_content": "            });",
          "new_line_content": "    FixIts.append(diag.getFixIts().begin(), diag.getFixIts().end());",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": null,
          "new_api": "Twine",
          "old_text": null,
          "new_text": "Twine(\"{{\")",
          "old_line_content": "      }",
          "new_line_content": "        addError(Expected.noneMarkerStartLoc, Twine(\"{{\") +",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": null,
          "new_api": "getRange",
          "old_text": null,
          "new_text": "rhs.getRange().Start.getPointer()",
          "old_line_content": "                           }),",
          "new_line_content": "                     rhs.getRange().Start.getPointer();",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "CheckStr.empty()",
          "old_line_content": "",
          "new_line_content": "      if (CheckStr.empty()) {",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": null,
          "new_api": "Twine",
          "old_text": null,
          "new_text": "Twine(\"expected fix-it verification within \"\n                                        \"braces; example: '1-2=text' or '\")",
          "old_line_content": "      if (const auto range =",
          "new_line_content": "        addError(CheckStr.data(), Twine(\"expected fix-it verification within \"",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "FixIts.end()",
          "old_line_content": "  // developer to handle manually.",
          "new_line_content": "  FixIts.erase(std::unique(FixIts.begin(), FixIts.end(),",
          "content_same": false
        },
        {
          "line": 214,
          "old_api": null,
          "new_api": "getRange",
          "old_text": null,
          "new_text": "lhs.getRange()",
          "old_line_content": "                   [](const llvm::SMFixIt &lhs, const llvm::SMFixIt &rhs) {",
          "new_line_content": "                             return lhs.getRange().Start ==",
          "content_same": false
        },
        {
          "line": 217,
          "old_api": null,
          "new_api": "getText",
          "old_text": null,
          "new_text": "rhs.getText()",
          "old_line_content": "                   }),",
          "new_line_content": "                                    lhs.getText() == rhs.getText();",
          "content_same": false
        },
        {
          "line": 219,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "FixIts.end()",
          "old_line_content": "",
          "new_line_content": "               FixIts.end());",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": null,
          "new_api": "parseExpectedFixItRange",
          "old_text": null,
          "new_text": "parseExpectedFixItRange(CheckStr, Expected.LineNo, addError)",
          "old_line_content": "        continue;",
          "new_line_content": "              parseExpectedFixItRange(CheckStr, Expected.LineNo, addError)) {",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "range.value()",
          "old_line_content": "      }",
          "new_line_content": "        FixIt.Range = range.value();",
          "content_same": false
        },
        {
          "line": 223,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "swift::removeAdjacentIf(\n                   FixIts.begin(), FixIts.end(),\n                   [](const llvm::SMFixIt &lhs, const llvm::SMFixIt &rhs) {\n                     return lhs.getRange().End.getPointer() >\n                            rhs.getRange().Start.getPointer();\n                   })",
          "old_line_content": "",
          "new_line_content": "  FixIts.erase(swift::removeAdjacentIf(",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "FixIts.end()",
          "old_line_content": "  // Apply the fixes, building up a new buffer as an std::string.",
          "new_line_content": "                   FixIts.begin(), FixIts.end(),",
          "content_same": false
        },
        {
          "line": 226,
          "old_api": null,
          "new_api": "getRange",
          "old_text": null,
          "new_text": "lhs.getRange().End.getPointer()",
          "old_line_content": "  std::string Result;",
          "new_line_content": "                     return lhs.getRange().End.getPointer() >",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": null,
          "new_api": "getRange",
          "old_text": null,
          "new_text": "rhs.getRange().Start.getPointer()",
          "old_line_content": "",
          "new_line_content": "                            rhs.getRange().Start.getPointer();",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": null,
          "new_api": "front",
          "old_text": null,
          "new_text": "CheckStr.front()",
          "old_line_content": "        if (*current == '\\\\' && current + 1 < end) {",
          "new_line_content": "      if (!CheckStr.empty() && CheckStr.front() == '=') {",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "FixIts.end()",
          "old_line_content": "    // We cannot handle overlapping fixits, so assert that they don't happen.",
          "new_line_content": "               FixIts.end());",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": null,
          "new_api": "drop_front",
          "old_text": null,
          "new_text": "CheckStr.drop_front()",
          "old_line_content": "          if (current[1] == 'n') {",
          "new_line_content": "        CheckStr = CheckStr.drop_front();",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "CheckStr.data()",
          "old_line_content": "            current += 2;",
          "new_line_content": "        addError(CheckStr.data(),",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": null,
          "new_api": "getLLVMSourceMgr",
          "old_text": null,
          "new_text": "SM.getLLVMSourceMgr().getMemoryBuffer(BufferID)",
          "old_line_content": "",
          "new_line_content": "  auto memBuffer = SM.getLLVMSourceMgr().getMemoryBuffer(BufferID);",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": null,
          "new_api": "getBuffer",
          "old_text": null,
          "new_text": "memBuffer->getBuffer()",
          "old_line_content": "    // Keep anything from the last spot we've checked to the start of the fixit.",
          "new_line_content": "  auto bufferRange = memBuffer->getBuffer();",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "bufferRange.begin()",
          "old_line_content": "    // Replace the content covered by the fixit with the replacement text.",
          "new_line_content": "  const char *LastPos = bufferRange.begin();",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "CheckStr.end()",
          "old_line_content": "        } else {",
          "new_line_content": "      for (const char *current = CheckStr.begin(), *end = CheckStr.end();",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": null,
          "new_api": "getRange",
          "old_text": null,
          "new_text": "fix.getRange().Start.getPointer()",
          "old_line_content": "  }",
          "new_line_content": "    assert(LastPos <= fix.getRange().Start.getPointer() &&",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": null,
          "new_api": "getRange",
          "old_text": null,
          "new_text": "fix.getRange().Start.getPointer()",
          "old_line_content": "",
          "new_line_content": "    Result.append(LastPos, fix.getRange().Start.getPointer());",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": null,
          "new_api": "getText",
          "old_text": null,
          "new_text": "fix.getText().end()",
          "old_line_content": "                            llvm::sys::fs::OpenFlags::OF_None);",
          "new_line_content": "    Result.append(fix.getText().begin(), fix.getText().end());",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": null,
          "new_api": "getRange",
          "old_text": null,
          "new_text": "fix.getRange().End.getPointer()",
          "old_line_content": "}",
          "new_line_content": "    LastPos = fix.getRange().End.getPointer();",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "Expected.Fixits.back().push_back(FixIt)",
          "old_line_content": "      --Expected.ExpectedEnd;",
          "new_line_content": "      Expected.Fixits.back().push_back(FixIt);",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "bufferRange.end()",
          "old_line_content": "verifyUnknown(SourceManager &SM,",
          "new_line_content": "  Result.append(LastPos, bufferRange.end());",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": null,
          "new_api": "pop_back",
          "old_text": null,
          "new_text": "Expected.Fixits.pop_back()",
          "old_line_content": "  }",
          "new_line_content": "      Expected.Fixits.pop_back();",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "ExtraChecks.data()",
          "old_line_content": "  // Make sure all the expected diagnostics appeared.",
          "new_line_content": "    Expected.ExpectedEnd = ExtraChecks.data();",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "ExpectedDiagnostics.push_back(Expected)",
          "old_line_content": "    auto FoundDiagnosticInfo =",
          "new_line_content": "      ExpectedDiagnostics.push_back(Expected);",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "ExpectedDiagnostics.end()",
          "old_line_content": "      // Diagnostic didn't exist.  If this is a 'mayAppear' diagnostic, then",
          "new_line_content": "  std::reverse(ExpectedDiagnostics.begin(), ExpectedDiagnostics.end());",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "ExpectedDiagnostics.size()",
          "old_line_content": "      if (expected.mayAppear)",
          "new_line_content": "  for (unsigned i = ExpectedDiagnostics.size(); i != 0; ) {",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": null,
          "new_api": "str",
          "old_text": null,
          "new_text": "\"unexpected \" +\n         getDiagKindString(CapturedDiagnostics[i].Classification) +\n         \" produced: \" + CapturedDiagnostics[i].Message)\n            .str()",
          "old_line_content": "",
          "new_line_content": "        (\"unexpected \" +",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": null,
          "new_api": "getDiagKindString",
          "old_text": null,
          "new_text": "getDiagKindString(CapturedDiagnostics[i].Classification)",
          "old_line_content": "/// Return true if the given \\p ExpectedFixIt is in the fix-its emitted by",
          "new_line_content": "         getDiagKindString(CapturedDiagnostics[i].Classification) +",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": null,
          "new_api": "findDiagnostic",
          "old_text": null,
          "new_text": "findDiagnostic(CapturedDiagnostics, expected, BufferName)",
          "old_line_content": "                               const char *replStartLoc, const char *replEndLoc,",
          "new_line_content": "        findDiagnostic(CapturedDiagnostics, expected, BufferName);",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": null,
          "new_api": "GetMessage",
          "old_text": null,
          "new_text": "SM.GetMessage({}, llvm::SourceMgr::DK_Error, Message, {}, {})",
          "old_line_content": "    const CapturedDiagnosticInfo &D, unsigned BufferID) const {",
          "new_line_content": "    auto diag = SM.GetMessage({}, llvm::SourceMgr::DK_Error, Message, {}, {});",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": null,
          "new_api": "llvm::errs()",
          "old_text": null,
          "new_text": "llvm::errs()",
          "old_line_content": "  for (auto &ActualFixIt : D.FixIts) {",
          "new_line_content": "    SM.getLLVMSourceMgr().PrintMessage(llvm::errs(), diag);",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": null,
          "new_api": "std::get<0>(FoundDiagnosticInfo)",
          "old_text": null,
          "new_text": "std::get<0>(FoundDiagnosticInfo)",
          "old_line_content": "                               const std::string &replStr) {",
          "new_line_content": "    auto FoundDiagnosticIter = std::get<0>(FoundDiagnosticInfo);",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "CapturedDiagnostics.end()",
          "old_line_content": "      llvm::SMFixIt fix(llvm::SMRange(SMLoc::getFromPointer(replStartLoc),",
          "new_line_content": "    if (FoundDiagnosticIter == CapturedDiagnostics.end()) {",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "ExpectedDiagnostics.begin()",
          "old_line_content": "    };",
          "new_line_content": "        ExpectedDiagnostics.erase(ExpectedDiagnostics.begin()+i);",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": null,
          "new_api": "getText",
          "old_text": null,
          "new_text": "ActualFixIt.getText()",
          "old_line_content": "      return true;",
          "new_line_content": "      if (ActualFixIt.getText() != Expected.Text)",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": null,
          "new_api": "getLineColumnRange",
          "old_text": null,
          "new_text": "ActualFixIt.getLineColumnRange(SM, BufferID)",
          "old_line_content": "",
          "new_line_content": "      auto &ActualRange = ActualFixIt.getLineColumnRange(SM, BufferID);",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": null,
          "new_api": "std::get<1>(FoundDiagnosticInfo)",
          "old_text": null,
          "new_text": "std::get<1>(FoundDiagnosticInfo)",
          "old_line_content": "",
          "new_line_content": "    if (!std::get<1>(FoundDiagnosticInfo)) {",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": null,
          "new_api": "getDiagKindString",
          "old_text": null,
          "new_text": "getDiagKindString(FoundDiagnostic.Classification)",
          "old_line_content": "",
          "new_line_content": "      auto actualKind = getDiagKindString(FoundDiagnostic.Classification);",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": null,
          "new_api": "emitFixItsError",
          "old_text": null,
          "new_text": "emitFixItsError(expected.ClassificationStart,\n          llvm::Twine(\"expected \") + expectedKind + \", not \" + actualKind,\n          expected.ClassificationStart, expected.ClassificationEnd,\n          actualKind)",
          "old_line_content": "      // If we found it, we're ok.",
          "new_line_content": "      emitFixItsError(expected.ClassificationStart,",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "fixitAlternates.empty()",
          "old_line_content": "",
          "new_line_content": "      assert(!fixitAlternates.empty() && \"an empty alternation survived\");",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": null,
          "new_api": "getLineColumnRange",
          "old_text": null,
          "new_text": "interleave(\n      ActualFixIts,\n      [&](const CapturedFixItInfo &ActualFixIt) {\n        auto &ActualRange = ActualFixIt.getLineColumnRange(SM, BufferID);\n        OS << \"{{\";\n\n        if (ActualRange.StartLine != DiagnosticLineNo)\n          OS << ActualRange.StartLine << ':';\n        OS << ActualRange.StartCol;\n\n        OS << '-';\n\n        if (ActualRange.EndLine != ActualRange.StartLine)\n          OS << ActualRange.EndLine << ':';\n        OS << ActualRange.EndCol;\n\n        OS << '=';\n\n        for (auto C : ActualFixIt.getText()) {\n          if (C == '\\n')\n            OS << \"\\\\n\";\n          else if (C == '}' || C == '\\\\')\n            OS << '\\\\' << C;\n          else\n            OS << C;\n        }\n        OS << \"}}\";\n      },\n      [&] { OS << ' '; })",
          "old_line_content": "",
          "new_line_content": "  interleave(",
          "content_same": false
        },
        {
          "line": 830,
          "old_api": null,
          "new_api": "checkForFixIt",
          "old_text": null,
          "new_text": "checkForFixIt(fixitAlternates, FoundDiagnostic, BufferID)",
          "old_line_content": "      std::string actualFixits;",
          "new_line_content": "      if (!checkForFixIt(fixitAlternates, FoundDiagnostic, BufferID)) {",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": null,
          "new_api": "front",
          "old_text": null,
          "new_text": "fixitAlternates.front()",
          "old_line_content": "    };",
          "new_line_content": "        missedFixitLoc = fixitAlternates.front().StartLoc;",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": null,
          "new_api": "getLineColumnRange",
          "old_text": null,
          "new_text": "ActualFixIt.getLineColumnRange(SM, BufferID)",
          "old_line_content": "        OS << ActualRange.EndCol;",
          "new_line_content": "        auto &ActualRange = ActualFixIt.getLineColumnRange(SM, BufferID);",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "FoundDiagnostic.FixIts.size()",
          "old_line_content": "",
          "new_line_content": "        expected.Fixits.size() < FoundDiagnostic.FixIts.size();",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": null,
          "new_api": "renderFixits",
          "old_text": null,
          "new_text": "renderFixits(actualFixits, BufferID, expected.LineNo)",
          "old_line_content": "    if (missedFixitLoc) {",
          "new_line_content": "          renderFixits(actualFixits, BufferID, expected.LineNo);",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "Twine(\"actual fix-it\") +\n                                 (actualFixits.size() >= 2 ? \"s\" : \"\") +\n                                 \" seen: \" + actualFixitsStr).str()",
          "old_line_content": "      // of our own.",
          "new_line_content": "      return ActualFixitsPhrase{(Twine(\"actual fix-it\") +",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "actualFixits.size()",
          "old_line_content": "",
          "new_line_content": "                                 (actualFixits.size() >= 2 ? \"s\" : \"\") +",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": null,
          "new_api": "str",
          "old_text": null,
          "new_text": "OS.str()",
          "old_line_content": "    llvm::function_ref<void(const char *, const Twine &)> diagnoseError) {",
          "new_line_content": "  return OS.str();",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "expected.Fixits.empty()",
          "old_line_content": "        /// eat a space before first marker.",
          "new_line_content": "      assert(!expected.Fixits.empty() &&",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": null,
          "new_api": "front",
          "old_text": null,
          "new_text": "expected.Fixits.front().front()",
          "old_line_content": "        /// @code",
          "new_line_content": "      const char *replStartLoc = expected.Fixits.front().front().StartLoc;",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "expected.Fixits.back().back()",
          "old_line_content": "        /// expected-error {{message}} {{1-2=aa}}",
          "new_line_content": "      const char *replEndLoc = expected.Fixits.back().back().EndLoc;",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "FoundDiagnostic.FixIts.empty()",
          "old_line_content": "          --replStartLoc;",
          "new_line_content": "      if (FoundDiagnostic.FixIts.empty()) {",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "Str.empty()",
          "old_line_content": "        break;",
          "new_line_content": "    if (!Str.empty()) {",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": null,
          "new_api": "front",
          "old_text": null,
          "new_text": "Str.front()",
          "old_line_content": "      }",
          "new_line_content": "      switch (Str.front()) {",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "makeActualFixitsPhrase",
          "old_text": null,
          "new_text": "makeActualFixitsPhrase(FoundDiagnostic.FixIts)",
          "old_line_content": "             \"some fix-its should be produced here\");",
          "new_line_content": "        auto phrase = makeActualFixitsPhrase(FoundDiagnostic.FixIts);",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": null,
          "new_api": "drop_front",
          "old_text": null,
          "new_text": "Str.drop_front()",
          "old_line_content": "    unsigned FirstVal = 0;",
          "new_line_content": "        Str = Str.drop_front();",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": null,
          "new_api": "drop_front",
          "old_text": null,
          "new_text": "Str.drop_front()",
          "old_line_content": "                      \"expected line or column number in fix-it verification\");",
          "new_line_content": "        Str = Str.drop_front();",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": null,
          "new_api": "noExtraFixitsMayAppear",
          "old_text": null,
          "new_text": "expected.noExtraFixitsMayAppear()",
          "old_line_content": "        replStartLoc = expected.noneMarkerStartLoc;",
          "new_line_content": "    } else if (expected.noExtraFixitsMayAppear() && isUnexpectedFixitsSeen) {",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "FoundDiagnostic.FixIts.empty()",
          "old_line_content": "        message = \"unexpected fix-it seen\";",
          "new_line_content": "      assert(!FoundDiagnostic.FixIts.empty() &&",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": null,
          "new_api": "consumeInteger",
          "old_text": null,
          "new_text": "Str.consumeInteger(10, FirstVal)",
          "old_line_content": "",
          "new_line_content": "    if (Str.consumeInteger(10, FirstVal)) {",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "Str.data()",
          "old_line_content": "    // line offset that is missing a column.",
          "new_line_content": "        diagnoseError(Str.data(),",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "expected.Fixits.empty()",
          "old_line_content": "      std::string actualFixits = phrase.actualFixits;",
          "new_line_content": "      if (expected.Fixits.empty()) {",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "Str.data()",
          "old_line_content": "        return ParsedLineAndColumn{None, FirstVal};",
          "new_line_content": "        diagnoseError(Str.data(),",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": null,
          "new_api": "front",
          "old_text": null,
          "new_text": "expected.Fixits.front().front()",
          "old_line_content": "        /// For example:",
          "new_line_content": "        replStartLoc = expected.Fixits.front().front().StartLoc;",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "expected.Fixits.back().back()",
          "old_line_content": "        ///",
          "new_line_content": "        replEndLoc = expected.Fixits.back().back().EndLoc;",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": null,
          "new_api": "makeActualFixitsPhrase",
          "old_text": null,
          "new_text": "makeActualFixitsPhrase(FoundDiagnostic.FixIts)",
          "old_line_content": "        ///                            ^",
          "new_line_content": "      auto phrase = makeActualFixitsPhrase(FoundDiagnostic.FixIts);",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": null,
          "new_api": "front",
          "old_text": null,
          "new_text": "Str.front()",
          "old_line_content": "    unsigned Column = 0;",
          "new_line_content": "    if (Str.empty() || Str.front() != ':') {",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "Str.data()",
          "old_line_content": "      return None;",
          "new_line_content": "      diagnoseError(Str.data(),",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": null,
          "new_api": "drop_front",
          "old_text": null,
          "new_text": "Str.drop_front()",
          "old_line_content": "    case OffsetKind::Plus:",
          "new_line_content": "    Str = Str.drop_front();",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": null,
          "new_api": "consumeInteger",
          "old_text": null,
          "new_text": "Str.consumeInteger(10, Column)",
          "old_line_content": "      FirstVal += DiagnosticLineNo;",
          "new_line_content": "    if (Str.consumeInteger(10, Column)) {",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "Str.data()",
          "old_line_content": "      break;",
          "new_line_content": "      diagnoseError(Str.data(),",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": null,
          "new_api": "equals",
          "old_text": null,
          "new_text": "llvm::erase_if(expectedNotes->Names,\n                       [&](StringRef item) { return item.equals(foundName); })",
          "old_line_content": "          auto actual =",
          "new_line_content": "        llvm::erase_if(expectedNotes->Names,",
          "content_same": false
        },
        {
          "line": 939,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "expectedNotes->Names.empty()",
          "old_line_content": "",
          "new_line_content": "      if (!expectedNotes->Names.empty()) {",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "FoundDiagnostic.EducationalNotes.empty()",
          "old_line_content": "          llvm::SMFixIt fix(llvm::SMRange(replStartLoc, replEndLoc), actual);",
          "new_line_content": "        if (FoundDiagnostic.EducationalNotes.empty()) {",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": null,
          "new_api": "renderEducationalNotes",
          "old_text": null,
          "new_text": "renderEducationalNotes(FoundDiagnostic.EducationalNotes)",
          "old_line_content": "",
          "new_line_content": "              renderEducationalNotes(FoundDiagnostic.EducationalNotes);",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": null,
          "new_api": "SMLoc::getFromPointer(expectedNotes->StartLoc)",
          "old_text": null,
          "new_text": "SMLoc::getFromPointer(expectedNotes->StartLoc)",
          "old_line_content": "    // Actually remove the diagnostic from the list, so we don't match it",
          "new_line_content": "          auto replStartLoc = SMLoc::getFromPointer(expectedNotes->StartLoc);",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": null,
          "new_api": "SMLoc::getFromPointer(expectedNotes->EndLoc)",
          "old_text": null,
          "new_text": "SMLoc::getFromPointer(expectedNotes->EndLoc)",
          "old_line_content": "    // again. We do have to do this after checking fix-its, though, because",
          "new_line_content": "          auto replEndLoc = SMLoc::getFromPointer(expectedNotes->EndLoc);",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": null,
          "new_api": "value_or",
          "old_text": null,
          "new_text": "LineAndCol->Line.value_or(DiagnosticLineNo)",
          "old_line_content": "    return None;",
          "new_line_content": "    Range.StartLine = LineAndCol->Line.value_or(DiagnosticLineNo);",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": null,
          "new_api": "addError",
          "old_text": null,
          "new_text": "addError(expectedNotes->StartLoc,\n                   \"expected educational note(s) not seen; actual educational \"\n                   \"note(s): \" + actual, fix)",
          "old_line_content": "    ",
          "new_line_content": "          addError(expectedNotes->StartLoc,",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": null,
          "new_api": "front",
          "old_text": null,
          "new_text": "Str.front()",
          "old_line_content": "    Range.EndCol = LineAndCol->Column;",
          "new_line_content": "  if (!Str.empty() && Str.front() == '-') {",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": null,
          "new_api": "drop_front",
          "old_text": null,
          "new_text": "Str.drop_front()",
          "old_line_content": "  } else {",
          "new_line_content": "    Str = Str.drop_front();",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "Str.data()",
          "old_line_content": "  }",
          "new_line_content": "    diagnoseError(Str.data(),",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "CapturedDiagnostics.erase(FoundDiagnosticIter)",
          "old_line_content": "  // such.",
          "new_line_content": "    CapturedDiagnostics.erase(FoundDiagnosticIter);",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": null,
          "new_api": "parseLineAndColumn",
          "old_text": null,
          "new_text": "parseLineAndColumn()",
          "old_line_content": "/// After the file has been processed, check to see if we got all of",
          "new_line_content": "  if (const auto LineAndCol = parseLineAndColumn()) {",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": null,
          "new_api": "value_or",
          "old_text": null,
          "new_text": "LineAndCol->Line.value_or(Range.StartLine)",
          "old_line_content": "/// ones.",
          "new_line_content": "    Range.EndLine = LineAndCol->Line.value_or(Range.StartLine);",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "ExpectedDiagnostics.begin()",
          "old_line_content": "      // Verify the file and line of the diagnostic.",
          "new_line_content": "      ExpectedDiagnostics.erase(ExpectedDiagnostics.begin()+i);",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "ExpectedDiagnostics.begin()",
          "old_line_content": "      // Otherwise, we found it, break out.",
          "new_line_content": "  auto expectedDiagIter = ExpectedDiagnostics.begin();",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "ExpectedDiagnostics.end()",
          "old_line_content": "      break;",
          "new_line_content": "  while (expectedDiagIter != ExpectedDiagnostics.end()) {",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "CapturedDiagnostics.end()",
          "old_line_content": "      ++expectedDiagIter;",
          "new_line_content": "    for (auto E = CapturedDiagnostics.end(); I != E; ++I) {",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": null,
          "new_api": "getLocForBufferStart",
          "old_text": null,
          "new_text": "SM.getLocForBufferStart(BufferID)",
          "old_line_content": "",
          "new_line_content": "  const SourceLoc BufferStartLoc = SM.getLocForBufferStart(BufferID);",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": null,
          "new_api": "getEntireTextForBuffer",
          "old_text": null,
          "new_text": "SM.getEntireTextForBuffer(BufferID)",
          "old_line_content": "  auto addError = [&](const char *Loc, const Twine &message,",
          "new_line_content": "  StringRef InputFile = SM.getEntireTextForBuffer(BufferID);",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": null,
          "new_api": "getIdentifierForBuffer",
          "old_text": null,
          "new_text": "SM.getIdentifierForBuffer(BufferID)",
          "old_line_content": "                      ArrayRef<llvm::SMFixIt> FixIts = {}) {",
          "new_line_content": "  StringRef BufferName = SM.getIdentifierForBuffer(BufferID);",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "expectedDiagIter->MessageRange.begin()",
          "old_line_content": "                             I->Column, *expectedDiagIter->ColumnNo));",
          "new_line_content": "          SMLoc::getFromPointer(expectedDiagIter->MessageRange.begin());",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "expectedDiagIter->MessageRange.end()",
          "old_line_content": "    } else {",
          "new_line_content": "      auto EndLoc = SMLoc::getFromPointer(expectedDiagIter->MessageRange.end());",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "InputFile.find(\"expected-\")",
          "old_line_content": "      ExpectedClassification = DiagnosticKind::Note;",
          "new_line_content": "  for (size_t Match = InputFile.find(\"expected-\");",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "expectedDiagIter->MessageRange.begin()",
          "old_line_content": "  // Diagnose expected diagnostics that didn't appear.",
          "new_line_content": "      addError(expectedDiagIter->MessageRange.begin(),",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(\"expected-\")",
          "old_line_content": "      ExpectedClassification = DiagnosticKind::Error;",
          "new_line_content": "    MatchStart = MatchStart.substr(strlen(\"expected-\"));",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": null,
          "new_api": "llvm_unreachable",
          "old_text": null,
          "new_text": "llvm_unreachable(\"unhandled difference from expected diagnostic\")",
          "old_line_content": "",
          "new_line_content": "      llvm_unreachable(\"unhandled difference from expected diagnostic\");",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": null,
          "new_api": "startswith",
          "old_text": null,
          "new_text": "MatchStart.startswith(\"error\")",
          "old_line_content": "",
          "new_line_content": "    } else if (MatchStart.startswith(\"error\")) {",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "CapturedDiagnostics.erase(I)",
          "old_line_content": "    auto StartLoc = expected.ExpectedStart;",
          "new_line_content": "    CapturedDiagnostics.erase(I);",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "ExpectedDiagnostics.erase(expectedDiagIter)",
          "old_line_content": "    auto EndLoc = expected.ExpectedEnd;",
          "new_line_content": "    expectedDiagIter = ExpectedDiagnostics.erase(expectedDiagIter);",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(\"note\")",
          "old_line_content": "      continue;",
          "new_line_content": "      MatchStart = MatchStart.substr(strlen(\"note\"));",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "startswith",
          "old_text": null,
          "new_text": "MatchStart.startswith(\"warning\")",
          "old_line_content": "",
          "new_line_content": "    } else if (MatchStart.startswith(\"warning\")) {",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "getDiagKindString",
          "old_text": null,
          "new_text": "getDiagKindString(expected.Classification)",
          "old_line_content": "",
          "new_line_content": "    std::string message = \"expected \"+getDiagKindString(expected.Classification)",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(\"error\")",
          "old_line_content": "    if (TextStartIdx >=",
          "new_line_content": "      MatchStart = MatchStart.substr(strlen(\"error\"));",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(\"remark\")",
          "old_line_content": "               \"expected {{ in expected-warning/note/error line\");",
          "new_line_content": "      MatchStart = MatchStart.substr(strlen(\"remark\"));",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1025,
          "old_api": "data",
          "new_api": null,
          "old_text": "InputFile.data()",
          "new_text": null,
          "old_line_content": "      auto FileStart = InputFile.data();",
          "new_line_content": "    // A very common case if for the specifier to be the last thing on the line.",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(StartLoc[-1])",
          "new_text": null,
          "old_line_content": "      while (StartLoc-1 != FileStart && isspace(StartLoc[-1]) &&",
          "new_line_content": "    // In this case, eat any trailing whitespace.",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": "data",
          "new_api": null,
          "old_text": "MatchStart.data()",
          "new_text": null,
          "old_line_content": "        addError(MatchStart.data(),",
          "new_line_content": "      continue;",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "slice",
          "new_api": null,
          "old_text": "MatchStart.slice(2, TextStartIdx).rtrim()",
          "new_text": null,
          "old_line_content": "        Offs = MatchStart.slice(2, TextStartIdx).rtrim();",
          "new_line_content": "    int LineOffset = 0;",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": "slice",
          "new_api": null,
          "old_text": "MatchStart.slice(1, TextStartIdx).rtrim()",
          "new_text": null,
          "old_line_content": "        Offs = MatchStart.slice(1, TextStartIdx).rtrim();",
          "new_line_content": "    if (TextStartIdx > 0 && MatchStart[0] == '@') {",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": "find",
          "new_api": null,
          "old_text": "Offs.find(' ')",
          "new_text": null,
          "old_line_content": "      size_t SpaceIndex = Offs.find(' ');",
          "new_line_content": "          MatchStart[1] != ':') {",
          "content_same": false
        },
        {
          "line": 535,
          "old_api": "size",
          "new_api": null,
          "old_text": "Offs.size()",
          "new_text": null,
          "old_line_content": "        size_t Delta = Offs.size() - SpaceIndex;",
          "new_line_content": "                 \"expected '+'/'-' for line offset, or ':' for column\");",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": "substr",
          "new_api": null,
          "old_text": "MatchStart.substr(TextStartIdx - Delta)",
          "new_text": null,
          "old_line_content": "        MatchStart = MatchStart.substr(TextStartIdx - Delta);",
          "new_line_content": "        continue;",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": "SMLoc::getFromPointer(StartLoc)",
          "new_api": null,
          "old_text": "SMLoc::getFromPointer(StartLoc)",
          "new_text": null,
          "old_line_content": "      SMLoc::getFromPointer(StartLoc),",
          "new_line_content": "             StartLoc[-1] != '\\n' && StartLoc[-1] != '\\r')",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": "SMLoc::getFromPointer(EndLoc)",
          "new_api": null,
          "old_text": "SMLoc::getFromPointer(EndLoc)",
          "new_text": null,
          "old_line_content": "      SMLoc::getFromPointer(EndLoc)",
          "new_line_content": "        --StartLoc;",
          "content_same": false
        },
        {
          "line": 538,
          "old_api": "slice",
          "new_api": null,
          "old_text": "Offs.slice(0, SpaceIndex)",
          "new_text": null,
          "old_line_content": "        Offs = Offs.slice(0, SpaceIndex);",
          "new_line_content": "      StringRef Offs;",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": "addError",
          "new_api": null,
          "old_text": "addError(expected.ExpectedStart, message, fixIt)",
          "new_text": null,
          "old_line_content": "    addError(expected.ExpectedStart, message, fixIt);",
          "new_line_content": "      // If we found a \\n, then we can nuke the entire line.",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "begin",
          "new_api": null,
          "old_text": "CapturedDiagnostics.begin()",
          "new_text": null,
          "old_line_content": "  auto CapturedDiagIter = CapturedDiagnostics.begin();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "end",
          "new_api": null,
          "old_text": "CapturedDiagnostics.end()",
          "new_text": null,
          "old_line_content": "  while (CapturedDiagIter != CapturedDiagnostics.end()) {",
          "new_line_content": "    // Remove the expected-foo{{}} as a fixit.",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": "getAsInteger",
          "new_api": null,
          "old_text": "LineOffs.getAsInteger(10, LineOffset)",
          "new_text": null,
          "old_line_content": "        if (LineOffs.getAsInteger(10, LineOffset)) {",
          "new_line_content": "        TextStartIdx = Delta;",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "getDiagKindString",
          "new_api": null,
          "old_text": "getDiagKindString(CapturedDiagIter->Classification)",
          "new_text": null,
          "old_line_content": "        (\"unexpected \" + getDiagKindString(CapturedDiagIter->Classification) +",
          "new_line_content": "  // Verify that there are no diagnostics (in MemoryBuffer) left in the list.",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": "size",
          "new_api": null,
          "old_text": "Offs.size()",
          "new_text": null,
          "old_line_content": "        Offs = Offs.slice(ColonIndex + 1, Offs.size());",
          "new_line_content": "      // Check whether a line offset was provided",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": "erase",
          "new_api": null,
          "old_text": "CapturedDiagnostics.erase(CapturedDiagIter)",
          "new_text": null,
          "old_line_content": "    CapturedDiagIter = CapturedDiagnostics.erase(CapturedDiagIter);",
          "new_line_content": "    if (CapturedDiagIter->FileName != BufferName) {",
          "content_same": false
        },
        {
          "line": 50,
          "old_api": "std::tie(LineColRange.EndLine, LineColRange.EndCol)",
          "new_api": null,
          "old_text": "std::tie(LineColRange.EndLine, LineColRange.EndCol)",
          "new_text": null,
          "old_line_content": "  std::tie(LineColRange.EndLine, LineColRange.EndCol) =",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 51,
          "old_api": "getEnd",
          "new_api": null,
          "old_text": "SrcRange.getEnd()",
          "new_text": null,
          "old_line_content": "      SM.getPresumedLineAndColumnForLoc(SrcRange.getEnd(), BufferID);",
          "new_line_content": "  // We don't have to compute much if the end location is on the same line.",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": "end",
          "new_api": null,
          "old_text": "Errors.end()",
          "new_text": null,
          "old_line_content": "  std::sort(Errors.begin(), Errors.end(),",
          "new_line_content": "    std::string Message =",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": "getLoc",
          "new_api": null,
          "old_text": "rhs.getLoc().getPointer()",
          "new_text": null,
          "old_line_content": "              return lhs.getLoc().getPointer() < rhs.getLoc().getPointer();",
          "new_line_content": "            .str();",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": "substr",
          "new_api": null,
          "old_text": "MatchStart.substr(0, TextStartIdx).trim(\" \\t\")",
          "new_text": null,
          "old_line_content": "      StringRef CountStr = MatchStart.substr(0, TextStartIdx).trim(\" \\t\");",
          "new_line_content": "        int Column = 0;",
          "content_same": false
        },
        {
          "line": 59,
          "old_api": "constexpr",
          "new_api": null,
          "old_text": "constexpr",
          "new_text": null,
          "old_line_content": "static constexpr StringLiteral educationalNotesSpecifier(\"educational-notes=\");",
          "new_line_content": "  } else {",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": "getAsInteger",
          "new_api": null,
          "old_text": "CountStr.getAsInteger(10, Count)",
          "new_text": null,
          "old_line_content": "        if (CountStr.getAsInteger(10, Count)) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": "data",
          "new_api": null,
          "old_text": "MatchStart.data()",
          "new_text": null,
          "old_line_content": "          addError(MatchStart.data(), \"expected match count before '{{'\");",
          "new_line_content": "        Expected.ColumnNo = Column;",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": "llvm::errs()",
          "new_api": null,
          "old_text": "llvm::errs()",
          "new_text": null,
          "old_line_content": "    SM.getLLVMSourceMgr().PrintMessage(llvm::errs(), Err);",
          "new_line_content": "  // Sort the diagnostics by their address in the memory buffer as the primary",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": "autoApplyFixes",
          "new_api": null,
          "old_text": "autoApplyFixes(SM, BufferID, Errors)",
          "new_text": null,
          "old_line_content": "    autoApplyFixes(SM, BufferID, Errors);",
          "new_line_content": "            [&](const llvm::SMDiagnostic &lhs,",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": "data",
          "new_api": null,
          "old_text": "MatchStart.data()",
          "new_text": null,
          "old_line_content": "          addError(MatchStart.data(),",
          "new_line_content": "    unsigned Count = 1;",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": "find",
          "new_api": null,
          "old_text": "MatchStart.find(\"}}\")",
          "new_text": null,
          "old_line_content": "    size_t End = MatchStart.find(\"}}\");",
          "new_line_content": "        if (Count == 0) {",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "data",
          "new_api": null,
          "old_text": "MatchStart.data()",
          "new_text": null,
          "old_line_content": "      addError(MatchStart.data(),",
          "new_line_content": "                   \"expected positive match count before '{{'\");",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": "str",
          "new_api": null,
          "old_text": "Lexer::getEncodedStringSegment(Expected.MessageRange, Buf).str()",
          "new_text": null,
          "old_line_content": "        Lexer::getEncodedStringSegment(Expected.MessageRange, Buf).str();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": "getPresumedLineAndColumnForLoc",
          "new_api": null,
          "old_text": "SM.getPresumedLineAndColumnForLoc(\n                              BufferStartLoc.getAdvancedLoc(MatchStart.data() -\n                                                            InputFile.data()),\n                              BufferID)",
          "new_text": null,
          "old_line_content": "      Expected.LineNo = SM.getPresumedLineAndColumnForLoc(",
          "new_line_content": "          \"didn't find '}}' to match '{{' in expected-warning/note/error line\");",
          "content_same": false
        },
        {
          "line": 602,
          "old_api": "data",
          "new_api": null,
          "old_text": "MatchStart.data()",
          "new_text": null,
          "old_line_content": "                              BufferStartLoc.getAdvancedLoc(MatchStart.data() -",
          "new_line_content": "      continue;",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": "data",
          "new_api": null,
          "old_text": "InputFile.data()",
          "new_text": null,
          "old_line_content": "                                                            InputFile.data()),",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": "getLLVMSourceMgr",
          "new_api": null,
          "old_text": "SM.getLLVMSourceMgr().PrintMessage(\n        llvm::errs(), getRawLoc(diag.Loc), SMKind,\n        \"diagnostic produced elsewhere: \" + diag.Message.str(),\n        /*Ranges=*/{}, {})",
          "new_text": null,
          "old_line_content": "    SM.getLLVMSourceMgr().PrintMessage(",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "getRawLoc",
          "new_api": null,
          "old_text": "getRawLoc(diag.Loc)",
          "new_text": null,
          "old_line_content": "        llvm::errs(), getRawLoc(diag.Loc), SMKind,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": "str",
          "new_api": null,
          "old_text": "diag.Message.str()",
          "new_text": null,
          "old_line_content": "        \"diagnostic produced elsewhere: \" + diag.Message.str(),",
          "new_line_content": "    case DiagnosticKind::Note:",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(\"}}\")",
          "new_text": null,
          "old_line_content": "    StringRef AfterEnd = MatchStart.substr(End + strlen(\"}}\"));",
          "new_line_content": "    if (PrevExpectedContinuationLine)",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": "find_first_not_of",
          "new_api": null,
          "old_text": "AfterEnd.find_first_not_of(\" \\t\")",
          "new_text": null,
          "old_line_content": "    AfterEnd = AfterEnd.substr(AfterEnd.find_first_not_of(\" \\t\"));",
          "new_line_content": "      Expected.LineNo = PrevExpectedContinuationLine;",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": "startswith",
          "new_api": null,
          "old_text": "AfterEnd.startswith(\"\\\\\")",
          "new_text": null,
          "old_line_content": "    if (AfterEnd.startswith(\"\\\\\"))",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "substr",
          "new_api": null,
          "old_text": "MatchStart.substr(End+2).ltrim(\" \\t\")",
          "new_text": null,
          "old_line_content": "    StringRef ExtraChecks = MatchStart.substr(End+2).ltrim(\" \\t\");",
          "new_line_content": "    // Check if the next expected diagnostic should be in the same line.",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": "emplace_back",
          "new_api": null,
          "old_text": "fixIts.emplace_back(fixIt)",
          "new_text": null,
          "old_line_content": "    fixIts.emplace_back(fixIt);",
          "new_line_content": "//===----------------------------------------------------------------------===//",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": "data",
          "new_api": null,
          "old_text": "ExtraChecks.data()",
          "new_text": null,
          "old_line_content": "        addError(ExtraChecks.data(),",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "str",
          "new_api": null,
          "old_text": "llvm::sys::path::stem(notePath).str()",
          "new_text": null,
          "old_line_content": "    eduNotes.push_back(llvm::sys::path::stem(notePath).str());",
          "new_line_content": "/// called with the diagnostic.  We just buffer them up until the end of the",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": "data",
          "new_api": null,
          "old_text": "ExtraChecks.data()",
          "new_text": null,
          "old_line_content": "      const char *OpenLoc = ExtraChecks.data(); // Beginning of opening '{{'.",
          "new_line_content": "      if (EndIndex == StringRef::npos) {",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "isValid",
          "new_api": null,
          "old_text": "Info.Loc.isValid()",
          "new_text": null,
          "old_line_content": "  if (Info.Loc.isValid()) {",
          "new_line_content": "  for (auto &notePath : Info.EducationalNotePaths) {",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "data",
          "new_api": null,
          "old_text": "ExtraChecks.data()",
          "new_text": null,
          "old_line_content": "          ExtraChecks.data() + EndIndex + 2; // End of closing '}}'.",
          "new_line_content": "                 \"didn't find '}}' to match '{{' in diagnostic verification\");",
          "content_same": false
        },
        {
          "line": 124,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"Unhandled DiagKind in switch.\")",
          "new_text": null,
          "old_line_content": "  llvm_unreachable(\"Unhandled DiagKind in switch.\");",
          "new_line_content": "  switch (Kind) {",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": "emplace_back",
          "new_api": null,
          "old_text": "CapturedDiagnostics.emplace_back(message, fileName, Info.Kind, Info.Loc,\n                                     lineAndColumn.first, lineAndColumn.second,\n                                     fixIts, eduNotes)",
          "new_text": null,
          "old_line_content": "    CapturedDiagnostics.emplace_back(message, fileName, Info.Kind, Info.Loc,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": "getDisplayNameForLoc",
          "new_api": null,
          "old_text": "SM.getDisplayNameForLoc(Info.Loc)",
          "new_text": null,
          "old_line_content": "    const auto fileName = SM.getDisplayNameForLoc(Info.Loc);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": "find_first_of",
          "new_api": null,
          "old_text": "CheckStr.find_first_of(\"\\r\\n\")",
          "new_text": null,
          "old_line_content": "      if (CheckStr.find_first_of(\"\\r\\n\") != StringRef::npos) {",
          "new_line_content": "      // Allow for close braces to appear in the replacement text.",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "slice",
          "new_api": null,
          "old_text": "ExtraChecks.slice(2, EndIndex)",
          "new_text": null,
          "old_line_content": "      StringRef CheckStr = ExtraChecks.slice(2, EndIndex);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 133,
          "old_api": "interleave",
          "new_api": null,
          "old_text": "interleave(EducationalNotes, [&](const auto &Note) { OS << Note; },\n             [&] { OS << ','; })",
          "new_text": null,
          "old_line_content": "  interleave(EducationalNotes, [&](const auto &Note) { OS << Note; },",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 136,
          "old_api": "str",
          "new_api": null,
          "old_text": "OS.str()",
          "new_text": null,
          "old_line_content": "  return OS.str();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": "back",
          "new_api": null,
          "old_text": "CapturedDiagnostics.back()",
          "new_text": null,
          "old_line_content": "    auto &capturedDiag = CapturedDiagnostics.back();",
          "new_line_content": "                                     lineAndColumn.first, lineAndColumn.second,",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": "back",
          "new_api": null,
          "old_text": "Expected.Fixits.back().empty()",
          "new_text": null,
          "old_line_content": "          (Expected.Fixits.empty() || !Expected.Fixits.back().empty()))",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "Expected.Fixits.push_back({})",
          "new_text": null,
          "old_line_content": "        Expected.Fixits.push_back({});",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": "getSourceRange",
          "new_api": null,
          "old_text": "fixIt.getSourceRange().getStart()",
          "new_text": null,
          "old_line_content": "          correctSM.getLocForForeignLoc(fixIt.getSourceRange().getStart(), SM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 146,
          "old_api": "end",
          "new_api": null,
          "old_text": "CapturedDiagnostics.end()",
          "new_text": null,
          "old_line_content": "  auto fallbackI = CapturedDiagnostics.end();",
          "new_line_content": "  OS << \"}}\";",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": "getSourceRange",
          "new_api": null,
          "old_text": "fixIt.getSourceRange().getByteLength()",
          "new_text": null,
          "old_line_content": "          CharSourceRange(newStart, fixIt.getSourceRange().getByteLength());",
          "new_line_content": "  // verifier's SourceManager.",
          "content_same": false
        },
        {
          "line": 148,
          "old_api": "end",
          "new_api": null,
          "old_text": "CapturedDiagnostics.end()",
          "new_text": null,
          "old_line_content": "  for (auto I = CapturedDiagnostics.begin(), E = CapturedDiagnostics.end();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": "getSourceRange",
          "new_api": null,
          "old_text": "fixIt.getSourceRange()",
          "new_text": null,
          "old_line_content": "      auto &mutableRange = fixIt.getSourceRange();",
          "new_line_content": "  // If this diagnostic came from a different SourceManager (as can happen",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "substr",
          "new_api": null,
          "old_text": "ExtraChecks.substr(2).ltrim(\" \\t\")",
          "new_text": null,
          "old_line_content": "        ExtraChecks = ExtraChecks.substr(2).ltrim(\" \\t\");",
          "new_line_content": "      // Handle fix-it alternation.",
          "content_same": false
        },
        {
          "line": 155,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "Expected.ColumnNo.has_value()",
          "new_text": null,
          "old_line_content": "    if (Expected.ColumnNo.has_value() && I->Column != *Expected.ColumnNo)",
          "new_line_content": "findDiagnostic(std::vector<CapturedDiagnosticInfo> &CapturedDiagnostics,",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "Expected.EducationalNotes.has_value()",
          "new_text": null,
          "old_line_content": "        if (Expected.EducationalNotes.has_value()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "verifyFile",
          "new_api": null,
          "old_text": "verifyFile(BufferID)",
          "new_text": null,
          "old_line_content": "      DiagnosticVerifier::Result FileResult = verifyFile(BufferID);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "substr",
          "new_api": null,
          "old_text": "CheckStr.substr(\n            educationalNotesSpecifier.size())",
          "new_text": null,
          "old_line_content": "        StringRef NotesStr = CheckStr.substr(",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "size",
          "new_api": null,
          "old_text": "educationalNotesSpecifier.size()",
          "new_text": null,
          "old_line_content": "            educationalNotesSpecifier.size()); // Trim 'educational-notes='.",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": "empty",
          "new_api": null,
          "old_text": "Expected.MessageStr.empty()",
          "new_text": null,
          "old_line_content": "      if (fallbackI == E && !Expected.MessageStr.empty())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "verifyUnknown",
          "new_api": null,
          "old_text": "verifyUnknown(SM, CapturedDiagnostics)",
          "new_text": null,
          "old_line_content": "    bool HadError = verifyUnknown(SM, CapturedDiagnostics);",
          "new_line_content": "bool DiagnosticVerifier::finishProcessing() {",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "names.push_back(split.first)",
          "new_text": null,
          "old_line_content": "          names.push_back(split.first);",
          "new_line_content": "                   \"each verified diagnostic may only have one \"",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "empty",
          "new_api": null,
          "old_text": "NotesStr.empty()",
          "new_text": null,
          "old_line_content": "        } while (!NotesStr.empty());",
          "new_line_content": "          continue;",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": "emplace",
          "new_api": null,
          "old_text": "Expected.EducationalNotes.emplace(OpenLoc, CloseLoc, names)",
          "new_text": null,
          "old_line_content": "        Expected.EducationalNotes.emplace(OpenLoc, CloseLoc, names);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "printRemainingDiagnostics",
          "new_api": null,
          "old_text": "printRemainingDiagnostics()",
          "new_text": null,
          "old_line_content": "    printRemainingDiagnostics();",
          "new_line_content": "      Result.HadError |= FileResult.HadError;",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "Twine",
          "new_api": null,
          "old_text": "Twine(\"A second {{\")",
          "new_text": null,
          "old_line_content": "                   Twine(\"A second {{\") + fixitExpectationNoneString +",
          "new_line_content": "          NotesStr = split.second;",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": "getFixIts",
          "new_api": null,
          "old_text": "diag.getFixIts().end()",
          "new_text": null,
          "old_line_content": "    FixIts.append(diag.getFixIts().begin(), diag.getFixIts().end());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": "data",
          "new_api": null,
          "old_text": "CheckStr.data()",
          "new_text": null,
          "old_line_content": "        Expected.noneMarkerStartLoc = CheckStr.data() - 2;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 189,
          "old_api": "empty",
          "new_api": null,
          "old_text": "FixIts.empty()",
          "new_text": null,
          "old_line_content": "  if (FixIts.empty())",
          "new_line_content": "/// and actual diagnostics produced), apply fixits to the original source",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": "end",
          "new_api": null,
          "old_text": "FixIts.end()",
          "new_text": null,
          "old_line_content": "  std::sort(FixIts.begin(), FixIts.end(),",
          "new_line_content": "  // Walk the list of diagnostics, pulling out any fixits into an array of just",
          "content_same": false
        },
        {
          "line": 195,
          "old_api": "getRange",
          "new_api": null,
          "old_text": "lhs.getRange().Start.getPointer()",
          "new_text": null,
          "old_line_content": "              return lhs.getRange().Start.getPointer() <",
          "new_line_content": "  SmallVector<llvm::SMFixIt, 4> FixIts;",
          "content_same": false
        },
        {
          "line": 196,
          "old_api": "getRange",
          "new_api": null,
          "old_text": "rhs.getRange().Start.getPointer()",
          "new_text": null,
          "old_line_content": "                     rhs.getRange().Start.getPointer();",
          "new_line_content": "  for (auto &diag : diags)",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": "Twine",
          "new_api": null,
          "old_text": "Twine(\"expected fix-it verification within \"\n                                        \"braces; example: '1-2=text' or '\")",
          "new_text": null,
          "old_line_content": "        addError(CheckStr.data(), Twine(\"expected fix-it verification within \"",
          "new_line_content": "        continue;",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": "Twine",
          "new_api": null,
          "old_text": "Twine(\"'\")",
          "new_text": null,
          "old_line_content": "                                      fixitExpectationNoneString + Twine(\"'\"));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 203,
          "old_api": "getRange",
          "new_api": null,
          "old_text": "lhs.getRange()",
          "new_text": null,
          "old_line_content": "                             return lhs.getRange().Start ==",
          "new_line_content": "  // Sort the fixits by their start location.",
          "content_same": false
        },
        {
          "line": 205,
          "old_api": "getRange",
          "new_api": null,
          "old_text": "rhs.getRange()",
          "new_text": null,
          "old_line_content": "                                    lhs.getRange().End == rhs.getRange().End &&",
          "new_line_content": "            [&](const llvm::SMFixIt &lhs, const llvm::SMFixIt &rhs) -> bool {",
          "content_same": false
        },
        {
          "line": 208,
          "old_api": "end",
          "new_api": null,
          "old_text": "FixIts.end()",
          "new_text": null,
          "old_line_content": "               FixIts.end());",
          "new_line_content": "            });",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": "parseExpectedFixItRange",
          "new_api": null,
          "old_text": "parseExpectedFixItRange(CheckStr, Expected.LineNo, addError)",
          "new_text": null,
          "old_line_content": "              parseExpectedFixItRange(CheckStr, Expected.LineNo, addError)) {",
          "new_line_content": "                                        \"braces; example: '1-2=text' or '\") +",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": "begin",
          "new_api": null,
          "old_text": "swift::removeAdjacentIf(\n                   FixIts.begin(), FixIts.end(),\n                   [](const llvm::SMFixIt &lhs, const llvm::SMFixIt &rhs) {\n                     return lhs.getRange().End.getPointer() >\n                            rhs.getRange().Start.getPointer();\n                   })",
          "new_text": null,
          "old_line_content": "  FixIts.erase(swift::removeAdjacentIf(",
          "new_line_content": "                           [](const llvm::SMFixIt &lhs,",
          "content_same": false
        },
        {
          "line": 213,
          "old_api": "end",
          "new_api": null,
          "old_text": "FixIts.end()",
          "new_text": null,
          "old_line_content": "                   FixIts.begin(), FixIts.end(),",
          "new_line_content": "                              const llvm::SMFixIt &rhs) -> bool {",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": "front",
          "new_api": null,
          "old_text": "CheckStr.front()",
          "new_text": null,
          "old_line_content": "      if (!CheckStr.empty() && CheckStr.front() == '=') {",
          "new_line_content": "      ExpectedFixIt FixIt;",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": "drop_front",
          "new_api": null,
          "old_text": "CheckStr.drop_front()",
          "new_text": null,
          "old_line_content": "        CheckStr = CheckStr.drop_front();",
          "new_line_content": "      FixIt.StartLoc = OpenLoc;",
          "content_same": false
        },
        {
          "line": 218,
          "old_api": "end",
          "new_api": null,
          "old_text": "FixIts.end()",
          "new_text": null,
          "old_line_content": "               FixIts.end());",
          "new_line_content": "                           }),",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": "data",
          "new_api": null,
          "old_text": "CheckStr.data()",
          "new_text": null,
          "old_line_content": "        addError(CheckStr.data(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 221,
          "old_api": "getLLVMSourceMgr",
          "new_api": null,
          "old_text": "SM.getLLVMSourceMgr().getMemoryBuffer(BufferID)",
          "new_text": null,
          "old_line_content": "  auto memBuffer = SM.getLLVMSourceMgr().getMemoryBuffer(BufferID);",
          "new_line_content": "  // to the easy parts of the file, and leave in the tricky cases for the",
          "content_same": false
        },
        {
          "line": 222,
          "old_api": "getBuffer",
          "new_api": null,
          "old_text": "memBuffer->getBuffer()",
          "new_text": null,
          "old_line_content": "  auto bufferRange = memBuffer->getBuffer();",
          "new_line_content": "  // developer to handle manually.",
          "content_same": false
        },
        {
          "line": 225,
          "old_api": "begin",
          "new_api": null,
          "old_text": "bufferRange.begin()",
          "new_text": null,
          "old_line_content": "  const char *LastPos = bufferRange.begin();",
          "new_line_content": "                   [](const llvm::SMFixIt &lhs, const llvm::SMFixIt &rhs) {",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": "end",
          "new_api": null,
          "old_text": "CheckStr.end()",
          "new_text": null,
          "old_line_content": "      for (const char *current = CheckStr.begin(), *end = CheckStr.end();",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 230,
          "old_api": "getRange",
          "new_api": null,
          "old_text": "fix.getRange().Start.getPointer()",
          "new_text": null,
          "old_line_content": "    assert(LastPos <= fix.getRange().Start.getPointer() &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "getRange",
          "new_api": null,
          "old_text": "fix.getRange().Start.getPointer()",
          "new_text": null,
          "old_line_content": "    Result.append(LastPos, fix.getRange().Start.getPointer());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": "getText",
          "new_api": null,
          "old_text": "fix.getText().end()",
          "new_text": null,
          "old_line_content": "    Result.append(fix.getText().begin(), fix.getText().end());",
          "new_line_content": "  std::string Result;",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": "getRange",
          "new_api": null,
          "old_text": "fix.getRange().End.getPointer()",
          "new_text": null,
          "old_line_content": "    LastPos = fix.getRange().End.getPointer();",
          "new_line_content": "    // We cannot handle overlapping fixits, so assert that they don't happen.",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": "back",
          "new_api": null,
          "old_text": "Expected.Fixits.back().push_back(FixIt)",
          "new_text": null,
          "old_line_content": "      Expected.Fixits.back().push_back(FixIt);",
          "new_line_content": "            current += 2;",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": "end",
          "new_api": null,
          "old_text": "bufferRange.end()",
          "new_text": null,
          "old_line_content": "  Result.append(LastPos, bufferRange.end());",
          "new_line_content": "    // Keep anything from the last spot we've checked to the start of the fixit.",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": "back",
          "new_api": null,
          "old_text": "Expected.Fixits.back().empty()",
          "new_text": null,
          "old_line_content": "    if (!Expected.Fixits.empty() && Expected.Fixits.back().empty())",
          "new_line_content": "          }",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": "pop_back",
          "new_api": null,
          "old_text": "Expected.Fixits.pop_back()",
          "new_text": null,
          "old_line_content": "      Expected.Fixits.pop_back();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": "getBufferIdentifier",
          "new_api": null,
          "old_text": "memBuffer->getBufferIdentifier()",
          "new_text": null,
          "old_line_content": "  llvm::raw_fd_ostream outs(memBuffer->getBufferIdentifier(), error,",
          "new_line_content": "    // Replace the content covered by the fixit with the replacement text.",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": "data",
          "new_api": null,
          "old_text": "ExtraChecks.data()",
          "new_text": null,
          "old_line_content": "    Expected.ExpectedEnd = ExtraChecks.data();",
          "new_line_content": "          FixIt.Text += *current++;",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(Expected.ExpectedEnd[-1])",
          "new_text": null,
          "old_line_content": "    while (isspace(Expected.ExpectedEnd[-1]))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 259,
          "old_api": "isValid",
          "new_api": null,
          "old_text": "CapturedDiagnostics[i].Loc.isValid()",
          "new_text": null,
          "old_line_content": "    if (CapturedDiagnostics[i].Loc.isValid())",
          "new_line_content": "                            llvm::sys::fs::OpenFlags::OF_None);",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": "end",
          "new_api": null,
          "old_text": "ExpectedDiagnostics.end()",
          "new_text": null,
          "old_line_content": "  std::reverse(ExpectedDiagnostics.begin(), ExpectedDiagnostics.end());",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": "str",
          "new_api": null,
          "old_text": "\"unexpected \" +\n         getDiagKindString(CapturedDiagnostics[i].Classification) +\n         \" produced: \" + CapturedDiagnostics[i].Message)\n            .str()",
          "new_text": null,
          "old_line_content": "        (\"unexpected \" +",
          "new_line_content": "/// diagnostics for '<unknown>:0' should be considered as unexpected.",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": "getDiagKindString",
          "new_api": null,
          "old_text": "getDiagKindString(CapturedDiagnostics[i].Classification)",
          "new_text": null,
          "old_line_content": "         getDiagKindString(CapturedDiagnostics[i].Classification) +",
          "new_line_content": "static bool",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "findDiagnostic",
          "new_api": null,
          "old_text": "findDiagnostic(CapturedDiagnostics, expected, BufferName)",
          "new_text": null,
          "old_line_content": "        findDiagnostic(CapturedDiagnostics, expected, BufferName);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": "std::get<0>(FoundDiagnosticInfo)",
          "new_api": null,
          "old_text": "std::get<0>(FoundDiagnosticInfo)",
          "new_text": null,
          "old_line_content": "    auto FoundDiagnosticIter = std::get<0>(FoundDiagnosticInfo);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": "end",
          "new_api": null,
          "old_text": "CapturedDiagnostics.end()",
          "new_text": null,
          "old_line_content": "    if (FoundDiagnosticIter == CapturedDiagnostics.end()) {",
          "new_line_content": "  // Make sure all the expected diagnostics appeared.",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": "begin",
          "new_api": null,
          "old_text": "ExpectedDiagnostics.begin()",
          "new_text": null,
          "old_line_content": "        ExpectedDiagnostics.erase(ExpectedDiagnostics.begin()+i);",
          "new_line_content": "    --i;",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": "getText",
          "new_api": null,
          "old_text": "ActualFixIt.getText()",
          "new_text": null,
          "old_line_content": "      if (ActualFixIt.getText() != Expected.Text)",
          "new_line_content": "  return HadError;",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "addError",
          "new_api": null,
          "old_text": "addError(location, message, fix)",
          "new_text": null,
          "old_line_content": "      addError(location, message, fix);",
          "new_line_content": "      if (expected.mayAppear)",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": "getLineColumnRange",
          "new_api": null,
          "old_text": "ActualFixIt.getLineColumnRange(SM, BufferID)",
          "new_text": null,
          "old_line_content": "      auto &ActualRange = ActualFixIt.getLineColumnRange(SM, BufferID);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": "std::get<1>(FoundDiagnosticInfo)",
          "new_api": null,
          "old_text": "std::get<1>(FoundDiagnosticInfo)",
          "new_text": null,
          "old_line_content": "    if (!std::get<1>(FoundDiagnosticInfo)) {",
          "new_line_content": "    auto emitFixItsError = [&](const char *location, const Twine &message,",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "getDiagKindString",
          "new_api": null,
          "old_text": "getDiagKindString(expected.Classification)",
          "new_text": null,
          "old_line_content": "      auto expectedKind = getDiagKindString(expected.Classification);",
          "new_line_content": "                                      SMLoc::getFromPointer(replEndLoc)),",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": "getDiagKindString",
          "new_api": null,
          "old_text": "getDiagKindString(FoundDiagnostic.Classification)",
          "new_text": null,
          "old_line_content": "      auto actualKind = getDiagKindString(FoundDiagnostic.Classification);",
          "new_line_content": "                        replStr);",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": "llvm::Twine(\"expected \")",
          "new_api": null,
          "old_text": "llvm::Twine(\"expected \")",
          "new_text": null,
          "old_line_content": "          llvm::Twine(\"expected \") + expectedKind + \", not \" + actualKind,",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": "getLineColumnRange",
          "new_api": null,
          "old_text": "interleave(\n      ActualFixIts,\n      [&](const CapturedFixItInfo &ActualFixIt) {\n        auto &ActualRange = ActualFixIt.getLineColumnRange(SM, BufferID);\n        OS << \"{{\";\n\n        if (ActualRange.StartLine != DiagnosticLineNo)\n          OS << ActualRange.StartLine << ':';\n        OS << ActualRange.StartCol;\n\n        OS << '-';\n\n        if (ActualRange.EndLine != ActualRange.StartLine)\n          OS << ActualRange.EndLine << ':';\n        OS << ActualRange.EndCol;\n\n        OS << '=';\n\n        for (auto C : ActualFixIt.getText()) {\n          if (C == '\\n')\n            OS << \"\\\\n\";\n          else if (C == '}' || C == '\\\\')\n            OS << '\\\\' << C;\n          else\n            OS << C;\n        }\n        OS << \"}}\";\n      },\n      [&] { OS << ' '; })",
          "new_text": null,
          "old_line_content": "  interleave(",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": "front",
          "new_api": null,
          "old_text": "fixitAlternates.front()",
          "new_text": null,
          "old_line_content": "        missedFixitLoc = fixitAlternates.front().StartLoc;",
          "new_line_content": "          expected.ClassificationStart, expected.ClassificationEnd,",
          "content_same": false
        },
        {
          "line": 310,
          "old_api": "getLineColumnRange",
          "new_api": null,
          "old_text": "ActualFixIt.getLineColumnRange(SM, BufferID)",
          "new_text": null,
          "old_line_content": "        auto &ActualRange = ActualFixIt.getLineColumnRange(SM, BufferID);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": "size",
          "new_api": null,
          "old_text": "FoundDiagnostic.FixIts.size()",
          "new_text": null,
          "old_line_content": "        expected.Fixits.size() < FoundDiagnostic.FixIts.size();",
          "new_line_content": "    for (auto fixitAlternates : expected.Fixits) {",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": "renderFixits",
          "new_api": null,
          "old_text": "renderFixits(actualFixits, BufferID, expected.LineNo)",
          "new_text": null,
          "old_line_content": "          renderFixits(actualFixits, BufferID, expected.LineNo);",
          "new_line_content": "    const bool isUnexpectedFixitsSeen =",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": "getText",
          "new_api": null,
          "old_text": "ActualFixIt.getText()",
          "new_text": null,
          "old_line_content": "        for (auto C : ActualFixIt.getText()) {",
          "new_line_content": "          OS << ActualRange.StartLine << ':';",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": "size",
          "new_api": null,
          "old_text": "Twine(\"actual fix-it\") +\n                                 (actualFixits.size() >= 2 ? \"s\" : \"\") +\n                                 \" seen: \" + actualFixitsStr).str()",
          "new_text": null,
          "old_line_content": "      return ActualFixitsPhrase{(Twine(\"actual fix-it\") +",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": "size",
          "new_api": null,
          "old_text": "actualFixits.size()",
          "new_text": null,
          "old_line_content": "                                 (actualFixits.size() >= 2 ? \"s\" : \"\") +",
          "new_line_content": "    struct ActualFixitsPhrase {",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": "empty",
          "new_api": null,
          "old_text": "expected.Fixits.empty()",
          "new_text": null,
          "old_line_content": "      assert(!expected.Fixits.empty() &&",
          "new_line_content": "                                 \" seen: \" + actualFixitsStr).str(),",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": "front",
          "new_api": null,
          "old_text": "expected.Fixits.front().front()",
          "new_text": null,
          "old_line_content": "      const char *replStartLoc = expected.Fixits.front().front().StartLoc;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 855,
          "old_api": "back",
          "new_api": null,
          "old_text": "expected.Fixits.back().back()",
          "new_text": null,
          "old_line_content": "      const char *replEndLoc = expected.Fixits.back().back().EndLoc;",
          "new_line_content": "    // If we have any expected fixits that didn't get matched, then they are",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": "empty",
          "new_api": null,
          "old_text": "Str.empty()",
          "new_text": null,
          "old_line_content": "  assert(!Str.empty());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": "empty",
          "new_api": null,
          "old_text": "FoundDiagnostic.FixIts.empty()",
          "new_text": null,
          "old_line_content": "      if (FoundDiagnostic.FixIts.empty()) {",
          "new_line_content": "      // of our own.",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": "front",
          "new_api": null,
          "old_text": "Str.front()",
          "new_text": null,
          "old_line_content": "      switch (Str.front()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": "makeActualFixitsPhrase",
          "new_api": null,
          "old_text": "makeActualFixitsPhrase(FoundDiagnostic.FixIts)",
          "new_text": null,
          "old_line_content": "        auto phrase = makeActualFixitsPhrase(FoundDiagnostic.FixIts);",
          "new_line_content": "        /// For example,",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": "drop_front",
          "new_api": null,
          "old_text": "Str.drop_front()",
          "new_text": null,
          "old_line_content": "        Str = Str.drop_front();",
          "new_line_content": "    unsigned Column;",
          "content_same": false
        },
        {
          "line": 367,
          "old_api": "drop_front",
          "new_api": null,
          "old_text": "Str.drop_front()",
          "new_text": null,
          "old_line_content": "        Str = Str.drop_front();",
          "new_line_content": "    enum class OffsetKind : uint8_t { None, Plus, Minus };",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "emitFixItsError",
          "new_api": null,
          "old_text": "emitFixItsError(missedFixitLoc, message, replStartLoc, replEndLoc,\n                      actualFixits)",
          "new_text": null,
          "old_line_content": "      emitFixItsError(missedFixitLoc, message, replStartLoc, replEndLoc,",
          "new_line_content": "        ///                           ^ remove",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "noExtraFixitsMayAppear",
          "new_api": null,
          "old_text": "expected.noExtraFixitsMayAppear()",
          "new_text": null,
          "old_line_content": "    } else if (expected.noExtraFixitsMayAppear() && isUnexpectedFixitsSeen) {",
          "new_line_content": "        if (replStartLoc[-1] == ' ') {",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "empty",
          "new_api": null,
          "old_text": "FoundDiagnostic.FixIts.empty()",
          "new_text": null,
          "old_line_content": "      assert(!FoundDiagnostic.FixIts.empty() &&",
          "new_line_content": "      } else {",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(expected.noneMarkerStartLoc && \"none marker location is null\")",
          "new_text": null,
          "old_line_content": "      assert(expected.noneMarkerStartLoc && \"none marker location is null\");",
          "new_line_content": "        actualFixits = phrase.actualFixits;",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "consumeInteger",
          "new_api": null,
          "old_text": "Str.consumeInteger(10, FirstVal)",
          "new_text": null,
          "old_line_content": "    if (Str.consumeInteger(10, FirstVal)) {",
          "new_line_content": "        break;",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": "data",
          "new_api": null,
          "old_text": "Str.data()",
          "new_text": null,
          "old_line_content": "        diagnoseError(Str.data(),",
          "new_line_content": "        LineOffsetKind = OffsetKind::Minus;",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": "data",
          "new_api": null,
          "old_text": "Str.data()",
          "new_text": null,
          "old_line_content": "        diagnoseError(Str.data(),",
          "new_line_content": "      default:",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": "front",
          "new_api": null,
          "old_text": "expected.Fixits.front().front()",
          "new_text": null,
          "old_line_content": "        replStartLoc = expected.Fixits.front().front().StartLoc;",
          "new_line_content": "             \"some fix-its should be produced here\");",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": "makeActualFixitsPhrase",
          "new_api": null,
          "old_text": "makeActualFixitsPhrase(FoundDiagnostic.FixIts)",
          "new_text": null,
          "old_line_content": "      auto phrase = makeActualFixitsPhrase(FoundDiagnostic.FixIts);",
          "new_line_content": "      std::string message;",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": "front",
          "new_api": null,
          "old_text": "Str.front()",
          "new_text": null,
          "old_line_content": "    if (Str.empty() || Str.front() != ':') {",
          "new_line_content": "                      \"expected line or column number in fix-it verification\");",
          "content_same": false
        },
        {
          "line": 394,
          "old_api": "data",
          "new_api": null,
          "old_text": "Str.data()",
          "new_text": null,
          "old_line_content": "      diagnoseError(Str.data(),",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": "drop_front",
          "new_api": null,
          "old_text": "Str.drop_front()",
          "new_text": null,
          "old_line_content": "    Str = Str.drop_front();",
          "new_line_content": "      if (LineOffsetKind == OffsetKind::None) {",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": "consumeInteger",
          "new_api": null,
          "old_text": "Str.consumeInteger(10, Column)",
          "new_text": null,
          "old_line_content": "    if (Str.consumeInteger(10, Column)) {",
          "new_line_content": "        return ParsedLineAndColumn{None, FirstVal};",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "data",
          "new_api": null,
          "old_text": "Str.data()",
          "new_text": null,
          "old_line_content": "      diagnoseError(Str.data(),",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": "emitFixItsError",
          "new_api": null,
          "old_text": "emitFixItsError(expected.noneMarkerStartLoc, message, replStartLoc,\n                      replEndLoc, actualFixits)",
          "new_text": null,
          "old_line_content": "      emitFixItsError(expected.noneMarkerStartLoc, message, replStartLoc,",
          "new_line_content": "        /// insert space after new last marker.",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": "equals",
          "new_api": null,
          "old_text": "llvm::erase_if(expectedNotes->Names,\n                       [&](StringRef item) { return item.equals(foundName); })",
          "new_text": null,
          "old_line_content": "        llvm::erase_if(expectedNotes->Names,",
          "new_line_content": "        /// @endcode",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "equals",
          "new_api": null,
          "old_text": "item.equals(foundName)",
          "new_text": null,
          "old_line_content": "                       [&](StringRef item) { return item.equals(foundName); });",
          "new_line_content": "        actualFixits += \" \";",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": "empty",
          "new_api": null,
          "old_text": "FoundDiagnostic.EducationalNotes.empty()",
          "new_text": null,
          "old_line_content": "        if (FoundDiagnostic.EducationalNotes.empty()) {",
          "new_line_content": "                      replEndLoc, actualFixits);",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": "addError",
          "new_api": null,
          "old_text": "addError(expectedNotes->StartLoc,\n                   \"expected educational note(s) not seen\")",
          "new_text": null,
          "old_line_content": "          addError(expectedNotes->StartLoc,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": "parseLineAndColumn",
          "new_api": null,
          "old_text": "parseLineAndColumn()",
          "new_text": null,
          "old_line_content": "  if (const auto LineAndCol = parseLineAndColumn()) {",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": "SMLoc::getFromPointer(expectedNotes->StartLoc)",
          "new_api": null,
          "old_text": "SMLoc::getFromPointer(expectedNotes->StartLoc)",
          "new_text": null,
          "old_line_content": "          auto replStartLoc = SMLoc::getFromPointer(expectedNotes->StartLoc);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "value_or",
          "new_api": null,
          "old_text": "LineAndCol->Line.value_or(DiagnosticLineNo)",
          "new_text": null,
          "old_line_content": "    Range.StartLine = LineAndCol->Line.value_or(DiagnosticLineNo);",
          "new_line_content": "      FirstVal = DiagnosticLineNo - FirstVal;",
          "content_same": false
        },
        {
          "line": 938,
          "old_api": "SMLoc::getFromPointer(expectedNotes->EndLoc)",
          "new_api": null,
          "old_text": "SMLoc::getFromPointer(expectedNotes->EndLoc)",
          "new_text": null,
          "old_line_content": "          auto replEndLoc = SMLoc::getFromPointer(expectedNotes->EndLoc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": "front",
          "new_api": null,
          "old_text": "Str.front()",
          "new_text": null,
          "old_line_content": "  if (!Str.empty() && Str.front() == '-') {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": "drop_front",
          "new_api": null,
          "old_text": "Str.drop_front()",
          "new_text": null,
          "old_line_content": "    Str = Str.drop_front();",
          "new_line_content": "  LineColumnRange Range;",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": "erase",
          "new_api": null,
          "old_text": "CapturedDiagnostics.erase(FoundDiagnosticIter)",
          "new_text": null,
          "old_line_content": "    CapturedDiagnostics.erase(FoundDiagnosticIter);",
          "new_line_content": "          llvm::SMFixIt fix(llvm::SMRange(replStartLoc, replEndLoc), actual);",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": "parseLineAndColumn",
          "new_api": null,
          "old_text": "parseLineAndColumn()",
          "new_text": null,
          "old_line_content": "  if (const auto LineAndCol = parseLineAndColumn()) {",
          "new_line_content": "    return None;",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": "value_or",
          "new_api": null,
          "old_text": "LineAndCol->Line.value_or(Range.StartLine)",
          "new_text": null,
          "old_line_content": "    Range.EndLine = LineAndCol->Line.value_or(Range.StartLine);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": "begin",
          "new_api": null,
          "old_text": "ExpectedDiagnostics.begin()",
          "new_text": null,
          "old_line_content": "      ExpectedDiagnostics.erase(ExpectedDiagnostics.begin()+i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "begin",
          "new_api": null,
          "old_text": "ExpectedDiagnostics.begin()",
          "new_text": null,
          "old_line_content": "  auto expectedDiagIter = ExpectedDiagnostics.begin();",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": "end",
          "new_api": null,
          "old_text": "ExpectedDiagnostics.end()",
          "new_text": null,
          "old_line_content": "  while (expectedDiagIter != ExpectedDiagnostics.end()) {",
          "new_line_content": "    // We found the diagnostic, so remove it... unless we allow an arbitrary",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": "begin",
          "new_api": null,
          "old_text": "CapturedDiagnostics.begin()",
          "new_text": null,
          "old_line_content": "    auto I = CapturedDiagnostics.begin();",
          "new_line_content": "      ++i;",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "end",
          "new_api": null,
          "old_text": "CapturedDiagnostics.end()",
          "new_text": null,
          "old_line_content": "    for (auto E = CapturedDiagnostics.end(); I != E; ++I) {",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": "getLocForBufferStart",
          "new_api": null,
          "old_text": "SM.getLocForBufferStart(BufferID)",
          "new_text": null,
          "old_line_content": "  const SourceLoc BufferStartLoc = SM.getLocForBufferStart(BufferID);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": "getEntireTextForBuffer",
          "new_api": null,
          "old_text": "SM.getEntireTextForBuffer(BufferID)",
          "new_text": null,
          "old_line_content": "  StringRef InputFile = SM.getEntireTextForBuffer(BufferID);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": "getIdentifierForBuffer",
          "new_api": null,
          "old_text": "SM.getIdentifierForBuffer(BufferID)",
          "new_text": null,
          "old_line_content": "  StringRef BufferName = SM.getIdentifierForBuffer(BufferID);",
          "new_line_content": "  return Range;",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": "find",
          "new_api": null,
          "old_text": "I->Message.find(expectedDiagIter->MessageStr)",
          "new_text": null,
          "old_line_content": "    if (I->Message.find(expectedDiagIter->MessageStr) == StringRef::npos) {",
          "new_line_content": "        continue;",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "SMLoc::getFromPointer(Loc)",
          "new_api": null,
          "old_text": "SMLoc::getFromPointer(Loc)",
          "new_text": null,
          "old_line_content": "    auto loc = SourceLoc(SMLoc::getFromPointer(Loc));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "GetMessage",
          "new_api": null,
          "old_text": "SM.GetMessage(loc, llvm::SourceMgr::DK_Error, message,\n                              {}, FixIts)",
          "new_text": null,
          "old_line_content": "    auto diag = SM.GetMessage(loc, llvm::SourceMgr::DK_Error, message,",
          "new_line_content": "  // Queue up all of the diagnostics, allowing us to sort them and emit them in",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": "begin",
          "new_api": null,
          "old_text": "expectedDiagIter->MessageRange.begin()",
          "new_text": null,
          "old_line_content": "          SMLoc::getFromPointer(expectedDiagIter->MessageRange.begin());",
          "new_line_content": "      // Otherwise, we found it, break out.",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "Errors.push_back(diag)",
          "new_text": null,
          "old_line_content": "    Errors.push_back(diag);",
          "new_line_content": "  std::vector<llvm::SMDiagnostic> Errors;",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "end",
          "new_api": null,
          "old_text": "expectedDiagIter->MessageRange.end()",
          "new_text": null,
          "old_line_content": "      auto EndLoc = SMLoc::getFromPointer(expectedDiagIter->MessageRange.end());",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": "find",
          "new_api": null,
          "old_text": "InputFile.find(\"expected-\")",
          "new_text": null,
          "old_line_content": "  for (size_t Match = InputFile.find(\"expected-\");",
          "new_line_content": "  std::vector<ExpectedDiagnosticInfo> ExpectedDiagnostics;",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": "find",
          "new_api": null,
          "old_text": "InputFile.find(\"expected-\", Match+1)",
          "new_text": null,
          "old_line_content": "       Match != StringRef::npos; Match = InputFile.find(\"expected-\", Match+1)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": "begin",
          "new_api": null,
          "old_text": "expectedDiagIter->MessageRange.begin()",
          "new_text": null,
          "old_line_content": "      addError(expectedDiagIter->MessageRange.begin(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(\"expected-\")",
          "new_text": null,
          "old_line_content": "    MatchStart = MatchStart.substr(strlen(\"expected-\"));",
          "new_line_content": "                              {}, FixIts);",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": "llvm_unreachable",
          "new_api": null,
          "old_text": "llvm_unreachable(\"unhandled difference from expected diagnostic\")",
          "new_text": null,
          "old_line_content": "      llvm_unreachable(\"unhandled difference from expected diagnostic\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": "startswith",
          "new_api": null,
          "old_text": "MatchStart.startswith(\"note\")",
          "new_text": null,
          "old_line_content": "    if (MatchStart.startswith(\"note\")) {",
          "new_line_content": "  // Scan the memory buffer looking for expected-note/warning/error.",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "erase",
          "new_api": null,
          "old_text": "ExpectedDiagnostics.erase(expectedDiagIter)",
          "new_text": null,
          "old_line_content": "    expectedDiagIter = ExpectedDiagnostics.erase(expectedDiagIter);",
          "new_line_content": "               \"incorrect message found\", fixIt);",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": "startswith",
          "new_api": null,
          "old_text": "MatchStart.startswith(\"warning\")",
          "new_text": null,
          "old_line_content": "    } else if (MatchStart.startswith(\"warning\")) {",
          "new_line_content": "    // Process this potential match.  If we fail to process it, just move on to",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "getDiagKindString",
          "new_api": null,
          "old_text": "getDiagKindString(expected.Classification)",
          "new_text": null,
          "old_line_content": "    std::string message = \"expected \"+getDiagKindString(expected.Classification)",
          "new_line_content": "                             I->Column, *expectedDiagIter->ColumnNo));",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": "startswith",
          "new_api": null,
          "old_text": "MatchStart.startswith(\"remark\")",
          "new_text": null,
          "old_line_content": "    } else if (MatchStart.startswith(\"remark\")) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": "find",
          "new_api": null,
          "old_text": "MatchStart.find(\"{{\")",
          "new_text": null,
          "old_line_content": "    size_t TextStartIdx = MatchStart.find(\"{{\");",
          "new_line_content": "      ExpectedClassification = DiagnosticKind::Error;",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": "data",
          "new_api": null,
          "old_text": "MatchStart.data()",
          "new_text": null,
          "old_line_content": "      addError(MatchStart.data(),",
          "new_line_content": "      ExpectedClassification = DiagnosticKind::Remark;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 62,
      "total_additions": 198,
      "total_deletions": 195,
      "total_api_changes": 455
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 13,
        "api_related_lines": 455,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          53,
          54,
          56,
          57,
          62
        ]
      }
    },
    "api_calls_before": 385,
    "api_calls_after": 389,
    "diff_info": {
      "added_lines": 13,
      "removed_lines": 2,
      "total_diff_lines": 27
    }
  }
}