diff --git a/lib/SILOptimizer/Transforms/PerformanceInliner.cpp b/lib/SILOptimizer/Transforms/PerformanceInliner.cpp
index 74f6bf08387..7cacee99a4b 100644
--- a/lib/SILOptimizer/Transforms/PerformanceInliner.cpp
+++ b/lib/SILOptimizer/Transforms/PerformanceInliner.cpp
@@ -915,7 +915,9 @@ bool SILPerformanceInliner::inlineCallsIntoFunction(SILFunction *Caller) {
     return false;
 
   // Second step: do the actual inlining.
-  for (auto AI : AppliesToInline) {
+  // We inline in reverse order, because for very large blocks with many applies
+  // to inline, splitting the block at every apply would be quadratic.
+  for (auto AI : llvm::reverse(AppliesToInline)) {
     SILFunction *Callee = AI.getReferencedFunctionOrNull();
     assert(Callee && "apply_inst does not have a direct callee anymore");
 
