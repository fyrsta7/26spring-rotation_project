diff --git a/lib/Sema/TypeCheckDecl.cpp b/lib/Sema/TypeCheckDecl.cpp
index c0476dabf98..e5d2abed3b5 100644
--- a/lib/Sema/TypeCheckDecl.cpp
+++ b/lib/Sema/TypeCheckDecl.cpp
@@ -1229,9 +1229,9 @@ static void checkRedeclaration(TypeChecker &tc, ValueDecl *current) {
     }
   } else {
     // Look within a module context.
-    currentDC->getParentModule()->lookupValue({ }, current->getBaseName(),
-                                              NLKind::QualifiedLookup,
-                                              otherDefinitionsVec);
+    currentFile->getParentModule()->lookupValue({ }, current->getBaseName(),
+                                                NLKind::QualifiedLookup,
+                                                otherDefinitionsVec);
     otherDefinitions = otherDefinitionsVec;
   }
 
